(function(n){typeof define=="function"&&define.amd?define(["jquery","jquery-ui","jquery-ui/ui/core","jquery-ui/ui/data","jquery-ui/ui/focusable","jquery-ui/ui/keycode","jquery-ui/ui/tabbable","jquery-ui/ui/version","jquery-ui/ui/widget","jquery-ui/ui/widgets/mouse"],n):n(jQuery)})(function(n){(function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.DataSourceLocale=n.ig.DataSourceLocale||{},n.ig.locale.en.DataSourceLocale={invalidDataSource:"The supplied data source is invalid. It happens to be a scalar.",unknownDataSource:"Cannot determine the data source type. Please specify if it is JSON or XML data.",errorParsingArrays:"There was an error parsing the array data and applying the defined data schema: ",errorParsingJson:"There was an error parsing the JSON data and applying the defined data schema: ",errorParsingXml:"There was an error parsing the XML data and applying the defined data schema: ",errorParsingHtmlTable:"There was an error extracting the data from the HTML Table and applying the schema : ",errorExpectedTbodyParameter:"Expected a tbody or a table as a parameter.",errorTableWithIdNotFound:"The HTML Table with the following ID was not found: ",errorParsingHtmlTableNoSchema:"There was an error parsing the Table DOM: ",errorParsingJsonNoSchema:"There was an error parsing/evaluating the JSON string: ",errorParsingXmlNoSchema:"There was an error parsing the XML string: ",errorXmlSourceWithoutSchema:"The supplied data source is an xml document, but there is no defined data schema ($.IgDataSchema) ",errorUnrecognizedFilterCondition:" The filter condition that was passed was not recognized: ",errorRemoteRequest:"The remote request to fetch data has failed: ",errorSchemaMismatch:"The input data doesn't match the schema, the following field couldn't be mapped: ",errorSchemaFieldCountMismatch:"The input data doesn't match the schema in terms of number of fields. ",errorUnrecognizedResponseType:"The response type was either not set correctly, or it was not possible to detect it automatically. Please set settings.responseDataType and/or settings.responseContentType.",hierarchicalTablesNotSupported:"Tables are not supported for HierarchicalSchema",cannotBuildTemplate:"The jQuery template could not be built. There are no records present in the data source, and no columns defined.",unrecognizedCondition:"Unrecognized filtering condition in the following expression: ",fieldMismatch:"The following expression contains an invalid field or filtering condition: ",noSortingFields:"There are no fields specified. You need to specify at least one field to sort by, when calling sort().",filteringNoSchema:"There is no schema / fields specified. You need to specify a schema with field definitions and types to be able to filter the data source.",noSaveChanges:"Saving changes was not successful. Server did not return Success object or returned Success:false.",errorUnexpectedCustomFilterFunction:"An unexpected value was provided for a custom filtering function. A function or string is expected."},n.ig.DataSourceLocale.locale=n.ig.DataSourceLocale.locale||n.ig.locale.en.DataSourceLocale,n.ig.locale.en.DataSourceLocale})(n),function(){n=n||{},n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.documentsCore=n.ig.locale.en.documentsCore||{};var t=n.ig.locale.en.documentsCore;return t.LE_ArgumentOutOfRangeException_ValueError="Invalid {0} value. It must be between {1} and {2}.",t.LE_DocumentEncryptedException_DefaultMessage="The document is encrypted and must be opened with a password.",t.LE_EncryptionAlgorithmNotSupportedException_DefaultMessage="The document is encrypted with an unsupported encryption algorithm and cannot be decrypted.",t.LE_FormatException_TypeError="Incorrect {0} format: {0}.",t.LE_InvalidPasswordException_DefaultMessage="The password used to open the encrypted document is incorrect.",n.ig.documentsCore=n.ig.documentsCore||{},n.ig.documentsCore.locale=n.ig.documentsCore.locale||t,t}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.DataChart=n.ig.DataChart||{},n.ig.PieChart=n.ig.PieChart||{},n.ig.Map=n.ig.Map||{},n.ig.Financial=n.ig.Financial||{},n.ig.ShapeChartWidget=n.ig.ShapeChartWidget||{},n.ig.locale.en.DataChart={seriesName:"must specify series name option when setting options.",axisName:"must specify axis name option when setting options.",invalidLabelBinding:"There is no such value for the labels to bind.",invalidSeriesAxisCombination:"Invalid combination of series and axis types: ",close:"Close",overview:"Overview",zoomOut:"Zoom Out",zoomIn:"Zoom In",resetZoom:"Reset Zoom",seriesUnsupportedOption:"the current series type does not support the option: ",seriesTypeNotLoaded:"the JavaScript file containing the requested series type has not been loaded or the series type is invalid: ",axisTypeNotLoaded:"the JavaScript file containing the requested axis type has not been loaded or the axis type is invalid: ",axisUnsupportedOption:"the current axis type does not support the option: ",dataChart_TrendLinesNotLoaded:"Trend lines functionality was accessed but chart trend line module was not loaded.",dataChart_NumberAbbreviatorNotLoaded:"Number abbreviation functionality was used, but the number abbreviator module has not been loaded.",dataChart_VisualDataNotLoaded:"VisualData functionality was accessed but chart interaction module has not been loaded.",dataChart_InteractivityNotLoaded:"Interactivity functionality was accessed but chart interaction module has not been loaded.",financialSeries_Close:"Close",financialSeries_High:"High",financialSeries_Low:"Low",financialSeries_Open:"Open",financialSeries_Volume:"Volume"},n.ig.locale.en.Map={seriesName:"must specify series name option when setting options.",axisName:"must specify axis name option when setting options.",invalidLabelBinding:"There is no such value for the labels to bind.",invalidSeriesAxisCombination:"Invalid combination of series and axis types: ",close:"Close",overview:"Overview",zoomOut:"Zoom Out",zoomIn:"Zoom In",resetZoom:"Reset Zoom",seriesUnsupportedOption:"the current series type does not support the option: ",seriesTypeNotLoaded:"the JavaScript file containing the requested series type has not been loaded or the series type is invalid: ",axisTypeNotLoaded:"the JavaScript file containing the requested axis type has not been loaded or the axis type is invalid: ",axisUnsupportedOption:"the current axis type does not support the option: ",dataChart_TrendLinesNotLoaded:"Trend lines functionality was accessed but chart trend line module was not loaded.",dataChart_NumberAbbreviatorNotLoaded:"Number abbreviation functionality was used, but the number abbreviator module has not been loaded.",dataChart_VisualDataNotLoaded:"VisualData functionality was accessed but chart interaction module has not been loaded.",dataChart_InteractivityNotLoaded:"Interactivity functionality was accessed but chart interaction module has not been loaded."},n.ig.locale.en.Financial={financialChart_RangeSelector_OneMonth:"1M",financialChart_RangeSelector_ThreeMonths:"3M",financialChart_RangeSelector_SixMonths:"6M",financialChart_RangeSelector_YTD:"YTD",financialChart_RangeSelector_OneYear:"1Y",financialChart_RangeSelector_All:"All",financialChart_IndicatorMenu_Header:"Indicators",financialChart_IndicatorMenu_OverlaysCategoryHeader:"Overlays",financialChart_IndicatorMenu_TrendlinesCategoryHeader:"Trendlines",financialChart_IndicatorMenu_VolumeCategoryHeader:"Volumes",financialChart_IndicatorMenu_IndicatorsCategoryHeader:"Standalone Indicators",financialChart_IndicatorsMenu_Overlay_BollingerBands:"Bollinger Bands",financialChart_IndicatorsMenu_Overlay_PriceChannel:"Price Channel",financialChart_IndicatorsMenu_TrendLine_LinearFit:"Linear Fit",financialChart_IndicatorsMenu_TrendLine_QuadraticFit:"Quadratic Fit",financialChart_IndicatorsMenu_TrendLine_CubicFit:"Cubic Fit",financialChart_IndicatorsMenu_TrendLine_QuarticFit:"Quartic Fit",financialChart_IndicatorsMenu_TrendLine_QuinticFit:"Quintic Fit",financialChart_IndicatorsMenu_TrendLine_LogarithmicFit:"Logarithmic Fit",financialChart_IndicatorsMenu_TrendLine_ExponentialFit:"Exponential Fit",financialChart_IndicatorsMenu_TrendLine_PowerLawFit:"PowerLaw Fit",financialChart_IndicatorsMenu_TrendLine_SimpleAverage:"Simple Average",financialChart_IndicatorsMenu_TrendLine_ExponentialAverage:"Exponential Average",financialChart_IndicatorsMenu_TrendLine_ModifiedAverage:"Modified Average",financialChart_IndicatorsMenu_TrendLine_CumulativeAverage:"Cumulative Average",financialChart_IndicatorsMenu_TrendLine_WeightedAverage:"Weighted Average",financialChart_IndicatorsMenu_Volume_Column:"Column",financialChart_IndicatorsMenu_Volume_Line:"Line",financialChart_IndicatorsMenu_Volume_Area:"Area",financialChart_IndicatorsMenu_Indicator_AbsoluteVolumeOscillator:"Absolute Volume Oscillator",financialChart_IndicatorsMenu_Indicator_AccumulationDistribution:"Accumulation Distribution",financialChart_IndicatorsMenu_Indicator_AverageDirectionalIndex:"Average Directional Index",financialChart_IndicatorsMenu_Indicator_AverageTrueRange:"Average True Range",financialChart_IndicatorsMenu_Indicator_BollingerBandWidth:"Bollinger Band Width",financialChart_IndicatorsMenu_Indicator_ChaikinOscillator:"Chaikin Oscillator",financialChart_IndicatorsMenu_Indicator_ChaikinVolatility:"Chaikin Volatility",financialChart_IndicatorsMenu_Indicator_CommodityChannelIndex:"Commodity Channel Index",financialChart_IndicatorsMenu_Indicator_DetrendedPriceOscillator:"Detrended Price Oscillator",financialChart_IndicatorsMenu_Indicator_EaseOfMovement:"Ease Of Movement",financialChart_IndicatorsMenu_Indicator_FastStochasticOscillator:"Fast Stochastic Oscillator",financialChart_IndicatorsMenu_Indicator_ForceIndex:"Force Index",financialChart_IndicatorsMenu_Indicator_FullStochasticOscillator:"Full Stochastic Oscillator",financialChart_IndicatorsMenu_Indicator_MarketFacilitationIndex:"Market Facilitation Index",financialChart_IndicatorsMenu_Indicator_MassIndex:"Mass Index",financialChart_IndicatorsMenu_Indicator_MedianPrice:"Median Price",financialChart_IndicatorsMenu_Indicator_MoneyFlowIndex:"Money Flow Index",financialChart_IndicatorsMenu_Indicator_MovingAverageConvergenceDivergence:"MACD",financialChart_IndicatorsMenu_Indicator_NegativeVolumeIndex:"Negative Volume Index",financialChart_IndicatorsMenu_Indicator_OnBalanceVolume:"On Balance Volume",financialChart_IndicatorsMenu_Indicator_PercentagePriceOscillator:"Percentage Price Oscillator",financialChart_IndicatorsMenu_Indicator_PercentageVolumeOscillator:"Percentage Volume Oscillator",financialChart_IndicatorsMenu_Indicator_PositiveVolumeIndex:"Positive Volume Index",financialChart_IndicatorsMenu_Indicator_PriceVolumeTrend:"Price Volume Trend",financialChart_IndicatorsMenu_Indicator_RateOfChangeAndMomentum:"ROC",financialChart_IndicatorsMenu_Indicator_RelativeStrengthIndex:"RSI",financialChart_IndicatorsMenu_Indicator_SlowStochasticOscillator:"Slow Stochastic Oscillator",financialChart_IndicatorsMenu_Indicator_StandardDeviation:"Standard Deviation",financialChart_IndicatorsMenu_Indicator_StochRSI:"Stoch RSI",financialChart_IndicatorsMenu_Indicator_TRIX:"TRIX",financialChart_IndicatorsMenu_Indicator_TypicalPrice:"Typical Price",financialChart_IndicatorsMenu_Indicator_UltimateOscillator:"Ultimate Oscillator",financialChart_IndicatorsMenu_Indicator_WeightedClose:"Weighted Close",financialChart_IndicatorsMenu_Indicator_WilliamsPercentR:"Williams %R"},n.extend(n.ig.locale.en.Financial,n.ig.locale.en.DataChart),n.ig.locale.en.ShapeChartWidget={breakEvenTitle_BreakEven:"Break Even",breakEvenTitle_FixedCost:"Fixed Cost",breakEvenTitle_LossArea:"Loss Area",breakEvenTitle_MarginalProfit:"Marginal Profit",breakEvenTitle_ProfitArea:"Profit Area",breakEvenTitle_SafetyMargin:"Safety Margin",breakEvenTitle_SalesRevenue:"Sales Revenue",breakEvenTitle_TotalCost:"Total Cost",breakEvenTitle_VariableCost:"Variable Cost"},n.extend(n.ig.locale.en.ShapeChartWidget,n.ig.locale.en.DataChart),n.ig.DataChart.locale=n.ig.DataChart.locale||n.ig.locale.en.DataChart,n.ig.PieChart.locale=n.ig.PieChart.locale||n.ig.locale.en.PieChart,n.ig.Map.locale=n.ig.Map.locale||n.ig.locale.en.Map,n.ig.Financial.locale=n.ig.Financial.locale||n.ig.locale.en.Financial,n.ig.ShapeChartWidget.locale=n.ig.ShapeChartWidget.locale||n.ig.locale.en.ShapeChartWidget,n.ig.locale.en}(n),function(){n=n||{},n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.excel=n.ig.locale.en.excel||{};var t=n.ig.locale.en.excel;return t.DefaultTotalLabel="Total",t.Error_AnchoredReference="Attempt to access {0} as an unanchored reference",t.Error_ExplicitThis="{0} - Explicit This not supported",t.Error_ExternalRange="Range contains External Reference",t.Error_FormulaNotSupported="{0} - Attempt to access formula on a reference that doesn't support formulas",t.Error_Internal="An internal error occurred in method {0}.",t.Error_InvalidFunction="Invalid function '{0}' at {1}.",t.Error_InvalidFunctionArgCountTooFew="The function '{0}' referenced at {1} does not contain the correct number of arguments. The function requires a minimum of {2} parameter(s).",t.Error_InvalidFunctionArgCountTooMany="The function '{0}' referenced at {1} does not contain the correct number of arguments. The argument count should not exceed {2} parameter(s).",t.Error_InvalidNumberSystemDigit="Invalid digit of '{0}' encountered in the value '{1}' for the number system with base of {2}.",t.Error_InvalidOperand="Invalid Operand",t.Error_InvalidOperatorArgCount="The '{0}' function must accept {1} arguments.",t.Error_InvalidReference="Invalid or unavailable reference",t.Error_Location="line {0} col {1}",t.Error_MethodNotSupported="{0} does not support {1}.",t.Error_NoCurrentRangeElement="No current Range Element",t.Error_NullFunctionResult="The evaluation of '{0}' returned a null value.",t.Error_NullOperand="Null operand",t.Error_ParseRef="Unknown reference at {0}.",t.Error_RangeFromLast="fromT.Last not set",t.Error_RangeFromNull="RefRange: from is null",t.Error_RangeFromRefBase="RefRange: from is not a RefBase : {0}",t.Error_RangeLast="RefRange Validate: last tuples [{0}] != [{1}]",t.Error_RangeNormalizeScope="RefRange Normalize: bad scope [{0}/{1}]",t.Error_RangeToNull="RefRange: to is null",t.Error_RangeToRefBase="RefRange: to is not a RefBase : {0}",t.Error_RangeTuple="RefRange Validate: tuples [{0}] !=  [{1}]",t.Error_RangeValidateCount="RefRange Validate: from count {0} != to count {1}",t.Error_ReadOnlyReference="{0} - Attempt to set value on readonly reference",t.Error_ReferenceNotEumerable="{0} is not an enumerable reference",t.Error_RefMalformed="{0} - Malformed Reference  {1}",t.Error_RP_ContainsBase="RefParser.Contains - Empty Base",t.Error_RP_ContainsTarget="RefParser.Contains - Empty Target",t.Error_RP_EmptyElement="Invalid reference {0}. Empty element encountered at location {1}.",t.Error_RP_EmptyReference="Invalid reference {0}. Reference is empty.",t.Error_RP_MalformedExtra="RefParser Malformed Reference: Multiple [{0}] found in [{1}]",t.Error_RP_MalformedUnexpected="RefParser Malformed Reference: Unexpected [{0}] found in [{1}]",t.Error_RP_MergeRelativeBase="RefParser.Merge: Base is Relative",t.Error_RP_MissingCloseParenthesis="Invalid reference {0}. Missing close parenthesis.",t.Error_RP_MissingEndQuotes="Invalid reference {0}. Missing end quotes.",t.Error_RT_Expected="RefTuple: Expected [{0}] in [{1}]",t.Error_RT_InvalidScope="Invalid scope: {0}.",t.Error_RT_InvalidScope_CharactersAfterClosingQuotes="Characters encountered after closing double quotes in {0} scope at location {1}.",t.Error_RT_InvalidTuple_CharactersAfterScopeEnd="Invalid element {0}. Characters encountered after the end of the scope.",t.Error_RT_InvalidTuple_MissingCloseParenthesis="Invalid element {0}. Missing close parenthesis.",t.Error_RT_InvalidTuple_MissingEndQuotes="Invalid element {0}. Missing end quotes.",t.Error_RT_InvalidTuple_NamePortionEmpty="Invalid element {0}. Element name portion empty.",t.Error_RT_InvalidTuple_ScopeIndexLarge="Invalid element {0}. Index {1} is invalid: {2}.",t.Error_RT_InvalidTuple_UnescapedCharacter="Unescaped {0} character encountered in {1} at location {2}.",t.Error_RT_NullRefName="RefTuple: null RefName",t.Error_RT_Unexpected="RefTuple: unexpected [{0}] in [{1}]",t.Error_ScopeAllNotLast="{0} - Scope All must appear in last element  {1}",t.Error_UCErrorCode_Div="Divide by zero",t.Error_UCErrorCode_Fail="Fail",t.Error_UCErrorCode_NA="Not applicable",t.Error_UCErrorCode_Name="Invalid name",t.Error_UCErrorCode_Null="Null Value",t.Error_UCErrorCode_Num="Invalid numeric values in the function or formula.",t.Error_UCErrorCode_Ok="Succeed",t.Error_UCErrorCode_Reference="Invalid or unavailable reference",t.Error_UCErrorCode_Unknown="Invalid code",t.Error_UCErrorCode_Value="Incorrect type of argument or operand.",t.Error_UnexpectedScope="{0} - Unexpected scope for Parent {1}",t.Error_UnknownRange="Unknown Range Type",t.Error_UnknownRefType="{0} - Unknown RefType  {1}",t.Error_UnknownScope="{0} - Unknown scope  {1}",t.Error_UnresolvedExternal="Unresolved external reference",t.GenerateTableColumnName="Column",t.GenerateTableName="Table",t.LD_Chart_AxisDisplayUnits="Hundreds:Hundreds, Thousands:Thousands, TenThousands:x 10000, HundredThousands:x 100000, Millions:Millions, TenMillions:x 10000000, HundredMillions:x 100000000, ThousandMillions:Billions, MillionMillions:Trillions",t.LD_Fallback_ChartEx_Line1="This chart isn't available in your version of Excel.",t.LD_Fallback_ChartEx_Line2="Editing this shape or saving this workbook into a different file format will permanently break the chart.",t.LE_AllMustHavGuidsIfAnyHasThem="Can not set GenerateGuidsForGroups to false if any existing group has a Guid.",t.LE_ArgumentException_AnchorCellFromOtherWorksheet="The cell specified does not exist on the same worksheet as the shape.",t.LE_ArgumentException_ArrayFormulaMustHaveSingleRegion="An array formula can only be applied to one cell region.",t.LE_ArgumentException_ArrayTooSmall="The array is not big enough to copy all values to it.",t.LE_ArgumentException_CannotAddStandardTableStyle="A standard table style cannot be added to the CustomTableStyleCollection.",t.LE_ArgumentException_CannotApplyDVRuleToTotalCell="One or more cells in the specified reference are total cells in a table and cannot have a data validation rule applied.",t.LE_ArgumentException_CannotCreateEmptyColorInfo="The empty color cannot be used to create a WorkbookColorInfo instance.",t.LE_ArgumentException_CellMustBeOnSameWorksheetAsReferencesCollection="The cell must be from the same worksheet as the reference collection.",t.LE_ArgumentException_CellShiftedOffWorksheet="The cell has been deleted or shifted off the worksheet and no longer represents a worksheet position.",t.LE_ArgumentException_CellsInTableFromOtherWorksheet="The region specified is not from the same worksheet as the data table.",t.LE_ArgumentException_CellValueStringLength="String values assigned to a cell cannot have a length greater than {0}.",t.LE_ArgumentException_ColumnFormulaAlreadyAppliedToCell="The formula is applied to a cell already. Clone it to use it as the column formula.",t.LE_ArgumentException_ColumnFromDifferentWorksheet="The column does not belong to the same worksheet as this collection.",t.LE_ArgumentException_ColumnInputCellFromOtherWorksheet="The specified column input cell does not exist on the same worksheet as the data table.",t.LE_ArgumentException_ColumnNotInTable="The column is from a different table.",t.LE_ArgumentException_ColumnRemovedFromWorksheet="The column has been removed from the worksheet.",t.LE_ArgumentException_ColumnsToRepeatAtLeftOutsideRange="The range is outside the range of available columns in the worksheet.",t.LE_ArgumentException_CommentTooLong="The comment length must be less than 255 characters.",t.LE_ArgumentException_CustomViewNameAlreadyExists='A custom view with the name "{0}" already exists.',t.LE_ArgumentException_DefaultTableStyleNotInWorkbook="The specified table style is not in the CustomTableStyles or StandardTableStyles collections.",t.LE_ArgumentException_DisplayTextTooLong="The hyperlink display text must be less than 256 characters.",t.LE_ArgumentException_DuplicateDisplayValue="The specified display value is already in the collection.",t.LE_ArgumentException_DuplicateFixedDateGroup="The specified FixedDateGroup is already in the collection.",t.LE_ArgumentException_DuplicateTableStyle="The specified style is already in a CustomTableStyleCollection.",t.LE_ArgumentException_DuplicateTableStyleName_Existing="The specified name which matches that of another style in the collection.",t.LE_ArgumentException_DuplicateTableStyleName_New="The specified style has a name which matches another style in the collection.",t.LE_ArgumentException_DuplicateWorksheetProtectedRangeTitle="A range with the title '{0}' already exists.",t.LE_ArgumentException_DV_ArrayFormulaCannotBeUsed="An ArrayFormula cannot be applied as the {0}.",t.LE_ArgumentException_DV_CellFromOtherWorksheet="The cell does not belong to the same worksheet as the collection of data validation rules.",t.LE_ArgumentException_DV_ConstraintFormulaMustBeNumberOrReference="The {0} must be set to a number, a numeric expression, or a reference to a single cell.",t.LE_ArgumentException_DV_FormulaCannotBeNull="The {0} cannot be set to null while the data validation rule is applied to a worksheet.",t.LE_ArgumentException_DV_FormulaCannotFindNamedReference="The {0} contains a named reference that does not exist in the Workbook.",t.LE_ArgumentException_DV_FormulaCannotFindWorksheetReference="The {0} contains a reference on a worksheet that does not exist in the Workbook.",t.LE_ArgumentException_DV_FormulaCannotReferenceOtherWorkbook="The {0} cannot contain a reference to an external Workbook.",t.LE_ArgumentException_DV_FormulaInvalidForWorkbookFormat="The {0} references cells that are not valid in the {1} workbook format.",t.LE_ArgumentException_DV_InvalidAddress="The specified address is not a valid cell or regions address.",t.LE_ArgumentException_DV_InvalidExcelDate="The specified date cannot be represented in Excel.",t.LE_ArgumentException_DV_InvalidFormula="Invalid formula used in the data validation rule.",t.LE_ArgumentException_DV_InvalidMessageLength="The {0} cannot be more than {1} characters.",t.LE_ArgumentException_DV_ListFormulaCannotHaveEmptyString="The string constant in the ValuesFormula cannot be an empty string.",t.LE_ArgumentException_DV_ListFormulaMustBeStringOrReference="The ValuesFormula must be set to a string constant or a reference to a single cell or region in the same Workbook.",t.LE_ArgumentException_DV_ListFormulaReferenceMustBeOneDimensional="The ValuesFormula contains a region reference that has multiple rows and columns. The region must contain one row or one column.",t.LE_ArgumentException_DV_LowerGreaterThanUpperContraint="The value of the lower constraint must be less than or equal to the upper constraint.",t.LE_ArgumentException_DV_MustHaveOneAcceptedValue="At least one value must be specified as an accepted value.",t.LE_ArgumentException_DV_ReferencesAlreadyContainDVs="The specified references already contain one or more data validation rules.",t.LE_ArgumentException_DV_ReferencesFromOtherWorksheet="The references collection does not belong to the same worksheet as the collection of data validation rules.",t.LE_ArgumentException_DV_RegionFromOtherWorksheet="The region does not belong to the same worksheet as the collection of data validation rules.",t.LE_ArgumentException_DV_RuleAppliedOnOtherWorksheet="The data validation rule is applied to another worksheet already.",t.LE_ArgumentException_DV_UpperLessThanLowerContraint="The value of the upper constraint must be greater than or equal to the lower constraint.",t.LE_ArgumentException_EditRangeAlreadyOwned="The range is already in a worksheet's AllowedEditRanges.",t.LE_ArgumentException_EditRangeHasRangeFromOtherWorksheet="The edit range has a range from a different worksheet than the AllowedEditRanges.",t.LE_ArgumentException_EmptyCustomList="There must be at least one string in the list.",t.LE_ArgumentException_EndIndexLessThanZero="The end of the range must be greater than or equal to zero.",t.LE_ArgumentException_FileDoesntContainsWorkbookStream="The specified stream or file does not contain a valid workbook.",t.LE_ArgumentException_FormulaReferencesInvalidCells="The specified formula references cells which are not supported in the workbook's current file format.",t.LE_ArgumentException_HashSetFull="There are too many items in the hash set.",t.LE_ArgumentException_HyperlinkAlreadyOwned="The hyperlink already belongs to a hyperlinks collection.",t.LE_ArgumentException_HyperlinkSourceFromOtherWorksheet="The hyperlink has a source cell or region from a different worksheet.",t.LE_ArgumentException_HyperlinkTargetFromOtherWorkbook="The target is from a different workbook than the owner of the hyperlink.",t.LE_ArgumentException_InfiniteColumnWidth="The column width cannot be infinity.",t.LE_ArgumentException_Interval="Interval parameter should be one of the values in DateInterval enumeration",t.LE_ArgumentException_IntervalStr="Interval parameter couldn't be converted to one of the values in DateInterval enumeration",t.LE_ArgumentException_InvalidCellAddress="The address specified is not a valid cell address.",t.LE_ArgumentException_InvalidCommentPositioningMode="Only the DontMoveOrSizeWithCells and MoveAndSizeWithCells ShapePositioningModes can be applied to a comment shape.",t.LE_ArgumentException_InvalidCustomFilterOperandNumber="The value cannot be infinity or NaN.",t.LE_ArgumentException_InvalidCustomFilterOperator="When the comparison value is not a string, the comparison operator cannot be BeginsWith, DoesNotBeginWith, Contains, DoesNotContain, EndsWith, or DoesNotEndWith.",t.LE_ArgumentException_InvalidDatePeriodFilterValue="The value is not within range. For a filter type of Month, it must be 1-12. For a filter type of Quarter, it must be 1-4.",t.LE_ArgumentException_InvalidDpi="The specified Dpi value is invalid.",t.LE_ArgumentException_InvalidExcelDate="The value cannot be expressed as a date in Excel.",t.LE_ArgumentException_InvalidFileFormat="Invalid or unrecognized file format.",t.LE_ArgumentException_InvalidFormula="The specified formula was invalid.",t.LE_ArgumentException_InvalidGradientStopColor="Automatic and system colors cannot be used in gradient stops.",t.LE_ArgumentException_InvalidNamedReferenceName="The name is not a valid named reference name.",t.LE_ArgumentException_InvalidPaletteColor_EmptyOrSystem="Empty or system colors cannot be added to the palette.",t.LE_ArgumentException_InvalidPaletteColor_NonOpaque="Only opaque colors can be added to the palette.",t.LE_ArgumentException_InvalidReferencesString="The references value is not correctly formatted.",t.LE_ArgumentException_InvalidRegionAddress="The address specified is not a valid region address.",t.LE_ArgumentException_InvalidRowOrColumnRange="Invalid row or column range.",t.LE_ArgumentException_InvalidSeriesValues="Invalid series values. There must be at least one value and each value must either be a string or an object that can be converted to a double.",t.LE_ArgumentException_InvalidTarget="The hyperlink target must be a string, WorksheetCell, WorksheetRegion, or NamedReference.",t.LE_ArgumentException_InvalidTopOrBottomFilterValue="The value must be between 1 and 500.",t.LE_ArgumentException_InvalidWorksheetName="The worksheet name cannot contain any of the following characters:\r\n\t\t: \\ / ? * [ ]",t.LE_ArgumentException_InvalidWorksheetNameStartingQuote="The worksheet name cannot start or end with a single quote.",t.LE_ArgumentException_LessThanTwoGradientStops="There must be at least two gradient stops specified.",t.LE_ArgumentException_NamedReferenceNameTooLong="The name of the named reference cannot be more than 255 characters.",t.LE_ArgumentException_NaNDefaultColumnWidth="NaN cannot be used as the default column width.",t.LE_ArgumentException_NewRegionOverlapsFilterArea="The oeration is attempting to change a filtered range on your worksheet and cannot be completed. To complete this operation, AutoFilters in the sheet need to be removed.",t.LE_ArgumentException_NewTableRegionCannotMoveHeaders="The new table region cannot move the headers to a new row.",t.LE_ArgumentException_NewTableRegionFromWrongWorksheet="The specified region not from the same worksheet as the table.",t.LE_ArgumentException_NewTableRegionMustHaveDataRows="The new table region must contain at least one data row.",t.LE_ArgumentException_NewTableRegionOverlapOld="The new table region must overlap with the previous table region.",t.LE_ArgumentException_NewTableRegionOverlapsBlockingValue="The table cannot be resized to the specified region because it includes a multi-cell array formula or data table.",t.LE_ArgumentException_NewTableRegionOverlapsMergedRegion="The table cannot be resized to the specified region because it includes a merged cell.",t.LE_ArgumentException_NewTableRegionOverlapsOtherTable="The table cannot be resized to the specified region because it includes another table.",t.LE_ArgumentException_NoRegionsInArray="The specified array has no regions.",t.LE_ArgumentException_NotEnum="Type '{0}' is not an enum",t.LE_ArgumentException_NotSupportedCodePage="Not supported code page",t.LE_ArgumentException_NPer="nPer could not be 0",t.LE_ArgumentException_NPerFunction="Wrong combination of parameters for NPer function",t.LE_ArgumentException_PA_PrintAreasCannotOverlap="The specified print area overlaps with one of the existing print areas.",t.LE_ArgumentException_ParentStyleFromOtherWorkbook="The specified style is not from the same workbook as the cell format.",t.LE_ArgumentException_PB_CantInsertBreakAtIndex="This collection does not support inserting items at an index.",t.LE_ArgumentException_PB_CantSetBreakAtIndex="This collection does not support setting items at an index.",t.LE_ArgumentException_PB_MustBeWithinPrintArea="The page break must be within the print area.",t.LE_ArgumentException_PB_PageBreakCantBeA1Cell="Cannot insert a page break at the top-left of the worksheet.",t.LE_ArgumentException_PB_PageBreakCantBeBeforeLeftColumn="Cannot insert a page break at the left of the worksheet.",t.LE_ArgumentException_PB_PageBreakCantBeBeforeTopRow="Cannot insert a page break at the top of the worksheet.",t.LE_ArgumentException_PB_PageBreaksCannotAddExistingInstance="The specified instance already exists in the collection.",t.LE_ArgumentException_PB_PageBreaksCannotOverlap="The page break cannot overlap with other page breaks on the worksheet.",t.LE_ArgumentException_PB_PrintAreaMustBeInPrintAreas="The page break is in a print area which is not in the PrintAreas collection.",t.LE_ArgumentException_PB_PrintAreaMustBeOnSameWorksheet="The page break is in a print area which is not on the same worksheet as the page breaks collection.",t.LE_ArgumentException_Pmt="Pmt could not be 0",t.LE_ArgumentException_PrintAreaShiftedOffWorksheet="The page break is in a print area which has been shifted off the worksheet and no longer represent a valid range of cells.",t.LE_ArgumentException_RangeFromOtherWorksheetThanProtectedRange="The specified range is from a different worksheet than the edit range.",t.LE_ArgumentException_RegionMustBeOnSameWorksheet="The region must be from the same worksheet.",t.LE_ArgumentException_RegionMustBeOnSameWorksheetAsReferencesCollection="The region must be from the same worksheet as the reference collection.",t.LE_ArgumentException_RegionsFromMixedWorksheets="All regions specified in the array must be from the same worksheet.",t.LE_ArgumentException_RegionShiftedOffWorksheet="The region has been shifted off the worksheet and no longer represents a valid range of cells.",t.LE_ArgumentException_RegionsShiftedOffWorksheet="One or more regions specified have been shifted off the worksheet and no longer represent a valid range of cells.",t.LE_ArgumentException_RowFromDifferentWorksheet="The row does not belong to the same worksheet as this collection.",t.LE_ArgumentException_RowInputCellFromOtherWorksheet="The specified row input cell does not exist on the same worksheet as the data table.",t.LE_ArgumentException_RowRemovedFromWorksheet="The row has been removed from the worksheet.",t.LE_ArgumentException_SelectedWorksheetFromOtherWorkbook='The worksheet does not belong to the workbook associated with these window options."',t.LE_ArgumentException_ShapeCannotBeAdded="The specified shape cannot be added to a shapes collection.",t.LE_ArgumentException_SourceFromOtherWorksheetThanHyperlink="The specified source cell or region is from a different worksheet than the hyperlink.",t.LE_ArgumentException_StartIndexLessThanZero="The start of the range must be greater than or equal to zero.",t.LE_ArgumentException_StyleNameAlreadyExists='A style with the name "{0}" already exists in the workbook.',t.LE_ArgumentException_StyleNameTooLong="The style name cannot be more than 255 characters.",t.LE_ArgumentException_TableColumnRemovedFromTable="The table column has been removed from the table.",t.LE_ArgumentException_TableStyleFromOtherWorkbook="The specified WorksheetTableStyle does not belong to the same workbook as the table.",t.LE_ArgumentException_TargetTooLong="The hyperlink target address must be less than 256 characters.",t.LE_ArgumentException_TextLengthGreaterThanMax="The length of text in a shape or comment cannot be greater than {0}.",t.LE_ArgumentException_ToolTipTooLong="The hyperlink tool tip must be less than 256 characters.",t.LE_ArgumentException_TopLeftWindowBounds="The left and top of the window bounds must be between -32768 and 32767.",t.LE_ArgumentException_WeekdayFirst="WeekdayFirst parameter should be between  FirstDayOfWeek.System and FirstDayOfWeek.Saturday",t.LE_ArgumentException_WidthHeightWindowBounds="The width and height of the window bounds must be between 0 and 65535.",t.LE_ArgumentException_WorksheetNameAlreadyExists='A worksheet with the name "{0}" already exists in the workbook.',t.LE_ArgumentException_WorksheetNameTooLong="The worksheet name must be between 1 and 31 characters in length.",t.LE_ArgumentException_WorksheetProtectedRangeTitleTooLong="The title of an edit range cannot be more than 255 characters.",t.LE_ArgumentException_WorksheetScopeFromOtherWorkbook="The worksheet does not belong to the same workbook as this collection.",t.LE_ArgumentNullException_AnchorCell="The cell cannot be null when the shape exists on a worksheet or group.",t.LE_ArgumentNullException_CustomViewName="The custom view name cannot be null or empty.",t.LE_ArgumentNullException_Encoder="The image encoder cannot be null.",t.LE_ArgumentNullException_FindNamedReference="The name to find cannot be null or empty.",t.LE_ArgumentNullException_FormulaCantBeNull="The formula for a named reference cannot be null or empty.",t.LE_ArgumentNullException_HiddenColumn="A null column cannot be added to the collection.",t.LE_ArgumentNullException_HiddenRow="A null row cannot be added to the collection.",t.LE_ArgumentNullException_Image="The image cannot be null.",t.LE_ArgumentNullException_NamedReferenceNameCantBeNull="The name for a named reference cannot be null or empty.",t.LE_ArgumentNullException_SaveStream="Cannot save the workbook to a null stream.",t.LE_ArgumentNullException_SelectedWorksheet="The workbook must have a valid selected worksheet.",t.LE_ArgumentNullException_Shape="A null shape cannot be added to the collection.",t.LE_ArgumentNullException_SourceFont="The source font cannot be null.",t.LE_ArgumentNullException_SourceFormatting="The source formatting cannot be null.",t.LE_ArgumentNullException_StyleName="The style name cannot be null or empty.",t.LE_ArgumentNullException_UnformattedString="The unformatted string cannot be null.",t.LE_ArgumentNullException_Workbook="The workbook cannot be null.",t.LE_ArgumentNullException_WorkbookRequiredToResolveThemeColor="A workbook must be specified to resolve a themed color.",t.LE_ArgumentNullException_WorksheetName="The worksheet name cannot be null or empty.",t.LE_ArgumentNullException_WorksheetProtectedRangeTitleCantBeNull="The title of an edit range cannot be null or empty.",t.LE_ArgumentNullException_WorksheetScope="The worksheet scope cannot be null.",t.LE_ArgumentOutOfRange_RelativeColumnIndex="The relative column index is outside of the specified region.",t.LE_ArgumentOutOfRange_RelativeRowIndex="The relative row index is outside of the specified region.",t.LE_ArgumentOutOfRangeException_AnchorPosition="One of the percentages in the specified location is less than 0.",t.LE_ArgumentOutOfRangeException_BadInsertIndex="The specified index must be greater than or equal to zero and less than or equal to the number of existing paragraphs.",t.LE_ArgumentOutOfRangeException_BadRemoveAtIndex="The index must be greater than zero and less than the number of paragraphs in the formatted string.",t.LE_ArgumentOutOfRangeException_CollectionIndex="Index was out of range. It must be non-negative and less than the size of the collection.",t.LE_ArgumentOutOfRangeException_ColumnWidth="The column width must be between 0 and 65535.",t.LE_ArgumentOutOfRangeException_DefaultColumnWidth="The default column width must be between 0 and 65535.",t.LE_ArgumentOutOfRangeException_DefaultFontHeight="The default font height must be between 20 and 8180.",t.LE_ArgumentOutOfRangeException_DefaultRowHeight="The default row height must be between -1 and 8192.",t.LE_ArgumentOutOfRangeException_DuplicateItemSorted="The specified item already has a sort condition applied.",t.LE_ArgumentOutOfRangeException_FirstVisibleTabIndex="The first visible tab index must be greater than or equal to zero.",t.LE_ArgumentOutOfRangeException_FontHeight="The font height must be between 20 and 8180.",t.LE_ArgumentOutOfRangeException_GroupAddedToSelf="A group cannot be added to its own collection of shapes.",t.LE_ArgumentOutOfRangeException_Indent="The indent level must be between 0 and 250.",t.LE_ArgumentOutOfRangeException_IndexNegative="The index must be non-negative.",t.LE_ArgumentOutOfRangeException_InvalidCollectionIndex="The specified index is is not valid in the collection.",t.LE_ArgumentOutOfRangeException_InvalidColorInfoTint="The tint value must be between -1.0 and 1.0.",t.LE_ArgumentOutOfRangeException_InvalidColumnCount="{0} is not a valid column count in the current format. The value must be between {1} and {2}.",t.LE_ArgumentOutOfRangeException_InvalidColumnIndex="{0} is not a valid column index in the current format. The value must be between {1} and {2}.",t.LE_ArgumentOutOfRangeException_InvalidGradientStopOffset="The gradient stop offset must be between 0.0 and 1.0.",t.LE_ArgumentOutOfRangeException_InvalidRelativeRectangleValueForGradient="The values for the inner rectangle of the rectangular gradient must be between 0.0 and 1.0.",t.LE_ArgumentOutOfRangeException_InvalidRemoveAtIndex_SortConditions="The index at which to remove the sort condition is out of range.",t.LE_ArgumentOutOfRangeException_InvalidRowCount="{0} is not a valid row count in the current format. The value must be between {1} and {2}.",t.LE_ArgumentOutOfRangeException_InvalidRowIndex="{0} is not a valid row index in the current format. The value must be between {1} and {2}.",t.LE_ArgumentOutOfRangeException_InvalidTableStyleAreaStripeExtent="The {0} must be between 1 and 9, inclusive.",t.LE_ArgumentOutOfRangeException_LeftPaneWidth="The pane width specified is outside the valid range of {0} and {1}.",t.LE_ArgumentOutOfRangeException_LengthMustBePositive="The length must be greater than or equal to one.",t.LE_ArgumentOutOfRangeException_MagnificationLevel="View magnification levels must be between 10 and 400.",t.LE_ArgumentOutOfRangeException_Margins="The margins must be between 0 and 100.",t.LE_ArgumentOutOfRangeException_MaxPagesHorizontally="The maximum pages horizontally must be between 0 and 32767.",t.LE_ArgumentOutOfRangeException_MaxPagesVertically="The maximum pages vertically must be between 0 and 32767.",t.LE_ArgumentOutOfRangeException_MaxRecursionIterations="The maximum recursion iterations must be between 1 and 32767.",t.LE_ArgumentOutOfRangeException_MaxSortConditions="There cannot be more than {0} sort conditions in the collection.",t.LE_ArgumentOutOfRangeException_NegativeStartIndex="The start index cannot be negative.",t.LE_ArgumentOutOfRangeException_NumberOfCopies="The number of copies must be between 1 and 65535.",t.LE_ArgumentOutOfRangeException_Per="per value should be between 0 and nPer + 1",t.LE_ArgumentOutOfRangeException_Rate="Rate should be greater than -1",t.LE_ArgumentOutOfRangeException_Resolution="The resolution must be between 0 and 65535.",t.LE_ArgumentOutOfRangeException_RowHeight="The row height must be between 0 and 8192.",t.LE_ArgumentOutOfRangeException_ScalingFactor="The scaling factor must be between 10 and 400.",t.LE_ArgumentOutOfRangeException_StartPageNumber="The starting page number must be between -32765 and 32767.",t.LE_ArgumentOutOfRangeException_TabBarWidth="The tab bar width must be between 0 and 1000.",t.LE_ArgumentOutOfRangeException_TopPaneHeight="The pane height specified is outside the valid range of {0} and {1}.",t.LE_AutoColorNotAllowed="The color can not be 'Auto'.",t.LE_Axis_MajorMinorUnit="The value of the majorUnit parameter must be greater than the value of the minorUnit parameter.",t.LE_Axis_NoCrossAxis="If the CrossAxis property is set on one Axis object, it must be set on all of them. If your chart has only two axes, the crossing axis can be automatically determined, but only if the CrossAxis property is left unset on all Axis objects.",t.LE_Biff8SerializerNotLoaded="The '{0}' format requires a serializer that is not loaded, in JavaScript this is contained in the infragistics.excel_serialization_biff8.js file",t.LE_CategoryAxisBinning_BinWidthAndNumberOfBins="The 'binWidth' and 'numberOfBins' parameters are mutually exclusive. Both can be unspecified, but if one is specified, the other must not be.",t.LE_ChartGradientFill_EmptyStops="Must contain at least one gradient stop.",t.LE_ChartObject_DifferentChart="The object instance being assigned is associated with a different chart, and cannot be assigned to this instance.",t.LE_ColumnsToRepeatAtLeftAreOutsideAvailableRange="The print options have columns that repeat at the left which are outside the range of available columns in the new format.",t.LE_ComboChartGroupCollection_DoesNotExist="The specified ComboChartGroup does not exist in this collection.",t.LE_FillPercentInvalid="The value {0} is not a valid value for the {1} property.",t.LE_FormatLimitError_Indent="The Indent exceeds the maximum value of {0} provided by the current format.",t.LE_FormatLimitError_MacroWorkbook="The workbook has VBA code and cannot be saved as a macro-enabled workbook.",t.LE_FormatLimitError_MaxColumnIndex="The column index of {0} is greater than the {1} maximum supported by the specified format.",t.LE_FormatLimitError_MaxRowIndex="The row index of {0} exceeds the {1} maximum supported by this format.",t.LE_FormulaParseException_ArrayContainsConstants="A array can only contain constant expressions.",t.LE_FormulaParseException_ArrayHasEmptyFirstRow="A constant array in the formula has no items in the first row.",t.LE_FormulaParseException_ArrayHasMisalignedRows="A constant array in the formula has misaligned rows. Each row in an array must have the same number of columns.",t.LE_FormulaParseException_CellReferenceAfterWorkbookName="An external workbook reference must be followed by a named reference, not a cell reference.",t.LE_FormulaParseException_ExtraExpressions="The formula has extra expressions after the end of it.",t.LE_FormulaParseException_FunctionMissingClosingParen="A function in the formula has no closing parenthesis.",t.LE_FormulaParseException_FunctionNestingTooDeep="A function in the formula is nested too deeply in other functions.",t.LE_FormulaParseException_IncorrectNumberOfArguments="A function in the formula has not been given the correct number of arguments.",t.LE_FormulaParseException_InvalidArguments="An operator or function in the formula has invalid arguments.",t.LE_FormulaParseException_InvalidConditionalFormatFormula="A conditional format formula cannot use reference operators such as unions or intersections, array constants or structured table references.",t.LE_FormulaParseException_InvalidErrorValue='The error type specified is not valid.  It must be one of the following values: "#NULL!", "#DIV/0!", "#VALUE!", "#REF!", "#NAME?", "#NUM!", or "#N/A".',t.LE_FormulaParseException_InvalidFileNameInBrackets="A file name between square brackets was invalid.",t.LE_FormulaParseException_InvalidStructuredTableReference="The structured table reference is incorrect.",t.LE_FormulaParseException_InvalidWorkbookName="The workbook reference in quotes is not a valid workbook file name.",t.LE_FormulaParseException_InvalidWorksheetName="The worksheet name is invalid.",t.LE_FormulaParseException_MacroFunctionNotAllowed="The '{0}' functions is only valid in a named reference.",t.LE_FormulaParseException_Message_PortionWithError="Portion with error: {0}",t.LE_FormulaParseException_MissingArgumentAfterBinary="A binary operator in the formula is missing an operand after it.",t.LE_FormulaParseException_MissingArgumentAfterParen="There is no expression following an open parenthesis.",t.LE_FormulaParseException_MissingArgumentAfterUnary="A unary operator in the formula was not followed by a valid expression.",t.LE_FormulaParseException_MissingArgumentBeforeBinary="A binary operator in the formula is missing an operand before it.",t.LE_FormulaParseException_NamedReferenceRefsNeedSheetName="All cell references in a named reference formula must identify the worksheet.",t.LE_FormulaParseException_NoElementAfterArraySerapator="There is no array element after an element separator in the formula.",t.LE_FormulaParseException_NoEqualsSign="The formula must start with an equals sign.",t.LE_FormulaParseException_NoExclamationAfterWorkbookName="The workbook reference must be followed by an exclamation point.",t.LE_FormulaParseException_NoExclamationAfterWorksheetName="The worksheet reference must be followed by an exclamation point.",t.LE_FormulaParseException_NoExpressions="The formula has no valid expressions after the equal sign.",t.LE_FormulaParseException_NoFileNameAfterBracket="A valid file name was expected after the open square bracket.",t.LE_FormulaParseException_NoValidTermAfterWorkbookName="An external workbook reference must be followed by a named reference.",t.LE_FormulaParseException_NoValidTermAfterWorksheetName="A worksheet reference must be followed by a cell or named reference.",t.LE_FormulaParseException_NoWorksheetAfterWorkbookName="A workbook file name in square brackets must be followed by a worksheet name.",t.LE_FormulaParseException_StringConstantLengthTooLong="The specified formula cannot contain a string longer than {0} characters.",t.LE_FormulaParseException_TooLong="The maximum length of a formula cannot exceed {0} for the specified workbook format.",t.LE_FormulaParseException_UnknownFunction="A function in the formula does not have a valid function name.",t.LE_FormulaParseException_UnmatchedOpenBracket="A constant array in the formula does not have a closing bracket.",t.LE_FormulaParseException_UnmatchedOpenParen="An open parenthesis in the formula does not have a matching closing parenthesis.",t.LE_FormulaParseException_UnmatchedOpenSquareBracket="A closing square bracket was expected after the workbook file name.",t.LE_FormulaParseException_WorkbookNameMissingEndQuote="The workbook reference has no ending quote.",t.LE_FormulaParseException_WorksheetRangeMissingEndingName="The worksheet range does not specify a second worksheet name.",t.LE_GradientStop_InvalidPosition="Must specify a number between 0 and 1.",t.LE_IconSetInvalid="'IconSetNoIcon' is not a valid setting for the IconSet property.",t.LE_IndexOutOfRangeException_ArrayBounds="Index was outside the bounds of the array.",t.LE_InvalidEnumArgumentException_DefaultPatternCannotBeUsed="The Default FillPatternStyle cannot be used to create a CellFillPattern.",t.LE_InvalidLineWeight="LineWeight must not be less than 0 or greater than 1584.",t.LE_InvalidOperationException_AnchorCommentBeforeApplyingToCell="The comment must have both the TopLeftCornerCell and BottomRightCornerCell set or they must be both null before it is applied to a cell.",t.LE_InvalidOperationException_AnchorShapeBeforeAddingToCollection="The shape must have both the TopLeftCornerCell and BottomRightCornerCell set before it is added to a worksheet or group.",t.LE_InvalidOperationException_ArrayFormulaAlreadyApplied="The array formula is already applied to a cell range. Clear the existing cell range first.",t.LE_InvalidOperationException_ArrayFormulaAppliedInTable="Array formulas cannot be applied to an area where a table is present.",t.LE_InvalidOperationException_ArrayFormulaInMergedCell="Array formulas are not valid in merged cells.",t.LE_InvalidOperationException_BottomRightAnchorFromOtherWorksheet="Adding the shape to this collection will place it on a different worksheet than its BottomRightCornerCell.",t.LE_InvalidOperationException_BuiltInStyleNameCannotBeChanged="The name of a built in style cannot be changed.",t.LE_InvalidOperationException_CannotAddColorsToPaletteDirectly="Colors cannot be added to the WorkbookColorPalette. Use the indexer to set a color at a specific index.",t.LE_InvalidOperationException_CannotAddParagraphDirectly="Paragraphs cannot be added directly.",t.LE_InvalidOperationException_CannotAddTableDirectly="WorksheetTable instances cannot be directly inserted into the collection. Use the Add method.",t.LE_InvalidOperationException_CannotAddTableToRemovedWorksheet="Tables cannot be added to a worksheet which has been removed from its owning workbook.",t.LE_InvalidOperationException_CannotApplyFilterWhileHeaderRowIsHidden="A filter cannot be applied while the table header row is hidden.",t.LE_InvalidOperationException_CannotApplyFilterWhileUIIsHidden="A filter cannot be applied while the filter UI is hidden.",t.LE_InvalidOperationException_CannotInsertTableRow_LossOfData="The {0} cannot be inserted because it would shift data off the bottom of the worksheet.",t.LE_InvalidOperationException_CannotInsertTableRow_LossOfObject="The {0} cannot be inserted because it would shift a shape or comment off the bottom of the worksheet.",t.LE_InvalidOperationException_CannotInsertTableRow_SplitBlockingValue="The {0} cannot be inserted because it would shift cells in a array formula or data table.",t.LE_InvalidOperationException_CannotInsertTableRow_SplitMergedRegion="The {0} cannot be inserted because it would shift cells in a merged region.",t.LE_InvalidOperationException_CannotInsertTableRow_SplitTable="The {0} cannot be inserted because it would shift cells in another table.",t.LE_InvalidOperationException_CannotInsertTableRow_TableOnBottomOfWorksheet="The {0} cannot be inserted because the table is on the bottom of the worksheet.",t.LE_InvalidOperationException_CannotModifyKeysCollection="The Keys collection cannot be modified.",t.LE_InvalidOperationException_CannotModifyStandardTableStyle="Standard table styles cannot be modified.",t.LE_InvalidOperationException_CannotModifyValuesCollection="The Values collection cannot be modified.",t.LE_InvalidOperationException_CannotMoveDisconnectedWorksheet="The worksheet cannot be moved because it does not belong to a workbook.",t.LE_InvalidOperationException_CannotRemoveColorsToPaletteDirectly="Colors cannot be removed from the WorkbookColorPalette. Use the Reset method to clear all custom colors.",t.LE_InvalidOperationException_CannotRemoveNormalStyle="The Normal style cannot be removed.",t.LE_InvalidOperationException_CannotSetParentStyleOnStyle="The style cannot be set on a format which belongs to another style.",t.LE_InvalidOperationException_CannotShift_LossOfData="Cannot shift data off sheet.",t.LE_InvalidOperationException_CannotShift_LossOfObject="Cannot shift objects off sheet.",t.LE_InvalidOperationException_CannotShift_SplitBlockingValue="Cannot shift in a array formula or data table.",t.LE_InvalidOperationException_CannotShift_SplitMergedRegion="Cannot shift in a merged region.",t.LE_InvalidOperationException_CannotShift_SplitTable="Cannot shift in table.",t.LE_InvalidOperationException_CantAddChartInChart="A chart cannot be added to the Shapes collection of another chart.",t.LE_InvalidOperationException_CantAddCustomView="Custom views cannot be added directly to the collection.",t.LE_InvalidOperationException_CantAddDataTable="Data tables cannot be added directly.",t.LE_InvalidOperationException_CantAddMergedRegion="Merged cells regions cannot be added directly.",t.LE_InvalidOperationException_CantAddNamedReference="Named references cannot be added directly.",t.LE_InvalidOperationException_CantAddWorksheet="Worksheets cannot be added directly to this collection.",t.LE_InvalidOperationException_CantApplyRemovedCustomView="The custom view cannot be applied if it has been removed from the workbook's custom view collection.",t.LE_InvalidOperationException_CantChangeArrayFormula="The cells of an array formula cannot be changed.",t.LE_InvalidOperationException_CantChangeDataTable="The interior cells of a data table cannot be changed.",t.LE_InvalidOperationException_CantModifyCollection="The collection cannot be modified.",t.LE_InvalidOperationException_CantOverlapArrayFormula="A merged cell region cannot overlap an array formula region.",t.LE_InvalidOperationException_CantOverlapDataTableInterior="A merged cell region cannot overlap the cells in a data table if it extends outside the top row or left-most column of those cells.",t.LE_InvalidOperationException_CantSaveEditRangeWithoutRange="The AllowedEditRanges of the worksheets must have at least one range.",t.LE_InvalidOperationException_CantSaveWithNoVisibleWorksheets="At least one worksheet in the workbook must be visible.",t.LE_InvalidOperationException_CantSaveWithNoWorksheets="A workbook with no worksheets cannot be saved",t.LE_InvalidOperationException_CantSetCircularityErrorDirectly="The circularity error value cannot be applied directly to cells.",t.LE_InvalidOperationException_CantSetDataTableDirectly="Data tables cannot be set as the value on a cell.",t.LE_InvalidOperationException_CantSetFormulaDirectly="Formulas cannot be set on a cell directly, use the ApplyFormula method or one of the ApplyTo methods of the formula instance instead.",t.LE_InvalidOperationException_CellsInTableMinSize="The region of cells in a data table must have at least two cells in each dimension.",t.LE_InvalidOperationException_ChartNotSupported="WorksheetChart modifications are not supported in this format.",t.LE_InvalidOperationException_ClearUnknownShapeData="All data for this shape is unknown, remove the shape from its collection instead.",t.LE_InvalidOperationException_CollectionLongerThanMaxValue="The collection contains more entries than the specified maximum value allows.",t.LE_InvalidOperationException_CollectionModifiedWhileEnumerating="The collection was modified while it was being enumerated.",t.LE_InvalidOperationException_CurrentTableRowAddressNeedsOriginCell="To parse a structured table reference using the current row, an origin cell must be specified.",t.LE_InvalidOperationException_CustomViewNoVisibleWorksheets='At least one worksheet in the custom view named "{0}" must be visible.',t.LE_InvalidOperationException_DataTableAppliedInTable="A data table cannot be in an area where a table is present.",t.LE_InvalidOperationException_DataTableFormulaCannotBeApplied="A data table formula cannot be applied directly to cells.",t.LE_InvalidOperationException_DataTableInMergedCell="The interior cells of a data table cannot be part of a merged cell region.",t.LE_InvalidOperationException_DataTableRemoved="The row and column input cells cannot be set after the data table has been removed from the worksheet.",t.LE_InvalidOperationException_DeprecatedFillColorSetWithGradientFill="A fill pattern color cannot be set while a gradient is set on the cell.",t.LE_InvalidOperationException_EncryptedWorkbooksNotSupported="The workbook being loaded is encrypted. Encrypted workbooks are not supported.",t.LE_InvalidOperationException_ExtensionDoesntMatchCurrentFormat="The file name to which to save the file has an extension which doesn't match the current format of the workbook.",t.LE_InvalidOperationException_FixedValuesFilterMustAcceptAValue="Cannot have a FixedValuesFilter which allows no values.",t.LE_InvalidOperationException_FormattedStringAlreadyOwned="The formatted string is already the value of another cell or comment. Clone it first and apply the clone to the new cell or shape.",t.LE_InvalidOperationException_FormattedStringNotOwned="The font properties cannot be accessed while the formatted string or text is not applied to a cell or shape.",t.LE_InvalidOperationException_FormattedTextAlreadyOwned="The formatted string is already the value of another shape. Clone it first and apply the clone to the new cell or shape.",t.LE_InvalidOperationException_FormulaAlreadyOwned="The formula is already applied to another cell.",t.LE_InvalidOperationException_FormulaReferencesInvalidCells="The formula references cells which are not supported in the workbook's current file format.",t.LE_InvalidOperationException_GetBoundsBeforeAnchorsSet="The shape does not have bounds before the anchor cells have been set.",t.LE_InvalidOperationException_HiddenWorksheetCannotBeSelected="A hidden worksheet cannot be selected.",t.LE_InvalidOperationException_HyperlinkSealed="The hyperlink cannot be modified.",t.LE_InvalidOperationException_ImageDisposed="An Image of a WorksheetImage has been disposed or is invalid.",t.LE_InvalidOperationException_InputCellsBothNull="The column input and row input cells cannot both be null.",t.LE_InvalidOperationException_InputCellsInTable="The input cells can not be within the data table cells.",t.LE_InvalidOperationException_InputCellsSame="The column input and row input cells cannot be the same cell.",t.LE_InvalidOperationException_InvalidCharacterRange="The range of characters covered by the font no longer exists in the formatted string.",t.LE_InvalidOperationException_InvalidFormatOptionsInWholeTableArea="The specified FormatOptions format value is invalid on the WholeTable table area.",t.LE_InvalidOperationException_InvalidFormatString="The specified format string is invalid.",t.LE_InvalidOperationException_InvalidFormatString_GetTextCall="The cell's format string is invalid. To be notified of this when the FormatString is set, set Workbook.ValidateFormatStrings to True.",t.LE_InvalidOperationException_InvalidForWorkbookFormat="Formula is not valid for specified format.",t.LE_InvalidOperationException_InvalidHeaderCellColumnAreaFormatProperty="The top border values cannot be set on the HeaderCell table column area format.",t.LE_InvalidOperationException_InvalidHeaderRowAreaFormatProperty="The top border values cannot be set on the HeaderRow table area format.",t.LE_InvalidOperationException_InvalidTableStyleAreaFontProperty="The {0} font value cannot be set on table style areas.",t.LE_InvalidOperationException_InvalidTableStyleAreaFormatOptions="The specified FormatOptions format value is invalid on table style areas.",t.LE_InvalidOperationException_InvalidTableStyleAreaFormatProperty="The {0} format value cannot be set on table style areas.",t.LE_InvalidOperationException_InvalidTotalsCellColumnAreaFormatProperty="The bottom border values cannot be set on the TotalCell table column area format.",t.LE_InvalidOperationException_InvalidTotalsRowAreaFormatProperty="The bottom border values cannot be set on the TotalsRow table area format.",t.LE_InvalidOperationException_InvalidWholeTableAreaFormatProperty="Only the edge border values can be set on the WholeTable table area format.",t.LE_InvalidOperationException_LastColumnBeforeFirst="The last column in the region should be greater than or equal to the first column.",t.LE_InvalidOperationException_LastRowBeforeFirst="The last row in the region should be greater than the first row.",t.LE_InvalidOperationException_MaxCellFormats="The maximum number of distinct cell formats in excel file is: {0}",t.LE_InvalidOperationException_MaxColors="The maximum number of colors in an excel workbook is: {0}",t.LE_InvalidOperationException_MaxColumns="The maximum number of columns in an excel worksheet with the current format is: {0}",t.LE_InvalidOperationException_MaxFonts="The number of fonts in a workbook cannot exceed {0}.",t.LE_InvalidOperationException_MaxFormattedStrings="The number of unique strings in a workbook cannot exceed {0}.",t.LE_InvalidOperationException_MaxRows="The maximum number of rows in an excel worksheet with the current format is: {0}",t.LE_InvalidOperationException_MergedCellCrossesDataTableLeftColumn="The left-most column of cells specified for the data table contains a merged cell region which extends outside the area of those cells.",t.LE_InvalidOperationException_MergedCellCrossesDataTableTopLeftCell="The top-left cell of the cells specified for the data table is part of a merged cell which extends outside the area of those cells.",t.LE_InvalidOperationException_MergedCellCrossesDataTableTopRow="The top row of cells specified for the data table contains a merged cell region which extends outside the area of those cells.",t.LE_InvalidOperationException_MergedCellsAppliedInTable="Cells within a table cannot be merged.",t.LE_InvalidOperationException_NamedReferenceNameAlreadyExists='The name "{0}" is used by a table or named reference in the workbook with the same scope.',t.LE_InvalidOperationException_NoRegionHasBeenSpecified="No region has been specified.",t.LE_InvalidOperationException_NoWorksheetContextToSetShapeBounds="This overload of Add cannot be called when the shapes collection is not associated with a Worksheet. Call the overload of Add which takes a Worksheet instance.",t.LE_InvalidOperationException_OverlappingTable="There is another table in the specified region.",t.LE_InvalidOperationException_ReadOnlyFont="The font object is read-only and cannot be changed.",t.LE_InvalidOperationException_ReadOnlyFormat="The format object is read-only and cannot be changed.",t.LE_InvalidOperationException_RelativeR1C1AddressNeedsOriginCell="To parse a relative R1C1 address, an origin cell must be specified.",t.LE_InvalidOperationException_ResizedTableMustBeOnWorksheet="The table must be on a worksheet to be resized.",t.LE_InvalidOperationException_ResolvedFormatCannotBeModified="The resolved cell format is read-only and cannot be changed.",t.LE_InvalidOperationException_ShapeCantChangeOrientation="This shape cannot be rotated or flipped.",t.LE_InvalidOperationException_ShapeFillSolidIsImmutable="ShapeFillSolid is immutable. Create a new ShapeFillSolid instead.",t.LE_InvalidOperationException_ShapeInAnotherCollection="The shape already exists on another worksheet or shape group.",t.LE_InvalidOperationException_ShapeOutlineSolidIsImmutable="ShapeOutlineSolid is immutable. Create a new ShapeOutlineSolid instead.",t.LE_InvalidOperationException_ShowFilterUIWhileHeaderRowHidden="The filter UI cannot be shown while the header row is hidden.",t.LE_InvalidOperationException_SystemColorsAccessedFromWrongThread="Cannot access SystemColors from a background thread.",t.LE_InvalidOperationException_TableReferenceMustBeUsedFromInsideTable="The formula has a structured table reference which can only be used from inside a table.",t.LE_InvalidOperationException_TableReferenceToMissingTable="The formula has a reference to a table which doesn't exist.",t.LE_InvalidOperationException_TableReferenceToMissingTableColumn="The formula has a reference to a table column which doesn't exist.",t.LE_InvalidOperationException_TopLeftAnchorFromOtherWorksheet="Adding the shape to this collection will place it on a different worksheet than its TopLeftCornerCell.",t.LE_InvalidOperationException_TotalsRowCannotBeShownInLastRow="The totals row cannot be shown when the table occupies the last row in the worksheet.",t.LE_InvalidOperationException_UnknownBIFFFormat="The workbook file was in an unknown BIFF format.",t.LE_InvalidOperationException_UnsupportedBIFFFormat="The workbook file was saved in {0}, a format which is not supported.",t.LE_InvalidOperationException_WorkbookDataViolatesFormatLimits="The workbook contains data which would exceed the limits imposed by the specified format.",t.LE_InvalidRegion="Invalid region address.",t.LE_InvalidValueType="'{0}' is not a valid value for the ValueType property.",t.LE_LocationNotSingleRowOrColumn="Location reference is not valid because the cells are not all in the same column or row. Select cells that are all in a single column or row.",t.LE_LocationOrDataAreaInvalid="The reference for the location or data range is not valid.",t.LE_LocationWorksheetMismatch="Location must be from this worksheet.",t.LE_NotSingleTargetFormula="Can only support single target formulas.",t.LE_NotSupportedException_CellType="{0} is not a supported cell value type.",t.LE_NotSupportedException_NoPackageFactory="packageFactory cannot be null. When loading from Excel2007 workbook format and using the Infragistics2.Documents.Excel assembly, you must provide an IPackageFactory to handle the packaging of data. If you are using the DotNet Framework 3.0 or higher, use the Infragistics3.Documents.Excel assembly instead, and the packaging will be handled by the WindowsBase class.",t.LE_OpenPackagingNonConformanceException_ContainsDublinCoreRefinements="The IPackagePart is the core properties relationship, and contains refinements to Dublin Core elements other than 'dcterms:created' and 'dcterms:modified'.",t.LE_OpenPackagingNonConformanceException_ContainsXmlLanguageAttribute="The IPackagePart is the core properties relationship, and contains elements which contain the 'xml:lang' attribute.",t.LE_OpenPackagingNonConformanceException_CorePropertiesRelationshipAlreadyProcessed="The IPackagePart is the core properties relationship, but one has already been processed for the associated IPackage.",t.LE_OpenPackagingNonConformanceException_DuplicatePartName="A IPackagePart with the same name already belongs to this IPackage. A IPackage cannot contain parts with identical names. Note that the check for duplicate values is case-insensitive.",t.LE_OpenPackagingNonConformanceException_UsesMarkupCompatibilityNamespace="The IPackagePart is the core properties relationship, and uses the Markup Compatibility Namespace.",t.LE_OpenPackagingNonConformanceException_XmlContainsDocumentTypeDefinition="A IPackagePart contained a DTD (Document Type Definition) declaration. Open Packaging Convention rules prohibit the use of XML content with DTD declarations.",t.LE_OpenPackagingNonConformanceException_XsiTypeAttributeInvalid="The IPackagePart is the core properties relationship, and contains elements which contain the 'xsi:type' attribute, or contains elements which are required to and do not contain the 'xsi:type' attribute.",t.LE_OpenXmlSerializerNotLoaded="The '{0}' format requires a serializer that is not loaded, in JavaScript this is contained in the infragistics.excel_serialization_openxml.js file",t.LE_PercentageValueOutOfRange="The percentage value {0} must be between 0 and 100.",t.LE_PercentileValueOutOfRange="The percentile value {0} must be between 0 and 100.",t.LE_PercentRangeInvalid="The {0} must be less than the {1}.",t.LE_RowsToRepeatAtTopAreOutsideAvailableRange="The print options have rows that repeat at the top which are outside the range of available rows in the new format.",t.LE_Serialization_NoPrimaryCategoryAxis="The chart type '{0}' requires a primary category axis. Add a primary category axis to the chart's AxisCollection.",t.LE_Serialization_NoPrimaryValueAxis="The chart type '{0}' requires a primary value axis. Add a primary value axis to the chart's AxisCollection.",t.LE_Series_ChartType_ChartEx="'{0}' is invalid for a series ChartType in a '{1}' chart.",t.LE_Series_ChartType_InvalidForComboChart="The chart type '{0}' is not valid for use within a combo chart.",t.LE_Series_ChartType_NonCombo="The chart type for this series is determined by the parent chart's type ('{0}'), and cannot be set. Set the parent chart's ChartType property to '{1}' instead.",t.LE_Series_Explosion_OutOfRange="The Explosion property supports values in the range of 0 to 400, inclusive.",t.LE_Series_InvalidAxisGroup="The AxisGroup property cannot be set to '{0}' because a series of type '{1}' exists on the same axis, which cannot share the same axis as a series of type '{2}'.",t.LE_Series_InvalidSeriesTypeForComboChart="A series of type '{0}' cannot be used in a combo chart.",t.LE_Series_NoPrimaryAxis="At least one series must be plotted on the primary axis. Change the AxisGroup property to 'Primary' for at least one Series.",t.LE_Series_OwningSeries_NotClusteredColumn="The OwningSeries property can only be set to a clustered column series in a Pareto chart.",t.LE_Series_OwningSeries_NotParetoLine="The OwningSeries property can only be set for a line series in a Pareto chart.",t.LE_Series_OwningSeries_Same="The OwningSeries cannot reference itself.",t.LE_Series_SeriesType_ChartEx="The SeriesType value '{0}' is invalid for a '{1}' chart.",t.LE_Series_SeriesType_NonCombo="The Type property is only applicable for combo charts, and cannot be set for a chart of type '{0}'.",t.LE_SetValue_Formula="The '{0}' value type is only valid for formulas. Use the SetFormula method instead.",t.LE_SetValue_NonNumeric="The value parameter is not applicable for the value type '{0}'. Use the overload that takes only a value type.",t.LE_SetValue_Numeric="The value parameter must be specified for the value type '{0}'. Use the overload that takes both the value and value type.",t.LE_WorksheetChart_ChartType_ChartEx_CannotTransition="The ChartType property cannot be changed from '{0}' to '{1}'.",t.LE_WorksheetChart_ChartType_ComboChart_From="The ChartType property of a combo chart cannot be changed to '{0}'.",t.LE_WorksheetChart_ChartType_ComboChart_To="A chart of type '{0}' cannot be changed to 'Combo'. A new combo chart can be created using the AddChart method, but changing an existing chart to a combo chart is not supported.",t.LE_WorksheetChart_ComboChart_NotEnoughSeries="A combo chart requires at least 2 series. Add more items to the chart's SeriesCollection.",t.LE_WorksheetChart_MissingRequiredAxis_StockCharts="A '{0}' chart requires a primary category axis, a primary value axis, a secondary category axis and a secondary value axis.",t.LE_WorksheetChart_NotEnoughSeries="A '{0}' chart requires a minimum of {1} series. To use this chart type you must add more items to the SeriesCollection.",t.LE_WorksheetChart_Save_Series="A '{0}' chart must contain at least one series. Add more series to the chart before attempting to save the workbook.",t.LE_WorksheetChart_Save_Series_Pareto="A 'Pareto' chart must contain one 'ColumnClustered' series and one 'Pareto' series. Add the appropriate series to the chart before attempting to save the workbook.",t.LE_WorksheetChart_SetComboChartSourceData_InvalidChartTypes="One or more of the specified chart types are not valid for use within a combo chart: {0}",t.LE_WorksheetChart_SetComboChartSourceData_NotAComboChart="SetComboChartSourceData cannot be called because the current chart type is '{0}'. Change the ChartType to 'Combo'.",t.LE_WorksheetChart_SetComboChartSourceData_SeriesChartTypesNotSupported="The seriesChartTypes parameter must be null for a '{0}' chart.",t.LE_WorksheetChart_SetSourceData_NotEnoughSeries="Combo charts require a minimum of 2 series. Change the 'dataRange' parameter to a range which will result in at least 2 series.",t.LE_WorksheetChart_SetSourceData_TooManyAxes="The specified combination of chart types require more than the maximum allowable number of axes.",t.LE_WorksheetChart_StockChartNotSupported="Editing of the chart type '{0}' is currently not supported.",t.LE_WorksheetChart_UnknownChartNotSupported="This chart was loaded from an existing worksheet, but it's ChartType could not be determined. Editing of unknown chart types is currently not supported.",t.LER_ArgumentOutOfRangeException_OutlineLevel="Outline level must be between 0 and 7.",t.LER_Exception_KeyNotFound="Key not found.",t.LER_Exception_MergedRegionsOverlap="Merged cell regions can't overlap.",t.TableHeaderRowDescription="header row",t.TableInsertRowDescription="insert row",t.TableTotalsRowDescription="totals row",t.Value_UCErrorCode_Div="#DIV/0!",t.Value_UCErrorCode_Fail="#FAIL",t.Value_UCErrorCode_NA="#N/A",t.Value_UCErrorCode_Name="#NAME?",t.Value_UCErrorCode_Null="#NULL!",t.Value_UCErrorCode_Num="#NUM!",t.Value_UCErrorCode_Ok="#OK",t.Value_UCErrorCode_Reference="#REF!",t.Value_UCErrorCode_Unknown="#N/A",t.Value_UCErrorCode_Value="#VALUE!",t.WorkbookColorInfo_Automatic_Description="Automatic",t.WorkbookColorInfo_Description="ColorInfo: {0}",t.WorkbookColorInfo_WithTint_Description="ColorInfo: {0}, Tint: {1}",t.WorksheetShapeSerialization_GroupName="Group",t.WorksheetShapeSerialization_ImageName="Image",t.WorksheetShapeSerialization_ShapeName="Shape",n.ig.excel=n.ig.excel||{},n.ig.excel.locale=n.ig.excel.locale||t,t}(n),function(){n=n||{},n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.schedulerCore=n.ig.locale.en.schedulerCore||{};var t=n.ig.locale.en.schedulerCore;return t.ActivityBase_Exception_CannotModifyOccurrenceProperty="The value of the {0} property cannot be modified on this {1} instance because it is a member of a recurrence.",t.LE_ActivityBase_DisassociatedResource="The specified resource is not associated with the same data source as this activity.",t.LE_AppointmentItemsSource_CannotEdit="The appointment item source does not support modification of its contents.",t.LE_AppointmentItemsSource_InvalidValue_JS="The specified value must be a JSON array or an $.ig.DataSource instance.",t.LE_AppointmentItemsSource_NoIList_DOTNET="The AppointmentItemsSource does not support modification of its contents. The item source must implement System.Collections.IList in order to support modifications.",t.LE_AppointmentPropertyMapping_RecurrenceRoot="The RecurrenceRoot property is not bindable and cannot be mapped. Create a mapping for the RecurrenceId property instead.",t.LE_AppointmentPropertyMapping_Resource="The Resource property is not bindable and cannot be mapped. Create a mapping for the ResourceId property instead.",t.LE_BeginEdit_CreatePending="The specified activity cannot be edited because there is a 'Create' operation pending.",t.LE_CannotCreateDataObject_DOTNET="Could not create new data object instance. Ensure that your data object type has a parameterless constructor. If it does not, assign a delegate to the CreateAppointmentDataObjectCallback property which creates new instances of this type.",t.LE_CannotModifyApppointmentsWhenDataSourceSet="Operation is not valid while DataSource is in use. Access and modify elements with Scheduler.DataSource instead.",t.LE_CannotSetDataSourceWhenAppointmentsAreDefined="Appointments collection must be empty before using DataSource.",t.LE_CouldNotConvertColorScheme="The value '{0}' could not be converted to a ScheduleResourceColorScheme value.",t.LE_CouldNotConvertValue="The value '{0}' could not be converted to type {1}.",t.LE_CreateDataObjectFailed="Could not create new data object instance.",t.LE_DataObjectNotAssociated="The specified data object is not associated with an Appointment.",t.LE_DuplicateIdentifier="The identifier '{0}' is already in use. Activity/Resource identifiers must be unique.",t.LE_EndEdit_DataObjectAlreadyAssociated="This data object is already associated with an activity.",t.LE_EndEdit_NotInEditMode="EndEdit cannot be called on the specified activity because it is not in edit mode. BeginEdit must be called first before an activity edit operation can be committed.",t.LE_InvalidDayOfWeekRule="The specified day of week rule is invalid.",t.LE_MissingIdentifier="Missing identifier.",t.LE_NoAppointmentItemsSource="The AppointmentItemsSource has not been assigned.",t.LE_NoCreateAppointmentDataObjectCallback_JS="A new data object instance could not be created. You must specify a value for the CreateAppointmentDataObjectCallback property.",t.LE_NoDataObject="The specified activity's underlying data object does not exist in the item source.",t.LE_NoPropertyMapping_Appointment="No property mapping exists for Appointment property '{0}'.",t.LE_RecurrenceParsing="Error parsing recurrence, context: {0}",t.LE_RecurrenceSerializing="Error serializing recurrence, context: {0}",t.LE_SchedulePropertyMap_Missing="The following required property mappings were not defined:",t.LE_SchedulePropertyMap_NoPropertyFound="No public property named '{0}' was found on the underlying data object.",t.LIT_AgendaDayHeader_Today="Today",t.LIT_AgendaNoEventsMessage="No Events",t.LIT_AgendaStartTime_AllDay="all-day",t.LIT_AgendaStartTime_Ends="Ends",t.RD_And="and",t.RD_AtTime="at {0}",t.RD_Effective1="effective {0}",t.RD_Effective2="effective {0} until {1}",t.RD_Effective3="effective {0} from {1} to {2}",t.RD_Effective4="effective {0} at {1}",t.RD_Effective5="effective {0} until {1} at {2}",t.RD_Effective6="effective {0} until {1} from {2} to {3}",t.RD_Every="every {0} {1}",t.RD_FrequencyLiterals="year,month,week,day,hour,minute,second",t.RD_FrequencyLiterals2="yearly,monthly,weekly,daily,hourly,minutely,secondly",t.RD_FrequencyLiteralsPlural="years,months,weeks,days,hours,minutes,seconds",t.RD_InMonth="in {0}",t.RD_Last="last",t.RD_NumberSuffix_nd="nd",t.RD_NumberSuffix_rd="rd",t.RD_NumberSuffix_st="st",t.RD_NumberSuffix_th="th",t.RD_OccurrenceOfThe="occurrence of the",t.RD_OfEveryMinuteOrHour="of every {0}",t.RD_OfTheMonthOrYear="of the {0}",t.RD_OfTheNthMinuteOrHour="of the {0} {1}",t.RD_OnEach="on each",t.RD_OnEverySecond="on every second",t.RD_OnThe="on the",t.RD_OnTheNthSecond="on the {0} second",t.RD_Or="or",t.RD_OrdinalDayOfMonthUsesSuffix="true",t.RD_OrdinalNumberWithSuffix="{0}{1}",t.RD_RecurrenceDescriptionOverallStructure="Occurs {0}{1}{2}",t.RD_RepeatingMultipleTimes="repeating {0} times",t.RD_RepeatingOneTime="repeating once",t.RD_RulesInMonth="{0} {1}",t.RD_ToTheLast="to the last",t.RD_Weekday="weekday",t.RD_WeekendDay="weekend day",t.RD_WeekOrDayOfTheMonthOrYear="{0} {1}",t.ScheduleDayOfWeekSettings_Exception_InvalidValue="The value '{0}' could not be successfully parsed.",t.WorkingHourTimeRange_Exception_CannotModifyTime="The {0} property cannot be modified because this instance has already been added to a WorkingHours collection.",n.ig.schedulerCore=n.ig.schedulerCore||{},n.ig.schedulerCore.locale=n.ig.schedulerCore.locale||t,t}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.SharedLocale=n.ig.SharedLocale||{},n.ig.locale.en.SharedLocale={},n.ig.SharedLocale.locale=n.ig.SharedLocale.locale||n.ig.locale.en.SharedLocale,n.ig.locale.en.SharedLocale}(n),function(){n=n||{},n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.spreadsheet=n.ig.locale.en.spreadsheet||{};var t=n.ig.locale.en.spreadsheet;return t.CellBorderLineStyle_DashDot="DashDot",t.CellBorderLineStyle_DashDotDot="DashDotDot",t.CellBorderLineStyle_Dashed="Dashed",t.CellBorderLineStyle_Default="Default",t.CellBorderLineStyle_Dotted="Dotted",t.CellBorderLineStyle_Double="Double",t.CellBorderLineStyle_Hair="Hair",t.CellBorderLineStyle_Medium="Medium",t.CellBorderLineStyle_MediumDashDot="MediumDashDot",t.CellBorderLineStyle_MediumDashDotDot="MediumDashDotDot",t.CellBorderLineStyle_MediumDashed="MediumDashed",t.CellBorderLineStyle_None="None",t.CellBorderLineStyle_SlantedDashDot="SlantedDashDot",t.CellBorderLineStyle_Thick="Thick",t.CellBorderLineStyle_Thin="Thin",t.CopyError_InvalidSelection_Message="The operation cannot be performed on the current selection. If there are multiple selections ensure they form a rectangular region and do not overlap.",t.CustomValidationInformationMessage="{0}",t.CustomValidationStopMessage="{0}",t.CustomValidationWarningMessage="{0}\r\n\r\nContinue?",t.DefaultAutoFilterToolTip="(Showing All)",t.DefaultChartTitle="Chart Title",t.DefaultHyperlinkToolTip="{0} - Click once to follow. Click and hold to select this cell.",t.DefaultValidationInformationMessage="The value you entered is not valid.\r\n\r\nA user has restricted values that can be entered into this cell.",t.DefaultValidationStopMessage="The value you entered is not valid.\r\n\r\nA user has restricted values that can be entered into this cell.",t.DefaultValidationWarningMessage="The value you entered is not valid.\r\n\r\nA user has restricted values that can be entered into this cell.\r\n\r\nContinue?",t.DeleteWorksheets_Message="Deleting a worksheet cannot be undone and you may be removing some data. If you don't need it then click Ok.",t.Error_ChangePartOfDataTableError_Message="Cannot change part of a data table.",t.Error_DeletingLockedColumnCells_Message="You are trying to delete a column that contains a locked cell. Locked cells cannot be deleted while the worksheet is protected.",t.Error_DeletingLockedRowCells_Message="You are trying to delete a row that contains a locked cell. Locked cells cannot be deleted while the worksheet is protected.",t.Error_IntersectsMergedCells_Message="The operation cannot be performed because the selection intersects with a merged cell.",t.Error_InvalidArrayFormulaLockedState_Message="Cannot enter an array formula into a range of cells which are not all locked or unlocked.",t.Error_InvalidHyperlinkAddress_Message="Cannot open the specified file.",t.Error_InvalidHyperlinkReference_Message="Reference is not valid.",t.Error_InvalidProtectedWorksheetChange_Message="The cell you're trying to change is on a protected sheet.",t.Error_InvalidSortOrFilterRange_Message="This operation cannot be performed on the selected range. The selection should be within an area with data and/or formatting and should not contain table and non-table cells.",t.Error_LargeOperation_Message="The operation you are about to perform affects a large number of cells and may take a significant amount of time to complete. Are you sure you want to continue?",t.Error_LargePasteOperation_Message="The operation you are about to perform affects a large number of cells and may take a significant amount of time to complete. Are you sure you want to continue?",t.Error_NoSingleAllowedEditRange_Message="Some of the cells you are trying to change are password protected but no single password will allow access to all of the cells.",t.ExcelComparisonOperator_BeginsWith_DisplayText="begins with",t.ExcelComparisonOperator_Contains_DisplayText="contains",t.ExcelComparisonOperator_DoesNotBeginWith_DisplayText="does not begin with",t.ExcelComparisonOperator_DoesNotContain_DisplayText="does not contain",t.ExcelComparisonOperator_DoesNotEndWith_DisplayText="does not end with",t.ExcelComparisonOperator_EndsWith_DisplayText="ends with",t.ExcelComparisonOperator_Equals_DisplayText="equals",t.ExcelComparisonOperator_GreaterThan_DisplayText="is greater than",t.ExcelComparisonOperator_GreaterThanOrEqual_DisplayText="is greater than or equal to",t.ExcelComparisonOperator_LessThan_DisplayText="is less than",t.ExcelComparisonOperator_LessThanOrEqual_DisplayText="is less than or equal to",t.ExcelComparisonOperator_NotEqual_DisplayText="does not equal",t.ExcelTopOrBottomFilterDirection_Bottom_DisplayText="Bottom",t.ExcelTopOrBottomFilterDirection_Top_DisplayText="Top",t.ExcelTopOrBottomFilterTypes_Items_DisplayText="Items",t.ExcelTopOrBottomFilterTypes_Percent_DisplayText="Percent",t.FillPatternStyle_DiagonalCrosshatch="DiagonalCrosshatch",t.FillPatternStyle_DiagonalStripe="DiagonalStripe",t.FillPatternStyle_Gray12percent="Gray12percent",t.FillPatternStyle_Gray25percent="Gray25percent",t.FillPatternStyle_Gray50percent="Gray50percent",t.FillPatternStyle_Gray6percent="Gray6percent",t.FillPatternStyle_Gray75percent="Gray75percent",t.FillPatternStyle_HorizontalStripe="HorizontalStripe",t.FillPatternStyle_None="None",t.FillPatternStyle_ReverseDiagonalStripe="ReverseDiagonalStripe",t.FillPatternStyle_Solid="Solid",t.FillPatternStyle_ThickDiagonalCrosshatch="ThickDiagonalCrosshatch",t.FillPatternStyle_ThinDiagonalCrosshatch="ThinDiagonalCrosshatch",t.FillPatternStyle_ThinDiagonalStripe="ThinDiagonalStripe",t.FillPatternStyle_ThinHorizontalCrosshatch="ThinHorizontalCrosshatch",t.FillPatternStyle_ThinHorizontalStripe="ThinHorizontalStripe",t.FillPatternStyle_ThinReverseDiagonalStripe="ThinReverseDiagonalStripe",t.FillPatternStyle_ThinVerticalStripe="ThinVerticalStripe",t.FillPatternStyle_VerticalStripe="VerticalStripe",t.FilterDescription_AboveAverage="Above Average",t.FilterDescription_BelowAverage="Below Average",t.FilterDescription_BottomItems="Bottom {0} Items",t.FilterDescription_BottomPercent="Bottom {0} Percent",t.FilterDescription_CellFill_Named="Equals a {0} cell color",t.FilterDescription_CellFill_NoFill="Equals a cell color (No Fill)",t.FilterDescription_CellFill_Unknown="Equals a cell color",t.FilterDescription_ComparisonItem_BeginsWith='Begins with "{0}"',t.FilterDescription_ComparisonItem_Contains='Contains "{0}"',t.FilterDescription_ComparisonItem_DoesNotBeginWith='Does not begin with "{0}"',t.FilterDescription_ComparisonItem_DoesNotContain='Does not contain "{0}"',t.FilterDescription_ComparisonItem_DoesNotEndWith='Does not end with "{0}"',t.FilterDescription_ComparisonItem_EndsWith='Ends with "{0}"',t.FilterDescription_ComparisonItem_Equals='Equals "{0}"',t.FilterDescription_ComparisonItem_GreaterThan='Greater than "{0}"',t.FilterDescription_ComparisonItem_GreaterThanOrEqual='Greater than or equal to "{0}"',t.FilterDescription_ComparisonItem_LessThan='Less than "{0}"',t.FilterDescription_ComparisonItem_LessThanOrEqual='Less than or equal to "{0}"',t.FilterDescription_ComparisonItem_NotEqual='Does not equal "{0}"',t.FilterDescription_Custom_And="{0} and {1}",t.FilterDescription_Custom_Or="{0} or {1}",t.FilterDescription_FixedValues='Equals "{0}"',t.FilterDescription_FixedValues_Blanks="(Blanks)",t.FilterDescription_FixedValues_Day='"{0:MMMM dd yyyy}"',t.FilterDescription_FixedValues_Hour='"{0:MMMM dd yyyy h tt}"',t.FilterDescription_FixedValues_Minute='"{0:MMMM dd yyyy h:mm tt}"',t.FilterDescription_FixedValues_Month="{0:MMMM yyyy}",t.FilterDescription_FixedValues_Second='"{0:MMMM dd yyyy h:mm:ss tt}"',t.FilterDescription_FixedValues_Year="All of {0:yyyy}",t.FilterDescription_FontColor_Automatic="Equals a font color (Automatic)",t.FilterDescription_FontColor_Named="Equals a {0} font color",t.FilterDescription_FontColor_Unknown="Equals a font color",t.FilterDescription_MonthNumber='Equals "{0}"',t.FilterDescription_NoCellIcon="Equals a cell icon (No Cell Icon)",t.FilterDescription_QuarterNumber='Equals "Quarter {0}"',t.FilterDescription_RelativeDate_CurrentDay='Equals "Today"',t.FilterDescription_RelativeDate_CurrentMonth='Equals "This Month"',t.FilterDescription_RelativeDate_CurrentQuarter='Equals "This Quarter"',t.FilterDescription_RelativeDate_CurrentWeek='Equals "This Week"',t.FilterDescription_RelativeDate_CurrentYear='Equals "This Year"',t.FilterDescription_RelativeDate_NextDay='Equals "Tomorrow"',t.FilterDescription_RelativeDate_NextMonth='Equals "Next Month"',t.FilterDescription_RelativeDate_NextQuarter='Equals "Next Quarter"',t.FilterDescription_RelativeDate_NextWeek='Equals "Next Week"',t.FilterDescription_RelativeDate_NextYear='Equals "Next Year"',t.FilterDescription_RelativeDate_PreviousDay='Equals "Yesterday"',t.FilterDescription_RelativeDate_PreviousMonth='Equals "Last Month"',t.FilterDescription_RelativeDate_PreviousQuarter='Equals "Last Quarter"',t.FilterDescription_RelativeDate_PreviousWeek='Equals "Last Week"',t.FilterDescription_RelativeDate_PreviousYear='Equals "Last Year"',t.FilterDescription_TopItems="Top {0} Items",t.FilterDescription_TopPercent="Top {0} Percent",t.FilterDescription_WithCellIcon="Equals a {0}",t.FilterDescription_YearToDate='Equals "Year to Date"',t.FilterDialog_And="_And",t.FilterDialog_AsteriskHint="Use * to represent any series of characters",t.FilterDialog_Cancel="Cancel",t.FilterDialog_OK="OK",t.FilterDialog_Or="_Or",t.FilterDialog_QuestionMarkHint="Use ? to represent any single character",t.FilterDialog_ShowRowsWhere="Show rows where:",t.FilterDialog_Title="Custom AutoFilter",t.FormatCellsDialog_AlignmentTab_Text_Horizontal="_Horizontal",t.FormatCellsDialog_AlignmentTab_Text_Indent="Indent",t.FormatCellsDialog_AlignmentTab_Text_JustifyDistributed="Justify distributed",t.FormatCellsDialog_AlignmentTab_Text_MergeCells="_Merge cells",t.FormatCellsDialog_AlignmentTab_Text_RightToLeft="Right-to-left",t.FormatCellsDialog_AlignmentTab_Text_ShrinkToFit="Shrin_k to fit",t.FormatCellsDialog_AlignmentTab_Text_TextAlignment="Text alignment",t.FormatCellsDialog_AlignmentTab_Text_TextControl="Text control",t.FormatCellsDialog_AlignmentTab_Text_TextDirection="_Text direction",t.FormatCellsDialog_AlignmentTab_Text_Vertical="_Vertical",t.FormatCellsDialog_AlignmentTab_Text_WrapText="_Wrap Text",t.FormatCellsDialog_AlignmentTabCaption="Alignment",t.FormatCellsDialog_BorderTab_Text_Border="Border",t.FormatCellsDialog_BorderTab_Text_Color="_Color",t.FormatCellsDialog_BorderTab_Text_Description="The selected border style can be applied by clicking the presets or the buttons around the preview diagram.",t.FormatCellsDialog_BorderTab_Text_Line="Line",t.FormatCellsDialog_BorderTab_Text_PresetInside="_Inside",t.FormatCellsDialog_BorderTab_Text_PresetNone="_None",t.FormatCellsDialog_BorderTab_Text_PresetOutline="_Outline",t.FormatCellsDialog_BorderTab_Text_Presets="Presets",t.FormatCellsDialog_BorderTab_Text_SampleText="Text",t.FormatCellsDialog_BorderTab_Text_Style="_Style",t.FormatCellsDialog_BorderTabCaption="Border",t.FormatCellsDialog_Cancel="Cancel",t.FormatCellsDialog_FillTab_Text_BackgroundColor="Background _Color",t.FormatCellsDialog_FillTab_Text_PatternColor="P_attern Color",t.FormatCellsDialog_FillTab_Text_PatternStyle="_Pattern Style:",t.FormatCellsDialog_FillTab_Text_Sample="Sample",t.FormatCellsDialog_FillTabCaption="Fill",t.FormatCellsDialog_FontTabCaption="Font",t.FormatCellsDialog_NumberTab_CategoryLabel="_Category",t.FormatCellsDialog_NumberTab_DateFormatMasks="m/d/yyyy\r\n[$-F800]dddd, mmmm dd, yyyy\r\nm/d;@\r\nm/d/yy;@\r\nmm/dd/yy;@\r\n[$-409]d-mmm;@",t.FormatCellsDialog_NumberTab_DecimalPlaces="_Decimal Places:",t.FormatCellsDialog_NumberTab_SampleLabel="Sample",t.FormatCellsDialog_NumberTab_TimeFormatMasks="[$-F400]h:mm:ss AM/PM\r\nh:mm;@\r\n[$-409]h:mm AM/PM;@\r\nh:mm:ss;@\r\n[$-409]h:mm:ss AM/PM;@",t.FormatCellsDialog_NumberTabCaption="Number",t.FormatCellsDialog_NumberTabInvalidMaskError="The specified format mask '{0}' is not valid.",t.FormatCellsDialog_OK="OK",t.FormatCellsDialog_ProtectionTab_Text_Locked="_Locked",t.FormatCellsDialog_ProtectionTab_Text_Summary="Locking cells has no effect until you protect the worksheet.",t.FormatCellsDialog_ProtectionTabCaption="Protection",t.FormatCellsDialog_Title="Format Cells",t.FormatInfo_Accounting="Accounting",t.FormatInfo_Accounting_NumberFormat_Description="Accounting formats line up the currency symbols and decimal points in a column.",t.FormatInfo_BlankDocument="Blank Document",t.FormatInfo_Currency="Currency",t.FormatInfo_Currency_NumberFormat_Description="Currency formats are used for general monetary values.  Use Accounting formats to align decimal points in a column.",t.FormatInfo_Custom="Custom",t.FormatInfo_Custom_NumberFormat_Description="Type the number format code, using one of the existing codes as a starting point.",t.FormatInfo_Date="Date",t.FormatInfo_Date_NumberFormat_Description="Date formats display date and time serial numbers as date values.  Date formats that begin with an asterisk (*) respond to changes in regional date and time settings that are specified for the operating system. Formats without an asterisk are not affected by operating system settings.",t.FormatInfo_FormatHeader_NegativeNumbers="Negative numbers:",t.FormatInfo_FormatHeader_Type="Type:",t.FormatInfo_Fraction="Fraction",t.FormatInfo_Fraction_Eighths="As eighths (4/8)",t.FormatInfo_Fraction_Halves="As halves (1/2)",t.FormatInfo_Fraction_Hundreths="As hundreths (30/100)",t.FormatInfo_Fraction_OneDigit="Up to one digit (1/4)",t.FormatInfo_Fraction_Quarters="As quarters (2/4)",t.FormatInfo_Fraction_Sixteenths="As sixteenths (8/16)",t.FormatInfo_Fraction_Tenths="As tenths (3/10)",t.FormatInfo_Fraction_ThreeDigits="Up to three digits (312/943)",t.FormatInfo_Fraction_TwoDigits="Up to two digits (21/25)",t.FormatInfo_General="General",t.FormatInfo_General_NumberFormat_Description="General format cells have no specific number format.",t.FormatInfo_Number="Number",t.FormatInfo_Number_NumberFormat_Description="Number is used for general display of numbers.  Currency and Accounting offer specialized formatting for monetary value.",t.FormatInfo_Percentage="Percentage",t.FormatInfo_Percentage_NumberFormat_Description="Percentage formats multiply the cell value by 100 and displays the result with a percent symbol.",t.FormatInfo_ProjectBudget="Project Budget",t.FormatInfo_Scientific="Scientific",t.FormatInfo_Special="Special",t.FormatInfo_Special_NumberFormat_Description="Special formats are useful for tracking list and database values.",t.FormatInfo_Special_PhoneNumber="Phone Number",t.FormatInfo_Special_SocialSecurityNumber="Social Security Number",t.FormatInfo_Special_ZipCode="Zip Code",t.FormatInfo_Special_ZipCodePlus4="Zip Code + 4",t.FormatInfo_Text="Text",t.FormatInfo_Text_NumberFormat_Description="Text format cells are treated as text even when a number is in the cell.  The cell is displayed exactly as entered.",t.FormatInfo_Time="Time",t.FormatInfo_Time_NumberFormat_Description="Time formats display date and time serial numbers as date values.  Time formats that begin with an asterisk (*) respond to changes in regional date and time settings that are specified for the operating system. Formats without an asterisk are not affected by operating system settings.",t.HorizontalCellAlignment_Center="Center",t.HorizontalCellAlignment_CenterAcrossSelection="CenterAcrossSelection",t.HorizontalCellAlignment_Default="Default",t.HorizontalCellAlignment_Distributed="Distributed",t.HorizontalCellAlignment_Fill="Fill",t.HorizontalCellAlignment_General="General",t.HorizontalCellAlignment_Justify="Justify",t.HorizontalCellAlignment_Left="Left",t.HorizontalCellAlignment_Right="Right",t.Icon_BlackCircle="Black Circle",t.Icon_BlackCircleWithBorder="Black Circle With Border",t.Icon_CircleWithOneWhiteQuarter="Circle With One White Quarter",t.Icon_CircleWithThreeWhiteQuarters="Circle With Three White Quarters",t.Icon_CircleWithTwoWhiteQuarters="Circle With Two White Quarters",t.Icon_FourBars="Signal Meter With Four Filled Bars",t.Icon_FourFilledBoxes="Four Filled Boxes",t.Icon_GoldStar="Gold Star",t.Icon_GrayCircle="Gray Circle",t.Icon_GrayDownArrow="Gray Down Arrow",t.Icon_GrayDownInclineArrow="Gray Down Incline Arrow",t.Icon_GraySideArrow="Gray Side Arrow",t.Icon_GrayUpArrow="Gray Up Arrow",t.Icon_GrayUpInclineArrow="Gray Up Incline Arrow",t.Icon_GreenCheck="Green Check",t.Icon_GreenCheckSymbol="Green Check Symbol",t.Icon_GreenCircle="Green Circle",t.Icon_GreenFlag="Green Flag",t.Icon_GreenTrafficLight="Green Traffic Light",t.Icon_GreenUpArrow="Green Up Arrow",t.Icon_GreenUpTriangle="Green Up Triangle",t.Icon_HalfGoldStar="Half Gold Star",t.Icon_OneBar="Signal Meter With One Filled Bar",t.Icon_OneFilledBox="One Filled Box",t.Icon_PinkCircle="Pink Circle",t.Icon_RedCircle="Red Circle",t.Icon_RedCircleWithBorder="Red Circle With Border",t.Icon_RedCross="Red Cross",t.Icon_RedCrossSymbol="Red Cross Symbol",t.Icon_RedDiamond="Red Diamond",t.Icon_RedDownArrow="Red Down Arrow",t.Icon_RedDownTriangle="Red Down Triangle",t.Icon_RedFlag="Red Flag",t.Icon_RedTrafficLight="Red Traffic Light",t.Icon_SilverStar="Silver Star",t.Icon_ThreeBars="Signal Meter With Three Filled Bars",t.Icon_ThreeFilledBoxes="Three Filled Boxes",t.Icon_TwoBars="Signal Meter With Two Filled Bars",t.Icon_TwoFilledBoxes="Two Filled Boxes",t.Icon_WhiteCircleAllWhiteQuarters="White Circle (All White Quarters)",t.Icon_YellowCircle="Yellow Circle",t.Icon_YellowDash="Yellow Dash",t.Icon_YellowDownInclineArrow="Yellow Down Incline Arrow",t.Icon_YellowExclamation="Yellow Exclamation",t.Icon_YellowExclamationSymbol="Yellow Exclamation Symbol",t.Icon_YellowFlag="Yellow Flag",t.Icon_YellowSideArrow="Yellow Side Arrow",t.Icon_YellowTrafficLight="Yellow Traffic Light",t.Icon_YellowTriangle="Yellow Triangle",t.Icon_YellowUpInclineArrow="Yellow Up Incline Arrow",t.Icon_ZeroBars="Signal Meter With No Filled Bars",t.Icon_ZeroFilledBoxes="Zero Filled Boxes",t.InvalidCommand_MixedSelection_Message="That command cannot be used with selections that contain a mix of entire rows/columns with other cells. Try selecting only entire rows, only entire columns or just groups of cells.",t.InvalidCommand_MultipleSelection_Message="That command cannot be used with multiple selections.\r\nSelect a single range and invoke the command again.",t.InvalidCommand_OverlappingSelection_Message="Cannot use that command on overlapping selections.",t.InvalidCommand_TableChangeWithMultipleSheetSelection_Message="Cannot make changes to a table when multiple sheets are selected.",t.InvalidDateTimeToolTip="Dates and times that are negative or too large display as #####.",t.InvalidNameBoxValue_Message="You must enter a valid reference you want to go to or type a valid name for the selection.",t.LE_MissingTemplatePart="A template part with a name of '{0}' and type '{1}' is required in the '{2}' template.",t.MenuItem_AllDatesInPeriod="All Dates in the _Period",t.MenuItem_AutoFit_Columns="_AutoFit Column Width",t.MenuItem_AutoFit_Rows="_AutoFit Row Height",t.MenuItem_Automatic="Automatic",t.MenuItem_ClearContents="Clear Co_ntents",t.MenuItem_ClearFilterEmpty="Cl_ear Filter",t.MenuItem_ClearFilterForColumn='Cl_ear Filter From "{0}"',t.MenuItem_ColorValue="RGB({0}, {1}, {2})",t.MenuItem_ConvertTableToRange="Con_vert to Range",t.MenuItem_Copy="_Copy",t.MenuItem_Cut="Cu_t",t.MenuItem_DateFilters="Date _Filters",t.MenuItem_Delete="_Delete",t.MenuItem_DeleteCells="_Delete",t.MenuItem_DeleteCells_Column="Entire _column",t.MenuItem_DeleteCells_DeleteTableColumns="Table _Columns",t.MenuItem_DeleteCells_DeleteTableRows="Table _Rows",t.MenuItem_DeleteCells_Row="Entire _row",t.MenuItem_DeleteCells_ShiftLeft="Shift cells _left",t.MenuItem_DeleteCells_ShiftUp="Shift cells _up",t.MenuItem_DeleteWorksheets="_Delete",t.MenuItem_Filter="Filt_er",t.MenuItem_Filter_AboveAverage="_Above Average",t.MenuItem_Filter_After="_After...",t.MenuItem_Filter_Before="_Before...",t.MenuItem_Filter_BeginsWith="Begins W_ith...",t.MenuItem_Filter_BelowAverage="Bel_ow Average",t.MenuItem_Filter_Between="Bet_ween...",t.MenuItem_Filter_Contains="Cont_ains...",t.MenuItem_Filter_Custom="Custom _Filter...",t.MenuItem_Filter_Day_Current="T_oday",t.MenuItem_Filter_Day_Next="_Tomorrow",t.MenuItem_Filter_Day_Previous="Yester_day",t.MenuItem_Filter_DoesNotContain="_Does Not Contain...",t.MenuItem_Filter_EndsWith="Ends Wi_th...",t.MenuItem_Filter_Equals="Equals...",t.MenuItem_Filter_GreaterThan="_Greater Than...",t.MenuItem_Filter_GreaterThanOrEqual="Greater Than _Or Equal To...",t.MenuItem_Filter_LessThan="_Less Than...",t.MenuItem_Filter_LessThanOrEqual="Less Than Or E_qual To...",t.MenuItem_Filter_Month_Current="Thi_s Month",t.MenuItem_Filter_Month_Next="Next _Month",t.MenuItem_Filter_Month_Previous="Last Mo_nth",t.MenuItem_Filter_NotEqual="Does _Not Equal...",t.MenuItem_Filter_Quarter_Current="This Q_uarter",t.MenuItem_Filter_Quarter_Next="Next _Quarter",t.MenuItem_Filter_Quarter_Previous="Last Qua_rter",t.MenuItem_Filter_QuarterNumber="Quarter _{0}",t.MenuItem_Filter_Top10="_Top 10...",t.MenuItem_Filter_Week_Current="T_his Week",t.MenuItem_Filter_Week_Next="Next Wee_k",t.MenuItem_Filter_Week_Previous="_Last Week",t.MenuItem_Filter_Year_Current="Th_is Year",t.MenuItem_Filter_Year_Next="Ne_xt Year",t.MenuItem_Filter_Year_Previous="Last _Year",t.MenuItem_Filter_YearToDate="Year to D_ate",t.MenuItem_FilterByCellColor="Filter by _Cell Color",t.MenuItem_FilterByCellFontColor="Filter by Selected Cell's _Font Color",t.MenuItem_FilterByCellIcon="Filter by Selected Cell's _Icon",t.MenuItem_FilterByCellValue="Filter by Selected Cell's _Value",t.MenuItem_FilterByColor="F_ilter by Color",t.MenuItem_FilterByFontColor="Filter by _Font Color",t.MenuItem_FilterByIcon="Filter by Conditional Formatting _Icon",t.MenuItem_GradientFill="Gradient",t.MenuItem_Hide="_Hide",t.MenuItem_Insert="_Insert",t.MenuItem_InsertCells="_Insert",t.MenuItem_InsertCells_AddTableColumn="Table Column to the _Right",t.MenuItem_InsertCells_AddTableRow="Table Row _Below",t.MenuItem_InsertCells_Column="Entire _column",t.MenuItem_InsertCells_InsertTableColumns="Table Columns to the _Left",t.MenuItem_InsertCells_InsertTableRows="Table Rows _Above",t.MenuItem_InsertCells_Row="Entire _row",t.MenuItem_InsertCells_ShiftDown="Shift cells _down",t.MenuItem_InsertCells_ShiftRight="Shift cells r_ight",t.MenuItem_InsertWorksheets="_Insert",t.MenuItem_NoFill="No Fill",t.MenuItem_NoIcon="No Icon",t.MenuItem_NumberFilters="Number _Filters",t.MenuItem_OpenHyperlink="_Open Hyperlink",t.MenuItem_Paste="_Paste",t.MenuItem_PickFromDropDownList="Pic_k From Drop-down List...",t.MenuItem_ReapplyFilter="_Reapply",t.MenuItem_RemoveHyperlink="_Remove Hyperlink",t.MenuItem_RemoveHyperlinks="_Remove Hyperlinks",t.MenuItem_RenameWorksheet="_Rename",t.MenuItem_Select="Se_lect",t.MenuItem_Select_SelectEntireTableColumn="_Entire Table Column",t.MenuItem_Select_SelectTableColumnData="Table _Column Data",t.MenuItem_Select_SelectTableRow="Table _Row",t.MenuItem_SelectAllWorksheets="_Select All Sheets",t.MenuItem_ShowFormatCellsDialog="_Format Cells...",t.MenuItem_Sort="S_ort",t.MenuItem_Sort_Custom="C_ustom Sort...",t.MenuItem_SortAscending_Date="_Sort Oldest to Newest",t.MenuItem_SortAscending_Number="_Sort Smallest to Largest",t.MenuItem_SortAscending_Text="_Sort A to Z",t.MenuItem_SortByCellColor="Put Selected _Cell Color On Top",t.MenuItem_SortByCellColorHeader="Sort by _Cell Color",t.MenuItem_SortByCellFontColor="Put Selected _Font Color On Top",t.MenuItem_SortByCellIcon="Put Selected _Icon On Top",t.MenuItem_SortByColor="Sor_t by Color",t.MenuItem_SortByFontColor="Sort by _Font Color",t.MenuItem_SortByIcon="Sort by Conditional Formatting _Icon",t.MenuItem_SortDescending_Date="S_ort Newest to Oldest",t.MenuItem_SortDescending_Number="S_ort Largest to Smallest",t.MenuItem_SortDescending_Text="S_ort Z to A",t.MenuItem_Table="Ta_ble",t.MenuItem_TextFilters="Text _Filters",t.MenuItem_ToggleTableTotalRow="_Totals Row",t.MenuItem_Unhide="_Unhide",t.MenuItem_UnselectWorksheets="_Ungroup Sheets",t.NewSheetName="Sheet{0}",t.PasteError_CellRangeSize_Message="The paste operation cannot be performed because the copy area and paste area are not the same size.\r\nTry one of the following:\r\n* Click one cell, then paste\r\n* Select a rectangle that's the same size, then paste.",t.PasteError_General_Message="An error occurred during the paste operation:\r\n{0}",t.PasteError_IntersectsMergedCells_Message="The paste operation cannot be performed because the paste area intersects with a merged cell.",t.PasteError_InvalidSelectedSheetCount_Message="The paste operation cannot be performed because the number of worksheets in the copy and paste areas are not the same size.",t.PasteError_InvalidSourceRanges_Message="The paste operation cannot be performed on the copy areas provided.",t.PasteError_MultipleSheetTables_Message="The paste operation cannot be performed because the source had multiple worksheets and there are tables in the source selection.",t.PasteError_MultipleSourceAndTargetRanges_Message="The paste operation cannot be performed because there are multiple selections in the source and target worksheets.",t.SheetNameError_Message_Invalid="You entered an invalid name '{0}' for the sheet. Make sure that:\r\n* The name is not blank.\r\n* There are no more than 31 characters in the name.\r\n* The name does not start or end with a single quote (').\r\n* The name does not contain any of the following characters: : \\ / ? * [ ]",t.SheetNameError_Message_NameIsUsed="A worksheet with the name '{0}' already exists in the workbook.",t.SortDialog_AddLevel="_Add Level",t.SortDialog_Cancel="Cancel",t.SortDialog_CellFill_Gradient="Gradient",t.SortDialog_CellFill_NoColor="No Color",t.SortDialog_Color_RGB="RGB ({0}, {1}, {2})",t.SortDialog_Column_ColumnHeader="Column",t.SortDialog_ColumnName="Column {0}",t.SortDialog_ConditionalFormatIcon_NoCellIcon="No Cell Icon",t.SortDialog_CopyLevel="_Copy Level",t.SortDialog_DeleteLevel="_Delete Level",t.SortDialog_MoveDown="Move Down",t.SortDialog_MoveUp="Move Up",t.SortDialog_MyDataHasHeaders="My data has _headers",t.SortDialog_OK="OK",t.SortDialog_Options="_Options...",t.SortDialog_Order_ColumnHeader="Order",t.SortDialog_Row_ColumnHeader="Row",t.SortDialog_RowName="Row {0}",t.SortDialog_SortBy_Label="Sort By",t.SortDialog_SortConditionError_DuplicateItemSorted="Duplicate sort conditions detected.",t.SortDialog_SortConditionError_FieldCannotBeNull="Sort condition field: '{0}' cannot be null",t.SortDialog_SortDirection_CustomList="Custom List...",t.SortDialog_SortDirection_Date_Ascending="Oldest to Newest",t.SortDialog_SortDirection_Date_Descending="Newest to Oldest",t.SortDialog_SortDirection_Number_Ascending="Smallest to Largest",t.SortDialog_SortDirection_Number_Descending="Largest to Smallest",t.SortDialog_SortDirection_Text_Ascending="A to Z",t.SortDialog_SortDirection_Text_Descending="Z to A",t.SortDialog_SortDirectionLeftOrRight_Ascending="On Left",t.SortDialog_SortDirectionLeftOrRight_Descending="On Right",t.SortDialog_SortDirectionTopOrBottom_Ascending="On Top",t.SortDialog_SortDirectionTopOrBottom_Descending="On Bottom",t.SortDialog_SortOn_ColumnHeader="Sort On",t.SortDialog_Text_Automatic="Automatic",t.SortDialog_ThenBy_Label="Then By",t.SortDialog_Title="Sort",t.SortOptionsDialog_Cancel="Cancel",t.SortOptionsDialog_CaseSensitive="_Case sensitive",t.SortOptionsDialog_OK="OK",t.SortOptionsDialog_Orientation="Orientation",t.SortOptionsDialog_SortLeftToRight="Sort _left to right",t.SortOptionsDialog_SortTopToBottom="Sort _top to bottom",t.SortOptionsDialog_Title="Sort Options",t.SpreadsheetFontControl_ColorLabel="_Color:",t.SpreadsheetFontControl_FontLabel="_Font:",t.SpreadsheetFontControl_FontStyle_Bold="Bold",t.SpreadsheetFontControl_FontStyle_BoldItalic="Bold Italic",t.SpreadsheetFontControl_FontStyle_Italic="Italic",t.SpreadsheetFontControl_FontStyle_Regular="Regular",t.SpreadsheetFontControl_FontStyleLabel="F_ont style:",t.SpreadsheetFontControl_NormalFontLabel="_Normal font",t.SpreadsheetFontControl_SizeLabel="_Size:",t.SpreadsheetFontControl_StrikethroughLabel="Stri_kethrough",t.SpreadsheetFontControl_SubscriptLabel="Su_bscript",t.SpreadsheetFontControl_SuperscriptLabel="Su_perscript",t.SpreadsheetFontControl_Text_Automatic="Automatic",t.SpreadsheetFontControl_Text_Effects="Effects",t.SpreadsheetFontControl_Text_NoColor="No Color",t.SpreadsheetFontControl_Text_Preview="Preview",t.SpreadsheetFontControl_UnderlineLabel="_Underline:",t.SpreadsheetSortDialogConditionTypes_CustomListSortCondition_DisplayText="Custom List",t.SpreadsheetSortDialogConditionTypes_FillSortCondition_DisplayText="Cell Color",t.SpreadsheetSortDialogConditionTypes_FontColorSortCondition_DisplayText="Font Color",t.SpreadsheetSortDialogConditionTypes_IconSortCondition_DisplayText="Conditional Formatting Icon",t.SpreadsheetSortDialogConditionTypes_OrderedSortCondition_DisplayText="Cell Values",t.SpreadsheetThemeColorPickerControl_Text_Automatic="Automatic",t.SpreadsheetThemeColorPickerControl_Text_NoColor="No Color",t.SpreadsheetThemeColorPickerControl_Text_StandardColors="Standard Colors",t.SpreadsheetThemeColorPickerControl_Text_ThemeColors="Theme Colors",t.ToolTip_FormulaBarCancelButton="Cancel",t.ToolTip_FormulaBarEnterButton="Enter",t.ToolTip_FormulaBarNameBox="Name Box",t.ToolTip_FormulaBarTextEditor="Formula Bar",t.TopOrBottomDialog_Cancel="Cancel",t.TopOrBottomDialog_OK="OK",t.TopOrBottomDialog_Show="Show",t.TopOrBottomDialog_Title="Top 10 AutoFilter",t.TotalRow_Average="Average",t.TotalRow_Count="Count",t.TotalRow_CountNumbers="Count Numbers",t.TotalRow_Max="Max",t.TotalRow_Min="Min",t.TotalRow_None="None",t.TotalRow_StdDev="StdDev",t.TotalRow_Sum="Sum",t.TotalRow_Var="Var",t.Undo_AddTableColumn="Add Table Column",t.Undo_AddTableRow="Add Table Row",t.Undo_AutoFilterOff="AutoFilter Off",t.Undo_AutoFilterOn="AutoFilter On",t.Undo_Bold="Bold",t.Undo_Borders="Borders",t.Undo_BottomAlignment="Bottom Alignment",t.Undo_CenterAlignment="Center Alignment",t.Undo_ChangeTotalRowFormula="Change Total Row Formula",t.Undo_ChartAdd="Insert Chart",t.Undo_ChartModify="Modify Chart",t.Undo_ChartRemove="Remove Chart",t.Undo_ClearCellContents="Clear {0}",t.Undo_ClearCellFormats="Clear",t.Undo_ClearHyperlinks="Clear Hyperlinks",t.Undo_ClearShapes="Clear Shapes",t.Undo_ClearTables="Clear Tables",t.Undo_ConditionalFormat="Conditional Formatting",t.Undo_ConvertTableToRange="Convert Table to Range",t.Undo_CreateNamedReference="Define Name",t.Undo_CreateTable="Create Table",t.Undo_Cut="Cut",t.Undo_Delete="Delete",t.Undo_DeleteTableColumn="Delete Column",t.Undo_DeleteTableRow="Delete Row",t.Undo_EditCell="Typing '{1}' in {0}",t.Undo_Entry="Entry",t.Undo_Filter="Filter",t.Undo_Font="Font",t.Undo_FontSize="Font Size",t.Undo_FormatCells="Format Cells",t.Undo_Group="Group",t.Undo_Hyperlink="Hyperlink",t.Undo_InsertCells="Insert Cells",t.Undo_InsertColumns="Insert Columns",t.Undo_InsertRows="Insert Rows",t.Undo_InsertTableColumns="Insert Columns",t.Undo_InsertTableRows="Insert Rows",t.Undo_Italic="Italic",t.Undo_JustifyAlignment="Justify Alignment",t.Undo_LeftAlignment="Left Alignment",t.Undo_MergeCells="Merge Cells",t.Undo_MiddleAlignment="Center Vertically Alignment",t.Undo_Paste="Paste",t.Undo_Reapply="Reapply",t.Undo_RemoveHyperlinks="Remove Hyperlinks",t.Undo_RemoveTable="Remove Table",t.Undo_ResetOptions="Reset Options",t.Undo_ResizeColumn="Column Width",t.Undo_ResizeRow="Row Height",t.Undo_RightAlignment="Right Alignment",t.Undo_Shape="Shape",t.Undo_ShapeAdd="Insert Shape",t.Undo_ShapeRemove="Remove Shape",t.Undo_ShowAll="Show All",t.Undo_Sort="Sort",t.Undo_SparklineAdd="Insert Sparkline",t.Undo_SparklineColorChange="Sparkline Color Change",t.Undo_SparklineDataChange="Sparkline Data Change",t.Undo_SparklineRemove="Clear Sparklines",t.Undo_SparklineStyleChange="Sparkline Style Change",t.Undo_SparklineTypeChange="Sparkline Type Change",t.Undo_Strikethrough="Strikethrough",t.Undo_Style="Style",t.Undo_TabColor="Tab Color",t.Undo_TableAutoExpansion="Table AutoExpansion",t.Undo_ToggleTotalRow="Toggle Total Row",t.Undo_TopAlignment="Top Alignment",t.Undo_Underline="Underline",t.Undo_View="View Change",t.Undo_WrapText="Wrap Text",t.Undo_Zoom="Zoom",t.VerticalCellAlignment_Bottom="Bottom",t.VerticalCellAlignment_Center="Center",t.VerticalCellAlignment_Default="Default",t.VerticalCellAlignment_Distributed="Distributed",t.VerticalCellAlignment_Justify="Justify",t.VerticalCellAlignment_Top="Top",n.ig.spreadsheet=n.ig.spreadsheet||{},n.ig.spreadsheet.locale=n.ig.spreadsheet.locale||t,t}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.Templating=n.ig.Templating||{},n.ig.locale.en.Templating={undefinedArgument:"An error has occurred while trying to retrieve data source property: "},n.ig.Templating.locale=n.ig.Templating.locale||n.ig.locale.en.Templating,n.ig.locale.en.Templating}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.Barcode=n.ig.Barcode||{},n.ig.locale.en.Barcode={aILength:"The AI should have at least 2 digits.",badFormedUCCValue:"The Data property value of the UCC barcode is not well formed. It should look like (AI)GTIN.",code39_NonNumericError:"The character '{0}' is invalid for CODE39 Data property value. The valid ones are: {1}",countryError:"Error converting Country property value code. It should be a numeric value.",emptyValueMsg:"The Data property value is empty.",encodingError:"Error in the convertion. Refer to the documentation for the valid property values.",errorMessageText:"Invalid value! Reference the documentation for the valid barcode Data property value structure.",gS1ExMaxAlphanumNumber:"The GS1 DataBar Expanded family can encode up to 41 alphanumeric characters.",gS1ExMaxNumericNumber:"The GS1 DataBar Expanded family can encode up to 74 numeric characters.",gS1Length:"The GS1 DataBar Data property value is used for GTIN - 8, 12, 13, 14 and its length should be 7, 11, 12 or 13. The last digit is reserved for a check sum.",gS1LimitedFirstChar:"GS1 DataBar Limited barcode should have 0 or 1 in the first digit. When encoding GTIN-14 data with an Indicator value greater than 1, Omnidirectional, Stacked, Stacked Omnidirectional or Truncated barcode type must be used.",i25Length:"The Interleaved2of5 barcode should have even number of digits. You can put 0 in the front of it if they are odd number.",intelligentMailLength:"The length of the Intelligent Mail barcode Data property value should be 20, 25, 29 or 31 characters - 20 digits track code (2 for barcode identifier, 3 for service type identifier, 6 or 9 for mailer identifier and 9 or 6 for serial number) and 0, 5, 9 or 11 zip code symbols.",intelligentMailSecondDigit:"The second digit should be in the range of 0-4.",invalidAI:"Invalid Application Identifier element strings. Please, ensure that the AI string in the Data property value is well formed.",invalidCharacter:"The character '{0}' is invalid for the current barcode type. The valid ones are: {1}",invalidDimension:"The barcode dimension cannot be determined because of an incorrect combination of Stretch, BarsFillMode and XDimension property values.",invalidHeight:"This number of barcode grid rows ({0}) cannot fit in such a height ({1} pixel(s)).",invalidLength:"The barcode Data property value should have {0} digit(s).",invalidPostalCode:"Invalid PostalCode value - Mode 2 encodes up to 9 digits postal code (U.S. zip code) while Mode 3 encodes up to 6 characters alpha-numeric code.",invalidPropertyValue:"The {0} property value should be in the range of {1}-{2}.",invalidVersion:"The SizeVersion propery value number does not generate enough cells to encode the data with the current encoding mode and error correction level.",invalidWidth:"This number of barcode grid columns ({0}) cannot fit in such a width ({1} pixel(s)). Check the XDimension or/and the WidthToHeightRatio property values.",invalidXDimensionValue:"The XDimension property value should be in the range of {0} to {1} for the current barcode type.",maxLength:"The length {0} of the text exceeds the maximum encodable for the current type of barcode. It could encode max {1} characters.",notSupportedEncoding:"The encoding corresponding under the {0} {1} is not supported.",pDF417InvalidRowsColumnsCombination:"The codewords (data & error correction) are more than can be encoded in symbol with a matrix {0}x{1}.",primaryMessageError:"Cannot extract the primary message from the Data property value. Refer to the documentation for its structure.",serviceClassError:"Error converting service class. It should be a numeric value.",smallSize:"Cannot fit the grid in Size({0}, {1}) with the defined Stretch settings.",unencodableCharacter:"The character '{0}' cannot be encoded.",uPCEFirstDigit:"The first UPCE digit shall always be zero by specification.",warningString:"Barcode warning: ",wrongCompactionMode:"The Data property value cannot be compacted with {0} mode.",notLoadedEncoding:"The {0} encoding is not loaded."},n.ig.Barcode.locale=n.ig.Barcode.locale||n.ig.locale.en.Barcode,n.ig.locale.en.Barcode}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.BulletGraph=n.ig.BulletGraph||{},n.ig.locale.en.BulletGraph={rangeNameMissing:"Range name is missing for range: "},n.ig.BulletGraph.locale=n.ig.BulletGraph.locale||n.ig.locale.en.BulletGraph,n.ig.locale.en.BulletGraph}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.Combo=n.ig.Combo||{},n.ig.locale.en.Combo={noMatchFoundText:"No matches found",dropDownButtonTitle:"Show drop-down",clearButtonTitle:"Clear value",placeHolder:"select...",notSuported:"Operation is not supported.",errorNoSupportedTextsType:"A different filtering text is required. Provide a value that is either a string or an array of strings.",errorUnrecognizedHighlightMatchesMode:"A different highlight matches mode is required. Choose a value between 'multi', 'contains', 'startsWith', 'full' and 'null'.",errorIncorrectGroupingKey:"Grouping key is not correct."},n.ig.Combo.locale=n.ig.Combo.locale||n.ig.locale.en.Combo,n.ig.locale.en.Combo}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.Dialog=n.ig.Dialog||{},n.ig.locale.en.Dialog={closeButtonTitle:"Close",minimizeButtonTitle:"Minimize",maximizeButtonTitle:"Maximize",pinButtonTitle:"Pin",unpinButtonTitle:"Unpin",restoreButtonTitle:"Restore",setOptionError:"Runtime changes are not allowed for the following option: "},n.ig.Dialog.locale=n.ig.Dialog.locale||n.ig.locale.en.Dialog,n.ig.locale.en.Dialog}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.igDoughnutChart=n.ig.igDoughnutChart||{},n.ig.locale.en.igDoughnutChart={invalidBaseElement:" is not supported as base element. Use DIV instead."},n.ig.igDoughnutChart.locale=n.ig.igDoughnutChart.locale||n.ig.locale.en.igDoughnutChart,n.ig.locale.en.igDoughnutChart}(n),function(n){return n.ig=n.ig||{},n.ig.Editor=n.ig.Editor||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Editor={spinUpperTitle:"Increment",spinLowerTitle:"Decrement",buttonTitle:"Show list",clearTitle:"Clear value",ariaTextEditorFieldLabel:"Text Editor",ariaNumericEditorFieldLabel:"Numeric Editor",ariaCurrencyEditorFieldLabel:"Currency Editor",ariaPercentEditorFieldLabel:"Percent Editor",ariaMaskEditorFieldLabel:"Mask Editor",ariaDateEditorFieldLabel:"Date Editor",ariaDatePickerFieldLabel:"Date Picker",ariaTimePickerFieldLabel:"Time Picker",ariaSpinUpButton:"Spin up",ariaSpinDownButton:"Spin down",ariaDropDownButton:"Drop down",ariaClearButton:"Clear",ariaCalendarButton:"Calendar",datePickerButtonTitle:"Show calendar",updateModeUnsupportedValue:'updateMode requires a different configuration. Choose a value between "onChange" and "immediate".',updateModeNotSupported:'updateMode property supports only "onchange" mode for igMaskEditor, igDateEditor and igDatePicker extensions',renderErrMsg:"A base editor cannot be instantiated directly. Try with a text, numeric, date, or other editor.",multilineErrMsg:'textArea requires a different configuration. The textMode should be set to "multiline".',targetNotSupported:"This target element is not supported.",placeHolderNotSupported:"The placeholder attribute is not supported by your browser.",allowedValuesMsg:"Pick a value from the drop-down list",maxLengthErrMsg:"Entry is too long and was trimmed to {0} symbols",maxLengthWarningMsg:"Entry reached the maximum length of {0} for this field",minLengthErrMsg:"At least {0} characters should be entered",maxValErrMsg:"Entry reached the maximum value of {0} for this field",minValErrMsg:"Entry reached the minimum value of {0} for this field",maxValExceedRevertErrMsg:"Entry exceeded the maximum value of {0} and was reverted to previous one",minValExceedRevertErrMsg:"Entry was less than the minimum value of {0} and was reverted to previous one",maxValExceedSetErrMsg:"Entry exceeded the maximum value of {0} and was set to the maximum value",minValExceedSetErrMsg:"Entry was less than the minimum value of {0} and was set to the minimum value",maxValExceededWrappedAroundErrMsg:"Entry exceeded the maximum value of {0} and was set to the minimum allowed one",minValExceededWrappedAroundErrMsg:"Entry was less than the minimum value of {0} and was set to the maximum allowed one",btnValueNotSupported:'A different button value is required. Choose a value between "dropdown", "clear" and "spin".',scientificFormatErrMsg:'A different scientificFormat is required. Choose a value between "E", "e", "E+" and "e+".',spinDeltaIsOfTypeNumber:"A different type of spinDelta is required. A positive number should be entered.",spinDeltaIsOfTypeNumberForPeriod:"A different type of spinDelta is required for the {0}. A positive number between {1} and {2} should be entered.",spinDeltaIsOfTypeNumberOrObject:"A different type of spinDelta is required. A positive number or an object, defining different time period deltas, should be entered.",spinDeltaShouldBeInRange:"The spinDelta option for {0} should be between {1} and {2}",spinDeltaCouldntBeNegative:"The spinDelta option cannot be negative. A positive number should be entered.",spinDeltaContainsExceedsMaxDecimals:"Maximum allowed fractions for spinDelta are set to {0}. Either change MaxDecimals or try to shrink your value.",spinDeltaIncorrectFloatingPoint:'A floating point spinDelta requires a different configuration. Set the dataMode of the editor to either "double" or "float" or set spinDelta to integer.',numericEditorNoSuchMethod:"The numeric editor does not support this method.",numericEditorNoSuchOption:"The numeric editor does not support this option.",displayFactorIsOfTypeNumber:"displayFactor requires a different value. Its value should be set to 1 or 100 as a number.",displayFactorAllowedValue:"displayFactor requires a different value. Its value should be set to 1 or 100 as a number.",instantiateCheckBoxErrMsg:"igCheckboxEditor requires a different element. Use INPUT, SPAN or DIV element.",cannotParseNonBoolValue:"igCheckboxEditor requires a different value. A boolean value should be provided.",cannotSetNonBoolValue:"igCheckboxEditor requires a different value. A boolean value should be provided.",maskEditorNoSuchMethod:"The mask editor does not support this method.",datePickerEditorNoSuchMethod:"The date editor does not support this method.",datePickerNoSuchMethodDropDownContainer:"The date editor does not support this method. Use 'getCalendar' one instead.",buttonTypeIsDropDownOnly:"Datepicker allows only dropdown and clear values for the buttonType option.",dateEditorOffsetRange:"The displayTimeOffset option should be between -720 and 840, which represents the offset in minutes, according to the UTC, of all the timezones from the westernmost (−12:00) to the easternmost (+14:00).",setOptionError:"Runtime changes are not allowed for the following option: ",invalidDate:"Invalid date",maskMessage:"All required positions should be filled",maskRevertMessage:"All required positions should be filled, that is why the value was reverted to the last valid one.",dateMessage:"A valid date should be entered",centuryThresholdValidValues:"centuryThreshold property shoud be between 0 and 99.",noListItemsNoButton:"No spin or dropdown button is rendered because there are no listitems.",decimalNumber:"When dataMode is '{0}', the {1} option can accept numeric values between 0 and {2}.",decimalSeparatorErrorMsg:"The decimalSeparator option requires a different value. Its value should be a single character.",decimalSeparatorEqualsGroupSeparatorErrorMsg:"The groupSeparator and the decimalSeparator options can not have equal values.",timePickerNoSuchMethod:"The time picker does not support this method."},n.ig.Editor.locale=n.ig.Editor.locale||n.ig.locale.en.Editor,n.ig.locale.en.Editor}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.Grid=n.ig.Grid||{},n.ig.locale.en.Grid={noSuchWidget:"{featureName} was not recognized. Verify that such a feature exists and the spelling is correct.",autoGenerateColumnsNoRecords:"autoGenerateColumns is enabled, but there are no records in the data source. Load a data source with records to be able to determine the columns.",optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",optionChangeNotScrollingGrid:"{optionName} cannot be edited after initialization because your grid initially does not scroll and full re-rendering will be required. This option should be set during initialization.",widthChangeFromPixelsToPercentagesNotSupported:"Cannot change dynamically option width of the grid from pixels to percentages.",widthChangeFromPercentagesToPixelsNotSupported:"Cannot change dynamically option width of the grid from percentages to pixels.",noPrimaryKeyDefined:"There is no primary key defined for the grid. Define a primary key in order to use features such as Grid Editing.",indexOutOfRange:"The specified row index is out of range. A row index between 0 and {max} should be provided.",noSuchColumnDefined:"The specified column key is not valid. A column key that matches the key of one of the defined grid columns should be provided.",columnIndexOutOfRange:"The specified column index is out of range. A column index between 0 and {max} should be provided.",recordNotFound:"A record with id {id} could not be found in the data view. Verify the id used for the search and adjust it if necessary.",columnNotFound:"A column with key {key} could not be found. Verify the key used for the search and adjust it if necessary.",colPrefix:"Column ",columnVirtualizationRequiresWidth:"Virtualization and columnVirtualization require the width of the grid or its columns to be set. Provide a value for the grid width, defaultColumnWidth or the width of each column.",virtualizationRequiresHeight:"Virtualization requires the height of the grid to be set. A value for the grid height should be provided.",colVirtualizationDenied:"columnVirtualization requires a different virtualizationMode setting. The virtualizationMode should be set to 'fixed'.",noColumnsButAutoGenerateTrue:"autoGenerateColumns is disabled and no columns are defined for the grid. Either enable autoGenerateColumns or manually specify the columns.",expandTooltip:"Expand Row",collapseTooltip:"Collapse Row",movingNotAllowedOrIncompatible:"The specified column could not be moved. Verify that such a column exists and its end position would not break the column layout.",allColumnsHiddenOnInitialization:"All columns cannot be hidden during initialization. At least one column should be configured as visible.",virtualizationNotSupportedWithAutoSizeCols:"Virtualization requires a different column width configuration than '*'. The column width should be set as a number in pixels.",columnVirtualizationNotSupportedWithPercentageWidth:"Column virtualization requires a different grid width configuration. The column width should be set as a number in pixels.",mixedWidthsNotSupported:"All columns are required to have their width set the same way. Set all column widths either as percentages or as number in pixels.",multiRowLayoutColumnError:"The column with key: {key1} could not be added to Multi-Row Layout because its place in the layout has already been taken by the column with key: {key2} .",multiRowLayoutNotComplete:"The Multi-Row Layout is not complete. The column definition creates a layout that has empty spaces and cannot be rendered correctly.",multiRowLayoutMixedWidths:"Mixed widths (percentage and pixels) are not supported in the Multi-Row Layout. Please define all column widths in either pixels or percentage. ",multiRowLayoutHidingNotSupported:"The Multi-Row Layout does not support hidden columns. Please remove hidden columns from the column definitions.",scrollableGridAreaNotVisible:"Fixed header and footer areas are larger than the available grid height. The scrollable area is not visible.Please set a larger grid height.",featureNotSupportedWithMRL:"{featureName} is not supported with Multi-Row Layout. Please remove the feature from the features' list.",editorTypeCannotBeDetermined:"Updating did not have enough information to properly determine the type of editor to use for column: "},n.ig.HierarchicalGrid=n.ig.HierarchicalGrid||{},n.ig.locale.en.HierarchicalGrid={noPrimaryKey:"igHierarchicalGrid requires a primary key to be defined. A primary key should be provided.",expandTooltip:"Expand Row",collapseTooltip:"Collapse Row"},n.ig.GridFeatureChooser=n.ig.GridFeatureChooser||{},n.ig.locale.en.GridFeatureChooser={featureChooserTooltip:"Feature chooser"},n.ig.GridFiltering=n.ig.GridFiltering||{},n.ig.locale.en.GridFiltering={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",startsWithNullText:"Starts with...",endsWithNullText:"Ends with...",containsNullText:"Contains...",doesNotContainNullText:"Does not contain...",equalsNullText:"Equals...",doesNotEqualNullText:"Does not equal...",greaterThanNullText:"Greater than...",lessThanNullText:"Less than...",greaterThanOrEqualToNullText:"Greater than or equal to...",lessThanOrEqualToNullText:"Less than or equal to...",onNullText:"On...",notOnNullText:"Not on...",afterNullText:"After",beforeNullText:"Before",emptyNullText:"Empty",notEmptyNullText:"Not empty",nullNullText:"Null",notNullNullText:"Not null",emptyLabel:"Empty",notEmptyLabel:"Not empty",nullLabel:"Null",notNullLabel:"Not null",startsWithLabel:"Starts with",endsWithLabel:"Ends with",containsLabel:"Contains",doesNotContainLabel:"Does not contain",equalsLabel:"Equals",doesNotEqualLabel:"Does not equal",greaterThanLabel:"Greater than",lessThanLabel:"Less than",greaterThanOrEqualToLabel:"Greater than or equal to",lessThanOrEqualToLabel:"Less than or equal to",trueLabel:"True",falseLabel:"False",afterLabel:"After",beforeLabel:"Before",todayLabel:"Today",yesterdayLabel:"Yesterday",thisMonthLabel:"This month",lastMonthLabel:"Last month",nextMonthLabel:"Next month",thisYearLabel:"This year",lastYearLabel:"Last year",nextYearLabel:"Next year",atLabel:"At",atNullText:"At...",notAtLabel:"Not at",notAtNullText:"Not at...",atBeforeLabel:"At or before",atBeforeNullText:"At or before...",atAfterLabel:"At or after",atAfterNullText:"At or after...",clearLabel:"Clear Filter",noFilterLabel:"No",onLabel:"On",notOnLabel:"Not on",advancedButtonLabel:"Advanced",filterDialogCaptionLabel:"Advanced Filter",filterDialogConditionLabel1:"Show records matching ",filterDialogConditionLabel2:" of the following criteria",filterDialogConditionDropDownLabel:"Filtering condition",filterDialogOkLabel:"Search",filterDialogCancelLabel:"Cancel",filterDialogAnyLabel:"ANY",filterDialogAllLabel:"ALL",filterDialogAddLabel:"Add",filterDialogErrorLabel:"You reached the maximum number of filters supported.",filterDialogCloseLabel:"Close filtering dialog",filterSummaryTitleLabel:"Search results",filterSummaryTemplate:"${matches} matching records",filterDialogClearAllLabel:"Clear ALL",tooltipTemplate:"${condition} filter applied",featureChooserText:"Hide Filter",featureChooserTextHide:"Show Filter",featureChooserTextAdvancedFilter:"Advanced Filter",virtualizationSimpleFilteringNotAllowed:"Column virtualization requires a different type of filtering. Set filtering mode to 'advanced' or disable advancedModeEditorsVisible",multiRowLayoutSimpleFilteringNotAllowed:"Multi-Row Layout requires a different type of filtering. Set filtering mode to 'advanced'",featureChooserNotReferenced:"A reference to Feature Chooser is missing. Include infragistics.ui.grid.featurechooser.js in your project, use a loader or one of the combined script files.",conditionListLengthCannotBeZero:"The conditionList array in columnSettings is empty. A suitable array for the conditionList should be provided.",conditionNotValidForColumnType:"The condition '{0}' is not valid for the current configuration. It should be replaced with a condition suitable for {1} column type.",defaultConditionContainsInvalidCondition:"defaultExpression for the '{0}' column contains a condition that is not allowed. It should be replaced it with a condition suitable for {0} column type.",initialConditionIsNotInTheConditionsListArrayOrIsNotInTheDefaultConditions:"The initial condition set in the columnSettings for column '{0}' is not from the default(or custom conditions) or is not avaliable in the conditionList array set in columnSettins.Please apply a valid condition."},n.ig.GridGroupBy=n.ig.GridGroupBy||{},n.ig.locale.en.GridGroupBy={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",emptyGroupByAreaContent:"Drag a column here or {0} to Group By",emptyGroupByAreaContentSelectColumns:"select columns",emptyGroupByAreaContentSelectColumnsCaption:"select columns",expandTooltip:"Expand Grouped Row",collapseTooltip:"Collapse Grouped Row",removeButtonTooltip:"Remove Grouped Column",modalDialogCaptionButtonDesc:"Sort ascending",modalDialogCaptionButtonAsc:"Sort descending",modalDialogCaptionButtonUngroup:"Ungroup",modalDialogGroupByButtonText:"Group By",modalDialogCaptionText:"Add to Group By",modalDialogDropDownLabel:"Showing:",modalDialogClearAllButtonLabel:"Clear ALL",modalDialogRootLevelHierarchicalGrid:"Root",modalDialogDropDownButtonCaption:"Show/Hide",modalDialogButtonApplyText:"Apply",modalDialogButtonCancelText:"Cancel",fixedVirualizationNotSupported:"Group By requires another virtualization setting. The virtualizationMode should be set to 'continuous'.",summaryRowTitle:"Grouping summary row",summaryIconTitle:"Summary for {0}: {1}"},n.ig.GridHiding=n.ig.GridHiding||{},n.ig.locale.en.GridHiding={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",columnChooserDisplayText:"Column Chooser",hiddenColumnIndicatorTooltipText:"Hidden Column(s)",columnHideText:"Hide",columnChooserCaptionLabel:"Column Chooser",columnChooserCloseButtonTooltip:"Close",hideColumnIconTooltip:"Hide",featureChooserNotReferenced:"A reference to Feature Chooser is missing. Include infragistics.ui.grid.featurechooser.js in your project or use one of the combined script files.",columnChooserShowText:"Show",columnChooserHideText:"Hide",columnChooserResetButtonLabel:"Reset",columnChooserButtonApplyText:"Apply",columnChooserButtonCancelText:"Cancel"},n.ig.GridResizing=n.ig.GridResizing||{},n.ig.locale.en.GridResizing={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",noSuchVisibleColumn:"There is no visible column for the specified key. The showColumn() method should be used on the column before trying to resize it.",resizingAndFixedVirtualizationNotSupported:"Resizing columns requires a different virtualization setting. Use rowVirtualization and set the virtualizationMode to 'continuous'."},n.ig.GridPaging=n.ig.GridPaging||{},n.ig.locale.en.GridPaging={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",pageSizeDropDownLabel:"Show ",pageSizeDropDownTrailingLabel:"records",nextPageLabelText:"Next",prevPageLabelText:"Prev",firstPageLabelText:"",lastPageLabelText:"",currentPageDropDownLeadingLabel:"Pg",currentPageDropDownTrailingLabel:"of ${count}",currentPageDropDownTooltip:"Choose page index",pageSizeDropDownTooltip:"Choose number of records per page",pagerRecordsLabelTooltip:"Current records range",prevPageTooltip:"Previous page",nextPageTooltip:"Next page",firstPageTooltip:"First page",lastPageTooltip:"Last page",pageTooltipFormat:"Page ${index}",pagerRecordsLabelTemplate:"${startRecord} - ${endRecord} of ${recordCount} records",invalidPageIndex:"The specified page index is not valid. Provide a page index that is greater than or equal to 0 and less than the total number of pages."},n.ig.GridSelection=n.ig.GridSelection||{},n.ig.locale.en.GridSelection={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",persistenceImpossible:"Persisting selection requires a different configuration. The primary key option of the grid should be configured."},n.ig.GridRowSelectors=n.ig.GridRowSelectors||{},n.ig.locale.en.GridRowSelectors={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",selectionNotLoaded:"igGridSelection has not been initialized. Selection should be enabled for the grid.",columnVirtualizationEnabled:"Row Selectors require a different virtualization setting. Use rowVirtualization or set the virtualizationMode to 'continuous'.",selectedRecordsText:"You have selected ${checked} records.",deselectedRecordsText:"You have deselected ${unchecked} records.",selectAllText:"Select all ${totalRecordsCount} records",deselectAllText:"Deselect all ${totalRecordsCount} records",requireSelectionWithCheckboxes:"Selection is required when there are checkboxes enabled"},n.ig.GridSorting=n.ig.GridSorting||{},n.ig.locale.en.GridSorting={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",sortedColumnTooltip:"Sorted ${direction}",unsortedColumnTooltip:"Sort column",ascending:"ascending",descending:"descending",modalDialogSortByButtonText:"Sort by",modalDialogResetButton:"Reset",modalDialogCaptionButtonDesc:"Click to sort descending",modalDialogCaptionButtonAsc:"Click to sort ascending",modalDialogCaptionButtonUnsort:"Click to remove sorting",featureChooserText:"Sort on Multiple",modalDialogCaptionText:"Sort on Multiple",modalDialogButtonApplyText:"Apply",modalDialogButtonCancelText:"Cancel",sortingHiddenColumnNotSupport:"The specified column could not be sorted because it is hidden. Use the showColumn() method on it before trying to sort it.",featureChooserSortAsc:"Sort ascending",featureChooserSortDesc:"Sort descending"},n.ig.GridSummaries=n.ig.GridSummaries||{},n.ig.locale.en.GridSummaries={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",featureChooserText:"Hide Summaries",featureChooserTextHide:"Show Summaries",dialogButtonOKText:"OK",dialogButtonCancelText:"Cancel",emptyCellText:"",summariesHeaderButtonTooltip:"Show/Hide summaries",defaultSummaryRowDisplayLabelCount:"Count",defaultSummaryRowDisplayLabelMin:"Min",defaultSummaryRowDisplayLabelMax:"Max",defaultSummaryRowDisplayLabelSum:"Sum",defaultSummaryRowDisplayLabelAvg:"Avg",defaultSummaryRowDisplayLabelCustom:"Custom",calculateSummaryColumnKeyNotSpecified:"Column key is missing. A column key should be specified to calculate summaries.",featureChooserNotReferenced:"A reference to Feature Chooser is missing. Include infragistics.ui.grid.featurechooser.js in your project or use one of the combined script files."},n.ig.GridUpdating=n.ig.GridUpdating||{},n.ig.locale.en.GridUpdating={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",doneLabel:"Done",doneTooltip:"Stop editing and update",cancelLabel:"Cancel",cancelTooltip:"Stop editing without updating",addRowLabel:"Add new row",addRowTooltip:"Start adding a new row",deleteRowLabel:"Delete row",deleteRowTooltip:"Delete row",igTextEditorException:"It is currently not possible to update string columns in the grid. ui.igTextEditor should be loaded first.",igNumericEditorException:"It is currently not possible to update numeric columns in the grid. ui.igNumericEditor should be loaded first.",igCheckboxEditorException:"It is currently not possible to update checkbox columns in the grid. ui.igCheckboxEditor should be loaded first.",igCurrencyEditorException:"It is currently not possible to update numeric columns with currency format in the grid. ui.igCurrencyEditor should be loaded first.",igPercentEditorException:"It is currently not possible to update numeric columns with percent format in the grid. ui.igPercentEditor should be loaded first.",igDateEditorException:"It is currently not possible to update date columns in the grid. ui.igDateEditor should be loaded first.",igDatePickerException:"It is currently not possible to update date columns in the grid. ui.igDatePicker should be loaded first.",igTimePickerException:"It is currently not possible to update date columns in the grid. ui.igTimePicker should be loaded first.",igComboException:"It is currently not possible to use a combo in the grid. ui.igCombo should be loaded first.",igRatingException:"It is currently not possible to use igRating as an editor in the grid. ui.igRating should be loaded first.",igValidatorException:"It is currently not possible to support validation with the options defined in igGridUpdating. ui.igValidator should be loaded first.",noPrimaryKeyException:"In order to support update operations after a row was deleted, application should define primaryKey in options of igGrid.",hiddenColumnValidationException:"Cannot edit row which has a hidden column with enabled validation.",dataDirtyException:"Grid has pending transactions which may affect rendering of data. To prevent exception, application may enable autoCommit option of igGrid, or it should process dataDirty event of igGridUpdating and return false. While processing that event, application also may do commit() data in igGrid.",recordOrPropertyNotFoundException:"The specified record or property was not found. Verify the criteria for your search and adjust them if necessary.",rowUpdatingNotSupportedWithColumnVirtualization:'Updating with editMode: "row" requires different configuration. columnVirtualization should be disabled.',rowEditDialogCaptionLabel:"Edit row data",excelNavigationNotSupportedWithCurrentEditMode:"Excel Navigation requires a different configuration. editMode should be set to 'cell' or 'row'",columnNotFound:"The specified column key was not found in the visible columns' collection or the specified index was out of range.",rowOrColumnSpecifiedOutOfView:"Editing the specified row or column is currently not possible. It should be in view on the current page and virtualization frame.",editingInProgress:"A row or cell is currently being edited. Another updating procedure cannot start before the current editing is finished.",undefinedCellValue:"Undefined cannot be set as a cell value.",addChildTooltip:"Add a child row",multiRowGridNotSupportedWithCurrentEditMode:"When the grid has Multi-Row Layout enabled only dialog edit mode is supported.",virtualizationNotSupportedWithoutAutoCommit:" Enabling Updating and Virtualization while autoCommit is set to false is not supported. Please set the grid's autoCommit option to true."},n.ig.CellMerging=n.ig.CellMerging||{},n.ig.locale.en.CellMerging={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",mergeStrategyNotAFunction:"The mergeStrategy specified is not recognized as a valid pre-defined value or a function with this name is not found."},n.ig.ColumnMoving=n.ig.ColumnMoving||{},n.ig.locale.en.ColumnMoving={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",movingDialogButtonApplyText:"Apply",movingDialogButtonCancelText:"Cancel",movingDialogCaptionButtonDesc:"Move down",movingDialogCaptionButtonAsc:"Move up",movingDialogCaptionText:"Move Columns",movingDialogDisplayText:"Move Columns",movingDialogDropTooltipText:"Move here",movingDialogCloseButtonTitle:"Close moving dialog",dropDownMoveLeftText:"Move left",dropDownMoveRightText:"Move right",dropDownMoveFirstText:"Move first",dropDownMoveLastText:"Move last",featureChooserNotReferenced:"A reference to Feature Chooser is missing. Include infragistics.ui.grid.featurechooser.js in your project or use one of the combined script files.",movingToolTipMove:"Move",featureChooserSubmenuText:"Move To",columnVirtualizationEnabled:"Column Moving requires a different virtualization setting. Use rowVirtualization or set the virtualizationMode to 'continuous'."},n.ig.ColumnFixing=n.ig.ColumnFixing||{},n.ig.locale.en.ColumnFixing={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",headerFixButtonText:"Fix this column",headerUnfixButtonText:"Unfix this column",featureChooserTextFixedColumn:"Fix column",featureChooserTextUnfixedColumn:"Unfix column",groupByNotSupported:"Column Fixing requires a different configuration. The Group By functionality should be disabled.",virtualizationNotSupported:"Column Fixing requires a different virtualization setting. rowVirtualization should be used instead.",columnVirtualizationNotSupported:"Column Fixing requires a different virtualization setting. columnVirtualization should be disabled.",columnMovingNotSupported:"Column Fixing requires a different configuration. Column Moving should be disabled.",hidingNotSupported:"Column Fixing requires a different configuration. The Hiding functionality should be disabled.",hierarchicalGridNotSupported:"igHierarchicalGrid does not support Column Fixing. Column Fixing should be disabled.",responsiveNotSupported:"Column Fixing requires a different configuration. The Responsive functionality should be disabled.",noGridWidthNotSupported:"Column Fixing requires a different configuration. The grid width should be set either as percentages or as number in pixels.",gridHeightInPercentageNotSupported:"Column Fixing requires a different configuration. The grid height should be set in pixels.",defaultColumnWidthInPercentageNotSupported:"Column Fixing requires a different configuration. The default column width should be set as a number in pixels.",columnsWidthShouldBeSetInPixels:"Column Fixing requires a different column width setting. The width of column with key {key} should be set in pixels.",unboundColumnsNotSupported:"Column Fixing requires a different configuration. Unbound Columns should be disabled.",excelNavigationNotSupportedWithCurrentEditMode:"Excel Navigation requires a different configuration. editMode should be set to 'cell' or 'row'.",initialFixingNotApplied:"Initial fixing could not be applied for column with key: {0}. Reason: {1}",setOptionGridWidthException:"Incorrect value for option grid width. When there are fixed columns width of the visible area of unfixed column(s) should be greater that or equal to value of minimalVisibleAreaWidth.",noneError:"Your grid configuration is successful!",notValidIdentifierError:"The specified column key is not valid. Provide a column key that matches the key of one of the defined grid columns.",fixingRefusedError:"Fixing this column is not currently supported. Unfix another visible column or use the showColumn() method on any hidden unfixed column first.",fixingRefusedMinVisibleAreaWidthError:"This column cannot be fixed. Its width exceeds the available space for fixing a column in the grid.",alreadyHiddenError:"Fixing/Unfixing this column is currently not possible. The showColumn() method should be used on the column first.",alreadyUnfixedError:"This column is already unfixed.",alreadyFixedError:"This column is already fixed.",unfixingRefusedError:"Unfixing this column is currently not possible. The showColumn() method should be used on any hidden fixed column first.",targetNotFoundError:"Target column with key {key} could not be found. Verify the key used for the search and adjust it if necessary."},n.ig.GridAppendRowsOnDemand=n.ig.GridAppendRowsOnDemand||{},n.ig.locale.en.GridAppendRowsOnDemand={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",loadMoreDataButtonText:"Load more data",appendRowsOnDemandRequiresHeight:"Append Rows On Demand requires a different configuration. The grid height should be set.",groupByNotSupported:"Append Rows On Demand requires a different configuration. Group By should be disabled.",pagingNotSupported:"Append Rows On Demand requires a different configuration. Paging should be disabled.",cellMergingNotSupported:"Append Rows On Demand requires a different configuration. Cell Merging should be disabled.",virtualizationNotSupported:"Append Rows On Demand requires a different configuration. Virtualization should be disabled."},n.ig.igGridResponsive=n.ig.igGridResponsive||{},n.ig.locale.en.igGridResponsive={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",fixedVirualizationNotSupported:'The Responsive functionality requires a different virtualization setting. virtualizationMode should be set to "continuous".'},n.ig.igGridMultiColumnHeaders=n.ig.igGridMultiColumnHeaders||{},n.ig.locale.en.igGridMultiColumnHeaders={optionChangeNotSupported:"{optionName} cannot be edited after initialization. Its value should be set during initialization.",multiColumnHeadersNotSupportedWithColumnVirtualization:"Multi-column headers require a different configuration. columnVirtualization should be disabled.",cannotExpandMultiColumnHeader:"Multi-Column header exceeds the maximum allowed fixed area width and therefore cannot be expanded",atLeastOneColumnShouldBeShownWhenCollapseOrExpand:"You should have at least one column shown when you expand or collapse a multi-column header.",collapsedColumnIconTooltip:"Expand",expandedColumnIconTooltip:"Collapse"},n.ig.Grid.locale=n.ig.Grid.locale||n.ig.locale.en.Grid,n.ig.GridFiltering.locale=n.ig.GridFiltering.locale||n.ig.locale.en.GridFiltering,n.ig.GridGroupBy.locale=n.ig.GridGroupBy.locale||n.ig.locale.en.GridGroupBy,n.ig.GridHiding.locale=n.ig.GridHiding.locale||n.ig.locale.en.GridHiding,n.ig.GridResizing.locale=n.ig.GridResizing.locale||n.ig.locale.en.GridResizing,n.ig.GridPaging.locale=n.ig.GridPaging.locale||n.ig.locale.en.GridPaging,n.ig.GridSelection.locale=n.ig.GridSelection.locale||n.ig.locale.en.GridSelection,n.ig.GridRowSelectors.locale=n.ig.GridRowSelectors.locale||n.ig.locale.en.GridRowSelectors,n.ig.GridSorting.locale=n.ig.GridSorting.locale||n.ig.locale.en.GridSorting,n.ig.GridSummaries.locale=n.ig.GridSummaries.locale||n.ig.locale.en.GridSummaries,n.ig.GridUpdating.locale=n.ig.GridUpdating.locale||n.ig.locale.en.GridUpdating,n.ig.CellMerging.locale=n.ig.CellMerging.locale||n.ig.locale.en.CellMerging,n.ig.ColumnMoving.locale=n.ig.ColumnMoving.locale||n.ig.locale.en.ColumnMoving,n.ig.ColumnFixing.locale=n.ig.ColumnFixing.locale||n.ig.locale.en.ColumnFixing,n.ig.GridAppendRowsOnDemand.locale=n.ig.GridAppendRowsOnDemand.locale||n.ig.locale.en.GridAppendRowsOnDemand,n.ig.igGridResponsive.locale=n.ig.igGridResponsive.locale||n.ig.locale.en.igGridResponsive,n.ig.igGridMultiColumnHeaders.locale=n.ig.igGridMultiColumnHeaders.locale||n.ig.locale.en.igGridMultiColumnHeaders,n.ig.HierarchicalGrid.locale=n.ig.HierarchicalGrid.locale||n.ig.locale.en.HierarchicalGrid,n.ig.locale.en}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.HtmlEditor=n.ig.HtmlEditor||{},n.ig.locale.en.HtmlEditor={boldButtonTitle:"Bold",italicButtonTitle:"Italic",underlineButtonTitle:"Underline",strikethroughButtonTitle:"Strikethrough",increaseFontSizeButtonTitle:"Increase Font Size",decreaseFontSizeButtonTitle:"Decrease Font Size",alignTextLeftButtonTitle:"Align Text Left",alignTextRightButtonTitle:"Align Text Right",alignTextCenterButtonTitle:"Center",justifyButtonTitle:"Justify",bulletsButtonTitle:"Bullets",numberingButtonTitle:"Numbering",decreaseIndentButtonTitle:"Decrease Indent",increaseIndentButtonTitle:"Increase Indent",insertPictureButtonTitle:"Insert Picture",fontColorButtonTitle:"Font Color",textHighlightButtonTitle:"Text Highlight Color",insertLinkButtonTitle:"Insert Hyperlink",insertTableButtonTitle:"Table",addRowButtonTitle:"Add Row",removeRowButtonTitle:"Remove Row",addColumnButtonTitle:"Add Column",removeColumnButtonTitle:"Remove Column",inserHRButtonTitle:"Insert Horizontal Rule",viewSourceButtonTitle:"View Source",cutButtonTitle:"Cut",copyButtonTitle:"Copy",pasteButtonTitle:"Paste",undoButtonTitle:"Undo",redoButtonTitle:"Redo",imageUrlDialogText:"Image URL:",imageAlternativeTextDialogText:"Alternative Text:",imageWidthDialogText:"Image Width:",imageHeihgtDialogText:"Image Height:",linkNavigateToUrlDialogText:"Navigate to URL:",linkDisplayTextDialogText:"Display Text:",linkOpenInDialogText:"Open In:",linkTargetNewWindowDialogText:"New Window",linkTargetSameWindowDialogText:"Same Window",linkTargetParentWindowDialogText:"Parent Window",linkTargetTopmostWindowDialogText:"Topmost Window",applyButtonTitle:"Apply",cancelButtonTitle:"Cancel",textToolbar:"text manipulation toolbar",formattingToolbar:"text formatting toolbar",insertObjectToolbar:"objects insertion toolbar",copyPasteToolbar:"copy/paste toolbar",fontNames:{win:[{text:"Times New Roman",value:"Times New Roman"},{text:"Arial",value:"Arial"},{text:"Arial Black",value:"Arial Black"},{text:"Helvetica",value:"Helvetica"},{text:"Comic Sans MS",value:"Comic Sans MS"},{text:"Courier New",value:"Courier New"},{text:"Georgia",value:"Georgia"},{text:"Impact",value:"Impact"},{text:"Lucida Console",value:"Lucida Console"},{text:"Lucida Sans Unicode",value:"Lucida Sans Unicode"},{text:"Palatino Linotype",value:"Palatino Linotype"},{text:"Tahoma",value:"Tahoma"},{text:"Trebuchet MS",value:"Trebuchet MS"},{text:"Verdana",value:"Verdana"},{text:"Symbol",value:"Symbol"},{text:"Webdings",value:"Webdings"},{text:"Wingdings",value:"Wingdings"},{text:"MS Sans Serif",value:"MS Sans Serif"},{text:"MS Serif",value:"MS Serif"}],mac:[{text:"Times New Roman",value:"Times New Roman"},{text:"Arial",value:"Arial"},{text:"Arial Black",value:"Arial Black"},{text:"Helvetica",value:"Helvetica"},{text:"Comic Sans MS",value:"Comic Sans MS"},{text:"Courier New",value:"Courier New"},{text:"Georgia",value:"Georgia"},{text:"Impact",value:"Impact"},{text:"Monaco",value:"Monaco"},{text:"Lucida Grande",value:"Lucida Grande"},{text:"Book Antiqua",value:"Book Antiqua"},{text:"Geneva",value:"Geneva"},{text:"Trebuchet MS",value:"Trebuchet"},{text:"Verdana",value:"Verdana"},{text:"Symbol",value:"Symbol"},{text:"Webdings",value:"Webdings"},{text:"Zapf Dingbats",value:"Zapf Dingbats"},{text:"New York",value:"New York"}]},fontSizes:[{text:"1",value:"7.5 pt"},{text:"2",value:"10 pt"},{text:"3",value:"12 pt"},{text:"4",value:"13.5 pt"},{text:"5",value:"18 pt"},{text:"6",value:"24 pt"},{text:"7",value:"36 pt"}],formatsList:[{text:"h1",value:"Heading 1"},{text:"h2",value:"Heading 2"},{text:"h3",value:"Heading 3"},{text:"h4",value:"Heading 4"},{text:"h5",value:"Heading 5"},{text:"h6",value:"Heading 6"},{text:"p",value:"Normal"}]},n.ig.HtmlEditor.locale=n.ig.HtmlEditor.locale||n.ig.locale.en.HtmlEditor,n.ig.locale.en.HtmlEditor}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.LinearGauge=n.ig.LinearGauge||{},n.ig.locale.en.LinearGauge={rangeNameMissing:"Range name is missing for range: "},n.ig.LinearGauge.locale=n.ig.LinearGauge.locale||n.ig.locale.en.LinearGauge,n.ig.locale.en.LinearGauge}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.Notifier=n.ig.Notifier||{},n.ig.locale.en.Notifier={successMsg:"Success",errorMsg:"Error",warningMsg:"Warning",infoMsg:"Information",notSupportedState:"Not supported notification state! Use one of the supported states 'success', 'info', 'warning', 'error'",notSupportedMode:"Not supported notification mode! Use one of the supported modes 'auto', 'popover', 'inline'"},n.ig.Notifier.locale=n.ig.Notifier.locale||n.ig.locale.en.Notifier,n.ig.locale.en.Notifier}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.PivotShared=n.ig.PivotShared||{},n.ig.locale.en.PivotShared={invalidDataSource:"The passed data source either null or not supported.",measureList:"Measures",ok:"OK",cancel:"Cancel",addToMeasures:"Add to Measures",addToFilters:"Add to Filters",addToColumns:"Add to Columns",addToRows:"Add to Rows"},n.ig.PivotShared.locale=n.ig.PivotShared.locale||n.ig.locale.en.PivotShared,n.ig.locale.en.PivotShared}(n),function(n){return n.ig=n.ig||{},n.ig.PivotDataSelector=n.ig.PivotDataSelector||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.PivotDataSelector={invalidBaseElement:" is not supported as base element. Use DIV instead.",catalog:"Catalog",cube:"Cube",measureGroup:"Measure Group",measureGroupAll:"(All)",rows:"Rows",columns:"Columns",measuren:"Measuren",filters:"Filters",deferUpdate:"Defer Update",updateLayout:"Update Layout",selectAll:"Select All"},n.ig.PivotDataSelector.locale=n.ig.PivotDataSelector.locale||n.ig.locale.en.PivotDataSelector,n.ig.locale.en.PivotDataSelector}(n),function(n){return n.ig=n.ig||{},n.ig.PivotGrid=n.ig.PivotGrid||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.PivotGrid={filtersHeader:"Drop Filter Fields Here",measuresHeader:"Drop Data Items Here",rowsHeader:"Drop Row Fields Here",columnsHeader:"Drop Column Fields Here",disabledFiltersHeader:"Filter Fields",disabledMeasuresHeader:"Data Items",disabledRowsHeader:"Row Fields",disabledColumnsHeader:"Column Fields",noSuchAxis:"No such axis"},n.ig.PivotGrid.locale=n.ig.PivotGrid.locale||n.ig.locale.en.PivotGrid,n.ig.locale.en.PivotGrid}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.Popover=n.ig.Popover||{},n.ig.locale.en.Popover={popoverOptionChangeNotSupported:"Changing the following option after igPopover has been initialized is not supported:",popoverShowMethodWithoutTarget:"The target parameter of the show function is mandatory when the selectors option is used"},n.ig.Popover.locale=n.ig.Popover.locale||n.ig.locale.en.Popover,n.ig.locale.en.Popover}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.RadialGauge=n.ig.RadialGauge||{},n.ig.locale.en.RadialGauge={rangeNameMissing:"Range name is missing for range: "},n.ig.RadialGauge.locale=n.ig.RadialGauge.locale||n.ig.locale.en.RadialGauge,n.ig.locale.en.RadialGauge}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.RadialMenu=n.ig.RadialMenu||{},n.ig.locale.en.RadialMenu={invalidItemKey:"Specified item key is invalid.",notSupported:"Not supported"},n.ig.RadialMenu.locale=n.ig.RadialMenu.locale||n.ig.locale.en.RadialMenu,n.ig.locale.en.RadialMenu}(n),function(n){return n.ig=n.ig||{},n.ig.Rating=n.ig.Rating||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Rating={setOptionError:"Runtime changes are not allowed for the following option: "},n.ig.Rating.locale=n.ig.Rating.locale||n.ig.locale.en.Rating,n.ig.locale.en.Rating}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.SchedulerLocale=n.ig.SchedulerLocale||{},n.ig.locale.en.SchedulerLocale={tag:"en-US",agenda:"Agenda",month:"Month",week:"Week",day:"Day",next:"Next",previous:"Previous",dateRange:"Date Range",todayButton:"Today",nonDivError:"igScheduler can be instantiated only on HTML DIV element.",createNewAppointmentDialogTitle:"Create New Appointment",editAppointmentDialogTitle:"Edit Appointment",appointmentDialogSubjectLabel:"Subject",appointmentDialogLocationLabel:"Location",appointmentDialogFromLabel:"From",appointmentDialogToLabel:"To",appointmentDialogDescriptionLabel:"Description",appointmentDialogCreateButtonLabel:"Create",appointmentDialogSaveButtonLabel:"Save",appointmentDialogCancelButtonLabel:"Cancel",appointmentDialogCreateAppointmentButtonLabel:"Create appointment",dayPopoverTitle:"Create new appointment",appointmentPopoverTitle:"Edit appointment",appointmentPopoverOpenButtonLabel:"Open appointment",appointmentPopoverDeleteButtonLabel:"Delete",deleteAppointmentDialogTitle:"Delete Appointment",deleteAppointmentDialogConfirmation:"Do you want to delete this appointment?",deleteAppointmentDialogDeleteButtonLabel:"Delete",deleteAppointmentDialogCancelButtonLabel:"Cancel",deleteOccurrenceDialogTitle:"Delete Recurring Item",deleteOccurrenceDialogText:"Do you want to delete this occurrence or the entire series?",deleteOccurrenceDialogDeleteButtonLabel:"Delete occurrence",deleteOccurrenceDialogDeleteSeriesLabel:"Delete series",deleteOccurrenceDialogCancelLabel:"Cancel",appointmentDialogResourceLabel:"Resource",invalidIntervalErrorMessage:"The end date you entered occurs before the start date.",dialogCloseButtonText:"Close",countNumericEditorLabel:"Count",recurringEventLabel:"Recurring event",frequencyComboLabel:"Frequency",dateRecurrenceFrequencyDaily:"Daily",dateRecurrenceFrequencyWeekly:"Weekly",dateRecurrenceFrequencyMonthly:"Monthly",dateRecurrenceFrequencyYearly:"Yearly",editAppointmentDialogConfirmation:"Do you want to edit this occurrence or the entire series?",editAppointmentDialogOccurrenceButtonLabel:"Edit occurrence",editAppointmentDialogSeriesButtonLabel:"Edit series",editOccurrenceDialogTitle:"Edit occurrence",editSeriesDialogTitle:"Edit series",editSeriesButtonText:"Edit Recurring item"},n.ig.SchedulerLocale.locale=n.ig.SchedulerLocale.locale||n.ig.locale.en.SchedulerLocale,n.ig.locale.en}(n),function(n){return n.ig=n.ig||{},n.ig.Scroll=n.ig.Scroll||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Scroll={errorNoElementLink:"Element that is being linked does not exists.",errorNoScrollbarLink:"Scrollbar element that is being linked does not exists."},n.ig.Scroll.locale=n.ig.Scroll.locale||n.ig.locale.en.Scroll,n.ig.locale.en.Scroll}(n),function(n){return n.ig=n.ig||{},n.ig.Splitter=n.ig.Splitter||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Splitter={errorPanels:"The number of panels have to be no more than two.",errorSettingOption:"Error setting option."},n.ig.Splitter.locale=n.ig.Splitter.locale||n.ig.locale.en.Splitter,n.ig.locale.en.Splitter}(n),function(n){return n.ig=n.ig||{},n.ig.TileManager=n.ig.TileManager||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.TileManager={renderDataError:"Data was not successfully retrieved or parsed.",setOptionItemsLengthError:"The length of the items configurations does not match the number of the tiles.",setOptionError:"Runtime changes are not allowed for this option."},n.ig.TileManager.locale=n.ig.TileManager.locale||n.ig.locale.en.TileManager,n.ig.locale.en.TileManager}(n),function(n){return n.ig=n.ig||{},n.ig.Toolbar=n.ig.Toolbar||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Toolbar={collapseButtonTitle:"Collapse {0}",expandButtonTitle:"Expand {0}"},n.ig.Toolbar.locale=n.ig.Toolbar.locale||n.ig.locale.en.Toolbar,n.ig.locale.en.Toolbar}(n),function(n){return n.ig=n.ig||{},n.ig.Tree=n.ig.Tree||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Tree={invalidArgumentType:"Invalid argument type provided.",errorOnRequest:"An error has occurred while retrieving data: ",noDataSourceUrl:"The igTree control requires a dataSourceUrl provided in order to initiate a request for data to that URL.",incorrectPath:"A node was not found at the provided path: ",incorrectNodeObject:"The provided argument is not a jQuery node element.",setOptionError:"Runtime changes are not allowed for the following option: ",moveTo:"<strong>Move to<\/strong> {0}",moveBetween:"<strong>Move between<\/strong> {0} and {1}",moveAfter:"<strong>Move after<\/strong> {0}",moveBefore:"<strong>Move before<\/strong> {0}",copyTo:"<strong>Copy to<\/strong> {0}",copyBetween:"<strong>Copy between<\/strong> {0} and {1}",copyAfter:"<strong>Copy after<\/strong> {0}",copyBefore:"<strong>Copy before<\/strong> {0}",and:"and"},n.ig.Tree.locale=n.ig.Tree.locale||n.ig.locale.en.Tree,n.ig.locale.en.Tree}(n),function(n){return n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.TreeGridHiding=n.ig.TreeGridHiding||{},n.ig.locale.en.TreeGridHiding=n.extend({},n.ig.locale.en.GridHiding),n.ig.TreeGridResizing=n.ig.TreeGridResizing||{},n.ig.locale.en.TreeGridResizing=n.extend({},n.ig.locale.en.GridResizing),n.ig.TreeGridSelection=n.ig.TreeGridSelection||{},n.ig.locale.en.TreeGridSelection=n.extend({},n.ig.locale.en.GridSelection),n.ig.TreeGridColumnMoving=n.ig.TreeGridColumnMoving||{},n.ig.locale.en.TreeGridColumnMoving=n.extend({},n.ig.locale.en.ColumnMoving),n.ig.TreeGridColumnFixing=n.ig.TreeGridColumnFixing||{},n.ig.locale.en.TreeGridColumnFixing=n.extend({},n.ig.locale.en.ColumnFixing),n.ig.TreeGridMultiColumnHeaders=n.ig.TreeGridMultiColumnHeaders||{},n.ig.locale.en.TreeGridMultiColumnHeaders=n.extend({},n.ig.locale.en.GridMultiColumnHeaders),n.ig.TreeGridSorting=n.ig.TreeGridSorting||{},n.ig.locale.en.TreeGridSorting=n.extend({},n.ig.locale.en.GridSorting),n.ig.TreeGridTooltips=n.ig.TreeGridTooltips||{},n.ig.locale.en.TreeGridTooltips=n.extend({},n.ig.locale.en.GridTooltips),n.ig.TreeGrid=n.ig.TreeGrid||{},n.ig.locale.en.TreeGrid=n.extend({},n.ig.locale.en.Grid,{fixedVirtualizationNotSupported:"Row Virtualization requires a different virtualizationMode setting. The virtualizationMode should be set to 'continuous'."}),n.ig.TreeGridPaging=n.ig.TreeGridPaging||{},n.ig.locale.en.TreeGridPaging=n.extend({},n.ig.locale.en.GridPaging,{contextRowLoadingText:"Loading...",contextRowRootText:"Root",columnFixingWithContextRowNotSupported:"Column Fixing requires a different contextRowMode setting. contextRowMode should be set to 'none' in order to enable column fixing."}),n.ig.TreeGridFiltering=n.ig.TreeGridFiltering||{},n.ig.locale.en.TreeGridFiltering=n.extend({},n.ig.locale.en.GridFiltering,{filterSummaryInPagerTemplate:"${currentPageMatches} of ${totalMatches} matching records"}),n.ig.TreeGridRowSelectors=n.ig.TreeGridRowSelectors||{},n.ig.locale.en.TreeGridRowSelectors=n.extend({},n.ig.locale.en.GridRowSelectors,{multipleSelectionWithTriStateCheckboxesNotSupported:"Multiple selection requires a different checkBoxMode setting. checkBoxMode should be set to biState in order to enable multiple selection."}),n.ig.TreeGridUpdating=n.ig.TreeGridUpdating||{},n.ig.locale.en.TreeGridUpdating=n.extend({},n.ig.locale.en.GridUpdating,{addChildButtonLabel:"Add a child row"}),n.ig.TreeGrid.locale=n.ig.TreeGrid.locale||n.ig.locale.en.TreeGrid,n.ig.TreeGridHiding.locale=n.ig.TreeGridHiding.locale||n.ig.locale.en.TreeGridHiding,n.ig.TreeGridPaging.locale=n.ig.TreeGridPaging.locale||n.ig.locale.en.TreeGridPaging,n.ig.TreeGridResizing.locale=n.ig.TreeGridResizing.locale||n.ig.locale.en.TreeGridResizing,n.ig.TreeGridSelection.locale=n.ig.TreeGridSelection.locale||n.ig.locale.en.TreeGridSelection,n.ig.TreeGridRowSelectors.locale=n.ig.TreeGridRowSelectors.locale||n.ig.locale.en.TreeGridRowSelectors,n.ig.TreeGridSorting.locale=n.ig.TreeGridSorting.locale||n.ig.locale.en.TreeGridSorting,n.ig.TreeGridColumnMoving.locale=n.ig.TreeGridColumnMoving.locale||n.ig.locale.en.TreeGridColumnMoving,n.ig.TreeGridColumnFixing.locale=n.ig.TreeGridColumnFixing.locale||n.ig.locale.en.TreeGridColumnFixing,n.ig.TreeGridMultiColumnHeaders.locale=n.ig.TreeGridMultiColumnHeaders.locale||n.ig.locale.en.TreeGridMultiColumnHeaders,n.ig.TreeGridFiltering.locale=n.ig.TreeGridFiltering.locale||n.ig.locale.en.TreeGridFiltering,n.ig.TreeGridTooltips.locale=n.ig.TreeGridTooltips.locale||n.ig.locale.en.TreeGridTooltips,n.ig.TreeGridUpdating.locale=n.ig.TreeGridUpdating.locale||n.ig.locale.en.TreeGridUpdating,n.ig.locale.en}(n),function(n){return n.ig=n.ig||{},n.ig.Upload=n.ig.Upload||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Upload={labelUploadButton:"Upload File",labelAddButton:"Add",labelClearAllButton:"Clear Uploaded",labelSummaryTemplate:"{0} of {1} uploaded",labelSummaryProgressBarTemplate:"{0}/{1}",labelShowDetails:"Show Details",labelHideDetails:"Hide Details",labelSummaryProgressButtonCancel:"Cancel",labelSummaryProgressButtonContinue:"Upload",labelSummaryProgressButtonDone:"Done",labelProgressBarFileNameContinue:"...",errorMessageFileSizeExceeded:"Max file size exceeded.",errorMessageGetFileStatus:"Could not get your current file status! Probably connection dropped.",errorMessageCancelUpload:"Could not send to server command to cancel upload! Probably connection dropped.",errorMessageNoSuchFile:"The file you requested could not be found. Probably this file is too big.",errorMessageOther:"There is internal error uploading file. Error code: {0}.",errorMessageValidatingFileExtension:"File extension validation failed.",errorMessageAJAXRequestFileSize:"AJAX error while trying to get file size.",errorMessageMaxUploadedFiles:"Maximum count of uploading files exceeded.",errorMessageMaxSimultaneousFiles:"Value of maxSimultaneousFilesUploads is incorrect. It should be more than 0 or null.",errorMessageTryToRemoveNonExistingFile:"You are trying to remove non-existing file with id {0}.",errorMessageTryToStartNonExistingFile:"You are trying to start non-existing file with id {0}.",errorMessageDropMultipleFilesWhenSingleModel:"It is not allowed to drop more than 1 file when mode is single",titleUploadFileButtonInit:"Upload File",titleAddFileButton:"Add",titleCancelUploadButton:"Cancel",titleSummaryProgressButtonContinue:"Upload",titleClearUploaded:"Clear Uploaded",titleShowDetailsButton:"Show Details",titleHideDetailsButton:"Hide Details",titleSummaryProgressButtonCancel:"Cancel",titleSummaryProgressButtonDone:"Done",titleSingleUploadButtonContinue:"Upload",titleClearAllButton:"Clear Uploaded"},n.ig.Upload.locale=n.ig.Upload.locale||n.ig.locale.en.Upload,n.ig.locale.en.Upload}(n),function(n){return n.ig=n.ig||{},n.ig.Validator=n.ig.Validator||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Validator={defaultMessage:"This field needs attention",selectMessage:"A value should be selected",rangeSelectMessage:"At least {0} but no more than {1} items should be selected",minSelectMessage:"At least {0} item(s) should be selected",maxSelectMessage:"No more than {0} item(s) should be selected",rangeLengthMessage:"Entry should be between {0} and {1} characters long",minLengthMessage:"Entry should be at least {0} character(s) long",maxLengthMessage:"Entry should be no more than {0} character(s) long",requiredMessage:"This field is required",patternMessage:"Entry does not match the required pattern",maskMessage:"All required positions should be filled",dateFieldsMessage:"Date field values should be entered",invalidDayMessage:"A valid day of the month should be entered",dateMessage:"A valid date should be entered",numberMessage:"A valid number should be entered",rangeValueMessage:"A value between {0} and {1} should be entered",minValueMessage:"A value of at least {0} should be entered",maxValueMessage:"A value no more than {0} should be entered",emailMessage:"A valid email address should be entered",creditCardMessage:"A valid payment card number should be entered",equalToMessage:"The two values do not match",optionalString:"(optional)"},n.ig.Validator.locale=n.ig.Validator.locale||n.ig.locale.en.Validator,n.ig.locale.en.Validator}(n),function(n){return n.ig=n.ig||{},n.ig.VideoPlayer=n.ig.VideoPlayer||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.VideoPlayer={liveStream:"Live video",live:"Live",paused:"Paused",playing:"Playing",play:"Play",volume:"Volume",unsupportedVideoSource:"The current video sources does not contain a format that is supported by your browser.",missingVideoSource:"No compatible video source.",progressLabelLongFormat:"$currentTime$ / $duration$",progressLabelShortFormat:"$currentTime$",enterFullscreen:"Go Fullscreen",exitFullscreen:"Exit Fullscreen",skipTo:"SKIP TO",unsupportedBrowser:"The current browser does not support HTML5 video. <br/>Try upgrading to any of the following versions:",currentBrowser:"Current browser: {0}",ie9:"Microsoft Internet Explorer V 9+",chrome8:"Google Chrome V 8+",firefox36:"Mozilla Firefox V 3.6+",safari5:"Apple Safari V 5+",opera11:"Opera V 11+",ieDownload:"http://www.microsoft.com/windows/internet-explorer/default.aspx",operaDownload:"http://www.opera.com/download/",chromeDownload:"http://www.google.com/chrome",firefoxDownload:"http://www.mozilla.com/",safariDownload:"http://www.apple.com/safari/download/",buffering:"Buffering...",adMessage:"Ad: Video will resume in $duration$ seconds.",adMessageLong:"Ad: Video will resume in $duration$.",adMessageNoDuration:"Ad: Video will resume after the commercial.",adNewWindowTip:"Ad: Click to open ad content in a new window.",nonDivException:"The Infragistics HTML5 Video Player can be instantiated only on a DIV tag.",relatedVideos:"RELATED VIDEOS",replayButton:"Replay",replayTooltip:"Click to replay last video.",noCommercials:"Browser controls does not support commercials"},n.ig.VideoPlayer.locale=n.ig.VideoPlayer.locale||n.ig.locale.en.VideoPlayer,n.ig.locale.en.VideoPlayer}(n),function(n){return n.ig=n.ig||{},n.ig.Zoombar=n.ig.Zoombar||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.Zoombar={zoombarTargetNotSpecified:"igZoombar requires a valid target to attach to!",zoombarTypeNotSupported:"The type of widget the Zoombar is trying to attach to is not supported!",zoombarProviderNotRecognized:"igZoombar could not initialize a provider from the class specified or the value passed is not a class.",optionChangeNotSupported:"Changing the following option after the igZoombar has been created is not supported:"},n.ig.Zoombar.locale=n.ig.Zoombar.locale||n.ig.locale.en.Zoombar,n.ig.locale.en.Zoombar}(n),function(){n=n||{},n.ig=n.ig||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.undo=n.ig.locale.en.undo||{};var t=n.ig.locale.en.undo;return t.AddItemDescription="Add '{1}'",t.AddItemDescriptionDetailed="Add '{1}'",t.AddRangeDescription="Add {1} {2}(s)",t.AddRangeDescriptionDetailed="Add {1} {2}(s)",t.FallbackTransactionDescription="",t.LE_AddOpenTransaction="Cannot add an UndoTransaction that has not been opened or is still open.",t.LE_AddTransactionDirect="UndoTransaction cannot be added. The RootTransaction is automatically added upon Commit.",t.LE_AddUnitWhileTransactionOpen="Cannot add an UndoUnit while the transaction contains a nested open transaction '{0}'.",t.LE_ArgumentIsNegative="The '{0}' must be 0 or greater. Actual value: '{1}'",t.LE_CannotExecuteOpenTransaction="Cannot invoke Execute while the transaction '{0}' is open.",t.LE_ChangeHistoryInMerge="Cannot alter the Undo/Redo history while a Merge is being invoked",t.LE_ChangeHistoryInRemoveAll="Cannot alter the Undo/Redo history while the RemoveAll is being invoked.",t.LE_ChildTransactionNotInUnits="The specified child transaction '{0}' is not part of the Units of this transaction.",t.LE_ClosingOtherTransaction="The specified transaction '{0}' is not the currently open transaction '{1}'.",t.LE_EndTransactionWhileSuspended="Cannot close a transaction while the UndoManager is suspended.",t.LE_EnumEnded="The enumerator was completed.",t.LE_EnumFailedVersion="The collection was modified after the enumerator was started.",t.LE_EnumNotStarted="The enumerator was not started. Call MoveNext.",t.LE_FactoryNullTransaction="The UndoUnitFactory returned a null UndoTransaction.",t.LE_HasOpenTransaction="A transaction has already been opened.",t.LE_HistoryItemNotInCurrentHistory="The UndoHistoryItem does not exist within the associated Undo or Redo history in the UndoManager.",t.LE_InvalidTransactionOwner="The specified transaction's Owner is not this object.",t.LE_NeedAddRemoveAction="The specified action must be 'Add' or 'Remove'.",t.LE_NewTransactionWhileSuspended="A transaction cannot be started while the UndoManager is suspended.",t.LE_RangeCollectionAction="Range actions are not supported.",t.LE_ReferenceNotRegistered="The specified reference '{0}' has not been registered with an UndoManager instance. Use the RegisterReference method to register the reference with an UndoManager or pass null as the 'reference' to use the UndoManager.Current thread static/shared instance.",t.LE_ReferenceRegisteredToOther="The specified reference '{0}' is registered with a different UndoManager instance.",t.LE_RemoveAllFailedVersion="The collection was modified during the call to RemoveAll.",t.LE_ResetCollectionAction="Reset action is not supported.",t.LE_TargetCollectionIsReadOnly="The specified collection '{0}' cannot be read-only.",t.LE_TransactionAlreadyOpened="The transaction has already been opened.",t.LE_TransactionClosed="The transaction cannot be modified once it has been closed.",t.LE_TransactionNotOpened="The specified transaction '{0}' is not open.",t.LE_TransactionNotStarted="The transaction cannot be modified until it has been started.",t.LE_UndoManagerAsReference="An 'UndoManager' instance cannot be a reference.",t.LE_UndoRedoInRollback="Cannot perform an Undo/Redo while a Rollback is in progress.",t.LE_UndoRedoInTransaction="Cannot perform an undo/redo while a transaction is opened.",t.LE_UndoRedoInUndoRedo="Cannot perform an Undo/Redo while an Undo/Redo is in progress.",t.LE_UndoRedoWhileSuspended="Cannot perform an Undo/Redo while the UndoManager has been suspended.",t.MoveItemDescription="Move '{1}'",t.MoveItemDescriptionDetailed="Move '{1}' from '{2}' to '{3}'",t.PropertyChangeDescription="Change '{0}' on '{1}'",t.PropertyChangeDescriptionDetailed="Change '{0}' on '{1}' to '{3}'",t.ReinitializeCollectionDescription="Batch '{2}' Change",t.ReinitializeCollectionDescriptionDetailed="Batch '{2}' Change",t.RemoveItemDescription="Remove '{1}'",t.RemoveItemDescriptionDetailed="Remove '{1}'",t.RemoveRangeDescription="Remove {1} {2}(s)",t.RemoveRangeDescriptionDetailed="Remove {1} {2}(s)",t.ReplaceItemDescription="Replace '{1}'",t.ReplaceItemDescriptionDetailed="Replace '{1}' with '{2}'",n.ig.undo=n.ig.undo||{},n.ig.undo.locale=n.ig.undo.locale||t,t}(n),function(){return window.igRoot=window.igRoot||{},(window.$!==undefined||typeof n=="function")&&(window.igRoot=window.$||n),window.igRoot.ig=window.igRoot.ig||{_isNamespace:!0},window.$ig=window.$ig||window.igRoot.ig,n=n||{},n.ig=n.ig||{},n.ig.util=n.ig.util||{},n.ig.locale=n.ig.locale||{},n.ig.locale.en=n.ig.locale.en||{},n.ig.locale.en.util={unsupportedBrowser:"The current browser does not support HTML5 canvas element. <br/>Try upgrading to any of the following versions:",currentBrowser:"Current browser: {0}",ie9:"Microsoft Internet Explorer V 9+",chrome8:"Google Chrome V 8+",firefox36:"Mozilla Firefox V 3.6+",safari5:"Apple Safari V 5+",opera11:"Opera V 11+",ieDownload:"http://www.microsoft.com/windows/internet-explorer/default.aspx",operaDownload:"http://www.opera.com/download/",chromeDownload:"http://www.google.com/chrome",firefoxDownload:"http://www.mozilla.com/",safariDownload:"http://www.apple.com/safari/download/",defaultSummaryMethodLabelMin:"Min = ",defaultSummaryMethodLabelMax:"Max = ",defaultSummaryMethodLabelSum:"Sum = ",defaultSummaryMethodLabelAvg:"Avg = ",defaultSummaryMethodLabelCount:"Count = "},n.ig.util.locale=n.ig.util.locale||n.ig.locale.en.util,igRoot}(n),function(){function c(){return this.parentNode&&this.parentNode.removeChild(this)}function e(n,t,i){return typeof i=="undefined"||+i==0?Math[n](t):(t=+t,i=+i,isNaN(t)||!(typeof i=="number"&&i%1==0))?NaN:(t=t.toString().split("e"),t=Math[n](+(t[0]+"e"+(t[1]?+t[1]-i:-i))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+i:i)))}var f,h,o,r,i,u,s,l,t;for(window.igRoot=window.igRoot||{},(window.jQuery!==undefined||typeof jQuery=="function")&&(window.igRoot=window.jQuery||jQuery),window.igRoot.ig=window.igRoot.ig||{_isNamespace:!0},window.$ig=window.$ig||window.igRoot.ig,f=!1,h=/xyz/.test(function(){xyz()})?/\b_super\b/:/.*/,Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),this.Class=this.Class||function(){},Class.extend=function(t,i){function l(n,t){return function(){var r=this._super,i;return this._super=s[n],i=t.apply(this,arguments),this._super=r,i}}function u(){!f&&this.init&&(c&&u!==n.ig.Type||this.init.apply(this,arguments))}var o=!0,s=this.prototype,e,r,c;i&&(o=!1),f=!0,e=new this,f=!1,i&&(e.getType=function(){return this.$type},e.getHashCode=function(){return this.$hashCode!==undefined?this.$hashCode:this.$hashCode=n.ig.nextHashCode++});for(r in t)t.hasOwnProperty(r)&&(e[r]=o&&typeof t[r]=="function"&&typeof s[r]=="function"&&h.test(t[r])?l(r,t[r]):t[r]);return c=window.intellisense&&window.intellisense.annotate,t.$type&&(t.$type.InstanceConstructor=u),u.prototype=e,u.constructor=u,u.extend=this.extend,i&&(u.typeName=function(){return this.prototype.$type},u.baseType=function(){return this.$type.baseType}),u},window.console||(window.console={log:function(){}}),o=0,r=["ms","moz","webkit","o"],i=0;i<r.length&&(!window.requestAnimationFrame||!window.cancelAnimationFrame);++i)window.requestAnimationFrame=window[r[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[i]+"CancelAnimationFrame"]||window[r[i]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=Date.now(),i=Math.max(0,16-(t-o)),r=window.setTimeout(function(){n(t+i)},i);return o=t+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)}),n.ig.util=n.ig.util||{},n.ig.util.browserVersion="",n.ig.util.language="en",n.ig.util.regional="en-US",n.ig.util.widgetStack=[],n.ig._regional={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],am:"AM",pm:"PM",datePattern:"M/d/yyyy",dateLongPattern:"dddd, MMMM dd, yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timePattern:"h:mm tt",timeLongPattern:"h:mm:ss tt",dateTitleFullPattern:"dd MM yy",dateTitleMonthPattern:"MM yy",negativeSign:"-",numericNegativePattern:"-$n",numericDecimalSeparator:".",numericGroupSeparator:",",numericGroups:[3],numericMaxDecimals:2,numericMinDecimals:0,currencyPositivePattern:"$n",currencyNegativePattern:"-$n",currencySymbol:"$",currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyGroups:[3],currencyMaxDecimals:2,currencyMinDecimals:2,percentPositivePattern:"n$",percentNegativePattern:"-n$",percentSymbol:"%",percentDecimalSeparator:".",percentGroupSeparator:",",percentGroups:[3],percentDisplayFactor:100,percentMaxDecimals:2,percentMinDecimals:2},n.ig.regional=n.ig.regional||{},n.ig.regional.defaults=n.ig._regional,n.ig.util.changeGlobalLanguage=function(t){n.ig.util.language=t;for(var i=0;i<n.ig.util.widgetStack.length;i++)n.ig.util.widgetStack[i].changeGlobalLanguage()},n.ig.util.changeGlobalRegional=function(t){n.ig.util.regional=t,n.ig.regional.defaults=n.extend({},n.ig._regional,typeof t=="string"?n.ig.regional[t]:t);for(var i=0;i<n.ig.util.widgetStack.length;i++)n.ig.util.widgetStack[i].changeGlobalRegional()},n.ig.util.getLocaleValue=function(t,i){var r=n.ig.util.language,u=n.ig.locale[r]&&n.ig.locale[r][t]||n.ig[t]&&n.ig[t].locale||n.ig[t.toLowerCase()]&&n.ig[t.toLowerCase()].locale;return u[i]||""},n.ig.util.isIE=window.navigator.userAgent.indexOf("MSIE")>-1||!!window.navigator.userAgent.match(/trident/i),n.ig.util.isIEOld=n.ig.util.isIE&&!window.HTMLElement?!0:!1,n.ig.util.isIE&&(n.ig.util.browserVersion=document.documentMode,n.ig.util.isIE7=n.ig.util.browserVersion<=7,n.ig.util.isIE8=n.ig.util.browserVersion===8,n.ig.util.isIE9=n.ig.util.browserVersion===9,n.ig.util.isIE10=n.ig.util.browserVersion===10,n.ig.util.isIE11=n.ig.util.browserVersion>=11),n.ig.util.isChrome=window.chrome,n.ig.util.isFF=window.mozInnerScreenX!==undefined,n.ig.util.isOpera=!!window.opera,n.ig.util.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||window.ApplePaySession?!0:!1,n.ig.util.isWebKit=!!window.webkitURL,n.ig.util.isEdge=window.navigator.userAgent.indexOf("Edge")>-1,typeof n.ig.useDefineProperty=="undefined"&&(n.ig.useDefineProperty=!0),n.ig.util.isModernizrAvailable=typeof Modernizr=="object",n.ig.util.isTouch=n.ig.util.isModernizrAvailable&&(Modernizr.touch===!0||Modernizr.touchevents===!0||Modernizr.pointerevents===!0),n.ig.util.isTouchDevice=function(){return"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},n.ig.extendNativePrototype=function(t,i,r){if(n.ig.useDefineProperty)try{Object.defineProperty(t,i,{value:r,enumerable:!1,configurable:!0,writable:!0})}catch(u){t[i]=r}else t[i]=r},n.ig.util.stackPeek=function(n){return n[n.length-1]},n.ig.util.stackContains=function(t,i){for(var r=0;r<t.length;r++)if(n.ig.Object.prototype.equalsStatic(t[r],i))return!0;return!1},n.ig.util.createString1=function(n){return n.join("")},n.ig.util.createString2=function(n,t){for(var i="",r=0;r<t;r++)i=i+n;return i},n.ig.util.createString3=function(n,t,i){for(var u="",r=0;r<i;r++)u=u+n[t+r];return u},String.prototype.copyTo=function(n,t,i,r){for(var u=i;u<i+r;u++)t[u]=this.charAt(n+u-i)},Date.prototype.stdTimezoneOffset=function(){var n,t,i,r;return n=new Date(this.getFullYear(),0,1),t=new Date(this.getFullYear(),6,1),r=t.getTimezoneOffset(),i=n.getTimezoneOffset(),Math.max(i,r)},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()},n.ig.findPath=function(n,t){var i,r=n,u;if(i=t.split("."),i.length>0)for(u=0;u<i.length;u++)if(r)r=r[i[u]];else break;return r},n.ig.nextHashCode=0,n.ig.util.ensureUniqueId=function(t){if(!t.getHashCode){var i=n.ig.nextHashCode++;t.getHashCode=function(){return i}}},n.ig.typeIdentifierCache={},n.ig.nextTypeIdentifier=0,n.ig.Type=Class.extend({init:function(t,i,r,u){this.specializationCache={},this._staticInitializer=u,this._fullName=t,this.name=t;var f=this.name.lastIndexOf(".");f>=0&&(this.name=this.name.substr(f+1)),this.typeArguments=null,this.baseType=null,this.interfaces=null,i&&(this.baseType=i),r&&(this.interfaces=r),n.ig.typeIdentifierCache[t]?this.identifier=n.ig.typeIdentifierCache[t]:(this.identifier=n.ig.nextTypeIdentifier++,n.ig.typeIdentifierCache[t]=this.identifier),i&&n.ig.Enum&&i==n.ig.Enum.prototype.$type&&(this.isEnumType=!0)},typeName:function(){return this.name},fullName:function(){return this._fullName},getSpecId:function(n){var i,r,t;if(n.length===1)return n[0]?n[0]===-1?undefined:n[0].typeName?n[0].stringId?n[0].stringId:n[0].identifier.toString():n[0].toString():"undef";for(i="",r=0;r<n.length;r++)if(t=n[r],t){if(t==-1)return undefined;i+=t.typeName?t.stringId?t.stringId:t.identifier.toString():t.toString()}else i+="undef";return i},_isGenericType:null,isGenericType:function(){return this._isGenericType===null&&(this._isGenericType=this.name.indexOf("$")>=0),this._isGenericType},isGenericTypeDefinition:function(){return this.typeArguments===null&&this.isGenericType()},genericTypeArguments:function(){return this.typeArguments},_staticInitializer:null,_staticFields:null,getStaticFields:function(n){n===undefined&&(n=this);for(var t=this;t!=null;){if(t===n||t._fullName==n._fullName)return t._staticFields==null&&t._staticInitializer&&(t._staticFields={},t._staticInitializer.apply(t._staticFields,t.typeArguments)),t._staticFields;t=t.baseType}return null},specializationCache:null,initSelfReferences:function(n){var r,t,u,i,f,e;if(n){if(this.typeArguments){for(u=!1,t=0;t<this.typeArguments.length;t++)i=this.typeArguments[t],i==-1?(u=!0,this.typeArguments[t]=n):i&&i.initSelfReferences&&i.initSelfReferences(n);u&&(f=this.getSpecId(this.typeArguments),e=this.specializationCache[f],e||(this.specializationCache[f]=this))}}else if(this.baseType&&this.baseType.initSelfReferences(this),this.interfaces)for(r=0;r<this.interfaces.length;r++)this.interfaces[r].initSelfReferences(this)},specialize:function(){var t,u,i,r,f,e;if(!this.isGenericType())return this;if(u=this.getSpecId(arguments),i=this.specializationCache[u],i)return i;if(i=new n.ig.Type(this._fullName,this.baseType,this.interfaces,this._staticInitializer),r=this.typeArguments,f=!1,r&&r.length&&(f=!0),i.typeArguments=[],f)for(t=0;t<r.length;t++)i.typeArguments[t]=isFinite(r[t])&&!isFinite(arguments[r[t]])?arguments[r[t]]:r[t]&&r[t]!=arguments[t]&&r[t].typeArguments?this.specialize.apply(r[t],arguments):r[t];else for(t=0;t<arguments.length;t++)i.typeArguments[t]=arguments[t];if(this.baseType&&this.baseType.typeArguments&&(i.baseType=this.specialize.apply(this.baseType,i.typeArguments)),this.interfaces)for(i.interfaces=[],t=0;t<this.interfaces.length;t++)i.interfaces[t]=this.specialize.apply(this.interfaces[t],i.typeArguments);return this._fullName=="Nullable$1"&&i.typeArguments.length==1&&(i.isNullable=!0),u?(this.specializationCache[u]=i,i.stringId=i.generateString()):i.specializationCache=this.specializationCache,e=this,i.InstanceConstructor=function(){return e.InstanceConstructor.apply(this,i.typeArguments.concat(Array.prototype.slice.call(arguments,0))),this},i.InstanceConstructor.prototype=this.InstanceConstructor.prototype,i},equals:function(t){if(!(t instanceof n.ig.Type)||this.identifier!==t.identifier)return!1;if(this.typeArguments===null&&t.typeArguments===null)return!0;if(this.typeArguments===null&&t.typeArguments!==null||this.typeArguments!==null&&t.typeArguments===null||this.typeArguments.length!==t.typeArguments.length)return!1;for(var i=0;i<this.typeArguments.length;i++)if(!n.ig.Type.prototype.checkEquals(this.typeArguments[i],t.typeArguments[i]))return!1;return!0},checkEquals:function(t,i){return t instanceof n.ig.Type?t.equals(i):i instanceof n.ig.Type?i.equals(t):t===i},op_Equality:function(n,t){return n.equals(t)},op_Inequality:function(n,t){return!n.equals(t)},generateString:function(){var t,i,n;if(this.typeArguments&&this.typeArguments.length){for(t=this.identifier.toString()+"[",i=!0,n=0;n<this.typeArguments.length;n++)this.typeArguments[n]!=undefined&&(i?i=!1:t+=",",t+=this.typeArguments[n].toString?this.typeArguments[n].toString():this.typeArguments[n].identifier.toString());return t+="]"}return this.identifier.toString()},isEnum:function(){return this.baseType===n.ig.Enum.prototype.$type},isValueType:function(){return this.baseType===n.ig.ValueType.prototype.$type},isAssignableFrom:function(n){if(this===n||n.baseType&&this.isAssignableFrom(n.baseType))return!0;if(n.interfaces)for(var t=0;t<n.interfaces.length;t++)if(this.isAssignableFrom(n.interfaces[t]))return!0;return!1},isInstanceOfType:function(t){return n.ig.util.cast(this,t)!==null},isPrimitive:function(){return this===n.ig.Number.prototype.$type||this===n.ig.Boolean.prototype.$type}},!0),n.ig.Object=Class.extend({init:function(){},equals:function(n){return this===n},equalsStatic:function(t,i){var r=t==null||!!t.isNullable&&!t.hasValue(),u=i==null||!!i.isNullable&&!i.hasValue();return r||u?r&&u:t.equals?t.equals(i):i.equals?i.equals(t):n.ig.util.isNaN(t)&&n.ig.util.isNaN(i)?!0:t==i&&typeof t==typeof i},memberwiseClone:function(){function i(){}var t,n;i.prototype=this.$type.InstanceConstructor.prototype,t=new i;for(n in this)this.hasOwnProperty(n)&&(t[n]=this[n]);return t},referenceEquals:function(n,t){return n===t||n==null&&t==null},$type:new n.ig.Type("Object")},!0),n.ig.$o=n.ig.Object,n.ig.$op=n.ig.Object.prototype,n.ig.$ot=n.ig.Object.prototype.$type,n.ig.Type.prototype.$type=new n.ig.Type("Type",n.ig.Object.prototype.$type),n.ig.IConvertible=Class.extend({$type:new n.ig.Type("IConvertible")},!0),n.ig.IComparable=Class.extend({$type:new n.ig.Type("IComparable")},!0),n.ig.IComparable$1=Class.extend({$type:new n.ig.Type("IComparable$1")},!0),n.ig.IEquatable$1=Class.extend({$type:new n.ig.Type("IEquatable$1")},!0),n.ig.Enum=Class.extend({parse:function(t,i,r){var e=n.ig.util.getDefinedNameAndNamespace(t.fullName()),u,f,c,o,s,h;if(n.ig.util.canAssign(this.$type,t)){if(u=e.namespace[e.name].prototype,f=u.$type.InstanceConstructor._isEnum?u.$type.InstanceConstructor:u,f.hasOwnProperty(i))return u.getBox(f[i]);if(r){c=i.toUpperCase();for(o in f)if(o.toUpperCase()===c)return u.getBox(f[o])}else if(s=i.charAt(0),i=s!="_"?s.toLowerCase()+i.substr(1):"_"+i.charAt(1).toLowerCase()+i.substr(2),f.hasOwnProperty(i))return u.getBox(f[i]);if(u.$renamed&&(h=u.$renamed[r?i.toUpperCase():i],h))return u.getBox(f[h])}throw new Error("Invalid "+e.name+" value: "+i);},getBox:function(n){return this._boxes||(this._boxes={}),this._boxes[n]||(this._boxes[n]=new this.$type.InstanceConstructor(n)),this._boxes[n]},toString:function(){return this.$type.InstanceConstructor.prototype.$getName(this._v)},getFlaggedName:function(n,t){var o=[],s=n,h,i,u=[],r,e,f;for(r in this)this.hasOwnProperty(r)&&(i=this[r],typeof this[r]=="number"&&u.push(r));for(e=this,u.sort(function(n,t){return e[n]-e[t]}),f=u.length-1;f>=0;f--)i=this[u[f]],i===0?h=t(0):(n&i)===i&&(n-=i,o.unshift(t(i)));return n!==0?s.toString():s!==0?o.join(", "):h||"0"},getValues:function(n){var r=[],t=n.InstanceConstructor._isEnum?n.InstanceConstructor:n.InstanceConstructor.prototype,i;for(i in t)t.hasOwnProperty(i)&&typeof t[i]=="number"&&r.push(t[i]);return r},getNames:function(n){var r=[],i=n.InstanceConstructor._isEnum?n.InstanceConstructor:n.InstanceConstructor.prototype,t;for(t in i)i.hasOwnProperty(t)&&typeof i[t]=="number"&&r.push(t);return r},isDefined:function(t,i){var r,u;i=n.ig.util.getValue(i),r=t.InstanceConstructor._isEnum?t.InstanceConstructor:t.InstanceConstructor.prototype;for(u in r)if(r.hasOwnProperty(u)&&r[u]===i)return!0;return!1},toDouble:function(){return this.$value()},toObject:function(n,t){return t},tryParse$1:function(t,i,r,u){try{return{ret:!0,p2:this.parse(t,i,r).$value()}}catch(f){return u=n.ig.util.createInstance(t),{ret:!1,p2:u}}},$type:new n.ig.Type("Enum",n.ig.Object.prototype.$type,[n.ig.IConvertible.prototype.$type])},!0),n.ig.$e=n.ig.Enum,n.ig.$ep=n.ig.Enum.prototype,n.ig.$et=n.ig.Enum.prototype.$type,n.ig.ValueType=Class.extend({init:function(){},$type:new n.ig.Type("ValueType",n.ig.Object.prototype.$type)},!0),n.ig.INotifyPropertyChanged=Class.extend({init:function(){},_PropertyChanged:function(){},$type:new n.ig.Type("INotifyPropertyChanged")},!0),n.ig.PropertyChangedEventArgs=n.ig.Object.extend({init:function(n){this._propertyName=n},_propertyName:null,propertyName:function(n){if(arguments.length===0)return this._propertyName;this._propertyName=n},$type:new n.ig.Type("PropertyChangedEventArgs",n.ig.Object.$type)},!0),n.ig.XmlNodeType=Class.extend({_None:0,_Attribute:2,_CDATA:4,_Comment:8,_Document:9,_DocumentFragment:11,_DocumentType:10,_Element:1,_EndElement:15,_EndEntity:16,_Entity:6,_EntityReference:5,_Notation:12,_ProcessingInstruction:7,_SignificantWhitespace:14,_Text:3,_Whitespace:13,_XmlDeclaration:17,none:0,element:1,attribute:2,text:3,cDATA:4,entityReference:5,entity:6,processingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12,whitespace:13,significantWhitespace:14,endElement:15,endEntity:16,xmlDeclaration:17},!0),n.ig.XmlDocumentParser=Class.extend({parse:function(n){var r,i,t,u;if(window.DOMParser)try{return u=new DOMParser,u.parseFromString(n,"text/xml")}catch(f){}else for(r=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"],i=0;i<r.length;i++)try{return t=new ActiveXObject(r[i]),t.async=!1,t.loadXML(n),t.setProperty("SelectionLanguage","XPath"),t}catch(f){}return null}},!0),n.ig.Array=Array,n.ig.extendNativePrototype(Array.prototype,"add",function(n){this[this.length]=n}),n.ig.addToArray=function(n,t){n[n.length]=t},n.ig.indexInArray=function(n,t){for(var i=0;i<n.length;i++)if(n[i]==t)return i;return-1},n.ig.arrayContains=function(n,t){var i=n.indexOf(t);return i>=0},Array.prototype.indexOf||n.ig.extendNativePrototype(Array.prototype,"indexOf",function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return t;return-1}),Array.prototype.lastIndexOf||n.ig.extendNativePrototype(Array.prototype,"lastIndexOf",function(n){for(var t=this.length-1;t>=0;t--)if(this[t]==n)return t;return-1}),n.ig.extendNativePrototype(Array.prototype,"copy",function(n,t,i,r,u){for(var f=0;f<u;f++)i[r+f]=n[t+f]}),n.ig.removeFromArray=function(n,t,i){var r=n.slice((i||t)+1||n.length);return n.length=t<0?n.length+t:t,n.push.apply(n,r)},n.ig.extendNativePrototype(Array.prototype,"contains",function(n){var t=this.indexOf(n);return t>=0}),n.ig.extendNativePrototype(Array.prototype,"insert",function(n,t){this.splice(n,0,t)}),n.ig.extendNativePrototype(Array.prototype,"removeAt",function(n){this.splice(n,1)}),n.ig.extendNativePrototype(Array.prototype,"removeItem",function(n){var t=this.indexOf(n);return t>=0?(this.splice(t,1),!0):!1}),n.ig.extendNativePrototype(Array.prototype,"getEnumerator",function(){return new n.ig.ArrayEnumerator(this)}),n.ig.extendNativePrototype(Array.prototype,"count",function(){return this.length}),n.ig.extendNativePrototype(Array.prototype,"item",function(n,t){return arguments.length===2?(this[n]=t,t):this[n]}),n.ig.extendNativePrototype(Array.prototype,"getLength",function(n){for(var t=this,i=n;t;){if(i===0)return t.length;i--,t=t[0]}return this.dimensionLength[n-1]}),n.ig.extendNativePrototype(Array.prototype,"resize",function(){this.length=0}),n.ig.ArrayEnumerator=Class.extend({init:function(n){this._array=n,this._index=-1},current:function(){return this._array[this._index]},moveNext:function(){return this._index++,this._index<this._array.length},reset:function(){this._index=-1},dispose:function(){}},!0),n.ig.Date=Class.extend({init:function(){return new Date},fromOADate:function(n){var t=Math.floor(n),i=new Date(1899,11,30+t);return n!==t&&(i=new Date(+i+Math.round((n-t)*864e5))),i},fromValues:function(n,t,i,r,u,f,e){return new Date(n,t-1,i,r,u,f,e)},fromTicks:function(n){return new Date(n)},addSeconds:function(t,i){return n.ig.Date.prototype.addDays(t,i/86400)},addMinutes:function(t,i){return n.ig.Date.prototype.addDays(t,i/1440)},addHours:function(t,i){return n.ig.Date.prototype.addDays(t,i/24)},addDays:function(n,t){var i=new Date(+n+t*864e5);return n.dst&&(n.dst()?i.dst()||(i=new Date(+i+36e5)):i.dst()&&(i=new Date(+i-36e5))),i},addMonths:function(n,t){var i=new Date(n.getTime()),u=i.getMonth()+i.getFullYear()*12,r;return i.setMonth(i.getMonth()+t),r=i.getMonth()+i.getFullYear()*12-u,r!=t&&i.setDate(0),i},addYears:function(n,t){var i=new Date(n.getTime());return i.setFullYear(i.getFullYear()+t),i},daysInMonth:function(t,i){switch(i){case 1:return 31;case 2:return n.ig.Date.prototype.isLeapYear(t)?29:28;case 3:return 31;case 4:return 30;case 5:return 31;case 6:return 30;case 7:return 31;case 8:return 31;case 9:return 30;case 10:return 31;case 11:return 30;case 12:return 31}return 0},isLeapYear:function(n){return n%4==0&&n%100!=0},toFileTime:function(n){return(n-new Date(1600,11,31,19,0,0,0))*1e4},fromFileTime:function(n){return n/1e4+new Date(1600,11,31,19,0,0,0)},tryParse:function(t){var r=new Date(t),i;return r==null||n.ig.util.isNaN(+r)?(i=/(\d{4})-(\d{2})-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2}))?/.exec(t),i)?i[4]?{p1:new Date(+i[1],+i[2]-1,+i[3],+i[4],+i[5],+i[6]),ret:!0}:{p1:new Date(+i[1],+i[2]-1,+i[3]),ret:!0}:{p1:null,ret:!1}:(r.getFullYear()<1930&&/\d+\/\d+\/\d\d(?!\d)/.test(t)&&r.setFullYear(r.getFullYear()+100),{p1:r,ret:!0})},parseExact:function(t){var u=n.ig.Date.prototype.tryParse(t);if(!u.ret)throw new n.ig.FormatException("Unknown date format");return u.p1},toLocalTime:function(n){return n},toUniversalTime:function(n){return n},getMonth:function(n){return n.getMonth()+1},today:function(){var t=new Date;return t.setHours(0,0,0,0),t},getTimeOfDay:function(n){return n.getHours()*36e5+n.getMinutes()*6e4+n.getSeconds()*1e3+n.getMilliseconds()},getDate:function(n){var t=new Date(+n);return t.setHours(0,0,0,0),t},_requiresISOCorrection:!isNaN(+new Date("2000-01-01T00:00:00"))&&new Date("2000-01-01T00:00:00").getHours()!==0,_requiresISODateCorrection:!isNaN(new Date("2000-01-01"))&&new Date("2000-01-01").getHours()!==0,parse:function(t,i){var r,u,f;if(i=i||n.ig.CultureInfo.prototype.currentCulture(),u=/(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2})(?:\.| )?(\d*)?/.exec(t),u){if(r=n.ig.Date.prototype.parseExact(u[1]),u[2]&&(f=Number("0."+u[2])*1e3,r=new Date(+r+f)),!n.ig.Date.prototype._requiresISOCorrection)return r}else if(r=n.ig.Date.prototype.parseExact(t),!n.ig.Date.prototype._requiresISODateCorrection)return r;return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())},_longDateFormatOptions:{weekday:"long",year:"numeric",month:"long",day:"numeric"},toLongDateString:function(t){return t.toLocaleString(n.ig.CultureInfo.prototype.currentCulture().name(),this._longDateFormatOptions).replace(/\u200E/g,"")},_longTimeFormatOptions:{hour:"numeric",minute:"numeric",second:"numeric"},toLongTimeString:function(t){return t.toLocaleString(n.ig.CultureInfo.prototype.currentCulture().name(),this._longTimeFormatOptions).replace(/\u200E/g,"")},resetDateToCurrentDate:function(n){if(!n||!n.getTime)return n;var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())},$type:new n.ig.Type("Date",n.ig.Object.$type)},!0),n.ig.extendNativePrototype(Date.prototype,"toOADate",function(){var n=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds()),t=Date.UTC(1899,11,30);return(n-t)/864e5}),n.ig.extendNativePrototype(Date.prototype,"kind",function(){return n.ig.DateTimeKind.prototype.local}),n.ig.Date.prototype.now=function(){return new Date},n.ig.Date.prototype.minValue=function(){return new Date(1,1,1,0,0,0,0)},n.ig.Date.prototype.maxValue=function(){return new Date(9999,12,31,23,59,59,.9999999)},n.ig.Date.prototype.fromMilliseconds=function(n){return n},n.ig.Date.prototype.toString=function(t,i){return n.ig.Date.prototype.toStringFormat(t,"s",i)},Date.prototype.toISOString||(Date.prototype.toJSON||(Date.prototype.toJSON=function(){function t(n){return n<10?"0"+n:n}return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z"}),Date.prototype.toISOString=Date.prototype.toJSON),Element.prototype.remove||(Element.prototype.remove=c),Text&&!Text.prototype.remove&&(Text.prototype.remove=c),n.ig.Date.prototype.toStringFormat=function(t,i,r){var u,e,s,h,o;r=r||n.ig.CultureInfo.prototype.currentCulture();var l=function(n,t){var i=t.name();return(u=i=="ja-JP"?n.toLocaleString("en-US",{month:"numeric"}).replace(/\u200E/g,""):n.toLocaleString(t.name(),{month:"short"}).replace(/\u200E/g,""),u.contains(" "))?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]:u},c=function(t,i,r){var e=t.getHours(),u=e<=11?"AM":"PM",f;if(window.Intl){f=new Date(+t),f.setHours(e,0,0,0);var o=i.name(),s=/\d|[\u200E]/g,c=new Intl.DateTimeFormat(o,{hour12:!0,hour:"2-digit"}).format(f).replace(s,""),l=new Intl.DateTimeFormat(o,{hour12:!1,hour:"2-digit"}).format(f).replace(s,""),a=n.ig.util.escapeRegExp(l),h=c.replace(new RegExp("\\s*"+a+"\\s*"),"").trim();h.replace(/[.,:;]/g,"").length>0&&(u=h)}return r&&u&&(u=u.charAt(0)),u},f=function(n){if(window.Intl){var i=new Intl.DateTimeFormat(r.name(),n);return i.format(t)}return t.toLocaleString(r.name(),n)};switch(i){case"s":return(e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())).toISOString(),s=e.lastIndexOf("."),s<0)?e:e.slice(0,s);case"MMMM":return t.toLocaleString(r.name(),{month:"long"}).replace(/\u200E/g,"");case"ddd":return t.toLocaleString(r.name(),{weekday:"short"}).replace(/\u200E/g,"");case"dddd":return(u=t.toLocaleString(r.name(),{weekday:"long"}).replace(/\u200E/g,""),u.contains(" "))?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]:u;case"%t":return c(t,r,!0);case"d":return t.toLocaleDateString();case"D":return f({weekday:"long",month:"long",day:"numeric",year:"numeric"});case"f":return f({weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"});case"F":return f({weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});case"g":return f({month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"});case"G":return f({month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});case"M":case"m":return f({month:"long",day:"numeric"});case"t":return f({hour:"numeric",minute:"numeric"});case"T":return t.toLocaleTimeString();case"Y":case"y":return f({year:"numeric",month:"long"})}return u=i,h=t.getFullYear().toString(),u=u.replace("yyyy",h),u=u.replace("yy",h.substr(-2)),u=u.replace("MMM",l(t,r)),u=u.replace("MM",(t.getMonth()+1).toString().replace(/^(\d)$/,"0$1")),u=u.replace("dd",t.getDate().toString().replace(/^(\d)$/,"0$1")),o=t.getHours(),u=u.replace("HH",o.toString().replace(/^(\d)$/,"0$1")),u=u.replace("hh",(o%12==0?12:o%12).toString().replace(/^(\d)$/,"0$1")),u=u.replace("tt",c(t,r,!1)),u=u.replace("mm",t.getMinutes().toString().replace(/^(\d)$/,"0$1")),u=u.replace("ss",t.getSeconds().toString().replace(/^(\d)$/,"0$1")),u=u.replace("ff",Math.round(t.getMilliseconds()/10).toString().replace(/^(\d)$/,"0$1"))},n.ig.util.canAssign=function(t,i){return t.name==="Nullable$1"&&i.name!=="Nullable$1"&&(t=n.ig.Nullable.prototype.getUnderlyingType(t)),n.ig.util.canAssignSimple(t,i)},n.ig.util.canAssignSimple=function(t,i){if(t===i||n.ig.Type.prototype.checkEquals(t,i))return!0;if(i.interfaces)for(var r=0;r<i.interfaces.length;r++)if(n.ig.util.canAssignSimple(t,i.interfaces[r]))return!0;return i.baseType?n.ig.util.canAssignSimple(t,i.baseType):!1},n.ig.util.cast=function(t,i){if(i===undefined||i===null)return null;if(t===Array)return i instanceof Array?i:null;t===String&&(t=n.ig.String.prototype.$type);var r=i;if(i.$type)r=i.$type;else if(typeof i=="number")r=t===Number?Number:n.ig.Number.prototype.$type;else if(typeof i=="string")r=n.ig.String.prototype.$type;else if(typeof i=="boolean")r=n.ig.Boolean.prototype.$type;else if(i instanceof Date)r=n.ig.Date.prototype.$type;else if(i instanceof Array&&t==n.ig.IEnumerable.prototype.$type)return i;return n.ig.util.canAssignSimple(t,r)?i:t.name==="Nullable$1"&&r.name!=="Nullable$1"?(t=n.ig.Nullable.prototype.getUnderlyingType(t),n.ig.util.canAssignSimple(t,r))?n.ig.util.toNullable(t,i):n.ig.util.toNullable(t,null):null},n.ig.Dictionary=Class.extend({init:function(){this.proxy={},this.keysHolder=this.proxy,this._count=0},$type:new n.ig.Type("Dictionary",n.ig.Object.prototype.$type),proxy:null},!0),n.ig.Dictionary.prototype.getDictionary=function(t){var i=new n.ig.Dictionary;return i.proxy=t,i.keysHolder=t,i},n.ig.Dictionary.prototype.containsKey=function(n){return this.proxy[n]!==undefined},n.ig.Dictionary.prototype.count=function(){return this._count},n.ig.Dictionary.prototype.item=function(n,t){if(arguments.length===1)return this.proxy[n];this.proxy[n]||this._count++,this.proxy[n]=t},n.ig.Dictionary.prototype.add=function(n,t){this.proxy[n]||this._count++,this.proxy[n]=t},n.ig.Dictionary.prototype.remove=function(n){delete this.proxy[n],this._count--},n.ig.Dictionary.prototype.keys=function(){return new n.ig.KeyEnumerator(this)},n.ig.Dictionary.prototype.values=function(){return new n.ig.ValueEnumerator(this)},n.ig.Dictionary.prototype.clear=function(){this.proxy={},this.keysHolder=this.proxy,this._count=0},n.ig.EventArgs=n.ig.Object.extend({init:function(){}},!0),n.ig.String=Class.extend({$type:new n.ig.Type("String",n.ig.Object.prototype.$type,[n.ig.IConvertible.prototype.$type,n.ig.IComparable.prototype.$type])},!0),n.ig.String.prototype.isDigit=function(n,t){t=t||0;var i=n.charAt(t);return i>="0"&&i<="9"?!0:!1},n.ig.String.prototype.charMaxValue=function(){return"￿"},n.ig.String.prototype.charMinValue=function(){return"\0"},n.ig.Boolean=Class.extend({tryParse:function(n){return(n=n.toLowerCase(),n=="true")?{p1:!0,ret:!0}:n=="false"?{p1:!1,ret:!0}:{p1:!1,ret:!1}},$type:new n.ig.Type("Boolean",n.ig.Object.prototype.$type,[n.ig.IConvertible.prototype.$type,n.ig.IComparable.prototype.$type])},!0),n.ig.Number=Class.extend({$type:new n.ig.Type("Number",n.ig.Object.prototype.$type,[n.ig.IConvertible.prototype.$type,n.ig.IComparable.prototype.$type])},!0),n.ig.Number.prototype.parseInt=function(n,t){return parseInt(n,t)},n.ig.Number.prototype.log10=function(n){return Math.log(n)/Math.log(10)},Number.isPrimitive||(Number.isPrimitive=function(){return!0}),String.isPrimitive||(String.isPrimitive=function(){return!1}),n.ig.extendNativePrototype(String.prototype,"toDateTime",function(){var i=new Date(this);if(!isNaN(+i))return i;if(/^((([0-9]{1,4})\s*(\s+((a|p)m?)\s*))|(([0-9]{1,4})\s*:\s*([0-9]?[0-9])\s*(:\s*([0-9]?[0-9])\s*(.\s*([0-9]{0,4})[0-9]*\s*)?)?(\s+((a|p)m?)\s*)?)|(\s*([0-9]?[0-9])\s*:\s*([0-9]?[0-9])\s*.\s*([0-9]{0,4})[0-9]*\s*(\s+((a|p)m?)\s*)?))$/i.test(this))return new Date((new Date).toDateString()+" "+this);throw new n.ig.FormatException(1,"The string cannot be converted to a date");}),n.ig.extendNativePrototype(String.prototype,"toDecimal",function(){var i=+this;if(n.ig.util.isNaN(i))throw new n.ig.FormatException(1,"The string cannot be converted to a number");return i}),n.ig.extendNativePrototype(String.prototype,"toString1",function(){return this.toString()}),String.isInstanceOfType=function(n){return typeof n=="string"},n.ig.extendNativePrototype(Number.prototype,"toDecimal",function(){return+this}),n.ig.extendNativePrototype(Number.prototype,"toDouble",function(){return+this}),n.ig.extendNativePrototype(Number.prototype,"toString1",function(n){return this.toLocaleString(n.name(),{useGrouping:!1})}),n.ig.extendNativePrototype(Date.prototype,"getType",function(){return n.ig.Date.prototype.$type}),n.ig.extendNativePrototype(Date.prototype,"equals",function(n){return n instanceof Date&&+this==+n}),n.ig.extendNativePrototype(Boolean.prototype,"getHashCode",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toByte",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toSByte",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toInt16",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toUInt16",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toInt32",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toUInt32",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toInt64",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toUInt64",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toSingle",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toDouble",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toDecimal",function(){return+this}),n.ig.extendNativePrototype(Boolean.prototype,"toBoolean",function(){return!!+this}),n.ig.extendNativePrototype(Boolean.prototype,"toString1",function(){return this.toString()}),n.ig.extendNativePrototype(Boolean.prototype,"compareTo",function(t){return n.ig.util.boolCompare(this,t)}),n.ig.extendNativePrototype(Number.prototype,"compareTo",function(t){return n.ig.util.compareSimple(+this,t)}),n.ig.Single=Class.extend({},!0),n.ig.Single.prototype.parseFloat=function(n){return parseFloat(n)},n.ig.Single.prototype.isInfinity=function(n){return n===Infinity||n===-Infinity},n.ig.Int32=Class.extend({$type:new n.ig.Type("Int32",n.ig.Object.prototype.$type,[n.ig.IComparable.prototype.$type,n.ig.IComparable$1.prototype.$type.specialize(-1),n.ig.IEquatable$1.prototype.$type.specialize(-1)])},!0),n.ig.Int32.prototype.$type.initSelfReferences(),n.ig.Double=Class.extend({$type:new n.ig.Type("Double",n.ig.Object.prototype.$type)},!0),n.ig.Delegate=Class.extend({$type:new n.ig.Type("Delegate",n.ig.Object.prototype.$type)},!0),n.ig.Delegate.prototype.combine=function(n,t){if(!n)return t;if(!t)return n;var i=function(){return n.apply(null,arguments),t.apply(null,arguments)};return i.enumerate=function(i){n&&(n.enumerate?n.enumerate(i):i.push(n)),t&&(t.enumerate?t.enumerate(i):i.push(t))},i},n.ig.Delegate.prototype.remove=function(t,i){var r,f,u;if(!t)return null;if(!i)return t;for(r=[],f=null,t.enumerate?t.enumerate(r):r.push(t),u=0;u<r.length;u++)i.original&&r[u].original==i.original&&r[u].target==i.target||r[u]!=i&&(f=n.ig.Delegate.prototype.combine(f,r[u]));return f},n.ig.ReflectionUtil=Class.extend({$type:new n.ig.Type("ReflectionUtil",n.ig.Object.prototype.$type)},!0),n.ig.ReflectionUtil.prototype.getPropertyGetter=function(n,t){return typeof n.prototype[t]=="function"?function(i){return n.prototype[t].apply(i,arguments)}:function(n){return n[t]}},n.ig.IEnumerable=Class.extend({$type:new n.ig.Type("IEnumerable",null)},!0),n.ig.IEnumerator=Class.extend({$type:new n.ig.Type("IEnumerator",null)},!0),n.ig.IEqualityComparer$1=Class.extend({$type:new n.ig.Type("IEqualityComparer",n.ig.Object.prototype.$type)},!0),n.ig.IList=Class.extend({$type:new n.ig.Type("IList",null,[n.ig.IEnumerable.prototype.$type])},!0),n.ig.IEnumerable$1=Class.extend({$type:new n.ig.Type("IEnumerable$1",null,[n.ig.IEnumerable.prototype.$type])},!0),n.ig.ICollection$1=Class.extend({$type:new n.ig.Type("ICollection$1",null,[n.ig.IEnumerable$1.prototype.$type.specialize(0),n.ig.IEnumerable.prototype.$type])},!0),n.ig.IList$1=Class.extend({$type:new n.ig.Type("IList$1",null,[n.ig.ICollection$1.prototype.$type.specialize(0),n.ig.IEnumerable$1.prototype.$type.specialize(0),n.ig.IEnumerable.prototype.$type])},!0),n.ig.IEnumerator$1=Class.extend({$type:new n.ig.Type("IEnumerator$1",null,[n.ig.IEnumerator.prototype.$type])},!0),n.ig.Error=Class.extend({init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}this.__message=null,this.__innerException=null},init1:function(n,t){this.__message=t},init2:function(n,t,i){this.__message=t,this.__innerException=i},toString:function(){return this.message()},$type:new n.ig.Type("Error",n.ig.Object.prototype.$type)},!0),n.ig.Error.prototype.message=function(){return this.__message},n.ig.Error.prototype.innerException=function(){return this.__innerException},n.ig.IDictionary=Class.extend({$type:new n.ig.Type("IDictionary",null)},!0),n.ig.ValueEnumerator=Class.extend({init:function(n){this._dict=n,this._index=-1,this._count=0,this._values=[];for(var t in this._dict.proxy)this._dict.proxy.hasOwnProperty(t)&&(this._values[this._count]=this._dict.proxy[t],this._count++)},current:function(){return this._values[this._index]},dispose:function(){},moveNext:function(){return this._index++,this._index<this._count},reset:function(){this._index=-1},getEnumerator:function(){return this.reset(),this},$type:new n.ig.Type("ValueEnumerator",n.ig.Object.prototype.$type,[n.ig.IEnumerable.prototype.$type])},!0),n.ig.KeyEnumerator=Class.extend({init:function(n){this._dict=n,this._index=-1,this._count=0,this._keys=[];for(var t in this._dict.proxy)this._dict.proxy.hasOwnProperty(t)&&(this._keys[this._count]=t,this._count++)},current:function(){return this._keys[this._index]},moveNext:function(){return this._index++,this._index<this._count},reset:function(){this._index=-1},getEnumerator:function(){return this.reset(),this},$type:new n.ig.Type("KeyEnumerator",n.ig.Object.prototype.$type,[n.ig.IEnumerable.prototype.$type])},!0),n.ig.truncate=function(n){return n>=0?Math.floor(n):Math.ceil(n)},n.ig.intDivide=function(t,i){var r=t/i;return n.ig.truncate(r)},n.ig.Nullable=Class.extend({getUnderlyingType:function(t){return t.isGenericType!==undefined&&t.isGenericType()&&!t.isGenericTypeDefinition()&&n.ig.Nullable$1.prototype.$type.typeName()==t.typeName()?t.genericTypeArguments()[0]:null},$type:new n.ig.Type("Nullable",n.ig.Object.prototype.$type)},!0),n.ig.Nullable$1=Class.extend({$t:null,init:function(t,i){this.$t=t,this.$type=this.$type.specialize(this.$t),n.ig.Object.prototype.init.call(this),i!==undefined&&(this._value=i)},equals:function(t){return n.ig.util.nullableEquals(this,t)},getHashCode:function(){return this._value===null?0:this._value.getHashCode()},hasValue:function(){return this._value!==null},toString:function(){return this._value===null?"":this._value.toString()},_value:null,value:function(n){return arguments.length===1?(this._value=n,n):this._value},getValueOrDefault:function(){return this.hasValue()?this._value:this.getDefaultValue()},getDefaultValue:function(){return n.ig.util.canAssign(n.ig.Number.prototype.$type,this.$t)?0:n.ig.util.canAssign(n.ig.Boolean.prototype.$type,this.$t)?!1:this.$t.baseType==n.ig.ValueType.prototype.$type?n.ig.util.createInstance(this.$t):null},getValueOrDefault1:function(n){return this.hasValue()?this._value:n},preIncrement:function(){return this.hasValue()?(this._value++,this):this},preDecrement:function(){return this.hasValue()?(this._value--,this):this},postIncrement:function(){if(!this.hasValue())return this;var t=this._value;return this._value++,new n.ig.Nullable$1(this.$t,t)},postDecrement:function(){if(!this.hasValue())return this;var t=this._value;return this._value--,new n.ig.Nullable$1(this.$t,t)},isNullable:!0,$type:new n.ig.Type("Nullable$1",n.ig.Object.prototype.$type)},!0),n.ig.util.toNullable=function(t,i){return i==null?t._$nullNullable||(t._$nullNullable=new n.ig.Nullable$1(t,i)):i.isNullable?i:new n.ig.Nullable$1(t,i)},n.ig.util.toLowerCase=function(n){return n.toLowerCase()},n.ig.util.isLower=function(n){return n===n.toLowerCase()},n.ig.util.isLetterOrDigit=function(t){var i=t.charCodeAt(0);return 97<=i&&i<=122?!0:65<=i&&i<=90?!0:48<=i&&i<=57?!0:i<=127?!1:n.ig.unicode_hack("(\\p{L}|\\p{Nd})").test(t)},n.ig.util.isLetter=function(t){var i=t.charCodeAt(0);return 97<=i&&i<=122?!0:65<=i&&i<=90?!0:i<=127?!1:n.ig.unicode_hack("\\p{L}").test(t)},n.ig.util.isDigit1=function(t,i){return n.ig.util.isDigit(t[i])},n.ig.util.isDigit=function(t){var i=t.charCodeAt(0);return 48<=i&&i<=57?!0:i<=127?!1:n.ig.unicode_hack("\\p{Nd}").test(t)},n.ig.util.isNumber=function(t){var i=t.charCodeAt(0);return 48<=i&&i<=57?!0:i<=127?!1:n.ig.unicode_hack("\\p{N}").test(t)},n.ig.util.toUpperCase=function(n){return n.toUpperCase()},n.ig.util.concat=function(n,t){return n==null?n="":!n.isNullable||(n=n.getValueOrDefault1("")),t==null?t="":!t.isNullable||(t=t.getValueOrDefault1("")),n.toString()+t.toString()},n.ig.util.nullableAdd=function(t,i){if(t.isNullable&&!t.hasValue()||i.isNullable&&!i.hasValue())return null;var r=t,u=i;return t.isNullable&&(r=t.value()),i.isNullable&&(u=i.value()),n.ig.util.toNullable(n.ig.Number.prototype.$type,r+u)},n.ig.util.nullableSubtract=function(t,i){if(t.isNullable&&!t.hasValue()||i.isNullable&&!i.hasValue())return null;var r=t,u=i;return t.isNullable&&(r=t.value()),i.isNullable&&(u=i.value()),n.ig.util.toNullable(n.ig.Number.prototype.$type,r-u)},n.ig.util.nullableMultiply=function(t,i){if(t.isNullable&&!t.hasValue()||i.isNullable&&!i.hasValue())return null;var r=t,u=i;return t.isNullable&&(r=t.value()),i.isNullable&&(u=i.value()),n.ig.util.toNullable(n.ig.Number.prototype.$type,r*u)},n.ig.util.nullableDivide=function(t,i){if(t.isNullable&&!t.hasValue()||i.isNullable&&!i.hasValue())return null;var r=t,u=i;return t.isNullable&&(r=t.value()),i.isNullable&&(u=i.value()),n.ig.util.toNullable(n.ig.Number.prototype.$type,r/u)},n.ig.util.nullableModulus=function(t,i){if(t.isNullable&&!t.hasValue()||i.isNullable&&!i.hasValue())return null;var r=t,u=i;return t.isNullable&&(r=t.value()),i.isNullable&&(u=i.value()),n.ig.util.toNullable(n.ig.Number.prototype.$type,r%u)},n.ig.util.nullableGreaterThan=function(n,t){if(n.isNullable&&!n.hasValue()||t.isNullable&&!t.hasValue())return!1;var i=n,r=t;return n.isNullable&&(i=n.value()),t.isNullable&&(r=t.value()),i>r},n.ig.util.nullableGreaterThanOrEqual=function(n,t){if(n.isNullable&&!n.hasValue()||t.isNullable&&!t.hasValue())return!1;var i=n,r=t;return n.isNullable&&(i=n.value()),t.isNullable&&(r=t.value()),i>=r},n.ig.util.nullableLessThan=function(n,t){if(n.isNullable&&!n.hasValue()||t.isNullable&&!t.hasValue())return!1;var i=n,r=t;return n.isNullable&&(i=n.value()),t.isNullable&&(r=t.value()),i<r},n.ig.util.nullableLessThanOrEqual=function(n,t){if(n.isNullable&&!n.hasValue()||t.isNullable&&!t.hasValue())return!1;var i=n,r=t;return n.isNullable&&(i=n.value()),t.isNullable&&(r=t.value()),i<=r},n.ig.util.nullableIsNull=function(n){return n==null||!!n.isNullable&&!n.hasValue()},n.ig.util.nullableEquals=function(n,t){var u=n==null||!!n.isNullable&&!n.hasValue(),f=t==null||!!t.isNullable&&!t.hasValue(),i,r;return u&&f?!0:u!=f?!1:(i=n,r=t,n.isNullable&&(i=n.value()),t.isNullable&&(r=t.value()),i==r)},n.ig.util.nullableNotEquals=function(t,i){return!n.ig.util.nullableEquals(t,i)},n.ig.util.unwrapNullable=function(n){return n==null||!n.isNullable?n:n.hasValue()?n.value():null},n.ig.util.wrapNullable=function(t,i){return i!=null&&i.isNullable?i:n.ig.util.toNullable(t,i)},n.ig.util.getColorStringSafe=function(n){return n==null?null:n.colorString()},n.ig.util.wellKnownColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},n.ig.util.stringToColor=function(t){var i={a:255,r:0,g:0,b:0},f={a:0,r:0,g:0,b:0},u,r;return t?(u=t.replace(" ","").toLowerCase(),u==="transparent")?f:(n.ig.util.wellKnownColors[u]!==undefined&&(t=n.ig.util.wellKnownColors[u]),t.lastIndexOf("rgba",0)===0?(t=t.replace("rgba","").replace(" ","").replace("(","").replace(")",""),r=t.split(","),i.r=parseInt(r[0],10),i.g=parseInt(r[1],10),i.b=parseInt(r[2],10),i.a=parseFloat(r[3])*255):t.lastIndexOf("rgb",0)===0?(t=t.replace("rgb","").replace(" ","").replace("(","").replace(")",""),r=t.split(","),i.r=parseInt(r[0],10),i.g=parseInt(r[1],10),i.b=parseInt(r[2],10)):(t=t.replace("#","").replace(" ",""),t.length===6?(i.r=parseInt(t.substr(0,2),16),i.g=parseInt(t.substr(2,2),16),i.b=parseInt(t.substr(4,2),16)):t.length===3&&(i.r=parseInt(t.substr(0,1)+t.substr(0,1),16),i.g=parseInt(t.substr(1,1)+t.substr(1,1),16),i.b=parseInt(t.substr(2,1)+t.substr(2,1),16))),i):f},n.ig.util.rgbToHex=function(n){var t,i,r,u=null;return n.charAt(0)==="r"&&(n=n.replace("rgb(","").replace(")","").split(","),t=parseInt(n[0],10).toString(16),i=parseInt(n[1],10).toString(16),r=parseInt(n[2],10).toString(16),t=t.length===1?"0"+t:t,i=i.length===1?"0"+i:i,r=r.length===1?"0"+r:r,u="#"+t+i+r),u},n.ig.util.isResponseTypeSupported=function(n){var t=null;try{t=new XMLHttpRequest,t.open("GET","/"),t.responseType=n}catch(i){return!1}return t===null?!1:t.responseType===n},n.ig.util.getBinary=function(t,i,r){var f,o,u,s=!1,e=n.ig.util.isResponseTypeSupported("arraybuffer")&&typeof Uint8Array!="undefined";if(typeof XMLHttpRequest=="undefined"){try{u=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(h){}try{u=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(h){}u=new ActiveXObject("Microsoft.XMLHTTP")}else u=new XMLHttpRequest;e||u.overrideMimeType&&u.overrideMimeType("text/plain; charset=x-user-defined"),typeof VBArray!="undefined"&&(s=!0),u.onreadystatechange=function(){if(u.readyState==4)if(u.status==200)if(e&&typeof this.response!="undefined")i(new Uint8Array(this.response));else if(s){f=new VBArray(u.responseBody).toArray();for(var n=0;n<f.length;n++)f[n]=String.fromCharCode(f[n]);o=f.join(""),i(o)}else i(u.responseText);else r(u.error)},u.open("GET",t,!0),e&&(u.responseType="arraybuffer"),u.send(null)},n.ig.util.extCopy=function(t,i){var r,e,u,o,f;if(typeof t!="undefined"&&t)for(e=0;e<i.length;e++)for(o=i[e][0],f=i[e][1],u=0;u<o.length;u++)for(r=0;r<f.length;r++)typeof o[u]!="undefined"&&o[u]&&typeof f[r]!="undefined"&&f[r]&&n.ig.extendNativePrototype(o[u].prototype,f[r],t.prototype[f[r]])},n.ig.$currDefinitions=null,n.ig.$allDefinitions=[],n.ig.util.getDefinedNameAndNamespace=function(t){var i=n.ig,r=t.split("."),u,f;if(r.length!=1){for(u=0;u<r.length-1;u++)f=r[u],i[f]||(i[f]={}),i=i[f];t=r[r.length-1]}return{name:t,namespace:i}},n.ig.util.bulkDefine=function(t){for(var f=0,r=null,u=null,i,f=0;f<t.length;f++)r=t[f],u=r.split(":"),r=u[0],i=n.ig.util.getDefinedNameAndNamespace(r),i.namespace[i.name]=i.namespace[i.name]||Class.extend({$type:new n.ig.Type(r,n.ig.Object.prototype.$type),$placeholder:!0},!0),u.length>1&&n.ig.$currDefinitions&&(n.ig.$currDefinitions[u[1]]=i.namespace[i.name],n.ig.$currDefinitions["$"+u[1]]=i.namespace[i.name].prototype,n.ig.$currDefinitions["$_"+r]=u[1]),n.ig.$allDefinitions&&n.ig.$allDefinitions.indexOf(n.ig.$currDefinitions)<0&&n.ig.$allDefinitions.push(n.ig.$currDefinitions)},n.ig.util.defType=function(t,i,r){var f=null,s,e,h,o,u,c;if(f=t.split(":"),t=f[0],o=n.ig.util.getDefinedNameAndNamespace(t),u=o.namespace[o.name],(!u||u.prototype.$placeholder)&&(c=n.ig.util.getDefinedNameAndNamespace(i),u=c.namespace[c.name].extend(r),o.namespace[o.name]=u),f.length>1&&n.ig.$currDefinitions&&(n.ig.$currDefinitions[f[1]]=u,n.ig.$currDefinitions["$"+f[1]]=u.prototype,n.ig.$currDefinitions["$_"+t]=f[1],n.ig.$allDefinitions))for(s=0;s<n.ig.$allDefinitions.length;s++)e=n.ig.$allDefinitions[s],e["$_"+t]!==undefined&&(h=e["$_"+t],e[h]=u,e["$"+h]=u.prototype);return u},n.ig.util.defEnum=function(t,i,r,u){var h={},o=null,c,e,f,a,s;for(c in u)e=c.split(":"),h[u[c]]=e[0],e.length>1&&(o=o||{},o[e[0]]=e[1],o[e[0].toUpperCase()]=e[1]);var w=t.split(":")[0],v=function(n){return h.hasOwnProperty(n)?h[n]:n.toString()},y=v;i&&(y=function(n){return this.getFlaggedName(n,v)});var b={init:function(n){this._v=n},$value:function(){return this._v},$renamed:o,$type:new n.ig.Type(w,n.ig.Enum.prototype.$type),$getName:y},l=n.ig.util.defType(t,"Enum",b,!0),p=r?l:l.prototype;for(f in u)a=f.split(":"),s=a.length>1?a[1]:f.charAt(0)==="_"?"_"+f.charAt(1).toLowerCase()+f.slice(2):f.charAt(0).toLowerCase()+f.slice(1),p[s]=u[f];return r&&(p._isEnum=!0),l},n.ig.util.getClassCount=function(n,t){var s=document.styleSheets,r=0,c=0,u,f,i,h,e,o;if(n=n.toLowerCase(),!s)return 0;for(e=0;e<s.length;e++)try{if(u=s[e],f=u.rules?u.rules:u.cssRules,!f)continue;for(o=0;o<f.length;o++)i=f[o].selectorText,i&&(i=i.toLowerCase(),t?i.indexOf(n)===0&&(h=parseInt(i.replace(n,""),10),isNaN(h)?c++:r=Math.max(r,h)):i==n&&r++)}catch(l){}return Math.max(r,c)},n.ig.util._isCanvasSupported=function(){var n=document.createElement("canvas");return!!(n.getContext&&n.getContext("2d"))},u={invariant:{c:"¤",d:"MM/dd/yyyy"},127:"invariant",af:{c:"R",d:"yyyy/MM/dd"},54:"af","af-ZA":{c:"R",d:"yyyy/MM/dd"},1078:"af-ZA",am:{c:"ETB",d:"d/M/yyyy"},94:"am","am-ET":{c:"ETB",d:"d/M/yyyy"},1118:"am-ET",ar:{c:"ر.س.‏",d:"dd/MM/yy",n:"٠١٢٣٤٥٦٧٨٩"},1:"ar","ar-AE":{c:"د.إ.‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},14337:"ar-AE","ar-BH":{c:"د.ب.‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},15361:"ar-BH","ar-DZ":{c:"د.ج.‏",d:"dd-MM-yyyy"},5121:"ar-DZ","ar-EG":{c:"ج.م.‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},3073:"ar-EG","ar-IQ":{c:"د.ع.‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},2049:"ar-IQ","ar-JO":{c:"د.ا.‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},11265:"ar-JO","ar-KW":{c:"د.ك.‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},13313:"ar-KW","ar-LB":{c:"ل.ل.‏‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},12289:"ar-LB","ar-LY":{c:"د.ل.‏‏",d:"dd/MM/yyyy"},4097:"ar-LY","ar-MA":{c:"د.م.‏‏",d:"dd-MM-yyyy"},6145:"ar-MA",arn:{c:"$",d:"dd-MM-yyyy"},122:"arn","arn-CL":{c:"$",d:"dd-MM-yyyy"},1146:"arn-CL","ar-OM":{c:"ر.ع.‏‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},8193:"ar-OM","ar-QA":{c:"ر.ق.‏‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},16385:"ar-QA","ar-SA":{c:"ر.س.‏",d:"dd/MM/yy",n:"٠١٢٣٤٥٦٧٨٩"},1025:"ar-SA","ar-SY":{c:"ل.س.‏‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},10241:"ar-SY","ar-TN":{c:"د.ت.‏‏",d:"dd-MM-yyyy"},7169:"ar-TN","ar-YE":{c:"ر.ي.‏‏",d:"dd/MM/yyyy",n:"٠١٢٣٤٥٦٧٨٩"},9217:"ar-YE",as:{c:"₹",d:"dd-MM-yyyy",n:"০১২৩৪৫৬৭৮৯"},77:"as","as-IN":{c:"₹",d:"dd-MM-yyyy",n:"০১২৩৪৫৬৭৮৯"},1101:"as-IN",az:{c:"man.",d:"dd.MM.yyyy"},44:"az","az-Cyrl":{c:"ман.",d:"dd.MM.yyyy"},29740:"az-Cyrl","az-Cyrl-AZ":{c:"ман.",d:"dd.MM.yyyy"},2092:"az-Cyrl-AZ","az-Latn":{c:"man.",d:"dd.MM.yyyy"},30764:"az-Latn","az-Latn-AZ":{c:"man.",d:"dd.MM.yyyy"},1068:"az-Latn-AZ",ba:{c:"₽",d:"dd.MM.yy"},109:"ba","ba-RU":{c:"₽",d:"dd.MM.yy"},1133:"ba-RU",be:{c:"Br",d:"dd.MM.yy"},35:"be","be-BY":{c:"Br",d:"dd.MM.yy"},1059:"be-BY",bg:{c:"лв.",d:'d.M.yyyy "г."'},2:"bg","bg-BG":{c:"лв.",d:'d.M.yyyy "г."'},1026:"bg-BG",bn:{c:"₹",d:"dd-MM-yy",n:"০১২৩৪৫৬৭৮৯"},69:"bn","bn-BD":{c:"৳",d:"dd-MM-yy",n:"০১২৩৪৫৬৭৮৯"},2117:"bn-BD","bn-IN":{c:"₹",d:"dd-MM-yy",n:"০১২৩৪৫৬৭৮৯"},1093:"bn-IN",bo:{c:"¥",d:"yyyy/M/d",n:"༠༡༢༣༤༥༦༧༨༩"},81:"bo","bo-CN":{c:"¥",d:"yyyy/M/d",n:"༠༡༢༣༤༥༦༧༨༩"},1105:"bo-CN",br:{c:"€",d:"dd/MM/yyyy"},126:"br","br-FR":{c:"€",d:"dd/MM/yyyy"},1150:"br-FR",bs:{c:"KM",d:"d.M.yyyy"},30746:"bs","bs-Cyrl":{c:"КМ",d:"d.M.yyyy"},25626:"bs-Cyrl","bs-Cyrl-BA":{c:"КМ",d:"d.M.yyyy"},8218:"bs-Cyrl-BA","bs-Latn":{c:"KM",d:"d.M.yyyy"},26650:"bs-Latn","bs-Latn-BA":{c:"KM",d:"d.M.yyyy"},5146:"bs-Latn-BA",ca:{c:"€",d:"dd/MM/yyyy"},3:"ca","ca-ES":{c:"€",d:"dd/MM/yyyy"},1027:"ca-ES","ca-ES-valencia":{c:"€",d:"dd/MM/yy"},2051:"ca-ES-valencia",chr:{c:"$",d:"M/d/yyyy"},92:"chr","chr-Cher":{c:"$",d:"M/d/yyyy"},31836:"chr-Cher","chr-Cher-US":{c:"$",d:"M/d/yyyy"},1116:"chr-Cher-US",co:{c:"€",d:"dd/MM/yyyy"},131:"co","co-FR":{c:"€",d:"dd/MM/yyyy"},1155:"co-FR",cs:{c:"Kč",d:"d. M. yyyy"},5:"cs","cs-CZ":{c:"Kč",d:"d. M. yyyy"},1029:"cs-CZ",cy:{c:"£",d:"dd/MM/yy"},82:"cy","cy-GB":{c:"£",d:"dd/MM/yy"},1106:"cy-GB",da:{c:"kr.",d:"dd-MM-yyyy"},6:"da","da-DK":{c:"kr.",d:"dd-MM-yyyy"},1030:"da-DK",de:{c:"€",d:"dd.MM.yyyy"},7:"de","de-AT":{c:"€",d:"dd.MM.yyyy"},3079:"de-AT","de-CH":{c:"Fr.",d:"dd.MM.yyyy"},2055:"de-CH","de-DE":{c:"€",d:"dd.MM.yyyy"},1031:"de-DE","de-LI":{c:"CHF",d:"dd.MM.yyyy"},5127:"de-LI","de-LU":{c:"€",d:"dd.MM.yyyy"},4103:"de-LU",dsb:{c:"€",d:"d. M. yyyy"},31790:"dsb","dsb-DE":{c:"€",d:"d. M. yyyy"},2094:"dsb-DE",dv:{c:"ރ.",d:"dd/MM/yy"},101:"dv","dv-MV":{c:"ރ.",d:"dd/MM/yy"},1125:"dv-MV",el:{c:"€",d:"d/M/yyyy"},8:"el","el-GR":{c:"€",d:"d/M/yyyy"},1032:"el-GR",en:{c:"$",d:"M/d/yyyy"},9:"en","en-029":{c:"EC$",d:"dd/MM/yyyy"},9225:"en-029","en-AU":{c:"$",d:"d/MM/yyyy"},3081:"en-AU","en-BZ":{c:"BZ$",d:"dd/MM/yyyy"},10249:"en-BZ","en-CA":{c:"$",d:"yyyy-MM-dd"},4105:"en-CA","en-GB":{c:"£",d:"dd/MM/yyyy"},2057:"en-GB","en-HK":{c:"$",d:"d/M/yy"},15369:"en-HK","en-IE":{c:"€",d:"dd/MM/yyyy"},6153:"en-IE","en-IN":{c:"₹",d:"dd-MM-yyyy"},16393:"en-IN","en-JM":{c:"J$",d:"dd/MM/yyyy"},8201:"en-JM","en-MY":{c:"RM",d:"d/M/yyyy"},17417:"en-MY","en-NZ":{c:"$",d:"d/MM/yyyy"},5129:"en-NZ","en-PH":{c:"₱",d:"M/d/yyyy"},13321:"en-PH","en-SG":{c:"$",d:"d/M/yyyy"},18441:"en-SG","en-TT":{c:"TT$",d:"dd/MM/yyyy"},11273:"en-TT","en-US":{c:"$",d:"M/d/yyyy"},1033:"en-US","en-ZA":{c:"R",d:"yyyy-MM-dd"},7177:"en-ZA","en-ZW":{c:"$",d:"dd/MM/yyyy"},12297:"en-ZW",es:{c:"€",d:"dd/MM/yyyy"},10:"es","es-419":{c:"US$",d:"dd/MM/yy"},22538:"es-419","es-AR":{c:"$",d:"dd/MM/yyyy"},11274:"es-AR","es-BO":{c:"Bs.",d:"dd/MM/yyyy"},16394:"es-BO","es-CL":{c:"$",d:"dd-MM-yyyy"},13322:"es-CL","es-CO":{c:"$",d:"dd/MM/yyyy"},9226:"es-CO","es-CR":{c:"₡",d:"dd/MM/yyyy"},5130:"es-CR","es-DO":{c:"RD$",d:"d/M/yy"},7178:"es-DO","es-EC":{c:"$",d:"dd/MM/yyyy"},12298:"es-EC","es-ES":{c:"€",d:"dd/MM/yyyy"},3082:"es-ES","es-GT":{c:"Q",d:"dd/MM/yyyy"},4106:"es-GT","es-HN":{c:"L.",d:"dd/MM/yyyy"},18442:"es-HN","es-MX":{c:"$",d:"dd/MM/yyyy"},2058:"es-MX","es-NI":{c:"C$",d:"dd/MM/yyyy"},19466:"es-NI","es-PA":{c:"B/.",d:"d/M/yy"},6154:"es-PA","es-PE":{c:"S/.",d:"dd/MM/yyyy"},10250:"es-PE","es-PR":{c:"$",d:"dd/MM/yyyy"},20490:"es-PR","es-PY":{c:"₲",d:"dd/MM/yyyy"},15370:"es-PY","es-SV":{c:"$",d:"dd/MM/yyyy"},17418:"es-SV","es-US":{c:"$",d:"M/d/yyyy"},21514:"es-US","es-UY":{c:"$U",d:"dd/MM/yyyy"},14346:"es-UY","es-VE":{c:"Bs.F.",d:"dd-MM-yyyy"},8202:"es-VE",et:{c:"€",d:"d.MM.yyyy"},37:"et","et-EE":{c:"€",d:"d.MM.yyyy"},1061:"et-EE",eu:{c:"€",d:"yyyy/MM/dd"},45:"eu","eu-ES":{c:"€",d:"yyyy/MM/dd"},1069:"eu-ES",fa:{c:"ريال",d:"dd/MM/yyyy",n:"۰۱۲۳۴۵۶۷۸۹"},41:"fa","fa-IR":{c:"ريال",d:"dd/MM/yyyy",n:"۰۱۲۳۴۵۶۷۸۹"},1065:"fa-IR",ff:{c:"CFA",d:"dd/MM/yyyy"},103:"ff","ff-Latn":{c:"CFA",d:"dd/MM/yyyy"},31847:"ff-Latn","ff-Latn-SN":{c:"CFA",d:"dd/MM/yyyy"},2151:"ff-Latn-SN",fi:{c:"€",d:"d.M.yyyy"},11:"fi","fi-FI":{c:"€",d:"d.M.yyyy"},1035:"fi-FI",fil:{c:"₱",d:"M/d/yyyy"},100:"fil","fil-PH":{c:"₱",d:"M/d/yyyy"},1124:"fil-PH",fo:{c:"kr.",d:"dd-MM-yyyy"},56:"fo","fo-FO":{c:"kr.",d:"dd-MM-yyyy"},1080:"fo-FO",fr:{c:"€",d:"dd/MM/yyyy"},12:"fr","fr-BE":{c:"€",d:"dd-MM-yy"},2060:"fr-BE","fr-CA":{c:"$",d:"yyyy-MM-dd"},3084:"fr-CA","fr-CD":{c:"FC",d:"dd/MM/yyyy"},9228:"fr-CD","fr-CH":{c:"fr.",d:"dd.MM.yyyy"},4108:"fr-CH","fr-CI":{c:"CFA",d:"dd/MM/yyyy"},12300:"fr-CI","fr-CM":{c:"FCFA",d:"dd/MM/yyyy"},11276:"fr-CM","fr-FR":{c:"€",d:"dd/MM/yyyy"},1036:"fr-FR","fr-HT":{c:"G",d:"dd/MM/yyyy"},15372:"fr-HT","fr-LU":{c:"€",d:"dd/MM/yyyy"},5132:"fr-LU","fr-MA":{c:"DH",d:"dd/MM/yyyy"},14348:"fr-MA","fr-MC":{c:"€",d:"dd/MM/yyyy"},6156:"fr-MC","fr-ML":{c:"CFA",d:"dd/MM/yyyy"},13324:"fr-ML","fr-RE":{c:"€",d:"dd/MM/yyyy"},8204:"fr-RE","fr-SN":{c:"CFA",d:"dd/MM/yyyy"},10252:"fr-SN",fy:{c:"€",d:"d-M-yyyy"},98:"fy","fy-NL":{c:"€",d:"d-M-yyyy"},1122:"fy-NL",ga:{c:"€",d:"dd/MM/yyyy"},60:"ga","ga-IE":{c:"€",d:"dd/MM/yyyy"},2108:"ga-IE",gd:{c:"£",d:"dd/MM/yyyy"},145:"gd","gd-GB":{c:"£",d:"dd/MM/yyyy"},1169:"gd-GB",gl:{c:"€",d:"dd/MM/yyyy"},86:"gl","gl-ES":{c:"€",d:"dd/MM/yyyy"},1110:"gl-ES",gn:{c:"₲",d:"dd/MM/yyyy"},116:"gn","gn-PY":{c:"₲",d:"dd/MM/yyyy"},1140:"gn-PY",gsw:{c:"€",d:"dd/MM/yyyy"},132:"gsw","gsw-FR":{c:"€",d:"dd/MM/yyyy"},1156:"gsw-FR",gu:{c:"₹",d:"dd-MM-yy",n:"૦૧૨૩૪૫૬૭૮૯"},71:"gu","gu-IN":{c:"₹",d:"dd-MM-yy",n:"૦૧૨૩૪૫૬૭૮૯"},1095:"gu-IN",ha:{c:"₦",d:"d/M/yyyy"},104:"ha","ha-Latn":{c:"₦",d:"d/M/yyyy"},31848:"ha-Latn","ha-Latn-NG":{c:"₦",d:"d/M/yyyy"},1128:"ha-Latn-NG",haw:{c:"$",d:"M/d/yyyy"},117:"haw","haw-US":{c:"$",d:"M/d/yyyy"},1141:"haw-US",he:{c:"₪",d:"dd/MM/yyyy"},13:"he","he-IL":{c:"₪",d:"dd/MM/yyyy"},1037:"he-IL",hi:{c:"₹",d:"dd-MM-yyyy",n:"०१२३४५६७८९"},57:"hi","hi-IN":{c:"₹",d:"dd-MM-yyyy",n:"०१२३४५६७८९"},1081:"hi-IN",hr:{c:"kn",d:"d.M.yyyy."},26:"hr","hr-BA":{c:"KM",d:"d.M.yyyy."},4122:"hr-BA","hr-HR":{c:"kn",d:"d.M.yyyy."},1050:"hr-HR",hsb:{c:"€",d:"d. M. yyyy"},46:"hsb","hsb-DE":{c:"€",d:"d. M. yyyy"},1070:"hsb-DE",hu:{c:"Ft",d:"yyyy.MM.dd."},14:"hu","hu-HU":{c:"Ft",d:"yyyy.MM.dd."},1038:"hu-HU",hy:{c:"֏",d:"dd.MM.yyyy"},43:"hy","hy-AM":{c:"֏",d:"dd.MM.yyyy"},1067:"hy-AM",id:{c:"Rp",d:"dd/MM/yyyy"},33:"id","id-ID":{c:"Rp",d:"dd/MM/yyyy"},1057:"id-ID",ig:{c:"₦",d:"d/M/yyyy"},112:"ig","ig-NG":{c:"₦",d:"d/M/yyyy"},1136:"ig-NG",ii:{c:"¥",d:"yyyy/M/d"},120:"ii","ii-CN":{c:"¥",d:"yyyy/M/d"},1144:"ii-CN",is:{c:"kr.",d:"d.M.yyyy"},15:"is","is-IS":{c:"kr.",d:"d.M.yyyy"},1039:"is-IS",it:{c:"€",d:"dd/MM/yyyy"},16:"it","it-CH":{c:"fr.",d:"dd.MM.yyyy"},2064:"it-CH","it-IT":{c:"€",d:"dd/MM/yyyy"},1040:"it-IT",iu:{c:"$",d:"d/MM/yyyy"},93:"iu","iu-Cans":{c:"$",d:"d/M/yyyy"},30813:"iu-Cans","iu-Cans-CA":{c:"$",d:"d/M/yyyy"},1117:"iu-Cans-CA","iu-Latn":{c:"$",d:"d/MM/yyyy"},31837:"iu-Latn","iu-Latn-CA":{c:"$",d:"d/MM/yyyy"},2141:"iu-Latn-CA",ja:{c:"¥",d:"yyyy/MM/dd"},17:"ja","ja-JP":{c:"¥",d:"yyyy/MM/dd"},1041:"ja-JP",jv:{c:"Rp",d:"dd/MM/yyyy"},4096:"jv","jv-Latn":{c:"Rp",d:"dd/MM/yyyy"},"jv-Latn-ID":{c:"Rp",d:"dd/MM/yyyy"},ka:{c:"ლ.",d:"dd.MM.yyyy"},55:"ka","ka-GE":{c:"ლ.",d:"dd.MM.yyyy"},1079:"ka-GE",kk:{c:"₸",d:"d-MMM-yy"},63:"kk","kk-KZ":{c:"₸",d:"d-MMM-yy"},1087:"kk-KZ",kl:{c:"kr.",d:"dd-MM-yyyy"},111:"kl","kl-GL":{c:"kr.",d:"dd-MM-yyyy"},1135:"kl-GL",km:{c:"៛",d:"dd/MM/yy",n:"០១២៣៤៥៦៧៨៩"},83:"km","km-KH":{c:"៛",d:"dd/MM/yy",n:"០១២៣៤៥៦៧៨៩"},1107:"km-KH",kn:{c:"₹",d:"dd-MM-yy",n:"೦೧೨೩೪೫೬೭೮೯"},75:"kn","kn-IN":{c:"₹",d:"dd-MM-yy",n:"೦೧೨೩೪೫೬೭೮೯"},1099:"kn-IN",ko:{c:"₩",d:"yyyy-MM-dd"},18:"ko",kok:{c:"₹",d:"dd-MM-yyyy",n:"०१२३४५६७८९"},87:"kok","kok-IN":{c:"₹",d:"dd-MM-yyyy",n:"०१२३४५६७८९"},1111:"kok-IN","ko-KR":{c:"₩",d:"yyyy-MM-dd"},1042:"ko-KR",ku:{c:"د.ع.‏",d:"yyyy/MM/dd",n:"٠١٢٣٤٥٦٧٨٩"},146:"ku","ku-Arab":{c:"د.ع.‏",d:"yyyy/MM/dd",n:"٠١٢٣٤٥٦٧٨٩"},31890:"ku-Arab","ku-Arab-IQ":{c:"د.ع.‏",d:"yyyy/MM/dd",n:"٠١٢٣٤٥٦٧٨٩"},1170:"ku-Arab-IQ",ky:{c:"сом",d:"d-MMM yy"},64:"ky","ky-KG":{c:"сом",d:"d-MMM yy"},1088:"ky-KG",lb:{c:"€",d:"dd.MM.yy"},110:"lb","lb-LU":{c:"€",d:"dd.MM.yy"},1134:"lb-LU",lo:{c:"₭",d:"dd/MM/yyyy",n:"໐໑໒໓໔໕໖໗໘໙"},84:"lo","lo-LA":{c:"₭",d:"dd/MM/yyyy",n:"໐໑໒໓໔໕໖໗໘໙"},1108:"lo-LA",lt:{c:"Lt",d:"yyyy-MM-dd"},39:"lt","lt-LT":{c:"Lt",d:"yyyy-MM-dd"},1063:"lt-LT",lv:{c:"€",d:"dd.MM.yyyy."},38:"lv","lv-LV":{c:"€",d:"dd.MM.yyyy."},1062:"lv-LV",mg:{c:"Ar",d:"d/M/yyyy"},"mg-MG":{c:"Ar",d:"d/M/yyyy"},mi:{c:"$",d:"dd/MM/yyyy"},129:"mi","mi-NZ":{c:"$",d:"dd/MM/yyyy"},1153:"mi-NZ",mk:{c:"ден.",d:"dd.MM.yyyy"},47:"mk","mk-MK":{c:"ден.",d:"dd.MM.yyyy"},1071:"mk-MK",ml:{c:"₹",d:"dd-MM-yy",n:"൦൧൨൩൪൫൬൭൮൯"},76:"ml","ml-IN":{c:"₹",d:"dd-MM-yy",n:"൦൧൨൩൪൫൬൭൮൯"},1100:"ml-IN",mn:{c:"₮",d:"yyyy-MM-dd"},80:"mn","mn-Cyrl":{c:"₮",d:"yyyy-MM-dd"},30800:"mn-Cyrl","mn-MN":{c:"₮",d:"yyyy-MM-dd"},1104:"mn-MN","mn-Mong":{c:"¥",d:"yyyy/M/d"},31824:"mn-Mong","mn-Mong-CN":{c:"¥",d:"yyyy/M/d"},2128:"mn-Mong-CN","mn-Mong-MN":{c:"₮",d:"yyyy/M/d"},3152:"mn-Mong-MN",moh:{c:"$",d:"M/d/yyyy"},124:"moh","moh-CA":{c:"$",d:"M/d/yyyy"},1148:"moh-CA",mr:{c:"₹",d:"dd-MM-yyyy",n:"०१२३४५६७८९"},78:"mr","mr-IN":{c:"₹",d:"dd-MM-yyyy",n:"०१२३४५६७८९"},1102:"mr-IN",ms:{c:"RM",d:"dd/MM/yyyy"},62:"ms","ms-BN":{c:"$",d:"dd/MM/yyyy"},2110:"ms-BN","ms-MY":{c:"RM",d:"dd/MM/yyyy"},1086:"ms-MY",mt:{c:"€",d:"dd/MM/yyyy"},58:"mt","mt-MT":{c:"€",d:"dd/MM/yyyy"},1082:"mt-MT",my:{c:"K",d:"dd-MM-yyyy",n:"၀၁၂၃၄၅၆၇၈၉"},85:"my","my-MM":{c:"K",d:"dd-MM-yyyy",n:"၀၁၂၃၄၅၆၇၈၉"},1109:"my-MM",nb:{c:"kr",d:"dd.MM.yyyy"},31764:"nb","nb-NO":{c:"kr",d:"dd.MM.yyyy"},1044:"nb-NO",ne:{c:"रु",d:"M/d/yyyy",n:"०१२३४५६७८९"},97:"ne","ne-IN":{c:"₹",d:"yyyy-MM-dd",n:"०१२३४५६७८९"},2145:"ne-IN","ne-NP":{c:"रु",d:"M/d/yyyy",n:"०१२३४५६७८९"},1121:"ne-NP",nl:{c:"€",d:"d-M-yyyy"},19:"nl","nl-BE":{c:"€",d:"d/MM/yyyy"},2067:"nl-BE","nl-NL":{c:"€",d:"d-M-yyyy"},1043:"nl-NL",nn:{c:"kr",d:"dd.MM.yyyy"},30740:"nn","nn-NO":{c:"kr",d:"dd.MM.yyyy"},2068:"nn-NO",no:{c:"kr",d:"dd.MM.yyyy"},20:"no",nqo:{c:"ߖߕ.",d:"dd/MM/yyyy",n:"߀߁߂߃߄߅߆߇߈߉"},"nqo-GN":{c:"ߖߕ.",d:"dd/MM/yyyy",n:"߀߁߂߃߄߅߆߇߈߉"},nso:{c:"R",d:"dd/MM/yy"},108:"nso","nso-ZA":{c:"R",d:"dd/MM/yy"},1132:"nso-ZA",oc:{c:"€",d:"dd/MM/yyyy"},130:"oc","oc-FR":{c:"€",d:"dd/MM/yyyy"},1154:"oc-FR",om:{c:"Br",d:"dd/MM/yy"},114:"om","om-ET":{c:"Br",d:"dd/MM/yy"},1138:"om-ET",or:{c:"₹",d:"dd-MM-yy",n:"୦୧୨୩୪୫୬୭୮୯"},72:"or","or-IN":{c:"₹",d:"dd-MM-yy",n:"୦୧୨୩୪୫୬୭୮୯"},1096:"or-IN",pa:{c:"₹",d:"dd-MM-yy",n:"੦੧੨੩੪੫੬੭੮੯"},70:"pa","pa-Arab":{c:"Rs",d:"dd-MM-yy",n:"۰۱۲۳۴۵۶۷۸۹"},31814:"pa-Arab","pa-Arab-PK":{c:"Rs",d:"dd-MM-yy",n:"۰۱۲۳۴۵۶۷۸۹"},2118:"pa-Arab-PK","pa-IN":{c:"₹",d:"dd-MM-yy",n:"੦੧੨੩੪੫੬੭੮੯"},1094:"pa-IN",pl:{c:"zł",d:"yyyy-MM-dd"},21:"pl","pl-PL":{c:"zł",d:"yyyy-MM-dd"},1045:"pl-PL",prs:{c:"؋",d:"yyyy/M/d",n:"٠١٢٣٤٥٦٧٨٩"},140:"prs","prs-AF":{c:"؋",d:"yyyy/M/d",n:"٠١٢٣٤٥٦٧٨٩"},1164:"prs-AF",ps:{c:"؋",d:"yyyy/M/d",n:"٠١٢٣٤٥٦٧٨٩"},99:"ps","ps-AF":{c:"؋",d:"yyyy/M/d",n:"٠١٢٣٤٥٦٧٨٩"},1123:"ps-AF",pt:{c:"R$",d:"dd/MM/yyyy"},22:"pt","pt-AO":{c:"Kz",d:"dd/MM/yy"},"pt-BR":{c:"R$",d:"dd/MM/yyyy"},1046:"pt-BR","pt-PT":{c:"€",d:"dd/MM/yyyy"},2070:"pt-PT",qut:{c:"Q",d:"dd/MM/yyyy"},134:"qut","qut-GT":{c:"Q",d:"dd/MM/yyyy"},1158:"qut-GT",quz:{c:"Bs.",d:"dd/MM/yyyy"},107:"quz","quz-BO":{c:"Bs.",d:"dd/MM/yyyy"},1131:"quz-BO","quz-EC":{c:"$",d:"dd/MM/yyyy"},2155:"quz-EC","quz-PE":{c:"S/.",d:"dd/MM/yyyy"},3179:"quz-PE",rm:{c:"fr.",d:"dd-MM-yyyy"},23:"rm","rm-CH":{c:"fr.",d:"dd-MM-yyyy"},1047:"rm-CH",ro:{c:"lei",d:"dd.MM.yyyy"},24:"ro","ro-MD":{c:"L",d:"dd.MM.yyyy"},2072:"ro-MD","ro-RO":{c:"lei",d:"dd.MM.yyyy"},1048:"ro-RO",ru:{c:"₽",d:"dd.MM.yyyy"},25:"ru","ru-RU":{c:"₽",d:"dd.MM.yyyy"},1049:"ru-RU",rw:{c:"RWF",d:"d/MM/yyyy"},135:"rw","rw-RW":{c:"RWF",d:"d/MM/yyyy"},1159:"rw-RW",sa:{c:"₹",d:"dd-MM-yyyy",n:"०१२३४५६७८९"},79:"sa",sah:{c:"₽",d:"dd.MM.yyyy"},133:"sah","sah-RU":{c:"₽",d:"dd.MM.yyyy"},1157:"sah-RU","sa-IN":{c:"₹",d:"dd-MM-yyyy",n:"०१२३४५६७८९"},1103:"sa-IN",sd:{c:"Rs",d:"dd/MM/yyyy",n:"۰۱۲۳۴۵۶۷۸۹"},89:"sd","sd-Arab":{c:"Rs",d:"dd/MM/yyyy",n:"۰۱۲۳۴۵۶۷۸۹"},31833:"sd-Arab","sd-Arab-PK":{c:"Rs",d:"dd/MM/yyyy",n:"۰۱۲۳۴۵۶۷۸۹"},2137:"sd-Arab-PK",se:{c:"kr",d:"dd.MM.yyyy"},59:"se","se-FI":{c:"€",d:"d.M.yyyy"},3131:"se-FI","se-NO":{c:"kr",d:"dd.MM.yyyy"},1083:"se-NO","se-SE":{c:"kr",d:"yyyy-MM-dd"},2107:"se-SE",si:{c:"රු.",d:"yyyy-MM-dd"},91:"si","si-LK":{c:"රු.",d:"yyyy-MM-dd"},1115:"si-LK",sk:{c:"EUR",d:"d.M.yyyy"},27:"sk","sk-SK":{c:"EUR",d:"d.M.yyyy"},1051:"sk-SK",sl:{c:"€",d:"d.M.yyyy"},36:"sl","sl-SI":{c:"€",d:"d.M.yyyy"},1060:"sl-SI",sma:{c:"kr",d:"yyyy-MM-dd"},30779:"sma","sma-NO":{c:"kr",d:"dd.MM.yyyy"},6203:"sma-NO","sma-SE":{c:"kr",d:"yyyy-MM-dd"},7227:"sma-SE",smj:{c:"kr",d:"yyyy-MM-dd"},31803:"smj","smj-NO":{c:"kr",d:"dd.MM.yyyy"},4155:"smj-NO","smj-SE":{c:"kr",d:"yyyy-MM-dd"},5179:"smj-SE",smn:{c:"€",d:"d.M.yyyy"},28731:"smn","smn-FI":{c:"€",d:"d.M.yyyy"},9275:"smn-FI",sms:{c:"€",d:"d.M.yyyy"},29755:"sms","sms-FI":{c:"€",d:"d.M.yyyy"},8251:"sms-FI",sn:{c:"US$",d:"dd/MM/yyyy"},"sn-Latn":{c:"US$",d:"dd/MM/yyyy"},"sn-Latn-ZW":{c:"US$",d:"dd/MM/yyyy"},so:{c:"S",d:"dd/MM/yy"},119:"so","so-SO":{c:"S",d:"dd/MM/yy"},1143:"so-SO",sq:{c:"Lek",d:"d.M.yyyy"},28:"sq","sq-AL":{c:"Lek",d:"d.M.yyyy"},1052:"sq-AL",sr:{c:"din.",d:"d.M.yyyy."},31770:"sr","sr-Cyrl":{c:"дин.",d:"d.M.yyyy."},27674:"sr-Cyrl","sr-Cyrl-BA":{c:"КМ",d:"d.M.yyyy."},7194:"sr-Cyrl-BA","sr-Cyrl-CS":{c:"дин.",d:"d.M.yyyy."},3098:"sr-Cyrl-CS","sr-Cyrl-ME":{c:"€",d:"d.M.yyyy."},12314:"sr-Cyrl-ME","sr-Cyrl-RS":{c:"дин.",d:"d.M.yyyy."},10266:"sr-Cyrl-RS","sr-Latn":{c:"din.",d:"d.M.yyyy."},28698:"sr-Latn","sr-Latn-BA":{c:"KM",d:"d.M.yyyy."},6170:"sr-Latn-BA","sr-Latn-CS":{c:"din.",d:"d.M.yyyy."},2074:"sr-Latn-CS","sr-Latn-ME":{c:"€",d:"d.M.yyyy."},11290:"sr-Latn-ME","sr-Latn-RS":{c:"din.",d:"d.M.yyyy."},9242:"sr-Latn-RS",st:{c:"R",d:"yyyy-MM-dd"},48:"st","st-ZA":{c:"R",d:"yyyy-MM-dd"},1072:"st-ZA",sv:{c:"kr",d:"yyyy-MM-dd"},29:"sv","sv-FI":{c:"€",d:"d.M.yyyy"},2077:"sv-FI","sv-SE":{c:"kr",d:"yyyy-MM-dd"},1053:"sv-SE",sw:{c:"KSh",d:"M/d/yyyy"},65:"sw","sw-KE":{c:"KSh",d:"M/d/yyyy"},1089:"sw-KE",syr:{c:"ܠ.ܣ.‏",d:"dd/MM/yyyy"},90:"syr","syr-SY":{c:"ܠ.ܣ.‏",d:"dd/MM/yyyy"},1114:"syr-SY",ta:{c:"₹",d:"dd-MM-yyyy",n:"௦௧௨௩௪௫௬௭௮௯"},73:"ta","ta-IN":{c:"₹",d:"dd-MM-yyyy",n:"௦௧௨௩௪௫௬௭௮௯"},1097:"ta-IN","ta-LK":{c:"Rs",d:"dd-MM-yyyy",n:"௦௧௨௩௪௫௬௭௮௯"},2121:"ta-LK",te:{c:"₹",d:"dd-MM-yy",n:"౦౧౨౩౪౫౬౭౮౯"},74:"te","te-IN":{c:"₹",d:"dd-MM-yy",n:"౦౧౨౩౪౫౬౭౮౯"},1098:"te-IN",tg:{c:"смн",d:"dd.MM.yyyy"},40:"tg","tg-Cyrl":{c:"смн",d:"dd.MM.yyyy"},31784:"tg-Cyrl","tg-Cyrl-TJ":{c:"смн",d:"dd.MM.yyyy"},1064:"tg-Cyrl-TJ",th:{c:"฿",d:"d/M/yyyy",n:"๐๑๒๓๔๕๖๗๘๙"},30:"th","th-TH":{c:"฿",d:"d/M/yyyy",n:"๐๑๒๓๔๕๖๗๘๙"},1054:"th-TH",ti:{c:"ERN",d:"d/M/yyyy"},115:"ti","ti-ER":{c:"ERN",d:"d/M/yyyy"},2163:"ti-ER","ti-ET":{c:"ብር",d:"d/M/yyyy"},1139:"ti-ET",tk:{c:"m.",d:'dd.MM.yy "ý."'},66:"tk","tk-TM":{c:"m.",d:'dd.MM.yy "ý."'},1090:"tk-TM",tn:{c:"R",d:"dd/MM/yy"},50:"tn","tn-BW":{c:"P",d:"dd/MM/yy"},2098:"tn-BW","tn-ZA":{c:"R",d:"dd/MM/yy"},1074:"tn-ZA",tr:{c:"₺",d:"d.M.yyyy"},31:"tr","tr-TR":{c:"₺",d:"d.M.yyyy"},1055:"tr-TR",ts:{c:"R",d:"yyyy-MM-dd"},49:"ts","ts-ZA":{c:"R",d:"yyyy-MM-dd"},1073:"ts-ZA",tt:{c:"₽",d:"dd.MM.yyyy"},68:"tt","tt-RU":{c:"₽",d:"dd.MM.yyyy"},1092:"tt-RU",tzm:{c:"DA",d:"dd-MM-yyyy"},95:"tzm","tzm-Latn":{c:"DA",d:"dd-MM-yyyy"},31839:"tzm-Latn","tzm-Latn-DZ":{c:"DA",d:"dd-MM-yyyy"},2143:"tzm-Latn-DZ","tzm-Tfng":{c:"ⴷⵔ",d:"dd-MM-yyyy"},30815:"tzm-Tfng","tzm-Tfng-MA":{c:"ⴷⵔ",d:"dd-MM-yyyy"},4191:"tzm-Tfng-MA",ug:{c:"¥",d:"yyyy-M-d"},128:"ug","ug-CN":{c:"¥",d:"yyyy-M-d"},1152:"ug-CN",uk:{c:"₴",d:"dd.MM.yyyy"},34:"uk","uk-UA":{c:"₴",d:"dd.MM.yyyy"},1058:"uk-UA",ur:{c:"Rs",d:"dd/MM/yyyy",n:"۰۱۲۳۴۵۶۷۸۹"},32:"ur","ur-IN":{c:"₹",d:"d/M/yy",n:"۰۱۲۳۴۵۶۷۸۹"},2080:"ur-IN","ur-PK":{c:"Rs",d:"dd/MM/yyyy",n:"۰۱۲۳۴۵۶۷۸۹"},1056:"ur-PK",uz:{c:'so"m',d:"dd.MM.yyyy"},67:"uz","uz-Cyrl":{c:"сўм",d:"dd.MM.yyyy"},30787:"uz-Cyrl","uz-Cyrl-UZ":{c:"сўм",d:"dd.MM.yyyy"},2115:"uz-Cyrl-UZ","uz-Latn":{c:'so"m',d:"dd.MM.yyyy"},31811:"uz-Latn","uz-Latn-UZ":{c:'so"m',d:"dd.MM.yyyy"},1091:"uz-Latn-UZ",vi:{c:"₫",d:"dd/MM/yyyy"},42:"vi","vi-VN":{c:"₫",d:"dd/MM/yyyy"},1066:"vi-VN",wo:{c:"CFA",d:"dd/MM/yyyy"},136:"wo","wo-SN":{c:"CFA",d:"dd/MM/yyyy"},1160:"wo-SN",xh:{c:"R",d:"yyyy/MM/dd"},52:"xh","xh-ZA":{c:"R",d:"yyyy/MM/dd"},1076:"xh-ZA",yo:{c:"₦",d:"d/M/yyyy"},106:"yo","yo-NG":{c:"₦",d:"d/M/yyyy"},1130:"yo-NG",zgh:{c:"ⴷⵔⵎ",d:"dd-MM-yyyy"},"zgh-Tfng":{c:"ⴷⵔⵎ",d:"dd-MM-yyyy"},"zgh-Tfng-MA":{c:"ⴷⵔⵎ",d:"dd-MM-yyyy"},zh:{c:"¥",d:"yyyy/M/d"},30724:"zh","zh-CHS":{c:"¥",d:"yyyy/M/d"},4:"zh-CHS","zh-CHT":{c:"HK$",d:"d/M/yyyy"},31748:"zh-CHT","zh-CN":{c:"¥",d:"yyyy/M/d"},2052:"zh-CN","zh-Hans":{c:"¥",d:"yyyy/M/d"},"zh-Hant":{c:"HK$",d:"d/M/yyyy"},"zh-HK":{c:"HK$",d:"d/M/yyyy"},3076:"zh-HK","zh-MO":{c:"MOP",d:"d/M/yyyy"},5124:"zh-MO","zh-SG":{c:"$",d:"d/M/yyyy"},4100:"zh-SG","zh-TW":{c:"NT$",d:"yyyy/M/d"},1028:"zh-TW",zu:{c:"R",d:"dd-MM-yyyy"},53:"zu","zu-ZA":{c:"R",d:"dd-MM-yyyy"},1077:"zu-ZA"},n.ig.CultureInfo=Class.extend({_name:null,_isInvariant:!1,init:function(n){this._name=n},clone:function(){var t=new n.ig.CultureInfo(this._name),i;for(i in this)this.hasOwnProperty(i)&&(t[i]=this[i]);return t._dateTimeFormat&&(t._dateTimeFormat=t._dateTimeFormat.clone()),t._numberFormat&&(t._numberFormat=t._numberFormat.clone()),t},compareInfo:function(){return new n.ig.CompareInfo},getFormat:function(t){if(t===n.ig.NumberFormatInfo.prototype.$type)return this.numberFormat();if(t===n.ig.DateTimeFormat.prototype.$type)return this.dateTimeFormat();throw new Error("Unknown format type");},name:function(){return this._name},calendar:function(){return new n.ig.Calendar},dateTimeFormat:function(t){return arguments.length===1&&(this._dateTimeFormat=t),this._dateTimeFormat||(this._dateTimeFormat=new n.ig.DateTimeFormat(this._name,this._isInvariant)),this._dateTimeFormat},numberFormat:function(t){return arguments.length===1&&(this._numberFormat=t),this._numberFormat||(this._numberFormat=new n.ig.NumberFormatInfo(this._name,this._isInvariant)),this._numberFormat},twoLetterISOLanguageName:function(){return this._name.length>2&&this._name[2]=="-"?this._name.substr(0,2):""},getCultureInfo:function(t){var i=u[t];return i?i==="invariant"?n.ig.CultureInfo.prototype.invariantCulture():new n.ig.CultureInfo(i):n.ig.CultureInfo.prototype.invariantCulture()},$type:new n.ig.Type("CultureInfo",n.ig.Object.prototype.$type)},!0),n.ig.CultureInfo.prototype.currentCulture=function(){return n.ig.Thread.prototype.currentThread().currentCulture()},n.ig.CultureInfo.prototype.invariantCulture=function(){return this._cachedInvariant?this._cachedInvariant:(this._cachedInvariant=new n.ig.CultureInfo("en-US"),this._cachedInvariant._isInvariant=!0,this._cachedInvariant)},n.ig.Calendar=Class.extend({init:function(){},eras:function(){return[1]},getEra:function(){return 1},getDayOfMonth:function(n){return n.getDate()},getDaysInMonth:function(t,i){return n.ig.Date.prototype.daysInMonth(t,i)},getDaysInYear:function(t){return n.ig.Date.prototype.isLeapYear(t)?366:365},getMonth:function(t){return n.ig.Date.prototype.getMonth(t)},getYear:function(n){return n.getFullYear()},toDateTime:function(t,i,r,u,f,e,o){return n.ig.Date.prototype.fromValues(t,i,r,u,f,e,o)},$type:new n.ig.Type("Calendar",n.ig.Object.prototype.$type)},!0),n.ig.util.defType("CompareInfo","Object",{init:function(){},compare1:function(t,i,r,u,f,e,o){var s=t.substr(i,r),h=u.substr(f,e);return(o&n.ig.CompareOptions.prototype.ignoreCase)!=0&&(s=s.toLowerCase(),h=h.toLowerCase()),n.ig.util.compare(s,h)},compare4:function(t,i){return this.compare5(t,i,n.ig.CompareOptions.prototype.none)},compare5:function(n,t,i){return n===null?t===null?0:-1:t===null?1:this.compare1(n,0,n.length,t,0,t.length,i)},indexOf1:function(t,i){return this.indexOf6(t,i,0,n.ig.CompareOptions.prototype.none)},indexOf3:function(n,t,i){return this.indexOf6(n,t,0,i)},indexOf6:function(t,i,r,u){return(u&n.ig.CompareOptions.prototype.ignoreCase)!=0&&(t=t.toLowerCase(),i=i.toLowerCase()),t.indexOf(i,r)},indexOf5:function(n,t){return n.indexOf(t)},referenceEquals:function(n,t){return n===t},$type:new n.ig.Type("CompareInfo",n.ig.Object.prototype.$type)},!0),n.ig.DateTimeFormat=Class.extend({init:function(n,t){this._cultureName=n,this._isInvariant=t},clone:function(){var i=new n.ig.DateTimeFormat(this._cultureName,this._isInvariant),t;for(t in this)this.hasOwnProperty(t)&&(i[t]=this[t]);return i},dateSeparator:function(n){return arguments.length===1&&(this._dateSeparator=n),this._dateSeparator||(this._dateSeparator="/"),this._dateSeparator},timeSeparator:function(n){return arguments.length===1&&(this._timeSeparator=n),this._timeSeparator||(this._timeSeparator=":"),this._timeSeparator},longDatePattern:function(n){return arguments.length===1&&(this._longDatePattern=n),this._longDatePattern||(this._longDatePattern="dddd, MMMM d, yyyy"),this._longDatePattern},shortDatePattern:function(n){if(arguments.length===1&&(this._shortDatePattern=n),!this._shortDatePattern){var t=u[this._isInvariant?"invariant":this._cultureName];this._shortDatePattern=t?t.d:"M/d/yyyy"}return this._shortDatePattern},shortTimePattern:function(n){return arguments.length===1&&(this._shortTimePattern=n),this._shortTimePattern||(this._shortTimePattern="h:mm tt"),this._shortTimePattern},$type:new n.ig.Type("DateTimeFormat",n.ig.Object.prototype.$type)},!0),n.ig.NumberFormatInfo=Class.extend({init:function(n,t){this._cultureName=n,this._isInvariant=t},clone:function(){var i=new n.ig.NumberFormatInfo(this._cultureName,this._isInvariant),t;for(t in this)this.hasOwnProperty(t)&&(i[t]=this[t]);return i},currencySymbol:function(n){if(arguments.length===1&&(this._currencySymbol=n),!this._currencySymbol){var t=u[this._isInvariant?"invariant":this._cultureName];this._currencySymbol=t?t.c:"$"}return this._currencySymbol},nativeDigits:function(){if(!this._nativeDigits){var n=u[this._isInvariant?"invariant":this._cultureName];this._nativeDigits=n&&n.n?n.n:"0123456789"}return this._nativeDigits},negativeSign:function(n){return arguments.length===1&&(this._negativeSign=n),this._negativeSign||(this._negativeSign="-"),this._negativeSign},percentSymbol:function(n){if(arguments.length===1&&(this._percentSymbol=n),!this._percentSymbol){var t=(1).toLocaleString(this._cultureName,{style:"percent"});this._percentSymbol=t[t.length-1]}return this._percentSymbol},positiveSign:function(n){return arguments.length===1&&(this._positiveSign=n),this._positiveSign||(this._positiveSign="+"),this._positiveSign},numberDecimalSeparator:function(n){return arguments.length===1&&(this._numberDecimalSeparator=n),this._numberDecimalSeparator||(this._numberDecimalSeparator=1.1.toLocaleString(this._cultureName).substring(1,2)),this._numberDecimalSeparator},numberGroupSeparator:function(n){if(arguments.length===1&&(this._numberGroupSeparator=n),!this._numberGroupSeparator){var i=(123456789).toLocaleString(this._cultureName),t=/\D/.exec(i);this._numberGroupSeparator=t===null||t.length===0?",":t[0]}return this._numberGroupSeparator},numberGroupSizes:function(n){if(arguments.length===1&&(this._numberGroupSizes=n),!this._numberGroupSizes){var i=(123456789).toLocaleString(this._cultureName),t=/\D(\d+)\D/.exec(i);this._numberGroupSizes=t===null||t.length===0?[3]:[t[1].length]}return this._numberGroupSizes},$type:new n.ig.Type("NumberFormatInfo",n.ig.Object.prototype.$type)},!0),n.ig.util.defType("Thread","Object",{init:function(){},currentThread:function(){return this._currentThread||(this._currentThread=new n.ig.Thread),this._currentThread},currentCulture:function(t){if(arguments.length===1&&(this._currentCulture=t),!this._currentCulture){var i=navigator.language||navigator.userLanguage;this._currentCulture=new n.ig.CultureInfo(i)}return this._currentCulture},$type:new n.ig.Type("Thread",n.ig.Object.prototype.$type)},!0),n.ig.util.defType("Stream","Object",{init:function(){},close:function(){this.disposeCore(!0)},dispose:function(){this.close()},disposeCore:function(){},flush:function(){},readByte:function(){var n=[0],t=this.read(n,0,1);return t===0?-1:n[0]},writeByte:function(n){this.write([n],0,1)},$type:new n.ig.Type("Stream",n.ig.Object.prototype.$type)},!0),n.ig.extendNativePrototype(Function.prototype,"invoke",function(){return this.apply(null,arguments)}),n.ig.extendNativePrototype(Function.prototype,"runOn",function(n){var i=this,t=function(){return i.apply(n,arguments)};return t.original=this,t.target=n,t}),String.prototype.startsWith=function(n){return this.indexOf(n)===0},String.prototype.startsWith1=function(t,i){return this.length<t.length?!1:n.ig.util.stringCompare1(this.slice(0,t.length),t,i||0)===0},String.prototype.endsWith=function(t,i){return this.length<t.length?!1:n.ig.util.stringCompare1(this.slice(-t.length),t,i||0)===0},String.prototype.remove=function(n,t){return!t||n+t>this.length?this.substr(0,n):this.substr(0,n)+this.substr(n+t)},String.prototype.compareTo=function(n){return this==n?0:this<n?-1:1},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),String.prototype.getHashCode||(String.prototype.getHashCode=function(){var n=0,t,i,r;if(this.length===0)return n;for(t=0,r=this.length;t<r;t++)i=this.charCodeAt(t),n=(n<<5)-n+i,n|=0;return n}),String.prototype.fullTrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},String.prototype.trimStart=function(){var t=[" "],n;if(arguments.length>0&&(arguments.length==1&&Array.isArray(arguments[0])?arguments[0].length>0&&(t=arguments[0]):t=Array.prototype.slice.call(arguments)),this.length===0)return this;for(n=0;n<this.length&&t.indexOf(this.charAt(n))>-1;n++);return this.substring(n)},String.prototype.trimEnd=function(){var t=[" "],n;for(arguments.length>0&&(arguments.length==1&&Array.isArray(arguments[0])?arguments[0].length>0&&(t=arguments[0]):t=Array.prototype.slice.call(arguments)),n=this.length-1;n>=0&&t.indexOf(this.charAt(n))>-1;n--);return this.substring(0,n+1)},String.getHashCode=function(){return this},String.isNullOrEmpty=function(n){return!n||n.length<1},String.isNullOrWhiteSpace=function(n){return!n||n.trim().length<1},String.empty=function(){return""},String.concat=function(){return[].join.call(arguments,"")},String.concat1=function(){return[].join.call(arguments,"")},String.concat2=function(){return[].join.call(arguments,"")},String.concat3=function(){return[].join.call(arguments,"")},String.concat4=function(){return[].join.call(arguments,"")},String.concat5=function(){return[].join.call(arguments,"")},String.concat6=function(){return[].join.call(arguments,"")},String.concat7=function(){return[].join.call(arguments,"")},String.equalsStatic=n.ig.Object.prototype.equalsStatic,String.prototype.equals=function(n){return this==n},String.prototype.contains=function(n){return this.indexOf(n)>-1},String.prototype.padLeft=function(n,t){var i=this;for(t=t||" ";i.length<n;)i=t+i;return i},String.prototype.reverse=function(){for(var t="",n=this.length-1;n>=0;n--)t+=this[n];return t},String.prototype.padRight=function(n,t){var i=this;for(t=t||" ";i.length<n;)i+=t;return i},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.indexOfAny||(String.prototype.indexOfAny=function(n){for(var i=this.toString(),t=0;t<i.length;t++)if(n.contains(i[t]))return t;return-1}),String.prototype.lastIndexOfAny||(String.prototype.lastIndexOfAny=function(n){for(var i=this.toString(),t=i.length-1;t>=0;t--)if(n.contains(i[t]))return t;return-1}),Array.prototype.filter||(Array.prototype.filter=function(n){var i,f,r,e,u,t;if(this===undefined||this===null)throw new TypeError;if(i=Object(this),f=i.length>>>0,typeof n!="function")throw new TypeError;for(r=[],e=arguments[1],t=0;t<f;t++)t in i&&(u=i[t],n.call(e,u,t,i)&&r.push(u));return r}),n.ig.extendNativePrototype(Array.prototype,"insertRange",function(n,t){var i=0;if(this.length===0)for(i=0;i<t.length;i++)this[n++]=t[i];else for(i=0;i<t.length;i++)this.splice(n++,0,t[i])}),n.ig.extendNativePrototype(Array.prototype,"insertRange1",function(n,t){var i=0;if(this.length===0)for(i=0;i<t.length;i++)this[n++]=t[i];else for(i=0;i<t.length;i++)this.splice(n++,0,t[i])}),n.ig.util.shallowClone=function(n){for(var i=[],t=0;t<n.length;t++)i[t]=n[t];return i},n.ig.extendNativePrototype(Array.prototype,"clear",function(){this.length=0}),Math.log10=function(n){return Math.log(n)/Math.log(10)},Math.logBase=function(n,t){return Math.log(n)/Math.log(t)},Math.sign=function(n){return n<0?-1:n>0?1:0},Math.cosh||(Math.cosh=function(n){var t=Math.exp(n);return(t+1/t)/2}),Math.sinh||(Math.sinh=function(n){var t=Math.exp(n);return(t-1/t)/2}),Math.tanh||(Math.tanh=function(n){if(n===Infinity)return 1;if(n===-Infinity)return-1;var t=Math.exp(2*n);return(t-1)/(t+1)}),Math.ieeeRemainder||(Math.ieeeRemainder=function(n,t){var i=Math.abs(n%t);return isNaN(i)||i==t||i<=Math.abs(t)/2?i:Math.signum(n)*(i-t)}),Number.getHashCode=function(){return this},Number.isInfinity=function(n){return n===Infinity||n===-Infinity},Number.prototype.getHashCode||(Number.prototype.getHashCode=function(){return this}),Boolean.prototype.getType=function(){return n.ig.Boolean.prototype.$type},Number.prototype.getType=function(){return Number},String.prototype.getType=function(){return String},window.toStaticHTML=window.toStaticHTML||function(n){return n},window.MSApp=window.MSApp||{},window.MSApp.execUnsafeLocalFunction=window.MSApp.execUnsafeLocalFunction||function(n){n.apply()},n.ig.util.setSize=function(n,t,i,r,u){var s,o,f,e,h,c;if(n&&n[0]){if(f=n[0]._w_s_f=n[0]._w_s_f||{},e=f.perc,!t){if(f.observer&&(f.observer.disconnect(),delete f.observer),f.tickID)f.onTick(!0);delete f.elem,delete f.chart,f.__resizeProxy&&(window.removeEventListener("resize",f.__resizeProxy,!1),delete f.__resizeProxy),n[0]._w_s_f=null;return}window.MutationObserver&&!f.observer&&(h=n[0].style.display=="none",c=new MutationObserver(function(){var i=n[0].style.display=="none";i!==h&&(h=i,u&&r&&r[u]())}),c.observe(n[0],{attributes:!0,attributeFilter:["style"],childList:!1,characterData:!1}),f.observer=c),i||(i=n[t]()),e&&e.indexOf(t)>=0&&(e=e.replace(t,"")),i&&(n[t](i),typeof i!="number"&&(i=i.toString(),i.indexOf("%")>0&&(e=e||"",e.indexOf(t)<0&&(s=e+=t)),o=i.indexOf("px"),o>0&&(i=i.substring(0,o)),o=parseFloat(i),o.toString()===i?i=o:(i=n[t](),i||(f.wait=f.wait||"",f.wait.indexOf(t)<0&&(f.wait+=t),s=t))),f.perc=e,i&&r&&(r[t]&&r[t](i),u&&r[u]())),s||n[0].offsetWidth||(s=f.wait="width"),f.elem=n,f.chart=r,f.notify=u,s&&(f.onTick=f.onTick||function(n){var t=this,i=t.chart,h=t.elem,f=t.perc||"",e=t.wait||"",r=n||h[0].offsetWidth,u=n||h[0].offsetHeight,c=t.oldWidth||0,l=t.oldHeight||0,o,s;if(n=n===!0||!f&&!e,n){t.tickID&&clearInterval(t.tickID),delete t.tickID;return}(t.tickID||r&&u&&!f||(t.tickID=setInterval(function(){t.onTick()},200)),r&&u)&&(delete t.wait,t.oldWidth=r,t.oldHeight=u,i)&&(o=f.indexOf("width")>=0&&r!==c||e.indexOf("width")>=0,i.width&&o&&i.width(r),s=f.indexOf("height")>=0&&u!==l||e.indexOf("height")>=0,i.height&&s&&i.height(u),(o||s)&&t.notify&&i[t.notify]())},f.onTick()),f.chart&&f.notify&&f.chart[f.notify]&&!f.__resizeProxy&&(f.oldDevicePixelRatio=window.devicePixelRatio||1,f.__resizeProxy=function(){var n=window.devicePixelRatio||1;n!==f.oldDevicePixelRatio&&(f.oldDevicePixelRatio=window.devicePixelRatio||1,f.chart[f.notify]())},window.addEventListener("resize",f.__resizeProxy,!1))}},n.ig.util.getEasingFunction=function(t){if(t===null||t=="null"||t=="linear")return null;switch(t){case"cubic":return n.ig.EasingFunctions.prototype.cubicEase;case"exponential":return n.ig.EasingFunctions.prototype.exponentialEase;case"circle":return n.ig.EasingFunctions.prototype.circleEase}return t},n.ig.util.isDomElement=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"},n.ig.util.isJsonpUrl=function(n){var t=/(=)\?(?=&|$)|\?\?/;return t.test(n)},n.ig.util.evtButton=function(n){if(n=n?n.button:null,n===1){if(n=this._ie_8,!n){var t;n=window.navigator.userAgent,n&&(t=n.toLowerCase().indexOf("msie "),t>0&&(t=parseFloat(n.substring(t+5)),t>8&&(t=parseFloat(document.documentMode)))),this._ie_8=n=t&&!isNaN(t)&&t>5&&t<9?1:-1}n=n<0?1:0}return n===2?2:n?1:0},n.ig.util.dateFromISO=function(n){var i=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2})(?::(\d{2})(?::(\d{2})(?:\.(\d{1,7})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?)?)?)?$/,t=i.exec(n);return t?new Date(Date.UTC(t[1],(t[2]||1)-1,t[3]||1,t[4]-(t[8]?t[8]+t[9]:0)||0,t[5]-(t[8]?t[8]+t[10]:0)||0,t[6]||0,((t[7]||0)+"00").substr(0,3))):n},n.ig.util.defaultDVDateParse=function(n){return new Date(parseInt(n.replace("/Date(","").replace(")/",""),10))},n.ig.util.createGuid=function(){function n(){return((1+Math.random())*65536|0).toString(16).substring(1)}return(n()+n()+"-"+n()+"-4"+n().substr(0,3)+"-"+n()+"-"+n()+n()+n()).toLowerCase()},n.ig.util.escapeRegExp=function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},n.ig.util.escapeStr=function(n){return n.replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,"\\$1")},n.ig.util.replace=function(t,i,r){return t.replace(new RegExp(n.ig.util.escapeRegExp(i),"g"),r)},n.ig.util.stringFormat=function(t){return n.ig.util.stringFormat1(t,Array.prototype.slice.call(arguments,1))},n.ig.util.stringFormat1=function(t,i){return n.ig.util.stringFormat2(n.ig.CultureInfo.prototype.currentCulture(),t,i)},n.ig.util.stringFormat2=function(t,i,r){return i.replace(/{(\d+)(?::)?([^}]*)?}/g,function(i,u,f){var e=r[u];return e===void 0?i:e===null?"":f?f[0]==="X"?n.ig.util.intToString1(e,f,t):n.ig.util.numberToString1(e,f,t):e})},n.ig.util.createInstance=function(t){var i,r;if(t===Number||t==n.ig.Number.prototype.$type||t.baseType===n.ig.Enum.prototype.$type)return 0;if(t==Boolean||t==n.ig.Boolean.prototype.$type)return!1;if(t.InstanceConstructor)return typeof Object.create=="function"?i=Object.create(t.InstanceConstructor.prototype):(r=function(){},r.prototype=t.InstanceConstructor.prototype,i=new r),t.InstanceConstructor.apply(i,Array.prototype.slice.call(arguments,1)),i;throw new Error("Cannot find instance constructor for the type parameter");},n.ig.util.getDefaultValue=function(t){return t===Number||t==n.ig.Number.prototype.$type||t.baseType===n.ig.Enum.prototype.$type?0:t==Boolean||t==n.ig.Boolean.prototype.$type?!1:t.baseType===n.ig.ValueType.prototype.$type?n.ig.util.createInstance(t):null},n.ig.util.equalsSimple=function(n,t){return n==t},n.ig.util.compareSimple=function(n,t){return n==t?0:n<t?-1:1},n.ig.util.compare=function(t,i){var r,u;return t===i?0:(r=n.ig.util.cast(n.ig.IComparable.prototype.$type,t),r!==null)?r.compareTo(i):(u=n.ig.util.cast(n.ig.IComparable.prototype.$type,i),u!==null)?-u.compareTo(t):n.ig.util.compareSimple(t,i)},n.ig.util.boolCompare=function(n,t){return n==t?0:n?1:-1},n.ig.util.areSetsEqual=function(n,t){var r,u,i;if(!n||!t||n.length!==t.length)return!1;if(n===t)return!0;for(r=n.slice().sort(),u=t.slice().sort(),i=0;i<r.length;i++)if(r[i]!==u[i])return!1;return!0},n.ig.util.sleep=function(n){for(var i=+new Date,t=0;t<1e7;t++)if(+new Date-i>n)break},n.ig.util.toCharArray=function(n){return n.split("")},n.ig.util.stringCompare1=function(t,i,r){if(t){if(!i)return 1}else return i?-1:0;switch(r){case n.ig.StringComparison.prototype.currentCulture:return n.ig.CultureInfo.prototype.currentCulture().compareInfo().compare4(t,i);case n.ig.StringComparison.prototype.currentCultureIgnoreCase:return n.ig.CultureInfo.prototype.currentCulture().compareInfo().compare4(t.toLowerCase(),i.toLowerCase());case n.ig.StringComparison.prototype.invariantCulture:case n.ig.StringComparison.prototype.ordinal:return t.compareTo(i);case n.ig.StringComparison.prototype.invariantCultureIgnoreCase:case n.ig.StringComparison.prototype.ordinalIgnoreCase:return t.toLowerCase().compareTo(i.toLowerCase())}return 0},n.ig.util.stringCompare2=function(n,t,i,r){return i.compareInfo().compare5(n,t,r)},n.ig.util.stringCompare3=function(t,i,r,u,f){var e=t.substr(i,f),o=r.substr(u,f);return n.ig.util.stringCompare1(e,o,n.ig.StringComparison.prototype.currentCulture)},n.ig.util.tryParseNumber=function(n){var t=Number(n);return t!==null&&isFinite(t)&&n.trim().length!==0?{p1:t,ret:!0}:{p1:0,ret:!1}},n.ig.util.tryParseNumber1=function(t,i,r){var e,u,f,o,s,c,v,l,h,a;if(r=r||n.ig.CultureInfo.prototype.currentCulture(),i&n.ig.NumberStyles.prototype.allowLeadingWhite&&(t=t.trimStart()),i&n.ig.NumberStyles.prototype.allowTrailingWhite&&(t=t.trimEnd()),t.length!=t.trim().length)return{p3:0,ret:!1};if(o=r.numberFormat(),i&n.ig.NumberStyles.prototype.allowCurrencySymbol&&t[0]=="$"&&(t=t.slice(1)),s=1,c=!1,i&n.ig.NumberStyles.prototype.allowParentheses&&t[0]=="("&&t[t.length-1]==")"&&(c=!0,s*=-1,t=t.slice(1,-1)),i&n.ig.NumberStyles.prototype.allowCurrencySymbol&&t[0]=="$"&&(t=t.slice(1)),i&n.ig.NumberStyles.prototype.allowLeadingSign&&(v=o.positiveSign(),l=o.negativeSign(),t[0]==v||t[0]==l)){if(c)return{p3:0,ret:!1};t[0]==l&&(s*=-1),t=t.slice(1)}if(i&n.ig.NumberStyles.prototype.allowTrailingSign,i&n.ig.NumberStyles.prototype.allowDecimalPoint){if(i&n.ig.NumberStyles.prototype.allowExponent,i&n.ig.NumberStyles.prototype.allowThousands){var y=o.numberDecimalSeparator(),k=o.numberGroupSeparator(),p=!1;for(u=0;u<t.length;u++)switch(t[u]){case k:if(p)return{p3:0,ret:!1};t=t.slice(0,u)+t.slice(u+1),u--;break;case y:p=!0,y!="."&&(t=t.slice(0,u)+"."+t.slice(u+1))}}if(e=Number(t),e!==null&&isFinite(e)&&t.trim().length!==0)return{p3:e*s,ret:!0}}else{if(h="0".charCodeAt(0),a="9".charCodeAt(0),e=0,i&n.ig.NumberStyles.prototype.allowHexSpecifier){var w="a".charCodeAt(0),d="f".charCodeAt(0),b="A".charCodeAt(0),g="F".charCodeAt(0);for(u=0;u<t.length;u++)if(e*=16,f=t[u].charCodeAt(0),h<=f&&f<=a)e+=f-h;else if(w<=f&&f<=d)e+=f-w+10;else if(b<=f&&f<=g)e+=f-b+10;else return{p3:0,ret:!1}}else for(u=0;u<t.length;u++)if(e*=10,f=t[u].charCodeAt(0),h<=f&&f<=a)e+=f-h;else return{p3:0,ret:!1};return{p3:e*s,ret:!0}}return{p3:0,ret:!1}},n.ig.util.parseNumber=function(t,i){var r=n.ig.util.tryParseNumber1(t,231,i);if(!r.ret)throw new n.ig.FormatException(1,"Incorrect number format");return r.p3},n.ig.util.isNegativeInfinity=function(n){return n==Number.NEGATIVE_INFINITY},n.ig.util.isPositiveInfinity=function(n){return n==Number.POSITIVE_INFINITY},n.ig.util.parseInt8_1=function(t,i){return n.ig.util.parseIntCore(t,i,-128,127)},n.ig.util.parseInt8_2=function(t,i,r){return n.ig.util.parseIntCore(t,r,-128,127,i)},n.ig.util.parseInt16_1=function(t,i){return n.ig.util.parseIntCore(t,i,-32768,32767)},n.ig.util.parseInt16_2=function(t,i,r){return n.ig.util.parseIntCore(t,r,-32768,32767,i)},n.ig.util.parseInt32_1=function(t,i){return n.ig.util.parseIntCore(t,i,-2147483648,2147483647)},n.ig.util.parseInt32_2=function(t,i,r){return n.ig.util.parseIntCore(t,r,-2147483648,2147483647,i)},n.ig.util.parseInt64_1=function(t,i){return n.ig.util.parseIntCore(t,i,-0x8000000000000000,0x8000000000000000)},n.ig.util.parseInt64_2=function(t,i,r){return n.ig.util.parseIntCore(t,r,-0x8000000000000000,0x8000000000000000,i)},n.ig.util.parseUInt8_1=function(t,i){return n.ig.util.parseIntCore(t,i,0,255)},n.ig.util.parseUInt8_2=function(t,i,r){return n.ig.util.parseIntCore(t,r,0,255,i)},n.ig.util.parseUInt16_1=function(t,i){return n.ig.util.parseIntCore(t,i,0,65535)},n.ig.util.parseUInt16_2=function(t,i,r){return n.ig.util.parseIntCore(t,r,0,65535,i)},n.ig.util.parseUInt32_1=function(t,i){return n.ig.util.parseIntCore(t,i,0,4294967295)},n.ig.util.parseUInt32_2=function(t,i,r){return n.ig.util.parseIntCore(t,r,0,4294967295,i)},n.ig.util.parseUInt64_1=function(t,i){return n.ig.util.parseIntCore(t,i,0,0x10000000000000000)},n.ig.util.parseUInt64_2=function(t,i,r){return n.ig.util.parseIntCore(t,r,0,0x10000000000000000,i)},n.ig.util.parseIntCore=function(t,i,r,u,f){var e=n.ig.util.tryParseIntCore(t,i,r,u,f);if(!e.ret)throw new n.ig.FormatException(1,"Incorrect number format");return e.p3},n.ig.util.tryParseInt8_1=function(t){return n.ig.util.tryParseIntCore(t,null,-128,127)},n.ig.util.tryParseInt8_2=function(t,i,r){return n.ig.util.tryParseIntCore(t,r,-128,127,i)},n.ig.util.tryParseInt16_1=function(t){return n.ig.util.tryParseIntCore(t,null,-32768,32767)},n.ig.util.tryParseInt16_2=function(t,i,r){return n.ig.util.tryParseIntCore(t,r,-32768,32767,i)},n.ig.util.tryParseInt32_1=function(t){return n.ig.util.tryParseIntCore(t,null,-2147483648,2147483647)},n.ig.util.tryParseInt32_2=function(t,i,r){return n.ig.util.tryParseIntCore(t,r,-2147483648,2147483647,i)},n.ig.util.tryParseInt64_1=function(t){return n.ig.util.tryParseIntCore(t,null,-0x8000000000000000,0x8000000000000000)},n.ig.util.tryParseInt64_2=function(t,i,r){return n.ig.util.tryParseIntCore(t,r,-0x8000000000000000,0x8000000000000000,i)},n.ig.util.tryParseUInt8_1=function(t){return n.ig.util.tryParseIntCore(t,null,0,255)},n.ig.util.tryParseUInt8_2=function(t,i,r){return n.ig.util.tryParseIntCore(t,r,0,255,i)},n.ig.util.tryParseUInt16_1=function(t){return n.ig.util.tryParseIntCore(t,null,0,65535)},n.ig.util.tryParseUInt16_2=function(t,i,r){return n.ig.util.tryParseIntCore(t,r,0,65535,i)},n.ig.util.tryParseUInt32_1=function(t){return n.ig.util.tryParseIntCore(t,null,0,4294967295)},n.ig.util.tryParseUInt32_2=function(t,i,r){return n.ig.util.tryParseIntCore(t,r,0,4294967295,i)},n.ig.util.tryParseUInt64_1=function(t){return n.ig.util.tryParseIntCore(t,null,0,0x10000000000000000)},n.ig.util.tryParseUInt64_2=function(t,i,r){return n.ig.util.tryParseIntCore(t,r,0,0x10000000000000000,i)},n.ig.util.tryParseIntCore=function(t,i,r,u,f){f=f!=null?f:n.ig.NumberStyles.prototype.integer,i=i||n.ig.CultureInfo.prototype.currentCulture();var e=n.ig.util.tryParseNumber1(t,f,i);return(f&n.ig.NumberStyles.prototype.allowHexSpecifier&&u<e.p3&&(e.p3-=-r*2),!e.ret||e.p3<r||u<e.p3||e.p3%1!=0)?{p1:0,p3:0,ret:!1}:(e.p1=e.p3,e)},n.ig.util.parseBool=function(t){var i=n.ig.util.tryParseBool(t);if(!i.ret)throw new n.ig.FormatException(1,"Incorrect boolean format");return i.p1},n.ig.util.tryParseBool=function(n){switch(n==null?"":n.trim().toLowerCase()){case"true":return{p1:!0,ret:!0};case"false":return{p1:!1,ret:!0};default:return{p1:!1,ret:!1}}},n.ig.util.arrayClear1=function(n,t,i){for(var r=t;r<t+i;r++)n[r]=null},n.ig.util.arrayCopy1=function(n,t,i,r,u){var f;if(n===i&&t<r)for(f=u-1;f>=0;f--)i[f+r]=n[f+t];else for(f=0;f<u;f++)i[f+r]=n[f+t]},n.ig.util.arrayCopy2=function(n,t,i){for(var r=0;r<i;r++)t[r]=n[r]},n.ig.util.arrayCopyTo=function(n,t,i){for(var r=0;r<n.length;r++)t[i++]=n[r]},n.ig.util.arrayIndexOf1=function(n,t,i){return t.indexOf(i)},n.ig.util.isNaN=function(n){return n!==n},n.ig.util.numberToString=function(t,i){return n.ig.util.numberToString1(t,"G",i)},s={useGrouping:!1,maximumSignificantDigits:15},l={useGrouping:!1,maximumSignificantDigits:15,maximumFractionDigits:0},n.ig.util.numberToString1=function(t,i,r){var h,w,f,c,l,u;r=r||n.ig.CultureInfo.prototype.currentCulture();switch(i){case"G":return t.toLocaleString(r.name(),s);case"R":case"r":return t.toString().replace(".",r.numberFormat().numberDecimalSeparator())}if(i.match(/[0\#\.]+/)){for(var b=!0,a=i.indexOf("."),v=a==-1?"":i.substring(a+1),y=t.toFixed(v.length).toString(),p=y.indexOf("."),e=p==-1?y:y.substring(0,p),o=a==-1?i:i.substring(0,a);o.length<e.length;)o="0"+o;while(e.length<o.length)e="0"+e;for(h="",f=o.length-1;f>=0;f--)o[f]=="0"?h=e[f]+h:o[f]=="#"?(w=e.substring(0,f+1).match(/[1-9]/)?e[f]:"",h=w+h):b=!1;for(c=p==-1?"":y.substring(p+1),l="",u=0;u<v.length;u++)v[u]=="0"?l+=c[u]:v[u]=="#"?(w=c.length>u&&(c[u]!="0"||c.substring(u).match(/[1-9]/))?c[u]:"",l+=w):b=!1;if(b)return h+(l.length>0?"."+l:"")}throw new n.ig.FormatException(1,"Unsupported format code: "+i);},n.ig.util.intToString=function(t,i){return n.ig.util.intToString1(t,"G",i)},n.ig.util.intToString1=function(t,i,r){var u,f;if(r=r||n.ig.CultureInfo.prototype.currentCulture(),i&&i.length&&i[0]=="X"){if(t=n.ig.util.intSToU(t),u=t.toString(16).toUpperCase(),i.length!==1){if(f=+i.substr(1),!isFinite(f))throw new Error("Unsupported format code: "+i);while(u.length<f)u="0"+u}return u}switch(i){case"G":return t.toLocaleString(r.name(),s)}throw new Error("Unsupported format code: "+i);},n.ig.util.intSToU=function(n){return n<0&&(n=n+1+4294967295),n},n.ig.util.enumHasFlag=function(n,t){return(n&t)===t},n.ig.util.boolToString=function(n){return n.toString()},n.ig.util.getArrayOfValues=function(n){var i=[],t;for(t in n)n.hasOwnProperty(t)&&i.push(n[t]);return i},n.ig.util.getArrayOfProperties=function(n){var i=[],t;for(t in n)n.hasOwnProperty(t)&&i.push(t);return i},n.ig.util.stringInsert=function(n,t,i){return n.substr(0,t)+i+n.substr(t)},n.ig.util.b64toUint8Array=function(n,t){function l(n){return n>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:n===43?62:n===47?63:0}var c=n.replace(/[^A-Za-z0-9\+\/]/g,""),r=c.length,e=t?Math.ceil((r*3+1>>2)/t)*t:r*3+1>>2,u;u=typeof window.Uint8Array=="function"?new Uint8Array(e):new Array(e);for(var f,o,s=0,h=0,i=0;i<r;i++)if(o=i&3,s|=l(c.charCodeAt(i))<<18-6*o,o===3||r-i==1){for(f=0;f<3&&h<e;f++,h++)u[h]=s>>>(16>>>f&24)&255;s=0}return u},n.ig.util.uint8ArraytoB64=function(n){function u(n){return n<26?n+65:n<52?n+71:n<62?n-4:n===62?43:n===63?47:65}for(var i=2,f="",e=n.length,r=0,t=0;t<e;t++)i=t%3,t>0&&t*4/3%76==0&&(f+="\r\n"),r|=n[t]<<(16>>>i&24),(i===2||n.length-t==1)&&(f+=String.fromCharCode(u(r>>>18&63),u(r>>>12&63),u(r>>>6&63),u(r&63)),r=0);return f.substr(0,f.length-2+i)+(i===2?"":i===1?"=":"==")},n.ig.util.stringSplit=function(t,i,r){for(var e="",f,u=0;u<i.length;u++)u!==0&&(e+="|"),e+=n.ig.util.escapeRegExp(i[u]);for(f=t.split(new RegExp(e)),u=f.length-1;u>=0;u--)(f[u].length===0&&r&n.ig.StringSplitOptions.prototype.removeEmptyEntries||i.contains(f[u]))&&f.splice(u,1);return f},n.ig.util.stringJoin=function(n,t){return t.join(n)},n.ig.util.stringJoin1=function(n,t,i){for(var r,f=i.getEnumerator(),u;f.moveNext();)u=f.current().toString(),r===undefined?r=u:r+=t+u;return r},n.ig.util.toString$1=function(n,t){return t!==null&&n&&(n.isNullable&&(n=n.typeArguments[0]),n.isEnumType)?n.InstanceConstructor.prototype.$getName(t):t.toString()},n.ig.util.castObjTo$t=function(t,i){var r=!1;return t.isNullable&&(t=t.typeArguments[0],r=!0),i!==null&&t.isEnumType&&(i=i.$value()),r?n.ig.util.toNullable(t,i):i},n.ig.util.getBoxIfEnum=function(n,t){return t!==null&&n&&(n.isNullable&&(n=n.typeArguments[0]),n.isEnumType)?n.InstanceConstructor.prototype.getBox(t):t},n.ig.util.getValue=function(n){return n!==null&&n.$type&&n.$type.isEnum&&n.$type.isEnum()?n.$value():n},n.ig.util.getEnumValue=function(n){return n!==null?typeof n=="number"?n:n.$value():0},n.ig.util.timeSpanInit1=function(n,t,i){return n*36e5+t*6e4+i*1e3},n.ig.util.timeSpanInit2=function(n,t,i,r,u){return n*864e5+t*36e5+i*6e4+r*1e3+u},n.ig.util.timeSpanInit3=function(n,t,i,r){return n*864e5+t*36e5+i*6e4+r*1e3},n.ig.util.timeSpanTotalDays=function(n){return n/864e5},n.ig.util.timeSpanTotalHours=function(n){return n/36e5},n.ig.util.timeSpanTotalMilliseconds=function(n){return n},n.ig.util.timeSpanTotalMinutes=function(n){return n/6e4},n.ig.util.timeSpanTotalSeconds=function(n){return n/1e3},n.ig.util.timeSpanFromDays=function(n){return n*864e5},n.ig.util.timeSpanFromHours=function(n){return n*36e5},n.ig.util.timeSpanFromMilliseconds=function(n){return n},n.ig.util.timeSpanFromMinutes=function(n){return n*6e4},n.ig.util.timeSpanFromSeconds=function(n){return n*1e3},n.ig.util.timeSpanFromTicks=function(n){return n/1e4},n.ig.util.timeSpanDays=function(t){return n.ig.truncate(t/864e5)},n.ig.util.timeSpanHours=function(t){return n.ig.truncate(t/36e5%24)},n.ig.util.timeSpanMilliseconds=function(n){return n%1e3},n.ig.util.timeSpanMinutes=function(t){return n.ig.truncate(t/6e4%60)},n.ig.util.timeSpanSeconds=function(t){return n.ig.truncate(t/1e3%60)},n.ig.util.timeSpanTicks=function(t){return n.ig.truncate(t*1e4)},n.ig.util.timeSpanNegate=function(n){return-n},n.ig.util.dateAdd=function(n,t){return new Date(+n+t)},n.ig.util.dateSubtract=function(n,t){return new Date(+n-t)},n.ig.util.u32BitwiseAnd=function(n,t){var i=n&t;return i<0&&(i+=4294967296),i},n.ig.util.u32BitwiseOr=function(n,t){var i=n|t;return i<0&&(i+=4294967296),i},n.ig.util.u32BitwiseXor=function(n,t){var i=n^t;return i<0&&(i+=4294967296),i},n.ig.util.u32LS=function(n,t){var i=n<<t;return i<0&&(i+=4294967296),i},n.ig.util.defType("SystemException","Error",{init:function(t){if(t>0){switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}n.ig.Error.prototype.init.call(this,0)},init1:function(t,i){n.ig.Error.prototype.init1.call(this,1,i)},init2:function(t,i,r){n.ig.Error.prototype.init2.call(this,2,i,r)},$type:new n.ig.Type("SystemException",n.ig.Error.prototype.$type)},!0),n.ig.util.defType("FormatException","SystemException",{init:function(t){if(t>0){switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}n.ig.SystemException.prototype.init.call(this,0)},init1:function(t,i){n.ig.SystemException.prototype.init1.call(this,1,i)},init2:function(t,i,r){n.ig.SystemException.prototype.init2.call(this,2,i,r)},$type:new n.ig.Type("FormatException",n.ig.SystemException.prototype.$type)},!0),n.ig.util.defEnum("NumberStyles",!0,!1,{None:0,AllowLeadingWhite:1,AllowTrailingWhite:2,AllowLeadingSign:4,Integer:7,AllowTrailingSign:8,AllowParentheses:16,AllowDecimalPoint:32,AllowThousands:64,Number:111,AllowExponent:128,"Float:floatNumber":167,AllowCurrencySymbol:256,Currency:383,Any:511,AllowHexSpecifier:512,HexNumber:515}),n.ig.util.defEnum("CompareOptions",!0,!1,{None:0,IgnoreCase:1,IgnoreNonSpace:2,IgnoreSymbols:4,IgnoreKanaType:8,IgnoreWidth:16,OrdinalIgnoreCase:268435456,StringSort:536870912,Ordinal:1073741824}),n.ig.util.defEnum("StringComparison",!1,!1,{CurrentCulture:0,CurrentCultureIgnoreCase:1,InvariantCulture:2,InvariantCultureIgnoreCase:3,Ordinal:4,OrdinalIgnoreCase:5}),n.ig.util.defEnum("DateTimeKind",!1,!1,{Unspecified:0,Utc:1,Local:2}),n.ig.util.defEnum("SeekOrigin",!1,!1,{Begin:0,Current:1,End:2}),n.ig.util.defEnum("StringSplitOptions",!1,!1,{None:0,RemoveEmptyEntries:1}),n.ig.util.defEnum("DayOfWeek",!1,!1,{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}),Math.round10||(Math.round10=function(n,t){return e("round",n,t)}),Math.round10N||(Math.round10N=function(n,t){return e("round",n,-t)}),Math.floor10||(Math.floor10=function(n,t){return e("floor",n,t)}),Math.ceil10||(Math.ceil10=function(n,t){return e("ceil",n,t)}),n.ig.util.isPoint=function(t){return t==null?!1:n.ig.util.cast(n.ig.Point.prototype.$type,t)!=null?!0:typeof t.x=="number"&&typeof t.y=="number"?!0:!1},n.ig.util.pointFromLiteral=function(t){if(t==null)return new n.ig.Point(1,0,0);var i=n.ig.util.cast(n.ig.Point.prototype.$type,t);return i!=null?i:new n.ig.Point(1,t.x,t.y)},n.ig.util.pointToLiteral=function(t){var i=n.ig.util.cast(n.ig.Point.prototype.$type,t);return i==null?null:{x:i.x(),y:i.y()}},n.ig.util.isSize=function(t){return t==null?!1:n.ig.util.cast(n.ig.Size.prototype.$type,t)!=null?!0:typeof t.width=="number"&&typeof t.height=="number"?!0:!1},n.ig.util.sizeFromLiteral=function(t){if(t==null)return new n.ig.Size(1,0,0);var i=n.ig.util.cast(n.ig.Size.prototype.$type,t);return i!=null?i:new n.ig.Size(1,t.width,t.height)},n.ig.util.sizeToLiteral=function(t){var i=n.ig.util.cast(n.ig.Size.prototype.$type,t);return i==null?null:{width:i.width(),height:i.height()}},n.ig.util.isRect=function(t){return t==null?!1:n.ig.util.cast(n.ig.Rect.prototype.$type,t)!=null?!0:typeof t.x=="number"&&typeof t.y=="number"&&typeof t.width=="number"&&typeof t.height=="number"?!0:typeof t.left=="number"&&typeof t.top=="number"&&typeof t.right=="number"&&typeof t.bottom=="number"?!0:!1},n.ig.util.rectFromLiteral=function(t){if(t==null)return new n.ig.Rect(0,0,0,0,0);var i=n.ig.util.cast(n.ig.Rect.prototype.$type,t);return i!=null?i:typeof t.x=="number"&&typeof t.y=="number"&&typeof t.width=="number"&&typeof t.height=="number"?new n.ig.Rect(0,t.x,t.y,t.width,t.height):new n.ig.Rect(0,t.left,t.top,t.right-t.left,t.bottom-t.top)},n.ig.util.rectToLiteral=function(t){var i=n.ig.util.cast(n.ig.Rect.prototype.$type,t);return i==null?null:{x:i.x(),y:i.y(),width:i.width(),height:i.height(),left:i.left(),top:i.top(),right:i.right(),bottom:i.bottom()}},t={Cn:"[͸͹Ϳ-΃΋΍΢Ԩ-԰՗՘ՠֈ֋-֐׈-׏׫-ׯ׵-׿؄؅؜؝܎݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-ࣿॸঀ঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૰૲-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-ఀఄ఍఑఩ఴ఺-఼౅౉౎-౔౗ౚ-౟౤౥౰-౷ಀಁ಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഁഄ഍഑഻഼൅൉൏-ൖ൘-ൟ൤൥൶-൸඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛ໞ-໿཈཭-཰྘྽࿍࿛-࿿჆-჏ჽ-ჿ቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟Ᏽ-᏿᚝-᚟ᛱ-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿ᤝ-᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮-᫿ᭌ-᭏᭽-᭿᮫-ᮭᮺ-ᮿ᯴-᯻᰸-᰺᱊-᱌ᲀ-᳏ᳳ-᳿ᷧ-᷻἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥-⁩⁲⁳₏₝-₟₺-⃏⃱-⃿↊-↏⏴-⏿␧-␿⑋-⑟✀⟋⟍⭍-⭏⭚-⯿ⰯⱟⳲ-⳸⴦-⴯ⵦ-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⸲-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿌-鿿꒍-꒏꓇-꓏꘬-꘿ꙴ-ꙻꚘ-ꚟ꛸-꛿ꞏꞒ-ꞟꞪ-ꟹ꠬-꠯꠺-꠿꡸-꡿ꣅ-꣍꣚-꣟꣼-ꣿ꥔-꥞꥽-꥿꧎꧚-꧝ꧠ-꧿꨷-꨿꩎꩏꩚꩛ꩼ-ꩿ꫃-꫚ꫠ-꬀꬇꬈꬏꬐꬗-꬟꬧꬯-ꮿ꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿郞隷﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟︧-︯﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿]",Lu:"[A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԱ-ՖႠ-ჅḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞠꞢꞤꞦꞨＡ-Ｚ]",Ll:"[a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧա-ևᴀ-ᴫᵢ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱼⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⴀ-ⴥꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞡꞣꞥꞧꞩꟺﬀ-ﬆﬓ-ﬗａ-ｚ]",Lt:"[ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ]",Lm:"[ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵡᵸᶛ-ᶿⁱⁿₐ-ₜⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꜗ-ꜟꝰꞈꧏꩰꫝｰﾞﾟ]",Lo:"[ƻǀ-ǃʔא-תװ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘऄ-हऽॐक़-ॡॲ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜໝༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎა-ჺᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱℵ-ℸⴰ-ⵥⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿋ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-鶴侮-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",Mn:"[̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ా-ీె-ైొ-్ౕౖౢౣ಼ಿೆೌ್ೢೣു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᷀-ᷦ᷼-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯꙼꙽꛰꛱ꠂ꠆ꠋꠥꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꨩ-ꨮꨱꨲꨵꨶꩃꩌꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯥꯨ꯭ﬞ︀-️︠-︦]",Me:"[҈҉⃝-⃠⃢-⃤꙰-꙲]",Mc:"[ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᦰ-ᧀᧈᧉᨙ-ᨛᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꯣꯤꯦꯧꯩꯪ꯬]",Nd:"[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９]",Nl:"[ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ]",No:"[²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൰-൵༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉑-㉟㊀-㊉㊱-㊿꠰-꠵]",Zs:"[   ᠎ -   　]",Zl:"[\u2028]",Zp:"[\u2029]",Cc:"[\0-\x1f\x7f-\x9f]",Cf:"[­؀-؃۝܏឴឵​-‏‪-‮⁠-⁤⁪-⁯﻿￹-￻]",Cs:"[�-�]",Co:"[-]",Ps:"[([{༺༼᚛‚„⁅⁽₍〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨〈《「『【〔〖〘〚〝﴾︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢]",Pd:"[-֊־᐀᠆‐-―⸗⸚〜〰゠︱︲﹘﹣－]",Pc:"[_‿⁀⁔︳︴﹍-﹏＿]",Pe:"[)\\]}༻༽᚜⁆⁾₎〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴿︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣]",Sm:"[+<->|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌈-⌋⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟊⟌⟎-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬]",Po:"[!-#%-'*,./:;?@\\¡·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒྅࿐-࿔࿙࿚၊-၏჻፡-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰⸱、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･]",Sk:"[^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊﮲-﯁＾｀￣]",Sc:"[$¢-¥؋৲৳৻૱௹฿៛₠-₹꠸﷼﹩＄￠￡￥￦]",Pi:"[«‘‛“‟‹⸂⸄⸉⸌⸜⸠]",So:"[¦§©®°¶҂؎؏۞۩۽۾߶৺୰௳-௸௺౿൹༁-༃༓-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟፠᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-⏳␀-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-⛿✁-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭐-⭙⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�]",Pf:"[»’”›⸃⸅⸊⸍⸝⸡]"},n.ig.util.defType("DomRenderer","Object",{$type:new n.ig.Type("DomRenderer",null)},!0),n.ig.util.defType("DomWrapper","Object",{$type:new n.ig.Type("DomWrapper",null)},!0),n.ig.unicode_hack=function(){var i={},n;for(n in t)i[n[0]]=i[n[0]]?t[n].substring(0,t[n].length-1)+i[n[0]].substring(1):t[n];for(n in i)t[n]=i[n];return function(n){var i="";return n instanceof RegExp&&(i=(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":""),n=n.source),n=n.replace(/\\p\{(..?)\}/g,function(n,i){return t[i]||n}),new RegExp(n,i)}}(),n.ig.util.appendToQueryString=function(n,t){return n+=n.indexOf("?")!==-1?"&":"?",n+=t},n.ig.util.prependToQueryString=function(n,t){var i=n.substring(0,n.indexOf("?")),r=n.substring(n.indexOf("?"),n.length);return i+t+r},n.ig.util.netRegexToJS=function(n){var r="",b=1,tt=1,o=[],l={},a=[[0]],k=!1,u,i=0,s,d,h,v,e,f,g,nt,y,c,p,w;for(n.startsWith("\\G")&&(i+=2,k=!0),s=!1;i<n.length;i++){d=n.charAt(i);switch(d){case"\\":switch(n.charAt(i+1)){case"A":r=r.concat("^"),i++;break;case"z":case"Z":r=r.concat("$"),i++;break;case"G":throw new Error("\\G .NET Regex escape is only supported at the start of the pattern.");case"p":if(n.charAt(i+2)!=="{")throw new Error("\\p should be followed by braces.");if(h=n.indexOf("}",i+3),h<0)throw new Error("Could not find the close brace of the \\p pattern.");if(v=n.substring(i+3,h),i=h,e=t[v],e===void 0)throw new Error("Unknown \\p pattern: "+v);r=s?r.concat(e.substr(1,e.length-2)):r.concat(e);break;default:r=r.concat(n.substr(i,2)),i++}break;case"/":r=r.concat("\\/");break;case"[":s=!0,r=r.concat("[");break;case"]":s=!1,r=r.concat("]");break;case"(":if(r=r.concat("("),f=n[i+1],u="",f==="?")if(i++,f=n[i+1],f==="<"||f==='"'){if(n[i+2]==="="||n[i+2]==="!")throw new Error("Lookbehind assertions are not supported in JavaScript.");for(i++,g=f==="<"?">":'"',nt=++i;i<n.length&&n[i]!=g;i++);u=n.slice(nt,i)}else if(r=r.concat("?"),f===":")continue;y=tt++,u.length!==0?(o.contains(u)||o.push(u),c=l[u],c||(l[u]=c=[]),c.push(y)):a[b++]=[y];break;default:r=r.concat(n.substr(i,1))}}for(p={},i=0;i<o.length;i++)w=b++,u=o[i],a[w]=l[u],p[u]=w;return{pattern:r,nameToNetGroupIndexMap:p,netToJSGroupIndexMap:a,matchMustStartAtCurrentPosition:k}},n.ig.util.summaries=n.ig.util.summaries||{},n.ig.util.summaries.min=function(n,t){return n.length===0?t==="date"?null:0:Math.min.apply(Math,n)},n.ig.util.summaries.max=function(n,t){return n.length===0?t==="date"?null:0:Math.max.apply(Math,n)},n.ig.util.summaries.sum=function(n){for(var u=0,r=0;r<n.length;r++)u+=n[r];return u},n.ig.util.summaries.avg=function(t){return t.length===0?0:n.ig.util.summaries.sum(t)/t.length},n.ig.util.summaries.count=function(n){return n.length},n.ig.calcSummaries=function(summaryFunction,data,caller,dataType,fullData){summaryFunction=summaryFunction.toLowerCase(),summaryFunction.startsWith("custom")&&(summaryFunction="custom");switch(summaryFunction){case"min":return n.ig.util.summaries.min(data,dataType,fullData);case"max":return n.ig.util.summaries.max(data,dataType,fullData);case"sum":return n.ig.util.summaries.sum(data,dataType,fullData);case"avg":return n.ig.util.summaries.avg(data,dataType,fullData);case"count":return n.ig.util.summaries.count(data,dataType,fullData);case"custom":if(caller!==undefined&&caller!==null){if(typeof caller=="function")return caller(data,dataType,fullData);if(typeof caller=="string")return caller=eval(caller),caller(data,dataType,fullData)}else return null}},n.ig.util.defaultSummaryMethods=[{label:n.ig.util.locale?n.ig.util.getLocaleValue("util","defaultSummaryMethodLabelCount"):"Count = ",name:"count",summaryFunction:n.ig.util.summaries.count,dataType:"any",active:!0,order:0,applyFormat:!1},{label:n.ig.util.locale?n.ig.util.getLocaleValue("util","defaultSummaryMethodLabelMin"):"Min = ",name:"min",summaryFunction:n.ig.util.summaries.min,dataType:["number","date","time","numeric"],active:!0,order:1,applyFormat:!0},{label:n.ig.util.locale?n.ig.util.getLocaleValue("util","defaultSummaryMethodLabelMax"):"Max = ",name:"max",summaryFunction:n.ig.util.summaries.max,dataType:["number","date","time","numeric"],active:!0,order:2,applyFormat:!0},{label:n.ig.util.locale?n.ig.util.getLocaleValue("util","defaultSummaryMethodLabelSum"):"Sum = ",name:"sum",summaryFunction:n.ig.util.summaries.sum,dataType:["number","numeric"],active:!0,order:3,applyFormat:!0},{label:n.ig.util.locale?n.ig.util.getLocaleValue("util","defaultSummaryMethodLabelAvg"):"Avg = ",name:"avg",summaryFunction:n.ig.util.summaries.avg,dataType:["number","numeric"],active:!0,order:4,applyFormat:!0}],igRoot}(n),function(n){n.ig=window.jQuery&&window.jQuery.ig||n.ig||{_isNamespace:!0},window.$ig=window.$ig||n.ig,n.ig.getWindow=function(t){return n.isWindow(t)?t:t.nodeType===9&&t.defaultView},n.fn.startsWith=function(n){return this[0].innerHTML.indexOf(n)===0},n.ig.extendNativePrototype(Array.prototype,"clone",function(){return n.extend(!0,[],this)}),n.ajaxQueue=function(t,i){var r;(typeof document.ajaxQueue=="undefined"&&(document.ajaxQueue={queue:{}}),typeof document.ajaxQueue.queue[t]=="undefined"&&(document.ajaxQueue.queue[t]=[]),typeof i!="undefined")&&(r=i.complete,i.complete=function(i,u){document.ajaxQueue.queue[t].shift(),typeof r!="undefined"&&r(i,u),document.ajaxQueue.queue[t].length>0&&n.ajax(document.ajaxQueue.queue[t][0])},document.ajaxQueue.queue[t].push(i),document.ajaxQueue.queue[t].length===1&&n.ajax(document.ajaxQueue.queue[t][0]))},Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(u){if(typeof u!="object"&&(typeof u!="function"||u===null))throw new TypeError("Object.keys called on non-object");var e=[],o,f;for(o in u)t.call(u,o)&&e.push(o);if(i)for(f=0;f<r;f++)t.call(u,n[f])&&e.push(n[f]);return e}}()),n.ig.checkboxMarkupClasses="",n.ig.getRegionalOptions=function(t){return t?(n.type(t)==="string"?n.ig.regional[t]:t)||{}:n.ig.regional.defaults||{}},n.ig.getRegionalValue=function(t,i){i=n.ig.getRegionalOptions(i);var r=i[t];return r===undefined?n.ig.regional.defaults[t]:r},n.ig.encode=function(n){return n!==null&&n!==undefined?n.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;"):""},n.fn.extend({igOffset:function(t){if(arguments.length)return t===undefined?this:this.each(function(i){n.offset.setOffset(this,t,i)});var u,f,i,e,r=this[0];if(r)return r.getClientRects().length?(i=r.getBoundingClientRect(),i.width||i.height)?(e=r.ownerDocument,f=n.ig.getWindow(e),u=e.documentElement,{top:i.top+f.pageYOffset-u.clientTop,left:i.left+f.pageXOffset-u.clientLeft}):i:{top:0,left:0}},igPosition:function(){if(this[0]){var t,r,i={top:0,left:0},u=this[0];return n.css(u,"position")==="fixed"?r=u.getBoundingClientRect():(t=this.offsetParent(),r=this.igOffset(),n.nodeName(t[0],"html")||(i=t.igOffset()),i.top+=n.css(t[0],"borderTopWidth",!0),i.left+=n.css(t[0],"borderLeftWidth",!0)),{top:r.top-i.top-n.css(u,"marginTop",!0),left:r.left-i.left-n.css(u,"marginLeft",!0)}}}}),n.ig.millisecondsToString=function(n,t){var i=parseInt(n/Math.pow(10,t.length-1)).toString();if(t==="ff"){if(i.length!==2)while(i.length<2)i="0"+i}else if(t==="f"&&i.length!==3)while(i.length<3)i="0"+i;return i},n.ig.secondsToString=function(n,t){var i;return i=t==="ss"&&n<10?"0"+n.toString():n.toString()},n.ig.minutesToString=function(n,t){var i;return i=t==="mm"&&n<10?"0"+n.toString():n.toString()},n.ig.amPmToString=function(t,i,r){var u;return u=t>=12?n.ig.getRegionalValue("pm",r):n.ig.getRegionalValue("am",r),i==="t"&&(u=u.charAt(0)),u},n.ig.hoursToString=function(n,t){var i;switch(t){case"h":n>12&&(n-=12),n===0&&(n=12),i=n.toString();break;case"hh":n>12&&(n-=12),n===0&&(n=12),i=n<10?"0"+n.toString():n.toString();break;case"H":i=n.toString();break;case"HH":default:i=n<10?"0"+n.toString():n.toString()}return i},n.ig.dateToString=function(n,t){var i;switch(t){case"dd":i=n<10?"0"+n.toString():n;break;case"d":default:i=n.toString()}return i},n.ig.dayToString=function(t,i,r){var u;switch(i){case"dddd":u=n.ig.getRegionalValue("dayNames",r)[t];break;case"ddd":default:u=n.ig.getRegionalValue("dayNamesShort",r)[t]}return u},n.ig.monthToString=function(t,i,r){var u;switch(i){case"MMMM":u=n.ig.getRegionalValue("monthNames",r)[t];break;case"MMM":u=n.ig.getRegionalValue("monthNamesShort",r)[t];break;case"M":t++,u=t.toString();break;case"MM":default:t++,u=t<10?"0"+t.toString():t}return u},n.ig.yearToString=function(n,t){var i;return i=t==="yy"?n.toString().substring(2):t==="y"?parseInt(n.toString().substring(2)).toString():n.toString()},n.ig.formatCheckboxes=function(t,i,r,u){var f;return r=n.ig.encode(r),f="<span class='ui-igcheckbox-container' style='display:"+t+";' role='checkbox' aria-disabled='true' aria-checked='"+i+"' aria-label='"+r+"' tabindex='"+u+"'>",f+="<span class='"+n.ig.checkboxMarkupClasses+"' style='display:inline-block'>",f+="<span style='display:block' class='"+(i?"":"ui-igcheckbox-small-off "),f+"ui-icon ui-icon-check ui-igcheckbox-small-on'><\/span><\/span><\/span>"},n.ig.formatDate=function(t,i,r){return t=t.replace(/\x08/g," ").replace(/\x09/g," "),t=t.replace(/\\f/g,"\x01").replace(/\\d/g,"\x02").replace(/\\s/g,"\x03").replace(/\\m/g,"\x04").replace(/\\t/g,"\x05").replace(/\\H/g,"\x06").replace(/\\h/g,"\x07").replace(/\\M/g,"\b").replace(/\\y/g,"\t"),t=t.replace(/fff/g,"\x10030").replace(/ff/g,"\x10031").replace(/f/g,"\x10032"),t=t.replace(/dddd/g,"\x10033").replace(/ddd/g,"\x10034").replace(/dd/g,"\x10035").replace(/d/g,"\x10036").replace(/ss/g,"\x10037").replace(/s/g,"\x10038").replace(/mm/g,"\x10039").replace(/m/g,"\x10040"),t=t.replace(/tt/g,"\x10041").replace(/t/g,"\x10042").replace(/HH/g,"\x10043").replace(/H/g,"\x10044").replace(/hh/g,"\x10045").replace(/h/g,"\x10046"),t=t.replace(/MMMM/g,"\x10047").replace(/MMM/g,"\x10048").replace(/MM/g,"\x10049").replace(/M/g,"\x10050"),t=t.replace(/yyyy/g,"\x10051").replace(/yy/g,"\x10052").replace(/y/g,"\x10053"),t=t.replace(/\x10030/g,n.ig.millisecondsToString(i.getMilliseconds(),"f")).replace(/\x10031/g,n.ig.millisecondsToString(i.getMilliseconds(),"ff")).replace(/\x10032/g,n.ig.millisecondsToString(i.getMilliseconds(),"fff")),t=t.replace(/\x10033/g,n.ig.dayToString(i.getDay(),"dddd",r)).replace(/\x10034/g,n.ig.dayToString(i.getDay(),"ddd",r)).replace(/\x10035/g,n.ig.dateToString(i.getDate(),"dd")).replace(/\x10036/g,n.ig.dateToString(i.getDate(),"d")).replace(/\x10037/g,n.ig.secondsToString(i.getSeconds(),"ss")).replace(/\x10038/g,n.ig.secondsToString(i.getSeconds(),"s")).replace(/\x10039/g,n.ig.minutesToString(i.getMinutes(),"mm")).replace(/\x10040/g,n.ig.minutesToString(i.getMinutes(),"m")).replace(/\x10041/g,n.ig.amPmToString(i.getHours(),"tt",r)).replace(/\x10042/g,n.ig.amPmToString(i.getHours(),"t",r)).replace(/\x10043/g,n.ig.hoursToString(i.getHours(),"HH")).replace(/\x10044/g,n.ig.hoursToString(i.getHours(),"H")).replace(/\x10045/g,n.ig.hoursToString(i.getHours(),"hh")).replace(/\x10046/g,n.ig.hoursToString(i.getHours(),"h")),t=t.replace(/\x10047/g,n.ig.monthToString(i.getMonth(),"MMMM",r)).replace(/\x10048/g,n.ig.monthToString(i.getMonth(),"MMM",r)).replace(/\x10049/g,n.ig.monthToString(i.getMonth(),"MM",r)).replace(/\x10050/g,n.ig.monthToString(i.getMonth(),"M",r)),t=t.replace(/\x10051/g,n.ig.yearToString(i.getFullYear(),"yyyy")).replace(/\x10052/g,n.ig.yearToString(i.getFullYear(),"yy")).replace(/\x10053/g,n.ig.yearToString(i.getFullYear(),"y")),t=t.replace(/\x01/g,"g").replace(/\x02/g,"d").replace(/\x03/g,"s").replace(/\x04/g,"m").replace(/\x05/g,"t").replace(/\x06/g,"H").replace(/\x07/g,"h").replace(/\x08/g,"M").replace(/\x09/g,"y")},n.ig.formatDates=function(t,i,r,u,f,e){var v,s,c,l,y,h,a,p,o;return t?i?(o=n.ig.getRegionalValue(r&&r!=="null"&&r!=="undefined"?r+"Pattern":"datePattern",e)||r,f!==undefined&&f!==null&&(t=new Date(t.getTime()+f)),u||f!==undefined&&f!==null?(s=t.getUTCFullYear(),l=t.getUTCMonth()+1,i=t.getUTCDate(),c=t.getUTCHours(),v=t.getUTCMinutes(),y=t.getUTCSeconds(),h=t.getUTCMilliseconds(),p=t.getUTCDay()):(s=t.getFullYear(),l=t.getMonth()+1,i=t.getDate(),c=t.getHours(),v=t.getMinutes(),y=t.getSeconds(),h=t.getMilliseconds(),p=t.getDay()),o=o.replace(/\\d/g,"\x06").replace(/\\y/g,"\x07").replace(/\\M/g,"\b").replace(/\\m/g,"\t").replace(/\\t/g,"\n").replace(/\\s/g,"\x0b").replace(/\\f/g,"\f").replace(/\\h/g,"\r").replace(/\\H/g,"\x0e"),o=o.replace("MMMM","\x01").replace("MMM","\x02").replace("dddd","\x03").replace("ddd","\x04"),o.indexOf("t")>=0&&(a=c>=12?n.ig.getRegionalValue("pm",e):n.ig.getRegionalValue("am",e),a=a||" ",o.indexOf("tt")>=0?o=o.replace("tt","t"):a.length>1&&(a=a.substring(0,1)),o=o.replace("t","\x05")),o.indexOf("h")>=0&&(c>12&&(c-=12),c===0&&(c=12)),o=o.replace(/H/g,"h"),o=o.replace("yyyy",s<10?"000"+s:s<100?"00"+s:s<1e3?"0"+s:s).replace("yy",(s=s%100)<10?"0"+s:s).replace("y",s%100).replace("MM",l<10?"0"+l:l).replace("M",l),o=o.replace("dd",i<10?"0"+i:i).replace("d",i),o=o.replace("hh",c<10?"0"+c:c).replace("h",c).replace("mm",v<10?"0"+v:v).replace("m",v).replace("ss",y<10?"0"+y:y).replace("s",y),o=o.replace("fff",h<10?"00"+h:h<100?"0"+h:h).replace("ff",(h=Math.round(h/10))<10?"0"+h:h).replace("f",Math.round(h/100)),o=o.replace("\x01",n.ig.getRegionalValue("monthNames",e)[l-1]).replace("\x02",n.ig.getRegionalValue("monthNamesShort",e)[l-1]).replace("\x05",a),o=o.replace("\x03",n.ig.getRegionalValue("dayNames",e)[p]).replace("\x04",n.ig.getRegionalValue("dayNamesShort",e)[p]),o=o.replace(/\x06/g,"d").replace(/\x07/g,"y").replace(/\x08/g,"M").replace(/\x09/g,"m").replace(/\x0A/g,"t").replace(/\x0B/g,"s").replace(/\x0C/g,"f").replace("\r","h").replace("\x0e","H")):t:"&nbsp;"},n.ig.formatNumbers=function(t,i,r,u,f,e,o,s,h,c){var p,tt,l,y,b,v,a,d,g,w,nt,k;if(t||(i=parseFloat(i.replace("(","-").replace(new RegExp("[^0-9\\-eE\\"+n.ig.getRegionalValue("numericDecimalSeparator",r)+"\\+]","gm"),"").replace(n.ig.getRegionalValue("numericDecimalSeparator",r),"."))),isNaN(i))return"&nbsp;";if(u&&(i*=100),p=e?o:u?f:"numeric",tt=n.ig.getRegionalValue(p+(i<0?"Negative":"Positive")+"Pattern",r)||"n",l=s?s.length:0,l>0&&((y=s.charAt(0))==="0"||y==="#")){if(b=a=0,v=s.indexOf("."),v>0)for(a=l-1-v;++v<l;){if(s.charAt(v)!=="0")break;b++}}else b=n.ig.getRegionalValue(p+"MinDecimals",r)||0,c?a=999:(a=n.ig.getRegionalValue(p+"MaxDecimals",r),a=a&&!h?a:0);for(i<0&&(i=-i),a===999?i=i.toString(10):n.ig.util.isIE&&n.ig.util.browserVersion<=8?(d=Math.pow(10,a),i=(Math.round(d*i)/d).toFixed(a)):i=i.toFixed(a),(h=i.indexOf("E"))<0&&(h=i.indexOf("e")),g="",h>0&&(g=i.substring(h),i=i.substring(0,h)),v=i.indexOf("."),l=i.length,h=0;v>0&&a>b+h&&i.charAt(l-1-h)==="0";)h++;for(h>0&&(i=i.substring(0,l-=h)),v===l-1&&(i=i.substring(0,v)),v>0&&(l=v),y=n.ig.getRegionalValue(p+"DecimalSeparator",r),y&&(i=i.replace(".",y)),y=n.ig.getRegionalValue(p+"GroupSeparator",r),k=y?n.ig.getRegionalValue(p+"Groups",r):"",w=nt=k.length>0?k[h=0]:0;w>0&&--l>0;)--w==0&&(i=i.substring(0,l)+y+i.substring(l),w=k[++h],!w||w<1?w=nt:nt=w);return y=n.ig.getRegionalValue(p+"Symbol",r)||"",tt.replace("-",n.ig.getRegionalValue("negativeSign",r)).replace("n",i+g).replace("$",y)},n.ig.formatter=function(t,i,r,u,f,e,o,s,h,c){var l=arguments[0],w,k,d,v,y,b,a,p,g;return(typeof l=="object"&&l!==null&&l.hasOwnProperty("val")&&(t=l.val,i=l.type,r=l.format,u=l.notTemplate,f=l.enableUTCDates,e=l.dateOffset,o=l.displayStyle,s=l.labelText,h=l.tabIndex,c=l.reg),a=t&&t.getTime,g=o||"inline-block",r==="checkbox"&&u)?n.ig.formatCheckboxes(g,t,s,h):!t&&t!==0&&t!==!1?"&nbsp;":i==="date"||i==="time"||a?n.ig.formatDates(t,a,r,f,e,c):(a=r==="double",a||(v=r===(k="currency"),v||(y=r===(d="percent"),y||(b=r==="int"))),w=typeof t=="number",a||w||b||v||y||i==="number")?n.ig.formatNumbers(w,t,c,y,d,v,k,r,b,a):r&&(r.indexOf(p="{0}")>=0||r.indexOf(p="[0]")>=0)?r.replace(p,t):t||t===0?t:"&nbsp;"},n.ig.getMaxZIndex=function(t){var i=1e4,r;return n(".ui-dialog").each(function(){t&&n(this)[0].id===t||(r=n(this).css("z-index"),isNaN(r)||(i=Math.max(i,r)))}),i},n.ig.getZIndex=function(n){for(var t,i;n.length&&n[0]!==document;){if(t=n.css("position"),(t==="absolute"||t==="relative"||t==="fixed")&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&i!==0))return i;n=n.parent()}return 0},n.ig.uid=function(){return((1+Math.random())*parseInt("10000",16)).toString(16).substring(1,5)},n.ig.getColType=function(n){var t=typeof n;return t==="undefined"?"string":n&&n.getTime&&!isNaN(n.getTime())&&Object.prototype.toString.call(n)==="[object Date]"?"date":t==="boolean"?"bool":t==="number"?t:t==="object"?"object":"string"},n.ig.toLocalISOString=function(n){var i=-n.getTimezoneOffset(),r=i>=0?"+":"-",t=function(n){var t=Math.abs(Math.floor(n));return(t<10?"0":"")+t};return n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())+"T"+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds())+r+t(i/60)+":"+t(i%60)},function(n){n.ig.util.profiler={};var t={};n.ig.util.profiler.recordTime=function(n,i){var r="meth: "+n;t[r]||(t[r]=[]),t[r][t[r].length]=i},n.ig.util.profiler.reset=function(){t={}},n.ig.util.profiler.logReport=function(){var i=[],o=0,f=0,s=0,n,u,e,r;for(n in t)if(n.indexOf("meth:")===0){for(u={},u.name=n.substr(5),f=0,e=0;e<t[n].length;e++)f=f+t[n][e];s=f/t[n].length,u.avg=s,u.callCount=t[n].length,i[o]=u,o++}for(i.sort(function(n,t){return n.avg<t.avg?1:n.avg>t.avg?-1:n.avg==t.avg?0:void 0}),r=0;r<Math.min(200,i.length);r++)console.log(i[r].name+" avg: "+i[r].avg+" callCount: "+i[r].callCount)}}(n),n.ig.util.jQueryUIMainVersion=n.ui&&n.ui.version&&n.ui.version.length>0?parseInt(n.ui.version.split(".",1)[0],10):null,n.ig.util.jQueryUISubVersion=n.ui&&n.ui.version&&n.ui.version.length>0?parseInt(n.ui.version.split(".",2)[1],10):null,n.ig.util.jQueryMainVersion=n.fn.jquery&&n.fn.jquery.length?parseInt(n.fn.jquery.split(".",1)[0],10):null,n.ig.util.jQuerySubVersion=n.fn.jquery&&n.fn.jquery.length?parseInt(n.fn.jquery.split(".",2)[1],10):null,n.ig.util.offset=function(t,i){var r=t?t[0].ownerDocument:document,f=8,u=(window.outerWidth-f*2)/window.innerWidth;return i=i||t.igOffset(),u&&u>1&&(n.ig.util.isIE10||n.ig.util.isIE11||n.ig.util.isEdge)&&(n.ig.util.isIE?(i.documentScrollLeft=r.documentElement.scrollLeft,i.documentScrollTop=r.documentElement.scrollTop):n.ig.util.isEdge&&(i.documentScrollLeft=r.body.scrollLeft,i.documentScrollTop=r.body.scrollTop),i.left+=i.documentScrollLeft-window.pageXOffset,i.top+=i.documentScrollTop-window.pageYOffset),i},n.ig.util.getRelativeOffset=function(t){for(var i=t.parent(),r={left:0,top:0},f,h=8,s=(window.outerWidth-h*2)/window.innerWidth,e,o,u=t.length>0?t[0].ownerDocument:document;i[0]!==null&&i[0]!==undefined&&i[0].nodeName!=="#document";){if(f=i.css("position"),f!=="static"&&f!==""){s&&s>1&&(n.ig.util.isIE10||n.ig.util.isIE11||n.ig.util.isEdge)?(n.ig.util.isIE?(e=u.documentElement.scrollLeft,o=u.documentElement.scrollTop):n.ig.util.isEdge&&(e=u.body.scrollLeft,o=u.body.scrollTop),r.left=i.igOffset().left,r.top=i.igOffset().top,r.left+=e-window.pageXOffset,r.top+=o-window.pageYOffset):(r.left=i.igOffset().left-i.scrollLeft(),r.top=i.igOffset().top-i.scrollTop());break}i=i.parent()}return r},n.fn.animateRotate=function(t,i,r,u,f){return this.each(function(){var e=n(this);n({deg:t}).animate({deg:i},{duration:r,easing:u,step:function(n){e.css({"-moz-transform":"rotate("+n+"deg)","-webkit-transform":"rotate("+n+"deg)","-o-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"})},complete:f||n.noop})})},n.ig.util.makeCRCTable=function(){for(var n,i,r=[],t=0;t<256;t++){for(n=t,i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;r[t]=n}return r},n.ig.util.crc32=function(t){var u=n.ig.util.crcTable||(n.ig.util.crcTable=n.ig.util.makeCRCTable()),i=-1,r;for(t=unescape(encodeURIComponent(t)),r=0;r<t.length;r++)i=i>>>8^u[(i^t.charCodeAt(r))&255];return(i^-1)>>>0},n.ig.util.getCheckSumForObject=function(t){var r="",i;for(i in t)t.hasOwnProperty(i)&&typeof t[i]!="object"&&(r+=t[i]);return n.ig.util.crc32(r)},n.ig.util.invokeCallback=function(t,i){t&&(n.type(t)==="string"&&window[t]&&n.type(window[t])==="function"&&(t=window[t]),n.type(t)==="function"&&t.apply(window,i))},n.ig.util.IMEtoENNumbersMapping=function(){return{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0"}},n.ig.util.IMEtoNumberString=function(t,i){return i===undefined?t:(t&&(t=t.toString(),n.each(i,function(n,i){t=t.replace(new RegExp(n,"g"),i)})),t)},n.Widget&&(function(t){n.Widget.prototype._createWidget=function(i,r){var u=n(r||this.defaultElement||this)[0];return u!==this&&n.data(u,this.widgetName,this),t.apply(this,arguments)}}(n.Widget.prototype._createWidget),function(t){n.Widget.prototype.destroy=function(){var n=t.apply(this,arguments);return this.widgetName&&this.element&&this.element.removeData(this.widgetName),n}}(n.Widget.prototype.destroy)),n.ig.util.hasVerticalScroll=function(t){var i=n(t).css("overflow-y");return i==="scroll"||i==="auto"&&t[0].scrollHeight>t[0].clientHeight},n.ig.util.hasHorizontalScroll=function(t){var i=n(t).css("overflow-x");return i==="scroll"||i==="auto"&&t[0].scrollWidth>t[0].clientWidth},n.ig.util.getScrollWidth=function(){var t=n('<div style="width: 100px; height: 100px; position: absolute; top: -10000px; left: -10000px; overflow: scroll"><\/div>').appendTo(n(document.body)),i;return i=t[0].offsetWidth-t[0].clientWidth,t.remove(),i},n.ig.util.getScrollHeight=function(){var t=n('<div style="width: 100px; height: 100px; position: absolute; top: -10000px; left: -10000px; overflow: scroll"><\/div>').appendTo(n(document.body)),i;return i=t[0].offsetHeight-t[0].clientHeight,t.remove(),i},n.ig.util.ajax=function(t,i,r,u,f){var o=n.Deferred(),e,s,h,c;return e=f&&"isCrossDomain"in f?f.isCrossDomain:n.support.cors,s=function(n){var t=new XMLHttpRequest;return!e||"withCredentials"in t||n&&"withCredentials"in n&&n.withCredentials||typeof XDomainRequest===undefined||(t=new XDomainRequest,t.getResponseHeader=function(){return null},t.setRequestHeader=function(){t.status=200},t.getAllResponseHeaders=function(){return null},t.onload=function(){t.readyState=4,t.status=200,t.statusText="success",t.getAllResponseHeaders=function(){},t.onreadystatechange()},t.onerror=function(){t.readyState=4,t.status=0,t.statusText="error",t.getAllResponseHeaders=function(){},t.onreadystatechange()},t.ontimeout=function(){t.readyState=4,t.status=0,t.statusText="timeout",t.getAllResponseHeaders=function(){},t.onreadystatechange()},t.onprogress=function(){}),t}(f),"withCredentials"in s&&f&&"withCredentials"in f&&f.withCredentials&&(h={withCredentials:!0}),c=function(t,r){f&&n.isFunction(f.beforeSend)&&(t.setRequestHeader("Content-Type",i),f.beforeSend.call(this,t,r,f))},n.ajax({crossDomain:e?!0:!1,isLocal:!1,url:t,contentType:i,data:r,type:u,dataType:"text",xhrFields:h,beforeSend:c,xhr:function(){return s},success:function(n){o.resolve(n)},error:function(n,t,i){o.reject(i)}}),o.promise()},n.ig.util._renderUnsupportedBrowser=function(t,i){if(!t.events||!t.events.browserNotSupported||t._trigger(t.events.browserNotSupported)){var f=t.element,e=t.options,o=n("<div><\/div>").attr({"data-not-supported-browser":!0}).css("overflow","auto").addClass(t.css.unsupportedBrowserClass).appendTo(f),r,u;i=i||n.ig.util.locale,u=n.ig.util.isIE?"Internet Explorer "+n.ig.util.browserVersion:n.ig.util.isOpera?"Opera "+n.ig.util.browserVersion:n.ig.util.isWebKit?"Webkit "+n.ig.util.browserVersion:n.ig.util.isFF?"Mozilla Firefox "+n.ig.util.browserVersion:n.ig.util.browserVersion,n("<div><\/div>").addClass("ui-html5-current-browser-label").attr("data-localeid","currentBrowser").html(i.currentBrowser.replace("{0}",u)).appendTo(o),n("<div><\/div>").addClass("ui-html5-non-html5-text").attr("data-localeid","unsupportedBrowser").html(i.unsupportedBrowser).appendTo(o),r=n("<ul><\/ul>").addClass("ui-html5-browsers-list").appendTo(o),n("<a><\/a>").attr("href",i.chromeDownload).attr("target","_blank").addClass("ui-html5-chrome-icon").html(i.chrome8).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(r)),n("<a><\/a>").attr("href",i.firefoxDownload).attr("target","_blank").addClass("ui-html5-firefox-icon").html(i.firefox36).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(r)),n("<a><\/a>").attr("href",i.operaDownload).attr("target","_blank").addClass("ui-html5-Opera-icon").html(i.opera11).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(r)),n("<a><\/a>").attr("href",i.safariDownload).attr("target","_blank").addClass("ui-html5-safari-icon").html(i.safari5).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(r)),n("<a><\/a>").attr("href",i.ieDownload).attr("target","_blank").addClass("ui-html5-ie-icon").html(i.ie9).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(r)),t.css.unsupportedBrowserClass.indexOf(" ui-html5-non-html5")===-1&&f.addClass("ui-html5-non-html5"),e.width&&f.css("width",e.width),e.height&&f.css("height",e.height)}},n.ig.util.defType("jQueryDomRenderer","Object",{init:function(){},$type:new n.ig.Type("jQueryDomRenderer",n.ig.Object.prototype.$type)},!0)}(n),function(n){n.ig=n.ig||{},window.Infragistics||(window.Infragistics=n.ig),n.ig.DataSource=n.ig.DataSource||Class.extend({settings:{id:"ds",outputResultsName:null,callback:null,callee:null,data:[],dataSource:null,dataBinding:null,dataBound:null,requestType:"GET",type:"unknown",schema:null,primaryKey:null,responseTotalRecCountKey:null,responseDataKey:null,responseDataType:null,responseContentType:null,localSchemaTransform:!0,urlParamsEncoding:null,urlParamsEncoded:null,paging:{enabled:!1,type:"remote",pageSize:5,pageSizeUrlKey:null,pageIndexUrlKey:null,pageIndex:0,appendPage:!1},filtering:{type:"remote",caseSensitive:!1,applyToAllData:!0,customFunc:null,filterExprUrlKey:null,filterLogicUrlKey:"filterLogic",defaultFields:[],expressions:[],exprString:"",customConditions:null},sorting:{defaultDirection:"none",defaultFields:[],applyToAllData:!0,customFunc:null,compareFunc:null,customConvertFunc:null,type:"remote",caseSensitive:!1,sortUrlKey:null,sortUrlAscValueKey:null,sortUrlDescValueKey:null,expressions:[],exprString:""},groupby:{defaultCollapseState:!1,groupRecordKey:"__gbRecord",groupSummaryRecordKey:"__gbSummaryRecord",summaries:[],summariesPosition:"bottom",pagingMode:"allRecords"},summaries:{type:"remote",summaryExprUrlKey:"summaries",summariesResponseKey:"summaries",summaryExecution:"afterfilteringandpaging",columnSettings:[]},fields:[],serializeTransactionLog:!0,aggregateTransactions:!1,autoCommit:!1,updateUrl:null,rowAdded:null,rowUpdated:null,rowInserted:null,rowDeleted:null},init:function(t){var i,r,f=!1,u;return t&&(i=t.dataSource,i&&(n.type(i)==="array"||n.type(i)==="object")&&(n.type(i)==="object"&&t.responseDataKey&&t.type!=="json"?(u=i.Metadata,t.dataSource=n.ig.findPath(i,t.responseDataKey),u&&t.dataSource.Metadata===undefined&&(t.dataSource.Metadata=u),f=!0):t.dataSource=null),t.callee&&(r=t.callee,t.callee=null),this.settings=n.extend(!0,{},n.ig.DataSource.prototype.settings,t),f?this.settings.type="array":i&&(n.type(i)==="array"||n.type(i)==="object")&&(t.dataSource=i,this.settings.dataSource=i),r&&(this.settings.callee=r,r=null)),this.settings.paging.pageIndex=0,this._isBound=!1,this._url=null,this._dsCallback=null,this._data=[],this._dataView=[],this._runtimeType=this.settings.type==="unknown"?this.analyzeDataSource():this.settings.type,this._parser=new n.ig.TypeParser,this._schema=null,this._isSortingReq=!1,this._isFilteringReq=!1,this._isPagingReq=!1,this._isSummariesReq=!1,this._dataSummaries=[],this._recCount=0,this._hasCount=!1,this._initSchema(),this._transactionLog=[],this._accumulatedTransactionLog=[],this},_initSchema:function(){var t;if(this.settings.schema)for(this.settings.schema instanceof n.ig.DataSchema?this._schema=this.settings.schema:(this._schema=this.settings.type!=="unknown"?new n.ig.DataSchema(this.settings.type,this.settings.schema):new n.ig.DataSchema(this._runtimeType,this.settings.schema),this._schema._pk=this.settings.primaryKey),this._fields={},t=0;t<this._schema.fields().length;t++)typeof this._schema.fields()[t].mapper=="string"&&typeof window[this._schema.fields()[t].mapper]=="function"&&(this._schema.fields()[t].mapper=window[this._schema.fields()[t].mapper]),typeof this._schema.fields()[t].mapper=="function"&&(this._hasMapper=!0),this._fields[this._schema.fields()[t].name]=this._schema.fields()[t]},fields:function(n){return n===undefined||n===null?this.settings.fields:(this.settings.fields=n,this)},analyzeDataSource:function(){var t=this.dataSource(),r,i;if(t===undefined||t===null)return"empty";if(n.type(t)==="function")return"function";if(n.type(t)==="array")return"array";if(n.type(t)==="number"||n.type(t)==="boolean"||n.type(t)==="date")return"invalid";if(n.type(t)==="string"){if(t=n.trim(t),t.startsWith("/"))return"remoteUrl";if(n("#"+this.settings.id).length>0&&t.toLowerCase().startsWith("<table"))return"htmlTableString";if(t.toLowerCase().startsWith("<table"))return r="<div id='"+this.settings.id+"' style='display:none;visibility:hidden;'>"+t+"<\/div>",n(r).appendTo(n("body")),"htmlTableString";if(!t.startsWith("[")&&!t.startsWith("{")&&!t.startsWith("<")){if(!t.startsWith("http://")&&!t.startsWith("https://"))try{if(i=n("#"+t),i.length>0&&i[0].nodeName.toLowerCase()==="table")return"htmlTableId"}catch(u){}return this._url=t,"remoteUrl"}return"unknown"}return t.nodeName&&t.nodeName.toLowerCase()==="table"?"htmlTableDom":t.nodeName&&(t.nodeName.toLowerCase()==="ul"||t.nodeName.toLowerCase()==="ol")?"htmlListDom":t.nodeName&&t.nodeName.toLowerCase()==="select"?"htmlSelectDom":"unknown"},dataView:function(){return this._dataView},data:function(){return this._data},transformedData:function(n){var t;switch(n){case"priortofilteringandpaging":t=this._data;break;case"afterfilteringbeforepaging":t=this._transformedData!==undefined?this._transformedData:this._data;break;case"afterfilteringandpaging":t=this.dataView();break;default:t=this._dataView}return t},dataSummaries:function(){var n=this.settings.summaries,t=n.type;return t==="local"&&(this._dataSummaries=this.transformedData(n.summaryExecution)),this._dataSummaries},schema:function(t,i){return t===undefined||t===null?this._schema:(t instanceof n.ig.DataSchema?this._schema=t:(this._schema=i===null||i===undefined?new n.ig.DataSchema(t.type,t):new n.ig.DataSchema(i,t),this._schema._pk=this.settings.primaryKey),this)},pagingSettings:function(n){return n===undefined||n===null?this.settings.paging:(this.settings.paging=n,this)},filterSettings:function(n){return n===undefined||n===null?this.settings.filtering:(this.settings.filtering=n,this)},sortSettings:function(n){return n===undefined||n===null?this.settings.sorting:(this.settings.sorting=n,this)},summariesSettings:function(n){return n===undefined||n===null?this.settings.summaries:(this.settings.summaries=n,this)},dataSource:function(n){return n===undefined||n===null?this.settings.dataSource:(this.settings.dataSource=n,this.analyzeDataSource(),this)},type:function(n){return n===undefined||n===null?this._runtimeType:(this.settings.type=n,this)},findRecordByKey:function(t,i){for(var u=i||this._data,e=u?u.length:0,o=e>0&&n.isArray(u[0])?this._lookupPkIndex():this.settings.primaryKey,f=0;f<e;f++)if(u[f][o]===t)return u[f];return null},removeRecordByKey:function(t,i){var u,e,r,o=0,f=[this._data],h=this.settings.primaryKey,c=this._lookupPkIndex(),s;for(this._addOnlyUniqueToCollection(f,this._dataView),this._addOnlyUniqueToCollection(f,this._filteredData),this._addOnlyUniqueToCollection(f,i);o<f.length;)for(r=f[o++],e=r?r.length:0,s=e>0&&n.isArray(r[0])?c:h,u=0;u<e;u++)if(r[u]&&r[u][s]===t){n.ig.removeFromArray(r,u);break}},removeRecordByIndex:function(t,i){var u,o,f,r=this._data,s=this._dataView,e=this._filteredData;if(r&&!isNaN(t)&&!(t<0)&&!(t>=r.length))for(f=r[t],n.ig.removeFromArray(r,t),i&&n.ig.removeFromArray(i,t),r=r===s?e:s;f;){for(o=r?r.length:0,u=0;u<o;u++)if(r[u]===f){n.ig.removeFromArray(r,u);break}if(r===e)return;r=e}},setCellValue:function(n,t,i,r){var u=this._createCellTransaction(n,t,i);return this._addTransaction(u),r===!0&&this.commit(n),u},updateRow:function(t,i,r){var f=this._createRowTransaction(t,i),u=this.settings.primaryKey===null?this._data[parseInt(t,10)]:this.findRecordByKey(t),e=this.settings.primaryKey===null?t:n.ig.indexInArray(this._data,u);return this._addTransaction(f),r===!0&&this.commit(t),n.type(this.settings.rowUpdated)==="function"&&(this.settings.callee?this.settings.rowUpdated.apply(this.settings.callee,[{rowIndex:e,newRow:i,oldRow:u},this]):this.settings.rowUpdated({rowIndex:e,newRow:i,oldRow:u},this)),f},addRow:function(t,i,r){var u=this._createNewRowTransaction(t,i);return this._addTransaction(u),r===!0&&this.commit(t),n.type(this.settings.rowAdded)==="function"&&(this.settings.callee?this.settings.rowAdded.apply(this.settings.callee,[{rowId:t,row:i},this]):this.settings.rowAdded({rowId:t,row:i},this)),u},insertRow:function(t,i,r,u){var e=this._createInsertRowTransaction(t,i,r);return this._addTransaction(e),u===!0&&this.commit(t),n.type(this.settings.rowInserted)==="function"&&(this.settings.callee?this.settings.rowInserted.apply(this.settings.callee,[{rowId:t,row:i,rowIndex:r},this]):this.settings.rowInserted({rowId:t,row:i,rowIndex:r},this)),e},deleteRow:function(t,i){for(var e=this._createDeleteRowTransaction(t),f=this.settings.primaryKey===null?this._data[parseInt(t,10)]:this.findRecordByKey(t),o=this.settings.primaryKey===null?t:n.ig.indexInArray(this._data,f),s=!1,u,r=0;this.settings.aggregateTransactions&&r<this._transactionLog.length;r++)if(this._transactionLog[r].type==="newrow"&&this._transactionLog[r].rowId===t){for(s=!0,t=this._transactionLog[r].rowId,this._removeTransactionByTransactionId(this._transactionLog[r].tid),u=0;u<this._accumulatedTransactionLog.length;u++)this._accumulatedTransactionLog[u].rowId===t&&n.ig.removeFromArray(this._accumulatedTransactionLog,u);break}return this.settings.aggregateTransactions&&s||(this._addTransaction(e),i===!0&&this.commit(t),n.type(this.settings.rowDeleted)==="function"&&(this.settings.callee?this.settings.rowDeleted.apply(this.settings.callee,[{rowId:t,row:f,rowIndex:o},this]):this.settings.rowDeleted({rowId:t,row:f,rowIndex:o},this))),e},addNode:function(n){var t=this._createAddNodeTransaction(n);this._addTransaction(t)},removeNode:function(n){var t=this._createRemoveNodeTransaction(n);this._addTransaction(t)},getDetachedRecord:function(t){var r=n.type(this._data[0])==="array"?[]:{},i,u;if(u=this.settings.primaryKey===null?this._data[parseInt(t.rowId,10)]:this.findRecordByKey(t.rowId),n.type(this._data[0])!=="array")for(i in u)u.hasOwnProperty(i)&&(r[i]=u[i]);else for(i=0;i<u.length;i++)r[i]=u[i];if(t.type==="cell")return r[t.col]=t.value,r;if(n.type(r)!=="array")for(i in t.row)t.row.hasOwnProperty(i)&&(r[i]=t.row[i]);else for(i=0;i<t.row.length;i++)r[i]=t.row[i];return r},commit:function(n){if(n!==null&&n!==undefined)this._commitTransactionsByRowId(n);else for(this._transactionLog.reverse();this._transactionLog.length>0;)this._commitTransaction(this._transactionLog.pop());this._getFieldsWithFormatter().length&&this._generateFormattedRecords()},rollback:function(n){var t,i;if(n!==null&&n!==undefined)i=this._rollbackTransactionsByRowId(n);else for(t=this._transactionLog.length;t-->0;)this._rollbackTransaction(this._transactionLog[t]);return i},pendingTransactions:function(){return this._transactionLog},allTransactions:function(){return this._accumulatedTransactionLog},_createCellTransaction:function(n,t,i){return{type:"cell",rowId:n,tid:this._generateTransactionId(),col:t,value:i}},_createRowTransaction:function(n,t){return{type:"row",tid:this._generateTransactionId(),row:t,rowId:n}},_createNewRowTransaction:function(n,t){return{type:"newrow",tid:this._generateTransactionId(),row:t,rowId:n}},_createInsertRowTransaction:function(n,t,i){return{type:"insertrow",tid:this._generateTransactionId(),row:t,rowId:n,rowIndex:i}},_createDeleteRowTransaction:function(n){return{type:"deleterow",tid:this._generateTransactionId(),rowId:n}},_createAddNodeTransaction:function(n){return{type:"addnode",tid:this._generateTransactionId(),tdata:n}},_createRemoveNodeTransaction:function(n){return{type:"removenode",tid:this._generateTransactionId(),tdata:n}},_addTransaction:function(t){var c=!1,i=0,f,l,r,o=!0,u,s=this.settings.autoCommit===!1&&this.settings.aggregateTransactions===!0,h=!1,e=s?this.findRecordByKey(t.rowId):null;if(t.type==="cell"){for(i=0;i<this._transactionLog.length;i++){if(this._transactionLog[i].rowId===t.rowId&&this._transactionLog[i].col===t.col){if(c=!0,s&&e&&e[t.col]===t.value){for(u=0;u<this._accumulatedTransactionLog.length;u++)this._accumulatedTransactionLog[u].rowId===this._transactionLog[i].rowId&&n.ig.removeFromArray(this._accumulatedTransactionLog,u);this._removeTransactionByTransactionId(this._transactionLog[i].tid),o=!1}o&&(this._transactionLog[i].value=t.value,this._syncGlobalTransaction(this._transactionLog[i]))}s&&e&&e[t.col]===t.value&&(h=!0)}for(r=0;r<this._transactionLog.length;r++)if(this._transactionLog[r].type==="newrow"&&this._transactionLog[r].rowId===t.rowId){t.type==="row"?this._transactionLog[r].value=t.value:this._transactionLog[r].row[t.col]=t.value,this._syncGlobalTransaction(this._transactionLog[r]);return}}else if(t.type==="row"){for(i=0;i<this._transactionLog.length;i++)if(this._transactionLog[i].rowId===t.rowId&&this._transactionLog[i].type!=="cell"){if(c=!0,s){o=!1;for(f in t.row)if(e&&t.row.hasOwnProperty(f)&&t.row[f]!==e[f]){o=!0;break}for(r=0,!o;r<this._transactionLog.length;r++)if(this._transactionLog[r].type==="newrow"&&this._transactionLog[r].rowId===t.rowId){this._transactionLog[r].row=t.row,this._syncGlobalTransaction(this._transactionLog[r]);return}}if(o)this._transactionLog[i].row=t.row,this._syncGlobalTransaction(this._transactionLog[i]);else{for(u=0;u<this._accumulatedTransactionLog.length;u++)this._accumulatedTransactionLog[u].rowId===this._transactionLog[i].rowId&&n.ig.removeFromArray(this._accumulatedTransactionLog,u);this._removeTransactionByTransactionId(this._transactionLog[i].tid)}}if(s)for(f in t.row)if(h=!0,!(t.row.hasOwnProperty(f)&&e&&t.row[f]===e[f])){h=!1;break}}else if(t.type==="addnode"||t.type==="removenode"){this._transactionLog.push(t),this._accumulatedTransactionLog.push(t);return}c||h||(this._transactionLog.push(t),l=n.extend(!0,{},t),this._accumulatedTransactionLog.push(l))},_syncGlobalTransaction:function(n){var t,i;if(n)if(n.type==="cell"){for(t=0;t<this._accumulatedTransactionLog.length;t++)if(this._accumulatedTransactionLog[t].rowId===n.rowId&&this._accumulatedTransactionLog[t].col===n.col){this._accumulatedTransactionLog[t].value=n.value;break}}else if(n.type==="row"||n.type==="insertrow"||n.type==="newrow")for(t=0;t<this._accumulatedTransactionLog.length;t++)if(this._accumulatedTransactionLog[t].rowId===n.rowId&&this._accumulatedTransactionLog[t].type!=="cell")for(i in n.row)n.row.hasOwnProperty(i)&&(this._accumulatedTransactionLog[t].row[i]=n.row[i])},_serializeDate:function(t){return n.type(t)!=="date"?t:t=this.settings.enableUTCDates?t.toISOString():n.ig.toLocalISOString(t)},_removeTransactionByTransactionId:function(t,i){for(var r=0;r<this._transactionLog.length;r++)if(this._transactionLog[r].tid===t){n.ig.removeFromArray(this._transactionLog,r);break}if(i===!0)for(r=0;r<this._accumulatedTransactionLog.length;r++)if(this._accumulatedTransactionLog[r].tid===t){n.ig.removeFromArray(this._accumulatedTransactionLog,r);break}},_removeTransactionsByRecordId:function(t){for(var i=0;i<this._transactionLog.length;i++)if(this._transactionLog[i].rowId===t){n.ig.removeFromArray(this._transactionLog,i);break}},_addRow:function(t,i,r){var u,f,h,v=0,y=this.settings.schema,e=y?y.layouts:null,c,o,s=[this._data],l,a=[];if(this._addOnlyUniqueToCollection(s,this._dataView),this._addOnlyUniqueToCollection(s,r),this._filter&&this._filteredData&&this.settings.paging.enabled&&this.settings.paging.type==="local"&&this._addOnlyUniqueToCollection(s,this._filteredData),this._vgbData&&this.isGroupByApplied(this.settings.sorting.expressions)&&this._addOnlyUniqueToCollection(s,this._vgbData),e)for(f in e)if(e.hasOwnProperty(f)){if((f.match(/\//g)||[]).length!==1)continue;e[f].key&&!t.hasOwnProperty(e[f].key)&&(e[f].responseDataKey?(c={},c[e[f].responseDataKey]=[]):c=[],t[e[f].key]=c)}while(v<s.length){if(u=s[v++],this._preprocessAddRow&&(o=this._preprocessAddRow.apply(this,Array.prototype.slice.call(arguments).concat([u])),u=(o||{}).layoutData,u)){for(h=0;h<a.length;h++)if(a[h]===u){u=null;break}u&&a.push(u)}u&&(l=t,r&&u!==r&&n.type(t)==="object"&&(l=n.extend(!0,{},t)),i>=0&&i<u.length?u.splice(i,0,l):u.push(l),this._postprocessAddRow&&o&&(o.newData=u,this._postprocessAddRow.apply(this,Array.prototype.slice.call(arguments).concat(o)),u=o.cashedData))}},_updateRecOnCommit:function(t,i){var f,r,u,e;if(t.type==="cell")for(r=0;r<i.length;r++)u=i[r],u&&(u[t.col]=t.value);else if(t.type==="row")if(n.type(t.row)==="array"){for(r=0;r<i.length;r++)if(u=i[r],u)for(f=0;f<t.row.length;f++)u[f]=t.row[f]}else for(r=0;r<i.length;r++)if(u=i[r],u)for(e in t.row)t.row.hasOwnProperty(e)&&(u[e]=t.row[e])},_commitTransaction:function(n){var i,r,t=this.settings.localSchemaTransform?this._origDs:null;t===this._data&&(t=null),this.settings.primaryKey===null?(i=this._data[parseInt(n.rowId,10)],t&&(r=t[parseInt(n.rowId,10)])):(i=this.findRecordByKey(n.rowId),t&&(r=this.findRecordByKey(n.rowId,t))),n.type==="cell"||n.type==="row"?this._updateRecOnCommit(n,[i,r]):n.type==="deleterow"?(this.settings.primaryKey===null?this.removeRecordByIndex(parseInt(n.rowId,10),t):this.removeRecordByKey(n.rowId,t),this.isGroupByApplied(this.settings.sorting.expressions)&&this._generateGroupByData(this._filter?this._filteredData:this._data,this.settings.sorting.expressions)):n.type==="newrow"?this._addRow(n.row,-1,t):n.type==="insertrow"&&this._addRow(n.row,n.rowIndex,t),this._removeTransactionByTransactionId(n.tid)},_rollbackTransaction:function(n){this._removeTransactionByTransactionId(n.tid,!0)},_commitTransactionsByRowId:function(n){for(var t=0;t<this._transactionLog.length;t++)this._transactionLog[t].rowId===n&&this._commitTransaction(this._transactionLog[t])},_rollbackTransactionsByRowId:function(n){for(var i=[],t=this._transactionLog.length;t-->0;)this._transactionLog[t].rowId===n&&(i.push(this._transactionLog[t]),this._rollbackTransaction(this._transactionLog[t]));return i},_addOnlyUniqueToCollection:function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return;n.push(t)},transactionsAsString:function(){return JSON.stringify(this._accumulatedTransactionLog)},_generateTransactionId:function(){return((1+Math.random())*parseInt("10000",16)).toString(16).substring(1,5)},_lookupPkIndex:function(){var n;if(this._pkIndex!==undefined)return this._pkIndex;if(typeof this.settings.primaryKey=="string"&&this.schema()&&this.schema().fields()&&this.schema().fields().length>0)for(n=0;n<this.schema().fields().length;n++)if(this.schema().fields()[n].name===this.settings.primaryKey)return this._pkIndex=n,n;return this._pkIndex=this.settings.primaryKey,this.settings.primaryKey},saveChanges:function(t,i){if(this.settings.updateUrl!==null){for(var e=this,o,u,r,s=[],f=0;f<this._accumulatedTransactionLog.length;f++){if(r=n.extend(!0,{},this._accumulatedTransactionLog[f]),r.type==="cell")r.value=this._serializeDate(r.value);else if(r.type==="row"||r.type==="insertrow"||r.type==="newrow")for(u in r.row)r.row.hasOwnProperty(u)&&(r.row[u]=n.type(r.row[u])==="date"?this._serializeDate(r.row[u]):r.row[u]);s.push(r)}o={type:"POST",url:this.settings.updateUrl,data:{ig_transactions:JSON.stringify(s)},success:function(r,u,f){r.Success?(e._saveChangesSuccess(r,u,f),t&&t(r,u,f)):(e._saveChangesError(f,u,n.ig.util.getLocaleValue("DataSourceLocale","noSaveChanges")),i&&i(f,u,n.ig.util.getLocaleValue("DataSourceLocale","noSaveChanges")))},error:function(n,t,r){e._saveChangesError(n,t,r),i&&i(n,t,r)}},this._ajaxRequest=n.ajax(o)}},_saveChangesSuccess:function(t,i,r){var f,e,u;if(t.Success)for(this.commit(),this._transactionLog=[],this._accumulatedTransactionLog=[],f=this._saveChangesHandlers,u=f?f.length:0;u-->0;)f[u](t,i,r);else for(e=this._saveChangesErrorHandlers,u=e?e.length:0;u-->0;)e[u](r,i,n.ig.util.getLocaleValue("DataSourceLocale","noSaveChanges"))},_saveChangesError:function(n,t,i){for(var r=this._saveChangesErrorHandlers,u=r?r.length:0;u-->0;)r[u](n,t,i)},_addChangesSuccessHandler:function(n){this._saveChangesHandlers===undefined&&(this._saveChangesHandlers=[]),this._saveChangesHandlers[this._saveChangesHandlers.length]=n},_removeChangesSuccessHandler:function(t){if(this._saveChangesHandlers!==undefined){var i=n.ig.indexInArray(this._saveChangesHandlers,t);i>-1&&(this._saveChangesHandlers=this._saveChangesHandlers.slice(0,i).concat(this._saveChangesHandlers.slice(i+1,this._saveChangesHandlers.length)))}},_addChangesErrorHandler:function(n){this._saveChangesErrorHandlers===undefined&&(this._saveChangesErrorHandlers=[]),this._saveChangesErrorHandlers[this._saveChangesErrorHandlers.length]=n},_removeChangesErrorHandler:function(t){if(this._saveChangesErrorHandlers!==undefined){var i=n.ig.indexInArray(this._saveChangesErrorHandlers,t);i>-1&&(this._saveChangesErrorHandlers=this._saveChangesErrorHandlers.slice(0,i).concat(this._saveChangesErrorHandlers.slice(i+1,this._saveChangesErrorHandlers.length)))}},dataBind:function(t,i){var s,h,r,f,e,u=this.settings,a,o,c=!0,y=!0,l,v;if(this._transactionLog=[],this._accumulatedTransactionLog=[],t||(t=u.callback),a={cancel:!1},n.isFunction(u.dataBinding)&&(c=u.dataBinding(this,a),c===undefined&&(c=!0)),c){this.settings.type==="unknown"&&(this._runtimeType===null||this._runtimeType===undefined)?this._runtimeType=this.analyzeDataSource():this._runtimeType==="json"&&(f=this.dataSource(),n.type(f)==="string"&&(f=n.trim(f),(f.startsWith("/")||f.startsWith("http://")||f.startsWith("https://"))&&(this._runtimeType="remoteUrl")));switch(this._runtimeType){case"function":this._data=u.dataSource(),this.schema()&&this.settings.localSchemaTransform&&(this._data=this.schema().transform(this._data));break;case"array":this.schema()&&this.settings.localSchemaTransform?(this._data=this.schema().transform(this.dataSource()),this.dataSource().Metadata&&(this._metadata=this.dataSource().Metadata,this.summariesResponse(this.settings.summaries.summariesResponseKey,this.dataSource())),this._origDs=this.dataSource()):this._data=this.dataSource();break;case"htmlTableDom":case"htmlTableId":case"htmlTableString":if(this._tableBound)break;this._runtimeType=this.analyzeDataSource(),this._runtimeType==="htmlTableId"?(h=n("#"+this.dataSource()),s=this._validateTable(h)):this._runtimeType==="htmlTableString"?(h=n("#"+this.settings.id+" > table"),s=this._validateTable(h)):s=this.dataSource(),this._data=this.schema()&&this.settings.localSchemaTransform?this.schema().transform(s):this.tableToObject(s),this._tableBound=!0;break;case"htmlListDom":this._data=this.schema().transform(this.dataSource());break;case"htmlSelectDom":this._data=this.schema().transform(this.dataSource());break;case"invalid":throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","invalidDataSource"));case"unknown":case"json":case"xml":if(this.settings.type!=="json"&&u.type!=="xml")throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","unknownDataSource"));else{if(o=this.settings.responseDataKey,r=n.type(this.dataSource())==="string"?u.type==="json"?this.stringToJSONObject(this.dataSource()):this.stringToXmlObject(this.dataSource()):this.dataSource(),this.schema()&&this.settings.localSchemaTransform===!0)this._data=this.schema().transform(r),this._origDs=o!==null&&o!==undefined?n.ig.findPath(r,o):r;else if(this.schema()&&this.settings.localSchemaTransform!==!1||u.type!=="json"){if(!this.schema()&&u.type==="xml")throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorXmlSourceWithoutSchema"));}else this._data=o!==null&&o!==undefined?this._origDs=n.ig.findPath(r,o):r,this._origDs=r;this.totalRecordsCount(null,this.settings.responseTotalRecCountKey,r,this),r&&r.Metadata&&(this._metadata=r.Metadata),this.summariesResponse(this.settings.summaries.summariesResponseKey,r)}break;case"remoteUrl":y=!1,this._remoteData(t,i);break;case"empty":this._data=[],this._dataView=[],this._dataSummaries=[]}this._dataView=this._data,this._filter=!1,l=u.filtering,e=u.sorting,v=!1,l.type==="local"&&this._runtimeType!=="remoteUrl"&&l.defaultFields.length>0&&(this.filter(l.defaultFields),v=!0),e.type==="local"&&this._runtimeType!=="remoteUrl"&&e.defaultFields.length>0&&(!v||e.defaultFields!==e.expressions)&&this.sort(e.defaultFields,e.defaultDirection),!this._gbDataView&&this.isGroupByApplied(this.settings.sorting.expressions)&&this._generateGroupByData(this._filter?this._filteredData:this._data,this.settings.sorting.expressions),u.paging.enabled&&u.paging.type==="local"&&this._runtimeType!=="remoteUrl"&&this._page(),this._filter&&this._transformedData||this._populateTransformedData(),this._runtimeType!=="remoteUrl"&&this._invokeCallback(i,t),this._internalDataBound(!a.cancel&&y)}return this},getCellValue:function(n,t){var i,r;return!this._hasMapper||!this._fields||this._fields[n]===undefined||this._fields[n].type!=="object"||!t[n]?t[n]:(i=this._fields[n],r=i&&typeof i.mapper=="function"?i.mapper(t):t[n])},_getFieldTypeFromSchema:function(t){var r,u,i=this.dataSource();return(r=this._fields?this._fields[t]:null,!r)?undefined:(this.type()==="remoteUrl"?i=this.data():this.type()==="json"&&i!==null&&i!==undefined&&this.settings.responseDataKey!==null&&(i=n.ig.findPath(i,this.settings.responseDataKey)),u=typeof r.mapper=="function"&&n.type(i)==="array"&&i.length>0?n.type(r.mapper(i[0])):r.type)},_internalDataBound:function(t){t&&n.isFunction(this.settings.dataBound)&&this.settings.dataBound(this)},summariesResponse:function(t,i){if(!i||!t)return this._dataSummaries=this._dataSummaries||[],this.dataSummaries();var f,s,r,u,o,e,c,h;if(t.length>0){for(f=i,s=t.split("."),r=0;r<s.length;r++){if(f===null||f===undefined)break;f=f[s[r]]}this._dataSummaries=f}else this._dataSummaries=i;if(this._dataSummaries=this._dataSummaries||[],this.settings.localSchemaTransform===!0&&this.schema()&&i&&i.Metadata&&i.Metadata.timezoneOffsetsSummaries&&(e=i.Metadata.timezoneOffsetsSummaries,this._dataSummaries._serverOffsetsSummaries=e,u=this.schema().schema,u&&u.fields))for(r=0;r<u.fields.length;r++)if((u.fields[r].type==="date"||u.fields[r].type==="time")&&e[u.fields[r].name]!==undefined){t=u.fields[r].name;for(o in e[t])e[t].hasOwnProperty(o)&&(c=e[t][o],h=this._dataSummaries[t][o],n.type(h)==="string"&&(this._dataSummaries[t][o]=new Date(h)))}return this._dataSummaries},_applySchema:function(t){var r=this.schema(),f,i=this.settings.sorting,e=this.settings.paging,u=this.settings.filtering;r&&r.fields&&r.fields().length>0&&(this.settings.localSchemaTransform||t)&&(this._origDs=this._data,r._type=n.type(this._data),f=r.transform(this._data),this._data=f,this._dataView=this._data,i.type==="local"&&i.defaultFields.length>0?this.sort(i.defaultFields,i.defaultDirection):this.isGroupByApplied(i.expressions)&&this._generateGroupByData(this._filter?this._filteredData:this._data,i.expressions),u.type==="local"&&u.defaultFields.length>0&&this.filter(u.defaultFields),e.enabled&&e.type==="local"&&this._page())},_populateTransformedData:function(n){this._transformedData=n!==null&&n!==undefined?n:this._data},_invokeCallback:function(n,t){var i,r;i=t||this.settings.callback,r=n||this.settings.callee,i&&(r?i.apply(r,[!0,"",this]):i(!0,"",this))},_remoteData:function(n,t){var i,f=this.settings.dataSource,e=this.settings.responseDataType,o=this.settings.responseContentType,r,u=this.settings.requestType;i=this._encodeUrl(),this._customCallback=n?n:null,this._callee=t,r={url:f,data:u==="GET"?i:JSON.stringify(i),type:u,dataType:e,async:!0,context:this,contentType:o,cache:!1,dataFilter:this._dataFilter,success:this._successCallback,complete:this._completeCallback,converters:{"text json":function(n){return n}},error:this._errorCallback},this._processRequest(r)},_dataFilter:function(t,i){var u,r=this.context.schema(),o,e=this.context.settings.type,f,s=!1;if((i===undefined||i===null)&&(i=typeof t=="object"&&t&&typeof t.charAt!="function"?n.isXMLDoc(t)?"xml":"json":"text"),i==="xml")r._type="xml",u=this.context._processXmlResponse(t,!0,this.context);else if(i==="json")r&&(r._type="json"),o=n.type(t)==="string"?JSON.parse(t):t,s=!0,u=this.context._processJsonResponse(o,this.context);else if(n.fn.jquery&&(f=n.fn.jquery.split(".")),f&&f.length>=2&&(parseInt(f[1],10)>4||parseInt(f[0],10)>1)&&(this.dataTypes=[],this.dataTypes.push("text"),s=!0),t=n.type(t)==="string"?n.trim(t):t,t&&n.type(t)==="string"&&(t.startsWith("<?xml")||t.startsWith("<"))||e==="xml")r&&(r._type="xml"),u=this.context._processXmlResponse(this.context.stringToXmlObject(t),!1,this.context);else if(t&&n.type(t)==="string"&&t.startsWith("[")||e==="json"||e==="array")r&&(r._type="json"),u=this.context._processJsonResponse(JSON.parse(t),this.context);else if(t&&n.type(t)==="string"&&t.startsWith("{")||e==="json")r&&(r._type="json"),u=this.context._processJsonResponse(JSON.parse(t),this.context);else if(n.isXMLDoc(t))r&&(r._type="xml"),u=this.context._processXmlResponse(t,!0,this.context);else if(t!==""&&t!==null)throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorUnrecognizedResponseType"));return s&&(this.context.settings.paging&&this.context.settings.paging.enabled&&this.context.settings.paging.appendPage||(this.context._data=u),this.context._alreadySet=!0),u},_successCallback:function(n){var t,i=n?n.length:0;if(n!==undefined&&n!==null||this._alreadySet)if(this._data.length>=0&&this.settings.paging&&this.settings.paging.enabled&&this.settings.paging.appendPage)for(t=0;t<i;++t)this._data[this._data.length]=n[t];else this._alreadySet?this._dataView=this._data:(this._data=n,this._dataView=n);else this._data=[],this._dataView=[];this._alreadySet=!1,this._populateTransformedData(),this._isPagingReq=!1,this._isFilteringReq=!1,this._isSortingReq=!1,this._isSummariesReq=!1},_errorCallback:function(t,i,r){var f=this._customCallback||this.settings.callback,e,u;this._isPagingReq=!1,this._isFilteringReq=!1,this._isSortingReq=!1,this._isSummariesReq=!1,t&&t.status&&t.statusText?(u=" ( "+t.status+" "+t.statusText+" ) ",t.status===200&&r!==undefined&&(u=" ( "+(r.message||r)+" ) ")):i!==null?u=" ( "+i+" ) ":r!==undefined&&(u=" ( "+(r.message||r)+" ) "),e=n.ig.util.getLocaleValue("DataSourceLocale","errorRemoteRequest")+u,f&&this._callee?f.apply(this._callee,[!1,e,t,this]):f&&f(!1,e,t,this)},_completeCallback:function(){var t,i,n=this.settings.sorting,u=this.settings.paging,r=this.settings.filtering;r.type==="local"&&r.defaultFields.length>0&&this.filter(r.defaultFields),n.type==="local"&&n.defaultFields.length>0?this.sort(n.defaultFields,n.defaultDirection):this.isGroupByApplied(n.expressions)&&this._generateGroupByData(this._filter?this._filteredData:this._data,n.expressions),u.enabled&&u.type==="local"&&this._page(),this._internalDataBound(!0),t=this._customCallback||this.settings.callback,i=this._callee||this.settings.callee,t&&i?t.apply(i,[!0,"",this]):t&&t(!0,"",this)},_processRequest:function(t){var i,r;this.settings.responseDataType==="jsonp"?(i={dataType:"jsonp",type:"GET",url:t.url,data:t.data,success:n.proxy(this._jsonpFilter,this),error:n.proxy(this._errorCallback,this)},r=this.settings,r.jsonp!==undefined&&r.jsonp!==null&&(i.jsonp=this.settings.jsonp),r.jsonpCallback!==undefined&&(i.jsonpCallback=this.settings.jsonpCallback),this._ajaxRequest=n.ajax(i)):this._ajaxRequest=n.ajax(t)},_jsonpFilter:function(t){var i,r;if(this.context=this,i=this._dataFilter(t,"json"),i.length||n.type(i)!=="object"||(i=[i]),this._data.length>=0&&this.settings.paging&&this.settings.paging.enabled&&this.settings.paging.appendPage)for(r=0;r<i.length;++r)this._data[this._data.length]=i[r];else this._data=i,this._dataView=i;this._populateTransformedData(),this._completeCallback()},_processJsonResponse:function(n,t){var i,r=t.schema(),u,f,e;if(this._responseData&&this._responseData(n),n.Metadata&&(this._metadata=n.Metadata),r&&r.fields&&r.fields().length>0&&this.settings.localSchemaTransform)i=r.transform(n);else if(u=t.settings.responseDataKey,u!==null&&u!==undefined)if(f=u.split("."),f.length>0){for(i=n,e=0;e<f.length;e++)i=i[f[e]];typeof i=="string"&&(i=JSON.parse(i))}else i=n;else i=n;return(t._isPagingReq||t._isFilteringReq)&&this.totalRecordsCount(null,this.settings.responseTotalRecCountKey,n,t),this.summariesResponse(this.settings.summaries.summariesResponseKey,n),i},_processXmlResponse:function(t,i,r){var u,f=r.schema(),o,e;return f&&f.fields&&f.fields().length>0?u=this.settings.localSchemaTransform?f.transform(t):t:(e=r.settings.responseDataKey,e&&e!==""?(o=new n.ig.DataSchema,u=r._xmlToArray(o._findXmlRecordsRoot(t,e))):u=r._xmlToArray(t)),u},_xmlToArray:function(n){var u=[],f=n,i,r,t,o,s,e;for(e=window.ActiveXObject,n&&n.childNodes&&n.childNodes.length===1&&(f=n.childNodes[0]),i=0;i<f.childNodes.length;i++)for(r=f.childNodes[i],u[i]=[],t=0;t<r.childNodes.length;t++)o=e===undefined?r.childNodes[t].localName:r.childNodes[t].baseName,s=e===undefined?r.childNodes[t].textContent:r.childNodes[t].text,u[i][o]=s;return u},_encodeUrl:function(){var i=this.settings,u={},f={},e={},t,o={},s={},h={},c={},r=!0;return t={sortingParams:u,filteringParams:f,pagingParams:e,selectParams:o,summariesParams:s,extraParams:h,pkParams:c},n.isFunction(i.urlParamsEncoding)&&(r=i.urlParamsEncoding(this,t)),r&&(this._encodeSelectParams(t),this._encodeSortingParams(t),this._encodeFilteringParams(t),this._encodePagingParams(t),this._encodeSummariesParams(t),this._encodePkParams(t),n.isFunction(this.settings.encodeExtraParams)&&this.settings.encodeExtraParams(this,t),n.isFunction(i.urlParamsEncoded)&&i.urlParamsEncoded(this,t)),n.extend(!0,{},t.sortingParams,t.filteringParams,t.pagingParams,t.selectParams,t.summariesParams,t.extraParams,t.pkParams)},_encodePkParams:function(n){var t=this.settings.paging,r=this.settings.sorting,u=this.settings.filtering,f=this.settings.summaries,i=this._schema?this._schema._pk:null;i&&(t.enabled&&t.type==="remote"||r.type==="remote"||u.type==="remote"||f.type==="remote")&&(n.pkParams.pk=i)},_encodeSelectParams:function(n){var i=n.selectParams,t;if(!this.settings.localSchemaTransform&&this.schema()&&this.schema().fields().length>0)for(i.$select="",t=0;t<this.schema().fields().length;t++)t!==0&&(i.$select+=","),i.$select+=this.schema().fields()[t].name;else!this.settings.localSchemaTransform&&this.schema()&&this.schema().fields().length===0&&(i.$select="*")},_encodePagingParams:function(n){var t=this.settings.paging;t.enabled&&t.type==="remote"&&(this._isPagingReq=!0,t.pageIndexUrlKey!==null&&t.pageSizeUrlKey!==null?(n.pagingParams[t.pageIndexUrlKey]=this.pageIndex(),n.pagingParams[t.pageSizeUrlKey]=this.pageSize()):(n.pagingParams.$skip=this.pageIndex()*this.pageSize(),n.pagingParams.$top=this.pageSize(),n.pagingParams.$inlinecount="allpages",this.settings.responseTotalRecCountKey===null&&(this.settings.responseTotalRecCountKey="d.__count")))},_encodeSortingParams:function(t){var r=this.settings.sorting,l,i,u,o,s,f,h,c,e=null;if(r.type==="remote"){for(u=r.exprString?this._parseSortExpressions(r.exprString):r.expressions,this._isSortingReq=!0,i=0;i<u.length;i++)u[i].layout&&(e=u[i].layout),o=u[i].fieldName,r.sortUrlAscValueKey!==null&&r.sortUrlDescValueKey!==null&&r.sortUrlKey!==null?(l=u[i].dir&&u[i].dir.toLowerCase().startsWith("asc")?r.sortUrlAscValueKey:r.sortUrlDescValueKey,s=this._getSchemaField(o),c=s&&s.type?r.sortUrlKey+"("+o+":"+s.type+")":r.sortUrlKey+"("+o+")",t.sortingParams[c]=l):(t.sortingParams.$orderby===undefined&&(t.sortingParams.$orderby=""),t.sortingParams.$orderby=t.sortingParams.$orderby+o+" "+u[i].dir.toLowerCase(),i<u.length-1&&(t.sortingParams.$orderby+=","));if(e){if(f=this.settings.dataSource,f&&n.type(f)==="string"&&f.indexOf("layout="+e)>=0)for(f=f.substr(f.indexOf("?")+1),h=f.split("&"),i=0;i<h.length;i++)if(h[i].indexOf("layout=")>=0){h[i].replace("layout=","")===e&&(e=null);break}e&&(t.sortingParams.layout=e)}}},_encodeFilteringParams:function(t){var h=this.settings.filtering,i,r,l,y,w,a,c,e,f,o,u,s,v,p="and";if(h.type==="remote"){for(i=h.exprString?this._parseFilterExprString(h.exprString):h.expressions,r=0;r<i.length;r++)this._isFilteringReq=!0,w=i[r].cond,s=i[r].fieldName,y=this._isFilteringExprNotReq(w),h.filterExprUrlKey!==null?(v=this._getSchemaField(s),l=v&&v.type?h.filterExprUrlKey+"("+s+":"+v.type+")":h.filterExprUrlKey+"("+s+")",a=n.type(i[r].expr)==="date"?Date.UTC(i[r].expr.getFullYear(),i[r].expr.getMonth(),i[r].expr.getDate(),i[r].expr.getHours(),i[r].expr.getMinutes()):escape(i[r].expr),t.filteringParams[l]=t.filteringParams[l]===undefined?i[r].cond+"("+(y?"":a)+")":t.filteringParams[l]+","+i[r].cond+"("+(y?"":a)+")"):(t.filteringParams.$filter===undefined&&(t.filteringParams.$filter=""),u=i[r].expr,n.type(u)==="string"&&(h.caseSensitive||(s="tolower("+s+")",u=u.toLowerCase()),u=u.replace(/\'/g,"''")),i[r].cond==="startsWith"?t.filteringParams.$filter+="startswith("+s+",'"+u+"') eq true":i[r].cond==="endsWith"?t.filteringParams.$filter+="endswith("+s+",'"+u+"') eq true":i[r].cond==="contains"?t.filteringParams.$filter+="indexof("+s+",'"+u+"') ge 0":i[r].cond==="doesNotContain"?t.filteringParams.$filter+="indexof("+s+",'"+u+"') eq -1":i[r].cond==="equals"?t.filteringParams.$filter+=n.type(i[r].expr)==="string"?s+" eq '"+u+"'":i[r].fieldName+" eq "+i[r].expr:i[r].cond==="true"?t.filteringParams.$filter+=i[r].fieldName+" eq true":i[r].cond==="false"?t.filteringParams.$filter+=i[r].fieldName+" eq false":i[r].cond==="doesNotEqual"?t.filteringParams.$filter+=n.type(i[r].expr)==="string"?s+" ne '"+u+"'":i[r].fieldName+" ne "+i[r].expr:i[r].cond==="greaterThan"?t.filteringParams.$filter+=i[r].fieldName+" gt "+i[r].expr:i[r].cond==="lessThan"?t.filteringParams.$filter+=i[r].fieldName+" lt "+i[r].expr:i[r].cond==="greaterThanOrEqualTo"?t.filteringParams.$filter+=i[r].fieldName+" ge "+i[r].expr:i[r].cond==="lessThanOrEqualTo"?t.filteringParams.$filter+=i[r].fieldName+" le "+i[r].expr:i[r].cond==="null"?t.filteringParams.$filter+=i[r].fieldName+" eq null":i[r].cond==="notNull"?t.filteringParams.$filter+=i[r].fieldName+" ne null":i[r].cond==="empty"?t.filteringParams.$filter+="length("+i[r].fieldName+") eq 0":i[r].cond==="notEmpty"?t.filteringParams.$filter+="length("+i[r].fieldName+") gt 0":i[r].cond==="on"?(u=this._parser.toDate(i[r].expr),f=u.getFullYear(),e=u.getMonth()+1,c=u.getDate(),t.filteringParams.$filter+="day("+i[r].fieldName+") eq "+c+" and ",t.filteringParams.$filter+="month("+i[r].fieldName+") eq "+e+" and ",t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f):i[r].cond==="notOn"?(u=this._parser.toDate(i[r].expr),f=u.getFullYear(),e=u.getMonth()+1,c=u.getDate(),t.filteringParams.$filter+="day("+i[r].fieldName+") ne "+c+" or ",t.filteringParams.$filter+="month("+i[r].fieldName+") ne "+e+" or ",t.filteringParams.$filter+="year("+i[r].fieldName+") ne "+f):i[r].cond==="after"?(u=this._parser.toDate(i[r].expr),t.filteringParams.$filter+=i[r].fieldName+" gt DateTime'"+n.ig.formatter(u,"date","yyyy-MM-ddT23:59:59")+"'"):i[r].cond==="before"?(u=this._parser.toDate(i[r].expr),t.filteringParams.$filter+=i[r].fieldName+" lt DateTime'"+n.ig.formatter(u,"date","yyyy-MM-dd")+"'"):i[r].cond==="today"?(u=this._parser.toDate(i[r].expr),f=u.getFullYear(),e=u.getMonth()+1,c=u.getDate(),t.filteringParams.$filter+="day("+i[r].fieldName+") eq "+c+" and ",t.filteringParams.$filter+="month("+i[r].fieldName+") eq "+e+" and ",t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f):i[r].cond==="yesterday"?(u=this._parser.toDate(i[r].expr),f=u.getFullYear(),e=u.getMonth()+1,c=u.getDate(),t.filteringParams.$filter+="day("+i[r].fieldName+") eq "+c+" and ",t.filteringParams.$filter+="month("+i[r].fieldName+") eq "+e+" and ",t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f):i[r].cond==="thisMonth"?(o=new Date,e=o.getMonth()+1,f=o.getFullYear(),t.filteringParams.$filter+="month("+i[r].fieldName+") eq "+e+" and ",t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f):i[r].cond==="lastMonth"?(o=new Date,e=o.getMonth()+1,f=o.getFullYear(),e===1?(e=12,f--):e--,t.filteringParams.$filter+="month("+i[r].fieldName+") eq "+e+" and ",t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f):i[r].cond==="nextMonth"?(o=new Date,e=o.getMonth()+1,f=o.getFullYear(),e===12?(e=1,f++):e++,t.filteringParams.$filter+="month("+i[r].fieldName+") eq "+e+" and ",t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f):i[r].cond==="thisYear"?(o=new Date,f=o.getFullYear(),t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f):i[r].cond==="lastYear"?(o=new Date,f=o.getFullYear()-1,t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f):i[r].cond==="nextYear"&&(o=new Date,f=o.getFullYear()+1,t.filteringParams.$filter+="year("+i[r].fieldName+") eq "+f),p="and",i[r].logic&&i[r].logic.toLowerCase()==="or"&&(p="or"),r<i.length-1&&(t.filteringParams.$filter+=" "+p+" "));h.filterLogicUrlKey!==null&&i.length>0&&(t.filteringParams[h.filterLogicUrlKey]=i[0].logic)}},_encodeSummariesParams:function(n){var t,r,u=this.settings.summaries,i=u.columnSettings,f,e,s,o,h=i.length;if(u.type==="remote")for(!h&&u.calculateAll&&(n.summariesParams[u.summaryExprUrlKey+"(all)"]="*"),t=0;t<h;t++)if(f="",i[t].summaryOperands!==undefined&&i[t].summaryOperands!==null){for(r=0;r<i[t].summaryOperands.length;r++)(i[t].summaryOperands[r].active===!0||i[t].summaryOperands[r].active===1)&&(f+=i[t].summaryOperands[r].type+",");f!==""&&(o=i[t].columnKey,e=this._getSchemaField(o),s=e&&e.type?u.summaryExprUrlKey+"("+o+":"+e.type+")":u.summaryExprUrlKey+"("+o+")",n.summariesParams[s]=f.slice(0,-1))}},_getSchemaField:function(n){var t,i;if(this.settings.schema)for(t=0;t<this.settings.schema.fields.length;t++)if(i=this.settings.schema.fields[t],i.name===n)return i;return null},filteredData:function(){return this._filteredData},_page:function(n){var t=0,i;n===undefined&&(n=!1),n?t=this._dataView.length:this._dataView=[],i=this._filter?this._filteredData:this._data,this._generatePageData(i,t)},_getPageStartEndIndex:function(n){var t=this.pageIndex()*this.pageSize(),i;return t>=n.length&&(this.settings.paging.pageIndex=0,t=this.pageIndex()*this.pageSize()),i=t+this.pageSize()>=n.length?n.length:t+this.pageSize(),{startIndex:t,endIndex:i}},_generateGroupByPageDataForAllRecords:function(){for(var t=this.visibleGroupByData(),i=this.settings.groupby||{},r=this._getPageStartEndIndex(t),u=r.startIndex,f=r.endIndex,n=u;n<f;n++)this._gbDataView.push(t[n]),t[n][i.groupRecordKey]||t[n][i.groupSummaryRecordKey]||this._dataView.push(t[n])},_generateGroupByPageDataForDataRecordsOnly:function(n){for(var t,o=0,l=[],s=this.settings.groupby||{},r=!0,f=100,e,u=this.groupByData(),h=u.length,c=this._getPageStartEndIndex(n),a=n[c.startIndex],v=n[c.endIndex-1],i=0;i<h;i++)if(u[i]===a){o=i;break}for(i=o-1;i>=0;i--)if(t=u[i],t[s.groupRecordKey]&&f>t.level&&(f=t.level,l.unshift(t),this._gbDataView.unshift(t),t.collapsed&&(this._gbDataView=[t],r=!1,e=f),!f))break;for(i=o;i<h;i++)if(t=u[i],t[s.groupRecordKey])(t.level<=e||r)&&(e=t.level,r=!t.collapsed,this._gbDataView.push(t));else if(this._dataView.push(t),r&&this._gbDataView.push(t),t===v){while(i++<h)if(t=u[i],t&&t[s.groupSummaryRecordKey])(t.level<=e||r)&&this._gbDataView.push(t);else break;break}},_generateGroupByPageData:function(n){return this._dataView=[],this._gbDataView=[],this.settings.groupby.pagingMode==="allRecords"?this._generateGroupByPageDataForAllRecords(n):this._generateGroupByPageDataForDataRecordsOnly(n)},_generatePageData:function(n,t){if(this.isGroupByApplied())return this._generateGroupByPageData(n,t);for(var r=this._getPageStartEndIndex(n),u=r.startIndex,f=r.endIndex,i=u;i<f;i++)this._dataView[t++]=n[i]},_compareValues:function(n,t){return(n===null||n===undefined)&&(t===null||t===undefined)?0:(n===null||n===undefined)&&t!==null&&t!==undefined?-1:n!==null&&n!==undefined&&(t===null||t===undefined)?1:n>t?1:n<t?-1:0},_sortByFieldExpression:function(n,t,i,r){var o=[],f,h=n.length,e,c,y=this.settings.sorting.caseSensitive,l=t.compareFunc,s,u,a=t.formatter,p=this,w=this._hasMapper,v;for(t.dir!==undefined&&t.dir!==null?(e=t.dir.toLowerCase().startsWith("desc"),e=e?-1:1):i!==undefined&&i!==null&&i!==""&&(e=i.toLowerCase().startsWith("desc"),e=e?-1:1),v=this._getFieldTypeFromSchema(t.fieldName),f=0;f<h;f++)s=n[f],u=w?p.getCellValue(t.fieldName,s):s[t.fieldName],a&&(u=a(u,t.fieldName)),r&&(u=r(u,t.fieldName)),y===!1&&u!==undefined&&u!==null&&u.toLowerCase?u=u.toLowerCase():u&&u.getTime&&(u=this._getDateAsNumber(u,v)),o.push({val:u,rec:s});for(c=function(){return function(n,i){var r,u,f=n.val,o=i.val,s,h;return(s={fieldName:t.fieldName,recordX:n.rec,recordY:i.rec},h={fieldName:t.fieldName,recordX:i.rec,recordY:n.rec},r=e*l(f,o,s),u=e*l(o,f,h),r<u)?-1:r>u?1:0}},o=o.sort(c()),f=0;f<h;f++)n[f]=o[f].rec;return n},_getDateAsNumber:function(t,i){return!t||!t.getTime?t:i==="time"?n.ig.Date.prototype.getTimeOfDay(t):t.getTime()},_resetDateObjectToCurrentDate:function(n){if(!n||!n.getTime)return n;var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())},_sortDataRecursive:function(n,t,i,r,u){var f,e,l=n.length,h,a,o,s,c=t.length;if((i=i||0,i>c-1||l<=1)||(h=t[i],n=this._sortByFieldExpression(n,h,r,u),i>=c-1))return n;for(f=0;f<l;f++){for(a=t[i],o=this._groupedRecordsByExpr(n,f,h),s=o.length,s>1&&i+1<c&&(o=this._sortDataRecursive(o,t,i+1,r,u)),e=0;e<s;e++)n[f+e]=o[e];f+=s-1}return n},sort:function(t,i){var u,f=this.settings.sorting,o,h,e=this.settings.paging,r,s=!1;if(n.type(t)==="string"&&(t=this._parseSortExpressions(t)),t===undefined||t===null)throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","noSortingFields"));if(t=this._findSortingExpressionsForLayout(t,this.settings.key),h=this.isGroupByApplied(t),f.applyToAllData&&f.type==="local"?(r=this._filter&&(e.type==="local"&&e.enabled===!0||e.enabled===!1||e.type==="remote"&&e.enabled===!0&&this.settings.filtering.type==="local")?this._filteredData:this.data(),s=!0):r=this.dataView(),n.type(f.customFunc)==="function")r=f.customFunc(r,t,i);else if(i||(i=""),n.isFunction(f.customConvertFunc)&&(o=f.customConvertFunc),n.type(t)==="string"&&(t=this._parseSortExpressions(t)),t.length>0){for(u=0;u<t.length;u++)t[u].compareFunc&&typeof t[u].compareFunc=="string"&&typeof window[t[u].compareFunc]=="function"&&(t[u].compareFunc=window[t[u].compareFunc]),typeof t[u].compareFunc!="function"&&(t[u].compareFunc=this._compareValues);this._allDataSorted=r===this.data(),r.length>1&&(n.type(f.compareFunc)==="function"?r.sort(f.compareFunc(t,this.settings.schema,i.toLowerCase().startsWith("asc")?!1:!0,o)):r=this._sortDataRecursive(r,t,0,i,o))}return h&&this._generateGroupByData(r,t),s&&(this._filter?this._filteredData=r:this._data=r),s&&e.type==="local"?this._page():this._dataView=r,this._populateTransformedData(r),this},clearLocalSorting:function(){var i=this.settings.sorting,t=this.settings.paging,n,r=!1;return i.applyToAllData&&i.type==="local"?(n=this._filter&&(t.type==="local"&&t.enabled===!0||t.enabled===!1)?this._filteredData:this.data(),r=!0):n=this.dataView(),r&&t.type==="local"?(this._filter?this._filteredData=n:this._data=n,this._page()):this._dataView=n,this._populateTransformedData(),this},_parseSortExpressions:function(t){for(var r=[],u,f=t.split(","),i=0;i<f.length;i++)r[i]={},u=n.trim(f[i]).split(" "),r[i].fieldName=u[0],r[i].dir=u[1];return r},_splitFilterExpression:function(n){for(var t=n.match(/\"[^\"]+\"/g)||[],r=[],i=0;i<t.length;i++)n=n.replace(t[i],""),r.push(t[i].replace(/\"/g,""));return t=n.split(/\s+/),r=r.concat(t)},_filterAllFields:function(n,t,i){if(i=i||this.schema().fields(),!i||!i.length)return[];for(var u,c=t.length,s=[],l=0,e,a=(this.schema()||{})._formattedRecords||[],o,h=this._splitFilterExpression(n),f=[],r=0;r<h.length;r++)if(e=h[r],e){for(o=!0,u=0;u<f.length;u++){if(f[u]===e||f[u].indexOf(e)!==-1){o=!1;break}e.indexOf(f[u])!==-1&&(f.splice(u,1),u=-1)}o&&f.push(this.settings.filtering.caseSensitive?e:e.toLowerCase())}if(!f.length)return t;for(r=0;r<c;r++)this._findMatchByFields(f,t[r],i,a[r]||null)&&(s[l++]=t[r]);return s},_findMatchByFields:function(n,t,i,r){for(var h=i.length,u,f,o,c=!this.settings.filtering.caseSensitive,e="",s=0;s<h;s++)f=i[s].name,u=r&&r[f]!==undefined?r[f]:this._hasMapper?this.getCellValue(f,t):t[f],u=u===null||u===undefined?"":u,e+=u+"||";for(e=c?e.toLowerCase():e,o=0;o<n.length;o++)if(e.indexOf(n[o])===-1)return!1;return!0},_getFieldsWithFormatter:function(){var n,t,i=[];if(!this.schema())return i;for(t=this.schema().fields(),n=0;n<t.length;n++)t[n].formatter&&i.push(t[n]);return i},_generateFormattedRecords:function(n){var t,r,i,u,f=[],e=this.schema(),o=this._getFieldsWithFormatter(),s=o.length;if(n=n||this._data,u=n.length,u&&e&&s){for(t=0;t<u;t++)for(f[t]={},r=0;r<s;r++)i=o[r],f[t][i.name]=i.formatter(n[t][i.name],n[t],i);e._formattedRecords=f}},filterByText:function(n,t){return t=t||this.schema().fields(),this.filter([{filterAllFields:!0,expr:n,fields:t}])},filter:function(t,i,r,u){var o,f,b=null,nt=0,h=!1,e,a,y,v,c,w,s,d,k,l=this.settings.filtering,g=this.settings.paging,p=this.settings.sorting;if(this._clearGroupByData(),v=this.schema(),v===null||v===undefined)throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","filteringNoSchema"));if(n.type(t)==="string"&&(b=t),n.type(u)==="string"?k=u:n.type(u)==="undefined"&&(u=[]),n.type(t)!=="array"||t.length!==0||n.type(u)!=="array"||u.length!==0){if(l.applyToAllData&&l.type==="local"?(e=this.data(),d=!0):this._cachedDataView&&this._cachedDataView.length>0?e=this._cachedDataView:(this._cachedDataView=n.merge([],this.dataView()),e=this._cachedDataView),n.type(l.customFunc)==="function")e=l.customFunc(t,e),this._filteredData=e,this._dataView=[];else if(t&&t.length&&t[0]&&t[0].filterAllFields)e=this._filterAllFields(t[0].expr,e,t[0].fields||v.fields()),this._filteredData=e,this._dataView=[];else for(this._dataView=[],this._filteredData=[],b&&(t=this._parseFilterExprString(b)),k&&(u=this._parseFilterExprString(k)),o=0;o<e.length;o++){for(h=!1,f=0;f<t.length;f++)if(c=v.fields(),t[f].fieldIndex!==undefined&&t[f].fieldIndex<c.length?(w=c[t[f].fieldIndex],a=w.type,h=!this._findMatch(e[o][w.name],t[f].expr,a,!l.caseSensitive,t[f].cond,t[f].preciseDateFormat,w.name,e[o])):(a=t[f].dataType!==undefined&&t[f].dataType!==null?t[f].dataType:this._getFieldTypeFromSchema(t[f].fieldName),h=!this._findMatch(e[o][t[f].fieldName],t[f].expr,a,!l.caseSensitive,t[f].cond,t[f].preciseDateFormat,t[f].fieldName,e[o])),s=t[f].logic!==null&&t[f].logic!==undefined&&(t[f].logic.toLowerCase()==="or"||t[f].logic.toLowerCase()==="and")?t[f].logic:i,(s===undefined||s===null||n.type(s)!=="string")&&(s="and"),h&&s.toLowerCase()==="and")break;else if(!h&&s.toLowerCase()==="or")break;if(!h)for(f=0;f<u.length;f++){if(c=v.fields(),a=undefined,u[f].fieldIndex)u[f].fieldIndex<c.length&&(a=c[u[f].fieldIndex].type),h=!this._findMatch(e[o][u[f].fieldIndex],u[f].expr,"string",!l.caseSensitive,u[f].cond,u[f].preciseDateFormat,u[f].fieldName,e[o]);else{for(y=0;y<c.length;y++)if(c[y].name===u[f].fieldName){a=c[y].type;break}h=!this._findMatch(e[o][u[f].fieldName],u[f].expr,"string",!l.caseSensitive,u[f].cond,u[f].preciseDateFormat,u[f].fieldName,e[o])}if(s=u[f].logic!==null&&u[f].logic!==undefined&&(u[f].logic.toLowerCase()==="or"||u[f].logic.toLowerCase()==="and")?u[f].logic:i,(s===undefined||s===null||n.type(s)!=="string")&&(s="and"),h&&s.toLowerCase()==="and")break;else if(!h&&s.toLowerCase()==="or")break}h||(this._filteredData[nt++]=e[o])}if(this._filter=!0,l.type==="local"&&p.type==="local"&&p.enabled&&p.expressions.length>0&&this.sort(p.expressions),d&&g.type==="local"&&g.enabled===!0)this.settings.paging.pageIndex=this.persistedPageIndex()>0?this.persistedPageIndex():0,this.pageSizeDirty(!0),this._page(),this.persistedPageIndex(null);else if(!this._vgbData||!this._vgbData.length)for(this.isGroupByApplied()&&this._generateGroupByData(this._filteredData,p.expressions),o=0;o<this._filteredData.length;o++)this._dataView[o]=this._filteredData[o];return this._populateTransformedData(this._filteredData),this}},clearLocalFilter:function(){var t,r,f,e=!1,o=this.settings.filtering,u=this.settings.paging,i=this.settings.sorting;if(this._clearGroupByData(),o.applyToAllData&&o.type==="local"?(r=this.data(),f=!0):this._cachedDataView&&this._cachedDataView.length>0?r=this._cachedDataView:(this._cachedDataView=n.merge([],this.dataView()),r=this._cachedDataView),this._dataView=[],this._filteredData=r,i.type==="local"&&i.enabled&&i.expressions.length>0&&(this.sort(i.expressions),e=!0),f&&u.type==="local"&&u.enabled===!0)this._filter=!0,this.settings.paging.pageIndex=0,this.pageSizeDirty(!0),this._page();else if(u.enabled===!1&&(this._filter=!0),!e)for(this.isGroupByApplied()&&this._generateGroupByData(this._filteredData,i.expressions),t=0;t<this._filteredData.length;t++)this._dataView[t]=this._filteredData[t];return this._populateTransformedData(this._filteredData),this},_parseFilterExprString:function(t){for(var o=n.trim(t).split(/(?=AND+)|(?=OR+)/i),e,r=[],f,u,s=!0,i=0;i<o.length;i++){if(r[i]={},f=n.trim(o[i]).split(/(?= \=+)|(?=<>+)|(?=>+)|(?=<+)|(?=LIKE+)|(?=NOT\WLIKE)+|(?=>\=+)|(?=<\=+)/),n.trim(o[i]).toLowerCase().startsWith("and")?r[i].logic="AND":n.trim(o[i]).toLowerCase().startsWith("or")&&(r[i].logic="OR"),i>0&&(r[i].logic==="AND"||r[i].logic==="OR")&&(r[i-1].logic=r[i].logic),r[i].fieldName=f[0].toLowerCase().startsWith("and")||f[0].toLowerCase().startsWith("or")?n.trim(f[0].split(" ")[1]):n.trim(f[0]),u=n.trim(f[1]).split(" "),o[i].indexOf("<>")!==-1&&(u[0]="<>",u[1]=f[2].replace(">","")),u.length>2){for(e=2;e<u.length;e++)u[1]=u[1]+" "+u[e];u=[u[0],u[1]]}for(r[i].expr=f[1].startsWith("NOT")?n.trim(f[2].replace("LIKE","")):u[1],e=0;e<this.schema().schema.fields.length;e++)if(this.schema().schema.fields[e].name===r[i].fieldName){s=!1;break}if(s)throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","fieldMismatch")+r[i].fieldName);if(s=!0,u[0]===">")r[i].cond="greaterThan";else if(u[0]==="LIKE")r[i].cond=r[i].expr.startsWith("%")&&r[i].expr.endsWith("%")?"contains":r[i].expr.endsWith("%")?"startsWith":r[i].expr.startsWith("%")?"endsWith":"equals",r[i].expr=r[i].expr.replace(/%/g,"");else if(u[0]==="NOT LIKE"||u[0]==="NOT")r[i].cond=r[i].expr.startsWith("%")&&r[i].expr.endsWith("%")?"doesNotContain":"doesNotEqual",r[i].expr=r[i].expr.replace(/%/g,"");else if(u[0]==="=")r[i].cond="equals";else if(u[0]==="<>")r[i].cond="doesNotEqual";else if(u[0]==="<")r[i].cond="lessThan";else if(u[0]==="<=")r[i].cond="lessThanOrEqualTo";else if(u[0]===">=")r[i].cond="greaterThanOrEqualTo";else throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","unrecognizedCondition")+t);}return r},_isFilteringExprNotReq:function(n){return n==="false"||n==="true"||n==="today"||n==="yesterday"||n==="thisMonth"||n==="lastMonth"||n==="nextMonth"||n==="thisYear"||n==="lastYear"||n==="nextYear"||n==="null"||n==="notNull"||n==="empty"||n==="notEmpty"},_findMatch:function(t,i,r,u,f,e,o,s){var c,a=this.settings.filtering.customConditions,l,h,v=this._isFilteringExprNotReq(f);if(t=this.getCellValue(o,s),n.type(t)==="function"&&(t=t()),a&&(l=a[f]||a[o+"_"+f])){if(h=l.filterFunc,n.type(h)==="function")l=h;else if(window[h]&&typeof window[h]=="function")l=window[h];else throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorUnexpectedCustomFilterFunction"));return l(t,i,r,u,e,o)}if(i===""&&!v)return!0;if(c=n.trim(i),r==="regexp"||r==="string"&&c.startsWith("/")&&c.endsWith("/"))return r==="regexp"?this._findRegExpMatch(t,i,!1):this._findRegExpMatch(t,c.substring(1,c.length-1),!0);if(n.type(t)==="date"&&(r===undefined||r===null)||r==="date"){try{i=this._parser.toDate(i)}catch(y){}return this._findDateMatch(t,i,f,e)}if(r==="time"){try{i=this._parser.toTime(i)}catch(y){}return this._findTimeMatch(t,i,f)}return n.type(t)==="boolean"&&(r===undefined||r===null)||r==="boolean"||r==="bool"?this._findBoolMatch(t,f):n.type(t)==="number"&&(r===undefined||r===null)||r==="number"?this._findNumericMatch(t,i,f):this._findStringMatch(t,i,u,f)},_findStringMatch:function(t,i,r,u){var f;if(f=t!==null&&t!==undefined?r?t.toString().toLowerCase():t||"":t,i!==null&&i!==undefined&&(i=r?i.toString().toLowerCase():i.toString()),u==="startsWith")return f!==null&&f!==undefined&&f.startsWith(i);if(u==="endsWith")return f!==null&&f!==undefined&&f.endsWith(i);if(u==="contains")return f!==null&&f!==undefined&&f.indexOf(i)!==-1;if(u==="doesNotContain")return f!==null&&f!==undefined&&f.indexOf(i)===-1;if(u==="equals")return f!==null&&f!==undefined&&f===i;if(u==="doesNotEqual")return f!==null&&f!==undefined&&f!==i;if(u==="null")return f===null;if(u==="notNull")return f!==null;if(u==="empty")return f===null||f===undefined||f.length===0;if(u==="notEmpty")return f===null||f===undefined||f.length!==0;throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorUnrecognizedFilterCondition")+u);},_findRegExpMatch:function(n,t,i){return i?new RegExp(t).test(n):n.match(t)},_findNumericMatch:function(t,i,r){if(n.type(i)!=="number"&&(i=this._parser.toNumber(i)),r==="equals")return t===i;if(r==="doesNotEqual")return t!==i;if(r==="greaterThan")return t>i;if(r==="lessThan")return t<i;if(r==="greaterThanOrEqualTo")return t>=i;if(r==="lessThanOrEqualTo")return t<=i;if(r==="null")return t===null;if(r==="notNull")return t!==null;if(r==="empty")return t===null||t===undefined||isNaN(t);if(r==="notEmpty")return t!==null&&t!==undefined&&!isNaN(t);throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorUnrecognizedFilterCondition")+r);},_findBoolMatch:function(t,i){if(i==="true")return t;if(i==="false")return!t;if(i==="null")return t===null;if(i==="notNull")return t!==null;if(i==="empty")return t===null||t===undefined;if(i==="notEmpty")return t!==null&&t!==undefined;throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorUnrecognizedFilterCondition")+i);},_getDateParts:function(t){if(!t||n.type(t)!=="date")return null;var i,r,u,f,e,o;return this.settings.enableUTCDates?(i=t.getUTCFullYear(),o=t.getUTCMonth(),r=t.getUTCDay(),u=t.getUTCDate(),e=t.getUTCHours(),f=t.getUTCMinutes()):(i=t.getFullYear(),o=t.getMonth(),r=t.getDay(),u=t.getDate(),e=t.getHours(),f=t.getMinutes()),{year:i,month:o,day:r,mdate:u,hours:e,mins:f}},_findDateMatch:function(t,i,r,u){var tt,p,w,f,it,b,k,d,o,g,nt,v,s,h,y,rt,ut,a,e,c,l;if(t!==null&&t!==undefined&&(c=this._getDateParts(t),tt=c.day,y=c.mdate,p=c.mins,w=c.hours,f=c.year,o=c.month),n.type(i)==="date"?(l=this._getDateParts(i),it=l.day,rt=l.mdate,b=l.mins,k=l.hours,d=l.year,g=l.month):i=new Date(i),v=new Date,a=new Date(v.getTime()),a.setDate(a.getDate()-1),ut=v.getDate(),s=v.getFullYear(),h=v.getMonth(),nt=tt===it&&p===b&&w===k&&f===d&&o===g,r==="equals")return nt;if(r==="doesNotEqual")return!nt;if(r==="before")return t<i;if(r==="after")return t>i;if(r==="today")return y===ut&&o===h&&f===s;if(r==="yesterday")return a.getDate()===y&&a.getMonth()===o&&a.getFullYear()===f;if(r==="thisMonth")return o===h&&f===s;if(r==="lastMonth")return h===0?o===11&&f===s-1:o===h-1&&f===s;if(r==="nextMonth")return h===11?o===0&&f===s+1:o===h+1&&f===s;if(r==="thisYear")return f===s;if(r==="lastYear")return f===s-1;if(r==="nextYear")return f===s+1;if(r==="on"||r==="notOn")return(e=f===d&&o===g&&y===rt,u&&(u.indexOf("m")>=0&&(e=e&&p===b),(u.indexOf("h")>=0||u.indexOf("H")>=0)&&(e=e&&w===k),u.indexOf("s")>=0&&(e=e&&t.getSeconds()===i.getSeconds()),u.indexOf("f")>=0&&(e=e&&t.getMilliseconds()===i.getMilliseconds())),r==="on")?e:!e;if(r==="null")return t===null;if(r==="notNull")return t!==null;if(r==="empty")return t===null||t===undefined;if(r==="notEmpty")return t!==null&&t!==undefined;throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorUnrecognizedFilterCondition")+r);},_findTimeMatch:function(t,i,r){var e,u,o,f,s,h,c;if(t!==null&&t!==undefined&&(h=this._getDateParts(t),u=h.hours,e=h.mins),n.type(i)==="date"?(c=this._getDateParts(i),f=c.hours,o=c.mins):i=new Date(i),s=e===o&&u===f,r==="at")return s;if(r==="notAt")return!s;if(r==="before")return u<f||u===f&&e<o;if(r==="after")return u>f||u===f&&e>o;if(r==="atBefore")return u<f||u===f&&e<=o;if(r==="atAfter")return u>f||u===f&&e>=o;if(r==="null")return t===null;if(r==="notNull")return t!==null;if(r==="empty")return t===null||t===undefined;if(r==="notEmpty")return t!==null&&t!==undefined;throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorUnrecognizedFilterCondition")+r);},totalRecordsCount:function(t,i,r,u){var f,o,e;if(u!==undefined&&u!==null)if(i){if(f=r,f.hasOwnProperty(i))f=f[i];else for(o=i.split("."),e=0;e<o.length;e++)f=f[o[e]];r&&f!==undefined&&f!==null?(this._recCount=n.type(f)==="number"?f:parseInt(f,10),this.hasTotalRecordsCount(!0)):this.hasTotalRecordsCount(!1)}else this.hasTotalRecordsCount(!1);else t!==undefined&&t!==null&&(this._recCount=t);return this._recCount},hasTotalRecordsCount:function(n){if(n===undefined||n===null)return this._hasCount;this._hasCount=n},metadata:function(n){return n===null||n===undefined||n===""||this._metadata===null||this._metadata===undefined?this._metadata:this._metadata[n]},totalLocalRecordsCount:function(){return this.isGroupByApplied()&&this._vgbData&&this.settings.groupby.pagingMode==="allRecords"?this._vgbData.length:this._filter?this._dataView.length:this._data.length},pageCount:function(){var t,n;return n=this.isGroupByApplied()&&this._vgbData&&this.settings.groupby.pagingMode==="allRecords"?this._vgbData.length:this._filter?this.totalRecordsCount()>0?this.totalRecordsCount():this._filteredData.length:this.totalRecordsCount()>0?this.totalRecordsCount():this._data.length,t=Math.ceil(n/this.settings.paging.pageSize),t===0?1:t},pageIndex:function(n){return n===undefined||n===null?this.settings.paging.pageIndex===undefined?0:this.settings.paging.pageIndex:(this.settings.paging.pageIndex=parseInt(n,10),this._cachedDataView=null,this.settings.paging.type==="local"?(this._page(this.settings.paging.appendPage),this._invokeCallback()):this.dataBind(),this)},persistedPageIndex:function(n){if(n===undefined)return this.settings.paging._persistedPageIndex;this.settings.paging._persistedPageIndex=n},prevPage:function(){return this.pageIndex(this.pageIndex()===0?0:this.pageIndex()-1),this},nextPage:function(){return this.pageIndex()>=this.pageCount()-1?this:(this.pageIndex(this.pageIndex()+1),this)},pageSize:function(n){return n===undefined||n===null?this.settings.paging.pageSize:(this.settings.paging.pageSize=parseInt(n,10),this.settings.paging.appendPage&&(this.settings.paging.pageIndex=0,this._cachedDataView=null),this.settings.paging.type==="local"?(this._page(),this._invokeCallback()):this.dataBind(),this)},pageSizeDirty:function(n){if(n===undefined||n===null)return this._dirty;this._dirty=n},recordsForPage:function(n){var u=[],t,i,f,r,e=0;for(i=this.pageSize(),t=n*i,f=t+i>=this._data.length?this._data.length:t+i,r=t;r<f;r++)u[e++]=this._data[r];return u},tableToObject:function(t){try{var u=n(t).children("tbody").children(),e,f,i,r;for(e=u.length>0?u[0].cells.length:0,f=[],i=0;i<u.length;i++)for(f[i]=[],r=0;r<e;r++)f[i][r]=u[i].cells[r].innerHTML;return f}catch(o){throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorParsingHtmlTableNoSchema")+o.message);}},_validateTable:function(t){if(t.length===0)throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorTableWithIdNotFound")+this.dataSource());else return t[0]},stringToJSONObject:function(t){var i={};try{i=JSON.parse(t)}catch(r){throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorParsingJsonNoSchema")+r.message);}return i},stringToXmlObject:function(t){var i,r;try{window.ActiveXObject?(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t)):(r=new DOMParser,i=r.parseFromString(t,"text/xml"))}catch(u){throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorParsingXmlNoSchema")+u.message);}return i},groupByData:function(){return this._gbData},visibleGroupByData:function(){return this._vgbData},groupByDataView:function(){return this._gbDataView},_groupedRecordsByExpr:function(n,t,i,r){var u,s=[],h,e,f,l=this._hasMapper,c=i.compareFunc,o=i.fieldName,v=n.length,a=this._getFieldTypeFromSchema(i.fieldName);for(r=r||{},c||(c=function(n,t){return n===t}),t=t||0,s.push(n[t]),e=l?this.getCellValue(o,n[t]):n[t][o],r.val=e&&e.getTime?this._getDateAsNumber(e,a):e,t++,u=t;u<v;u++)if(f=l?this.getCellValue(o,n[u]):n[u][o],f&&f.getTime&&(f=this._getDateAsNumber(f,a)),h=c(f,r.val,{fieldName:o,recordX:n[t],recordY:n[u]}),h===0||h===!0)s.push(n[u]);else break;return s},toggleGroupByRecord:function(t,i){var h=this._gbData,u,v=h.length,c=[],o,r,s,f,l=this.settings.paging,a,e=this.settings.groupby||{};for(this._gbCollapsed=this._gbCollapsed||{},this._gbCollapsed[t]=!!i,u=0;u<v;u++){if(r=h[u],f=r[e.groupRecordKey],a=r[e.groupSummaryRecordKey],f&&r.id===t&&(r.collapsed=!!i),s)if((f||a)&&r.level<=o)s=!1;else continue;f&&r.collapsed?(s=!0,o=r.level):o=null,c.push(r)}this._vgbData=c,this._gbDataView=this._vgbData,l.enabled&&l.type==="local"&&this._page(),e.recordToggledCallback&&n.ig.util.invokeCallback(e.recordToggledCallback,[t,i])},isGroupByRecordCollapsed:function(n){var i=typeof n=="string"||!n?n:n.id,t;return this._gbCollapsed=this._gbCollapsed||{},t=this._gbCollapsed[i],t===undefined?this.settings.groupby.defaultCollapseState:t},_resetGroupByCollapseStates:function(){this._gbCollapsed={}},_processGroupsRecursive:function(n,t,i,r,u){var o,s,l,v=n.length,c,h,e,f,y=this.settings.groupby.groupRecordKey,a=this.settings.groupby.summaries;for(i=i||0,u=u||"",i&&this._gbData||(this._gbData=[],this._vgbData=[]),o=0;o<v;o++){if(h=t[i],f={gbExpr:h,level:i,len:1,recs:[],val:undefined},f[y]=!0,this._gbData.push(f),r||this._vgbData.push(f),e=this._groupedRecordsByExpr(n,o,h,f),f.fieldName=h.fieldName,c=e.length,l=f.val?String(f.val).getHashCode():"",f.id=u+h.fieldName+":"+l,f.collapsed=this.isGroupByRecordCollapsed(f),i+1<t.length)this._processGroupsRecursive(e,t,i+1,f.collapsed||r,f.id+":");else for(s=0;s<c;s++)this._gbData.push(e[s]),f.collapsed||r||this._vgbData.push(e[s]);f.recs=e,f.len=c,a&&a.length>0&&this._calculateGroupBySummaries(f,r),o+=c-1}},_calculateGroupBySummaries:function(t,i){var h=t.recs,u={summaries:{},level:t.level+1,groupValue:t.val,id:t.id},c,f,e,o,l=this.settings.groupby.summaries,a,r,v,s,y,p=this;for(u[this.settings.groupby.groupSummaryRecordKey]=!0,y=function(n,t,i){return i==="time"?n.map(function(n){return p._resetDateObjectToCurrentDate(n[t])}):n.map(function(n){return n[t]})},f=0;f<l.length;f++)for(r=l[f],s=this._getFieldTypeFromSchema(r.field),c=y(h,r.field,s),e=0;e<r.summaryFunctions.length;e++)o=r.summaryFunctions[e],a=typeof o=="string"?o:"custom",v=n.ig.calcSummaries(a,c,o,s,h),u.summaries[r.field]||(u.summaries[r.field]=[]),u.summaries[r.field].push(v);this._addSummaryRecToArray(u,t,this._gbData),t.collapsed||i||this._addSummaryRecToArray(u,t,this._vgbData)},_addSummaryRecToArray:function(t,i,r){var u;(this.settings.groupby.summariesPosition==="bottom"||this.settings.groupby.summariesPosition==="both")&&(t.position="bottom",r.push(n.extend({},t))),(this.settings.groupby.summariesPosition==="top"||this.settings.groupby.summariesPosition==="both")&&(u=r.indexOf(i),t.position="top",r.splice(u+1,0,n.extend({},t)))},_generateGroupByData:function(t,i,r){var u,f=[],e=this.settings.groupby||{};if(t=t||this._data,i=this._findSortingExpressionsForLayout(i||[],this.settings.key),this._gbData=[],this._vgbData=[],this._gbDataView=[],this._gbCollapsed=r||this._gbCollapsed,n.type(i)!=="array"||!i.length)return t;for(u=0;u<i.length;u++)i[u].isGroupBy&&f.push(i[u]);return(i=f,!i.length)?t:(this._processGroupsRecursive(t,i,0,!1,""),this._gbDataView=this._vgbData,e.dataGeneratedCallback&&n.ig.util.invokeCallback(e.dataGeneratedCallback),this.groupByData())},_clearGroupByData:function(){this._gbData=[],this._vgbData=[],this._gbDataView=[]},isGroupByApplied:function(n){return n=this._findSortingExpressionsForLayout(n||this.settings.sorting.expressions,this.settings.key),!!(n&&n.length&&n[0].isGroupBy)},_findSortingExpressionsForLayout:function(n,t){return(n||[]).filter(function(n){return!n.layout&&!t||n.layout===t})}}),n.ig.TypeParser=n.ig.TypeParser||Class.extend({toStr:function(n){return this.isNullOrUndefined(n)?"":n+this.empty()},toDate:function(t){if(this.isNullOrUndefined(t)||t===""||n.type(t)==="function")return null;if(n.type(t)==="date")return t;var i;return i=new Date(t),isNaN(i)&&(i=n.ig.util.dateFromISO(t)),i},toTime:function(t){if(this.isNullOrUndefined(t)||t===""||n.type(t)==="function")return null;if(n.type(t)==="date")return t;var r=new Date,i=new Date(r.toDateString()+" "+t);return isNaN(i)?null:i},toNumber:function(t){return this.isNullOrUndefined(t)||n.type(t)==="function"?null:t*this.num()},toBool:function(t){var i=n.type(t);return i==="boolean"?t:this.isNullOrUndefined(t)||i==="function"?!1:t==="1"||t===1||i==="string"&&t.toLowerCase()==="true"?!0:!1},isNullOrUndefined:function(n){return n===null||n===undefined},empty:function(){return""},num:function(){return 1}}),n.ig.DataSchema=n.ig.DataSchema||Class.extend({schema:{fields:[{name:undefined,type:undefined,xpath:undefined,mapper:undefined,formatter:undefined}],searchField:null,outputResultsName:null,childDataProperty:null},init:function(t,i){n.ig.DataSchema.prototype.schema.fields=[],i&&(this.schema=n.extend(!0,{},n.ig.DataSchema.prototype.schema,i)),this._type=t,this._parser=new n.ig.TypeParser,this._parser._serverOffset=0},transform:function(n){var t=[];switch(this._type){case"array":t=this._arrays(n);break;case"json":t=this._json(n);break;case"xml":t=this._xml(n);break;case"htmlTableDom":t=this._table(n);break;case"htmlListDom":t=this._list(n);break;case"htmlSelectDom":t=this._select(n);break;case"singleRow":t=this._row(n);break;default:throw new Error("unknown data source type: "+this._type);}return t},_setResKey:function(n,t){return this.isEmpty(n)?t:t[n]=[]},_convertType:function(n,t){return n==="string"?this._parser.toStr(t):n==="date"||n==="time"?this._parser.toDate(t):n==="number"?this._parser.toNumber(t):n==="boolean"||n==="bool"?this._parser.toBool(t):t},_val:function(n,t,i,r,u){var f=n.type,e=null;this.isEmpty(f)?this.isEmpty(n.name)?i[r][e]=u?u[r][e]:t:i[r][n.name]=u?u[r][n.name]:t:this.isEmpty(n.name)?i[r][e]=this._convertType(f,t):(i[r][n.name]=this._convertType(f,t),(f==="date"||f==="time")&&this._addOffset(i[r],n.name,r)),n.formatter&&(this._formattedRecords=this._formattedRecords||[],this._formattedRecords[r]=this._formattedRecords[r]||{},this._formattedRecords[r][n.name]=n.formatter(i[r][n.name],i[r],n))},_addOffset:function(n,t,i){var r=this._pk?n[this._pk]:i;this._serverOffsets&&this._serverOffsets[r]&&!this.isEmpty(this._serverOffsets[r][t])&&(n["igoffset_"+t]=this._serverOffsets[r][t])},isEmpty:function(n){return n===undefined||n===null||n===""},_row:function(n,t){for(var r,o,e,h=this.schema,s=h.fields,c=s.length,i,u={},f=0;f<c;f++)o=s[f],i=o.name,e=n[i],r=o.type,this.isEmpty(r)?this.isEmpty(i)?u[f]=e:u[i]=e:this.isEmpty(i)?u[f]=this._convertType(r,e):(u[i]=this._convertType(r,e),(r==="date"||r==="time")&&this._addOffset(u,i,t));return u},_arrays:function(t){var r,u,f,o,s=this.schema.outputResultsName,e={},i;i=this._setResKey(s,e),this.isObjEmpty(i)&&n.type(i)!=="array"&&(i=[],e=i);try{for(t.length>0&&(o=n.type(t[0])==="array"),r=0;r<t.length;r++)if(t[r]!==undefined)for(i.push({}),u=0;u<this.schema.fields.length;u++)f=o?t[r][u]:t[r][this.schema.fields[u].name],this._val(this.schema.fields[u],f,i,i.length-1)}catch(h){throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorParsingArrays")+h.message);}return e},_getDataBySearchField:function(t){var f,u,i,r;if(!this.isEmpty(this.schema.searchField)){for(f=this.schema.searchField.split(/[\[.\]]/),u=0;u<f.length;u++)if((i=f[u],i.length!==0)&&(i=/^(0|[1-9]\d*)$/.test(i)?parseInt(i,10):i.replace(/^('|")|('|")$/g,""),r=r?r[i]:t[i],r===undefined||r===null))break;r||n.type(t)!=="array"||(r=t)}return r},_processMetadata:function(n){n.Metadata&&n.Metadata.timezoneOffset!==undefined&&!isNaN(n.Metadata.timezoneOffset)?(this._serverOffset=n.Metadata.timezoneOffset,this._parser._serverOffset=this._serverOffset,n.Metadata.timezoneOffsets&&(this._serverOffsets=n.Metadata.timezoneOffsets,this._parser._serverOffsets=n.Metadata.timezoneOffsets)):this._parser._serverOffset=0},_json:function(t){var u,r,i,o=this.schema.outputResultsName,e={},f;f=this._setResKey(o,e),this.isObjEmpty(f)&&(f=[],e=f);try{if(this._processMetadata(t),i=this._getDataBySearchField(t),(i===undefined||this.isEmpty(this.schema.searchField))&&(i=t),i.length||n.type(i)!=="object"||(i=[i]),i&&i.length&&i.length>0)for(u=0;u<i.length;u++){if(f[u]={},this._pk&&this._pk!=="ig_pk"){for(r=0;r<this.schema.fields.length;r++)if(this.schema.fields[r].name===this._pk)break;if(r<this.schema.fields.length){if(i[u][this._pk]===undefined)throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorSchemaMismatch")+this._pk);this._val(this.schema.fields[r],i[u][this.schema.fields[r].name],f,u,i)}}for(r=0;r<this.schema.fields.length;r++)this.schema.fields[r].name!=="ig_pk"&&this.schema.fields[r].name!==this._pk&&this._val(this.schema.fields[r],i[u][this.schema.fields[r].name],f,u,i)}}catch(s){throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorParsingJson")+s.message);}return e},_xml:function(t,i){var r,u,e,o,s,nt=this.schema.outputResultsName,a={},f,v,y,c,p,h,k,d,w,b,l=0,g;w=window.ActiveXObject,f=this._setResKey(nt,a),this.isObjEmpty(f)&&(f=[],a=f);try{if(this.isEmpty(this.schema.searchField)?e=t:(v=this._xmlHasNamespaces(t),v?(y=this.schema.searchField.startsWith("//")?this.schema.searchField.substring(2,this.schema.searchField.length):this.schema.searchField,e=this._findXmlRecordsRoot(t,y)):window.ActiveXObject===undefined?e=!i||i.length<=0?t.evaluate(this.schema.searchField,t,null,XPathResult.ANY_TYPE,null):t.evaluate(i,t,null,XPathResult.ANY_TYPE,null):(t instanceof ActiveXObject||(g=(new XMLSerializer).serializeToString(t),t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(g)),e=t.selectNodes(this.schema.searchField))),v)for(k=e.childNodes.length,l=0,r=0;r<k;r++){for(p=e.childNodes[r],f.push({}),u=0;u<this.schema.fields.length;u++)for(d=p.childNodes.length,c=0;c<d;c++)if(h=p.childNodes[c],this.schema.fields[u].name===(w===undefined?h.localName:h.baseName)){this._val(this.schema.fields[u],w===undefined?h.textContent:h.text,f,l);break}n.isEmptyObject(f[l])?f.pop():l++}else if(e&&window.ActiveXObject!==undefined)for(r=0;r<e.length;r++)for(s=e.item(r),f[r]={},u=0;u<this.schema.fields.length;u++)o=s.selectSingleNode(this.schema.fields[u].xpath),o?o.nodeType===1&&this.schema.childDataProperty&&o.nodeName===this.schema.childDataProperty?(this.schema.searchField=this.schema.childDataProperty,f[r][o.nodeName]=this._xml(s)):this._val(this.schema.fields[u],o.text,f,r):f[r][this.schema.fields[u].name]="";else if(e)for(r=0,s=e.iterateNext();s;){for(f[r]={},u=0;u<this.schema.fields.length;u++)o=t.evaluate(this.schema.fields[u].xpath,s,null,XPathResult.ANY_TYPE,null).iterateNext(),o?o.nodeType===1&&this.schema.childDataProperty&&(o.nodeName===this.schema.childDataProperty||o.nodeName===this.schema.seachField)?(b=!i||i.length<=0?this.schema.searchField+"["+(r+1)+"]/"+this.schema.childDataProperty:i+"["+(r+1)+"]/"+this.schema.childDataProperty,f[r][this.schema.childDataProperty]=this._xml(t,b)):this._val(this.schema.fields[u],o.textContent,f,r):f[r][this.schema.fields[u].name]="";r++,s=e.iterateNext()}}catch(tt){throw new Error(n.ig.util.getLocaleValue("DataSourceLocale",".errorParsingXml")+tt.message);}return a},_findXmlRecordsRoot:function(n,t){var i,f,r,e,u;if(e=window.ActiveXObject,(e===undefined?n.localName:n.baseName)===t)u=n.parentNode;else if(n&&n.childNodes&&n.childNodes.length>0)for(f=n.childNodes.length,i=0;i<f;i++)r=n.childNodes[i],r.childNodes&&r.childNodes.length>0&&(u=this._findXmlRecordsRoot(r,t));return u},_xmlHasNamespaces:function(n){var r,t,i,f,u;if(n.childNodes&&n.childNodes.length&&n.childNodes.length>0){for(f=n.childNodes.length,r=0;r<f;r++){if(i=n.childNodes[r],!i)return!1;if(t=i.namespaceURI,t!==""&&t!==undefined&&t!==null)return!0}if(i&&i.childNodes&&i.childNodes.length>0)return(u=i.childNodes[0],!u)?!1:(t=u.namespaceURI,t!==""&&t!==undefined&&t!==null)}return!1},_table:function(t){var i,u,s,f,e,h=this.schema.outputResultsName,o={},r;f=n(t).find("tbody")[0],r=this._setResKey(h,o),this.isObjEmpty(r)&&(r=[],o=r);try{if(f&&f.nodeName&&f.nodeName==="TBODY")for(e=f.rows,i=0;i<e.length;i++)for(s=e[i],r[i]={},u=0;u<this.schema.fields.length;u++)this._val(this.schema.fields[u],s.cells[u].innerHTML,r,i);else throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorExpectedTbodyParameter"));}catch(c){throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorParsingHtmlTable")+c.message);}return o},_list:function(t){var u,o,f,y,e,p,i=this,a=n(t),r,s,h,c,l,v="data-";return n.mobile&&n.mobile.ns&&(v+=n.mobile.ns),u=[],a&&(a.is("ul")||a.is("ol"))&&a.children().length>0&&a.children("li:not(["+v+'role="itemTemplate"], ['+v+'role="detailsTemplate"], ['+v+'role="dividerTemplate"])').each(function(t){if(e=n(this),o=e.children("img"),u[t]={},i.schema.hasOwnProperty("primaryKey")&&i._val(i.schema.primaryKey,e.index(),u,t),i.schema.hasOwnProperty("isDivider")&&i._val(i.schema.isDivider,e.attr(v+"role")==="list-divider",u,t),o.length>0&&o.attr("src")&&i.schema.hasOwnProperty("imageUrl")&&i._val(i.schema.imageUrl,o.attr("src"),u,t),f=e.children("a"),f.length>0)r=f.html(),f.attr("href")&&i.schema.hasOwnProperty("navigateUrl")&&i._val(i.schema.navigateUrl,f.attr("href"),u,t),f.attr("target")&&i.schema.hasOwnProperty("target")&&i._val(i.schema.target,f.attr("target"),u,t),o.length===0&&(o=f.children("img"),o.length>0&&o.each(function(){r=this.outerHTML?r.replace(this.outerHTML,""):r.replace(n("<div>").append(this).html(),"")}),o.length>0&&o.attr("src")&&i.schema.hasOwnProperty("imageUrl")&&i._val(i.schema.imageUrl,o.attr("src"),u,t));else for(r="",s=0;s<e[0].childNodes.length;s++)e[0].childNodes[s].nodeType===3&&e[0].childNodes[s].data&&(r+=n.trim(e[0].childNodes[s].data));i.schema.hasOwnProperty("header")&&(h=e.children("h1, h2, h3, h4, h5, h6"),h.length===0&&f.length>0&&(h=f.children("h1, h2, h3, h4, h5, h6")),h.length>0&&(i._val(i.schema.header,h.text(),u,t),h.each(function(){r=this.outerHTML?r.replace(this.outerHTML,""):r.replace(n("<div>").append(this).html(),"")}))),i.schema.hasOwnProperty("description")&&(c=e.children("p, dd"),c.length===0&&f.length>0&&(c=f.children("p, dd")),c.length>0&&(i._val(i.schema.description,c.text(),u,t),c.each(function(){r=this.outerHTML?r.replace(this.outerHTML,""):r.replace(n("<div>").append(this).html(),"")}))),i.schema.hasOwnProperty("count")&&(l=e.children("span.ui-li-count"),l.length===0&&f.length>0&&(l=f.children("span.ui-li-count")),l.length>0&&(i._val(i.schema.count,parseInt(l.text(),10),u,t),l.each(function(){r=this.outerHTML?r.replace(this.outerHTML,""):r.replace(n("<div>").append(this).html(),"")}))),i.schema.hasOwnProperty("text")&&i._val(i.schema.text,r,u,t),y=e.attr("id"),y&&i.schema.hasOwnProperty("value")&&i._val(i.schema.value,y,u,t),p=e.children("ul, ol"),p.length>0&&i.schema.hasOwnProperty("childData")&&i.schema.childData.hasOwnProperty("name")&&(u[t][i.schema.childData.name]=i._list(p))}),u},_select:function(t){var i=[],r=this;return n(t).children().each(function(t){var u=n(this);i[t]={},u.is("optgroup")?i[t].Group={groupName:this.label,groupItems:r._select(this)}:(r._val(r.schema.fields[0],u.val(),i,t),r._val(r.schema.fields[1],u.text(),i,t))}),i},isObjEmpty:function(n){var t;for(t in n)if(n.hasOwnProperty(t))return!1;return!0},fields:function(){return this.schema.fields}}),n.ig.RemoteDataSource=n.ig.RemoteDataSource||n.ig.DataSource.extend({init:function(n){return n||(n={}),n.type="remoteUrl",this._super(n),this}}),n.ig.JSONDataSource=n.ig.JSONDataSource||n.ig.DataSource.extend({settings:{type:"json"},init:function(n){return n||(n={}),n.type="json",this._super(n),this}}),n.ig.RESTDataSource=n.ig.RESTDataSource||n.ig.DataSource.extend({settings:{restSettings:{create:{url:null,template:null,batch:!1},update:{url:null,template:null,batch:!1},remove:{url:null,template:null,batch:!1},encodeRemoveInRequestUri:!0,contentSerializer:null,contentType:"application/json; charset=utf-8"}},init:function(t){return t?this._defaultTypeOverridden=t.restSettings&&t.restSettings.contentType&&t.restSettings.contentType!==this.settings.restSettings.contentType:t={},t.restSettings=n.extend(!0,this.settings.restSettings,t.restSettings),this._createHttpHandlers(),this._createLogVerbMapping(),this._setLazyUrls(),this._super(t),this},saveChanges:function(n,t){var r,u,i={POST:[],PUT:[],DELETE:[],CELL:[]},f;for(this._asyncCallbackCount=0,this._isc=n&&typeof n=="function"?n:null,this._iec=t&&typeof t=="function"?t:null,f=0;f<this._accumulatedTransactionLog.length;f++)r=this._accumulatedTransactionLog[f],u=this._logVerbMap[r.type],r.type==="cell"?i.CELL.push(r):this._isBatch(u)===!0?i[u].push(r):(this._asyncCallbackCount++,this._saveSingleChange(u,r));i.CELL.length>0&&this._saveAllCellChanges(i.CELL),i.POST.length>0&&(this._asyncCallbackCount++,this._saveAllCreateChanges(i.POST)),i.PUT.length>0&&(this._asyncCallbackCount++,this._saveAllUpdateChanges(i.PUT)),i.DELETE.length>0&&(this._asyncCallbackCount++,this._saveAllDeleteChanges(i.DELETE))},_saveSingleChange:function(n,t){var i,r;i=n==="POST"||n==="PUT"?t.row:null,r=this._getProperUrl(n,!1,n==="DELETE"||n==="PUT"?t.rowId:undefined),this._call(n,r,i)},_saveAllCellChanges:function(t){for(var u={},f=[],i,r=0;r<t.length;r++)i=t[r],u[i.rowId]===undefined&&(u[i.rowId]={},u[i.rowId].row=this.findRecordByKey(i.rowId)),u[i.rowId].row[i.col]=i.value;if(n.each(u,function(n,t){t.rowId=n,f.push(t)}),this._isBatch("PUT")===!0)this._asyncCallbackCount++,this._saveAllUpdateChanges(f);else for(r=0;r<f.length;r++)this._asyncCallbackCount++,this._saveSingleChange("PUT",f[r])},_saveAllCreateChanges:function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t].row);this._call("POST",this._getProperUrl("POST",!0),i)},_saveAllUpdateChanges:function(n){for(var i=[],r="?",t=0;t<n.length;t++)i.push(n[t].row),r+="index="+n[t].rowId+(t!==n.length-1?"&":"");this._call("PUT",this._getProperUrl("PUT",!0)+r,i)},_saveAllDeleteChanges:function(n){var i="",t,r=null;if(this.settings.restSettings.encodeRemoveInRequestUri===!0)for(i="?",t=0;t<n.length;t++)i+="index="+n[t].rowId+(t!==n.length-1?"&":"");else for(r=[],t=0;t<n.length;t++)r.push(n[t].rowId);this._call("DELETE",this._getProperUrl("DELETE",!0)+i,r)},_createHttpHandlers:function(){this._okHandler=n.proxy(this._responseOk,this),this._createdHandler=n.proxy(this._responseCreated,this),this._noContentHandler=n.proxy(this._responseNoContent,this),this._httpHandlers={POST:{201:this._createdHandler},PUT:{200:this._okHandler,201:this._createdHandler,204:this._noContentHandler},DELETE:{200:this._okHandler,204:this._noContentHandler}}},_createLogVerbMapping:function(){this._logVerbMap={newrow:"POST",row:"PUT",deleterow:"DELETE",cell:"PUT"}},_setLazyUrls:function(){var t=this.settings.restSettings,i=null,r=null;n.each(t,function(n,t){t&&(t.url&&(i=t.url),t.template&&(r=t.template))}),n.each(t,function(n,t){t&&(t.url!==undefined&&t.url===null&&(t.url=i),t.template!==undefined&&t.template===null&&(t.template=r))}),this._putUrl=t.update.url,this._putTmpl=t.update.template,this._postUrl=t.create.url,this._postTmpl=t.create.template,this._deleteUrl=t.remove.url,this._deleteTmpl=t.remove.template},_getProperUrl:function(n,t,i){var u=n.toLowerCase(),r=this["_"+u+"Url"];return r&&r.length>0&&r.substr(r.length-1)!=="/"&&(r+="/"),t&&t!==!1||(this["_"+u+"Tmpl"]!==null?(r=this["_"+u+"Tmpl"],i&&(r=r.replace("${id}",i))):i&&(r+=i)),r},_responseOk:function(n,t,i){this._asyncCallbackCount--,this._asyncCallbackCount===0&&this._saveChangesSuccess({Success:t==="success"},t,i)},_responseCreated:function(n,t,i){this._asyncCallbackCount--,this._asyncCallbackCount===0&&this._saveChangesSuccess({Success:t==="success"},t,i)},_responseNoContent:function(n,t,i){this._asyncCallbackCount--,this._asyncCallbackCount===0&&this._saveChangesSuccess({Success:t==="success"||t==="nocontent"},t,i)},_isBatch:function(n){switch(n){case"POST":return this.settings.restSettings.create.batch;case"PUT":return this.settings.restSettings.update.batch;case"DELETE":return this.settings.restSettings.remove.batch;default:return!1}},_call:function(t,i,r){var e,o=this.settings.restSettings.contentType,u=this.settings.restSettings.contentSerializer,f=this;u!==null&&typeof u=="string"&&(u=window[u]),r!==null?e=u!==null?u(r):JSON.stringify(r):(this._defaultTypeOverridden||(o="text/plain"),e=""),this._ajaxRequest=n.ajax({type:t,url:i,data:e,statusCode:this._httpHandlers[t],contentType:o,cache:!1,success:function(n,t,i){f._isc&&f._isc(n,t,i)},error:function(n,t,i){f._saveChangesError(n,t,i),f._iec&&f._iec(n,t,i)},processData:!0})}}),n.ig.JSONPDataSource=n.ig.JSONPDataSource||n.ig.DataSource.extend({settings:{jsonp:null,jsonpCallback:null,type:"json"},init:function(n){return n||(n={}),n.responseDataType="jsonp",this._super(n),this}}),n.ig.XmlDataSource=n.ig.XmlDataSource||n.ig.DataSource.extend({init:function(n){return n||(n={}),n.type="xml",this._super(n),this}}),n.ig.FunctionDataSource=n.ig.FunctionDataSource||n.ig.DataSource.extend({settings:{type:"function"},init:function(n){return n||(n={}),n.type="function",this._super(n),this}}),n.ig.HtmlTableDataSource=n.ig.HtmlTableDataSource||n.ig.DataSource.extend({settings:{type:"htmlTableDom"},init:function(n){return n||(n={}),n.type="htmlTableDom",this._super(n),this}}),n.ig.ArrayDataSource=n.ig.ArrayDataSource||n.ig.DataSource.extend({init:function(n){return n||(n={}),n.type="array",this._super(n),this}}),n.ig.MashupDataSource=n.ig.MashupDataSource||n.ig.DataSource.extend({mashupSettings:{ignorePartialRecords:!1,dataSource:[]},init:function(t){return this._super(t),t&&(this.settings=n.extend(!0,{},n.ig.DataSource.prototype.settings,t),this.settings=n.extend(!0,{},n.ig.MashupDataSource.prototype.mashupSettings,this.settings)),this._sources=[],this._dataBindingComplete=!1,this._sourcesStatus=[],this._hashedDataViews=[],this},_checkDataBindingComplete:function(t,i,r){var u,f,v,w=!0,b=!1,c=0,o=[],y=[],h,k=0,e,p,s,l,a,d;for(this._dataBindingComplete=!0,u=0;u<this._sources.length;u++)this._sources[u]===r&&(this._sourcesStatus[u]=1),this._sourcesStatus[u]===0&&(this._dataBindingComplete=!1);if(this._dataBindingComplete){for(u=0;u<this._sources.length;u++)if(this._sources[u].settings.primaryKey===""||this._sources[u].settings.primaryKey===null||this._sources[u].settings.primaryKey===undefined){w=!1;break}for(u=0;u<this._sources.length;u++)if(this._sources[u].settings.foreignKey!==""&&this._sources[u].settings.foreignKey!==null&&this._sources[u].settings.foreignKey!==undefined){b=!0;break}for(c=this._sources[0].dataView().length,u=0;u<this._sources.length;u++)c=this.settings.ignorePartialRecords?this._sources[u].dataView().length<c?this._sources[u].dataView().length:c:this._sources[u].dataView().length>c?this._sources[u].dataView().length:c;if(w&&!b){for(u=0;u<this._sources.length;u++)for(this._hashedDataViews[u]={},f=0;f<this._sources[u].dataView().length;f++)this._hashedDataViews[u][this._sources[u].dataView()[f][this._sources[u].settings.primaryKey]]=this._sources[u].dataView()[f];for(s={},f=0,u=0;u<this._hashedDataViews.length;u++)for(e in this._hashedDataViews[u])this._hashedDataViews[u].hasOwnProperty(e)&&(s.hasOwnProperty(e)?(o[s[e]]=n.extend(!0,{},o[s[e]],this._hashedDataViews[u][e]),y[s[e]]++):(o.push({}),y.push(1),o[f]=n.extend(!0,{},o[f],this._hashedDataViews[u][e]),s[e]=f,f++));if(this.settings.ignorePartialRecords)for(u=y.length-1;u>=0;u--)y[u]<this._sources.length&&o.splice(u,1)}else if(b&&w){for(u=0;u<this._sources.length;u++)for(this._hashedDataViews[u]={},f=0;f<this._sources[u].dataView().length;f++)this._hashedDataViews[u][this._sources[u].dataView()[f][this._sources[u].settings.primaryKey]]=this._sources[u].dataView()[f];for(s=[{}],l=[{}],u=0;u<this._hashedDataViews.length;u++){f=0;for(e in this._hashedDataViews[0])this._hashedDataViews[0].hasOwnProperty(e)&&(s[u]||s.push({}),s[u].hasOwnProperty(e)||(s[u][e]=f,f++,this._sources[u+1]&&this._sources[u+1].settings.foreignKey&&(l[u]||l.push({}),l[u][e]=this._hashedDataViews[0][e][this._sources[u+1].settings.foreignKey])))}for(a=n.extend(!0,{},o,this._hashedDataViews[0]),u=0;u<this._hashedDataViews.length;u++)this._sources[u].settings.foreignKey!==null&&this._sources[u].settings.foreignKey!==undefined&&(a=this._mergeSources(this._hashedDataViews[u],this._sources[u].settings.foreignKey,l[u-1],a));f=0;for(d in a)o[f]=a[d],f++}else for(u=0;u<c;u++)for(o[u]={},k=0,f=0;f<this._sources.length;f++)if(h=this._sources[f],h.dataView()[0].length)for(v=0;v<h.dataView()[0].length;v++)o[u][k++]=u>=h.dataView().length?"":h.dataView()[u][v];else for(p in h.dataView()[u])h.dataView()[u].hasOwnProperty(p)&&(o[u][p]=u>=h.dataView().length?"":h.dataView()[u][p]);this.settings.dataSource=o,this.settings.type="array",this._runtimeType=this.analyzeDataSource(),this.dataBind()}},_mergeSources:function(t,i,r,u){var o={},h,f,c,s,e;for(f in u)if(Array.isArray(u[f][i])){o={},h=u[f][i];for(c in h){s=t[h[c]];for(e in s)e!==i&&(o.hasOwnProperty(e)?o[e].push(s[e]):o[e]=[s[e]])}u[f]=n.extend(!0,{},u[f],o)}else u[f]=n.extend(!0,{},u[f],t[r[f]]);return u},setCellValue:function(t,i,r,u){var e=this.findRecordByKey(t,this._data),h,o,c=this,f,s;return n(this._sources).each(function(){var l,u,h;if(this.settings.foreignKey&&this.settings.foreignKey===i){if(Array.isArray(r)){f={};for(l in r){s=this.dataSource()[r[l]];for(u in s)u!==this.settings.foreignKey?f.hasOwnProperty(u)?f[u].push(s[u]):f[u]=[s[u]]:f[u]=r}e=n.extend(!0,{},e,f)}else this.settings.foreignKey===i&&(e=n.extend(!0,{},e,this.dataSource()[r]));o=this.settings.primaryKey===null?c._data[parseInt(t,10)]:c.findRecordByKey(t,c._data);for(h in o)o[h]=e[h]}}),h=this._createCellTransaction(t,i,r),this._addTransaction(h),u===!0&&this.commit(t),h},updateRow:function(t,i,r){var o,u,f,e=this.settings.primaryKey===null?this._data[parseInt(t,10)]:this.findRecordByKey(t),s=this.settings.primaryKey===null?t:n.ig.indexInArray(this._data,e);return n(this._sources).each(function(){var r,t;if(this.settings.foreignKey)if(Array.isArray(i[this.settings.foreignKey])){u={};for(r in i[this.settings.foreignKey]){f=this.dataSource()[i[this.settings.foreignKey][r]];for(t in f)t!==this.settings.foreignKey&&(u.hasOwnProperty(t)?u[t].push(f[t]):u[t]=[f[t]])}i=n.extend(!0,{},i,u)}else i[this.settings.foreignKey]!==e[this.settings.foreignKey]&&(i=n.extend(!0,{},i,this.dataSource()[i[this.settings.foreignKey]]))}),o=this._createRowTransaction(t,i),this._addTransaction(o),r===!0&&this.commit(t),n.type(this.settings.rowUpdated)==="function"&&(this.settings.callee?this.settings.rowUpdated.apply(this.settings.callee,[{rowIndex:s,newRow:i,oldRow:e},this]):this.settings.rowUpdated({rowIndex:s,newRow:i,oldRow:e},this)),o},addRow:function(t,i,r){var e,u,f;return n(this._sources).each(function(){var r,t;if(this.settings.foreignKey)if(Array.isArray(i[this.settings.foreignKey])){u={};for(r in i[this.settings.foreignKey]){f=this.dataSource()[i[this.settings.foreignKey][r]];for(t in f)t!==this.settings.foreignKey&&(u.hasOwnProperty(t)?u[t].push(f[t]):u[t]=[f[t]])}i=n.extend(!0,{},i,u)}else i=n.extend(!0,{},i,this.dataSource()[i[this.settings.foreignKey]])}),e=this._createNewRowTransaction(t,i),this._addTransaction(e),r===!0&&this.commit(t),n.type(this.settings.rowAdded)==="function"&&(this.settings.callee?this.settings.rowAdded.apply(this.settings.callee,[{rowId:t,row:i},this]):this.settings.rowAdded({rowId:t,row:i},this)),e},insertRow:function(t,i,r,u){var s,e,o,h;return n(this._sources).each(function(){var r,t;if(this.settings.foreignKey)if(Array.isArray(i[this.settings.foreignKey])){e={};for(r in i[this.settings.foreignKey]){o=this.dataSource()[i[this.settings.foreignKey][r]];for(t in o)t!==this.settings.foreignKey&&(e.hasOwnProperty(t)?e[t].push(o[t]):e[t]=[o[t]])}i=n.extend(!0,{},i,e)}else i=n.extend(!0,{},i,this.dataSource()[i[this.settings.foreignKey]])}),s=this._createInsertRowTransaction(t,i,r),this._addTransaction(s),u===!0&&this.commit(t),n.type(this.settings.rowInserted)==="function"&&(this.settings.callee?this.settings.rowInserted.apply(this.settings.callee,[{rowId:t,row:i,rowIndex:r},this]):this.settings.rowInserted({rowId:t,row:i,rowIndex:r},this)),s},dataBind:function(){var t,i=this.settings.dataSource;if(this._dataBindingComplete||this._sources.length>0)this._dataBindingComplete=!1,this._super();else{for(this._dataBindingComplete=!1,t=0;t<i.length;t++)this._sources[t]=i[t]instanceof n.ig.DataSource?i[t]:i[t].hasOwnProperty("dataSource")&&i[t].dataSource instanceof n.ig.DataSource?i[t].dataSource:new n.ig.DataSource(i[t]),this._sources[t].settings.callee=this,this._sources[t].settings.callback=this._checkDataBindingComplete,this._sourcesStatus[t]=0;for(t=0;t<i.length;t++)this._sources[t].dataBind()}return this}}),n.ig.HierarchicalDataSource=n.ig.HierarchicalDataSource||Class.extend({settings:{autogenerate:!1,initialDataBindDepth:0,maxDataBindDepth:-1,defaultChildrenDataProperty:"children",callback:null,callee:null,data:[],dataSource:null,dataBinding:null,dataBound:null,type:"unknown",responseDataType:null,responseContentType:null,localSchemaTransform:!0,urlParamsEncoding:null,urlParamsEncoded:null,requestType:"GET",odata:!1,paging:{},sorting:{},filtering:{},schema:[]},init:function(t){t&&(this.__ds=t.dataSource,t.dataSource=null,this.settings=n.extend(!0,{},n.ig.HierarchicalDataSource.prototype.settings,t),this.settings.dataSource=this.__ds),this._rootopts=this.settings,this._rootopts.urlParamsEncoded=n.proxy(this._encodeHierarchicalUrlParams,this),this._rootopts.dataSource&&typeof this._rootopts.dataSource._xmlToArray=="function"&&typeof this._rootopts.dataSource._encodePkParams=="function"?(this._rootds=this._rootopts.dataSource,this._rootds.settings.urlParamsEncoded=this.settings.urlParamsEncoded,this._rootds.settings.odata=this.settings.odata,this._rootds.settings.schema||(this._rootds.settings.schema={}),this._rootds.settings.schema.layouts=this.settings.schema.layouts):this._rootds=n.type(this._rootopts.dataSource)==="string"&&this._rootopts.dataSource.indexOf("$callback=?")!==-1?new n.ig.JSONPDataSource(this._rootopts):this._rootopts.restSettings&&(this._rootopts.restSettings.update.url!==null||this._rootopts.restSettings.update.template!==null||this._rootopts.restSettings.create.url!==null||this._rootopts.restSettings.create.template!==null||this._rootopts.restSettings.remove.url!==null||this._rootopts.restSettings.remove.template!==null)?new n.ig.RESTDataSource(this._rootopts):new n.ig.DataSource(this._rootopts)},dataBind:function(n,t){this._rootds.dataBind(n,t)},root:function(){return this._rootds||(this._rootds=new n.ig.DataSource(this._rootopts)),this._rootds},dataAt:function(t,i){for(var f=this.root().data(),o=t.split("/"),a=i.split("/"),v,h="Records",e,r=null,c=this.settings.primaryKey,s="",y=[],p=[],l=!1,u=0;u<o.length;u++)if(c=o[u].split(":")[0],s=o[u].split(":")[1],o[u]!==""){for(e=0;f&&e<f.length;e++)if(f[e][c]!==undefined&&!f[e][c].charAt&&s.charAt&&(s=parseInt(s,10)),l=f[e][c]===s,l){r=f[e][a[u]],h=this.root().schema&&this.root().schema()&&this.root().schema().schema?this.root().schema().schema.searchField:h,r&&o.length>1&&u<o.length-1&&n.type(r)!=="array"&&r[h]&&(r=r[h]);break}f=r}return r},_encodeUrlPath:function(n,t){return"path="+n+"&layout="+t},_encodeHierarchicalUrlParams:function(t,i){var s="",e=this.settings.schema.layouts,f,o,u,r,h=0;if(this.settings.odata&&this.settings.initialDataBindDepth!==0){f=o=0;for(r in e)e.hasOwnProperty(r)&&h++;h++;for(r in e)if(e.hasOwnProperty(r)&&n.type(e[r])!=="function"){for(r.startsWith("/")&&(r=r.substring(1,r.length-1)),u=r.split("/"),f=0;f<u.length;f++)u[f]=u[f].substring(0,u[f].indexOf(":"));u=u.join("/"),o!==0&&o!==h-1&&(s+=","),s+=u,o++}i.selectParams.$expand=s}else i.selectParams.dbdepth=this.settings.initialDataBindDepth}}),n.ig.TreeHierarchicalDataSource=n.ig.TreeHierarchicalDataSource||n.ig.DataSource.extend({settings:{treeDS:{childDataKey:null,foreignKey:null,initialExpandDepth:-1,enableRemoteLoadOnDemand:!1,dataSourceUrl:null,requestDataCallback:null,requestDataSuccessCallback:null,requestDataErrorCallback:null,propertyExpanded:null,propertyDataLevel:null,expandedKey:"__ig_options.expanded",dataLevelKey:"__ig_options.dataLevel",initialFlatDataView:!1,customEncodeUrlFunc:null,persistExpansionStates:!1,filtering:{fromLevel:0,toLevel:-1,displayMode:"showWithAncestors",matchFiltering:"__matchFiltering"},sorting:{fromLevel:0,toLevel:-1},paging:{mode:"rootLevelOnly",contextRowMode:"none"}}},_isHierarchicalDataSource:!0,init:function(t){return t||(t={}),this._totalRecordsCount=0,t.treeDS=n.extend(!0,{},this.settings.treeDS,t.treeDS),this._flatVisibleData=[],t.treeDS.expandedKey=t.treeDS.propertyExpanded||t.treeDS.expandedKey,t.treeDS.dataLevelKey=t.treeDS.propertyDataLevel||t.treeDS.dataLevelKey,this._super(t),this._isHierarchicalDataSource=t.treeDS.foreignKey===null?!0:!1,this},_checkGeneratedSchema:function(){var n=this.settings.treeDS,t=this.settings.filtering,i=n.expandedKey,r=n.filtering.matchFiltering;this._checkGeneratedSchemaByKey(n.childDataKey),this._isHierarchicalDataSource||this._checkGeneratedSchemaByKey(n.foreignKey),i!==null&&i!==undefined&&this._addSchemaField(i,"boolean"),t&&t.enabled&&t.type==="remote"&&r&&this._addSchemaField(r,"boolean"),n.initialFlatDataView&&n.dataLevelKey&&this._addSchemaField(n.dataLevelKey,"number")},_addSchemaField:function(t,i){if(this.schema()&&this.schema().schema){var r,f=this.schema().schema,u=f.fields;if(n.type(u)==="array"){for(r=0;r<u.length;r++)if(u[r].name===t)return;f.fields.push({name:t,type:i})}}},_checkGeneratedSchemaByKey:function(n){if(n!==null&&n!==undefined){for(var u=this.schema(),i=u.fields(),r=i.length,t=0;t<r;t++)if(i[t].name===n){i[t].name===this.settings.treeDS.childDataKey&&i[t].type&&delete i[t].type;break}t===r&&i.push({name:n})}},_applySchema:function(t){var i=this.schema();i.transform=n.proxy(this._transformSchema,this),this._checkGeneratedSchema(),this._super(t),this.generateFlatDataView()},dataBind:function(t,i){this._totalRecordsCount=0,this._dataBinding=!0,this._isHierarchicalDataSource=this.settings.treeDS.foreignKey===null?!0:!1;var r=this.schema();this.isTransformedToHierarchicalData(!1),r&&((this.schema().schema.fields.length!==0||this.settings.treeDS.enableRemoteLoadOnDemand)&&this._checkGeneratedSchema(),this._transformCallback||(this._transformCallback=n.proxy(r.transform,r),r.transform=n.proxy(this._transformSchema,this))),this._flatDataView=[],this._generatedFlatData=!1,this._dataBoundDepth=null,this._super(t,i)},getParentRowsForRow:function(t,i){var r,e=i||this._data,s,h,u,o,c={},l,f;if(t===undefined||t===null)return[];if(n.type(t)==="object"){if(s=e&&n.isArray(e[0])?this._lookupPkIndex():this.settings.primaryKey,r=t[s],r===undefined||r===null)return[]}else r=t;if(this._metadata&&n.type(this._metadata.ancestors)==="array"){for(f=this._metadata.ancestors,h=this.settings.treeDS.dataLevelKey,o=[],u=0;u<f.length;u++)o.push({row:this.schema()._row(f[u]),level:f[u][h]});return o}return(l=this.findRecordByKey(r,e,c),!l)?[]:c.parentRows},_internalDataBound:function(n){this._dataBinding=!1,this._super(n)},_completeCallback:function(){this.settings.localSchemaTransform&&this.generateFlatDataView(),this._super()},getDataBoundDepth:function(){return(this._dataBoundDepth===null||this._dataBoundDepth===undefined)&&(this._dataBoundDepth=0,this._getDataBoundDepthRecursive()),this._dataBoundDepth},_getDataBoundDepthRecursive:function(t,i){var u,f=this.settings.treeDS.childDataKey,e,r;if(this._dataBoundDepth||(this._dataBoundDepth=0),i||(i=0),t===undefined&&(t=this.data()),i>this._dataBoundDepth&&(this._dataBoundDepth=i),n.type(t)==="array")for(e=t.length,u=0;u<e;u++)(r=t[u],r)&&r&&n.type(r[f])==="array"&&r[f].length&&this._getDataBoundDepthRecursive(r[f],i+1)},_processJsonResponse:function(n,t){return this.schema()._processMetadata(n),n&&n.Metadata&&n.Metadata.initialFlatDataView!==undefined&&(this.settings.treeDS.initialFlatDataView=n.Metadata.initialFlatDataView,this._checkGeneratedSchema()),this._super(n,t)},isTransformedToHierarchicalData:function(n){if(n===undefined||n===null)return this._transformedHierarchicaData;this._transformedHierarchicaData=n},transformToHierarchicalData:function(t){if(n.type(t)!=="array")return t;for(var i,u,f=[],e=[],o=t.length,r=0;r<o;r++)i=n.extend(!0,{},t[r]),this._hasRecordParent(i,t)?e.push(i):f.push(i);return u=this._getDataLayouts(f,e),this.isTransformedToHierarchicalData(!0),u},_getDataLayouts:function(n,t){for(var e=n.length,o=this.settings.primaryKey,s=this.settings.treeDS.childDataKey,f=[],u,r,i=0;i<e;i++)u=n[i],r=this._getChildrenByKeyInFlatDS(n[i][o],t),t=r.others,r.children.length>0&&(u[s]=this._getDataLayouts(r.children,t)),f.push(u);return f},_getChildrenByKeyInFlatDS:function(n,t){for(var i,e=t.length,o=this.settings.treeDS.foreignKey,u=[],f=[],r=0;r<e;r++)i=t[r],i[o]===n?f.push(i):u.push(i);return{children:f,others:u}},_hasRecordParent:function(n,t){var r,u,i,f,e,o=this.settings.treeDS,s=o.foreignKeyRootValue,c=o.foreignKey,h=this.settings.primaryKey;if(i=n[c],i===null||i===undefined)return!1;if(s===!1){if(u=n[h],u===null||u===undefined)return!1;for(e=t.length,r=0;r<e;r++)if(f=t[r][h],f!==u&&f===i)return!0;return!1}return i!==s},_transformSchema:function(n){return this.settings.treeDS.initialFlatDataView?this._transformCallback(n):this.processDataPerLevel(n,0)},processDataPerLevel:function(t,i,r){var e,v=this.settings.treeDS.childDataKey,y,u,p=!1,w=this.settings.treeDS.initialExpandDepth,f,l=[],b=this.schema(),o,s,h,c=this.settings.treeDS.expandedKey,a=this.settings.treeDS.dataLevelKey,k=a!==null&&a!==undefined,d=c!==null&&c!==undefined;if(t||(t=this.data()),n.type(t)==="object"&&(t=b._getDataBySearchField(t)),i||(this._isHierarchicalDataSource||this.isTransformedToHierarchicalData()||(this.metadata("flatToHierarchicalDataTransformed")?this.isTransformedToHierarchicalData(!0):t=this.transformToHierarchicalData(t)),this._totalRecordsCount=0,this._flatData=[],p=!0,i=0),!t)return t;if(n.type(t)==="array"){this._dataBoundDepth||(this._dataBoundDepth=0),i>this._dataBoundDepth&&(this._dataBoundDepth=i),y=t.length;try{for(e=0;e<y;e++)(u=t[e],u)&&(this._totalRecordsCount++,o=u[v],f=u[c],r||(u=b._row(u,e)),this._flatData.push(u),l.push(u),s=n.type(o)==="array",h=-1,s&&(h=o.length),d&&((f===undefined||f===null)&&(f=!0,s&&h===0&&(f=!1),w!==-1&&w<=i&&(f=!1)),f===0&&(f=!1),u[c]=f),k&&(u[a]=i),s&&h>0&&(u[v]=this.processDataPerLevel(o,i+1,r)))}catch(g){throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","errorParsingArrays")+g.message);}}else l=this._transformCallback(t);return p&&(this._generatedFlatData=!0),l},getFlatDataForRecord:function(n,t){if(n){var u=this.settings.treeDS.childDataKey,i=this.settings.treeDS.dataLevelKey,r=n[u];if(r)return(t===undefined||t===null)&&(t=0,i!==null&&i!==undefined&&n[i]&&(t=n[i])),this.generateFlatData(r,t)}},generateFlatData:function(n,t){var i,r=[],u=[];return t||(t=0),i={flatData:r,flatVisibleData:u,recordsCount:0,visibleRecordsCount:0},this._generateFlatDataRecursive(n,t,i,!1),i},_generateFlatDataRecursive:function(t,i,r,u){var o,f,l,e,a=this.settings.treeDS.initialExpandDepth,s=this.settings.treeDS.expandedKey,h=this.settings.treeDS.dataLevelKey,c=this.settings.treeDS.childDataKey,v=h!==null&&h!==undefined,y=s!==null&&s!==undefined;if(t||(t=this.data()),i||(i=0),n.type(t)==="array")for(l=t.length,o=0;o<l;o++)(f=t[o],f)&&(r.recordsCount++,r.flatData.push(t[o]),y&&(e=f[s],(e===undefined||e===null)&&(e=!0,a!==-1&&a<=i&&(e=!1)),e===0&&(e=!1),f[s]=e),v&&(f[h]=i),u||(r.flatVisibleData.push(f),r.visibleRecordsCount++),f&&n.type(f[c])==="array"&&f[c].length&&this._generateFlatDataRecursive(f[c],i+1,r,!e||u))},generateFlatDataView:function(){var n,t;if(this.settings.treeDS.initialFlatDataView){this._flatDataView=this._data;return}n=this.dataView(),this.shouldCallGenerateFlatDataView()||n.length||(n=this._filter?this._filteredData:this.data()),t=this.generateFlatData(n),this._flatDataView=t.flatVisibleData},flatDataView:function(){return this.settings.treeDS.initialFlatDataView?this._data:this._flatDataView},_generateFlatDataAndCountProperties:function(){var t=this._filter?this._filteredData:this.data(),n=this.generateFlatData(t);this._flatData=n.flatData,this._totalRecordsCount=n.recordsCount,this._flatVisibleData=n.flatVisibleData},getVisibleFlatData:function(){return this._flatVisibleData||this._generateFlatDataAndCountProperties(),this._flatVisibleData},getFlatData:function(){return this._flatData&&this._flatData.length===this._totalRecordsCount||this._generateFlatDataAndCountProperties(),this._flatData},getFlatDataCount:function(){return this._totalRecordsCount},_page:function(n){if(this.settings.treeDS.paging.mode==="rootLevelOnly")return this._super(n);var r=0,t,u,i=0;for(n===undefined&&(n=!1),n?r=this._flatVisibleData.length:this._flatDataView=[],this._generateFlatDataAndCountProperties(),t=this.pageIndex()*this.pageSize(),u=t+this.pageSize()>=this._flatVisibleData.length?this._flatVisibleData.length:t+this.pageSize(),i=t;i<u;i++)this._flatDataView[r++]=this._flatVisibleData[i]},setExpandedStateByRowIndex:function(n,t,i){var r=this.flatDataView()[n];return this._expandCollapseRecord(r,t,i)},setExpandedStateByPrimaryKey:function(n,t,i){var r=this.findRecordByKey(n,null);return this._expandCollapseRecord(r,t,i)},getExpandStateById:function(n){var i=this.findRecordByKey(n),t=this.settings.treeDS.expandedKey,r=t!==null&&t!==undefined;if(i&&r)return i[t]},toggleRow:function(n,t){var i=this.findRecordByKey(n),u,r=this.settings.treeDS.expandedKey,f=r!==null&&r!==undefined;if(i&&f)return u=!i[r],this._expandCollapseRecord(i,u,t)},_encodeUrlPath:function(n,t){var i="path="+n;return t!==undefined&&(i+="&depth="+t),i},_requestDataSuccess:function(t,i){var s=this.settings.treeDS.childDataKey,u,f,r,e,o;n.type(i)==="object"&&(r=t.record,e=t.callbackArgs,o=t.expand,f=r[this.settings.treeDS.dataLevelKey],u=this.processDataPerLevel(i,f+1),r[s]=u,this._onRecordToggled(r,o,e))},_encodeUrl:function(){var t=this._super(),n=this.settings.treeDS,i;return n.persistExpansionStates&&(t=this._encodeExpansionStates(t)),n.foreignKey&&(t.fk=n.foreignKey,n.foreignKeyRootValue!==undefined&&(t.fkRootValue=n.foreignKeyRootValue)),i=n.propertyDataLevel?"propertyDataLevel":"dataLevelKey",t[i]=n[i],i=n.propertyExpanded?"propertyExpanded":"expandedKey",t[i]=n[i],t.childDataKey=n.childDataKey,t.initialExpandDepth=n.initialExpandDepth,n.enableRemoteLoadOnDemand&&(t.loadOnDemand=!0),t},_encodePagingParams:function(n){var t=this.settings.paging;this._super(n),t.enabled&&t.type==="remote"&&(n.pagingParams["paging.mode"]=this.settings.treeDS.paging.mode,n.pagingParams["paging.contextRowMode"]=this.settings.treeDS.paging.contextRowMode)},_encodeSortingParams:function(n){var t=this.settings.sorting;this._super(n),t.enabled&&t.type==="remote"&&(n.sortingParams["sorting.fromLevel"]=this.settings.treeDS.sorting.fromLevel,n.sortingParams["sorting.toLevel"]=this.settings.treeDS.sorting.toLevel)},_encodeFilteringParams:function(n){var t=this.settings.filtering;this._super(n),t.enabled&&t.type==="remote"&&(n.filteringParams["filtering.fromLevel"]=this.settings.treeDS.filtering.fromLevel,n.filteringParams["filtering.toLevel"]=this.settings.treeDS.filtering.toLevel,n.filteringParams.__matchFiltering=this.settings.treeDS.filtering.matchFiltering,n.filteringParams["filtering.displayMode"]=this.settings.treeDS.filtering.displayMode)},_encodeExpansionStates:function(n){var t,u=!1,i=this._listExpansionStates,r;if(i){r={};for(t in i)i.hasOwnProperty(t)&&(u=!0,r[t]=i[t].state);u&&(n.listExpansionStates=r)}return n},_requestData:function(t,i,r){if(t){var h,l=this,e,c,o,u,f=this.settings.treeDS,s={record:t,callbackArgs:r,expand:i};c=this.getPathBy(t),o=this._encodeUrl(),o.expand=i,e=f.dataSourceUrl+"?"+this._encodeUrlPath(c,t[f.dataLevelKey]),u=f.customEncodeUrlFunc,u&&(n.type(u)!=="function"&&(u=window[u]&&typeof window[u]=="function"?window[u]:null),u&&(e=u(t,i))),h={type:"GET",url:e,data:o,success:function(t,i,r){var u=f.requestDataErrorCallback,e=!0;n.type(u)==="function"&&(e=u(s,t,i,r)),e&&l._requestDataSuccess(s,t,i,r)},error:function(t,i,r){var u=f.requestDataErrorCallback;n.type(u)==="function"&&u(s,t,i,r)}},n.ajax(h)}},_applyToggleCallback:function(t,i){if(i){var u=t.record,f=t.result,e=t.expand,r=i.callback,o=i.args;r&&n.type(r)==="function"&&r(u,e,f,o)}},_saveExpansionStateByPKVal:function(n,t){this.settings.treeDS.persistExpansionStates&&(this._listExpansionStates||(this._listExpansionStates={}),n!==null&&n!==undefined&&(this._listExpansionStates[n]&&this._listExpansionStates[n].initState===t?delete this._listExpansionStates[n]:this._listExpansionStates[n]={state:t,initState:!t}))},_onRecordToggled:function(n,t,i){var f=this.settings.treeDS.expandedKey,r=null,o=n,u,s=this.settings.paging,e,h=f!==null&&f!==undefined;if(u={result:!1,record:o,expand:t},!n){this._applyToggleCallback(u,i);return}e=n[this.settings.primaryKey],this._filter&&e!==null&&e!==undefined&&(r=this.findRecordByKey(e,this._filteredData),r&&(o=r)),h&&(n[f]=t,r&&(r[f]=t),this.settings.treeDS.persistExpansionStates&&!this.settings.treeDS.enableRemoteLoadOnDemand?this.dataBind():s&&s.enabled&&this.settings.treeDS.paging.mode!=="rootLevelOnly"?s.type==="local"&&(this._page(),this._invokeCallback()):this.shouldCallGenerateFlatDataView()&&this.generateFlatDataView()),u.result=!0,u.record=o,this._applyToggleCallback(u,i)},_expandCollapseRecord:function(t,i,r){if(t){var o=this.settings,f=o.treeDS,u,e,s=f.childDataKey;if(this._saveExpansionStateByPKVal(t[this.settings.primaryKey],i),o.paging.enabled&&o.paging.type==="remote"&&f.paging.mode==="allLevels"){this.dataBind();return}if(i&&f.enableRemoteLoadOnDemand&&(e=t[s],e===!0||n.type(e)==="array"&&!e.length)){u=f.requestDataCallback,n.type(u)==="string"&&(u=window[u]),n.type(u)!=="function"&&(u=n.proxy(this._requestData,this)),u(t,i,r);return}this._onRecordToggled(t,i,r)}},sort:function(t,i){var f=this.settings.sorting,u=this.settings.paging,r,e=!1;if(t===undefined||t===null)throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","noSortingFields"));return this._generatedFlatData=!1,f.applyToAllData&&f.type==="local"?(r=this._filter&&(u.type==="local"&&u.enabled===!0||u.enabled===!1||u.type==="remote"&&u.enabled===!0&&this.settings.filtering.type==="local")?this._filteredData:this.data(),e=!0):r=this.dataView(),r=this.sortDataRecursive(r,0,t,i),e&&u.type==="local"?(this._filter?this._filteredData=r:this._data=r,this._page()):this._dataView=r,this.shouldCallGenerateFlatDataView()&&this.generateFlatDataView(),this._populateTransformedData(r),this},sortDataRecursive:function(n,t,i,r){var o=this.settings.treeDS.childDataKey,e,f,s=n.length,u=this.settings.treeDS.sorting;if(u.toLevel===-1||u.toLevel>=t)for(e=0;e<s;e++)f=n[e][o],f&&f.length>0&&(f=this.sortDataRecursive(f,t+1,i,r));return(u.fromLevel<=t||u.fromLevel===-1)&&(u.toLevel>=t||u.toLevel===-1)&&(n=this.sortData(n,i,r)),n},sortData:function(t,i,r){var u=this.settings.sorting,o,f,s,e=this.settings,h=this;return n.type(u.customFunc)==="function"?t=u.customFunc(t,i,r):(o=this.settings.schema,r||(r=""),f=n.type(u.compareFunc)==="function"?u.compareFunc:function(t,i,u,f,o,s){function c(t,i,r,u,f){return(t&&n.type(u)==="date"&&n.type(f)==="date"&&(t==="time"||t==="timeLong"||t==="h:mm:ss tt")&&(u=new Date("January 01, 2000 "+n.ig.formatter(u,"date",t,r,i)),f=new Date("January 01, 2000 "+n.ig.formatter(f,"date",t,r,i))),(u===null||u===undefined)&&(f===null||f===undefined))?0:(u===null||u===undefined)&&f!==null&&f!==undefined?-1:u!==null&&u!==undefined&&(f===null||f===undefined)?1:u>f?1:u<f?-1:0}return f=f?-1:1,function(n,u){var y,v,k=[],d=[],l,a,tt,g,p,nt,w,b;for(t&&(nt=t.options,w=nt.enableUTCDates,b=!nt.rowTemplate||nt.rowTemplate.length<=0),y=0;y<i.length;y++)(tt=i[y].fieldName,t&&t.columnByKey&&(g=t.columnByKey(tt),g!==undefined&&g!==null&&(p=g.format)),i[y].layout&&(e.key&&e.key!==i[y].layout||!e.key))||(v=i[y],v.fieldIndex>=0&&(v.fieldName=v.fieldIndex),l=h.getCellValue(v.fieldName,n),a=h.getCellValue(v.fieldName,u),o!==undefined&&(l=o(l,v.fieldName),a=o(a,v.fieldName)),s===!1&&(l!==undefined&&l!==null&&l.toLowerCase&&(l=l.toLowerCase()),a!==undefined&&a!==null&&a.toLowerCase&&(a=a.toLowerCase())),v.dir!==undefined&&v.dir!==null?(f=v.dir.toLowerCase().startsWith("desc"),f=f?-1:1):r!==undefined&&r!==null&&r!==""&&(f=r.toLowerCase().startsWith("desc"),f=f?-1:1),i.length===1?(k=f*c(p,w,b,l,a),d=f*c(p,w,b,a,l)):f===-1?(k.push(-c(p,w,b,l,a)),d.push(-c(p,w,b,a,l))):(k.push(c(p,w,b,l,a)),d.push(c(p,w,b,a,l))));return k<d?-1:k>d?1:0}},n.isFunction(u.customConvertFunc)&&(s=u.customConvertFunc),n.type(i)==="string"&&(i=this._parseSortExpressions(i)),i.length>0&&(t=t.sort(f(this.settings.callee,i,o,r.toLowerCase().startsWith("asc")?!1:!0,s,u.caseSensitive)),this._allDataSorted=t===this.data())),t},totalLocalRecordsCount:function(){var n=this._flatVisibleData;return n&&this.settings.paging.type!=="remote"&&this.settings.treeDS.paging.mode!=="rootLevelOnly"?n.length:this._super()},pageCount:function(){var n=this.settings.paging;return n.enabled&&n.type==="local"&&this.settings.treeDS.paging.mode==="allLevels"?Math.ceil(this.totalLocalRecordsCount()/n.pageSize)||1:this._super.apply(this,arguments)},getFilteringMatchRecordsCount:function(){var n=this.metadata("filtering.countRecords");return n!==undefined&&n!==null?n:this.totalRecordsCount()},filter:function(t,i,r,u){var f,o=this.settings.filtering,s=this.settings.paging,e,h;if(o.applyToAllData&&o.type==="local"?(e=this.data(),h=!0):this._cachedDataView&&this._cachedDataView.length>0?e=this._cachedDataView:(this._cachedDataView=n.merge([],this.dataView()),e=this._cachedDataView),this._filteredRecordsCount=0,this._generatedFlatData=!1,this._filteredData=this._filterDataRecursive(e,0,t,i,r,u),this._dataView=[],this._filter=!0,h&&s.type==="local"&&s.enabled===!0)this.settings.paging.pageIndex=0,this.pageSizeDirty(!0),this._page();else for(f=0;f<this._filteredData.length;f++)this._dataView[f]=this._filteredData[f];return this.shouldCallGenerateFlatDataView()&&this.generateFlatDataView(),this._populateTransformedData(this._filteredData),this},_filterDataRecursive:function(t,i,r,u,f,e){var s,o,ut=null,l=0,y=!1,d=this.settings.filtering,ft,b,k,w,tt,p,a,et,it,st,ot,rt=this.settings.treeDS.expandedKey,v=[],h,c=this.settings.treeDS.childDataKey,g=this.settings.treeDS.filtering,nt=g.matchFiltering;if(tt=this.schema(),tt===null||tt===undefined)throw new Error(n.ig.util.getLocaleValue("DataSourceLocale","filteringNoSchema"));if(n.type(r)==="string"&&(ut=r),n.type(e)==="string"?et=e:n.type(e)==="undefined"&&(e=[]),n.type(r)!=="array"||r.length!==0||n.type(e)!=="array"||e.length!==0){if(n.type(d.customFunc)==="function")v=d.customFunc(r,t);else for(ut&&(r=this._parseFilterExprString(ut)),et&&(e=this._parseFilterExprString(et)),st=r.length,ot=e.length,s=0;s<t.length;s++){if(nt&&delete t[s][nt],!((g.fromLevel<=i||g.fromLevel===-1)&&(g.toLevel>=i||g.toLevel===-1))){h=t[s][c],h&&h.length&&(h=this._filterDataRecursive(h,i+1,r,u,f,e),h&&h.length>0&&(v[l++]=n.extend(!0,{},t[s]),v[l-1][c]=h));continue}for(y=!1,o=0;o<st;o++){if(p=tt.fields(),r[o].fieldIndex!==undefined)r[o].fieldIndex<p.length&&(k=this._getFieldTypeFromSchema(p[r[o].fieldIndex].name)),y=!this._findMatch(t[s][r[o].fieldIndex],r[o].expr,k,!d.caseSensitive,r[o].cond,r[o].preciseDateFormat);else{if(r[o].dataType!==undefined&&r[o].dataType!==null)k=r[o].dataType;else for(w=0;w<p.length;w++)if(p[w].name===r[o].fieldName){k=this._getFieldTypeFromSchema(p[w].name);break}y=!this._findMatch(t[s][r[o].fieldName],r[o].expr,k,!d.caseSensitive,r[o].cond,r[o].preciseDateFormat,r[o].fieldName,t[s])}if(a=r[o].logic!==null&&r[o].logic!==undefined&&(r[o].logic.toLowerCase()==="or"||r[o].logic.toLowerCase()==="and")?r[o].logic:u,(a===undefined||a===null||n.type(a)!=="string")&&(a="and"),y&&a.toLowerCase()==="and")break;if(!y&&a.toLowerCase()==="or")break}if(!y&&ot)for(o=0;o<ot;o++){if(p=tt.fields(),e[o].fieldIndex)e[o].fieldIndex<p.length&&(k=this._getFieldTypeFromSchema(p[e[o].fieldIndex].name)),it=t[s][e[o].fieldIndex]?t[s][e[o].fieldIndex].toString():"",y=!this._findMatch(it,e[o].expr,"string",!d.caseSensitive,e[o].cond,e[o].preciseDateFormat,e[o].fieldName,t[s]);else{for(w=0;w<p.length;w++)if(p[w].name===e[o].fieldName){k=this._getFieldTypeFromSchema(p[w].name);break}it=t[s][e[o].fieldName]!==null&&t[s][e[o].fieldName]!==undefined?t[s][e[o].fieldName].toString():"",y=!this._findMatch(it,e[o].expr,"string",!d.caseSensitive,e[o].cond,e[o].preciseDateFormat,e[o].fieldName,t[s])}if(a=e[o].logic!==null&&e[o].logic!==undefined&&(e[o].logic.toLowerCase()==="or"||e[o].logic.toLowerCase()==="and")?e[o].logic:u,(a===undefined||a===null||n.type(a)!=="string")&&(a="and"),y&&a.toLowerCase()==="and")break;if(!y&&a.toLowerCase()==="or")break}ft=!1,h=t[s][c],b=null,h&&h.length&&(h=this._filterDataRecursive(h,i+1,r,u,f,e),h&&h.length>0&&(b=t[s][c],t[s][c]=null,v[l++]=n.extend(!0,{},t[s]),t[s][c]=b,v[l-1][c]=h,ft=!0,rt&&(v[l-1][rt]=!0),!y&&nt&&(v[l-1][nt]=!0,this._filteredRecordsCount++))),y||ft||(g.displayMode==="showWithAncestors"&&h?(b=t[s][c],t[s][c]=null,v[l]=n.extend(!0,{},t[s]),t[s][c]=b,v[l][c]=null,l++):(h&&(b=t[s][c],t[s][c]=null),v[l]=n.extend(!0,{},t[s]),b&&(v[l][c]=b,t[s][c]=b),l++),this._filteredRecordsCount++,nt&&(v[l-1][nt]=!0),h&&rt&&(v[l-1][rt]=!1))}return v}},getFilteredRecordsCountFromDataView:function(){var t=this.flatDataView(),n,i=0,r=this.settings.treeDS.filtering.matchFiltering;if(this._filter)for(n=0;n<t.length;n++)t[n][r]&&i++;return i},getFilteredRecordsCount:function(){return this._filter?this._filteredRecordsCount:0},clearLocalFilter:function(){this.clearMatchFiltering(),this._super(),this._filter=!1,this.shouldCallGenerateFlatDataView()&&this.generateFlatDataView()},shouldCallGenerateFlatDataView:function(){var t=this.settings,n=t.paging;return!n||!n.enabled||n.type!=="local"||this.settings.treeDS.paging.mode==="rootLevelOnly"},clearMatchFiltering:function(n){var t,f=this.settings.treeDS.filtering,r,i,u=f.matchFiltering,e=this.settings.treeDS.childDataKey;if(u&&(n||(n=this._filteredData,n)))for(r=n.length,t=0;t<r;t++)delete n[t][u],i=n[t][e],i&&this.clearMatchFiltering(i)},getPathBy:function(t){if(t===null||t===undefined)return null;var u=this._data,f,e,i,o={path:""},r,s=u?u.length:0;return(e=s>0&&n.isArray(u[0])?this._lookupPkIndex():this.settings.primaryKey,i=n.type(t)!=="object"?t:t[e],f=this.findRecordByKey(i,null,o),!f)?null:(r=o.path,r!==""&&(r+="/"),r+i)},_findIndexInFlatDS:function(n,t,i){for(var u,s=this.settings.treeDS.foreignKey,h=n.length,f,e=0,o=!1,r=0;r<h;r++)if(u=n[r],u[s]===t){if(o=!0,f=r,i===e)return r;e++}return o?++f:-1},findRecordByKey:function(t,i,r){var u,f,e=[],c,s,o=i||this._data,h=o?o.length:0,l=this.settings.treeDS.childDataKey,a=h>0&&n.isArray(o[0])?this._lookupPkIndex():this.settings.primaryKey;for(r=r||{path:"",parentRows:[]},r.parentRows=r.parentRows||[],r.path=r.path||"",u=0;u<h;u++){if(f=o[u],f[a]===t)return r.parentRows.push({row:f,level:f[this.settings.treeDS.dataLevelKey]}),o[u];f[l]&&(s=r.path,s!==""&&(s+="/"),e.push({layout:f[l],objPath:{path:s+f[a],parentRows:r.parentRows.concat({row:f,level:f[this.settings.treeDS.dataLevelKey]})}}))}for(h=e.length,u=0;u<h;u++)if(c=this.findRecordByKey(t,e[u].layout,e[u].objPath),r.path=e[u].objPath.path,r.parentRows=e[u].objPath.parentRows,c)return c;return null},_invokeCallback:function(n,t){!this.schema()&&this._dataBinding&&(this._data=this.processDataPerLevel(this._data,0,!0)),this.shouldCallGenerateFlatDataView()&&this.generateFlatDataView(),this._super(n,t)},removeRecordByKey:function(n,t){var r,u=0,i=[this._data];for(this._addOnlyUniqueToCollection(i,this._dataView),this._addOnlyUniqueToCollection(i,this._filteredData),this._isHierarchicalDataSource?this._addOnlyUniqueToCollection(i,t):this._removeRecordInFlatDs(t,n);u<i.length;)r=i[u++],this._removeRecordByKeyForData(n,r)},_removeRecordInFlatDs:function(t,i,r){if(t&&n.isArray(t)&&t.length&&(i!==undefined||r!==undefined))for(var o=this.settings.primaryKey,f,e=n.isArray(t[0])?this._lookupPkIndex():o,s=this.settings.treeDS.foreignKey,u=0;u<t.length;u++)if(t[u])if(i!==undefined&&t[u][e]===i){n.ig.removeFromArray(t,u),this._removeRecordInFlatDs(t,undefined,i);break}else r!==undefined&&t[u][s]===r&&(f=t[u][e],n.ig.removeFromArray(t,u),this._removeRecordInFlatDs(t,undefined,f),u=0)},_removeRecordByKeyForData:function(t,i){if(!i)return!1;for(var s=this.settings.primaryKey,u=i?i.length:0,h=u>0&&n.isArray(i[0])?this._lookupPkIndex():s,o=this.settings.treeDS.childDataKey,e=[],f=!1,r=0;r<u;r++)if(i[r]){if(i[r][h]===t){n.ig.removeFromArray(i,r),f=!0;break}i[r][o]&&e.push(i[r][o])}if(f)return!0;for(u=e.length,r=0;r<u;r++)if(f=this._removeRecordByKeyForData(t,e[r]),f)return!0;return!1},deleteRow:function(n,t){var i=this._super.call(this,n,t);return this._dataBoundDepth=null,this.getDataBoundDepth(),i},getChildrenByKey:function(n,t){var r=this.settings.treeDS.childDataKey,i=this.findRecordByKey(n,t);return i&&i[r]?i[r]:null},insertRow:function(t,i,r,u,f){if(f===null||f===undefined)return this._super(t,i,r,u);var e=this._createInsertNodeTransaction(t,i,r,f);return this._addTransaction(e),u===!0&&this.commit(t),n.type(this.settings.rowInserted)==="function"&&(this.settings.callee?this.settings.rowInserted.apply(this.settings.callee,[{rowId:t,row:i,parentRowId:f,rowIndex:r},this]):this.settings.rowInserted({rowId:t,row:i,parentRowId:f,rowIndex:r},this)),e},_createInsertNodeTransaction:function(n,t,i,r){return{type:"insertnode",tid:this._generateTransactionId(),row:t,rowId:n,rowIndex:i,parentRowId:r}},_commitTransaction:function(n){var t,r,i;n.type==="insertnode"?(t=this.settings.localSchemaTransform?this._origDs:null,t===this._data&&(t=null),this._addRow(n.row,n.rowIndex,t,n.parentRowId),this._removeTransactionByTransactionId(n.tid)):(this._super(n),this._filter&&(n.type==="cell"||n.type==="row")&&(r=this.dataView(),i=this.findRecordByKey(n.rowId,r),i&&this._updateRecOnCommit(n,[i]))),this.settings.paging.enabled&&(n.type==="cell"||n.type==="row")||(this.settings.paging.type!=="remote"&&this._generateFlatDataAndCountProperties(),this.generateFlatDataView())},_preprocessAddRow:function(t,i,r,u,f){var s,o,e={parentRec:null,cashedData:f,layoutData:null},h=this.settings.treeDS.childDataKey;return u===undefined||u===null||!f?(e.layoutData=f,e):!this._isHierarchicalDataSource&&f===r?(n.type(t)==="object"&&(s=n.extend(!0,{},t)),this.settings.treeDS.foreignKey!==null&&(s[this.settings.treeDS.foreignKey]=u),f.push(s),e):(o=this.findRecordByKey(u,f),!o)?e:(o[h]=o[h]||[],e.parentRec=o,e.layoutData=o[h],e)},_postprocessAddRow:function(n,t,i,r,u){var f=u?u.parentRec:null,e=this.settings.treeDS.childDataKey;f&&u.newData&&e!==null&&(f[e]=u.newData,f[this.settings.treeDS.dataLevelKey]===this.getDataBoundDepth()&&this._dataBoundDepth++)},_addRow:function(n,t,i,r){var u=this._super.call(this,n,t,i,r);return r===undefined||r===null||this.settings.treeDS.dataLevelKey||(this._dataBoundDepth=null,this.getDataBoundDepth()),u}})}(n),function(n){n.ig=n.ig||{},n.extend(n.ig,{tmpl:function(n,t,i){var r=n,u;if(r){if(r=r.replace(this.regExp.lineBreak,""),r=r.replace(this.regExp.comment,""),typeof t=="function"&&(t=i?t.apply(this,i):t.call()),this._internalTmplCache&&this._internalTmplCache.hasOwnProperty(r)?(this.tokens=this._internalTmplCache[r].tokens,this.args=this._internalTmplCache[r].args,this.i=this._internalTmplCache[r].i,this._hasBlock=this._internalTmplCache[r]._hasBlock,r=this._internalTmplCache[r].tmpl):(this.tokens=[],this.args=[],this.i=0,this._tokenizeTemplate(r),u=r,this._internalTmplCache[u]={},this._internalTmplCache[u].tokens=this.tokens,this.regExp.block.test(r)?(this._hasBlock=!0,r=this._tokenizeDirectives(r)):this._hasBlock=!1,this._internalTmplCache[u].args=this.args,this._internalTmplCache[u].i=this.i,this._internalTmplCache[u]._hasBlock=this._hasBlock,this._internalTmplCache[u].tmpl=r),!this.tokens.length)return r;r=this._hasBlock?this._compileTemplate(r,t):this._populateTemplate(r,t),delete this.args,delete this.tokens,delete this._hasBlock,delete this.i}return r},clearTmplCache:function(){delete this._internalTmplCache,this._internalTmplCache={}},regExp:{comment:/\s#[^#]*#/g,sub:/\$\{(([\w\$\-]+(\.|\s)?[\w\$\-]*)+)\}/,nonEncodeSub:/\{\{html\s+([\w\$\-]+(\.|\s)?[\w\$\-]*)+\}\}/,forSub:/\$\{(([\w\$]+\.[\w\$]*)+)\}/,arg:/args\[\d+\](?!.*\+)/,block:/\{\{(\w+).*?\}\}+(.*)(\{\{\/\1\}\})/,blockCont:/\{\{(?!\/)(\S+)(.*)\}\}(.*)/,blockDirective:/\{\{\S+.*?\}\}/,index:/\$i/g,lineBreak:/(\r\n|\n|\r)/gm,lt:/</g,gt:/>/g,ap:/'/g,ic:/"/g,amp:/&/g},_directives:{"if":{start:"if (",close:") {",end:" }"},elseif:{start:" } else if (",close:") {",end:""},"else":{start:" } else {",close:"",end:""},each:{start:"for (var i = 0; i < $data.length; i++) {",close:"",end:" }"}},_internalTmplCache:{},_tokenizeTemplate:function(n){var t,i;if(this.regExp.sub.test(n))for(t=this.regExp.sub.exec(n);t!==null;)i=t[1].split("."),n=n.replace(new RegExp("\\$\\{"+t[1].replace(/\$/g,"\\$")+"\\}","g"),""),t[3]=new RegExp("\\$\\{"+t[1].replace(/\$/g,"\\$")+"\\}","g"),t[1]=i,t[2]=!0,this.tokens.push(t),t=this.regExp.sub.exec(n);if(this.regExp.nonEncodeSub.test(n))for(t=this.regExp.nonEncodeSub.exec(n);t!==null;)i=t[1].split("."),n=n.replace(new RegExp("\\{\\{html\\s+"+t[1].replace(/\$/g,"\\$")+"\\}\\}","g"),""),t[3]=new RegExp("\\{\\{html\\s+"+t[1].replace(/\$/g,"\\$")+"\\}\\}","g"),t[1]=i,t[2]=!1,this.tokens.push(t),t=this.regExp.nonEncodeSub.exec(n)},_tokenizeDirectives:function(n){var i='var result = "";',r=this.regExp.block.exec(n),t;return(n.indexOf(r[0])>0||n.length!==r[0].length)&&(t=n.split(r[0]),t[0]&&t[0].length>0&&(this.args.push(t[0]),i+="result += args["+this.i+++"];")),i+=this._handleCompleteBlock(r),t&&t.length>0&&t[1].length>0&&(this.args.push(t[1]),i+="result += args["+this.i+++"];"),i+="return result;"},_handleCompleteBlock:function(n){var f=n[0],u="",t=[],i,r;if(f=f.replace("{{"+n[1],this._directives[n[1]].start),n[1]==="each")for(t.push(n[0].split(n[3])),t.push(n[2].split(n[3])),i=0;i<t[1].length;i++)t[0][i].indexOf("{{each")>0&&(r=t[0][i].split("{{each")[0],this.args.push(r),u+="result += args["+this.i+++"];",t[0][i]=t[0][i].substr(t[0][i].indexOf("{{each")),r=this.regExp.blockDirective.exec(t[1][i]),t[1][i]=t[1][i].substr(t[1][i].indexOf(r[0])+r[0].length)),t[0][i]=t[0][i].replace("{{"+n[1],this._directives[n[1]].start),u+=this._handleEach(t[0][i]+"{{/each}}",[t[0][i]+"{{/each}}","each",t[1][i],"{{/each}}"]);else n[1]==="if"&&(u+=this._handleIfElse(f,n));return u},_handleEach:function(n,t){var i=n,u,r,f,e,o;for(u=this.regExp.sub.exec(i),i=i.replace(u[0],""),i=i.replace("$data",u[0]),r=t[2],/\$data/.test(r)&&(r=r.replace(/\$data/g,'" + '+u[0]+'[ i ] + "'),this.args.push(u[0]),this.i++),f=this.regExp.forSub.exec(r);f;)r=r.replace(new RegExp("\\$\\{"+f[1]+"\\}","g"),'" + '+u[0]+"[ i ]"+f[1].substr(f[1].indexOf("."))+' + "'),f=this.regExp.forSub.exec(r);for(r=r.replace(/\$index/g,'" + i + "'),i=i.replace(t[2],'result += "'+r+'"'),i=i.replace(/\}\}/,this._directives[t[1]].close),i=i.replace(t[3],this._directives[t[1]].end),e=this.regExp.sub.exec(i);e;)o=new RegExp("\\$\\{"+e[1]+"\\}","g"),i=i.replace(o,"args["+this.i+++"]"),this.args.push(e[0]),e=this.regExp.sub.exec(i);return i},_handleIfElse:function(n,t){var i=n,r=0,u,f,o,s,e=[];for(i=i.replace(/\}\}/,this._directives[t[1]].close),s=i.lastIndexOf(t[3]),i=i.substr(0,s)+i.slice(s+t[3].length-1),this.regExp.block.test(i)&&(o=this.regExp.block.exec(i),i=i.replace(o[0],this._handleCompleteBlock(o))),u=t[2].split(this.regExp.blockDirective),e.push(i.slice(0,i.indexOf(") {")+3)),e.push(i.slice(i.indexOf(") {")+3)),r;r<u.length;r++)u[r]&&u[r].length&&u[r].length>0&&(e[1]=e[1].replace(u[r],"result += args["+this.i+++"];"),this.args.push(u[r]));for(i=e.join(""),t=this.regExp.blockCont.exec(i);t;)i=i.replace("{{"+t[1],this._directives[t[1]].start),i=i.replace(/\}\}/,this._directives[t[1]].close),t=this.regExp.blockCont.exec(i);for(f=this.regExp.sub.exec(i);f;)i=i.replace(new RegExp("\\$\\{"+f[1]+"\\}","g"),"args["+this.i+++"]"),this.args.push(f[0]),f=this.regExp.sub.exec(i);return i},_populateTemplate:function(t,i){var r,f,e="",u;if(n.type(i)!=="array"){for(r=0;r<this.tokens.length;r++)t=this._populateArgumentValue(i,this.tokens[r],t);e=t}else for(f=0;f<i.length;f++){for(u=t,r=0;r<this.tokens.length;r++)u=this._populateArgumentValue(i[f],this.tokens[r],u);u=u.replace(this.regExp.index,f),e+=u}return e},_getUndefinedArgLocale:function(){return n.ig.util?n.ig.util.getLocaleValue("Templating","undefinedArgument"):n.ig.Templating.locale.undefinedArgument},_compileTemplate:function(t,i){var u,f,o,s="",h,e=[],r="",c;if(n.type(i)!=="array"){for(f=0;f<this.args.length;f++){for(r=this.args[f],u=0;u<this.tokens.length;u++)if(r===this.tokens[u][0]){r=this._getArgumentValue(i,this.tokens[u],r);break}else typeof r=="string"&&(r=this._populateArgumentValue(i,this.tokens[u],r));if(r===undefined)throw new Error(this._getUndefinedArgLocale()+this.tokens[u][0]);typeof r=="string"&&(r=r.replace(this.regExp.index,0)),e.push(r)}t=t.replace(/\$i/g,0),s=new Function("args",t).call(this,e)||""}else for(h=t.replace(this.regExp.index,"args["+this.args.length+"]"),c=new Function("args",h),f=0;f<i.length;f++){for(e=[],o=0;o<this.args.length;o++){for(r=this.args[o],u=0;u<this.tokens.length;u++)if(r===this.tokens[u][0]){r=this._getArgumentValue(i[f],this.tokens[u],r);break}else typeof r=="string"&&(r=this._populateArgumentValue(i[f],this.tokens[u],r));if(r===undefined)throw new Error(this._getUndefinedArgLocale()+this.tokens[u][0]);typeof r=="string"&&(r=r.replace(this.regExp.index,f)),e.push(r)}e.push(f),s+=c.call(this,e)||""}return s},_getArgumentValue:function(n,t,i){var r,u;if(t[1].length&&t[1].length>1){for(r=n,u=0;u<t[1].length;u++)if(r&&r.hasOwnProperty(t[1][u]))r=r[t[1][u]];else{r="";break}i=t[2]&&typeof r=="string"?this.encode(r):r}else i=t[2]&&typeof n[t[1]]=="string"?this.encode(n[t[1]]):n[t[1]];return i},_populateArgumentValue:function(n,t,i){var r,u,f=this;if(t[1].length&&t[1].length>1){for(r=n,u=0;u<t[1].length;u++)if(r&&r.hasOwnProperty(t[1][u]))r=typeof r[t[1][u]]=="function"?r[t[1][u]]():r[t[1][u]];else{r="";break}i=t[2]&&typeof r=="string"?i.replace(t[3],function(){return f.encode(r)}):i.replace(t[3],function(){return r===null?"":r})}else i=t[2]?i.replace(t[3],function(){return f.encode(typeof n[t[1]]=="function"?n[t[1]]():n[t[1]])}):i.replace(t[3],function(){return n[t[1]]===null?"":typeof n[t[1]]=="function"?n[t[1]]():n[t[1]]});return i}})}(n),function(n){n.widget("ui.igWidget",{localeWidgetName:null,localeContainer:null,options:{locale:null,language:"en",regional:"defaults"},_createWidget:function(t){this._userPreset=t,this._registerWidget(),t&&t.language||(this.options.language=n.ig.util.language),this._superApply(arguments)},_setOption:function(n,t){if(n!=="language"||this.options.language!==t){this._super(n,t);switch(n){case"language":case"locale":this.changeLocale();break;case"regional":this.changeRegional()}}},_registerWidget:function(){n.ig.util.widgetStack.push(this)},_unregisterWidget:function(){n.ig.util.widgetStack.splice(n.ig.util.widgetStack.indexOf(this),1)},_getRegionalValue:function(t){var i=this.options.regional;return this.options[t]?this.options[t]:(typeof i=="string"&&(i=n.ig.regional[i]),i&&i[t]?i[t]:n.ig.regional.defaults[t])},_getLocaleValueFromCollection:function(n,t){return t?t[n]||"":""},_getLocaleDictionary:function(){var i=this.options.language,t=this.localeWidgetName||this.widgetName.replace("ig","");return n.ig.locale[i]&&n.ig.locale[i][t]||n.ig[t]&&n.ig[t].locale||n.ig[t.toLowerCase()]&&n.ig[t.toLowerCase()].locale},_getLocaleValue:function(t){var i=n.extend({},this._getLocaleDictionary());return i=n.extend(i,this.options.locale),this._getLocaleValueFromCollection(t,i)},_changeLocaleForElement:function(n){var t=n.attr("data-localeid");t&&this._changeLocaleByKey(t,n)},_changeLocaleByKey:function(n,t){var i=t.attr("data-localeattr");i?t.attr(i,this._getLocaleValue(n)):t.text(this._getLocaleValue(n))},changeRegional:n.noop,changeLocale:function(t){var i=this;t=t||this.localeContainer||this.element,t.find("[data-localeid]").addBack("[data-localeid]").each(function(){i._changeLocaleForElement(n(this))})},changeGlobalLanguage:function(){this._userPreset&&this._userPreset.language||this._setOption("language",n.ig.util.language)},changeGlobalRegional:function(){this._userPreset&&this._userPreset.regional||this._setOption("regional",n.ig.util.regional)},destroy:function(){this._unregisterWidget(),this._super()}}),n.extend(n.ui.igWidget,{version:"19.2.25"})}(n),function(n){n.widget("ui.igLoading",{options:{cssClass:null,includeVerticalOffset:!0},_indicator:null,_create:function(){var i,t;t=this.options.cssClass===null?"ui-igloadingmsg":this.options.cssClass,this._hgrid=this.element.closest(".ui-iggrid-root").closest(".ui-iggrid"),this.element.children("."+t).length===0&&(this._indicator=n("<span><\/span>").appendTo(this.element).attr("id",this.element[0].id+"_loading").addClass(t),i=this.element.igOffset(),this.refreshPos()),this._yShift=this._indicator?Math.round(this._indicator.height()/2):0},indicatorElement:function(){return this._indicator},indicator:function(){return this},show:function(t){t!==!1&&this.refreshPos(),this._resId&&clearInterval(this._resId),this._resId=setInterval(n.proxy(this._resizeContainer,this),300),this._indicator.css("display","").css("visibility","visible")},hide:function(){this._indicator.css("display","none").css("visibility","hidden"),clearInterval(this._resId),this._resId=null},_resizeContainer:function(){var n=this.element.igOffset();n.top+this.element.innerHeight()/2-this._yShift!==this._indicator.css("top")&&this.refreshPos()},refreshPos:function(){var t=this.element.igOffset(),i=t.top+this.element.innerHeight()/2-this._yShift,u=t.left+this.element.innerWidth()/2,r,f;this._hgrid.length>0&&i>this._hgrid.igOffset().top+this._hgrid.height()||this._hgrid.length>0&&u>this._hgrid.igOffset().left+this._hgrid.width()||(this.options.includeVerticalOffset&&i>n(window).height()&&(r=(n(window).height()-t.top-n(window).scrollTop())/2,i=n(window).height()-r<t.top?t.top+r:n(window).height()-r),f=n.ig.util.getRelativeOffset(this._indicator),i-=f.top,u-=f.left,this._indicator.css("left",u).css("top",i))},destroy:function(){clearInterval(this._resId),this._indicator.remove()}}),n.extend(n.ui.igLoading,{version:"19.2.25"}),n.widget("ui.igSlider",n.ui.mouse,{options:{animate:!1,max:100,min:0,orientation:"horizontal",step:1,value:0,bookmarks:[{value:0,title:"",disabled:!1,css:""}],showBookmarkTitle:!0,syncHandleWithBookmark:!0},css:{baseClasses:"ui-igslider ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igslider-horizontal",verticalOrientationClass:"ui-igslider-vertical",sliderDisabledClass:"ui-igslider-disabled ui-disabled",handleClass:"ui-igslider-handle",bookmarkClass:"ui-igslider-bookmark",bookmarkDisabledClass:"ui-igslider-bookmark-disabled",bookmarkTooltipClass:"ui-igslider-bookmark-tooltip"},events:{start:"start",slide:"slide",stop:"stop",change:"change",bookmarkHit:"bookmarkhit",bookmarkClick:"bookmarkclick"},_numpages:5,widget:function(){return this.element},_createWidget:function(){this.options.bookmarks=[],n.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var i=this.options,t=this,r=this.css;this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass(r.baseClasses),i.disabled&&this.element.addClass(r.sliderDisabledClass),n(".ui-igslider-handle",this.element).length===0&&n("<a href='#'><\/a>").appendTo(this.element).addClass(r.handleClass),this.handles=n(".ui-igslider-handle",this.element).addClass("ui-state-default ui-corner-all").bind({click:function(n){n.preventDefault()},mouseover:function(){i.disabled||n(this).addClass("ui-state-hover")},mouseout:function(){n(this).removeClass("ui-state-hover")},focus:function(){i.disabled?n(this).blur():(n(".ui-igslider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))},blur:function(){n(this).removeClass("ui-state-focus")},keydown:function(i){var e=!0,o=n(this).data("index.ui-igslider-handle"),s,u,r,f;if(!t.options.disabled){switch(i.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(e=!1,!t._keySliding&&(t._keySliding=!0,n(this).addClass("ui-state-active"),s=t._start(i,o),s===!1))return}f=t.options.step,u=r=t.value();switch(i.keyCode){case n.ui.keyCode.HOME:r=t.options.min;break;case n.ui.keyCode.END:r=t.options.max;break;case n.ui.keyCode.PAGE_UP:r=t._trimValue(u+(t.options.max-t.options.min)/this._numpages);break;case n.ui.keyCode.PAGE_DOWN:r=t._trimValue(u-(t.options.max-t.options.min)/this._numpages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===t.options.max)return;r=t._trimValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===t.options.min)return;r=t._trimValue(u-f)}return t._slide(i,o,r),e}},keyup:function(i){var r=n(this).data("index.ui-igslider-handle");t._keySliding&&(t._keySliding=!1,t._stop(i,r),t._change(i,r),n(this).removeClass("ui-state-active"))}}).each(function(t){n(this).data("index.ui-igslider-handle",t)}),this.handle=this.handles.eq(0),this._renderBookmarks(),this._refreshValue(),this._animateOff=!1},_renderBookmarks:function(){if(this.options.bookmarks&&this.options.bookmarks.length>0){var e=this.options.bookmarks.length,u=0,t=this.options,f=this.css,r,i=this;for(u;u<e;u++)r=t.bookmarks[u],n("<a href='#'><\/a>").appendTo(this.element).data("index.ui-igslider-bookmark",u).addClass(r.disabled?f.bookmarkDisabledClass:f.bookmarkClass).addClass(r.css&&r.css.length>0?r.css:"").css("left",t.min!==t.max?(r.value-t.min)/(t.max-t.min)*100+"%":"0%");this.bookmarks=n(".ui-igslider-bookmark",this.element).addClass("ui-state-default").bind({mousedown:function(t){var r=!0,u=n(this).data("index.ui-igslider-bookmark");t.preventDefault(),t.stopPropagation(),r=i._bookmarkClicked(t,u),i.options.syncHandleWithBookmark&&r&&i._slide(t,0,i.options.bookmarks[u].value)},mouseover:function(r){t.disabled||(n(this).addClass("ui-state-hover"),i.options.showBookmarkTitle&&i._showBookmarkTitle(n(this),r))},mouseout:function(){t.disabled||(n(this).removeClass("ui-state-hover"),i.options.showBookmarkTitle&&i._hideBookmarkTitle(n(this)))},click:function(n){n.preventDefault()}}),this._createBookmarkTooltip(),this._buildBookmarkHit()}},destroy:function(){return this.handles.remove(),this.clearBookmarks(),this.element.removeClass(this.css.baseClasses+" ui-igslider-horizontal ui-igslider-vertical ui-igslider-disabled").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_id:function(n){return this.element[0].id+n},_showBookmarkTitle:function(t,i){var r=n("#"+this._id("_tooltip")),u=this.options.bookmarks[t.data("index.ui-igslider-bookmark")].title;u&&u.length>0&&(r.igTooltip("option","text",u),r.css("top",i.pageY-r.outerHeight()-5).css("left",i.pageX-r.width()/2+t.width()/2).show())},_hideBookmarkTitle:function(){n("#"+this._id("_tooltip")).hide()},_createBookmarkTooltip:function(){var t='<div id="'+this._id("_tooltip")+'" class="'+this.css.bookmarkTooltipClass+'"><\/div>';n(t).appendTo(n(document.body)).igTooltip({arrowLocation:"bottom"}).hide()},clearBookmarks:function(){this.bookmarks&&(n("#"+this._id("_tooltip")).remove(),this.bookmarks.remove())},_mouseCapture:function(t){var h=this.options,f,e,r=0,i=this.handles.eq(r),o=this,u,s;return h.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.igOffset(),f={x:t.pageX,y:t.pageY},e=this._normValueFromMouse(f),this._mouseSliding=!0,o._handleIndex=r,i.addClass("ui-state-active"),n.ig.util.isOpera||i.focus(),u=i.offset(),s=!n(t.target).addBack().is(".ui-igslider-handle"),this._clickOffset=s?{left:0,top:0}:{left:t.pageX-u.left-i.width()/2,top:t.pageY-u.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this._slide(t,r,e),this._animateOff=!0,this._mouseUpHandler=function(n){return o._mouseStop(n)},n(document).bind("mouseup."+this.widgetName,this._mouseUpHandler),!0)},_mouseStart:function(t){return n(document).unbind("mouseup."+this.widgetName,this._mouseUpHandler),this._start(t,this._handleIndex)},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){var t=this;return this.handles.removeClass("ui-state-active"),setTimeout(function(){t._mouseSliding=!1},1e3),this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){var t=this.options,n=this.css;t.orientation==="vertical"?(this.orientation="vertical",this.element.removeClass(n.horizontalOrientationClass).addClass(n.verticalOrientationClass)):(this.orientation="horizontal",this.element.removeClass(n.verticalOrientationClass).addClass(n.horizontalOrientationClass))},_normValueFromMouse:function(n){var i,r,t,u,f;return this.orientation==="horizontal"?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),u=this.options.max-this.options.min,f=this.options.min+t*u,this._trimValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this._trigger(this.events.start,n,i)},_slide:function(n,t,i){var r;i!==this.value()&&(r=this._trigger(this.events.slide,n,{handle:this.handles[t],value:i}),r!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this._trigger(this.events.stop,n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this._trigger(this.events.change,n,i),this._checkBookmarkHit(i.value,n),i.value===this.options.max&&this._marksHit&&this._marksHit.length===0&&this._buildBookmarkHit()}},_checkBookmarkHit:function(n,t){if(this._marksHit&&this._marksHit.length>0&&n>=this._marksHit[0].value){var i=this._marksHit[0].index;this._marksHit.shift(),this._bookmarkHit(t,i)}},_buildBookmarkHit:function(){var i=this.options.bookmarks||[],t=i.length-1;for(this._marksHit=[],t;t>=0;t--)i[t].disabled||this._marksHit.push({value:i[t].value,index:t});this._marksHit.sort(this._sortBookmarksJSON),this._marksHit=n.extend(!0,[],this._marksHit)},_sortBookmarksJSON:function(n,t){return n.value-t.value},_bookmarkClicked:function(n,t){var i={bookmarkElement:this.bookmarks[t],bookmark:this.options.bookmarks[t]};return this._trigger(this.events.bookmarkClick,n,i)},_bookmarkHit:function(n,t){var i={bookmarkElement:this.bookmarks[t],bookmark:this.options.bookmarks[t]};i.bookmarkElement&&this._trigger(this.events.bookmarkHit,n,i)},value:function(n){return arguments.length&&(this.options.value=this._trimValue(n),this._refreshValue(),this._change(null,0)),this._value()},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this._refreshValue();break;case"value":if(this._mouseSliding===!0)return;this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"bookmarks":this.clearBookmarks(),this._renderBookmarks()}},_value:function(){return this._trimValue(this.options.value)},_trimValue:function(n){if(n<this.options.min)return this.options.min;if(n>this.options.max)return this.options.max;var t=this.options.step>0?this.options.step:1,i=n%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_normPercentValue:function(n){var t=0,i=n;return this.orientation==="vertical"&&(t=(this.handle.outerHeight()/this.element.outerHeight()).toFixed(2)*100),n-t>0&&(i=n-t),i},_refreshValue:function(){var t=this.options,u=this,f=this._animateOff?!1:t.animate,i={},e=this.value(),n=this.options.min,r=this.options.max,o=r!==n?(e-n)/(r-n)*100:0;i[u.orientation==="horizontal"?"left":"bottom"]=this._normPercentValue(o)+"%",this.handle.stop(1,1)[f?"animate":"css"](i,t.animate)}}),n.extend(n.ui.igSlider,{version:"19.2.25"}),n.widget("ui.igProgressBar",{options:{animate:!1,animateTimeout:100,max:100,min:0,orientation:"horizontal",value:0,width:"0px",height:"0px",range:!1,queue:!0,endValue:100},css:{baseClasses:"ui-igprogressbar ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igprogressbar-horizontal",verticalOrientationClass:"ui-igprogressbar-vertical",disabledClass:"ui-igprogressbar-disabled ui-disabled",progressRangeClass:"ui-igprogressbar-range ui-widget-header ui-corner-all"},events:{change:"change"},_animationOff:!0,widget:function(){return this.element},_detectOrientation:function(){var n=this.css;this.options.orientation==="vertical"?(this.orientation="vertical",this.element.removeClass(n.horizontalOrientationClass).addClass(n.verticalOrientationClass)):(this.orientation="horizontal",this.element.removeClass(n.verticalOrientationClass).addClass(n.horizontalOrientationClass))},_id:function(n){return this.element[0].id+n},_create:function(){var t=this.options,i=this.css;this._detectOrientation(),this.element.addClass(i.baseClasses),t.disabled&&this.element.addClass(i.disabledClass),t.width!=="0px"&&this.element.css("width",t.width),t.height!=="0px"&&this.element.css("height",t.height),t.orientation==="horizontal"?n('<div id="'+this._id("_progress")+'" class="'+i.progressRangeClass+'" style="height:100%; top:0px; left:0%; width:0%;"><\/div>').appendTo(this.element):n('<div id="'+this._id("_progress")+'" class="'+i.progressRangeClass+'" style="height:0%; bottom:0%; left:0px; width:100%;"><\/div>').appendTo(this.element),this._refreshValue()},destroy:function(){return this.element.removeClass("ui-igprogressbar ui-igprogressbar-horizontal ui-igprogressbar-vertical ui-igprogressbar-disabled ui-widget ui-widget-content ui-corner-all").removeData("igProgressBar").unbind(".igProgressBar"),n("#"+this._id("_progress")).remove(),this},_change:function(n){var t={value:this.value()};this._trigger(this.events.change,n,t)},value:function(n){return arguments.length&&(this.options.value=this._trimValue(n),this._refreshValue(),this._change(null)),this.options.value},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);var r=this.options;switch(t){case"disabled":i?this.element.addClass(this.css.disabledClass):this.element.removeClass(this.css.disabledClass);break;case"orientation":this._detectOrientation(),this._refreshValue();break;case"value":this._animationOff=!0,r.value=this._trimValue(i),this._refreshValue(),this._change(null),this._animationOff=!1;break;case"endValue":r.endValue=this._trimValue(i),this._refreshValue();break;case"max":r.endValue>r.max&&(r.endValue=r.max,this._refreshValue());break;case"width":this.element.css("width",i);break;case"height":this.element.css("height",i);break;case"animate":r.animate=i;break;case"animateTimeout":r.animateTimeout=i}},_trimValue:function(n){return n<this.options.min?this.options.min:n>this.options.max?this.options.max:parseInt(n,10)},_refreshValue:function(){var i=this.options,h={duration:i.animateTimeout,queue:i.queue},f=i.value,u=i.min,e=i.max,o=i.endValue,r=e!==u?(f-u)/(e-u)*100:0,s=f!==o?(o-f)/(e-u)*100:0,t=n("#"+this._id("_progress"));i.range?i.orientation==="horizontal"?t.css("left",r+"%").css("width",s+"%"):t.css("bottom",r+"%").css("height",s+"%"):i.animate===!0?i.orientation==="horizontal"?(t[0].style.width==="0%"&&t.css({width:"0px"}),t.is(":hidden")===!1?t.animate({width:r+"%"},h):t.css("width",r+"%")):(t[0].style.height==="0%"&&t.css({height:"0px"}),t.is(":hidden")===!1?t.animate({height:r+"%"},i.animateTimeout):t.animate({height:r+"%"},i.animateTimeout)):i.orientation==="horizontal"?t.css("width",r+"%"):t.css("height",r+"%")}}),n.extend(n.ui.igProgressBar,{version:"19.2.25"}),n.widget("ui.igButton",{options:{width:null,height:null,link:{href:null,target:null,title:null},labelText:"",centerLabel:!1,css:null,onlyIcons:!1,icons:{primary:null,secondary:null},title:!1},_id:function(n){return this.element[0].id+n},_create:function(){var t=this,i=t.options,r=this.element,u,f={buttonClassIE6:"ui-ie6",buttonClasses:"ui-button ui-igbutton ui-widget ui-widget-content ui-corner-all ui-state-default",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"};if(this._attached=!1,i.css=n.extend(f,i.css),t._getInitValues(),r.is("div"))t._renderDivButton();else if(r.is("a"))t._renderAHref();else if(r.is("input"))if(u=r.attr("type").toUpperCase(),u==="BUTTON"||u==="SUBMIT"||u==="RESET")t._renderInput();else return;else if(r.is("button"))t._renderButton();else return;return i.width!==null&&t._setWidth(i.width),i.height!==null&&t._setHeight(i.height),r.addClass(i.css.buttonClasses).addClass(i.css.buttonDefaultClasses),i.centerLabel===!0&&t._centerLabel(),i.disabled?t._disableButton():t._enableButton(),t._setOnlyIcons(),r.attr("role","button"),r.attr("aria-disabled","false"),t._attachButtonEvents(),t.setTitle(i.title),this},setTitle:function(n){var t=this.element;n===!1?t.removeAttr("title"):t.attr("title",n)},widget:function(){return this.element},_isRedirect:function(){return this.options.link.href!==null},_renderDivButton:function(){this._setLabel()},_renderAHref:function(){this._setLabel()},_renderInput:function(){var n=this.element;n.attr("value",this.options.labelText)},_renderButton:function(){this._setLabel()},_disableButton:function(){var t=this,n=t.element;n.addClass(t.options.css.buttonDisabledClass),n.is("a")===!0?(n.removeAttr("href"),n.removeAttr("target"),n.removeAttr("title")):n.attr("disabled","true")},_enableButton:function(){var t=this,n=t.element,i=this.options;n.hasClass(i.css.buttonDisabledClass)&&n.removeClass(i.css.buttonDisabledClass),n.removeAttr("disabled"),n.is("a")===!0&&t._setLinkOptions(!0)},_setLabel:function(){var t=this.element,n=this.options,e=n.icons,i=n.css,r="",u=this._isSetPrimaryIcon(),f=this._isSetSecondaryIcon(),o=n.labelText===null||n.labelText===""?t.text():n.labelText;if(t.attr("title",n.labelText),t.is("input")){t.attr("value",n.labelText);return}u&&(r+='<span class="'+i.buttonPrimaryIconClass+" "+e.primary+'" id="'+this._id("_picn")+'"><\/span>'),r+='<span class="'+n.css.buttonLabelClass+'" id="'+this._id("_lbl")+'">'+o+"<\/span>",f&&(r+='<span class="'+i.buttonSecondaryIconClass+" "+e.secondary+'" id="'+this._id("_sicn'")+'"><\/span>'),u&&f&&!n.onlyIcons?t.addClass(i.buttonIcons):n.onlyIcons?this._setOnlyIcons():u?t.addClass(i.buttonMainElementPrimaryIconClass):f?t.addClass(i.buttonMainElementSecondaryIconClass):t.addClass(i.buttonTextOnlyClass),t.html(r)},_setOnlyIcons:function(){var n=this.element,t=this.options.css;this.options.onlyIcons===!1?(n.hasClass(t.buttonIconsOnly)&&n.removeClass(t.buttonIconsOnly),n.hasClass(t.buttonIconOnly)&&n.removeClass(t.buttonIconOnly),this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()&&n.addClass(t.buttonIcons)):this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()?n.addClass(t.buttonIconsOnly):n.addClass(t.buttonIconOnly)},_setLinkOptions:function(n){var r=this,t=r.element,i=this.options;n&&(i.link!==null&&i.link.href!==null?t.attr("href",i.link.href):t.attr("href")!==undefined&&t.removeAttr("href"),i.link!==null&&i.link.target!==null?t.attr("target",i.link.target):t.attr("target")!==undefined&&t.removeAttr("target"),i.link!==null&&i.link.title!==null?t.attr("title",i.link.title):t.attr("title")!==undefined&&t.removeAttr("title"))},_setWidth:function(n){var t=this.element;n===null?t.css("width",""):t.css("width",n)},_setHeight:function(n){var t=this.element;n===null?t.css("height",""):t.css("height",n)},_setOption:function(t,i){var u=this.element,r=this;n.Widget.prototype._setOption.apply(this,[t,i]);switch(t){case"width":r._setWidth(i);break;case"height":r._setHeight(i);break;case"link":r._setLinkOptions(u.is("a")===!0);break;case"disabled":i=Boolean(i),i===!0?r._disableButton():r._enableButton();break;case"labelText":r._setLabel();break;case"centerLabel":i=Boolean(i),i?r._centerLabel():r._removeCenterLabel();break;case"onlyIcons":i=Boolean(i),r._setOnlyIcons();break;case"icons":r._setLabel();break;case"title":r.setTitle(i)}},_centerLabel:function(){var i=this,r=i.element,t=n("#"+i._id("_lbl")),u=(r.width()-t.width())/2,f=(r.height()-t.height())/2;t.css({position:"relative",top:f+"px",left:u+"px"})},_removeCenterLabel:function(){var i=this,t=n("#"+i._id("_lbl"));t.length>0&&t.css({position:"",top:"",left:""})},_dettachEvents:function(){this._attached=!1,this.element.unbind(this._events)},_onMouseOver:function(n){var t;this.options.disabled!==!0&&(t=this._trigger("mouseover",n),t&&this.element.addClass(this.options.css.buttonHoverClasses))},_onMouseOut:function(n){var t=this,u=t.element,i=this.options,r;i.disabled!==!0&&(r=t._trigger("mouseout",n),r&&u.removeClass(i.css.buttonHoverClasses))},_onClick:function(n){var u=this.element,i=this,t=this.options,r;t.disabled!==!0&&(r=i._trigger("click",n),r&&(this.element.removeClass(t.css.buttonHoverClasses),i._isRedirect()===!0&&u.is("a")===!1&&(t.link.target==="_blank"?window.open(t.link.href):window.location=t.link.href)))},_onMouseDown:function(n){var i=this.element,t=this.options,r;t.disabled!==!0&&(r=this._trigger("mousedown",n),r&&(i.removeClass(t.css.buttonHoverClasses),i.addClass(t.css.buttonActiveClasses)))},_onMouseUp:function(n){var t=this.options,i;t.disabled!==!0&&(i=this._trigger("mouseup",n),i&&(this.element.removeClass(t.css.buttonHoverClasses),this.element.removeClass(t.css.buttonActiveClasses)))},_onFocus:function(n){var t=this.options,i;t.disabled!==!0&&(i=this._trigger("focus",n),i&&this.element.addClass(t.css.buttonFocusClasses))},_onBlur:function(n){var t=this.options,i;t.disabled!==!0&&(i=this._trigger("blur",n),i&&(this.element.removeClass(t.css.buttonActiveClasses),this.element.removeClass(t.css.buttonFocusClasses)))},_onKeyDown:function(n){var t=this.options;t.disabled!==!0&&this._trigger("keydown",n)},_attachButtonEvents:function(){var n=this,t=n.element;this._attached!==!0&&(this._attached=!0,this._events={mouseover:function(t){n._onMouseOver(t,n)},click:function(t){n._onClick(t)},mouseout:function(t){n._onMouseOut(t)},mousedown:function(t){n._onMouseDown(t)},mouseup:function(t){n._onMouseUp(t)},focus:function(t){n._onFocus(t)},blur:function(t){n._onBlur(t)},keydown:function(t){n._onKeyDown(t)}},t.bind(this._events))},_isSetPrimaryIcon:function(){var n=this.options.icons.primary,t=!1;return n!==undefined&&n!==null&&(t=!0),t},_isSetSecondaryIcon:function(){var n=this.options.icons.secondary,t=!1;return n!==undefined&&n!==null&&(t=!0),t},destroy:function(){this._dettachEvents(),this._rollbackInitValues(),this._events=null,this._innerHTML=null,this._initialAttributes=null,n.Widget.prototype.destroy.apply(this,arguments)},_getInitValues:function(){var i=this.element,t,n;for(this._innerHTML=i.html(),this._initialAttributes=[],t=i[0].attributes,n=0;n<t.length;n++)t[n].name!=="id"&&t[n].name!=="type"&&this._initialAttributes.push({name:t[n].name,value:t[n].value})},_rollbackInitValues:function(){var i=this.element,t,r,n;for(this._innerHTML!==undefined&&i.html(this._innerHTML),t=i[0].attributes,r=[],n=0;n<t.length;n++)t[n].name!=="id"&&t[n].name!=="type"&&r.push(t[n].name);for(n=0;n<r.length;n++)i.removeAttr(r[n]);if(this._initialAttributes)for(n=0;n<this._initialAttributes.length;n++)this._initialAttributes[n].name!=="id"&&i.attr(this._initialAttributes[n].name,this._initialAttributes[n].value)}}),n.extend(n.ui.igButton,{version:"19.2.25"}),n.widget("ui.igTooltip",{css:{baseClasses:"ui-widget ui-igpopover ui-igplayer-tooltip",arrowImageBaseClass:"ui-igpopover-arrow-"},options:{text:"",arrowLocation:"top"},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"text":n("div.ui-widget-content",this.element).html(i);break;case"arrowLocation":n("div",this.element).remove(),this._renderTooltip()}},_create:function(){this.element.is("div")&&(this._renderTooltip(),this.element.addClass(this.css.baseClasses))},_renderTooltip:function(){switch(this.options.arrowLocation){case"top":this._createArrowDiv(),this._createContentDiv();break;case"bottom":this._createContentDiv(),this._createArrowDiv()}},_createContentDiv:function(){var t=this.options.text&&this.options.text.length>0?this.options.text:"";n('<div class="ui-widget-content ui-corner-all">'+t+"<\/div>").appendTo(this.element)},_createArrowDiv:function(){n('<div class="'+this.css.arrowImageBaseClass+this.options.arrowLocation+'"><\/div>').appendTo(this.element)},destroy:function(){this.element.children().remove(),this.element.removeClass(this.css.baseClasses)}}),n.extend(n.ui.igTooltip,{version:"19.2.25"}),n.widget("ui.mouseWrapper",n.ui.mouse,{options:{cancel:":input,option",distance:1,delay:0},events:{start:"start",drag:"drag",stop:"stop",capture:"capture"},_create:function(){var t=this,i=this._mouseDown;n.ig.util.isIE9&&(this._mouseDown=function(n){var u=n.preventDefault,r;return n.preventDefault=function(){},r=i.apply(t,[n]),n.preventDefault=u,r}),this._mouseInit()},destroy:function(){return this._mouseDestroy(),this},_mouseStart:function(n){return this._trigger(this.events.start,n)},_mouseDrag:function(n){return this._trigger(this.events.drag,n)},_mouseStop:function(n){return this._trigger(this.events.stop,n)},_mouseCapture:function(n){return this._trigger(this.events.capture,n)}}),n.widget("ui.igResponsiveContainer",{options:{pollingInterval:500},_createWidget:function(t,i){this._callbacks=[],this._element=i,this._pollerHandler=n.proxy(this._pollerTick,this),this._startPoller(),this._width=this._getCurrentWidth(),this._height=this._getCurrentHeight(),n.Widget.prototype._createWidget.apply(this,arguments)},destroy:function(){return this._stopPoller(),this._callbacks=[],n.Widget.prototype.destroy.call(this),this},startPoller:function(){this._startPoller()},stopPoller:function(){this._stopPoller()},removeCallback:function(n){n>=0&&n<this._callbacks.length&&this._callbacks.splice(n,1)},addCallback:function(n,t,i,r){return this._callbacks.push({callback:n,owner:t,step:i,left:r==="xy"||r==="x",top:r==="xy"||r==="y",cWidth:this._getCurrentWidth(),cHeight:this._getCurrentHeight()})-1},_startPoller:function(){this._intervalId=setInterval(this._pollerHandler,this.options.pollingInterval)},_stopPoller:function(){this._intervalId&&(clearInterval(this._intervalId),delete this._intervalId)},_pollerTick:function(){for(var t=this._getCurrentWidth(),i=this._getCurrentHeight(),n,u=!1,r=0;r<this._callbacks.length;r++)n=this._callbacks[r],n.left===!0&&Math.abs(n.cWidth-t)>n.step&&(n.callback.apply(n.owner,[t,i]),n.cWidth=t,n.cHeight=i,u=!0),n.top===!0&&u===!1&&Math.abs(n.cHeight-i)>n.step&&(n.callback.apply(n.owner,[t,i]),n.cWidth=t,n.cHeight=i);this._width=t,this._height=i},_getCurrentWidth:function(){return this._element.offsetWidth},_getCurrentHeight:function(){return this._element.offsetHeight}}),n.extend(n.ui.igResponsiveContainer,{version:"19.2.25"})}(n),function(n){var t=typeof Element.prototype.msSetPointerCapture=="function"?"msSetPointerCapture":"setPointerCapture",i=typeof Element.prototype.msReleasePointerCapture=="function"?"msReleasePointerCapture":"releasePointerCapture";n.widget("ui.igScroll",n.ui.igWidget,{options:{alwaysVisible:!1,scrollbarType:"custom",minThumbSize:15,modifyDOM:!0,scrollHeight:null,scrollWidth:null,scrollTop:0,scrollLeft:0,wheelStep:50,smallIncrementStep:40,bigIncrementStep:null,smoothing:!1,smoothingStep:1,smoothingDuration:1,inertiaStep:1,inertiaDuration:1,swipeToleranceX:30,inertiaDeltaX:1.25,inertiaDeltaY:2,syncedElemsH:[],syncedElemsV:[],scrollbarH:null,scrollbarV:null,scrollOnlyHBar:!1,scrollOnlyVBar:!1,scrollbarHParent:null,scrollbarVParent:null},events:{rendered:null,scrolling:null,scrolled:null,thumbDragStart:null,thumbDragMove:null,thumbDragEnd:null,resizing:null,resized:null},css:{scrollableElem:"igscroll-scrollable",touchScrollableElem:"igscroll-touchscrollable",scrollContent:"igscroll-content",scrollContainer:"igscroll-container",nativeVScrollOuter:"igscroll-vnative-outer",nativeVScrollOuterSingle:"igscroll-vnative-outer-single",nativeVScrollInner:"igscroll-vnative-inner",nativeHScrollOuter:"igscroll-hnative-outer",nativeHScrollOuterSingle:"igscroll-hnative-outer-single",nativeHScrollInner:"igscroll-hnative-inner",nativeScrollFiller:"igscroll-filler",verticalScrollContainer:"igscroll-vcontainer",verticalScrollTrack:"igscroll-vtrack",verticalScrollTrackSingleScrollbar:"igscroll-vtrack-single",verticalScrollArrow:"igscroll-varrow",verticalScrollArrowHidden:"igscroll-varrow-hidden",verticalScrollArrowUp:"igscroll-uparrow",verticalScrollArrowDown:"igscroll-downarrow",verticalScrollArrowDownSingleScrollbar:"igscroll-downarrow-single",verticalScrollThumbDrag:"igscroll-vdrag",verticalScrollThumbDragThin:"igscroll-vdrag-thin",verticalScrollThumbDragHidden:"igscroll-vdrag-hidden",verticalScrollThumbDragBig:"igscroll-vdrag-big",horizontalScrollContainer:"igscroll-hcontainer",horizontalScrollTrack:"igscroll-htrack",horizontalScrollTrackSingleScrollbar:"igscroll-htrack-single",horizontalScrollArrow:"igscroll-harrow",horizontalScrollArrowHidden:"igscroll-harrow-hidden",horizontalScrollArrowLeft:"igscroll-leftarrow",horizontalScrollArrowRight:"igscroll-rightarrow",horizontalScrollArrowRightSingleScrollbar:"igscroll-rightarrow-single",horizontalScrollThumbDrag:"igscroll-hdrag",horizontalScrollThumbDragThin:"igscroll-hdrag-thin",horizontalScrollThumbDragHidden:"igscroll-hdrag-hidden",horizontalScrollThumbDragBig:"igscroll-hdrag-big",disabledSelection:"igscroll-select-disabled",syncedElemContentV:"igscroll-vsynced-content",syncedElemContentH:"igscroll-hsynced-content"},refresh:function(){return this._elemWidth=this.element.width(),this._elemHeight=this.element.height(),this.options.modifyDOM&&this._container.css({width:this._elemWidth+"px",height:this._elemHeight+"px"}),this._contentWidth=this._getContentWidth(),this._percentInViewH=this._elemWidth/this._contentWidth,this._isScrollableH=this._percentInViewH<1,this._contentHeight=this._getContentHeight(),this._percentInViewV=this._elemHeight/this._contentHeight,this._isScrollableV=this._percentInViewV<1,this._refreshScrollbars(),this.element},_create:function(){var t=this.element;this._bKeyboardNavigation=!0,this._renderVerticalScrollbar=!0,this._renderHorizontalScrollbar=!0,this._bMixedEnvironment=n.ig.util.getScrollWidth()>0||!n.ig.util.isTouchDevice(),this._linkedHElems=[],this._linkedVElems=[],this._linkedHBar=null,this._linkedVBar=null,this._elemWidth=t.width(),this._elemHeight=t.height(),this._showScrollbarsAnimId=0,this._hideScrollbarID=0,this._toSimpleScrollbarsID=0,this._touchInertiaAnimID=0,this._mOverContainer=!1,this._mOverScrollbars=!1,this._scrollFromSyncContentH=!1,this._scrollFromSyncContentV=!1,this._bInternalScroll=!1,this._cancelScrolling=!1,this._cancelThumbDrag=!1,this._numSmoothAnimation=0,t.addClass(this.css.touchScrollableElem),this.options.modifyDOM?(t.addClass(this.css.scrollableElem),this._content=n("<div id='"+t.attr("id")+"_content'/>").addClass(this.css.scrollContent).appendTo(t).append(t.contents()),this._container=n("<div id='"+t.attr("id")+"_container'/>").addClass(this.css.scrollContainer).css({width:this._elemWidth+"px",height:this._elemHeight+"px"}).insertBefore(this._content).append(this._content),this._container.data("containerName","scrollContainer"),this.element.attr("tabindex")&&this._container.attr("tabindex",this.element.attr("tabindex"))):(this._container=t,this._content=n(t.children()[0]),this._contentX=null),this._contentHeight=this._content[0].scrollHeight,this._contentWidth=this._content[0].scrollWidth,this._percentInViewH=this._elemWidth/this._contentWidth,this._percentInViewV=this._elemHeight/this._contentHeight,this._isScrollableV=this._percentInViewV<1,this._isScrollableH=this._percentInViewH<1,this._initOptions(this.options),this._startX=0,this._startY=0,this._touchStartX=0,this._touchStartY=0,this._moving=!1,this._evts={scroll:n.proxy(this._onScrollContainer,this),wheel:n.proxy(this._onWheelContainer,this),DOMMouseScroll:n.proxy(this._onWheelContainer,this),pointerdown:n.proxy(this._onPointerDownContainer,this),pointerup:n.proxy(this._onPointerUpContainer,this),MSPointerDown:n.proxy(this._onPointerDownContainer,this),MSGestureStart:n.proxy(this._onMSGestureStartContainer,this),MSGestureChange:n.proxy(this._onMSGestureChangeContainer,this),MSGestureEnd:n.proxy(this._onMSGestureEndContainer,this),touchstart:n.proxy(this._onTouchStartContainer,this),touchmove:n.proxy(this._onTouchMoveContainer,this),touchend:n.proxy(this._onTouchEndContainer,this),mouseenter:n.proxy(this._onMouseEnterContainer,this),mouseleave:n.proxy(this._onMouseLeaveContainer,this),keydown:n.proxy(this._onKeyDown,this)};this._container.on(this._evts);n(window).on("resize.igscroll_"+this.element[0].id,n.proxy(this._onDimensionsChange,this));typeof MutationObserver=="function"&&(this._observer=new MutationObserver(n.proxy(this._onElementMutation,this)),this._observer.observe(this.element[0],{attributes:!0})),this._updateScrollBarsVisibility(),this._hideScrollbars(),this.options.alwaysVisible?n.ig.util.isTouchDevice()?this._showScrollbars(!0):this._showScrollbars(!1):this._showScrollbars(!0,2e3),this._trigger("rendered",null,{owner:this})},_initOptions:function(n){n&&(typeof n.syncedElemsH[0]!="undefined"&&this._linkElementsH(n.syncedElemsH),typeof n.syncedElemsV[0]!="undefined"&&this._linkElementsV(n.syncedElemsV),n.scrollbarH!==null&&this._bindHScrollbar(n.scrollbarH),n.scrollbarV!==null&&this._bindVScrollbar(n.scrollbarV),n.scrollHeight!==null&&this._setScrollHeight(n.scrollHeight),n.scrollWidth!==null&&this._setScrollWidth(n.scrollWidth),n.scrollTop!==0&&this._scrollTop(n.scrollTop,!1),n.scrollLeft!==0&&this._scrollLeft(n.scrollLeft,!1))},changeLocale:function(){},_setOption:function(t,i){this._super(t,i),t==="alwaysVisible"&&i===!0&&(n.ig.util.isTouchDevice()?this._showScrollbars(!0):this._showScrollbars(!1)),t==="scrollbarType"&&(this._removeScrollbars(),i!=="none"&&(this._updateScrollBarsVisibility(),this._updateScrollbarsPos(this._getContentPositionX(),this._getContentPositionY()))),t==="minThumbSize"&&this.options.scrollbarType==="custom"&&this._refreshScrollbars(),t==="scrollTop"&&this._scrollTop(i,!0),t==="scrollLeft"&&this._scrollLeft(i,!0),t==="scrollHeight"&&(this._setScrollHeight(i),this._refreshScrollbars(),this._updateScrollbarsPos(this._getContentPositionX(),this._getContentPositionY())),t==="scrollWidth"&&(this._setScrollWidth(i),this._refreshScrollbars(),this._updateScrollbarsPos(this._getContentPositionX(),this._getContentPositionY())),t==="syncedElemsH"&&this._linkElementsH(i),t==="syncedElemsV"&&this._linkElementsV(i),t==="scrollbarH"&&this._bindHScrollbar(i),t==="scrollbarV"&&this._bindVScrollbar(i)},option:function(n,t){return n==="scrollTop"&&t===undefined?this._scrollTop(null,!0):n==="scrollLeft"&&t===undefined?this._scrollLeft(null,!0):n==="scrollHeight"&&t===undefined?this._getContentHeight():n==="scrollWidth"&&t===undefined?this._getContentWidth():this._super(n,t)},_getContainerHeight:function(){return Math.ceil(this._container.height())},_getContainerWidth:function(){return Math.ceil(this._container.width())},_getContentHeight:function(){var t=!!this._content[0].parentNode;return this.options.scrollHeight!==null?this.options.scrollHeight:n.ig.util.isIE&&t?Math.ceil(this._content[0].getBoundingClientRect().height):Math.ceil(this._content.outerHeight())},_getContentWidth:function(){var t=!!this._content[0].parentNode;return this.options.scrollWidth!==null?this.options.scrollWidth:n.ig.util.isIE&&t?Math.ceil(this._content[0].getBoundingClientRect().width):Math.ceil(this._content.outerWidth())},_getContentPositionX:function(){if(n.ig.util.isTouchDevice()&&!this._bMixedEnvironment){var t=0;return t=this._contentX?-this._getTransform3dValueX(this._contentX):-this._getTransform3dValueX(this._content)}return this._container.scrollLeft()},_getContentPositionY:function(){return n.ig.util.isTouchDevice()&&!this._bMixedEnvironment?-this._getTransform3dValueY(this._content):this._container.scrollTop()},_getTransform3dValueX:function(n){var t,i,r;return n.css("-webkit-transform")?(t=n.css("-webkit-transform"),i=t?t.match(/-?[\d\.]+/g):undefined,r=i?Number(i[4]):0):n.css("-moz-transform")?(t=n.css("-moz-transform"),i=t?t.match(/-?[\d\.]+/g):undefined,r=i?Number(i[4]):0):n.css("-ms-transform")&&(t=n.css("-ms-transform"),i=t?t.match(/-?[\d\.]+/g):undefined,r=i?Number(i[13]):0),r},_getTransform3dValueY:function(n){var t,i,r;return n.css("-webkit-transform")?(t=n.css("-webkit-transform"),i=t?t.match(/-?[\d\.]+/g):undefined,r=i?Number(i[5]):0):n.css("-moz-transform")?(t=n.css("-moz-transform"),i=t?t.match(/-?[\d\.]+/g):undefined,r=i?Number(i[5]):0):n.css("-ms-transform")&&(t=n.css("-ms-transform"),i=t?t.match(/-?[\d\.]+/g):undefined,r=i?Number(i[14]):0),r},_getScrollbarVPosition:function(){return this._linkedVBar?this._linkedVBar.scrollTop():this._getContentPositionY()},_getScrollbarHPosition:function(){return this._linkedHBar?this._linkedHBar.scrollLeft():this._getContentPositionX()},_scrollLeft:function(t,i,r){if(t==="undefined"||t===null)return this._getContentPositionX();if(cancelAnimationFrame(this._touchInertiaAnimID),n.ig.util.isTouchDevice()&&!this._bMixedEnvironment){var u=this._getContentPositionY();this._scrollTouchToXY(t,u,i,r)}else this._scrollToX(t,i,r);return i&&this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:!0}),this},_scrollTop:function(t,i,r){if(t==="undefined"||t===null)return this._getContentPositionY();if(cancelAnimationFrame(this._touchInertiaAnimID),n.ig.util.isTouchDevice()&&!this._bMixedEnvironment){var u=this._getContentPositionX();this._scrollTouchToXY(u,t,i,r)}else this._scrollToY(t,i,r);return i&&!this._cancelScrolling&&this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:!1}),this},_setScrollWidth:function(n){return this._elemWidth=this._getContainerWidth(),this._contentWidth=n,this._percentInViewH=this._elemWidth/this._contentWidth,this._isScrollableH=this._percentInViewH<1,this.options.modifyDOM&&this._content.css("width",n+"px"),this.element},_setScrollHeight:function(n){return this._elemHeight=this._container.innerHeight(),this._contentHeight=n,this._percentInViewV=this._elemHeight/this._contentHeight,this._isScrollableV=this._percentInViewV<1,this.options.modifyDOM&&this._content.css("height",n+"px"),this.element},_refreshScrollbars:function(){var t=this.css,i=n.ig.util.getScrollWidth();this._elemHeight=this.element.height(),this._elemWidth=this.element.width(),this.options.scrollbarType==="custom"&&this._vBarTrack&&this._vBarDrag?(this._vDragHeight=this._calculateVDragHeight(),this._vBarDrag.css("height",this._vDragHeight+"%"),this._percentInViewH>=1?(this._vBarTrack.addClass(t.verticalScrollTrackSingleScrollbar),this._vBarArrowDown.addClass(t.verticalScrollArrowDownSingleScrollbar)):(this._vBarTrack.removeClass(t.verticalScrollTrackSingleScrollbar),this._vBarArrowDown.removeClass(t.verticalScrollArrowDownSingleScrollbar))):this.options.scrollbarType==="native"&&this._vBarContainer&&this._vBarDrag&&(this._vDragHeight=this._content.height(),this._vBarDrag.css("height",this._vDragHeight+"px"),this._percentInViewH>=1&&!this._vBarContainer.hasClass(t.nativeVScrollOuterSingle)?(this._vBarContainer.css("bottom",""),this._vBarContainer.addClass(this.css.nativeVScrollOuterSingle)):this._percentInViewH<1&&this._vBarContainer.hasClass(t.nativeVScrollOuterSingle)&&(this._vBarContainer.removeClass(t.nativeVScrollOuterSingle),this._vBarContainer.css("bottom",i+"px"))),this.options.scrollbarType==="custom"&&this._hBarTrack&&this._hBarDrag?(this._hDragWidth=this._calculateHDragWidth(),this._hBarDrag.css("width",this._hDragWidth+"%"),this._percentInViewV>=1?(this._hBarTrack.addClass(t.horizontalScrollTrackSingleScrollbar),this._hBarArrowRight.addClass(t.horizontalScrollArrowRightSingleScrollbar)):(this._hBarTrack.removeClass(t.horizontalScrollTrackSingleScrollbar),this._hBarArrowRight.removeClass(t.horizontalScrollArrowRightSingleScrollbar))):this.options.scrollbarType==="native"&&this._hBarContainer&&this._hBarDrag&&(this._hDragWidth=this._content.width(),this._hBarDrag.css("width",this._hDragWidth+"px"),this._percentInViewV>=1&&!this._hBarContainer.hasClass(t.nativeHScrollOuterSingle)?(this._hBarContainer.css("right",""),this._hBarContainer.addClass(t.nativeHScrollOuterSingle)):this._percentInViewV<1&&this._hBarContainer.hasClass(t.nativeHScrollOuterSingle)&&(this._hBarContainer.removeClass(t.nativeHScrollOuterSingle),this._hBarContainer.css("right",i+"px"))),this._updateScrollBarsVisibility(),this._updateScrollbarsPos(this._getContentPositionX(),this._getContentPositionY())},_linkElementsH:function(t){var r,i;if(this._linkedHElems=[],t)for(r=0;r<t.length;r++)if(i=n(t[r]),i.length)this.options.modifyDOM&&i.data("igScroll")===undefined&&n("<div id='"+i.attr("id")+"_content'/>").addClass(this.css.syncedElemContentH).appendTo(i).append(i.contents()),this._linkedHElems.push(i);else throw new Error(this._getLocaleValue("errorNoElementLink"));return this._linkedHElems},_linkElementsV:function(t){var r,i;if(this._linkedVElems=[],t)for(r=0;r<t.length;r++)if(i=n(t[r]),i.length)this.options.modifyDOM&&i.data("igScroll")===undefined&&n("<div id='"+i.attr("id")+"_content'/>").addClass(this.css.syncedElemContentV).appendTo(i).append(i.contents()),this._linkedVElems.push(i);else throw new Error(this._getLocaleValue("errorNoElementLink"));return this._linkedVElems},_bindHScrollbar:function(t){var i=this,r;if(t)if(r=n(t),r.length){r.on({scroll:function(n){var t=i._ignoreHScrollBarEvents;if(i._ignoreHScrollBarEvents=!1,t||i.options.scrollOnlyHBar)return!1;i._bMixedEnvironment?(i._syncContentX(n.target,!1),i._syncElemsX(n.target,!1)):(i._syncContentX(n.target,!0),i._syncElemsX(n.target,!0))}});this._linkedHBar&&this._linkedHBar[0]!==r[0]&&this._linkedHBar.off(),this._linkedHBar=r}else throw new Error(this._getLocaleValue("errorNoScrollbarLink"));return this._linkedHBar},_bindVScrollbar:function(t){var i=this,r;if(t)if(r=n(t),r.length){r.on({scroll:function(n){var t=i._ignoreVScrollBarEvents;if(i._ignoreVScrollBarEvents=!1,t||i.options.scrollOnlyVBar)return!1;i._bMixedEnvironment?(i._syncContentY(n.target,!1),i._syncElemsY(n.target,!1)):(i._syncContentY(n.target,!0),i._syncElemsY(n.target,!0))}});this._linkedVBar&&this._linkedVBar[0]!==r[0]&&this._linkedVBar.off(),this._linkedVBar=r}else throw new Error(this._getLocaleValue("errorNoScrollbarLink"));return this._linkedVBar},_clampAxisCoords:function(n,t,i){return n===undefined||n<t?n=t:n>i&&(n=i),n},_scrollToXY:function(n,t,i){var r=this._getContentPositionX(),o=this._getContentPositionY(),u,f,e;return(n=this._clampAxisCoords(n,0,Math.max(this._getContentWidth()-this._getContainerWidth(),0)),t=this._clampAxisCoords(t,0,Math.max(this._getContentHeight()-this._getContainerHeight(),0)),i&&(u=this._trigger("scrolling",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:n-r!=0,stepX:n-r,stepY:t-o}),!u))?(this._cancelScrolling=!0,{x:0,y:0}):(f=this._scrollToX(n,!1),e=this._scrollToY(t,!1),{x:f,y:e})},_scrollToX:function(n,t,i){var r,f,u;return!this._isScrollableH&&!this.options.scrollOnlyHBar?0:(r=this.options.scrollOnlyHBar?this._getScrollbarHPosition():this._getContentPositionX(),n=this._clampAxisCoords(n,0,this._getContentWidth()-this._getContainerWidth()),t&&(f=this._trigger("scrolling",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:!0,stepX:n-r,stepY:0}),!f))?(this._cancelScrolling=!0,0):(this._bInternalScroll=!0,this.options.scrollOnlyHBar?this._moveHBarX(n):(this._container.scrollLeft(n),(i===undefined||i===!0)&&this._syncElemsX(this._container[0],!1)),u=this.options.scrollOnlyVBar?this._getScrollbarVPosition():this._getContentPositionY(),this._updateScrollbarsPos(n,u,!0),n-r)},_scrollToY:function(t,i,r){var u,f,e,o;if(!this._isScrollableV&&!this.options.scrollOnlyVBar)return 0;if(f=0,u=this.options.scrollOnlyVBar?this._getScrollbarVPosition():this._getContentPositionY(),n.ig.util.isEdge&&(f=t<0?-1:t>this._getContentHeight()-this._getContainerHeight()?1:0),t=this._clampAxisCoords(t,0,this._getContentHeight()-this._getContainerHeight()),i&&(e=this._trigger("scrolling",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:!1,stepX:0,stepY:t-u}),!e))return this._cancelScrolling=!e,0;if(this._bInternalScroll=!0,this.options.scrollOnlyVBar)this._moveVBarY(t);else{if(n.ig.util.isIE&&Math.abs(t-u)<=1)return 0;this._container.scrollTop(t+f),(r===undefined||r===!0)&&this._syncElemsY(this._container[0],!1)}return o=this.options.scrollOnlyHBar?this._getScrollbarHPosition():this._getContentPositionX(),this._updateScrollbarsPos(o,t,!0),t-u},_smoothWheelScrollY:function(n){function u(){if(i>1){cancelAnimationFrame(r),t._numSmoothAnimation-=1,t._numSmoothAnimation||t._cancelScrolling||t._trigger("scrolled",null,{owner:t,smallIncrement:0,bigIncrement:0,horizontal:!1});return}if(t._nextY+=(-3*i*i+3)*n*2*f,t._bMixedEnvironment)t._scrollToY(t._nextY,!0);else{var o=0;o=t.options.scrollOnlyHBar?t._getScrollbarVPosition():t._getContentPositionY(),t._scrollTouchToXY(o,t._nextY,!0)}i+=.08*(1/e),r=requestAnimationFrame(u)}var t=this,f=this.options.smoothingStep,e=this.options.smoothingDuration,r,i=-1;this._nextY=this.options.scrollOnlyVBar?this._getScrollbarVPosition():this._getContentPositionY(),this._numSmoothAnimation+=1,r=requestAnimationFrame(u)},_applyTransformOnScrollTop:function(){var n=-this._container.scrollLeft(),t=-this._container.scrollTop();(n!==0||t!==0)&&(n+=this._contentX?this._getTransform3dValueX(this._contentX):this._getTransform3dValueX(this._content),t+=this._getTransform3dValueY(this._content),this._scrollToXY(0,0,!1),this._scrollTouchToXY(-n,-t,!1))},_scrollTouchToXY:function(n,t,i,r){var e,u=this._getContentPositionX(),f=this._getContentPositionY(),o,s;return(n=this._clampAxisCoords(n,0,Math.max(this._getContentWidth()-this._getContainerWidth(),0)),t=this._clampAxisCoords(t,0,Math.max(this._getContentHeight()-this._getContainerHeight(),0)),i&&(e=this._trigger("scrolling",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:n-u!=0,stepX:n-u,stepY:t-f}),!e))?(this._cancelScrolling=!0,{x:0,y:0}):this.options.scrollOnlyVBar?(this._scrollToY(t,!1),this.options.scrollOnlyHBar?this._scrollToX(n):this._contentX?(this._contentX.css({"-webkit-transform":"translate3d("+-n+"px, 0px, 0px)"}),this._syncElemsX(this._contentX,!0,-n,!0)):(this._content.css({"-webkit-transform":"translate3d("+-n+"px, 0px, 0px)"}),this._syncElemsX(this._content,!0,-n,!0)),t=this._getScrollbarVPosition(),this._updateScrollbarsPos(n,t),{x:n-u,y:t-f}):(o=-n,s=-t,this.options.scrollOnlyVBar||this.options.scrollOnlyHBar||this._content.css({"-webkit-transform":"translate3d("+o+"px,"+s+"px, 0px)"}),(r===undefined||r===!0)&&(this._syncElemsX(this._content,!0),this._syncElemsY(this._content,!0)),this._updateScrollbarsPos(n,t),this._syncHBar(this._content,!0),this._syncVBar(this._content,!0),{x:n-u,y:t-f})},_inertiaInit:function(n,t,i){function o(){if(u>6){r._hideScrollbars(),cancelAnimationFrame(r._touchInertiaAnimID),r._cancelScrolling||r._trigger("scrolled",null,{owner:r,smallIncrement:0,bigIncrement:0,horizontal:null});return}u+=Math.abs(n)>Math.abs(t)?.05/(1*e):.05/(1*e),u<=1?(Math.abs(t)<=Math.abs(n)*r.options.inertiaDeltaY&&(r._nextX+=15*n*f),Math.abs(t)>=Math.abs(n)*r.options.inertiaDeltaX&&(r._nextY+=15*t*f)):(Math.abs(t)<=Math.abs(n)*r.options.inertiaDeltaY&&(r._nextX+=Math.abs(2/(u+.55)-.3)*n*15*f),Math.abs(t)>=Math.abs(n)*r.options.inertiaDeltaX&&(r._nextY+=Math.abs(2/(u+.55)-.3)*t*15*f)),i?r._scrollToXY(r._nextX,r._nextY,!0):r._scrollTouchToXY(r._nextX,r._nextY,!0),r._touchInertiaAnimID=requestAnimationFrame(o)}var r=this,u=0,f=this.options.inertiaStep,e=this.options.inertiaDuration;this._nextY=this.options.scrollOnlyVBar?this._getScrollbarVPosition():this._getContentPositionY(),this._nextX=this.options.scrollOnlyHBar?this._getScrollbarHPosition():this._getContentPositionX(),this._touchInertiaAnimID=requestAnimationFrame(o)},_getSpeedSlope:function(n){var t,i,f,h;if(n.length===0)return 1;if(n.length<5)return-1;var u=n.length,e=0,r=0,o=0,s=0;for(t=0;t<u;t++)i=t,f=Math.abs(n[t]),e+=i*f,r+=i,o+=f,s+=i*i;return h=(u*e-r*o)/(u*s-r*r)},_syncContentX:function(n,t){var i,r;t?(i=-n.scrollLeft,r=-this._getContentPositionY(),this._content.css({"-webkit-transform":"translate3d("+i+"px,"+r+"px, 0px)"})):(i=n.scrollLeft,this._scrollFromSyncContentH=!0,this._container.scrollLeft(i))},_syncContentY:function(n,t){var i,r;t?(r=this._getContentPositionX(),i=-n.scrollTop,this._content.css({"-webkit-transform":"translate3d("+r+"px,"+i+"px, 0px)"})):(i=n.scrollTop,this._scrollFromSyncContentV=!0,this._container.scrollTop(i))},_syncElemsX:function(n,t,i,r){var f,u,e,o;if(n||r)if(t){if(r?f=i:(e=this._content.css("-webkit-transform"),o=e?e.match(/-?[\d\.]+/g):undefined,f=o?Number(o[4]):-this._getContentPositionX()),this._linkedHElems.length>0)for(u=0;u<this._linkedHElems.length;u++){var s=this._linkedHElems[u].css("-webkit-transform"),h=s?s.match(/-?[\d\.]+/g):undefined,c=h?Number(h[5]):0;this._linkedHElems[u].data("igScroll")!==undefined&&this._linkedHElems[u].data("igScroll").options.modifyDOM?this._linkedHElems[u].data("igScroll")._scrollLeft(-f,!0,!1):this.options.modifyDOM?this._linkedHElems[u].find(".igscroll-hsynced-content").css({"-webkit-transform":"translate3d("+f+"px, "+c+"px, 0px)"}):this._linkedHElems[u].css({"-webkit-transform":"translate3d("+f+"px, "+c+"px, 0px)"})}}else if(f=n.scrollLeft,this._linkedHElems.length>0)for(u=0;u<this._linkedHElems.length;u++)this._linkedHElems[u].length&&(this._linkedHElems[u].data("igScroll")!==undefined&&this._linkedHElems[u].data("igScroll").options.modifyDOM?this._linkedHElems[u].find(".igscroll-container").scrollLeft(f):this.options.modifyDOM?this._linkedHElems[u].scrollLeft(f):(this._linkedHElems[u].parent().data("igScroll")!==undefined&&(this._linkedHElems[u].parent().data("igScroll")._scrollFromSyncContentH=!0),this._linkedHElems[u][0].parentElement.scrollLeft=f))},_syncElemsY:function(n,t,i,r){var f,u,e,o;if(n||r)if(t){if(r?f=i:(e=this._content.css("-webkit-transform"),o=e?e.match(/-?[\d\.]+/g):undefined,f=o?Number(o[5]):-this._getContentPositionY()),this._linkedVElems.length>0)for(u=0;u<this._linkedVElems.length;u++){var s=this._linkedVElems[u].css("-webkit-transform"),h=s?s.match(/-?[\d\.]+/g):undefined,c=h?Number(h[4]):0;this._linkedVElems[u].data("igScroll")!==undefined&&this._linkedVElems[u].data("igScroll").options.modifyDOM?this._linkedVElems[u].data("igScroll")._scrollTop(-f,!0,!1):this.options.modifyDOM?this._linkedVElems[u].find(".igscroll-vsynced-content").css({"-webkit-transform":"translate3d("+c+"px,"+f+"px, 0px)"}):this._linkedVElems[u].css({"-webkit-transform":"translate3d("+c+"px,"+f+"px, 0px)"})}}else if(f=n.scrollTop,this._linkedVElems.length>0)for(u=0;u<this._linkedVElems.length;u++)this._linkedVElems[u].length&&(this._linkedVElems[u].data("igScroll")!==undefined&&this._linkedVElems[u].data("igScroll").options.modifyDOM?this._linkedVElems[u].find(".igscroll-container").scrollTop(f):this.options.modifyDOM?this._linkedVElems[u].scrollTop(f):(this._linkedVElems[u].parent().data("igScroll")!==undefined&&(this._linkedVElems[u].parent().data("igScroll")._scrollFromSyncContentV=!0),this._linkedVElems[u][0].parentElement.scrollTop=f))},_syncHBar:function(n,t){var i;i=t?this._getContentPositionX():n.scrollLeft,this._linkedHBar&&(this._ignoreHScrollBarEvents=!0,this._linkedHBar.scrollLeft(i))},_syncVBar:function(n,t){var i;i=t?this._getContentPositionY():n.scrollTop,this._linkedVBar&&(this._ignoreVScrollBarEvents=!0,this._linkedVBar.scrollTop(i))},_moveHBarX:function(n){this._linkedHBar&&this._linkedHBar.scrollLeft(n)},_moveVBarY:function(n){this._linkedVBar&&this._linkedVBar.scrollTop(n)},_onKeyDown:function(t){var s;if(this._bKeyboardNavigation){var u=t.keyCode,e,o,r=0,f=!1,i={owner:this,smallIncrement:0,bigIncrement:0,horizontal:!1,stepX:0,stepY:0};e=this.options.scrollOnlyHBar?this._getScrollbarHPosition():this._getContentPositionX(),o=this.options.scrollOnlyVBar?this._getScrollbarVPosition():this._getContentPositionY(),u===n.ui.keyCode.DOWN?(r=this.options.smallIncrementStep,i.stepY=r,i.smallIncrement=1):u===n.ui.keyCode.UP?(r=-this.options.smallIncrementStep,i.stepY=r,i.smallIncrement=-1):u===n.ui.keyCode.RIGHT?(f=!0,r=this.options.smallIncrementStep,i.stepX=r,i.smallIncrement=1):u===n.ui.keyCode.LEFT?(f=!0,r=-this.options.smallIncrementStep,i.stepX=r,i.smallIncrement=-1):u===n.ui.keyCode.PAGE_UP?(r=this.options.bigIncrementStep===null?-this._elemHeight:-this.options.bigIncrementStep,i.stepY=r,i.bigIncrement=-1):u===n.ui.keyCode.PAGE_DOWN?(r=this.options.bigIncrementStep===null?this._elemHeight:this.options.bigIncrementStep,i.stepY=r,i.bigIncrement=1):u!==n.ui.keyCode.SPACE||t.shiftKey?u===n.ui.keyCode.SPACE&&t.shiftKey&&(r=this.options.bigIncrementStep===null?-this._elemHeight:-this.options.bigIncrementStep,i.stepY=r,i.bigIncrement=-1):(r=this.options.bigIncrementStep===null?this._elemHeight:this.options.bigIncrementStep,i.stepY=r,i.bigIncrement=1),s=this._trigger("scrolling",null,i),s&&(f?this._scrollLeft(e+r,!1):this._scrollTop(o+r,!1),this._trigger("scrolled",null,{owner:this,smallIncrement:i.smallIncrement,bigIncrement:i.bigIncrement,horizontal:f}))}},_onScrollContainer:function(){if(this._bMixedEnvironment||this._applyTransformOnScrollTop(),this._scrollFromSyncContentV?this._scrollFromSyncContentV=!1:(this._syncElemsY(this._container[0],!this._bMixedEnvironment),this.options.scrollOnlyVBar||this._syncVBar(this._container[0],!this._bMixedEnvironment)),this._scrollFromSyncContentH?this._scrollFromSyncContentH=!1:(this._syncElemsX(this._container[0],!this._bMixedEnvironment),this.options.scrollOnlyHBar||this._syncHBar(this._container[0],!this._bMixedEnvironment)),this._bInternalScroll)this._bInternalScroll=!1;else{var n,t;n=this.options.scrollOnlyHBar?this._getScrollbarHPosition():this._getContentPositionX(),t=this.options.scrollOnlyVBar?this._getScrollbarVPosition():this._getContentPositionY(),this._updateScrollbarsPos(n,t)}return!1},_onWheelContainer:function(n){if(n.ctrlKey===!0)return!0;var r=n.originalEvent,t=0,i=0,f=this.options.wheelStep,u=1/this.options.wheelStep,e;if(cancelAnimationFrame(this._touchInertiaAnimID),this._bMixedEnvironment||this._applyTransformOnScrollTop(),this._startX=this.options.scrollOnlyHBar?this._getScrollbarHPosition():this._getContentPositionX(),this._startY=this.options.scrollOnlyVBar?this._getScrollbarVPosition():this._getContentPositionY(),r.wheelDeltaX?(t=-r.wheelDeltaX/120,-u<t&&t<u&&(t=Math.sign(t)*u)):r.deltaX&&(t=this._clampAxisCoords(r.deltaX,-1,1)),r.wheelDeltaY?(i=-r.wheelDeltaY/120,-u<i&&i<u&&(i=Math.sign(i)*u)):r.deltaY&&(i=this._clampAxisCoords(r.deltaY,-1,1)),this.options.smoothing)t?this._scrollToX(this._startX+t*f,!0):this._smoothWheelScrollY(i);else return e=this._bMixedEnvironment?this._scrollToXY(this._startX+t*f,this._startY+i*f,!0).y:this._scrollTouchToXY(this._startX,this._startY+i*f,!0).y,this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:!1}),!e;return!1},_onPointerDownContainer:function(n){var i=n.originalEvent;if(!i||i.pointerType!==2&&i.pointerType!=="touch"||typeof MSGesture!="function")return!0;n.target[t](this._pointer=i.pointerId),this._gestureObject||(this._gestureObject=new MSGesture,this._gestureObject.target=this._container[0]),this._gestureObject.addPointer(this._pointer)},_onPointerUpContainer:function(n){if(!this._pointer)return!0;n.target[i](this._pointer),delete this._pointer},_onMSGestureStartContainer:function(n){this.options.scrollOnlyVBar?(this._startX=this._getScrollbarHPosition(),this._startY=this._getScrollbarVPosition()):(this._startX=this._getContentPositionX(),this._startY=this._getContentPositionY()),this._touchStartX=n.originalEvent.screenX,this._touchStartY=n.originalEvent.screenY,this._moving=!0,this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0},_onMSGestureChangeContainer:function(n){var i=n.originalEvent,r=this._startX+this._touchStartX-i.screenX,t=this._startY+this._touchStartY-i.screenY;this._totalMovedX=this._touchStartX-i.screenX,Math.abs(this._totalMovedX)<this.options.swipeToleranceX&&!this._offsetRecorded?this._bMixedEnvironment?this._scrollToXY(this._startX,t,!0):this._scrollTouchToXY(this._startX,t,!0):(this._offsetRecorded||(this._offsetDirection=Math.sign(r-this._startX),this._offsetRecorded=!0),this._bMixedEnvironment?this._scrollToXY(r-this._offsetDirection*this.options.swipeToleranceX,t,!0):this._scrollTouchToXY(r-this._offsetDirection*this.options.swipeToleranceX,t,!0)),this._moving=!0},_onMSGestureEndContainer:function(){this._moving=!1},_onTouchStartContainer:function(n){if(!n.isDefaultPrevented()&&typeof MSGesture!="function"){cancelAnimationFrame(this._touchInertiaAnimID);var t=n.originalEvent.touches[0];this._startX=this.options.scrollOnlyHBar?this._getScrollbarHPosition():this._getContentPositionX(),this._startY=this.options.scrollOnlyVBar?this._getScrollbarVPosition():this._getContentPositionY(),this._touchStartX=t.pageX,this._touchStartY=t.pageY,this._speedDecreasing=!1,this._lastTouchEnd=+new Date,this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._savedSpeedsX=[],this._savedSpeedsY=[],this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,this._igScollTouchPrevented=!1,this._showScrollbars(!0)}},_onTouchMoveContainer:function(n){var r,e,o,i;if(n.isDefaultPrevented()||this._igScollTouchPrevented||typeof MSGesture=="function"){this._igScollTouchPrevented=!1;return}var t=n.originalEvent.touches[0],f=this._startX+(this._touchStartX-t.pageX)*Math.sign(this.options.inertiaStep),u=this._startY+(this._touchStartY-t.pageY)*Math.sign(this.options.inertiaStep),s=this._getSpeedSlope(this._savedSpeedsX),h=this._getSpeedSlope(this._savedSpeedsY);this._speedDecreasing=h>-.1||s>-.1?!0:!1,r=+new Date-this._lastTouchEnd,r!==0&&r<100&&(e=(this._lastTouchX-t.pageX)/r,o=(this._lastTouchY-t.pageY)/r,this._savedSpeedsX.length<5?this._savedSpeedsX.push(e):(this._savedSpeedsX.shift(),this._savedSpeedsX.push(e)),this._savedSpeedsY.length<5?this._savedSpeedsY.push(o):(this._savedSpeedsY.shift(),this._savedSpeedsY.push(o))),this._lastTouchEnd=+new Date,this._lastMovedX=this._lastTouchX-t.pageX,this._lastMovedY=this._lastTouchY-t.pageY,this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._totalMovedX+=this._lastMovedX,Math.abs(this._totalMovedX)<this.options.swipeToleranceX&&!this._offsetRecorded?i=navigator.userAgent.indexOf("Firefox")>-1||this._bMixedEnvironment?this._scrollToXY(this._startX,u,!0):this._scrollTouchToXY(this._startX,u,!0):(this._offsetRecorded||(this._offsetDirection=Math.sign(f-this._startX),this._offsetRecorded=!0),i=navigator.userAgent.indexOf("Firefox")>-1||this._bMixedEnvironment?this._scrollToXY(f-this._offsetDirection*this.options.swipeToleranceX,u,!0):this._scrollTouchToXY(f-this._offsetDirection*this.options.swipeToleranceX,u,!0)),i.x===0&&i.y===0&&(this._igScollTouchPrevented=!0),!this._igScollTouchPrevented&&n.cancelable&&n.preventDefault()},_onTouchEndContainer:function(n){var t,i,r;if(!n.isDefaultPrevented()&&typeof MSGesture!="function"){for(t=0,i=0,r=0;r<this._savedSpeedsX.length;r++)t+=this._savedSpeedsX[r],i+=this._savedSpeedsY[r];t=this._savedSpeedsX.length?t/this._savedSpeedsX.length:0,i=this._savedSpeedsX.length?i/this._savedSpeedsY.length:0,(Math.abs(t)>.1||Math.abs(i)>.1)&&(Math.abs(this._lastMovedX)>2||Math.abs(this._lastMovedY)>2)?(this._showScrollbars(!0),this._inertiaInit(t,i,this._bMixedEnvironment)):(this._hideScrollbars(),this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:null}))}},_onMouseEnterContainer:function(){this._mOverContainer=!0,cancelAnimationFrame(this._showScrollbarsAnimId),clearTimeout(this._hideScrollbarID),this._toSimpleScrollbarsID||this._bMouseDownH||this._bMouseDownV||this._showScrollbars(!0)},_onMouseLeaveContainer:function(){var n=this;this._mOverContainer=!1,this._bMouseDownV||this._bMouseDownH||(clearTimeout(this._toSimpleScrollbarsID),this._toSimpleScrollbarsID=0,this._hideScrollbarID=setTimeout(function(){n._hideScrollbars()},2e3))},_onDimensionsChange:function(){var n,t={owner:this};n=this._trigger("resizing",null,t),n&&(this.refresh(),this._trigger("resized",null,t))},_onElementMutation:function(n){for(var t=0;t<n.length;t++)n[t].attributeName==="style"&&(this._elemWidth!==this.element.width()||this._elemHeight!==this.element.height())&&this._onDimensionsChange()},_updateScrollBarsVisibility:function(){var t=this._isScrollableV&&this._renderVerticalScrollbar,i=this._isScrollableH&&this._renderHorizontalScrollbar,r=(!this._isScrollableV||!this._renderVerticalScrollbar)&&this._vBarContainer,u=(!this._isScrollableH||!this._renderHorizontalScrollbar)&&this._hBarContainer;this.options.scrollbarType!=="none"&&(this.options.scrollbarType==="native"?(t&&!this._vBarContainer?this._initNativeScrollBarV(i):r&&this._removeVerticalScrollbar(),i&&!this._hBarContainer?this._initNativeScrollBarH(t):u&&this._removeHorizontalScrollbar(),this._vBarContainer&&this._hBarContainer||!this._desktopFiller||(this._desktopFiller.remove(),this._desktopFiller=null)):this.options.scrollbarType==="custom"&&(t&&!this._vBarContainer?this._initCustomScrollBarV(i):r&&this._removeVerticalScrollbar(),i&&!this._hBarContainer?this._initCustomScrollBarH(t):u&&this._removeHorizontalScrollbar(),n.ig.util.isTouchDevice()&&this._toSimpleScrollbars()))},_initNativeScrollBarV:function(t){var i=this.css,r=n.ig.util.getScrollWidth();this._vBarContainer=n("<div id='"+this.element.attr("id")+"_vBar'><\/div>").addClass(i.nativeVScrollOuter),t?this._vBarContainer.css("bottom",r+"px"):this._vBarContainer.addClass(i.nativeVScrollOuterSingle),this._vDragHeight=this._content.height(),this._vBarDrag=n("<div id='"+this.element.attr("id")+"_vBar_inner'><\/div>").addClass(i.nativeVScrollInner).css("height",this._vDragHeight+"px"),this.options.scrollbarVParent?this._vBarContainer.append(this._vBarDrag).appendTo(this.options.scrollbarVParent):this._vBarContainer.append(this._vBarDrag).appendTo(this._container[0].parentElement),n.ig.util.getScrollHeight()>0&&this.options.modifyDOM&&this._content.css("padding-right",r+"px"),t&&this._bMixedEnvironment&&!this._desktopFiller&&(this._desktopFiller=n("<div id='"+this.element.attr("id")+"_scrollbarFiller'><\/div>").addClass(i.nativeScrollFiller).css("height",r+"px").css("width",r+"px"),this._desktopFiller.appendTo(this._container[0].parentElement)),this._vBarContainer.scrollTop(this._getContentPositionY()),this._setOption("scrollbarV",this._vBarContainer)},_initNativeScrollBarH:function(t){var r=this.css,i=n.ig.util.getScrollWidth();this._hBarContainer=n("<div id='"+this.element.attr("id")+"_hBar'><\/div>").addClass(r.nativeHScrollOuter),t?this._hBarContainer.css("right",i+"px"):this._hBarContainer.addClass(r.nativeHScrollOuterSingle),this._hDragWidth=this._content.width(),this._hBarDrag=n("<div id='"+this.element.attr("id")+"_hBar_inner'><\/div>").addClass(r.nativeHScrollInner).css("width",this._hDragWidth+"px"),this.options.scrollbarHParent?this._hBarContainer.append(this._hBarDrag).appendTo(this.options.scrollbarHParent):this._hBarContainer.append(this._hBarDrag).appendTo(this._container[0].parentElement),i>0&&this.options.modifyDOM&&this._content.css("padding-bottom",i+"px"),t&&this._bMixedEnvironment&&!this._desktopFiller&&(this._desktopFiller=n("<div id='"+this.element.attr("id")+"_scrollbarFiller'><\/div>").addClass(r.nativeScrollFiller).css("height",i+"px").css("width",i+"px"),this._desktopFiller.appendTo(this._container[0].parentElement)),this._hBarContainer.scrollLeft(this._getContentPositionX()),this._setOption("scrollbarH",this._hBarContainer)},_removeScrollbars:function(){this._removeVerticalScrollbar(),this._removeHorizontalScrollbar(),this._desktopFiller&&(this._desktopFiller.remove(),this._desktopFiller=null,this._content.css("padding-right","0px").css("padding-bottom","0px"))},_removeVerticalScrollbar:function(){this._vBarContainer&&(this._vBarContainer.remove(),this._vBarContainer=null,this._vDragHeight=null,this._vBarDrag=null,this._vBarTrack=null,this.options.modifyDOM&&this.options.scrollbarType==="native"&&this._content.css("padding-right","")),this._onMouseMoveVDragHandler&&n("body").off("mousemove.igscroll_"+this.element[0].id,this._onMouseMoveVDragHandler),this._onMouseUpVScrollbarHandler&&n(window).off("mouseup.igscroll_"+this.element[0].id,this._onMouseUpVScrollbarHandler)},_removeHorizontalScrollbar:function(){this._hBarContainer&&(this._hBarContainer.remove(),this._hBarContainer=null,this._hDragHeight=null,this._hBarDrag=null,this._hBarTrack=null,this.options.modifyDOM&&this.options.scrollbarType==="native"&&this._content.css("padding-bottom","")),this._onMouseMoveHDragHandler&&n("body").off("mousemove.igscroll_"+this.element[0].id,this._onMouseMoveHDragHandler),this._onMouseUpHScrollbarHandler&&n(window).off("mouseup.igscroll_"+this.element[0].id,this._onMouseUpHScrollbarHandler)},_initCustomScrollBarV:function(t){var i=this.css;this._vBarContainer=n("<div id='"+this.element.attr("id")+"_vBar'><\/div>").addClass(i.verticalScrollContainer),this._vBarArrowUp=n("<div id='"+this.element.attr("id")+"_vBar_arrowUp'><\/div>").addClass(i.verticalScrollArrow).addClass(i.verticalScrollArrowUp),this._vBarTrack=n("<div id='"+this.element.attr("id")+"_vBar_track'><\/div>").addClass(i.verticalScrollTrack),this._vBarArrowDown=n("<div id='"+this.element.attr("id")+"_vBar_arrowDown'><\/div>").addClass(i.verticalScrollArrow).addClass(i.verticalScrollArrowDown),t||(this._vBarTrack.addClass(i.verticalScrollTrackSingleScrollbar),this._vBarArrowDown.addClass(i.verticalScrollArrowDownSingleScrollbar)),this.options.scrollbarVParent?this._vBarContainer.append(this._vBarArrowUp).append(this._vBarTrack.append(this._vBarDrag)).append(this._vBarArrowDown).appendTo(this.options.scrollbarVParent):this._vBarContainer.append(this._vBarArrowUp).append(this._vBarTrack.append(this._vBarDrag)).append(this._vBarArrowDown).appendTo(this._container[0].parentElement),this._vDragHeight=this._calculateVDragHeight(),this._vBarDrag=n("<span id='"+this.element.attr("id")+"_vBar_drag'><\/span>").addClass(i.verticalScrollThumbDrag+" "+i.verticalScrollThumbDragThin).css("height",this._vDragHeight+"%"),this.options.scrollbarVParent?this._vBarTrack.append(this._vBarDrag):this._vBarTrack.append(this._vBarDrag),this._bindCustomScrollBarV()},_calculateVDragHeight:function(){var n,t=parseInt(this.options.minThumbSize,10);return n=this._vBarTrack.height()/this._contentHeight*this._vBarTrack.height(),n=n<t?t:n,n/this._vBarTrack.height()*100},_bindCustomScrollBarV:function(){if(this._holdTimeoutID=0,this._bMouseDownV=!1,this._bUseArrowUp=!1,this._bUseArrowDown=!1,this._mouseLastY=0,this._dragLastY=0,this._bUseVDrag=!1,this._bUseVTrack=!1,this._lastBigIncDirV=0,this._mTrackLastPosV=0,this._vBarArrowUp)this._vBarArrowUp.on({mousedown:n.proxy(this._onMouseDownArrowUp,this),mouseup:n.proxy(this._onMouseUpArrowUp,this),mouseover:n.proxy(this._onMouseOverArrowUp,this),mouseout:n.proxy(this._onMouseOutScrollbarArrow,this),touchstart:n.proxy(this._onTouchStartScrollbarElem,this)});if(this._vBarArrowDown)this._vBarArrowDown.on({mousedown:n.proxy(this._onMouseDownArrowDown,this),mouseup:n.proxy(this._onMouseUpArrowDown,this),mouseover:n.proxy(this._onMouseOverArrowDown,this),mouseout:n.proxy(this._onMouseOutScrollbarArrow,this),touchstart:n.proxy(this._onTouchStartScrollbarElem,this)});if(this._vBarDrag)this._vBarDrag.on({mousedown:n.proxy(this._onMouseDownVDrag,this),touchstart:n.proxy(this._onTouchStartScrollbarElem,this)});if(this._vBarTrack)this._vBarTrack.on({mousedown:n.proxy(this._onMouseDownVTrack,this),mousemove:n.proxy(this._onMouseMoveVTrack,this),mouseup:n.proxy(this._onMouseUpVTrack,this),mouseout:n.proxy(this._onMouseOutVTrack,this),touchstart:n.proxy(this._onTouchStartScrollbarElem,this)});if(this._vBarContainer)this._vBarContainer.on({dragstart:n.proxy(this._onDragStartElem,this),wheel:n.proxy(this._onWheelContainer,this),mouseenter:n.proxy(this._onMouseEnterScrollbarElem,this),mouseleave:n.proxy(this._onMouseLeaveScrollbarElem,this)});this._onMouseMoveVDragHandler=n.proxy(this._onMouseMoveVDrag,this),this._onMouseUpVScrollbarHandler=n.proxy(this._onMouseUpVScrollbar,this);n("body").on("mousemove.igscroll_"+this.element[0].id,this._onMouseMoveVDragHandler);n(window).on("mouseup.igscroll_"+this.element[0].id,this._onMouseUpVScrollbarHandler)},_scrollTimeoutY:function(n,t){var r=this._getContentPositionY(),u,i,f,e;if((r!==0||!(n<=0))&&(r!==this._getContentHeight()-this._getContainerHeight()||!(n>=0))){if(i={owner:this,smallIncrement:0,bigIncrement:0,horizontal:!1,stepX:0,stepY:n},t)i.smallIncrement=Math.sign(n);else{if(f=this._getTransform3dValueY(this._vBarDrag),this._mTrackLastPosV>f&&this._mTrackLastPosV<f+this._vDragHeight)return;i.bigIncrement=Math.sign(n),this._lastBigIncDirV=Math.sign(n)}u=this._trigger("scrolling",null,i),this._cancelScrolling=!u,u&&(this._scrollTop(r+n,!1),e=this,this._holdTimeoutID=setTimeout(function(){e._scrollTimeoutY(n,t)},50))}},_onMouseDownArrowUp:function(){var n=-this.options.smallIncrementStep,i=this._getContentPositionY(),t,r;i===0&&(n=0),t=this._trigger("scrolling",null,{owner:this,smallIncrement:-1,bigIncrement:0,horizontal:!1,stepX:0,stepY:n}),this._cancelScrolling=!t,t&&(this._bMouseDownV=!0,this._bUseArrowUp=!0,this._scrollTop(i+n,!1),r=this,this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutY(n,!0)},250))},_onMouseUpArrowUp:function(){this._bMouseDownV=!1,this._bUseArrowUp=!0,clearTimeout(this._holdTimeoutID)},_onMouseOverArrowUp:function(){this._bMouseDownV&&this._bUseArrowUp&&this._scrollTimeoutY(-40,!0)},_onMouseOutScrollbarArrow:function(){clearTimeout(this._holdTimeoutID)},_onMouseDownArrowDown:function(){var n=this.options.smallIncrementStep,i=this._getContentPositionY(),t,r;i===this._getContentHeight()-this._getContainerHeight()&&(n=0),t=this._trigger("scrolling",null,{owner:this,smallIncrement:1,bigIncrement:0,horizontal:!1,stepX:0,stepY:n}),this._cancelScrolling=!t,t&&(this._bMouseDownV=!0,this._bUseArrowDown=!0,this._scrollTop(i+n,!1),r=this,this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutY(n,!0)},250))},_onMouseUpArrowDown:function(){this._bMouseDownV=!1,this._bUseArrowDown=!0,clearTimeout(this._holdTimeoutID)},_onMouseOverArrowDown:function(){this._bMouseDownV&&this._bUseArrowDown&&this._scrollTimeoutY(40,!0)},_onMouseDownVDrag:function(n){this._bMouseDownV=!0,this._mouseLastY=n.pageY,this._bUseVDrag=!0,this._bUseHDrag=!1,this._trigger("thumbDragStart",null,{owner:this,horizontal:!1}),this._disableContentSelection()},_onMouseDownVTrack:function(n){if(n.target.id===this._vBarDrag[0].id)return!0;this._bUseVTrack=!0;var r=this,u=this._getTransform3dValueY(this._vBarDrag),f=this._getContentPositionY(),t=this.options.bigIncrementStep===null?this._elemHeight:this.options.bigIncrementStep,i;this._mTrackLastPosV=n.offsetY,n.offsetY>u+this._vDragHeight?(this._lastBigIncDirV=1,i=this._trigger("scrolling",null,{owner:this,smallIncrement:0,bigIncrement:1,horizontal:!1,stepX:0,stepY:t}),this._cancelScrolling=!i,i&&(this._scrollTop(f+t,!1),this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutY(t,!1)},250))):n.offsetY<u&&(this._lastBigIncDirV=-1,i=this._trigger("scrolling",null,{owner:this,smallIncrement:0,bigIncrement:-1,horizontal:!1,stepX:0,stepY:-t}),i&&(this._scrollTop(f-t,!1),this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutY(-t,!1)},250)))},_onMouseMoveVTrack:function(n){this._bUseVTrack&&(this._mTrackLastPosV=n.offsetY)},_onMouseUpVTrack:function(){clearTimeout(this._holdTimeoutID),this._bUseVTrack&&!this._cancelScrolling&&this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:this._lastBigIncDirV,horizontal:!1}),this._bUseVTrack=!1},_onMouseOutVTrack:function(){clearTimeout(this._holdTimeoutID),this._bUseVTrack&&!this._cancelScrolling&&this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:this._lastBigIncDirV,horizontal:!1}),this._bUseVTrack=!1},_onMouseMoveVDrag:function(n){var i;if(!this._bMouseDownV||!this._bUseVDrag)return!0;if(this._bUseVDrag){var f=this._getContentPositionY(),r=n.pageY-this._mouseLastY,u=this._dragLastY,t;t=(u+r)/(this._vBarTrack.height()-this._vBarDrag.height())*(this._getContentHeight()-this.element.height()),t=this._clampAxisCoords(t,0,Math.max(this._getContentHeight()-this._getContainerHeight(),0)),i=this._trigger("thumbDragMove",null,{owner:this,horizontal:!1,stepX:0,stepY:t-f}),this._cancelThumbDrag=!i,i&&(this._scrollToY(t,!0),this._mouseLastY=n.pageY,this._dragLastY=u+r)}},_onMouseUpVScrollbar:function(){var n=this;this._bUseArrowUp&&(this._bUseArrowUp=!1,this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:-1,bigIncrement:0,horizontal:!1})),this._bUseArrowDown&&(this._bUseArrowDown=!1,this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:1,bigIncrement:0,horizontal:!1})),!this._bMouseDownV||this._mOverScrollbars||this._mOverContainer?this._bMouseDownV&&!this._mOverScrollbars&&this._mOverContainer&&(this._toSimpleScrollbarsID=setTimeout(function(){n._toSimpleScrollbars(),n._toSimpleScrollbarsID=0},2e3)):this._hideScrollbarID=setTimeout(function(){n._hideScrollbars()},2e3),this._bMouseDownV=!1,this._bUseVDrag&&(this._dragLastY=this._getTransform3dValueY(this._vBarDrag),this._cancelThumbDrag||this._trigger("thumbDragEnd",null,{owner:this,horizontal:!1}),this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:!0}),this._enableContentSelection()),this._bUseVDrag=!1},_initCustomScrollBarH:function(t){var i=this.css;this._hBarContainer=n("<div id='"+this.element.attr("id")+"_hBar'><\/div>").addClass(i.horizontalScrollContainer),this._hBarArrowLeft=n("<div id='"+this.element.attr("id")+"_hBar_arrowLeft'><\/div>").addClass(i.horizontalScrollArrow).addClass(i.horizontalScrollArrowLeft),this._hBarTrack=n("<div id='"+this.element.attr("id")+"_hBar_track'><\/div>").addClass(i.horizontalScrollTrack),this._hBarArrowRight=n("<div id='"+this.element.attr("id")+"_hBar_arrowRight'><\/div>").addClass(i.horizontalScrollArrow).addClass(i.horizontalScrollArrowRight),t||(this._hBarTrack.addClass(i.horizontalScrollTrackSingleScrollbar),this._hBarArrowRight.addClass(i.horizontalScrollArrowRightSingleScrollbar)),this.options.scrollbarHParent?this._hBarContainer.append(this._hBarArrowLeft).append(this._hBarTrack.append(this._hBarDrag)).append(this._hBarArrowRight).appendTo(this.options.scrollbarHParent):this._hBarContainer.append(this._hBarArrowLeft).append(this._hBarTrack.append(this._hBarDrag)).append(this._hBarArrowRight).appendTo(this._container[0].parentElement),this._hDragWidth=this._calculateHDragWidth(),this._hBarDrag=n("<span id='"+this.element.attr("id")+"_hBar_drag'><\/span>").addClass(i.horizontalScrollThumbDrag+" "+i.horizontalScrollThumbDragThin).css("width",this._hDragWidth+"%"),this.options.scrollbarHParent?this._hBarTrack.append(this._hBarDrag):this._hBarTrack.append(this._hBarDrag),this._bindCustomScrollBarH()},_calculateHDragWidth:function(){var n,t=parseInt(this.options.minThumbSize,10);return n=this._hBarTrack.width()/this._contentWidth*this._hBarTrack.width(),n=n<t?t:n,n/this._hBarTrack.width()*100},_bindCustomScrollBarH:function(){if(this._holdTimeoutID=0,this._bMouseDownH=!1,this._bUseArrowLeft=!1,this._bUseArrowRight=!1,this._bUseHDrag=!1,this._mouseLastX=0,this._dragLastX=0,this._bUseHTrack=!1,this._lastBigIncDirH=0,this._mTrackLastPosH=0,this._hBarArrowLeft)this._hBarArrowLeft.on({mousedown:n.proxy(this._onMouseDownArrowLeft,this),mouseup:n.proxy(this._onMouseUpArrowLeft,this),mouseover:n.proxy(this._onMouseOverArrowLeft,this),mouseout:n.proxy(this._onMouseOutScrollbarArrow,this),touchstart:n.proxy(this._onTouchStartScrollbarElem,this)});if(this._hBarArrowRight)this._hBarArrowRight.on({mousedown:n.proxy(this._onMouseDownArrowRight,this),mouseup:n.proxy(this._onMouseUpArrowRight,this),mouseover:n.proxy(this._onMouseOverArrowRight,this),mouseout:n.proxy(this._onMouseOutScrollbarArrow,this),touchstart:n.proxy(this._onTouchStartScrollbarElem,this)});if(this._hBarDrag)this._hBarDrag.on({mousedown:n.proxy(this._onMouseDownHDrag,this),touchstart:n.proxy(this._onTouchStartScrollbarElem,this)});if(this._hBarTrack)this._hBarTrack.on({mousedown:n.proxy(this._onMouseDownHTrack,this),mousemove:n.proxy(this._onMouseMoveHTrack,this),mouseup:n.proxy(this._onMouseUpHTrack,this),mouseout:n.proxy(this._onMouseOutHTrack,this),touchstart:n.proxy(this._onTouchStartScrollbarElem,this)});if(this._hBarContainer)this._hBarContainer.on({dragstart:n.proxy(this._onDragStartElem,this),wheel:n.proxy(this._onWheelContainer,this),mouseenter:n.proxy(this._onMouseEnterScrollbarElem,this),mouseleave:n.proxy(this._onMouseLeaveScrollbarElem,this)});this._onMouseMoveHDragHandler=n.proxy(this._onMouseMoveHDrag,this),this._onMouseUpHScrollbarHandler=n.proxy(this._onMouseUpHScrollbar,this);n("body").on("mousemove.igscroll_"+this.element[0].id,this._onMouseMoveHDragHandler);n(window).on("mouseup.igscroll_"+this.element[0].id,this._onMouseUpHScrollbarHandler)},_scrollTimeoutX:function(n,t){var e=this._getContentPositionX(),r,u,i,f,o;if((e!==0||!(n<=0))&&(e!==this._getContentWidth()-this._getContainerWidth()||!(n>=0))){if(r=this,i={owner:r,smallIncrement:0,bigIncrement:0,horizontal:!0,stepX:n,stepY:0},t)i.smallIncrement=Math.sign(n);else{if(f=this._getTransform3dValueX(this._hBarDrag),this._mTrackLastPosH>f&&this._mTrackLastPosH<f+this._hDragWidth)return;i.bigIncrement=Math.sign(n),this._lastBigIncDirH=Math.sign(n)}u=this._trigger("scrolling",null,i),this._cancelScrolling=!u,u&&(o=this._getContentPositionX(),this._scrollLeft(o+n,!1),this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutX(n,t)},50))}},_onMouseDownArrowLeft:function(){var n=-this.options.smallIncrementStep,i=this._getContentPositionX(),t,r;i===0&&(n=0),t=this._trigger("scrolling",null,{owner:this,smallIncrement:-1,bigIncrement:0,horizontal:!0,stepX:n,stepY:0}),this._cancelScrolling=!t,t&&(this._bMouseDownH=!0,this._bUseArrowLeft=!0,this._scrollLeft(i+n,!1),r=this,this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutX(n,!0)},250))},_onMouseUpArrowLeft:function(){this._bMouseDownH=!1,this._bUseArrowLeft=!1,clearTimeout(this._holdTimeoutID),this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:-1,bigIncrement:0,horizontal:!0})},_onMouseOverArrowLeft:function(){this._bMouseDownH&&this._bUseArrowLeft&&this._scrollTimeoutX(-40,!0)},_onMouseDownArrowRight:function(){var n=this.options.smallIncrementStep,i=this._getContentPositionX(),t,r;i===this._getContentWidth()-this._getContainerWidth()&&(n=0),t=this._trigger("scrolling",null,{owner:this,smallIncrement:1,bigIncrement:0,horizontal:!0,stepX:n,stepY:0}),this._cancelScrolling=!t,t&&(this._bMouseDownH=!0,this._bUseArrowRight=!0,this._scrollLeft(i+n,!1),r=this,this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutX(n,!0)},250))},_onMouseUpArrowRight:function(){this._bMouseDownH=!1,this._bUseArrowRight=!1,clearTimeout(this._holdTimeoutID),this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:1,bigIncrement:0,horizontal:!0})},_onMouseOverArrowRight:function(){this._bMouseDownH&&this._bUseArrowRight&&this._scrollTimeoutX(40,!0)},_onMouseDownHDrag:function(n){this._bMouseDownH=!0,this._mouseLastX=n.pageX,this._bUseVDrag=!1,this._bUseHDrag=!0,this._trigger("thumbDragStart",null,{owner:this,horizontal:!0}),this._disableContentSelection()},_onMouseDownHTrack:function(n){if(n.target.id===this._hBarDrag[0].id)return!0;this._bUseHTrack=!0;var r=this,u=this._getTransform3dValueX(this._hBarDrag),f=this._getContentPositionX(),t=this.options.bigIncrementStep===null?this._elemWidth:this.options.bigIncrementStep,i;this._mTrackLastPosH=n.offsetX,n.offsetX>u+this._hDragWidth?(this._lastBigIncDirH=1,i=this._trigger("scrolling",null,{owner:this,smallIncrement:0,bigIncrement:1,horizontal:!0,stepX:t,stepY:0}),i&&(this._scrollLeft(f+t,!1),this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutX(t,!1)},250))):n.offsetX<u&&(this._lastBigIncDirH=-1,i=this._trigger("scrolling",null,{owner:this,smallIncrement:0,bigIncrement:-1,horizontal:!0,stepX:-t,stepY:0}),i&&(this._scrollLeft(f-t,!1),this._holdTimeoutID=setTimeout(function(){r._scrollTimeoutX(-t,!1)},250))),this._cancelScrolling=!i},_onMouseMoveHTrack:function(n){this._bUseVTrack&&(this._mTrackLastPosH=n.offsetX)},_onMouseUpHTrack:function(){clearTimeout(this._holdTimeoutID),this._bUseHTrack&&!this._cancelScrolling&&this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:this._lastBigIncDirH,horizontal:!0}),this._bUseHTrack=!1},_onMouseOutHTrack:function(){clearTimeout(this._holdTimeoutID),this._bUseHTrack&&!this._cancelScrolling&&this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:this._lastBigIncDirH,horizontal:!0}),this._bUseHTrack=!1},_onMouseMoveHDrag:function(n){var u;if(!this._bMouseDownH||!this._bUseHDrag)return!0;if(this._bUseHDrag){var f=this._getContentPositionX(),i=n.pageX-this._mouseLastX,r=this._dragLastX,t;t=(r+i)/(this._hBarTrack.width()-this._hBarDrag.width())*(this._getContentWidth()-this.element.width()),t=this._clampAxisCoords(t,0,Math.max(this._getContentWidth()-this._getContainerWidth(),0)),u=this._trigger("thumbDragMove",null,{owner:this,horizontal:!0,stepX:t-f,stepY:0}),u&&(this._scrollToX(t,!0),this._mouseLastX=n.pageX,this._dragLastX=r+i)}},_onMouseUpHScrollbar:function(){var n=this;this._bUseArrowLeft&&(this._bUseArrowLeft=!1,this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:-1,bigIncrement:0,horizontal:!0})),this._bUseArrowRight&&(this._bUseArrowRight=!1,this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:1,bigIncrement:0,horizontal:!0})),!this._bMouseDownH||this._mOverScrollbars||this._mOverContainer?this._bMouseDownH&&!this._mOverScrollbars&&this._mOverContainer&&(this._toSimpleScrollbarsID=setTimeout(function(){n._toSimpleScrollbars(),n._toSimpleScrollbarsID=0},2e3)):this._hideScrollbarID=setTimeout(function(){n._hideScrollbars()},2e3),this._bMouseDownH=!1,this._bUseHDrag&&(this._dragLastX=this._getTransform3dValueX(this._hBarDrag),this._cancelThumbDrag||this._trigger("thumbDragEnd",null,{owner:this,horizontal:!0}),this._cancelScrolling||this._trigger("scrolled",null,{owner:this,smallIncrement:0,bigIncrement:0,horizontal:!0}),this._enableContentSelection()),this._bUseHDrag=!1},_showScrollbars:function(n,t){var i=this;this.options.scrollbarType==="custom"&&(n?(this._hideScrollbarArrows(),this._vBarDrag&&this._percentInViewV<1&&this._vBarDrag.removeClass(this.css.verticalScrollThumbDragHidden).addClass(this.css.verticalScrollThumbDragThin),this._hBarDrag&&this._percentInViewH<1&&this._hBarDrag.removeClass(this.css.horizontalScrollThumbDragHidden).addClass(this.css.horizontalScrollThumbDragThin)):(this._showScrollbarArrows(),this._vBarDrag&&this._percentInViewV<1&&this._vBarDrag.removeClass(this.css.verticalScrollThumbDragHidden).removeClass(this.css.verticalScrollThumbDragThin).addClass(this.css.verticalScrollThumbDragBig),this._hBarDrag&&this._percentInViewH<1&&this._hBarDrag.removeClass(this.css.horizontalScrollThumbDragHidden).removeClass(this.css.horizontalScrollThumbDragThin).addClass(this.css.horizontalScrollThumbDragBig)),t&&(this._hideScrollbarID=setTimeout(function(){i._hideScrollbars()},t)))},_updateScrollbarsPos:function(n,t){function f(){i._hBarDrag&&(r=n/(i._contentWidth-i.element.width())*(i._hBarTrack.width()-i._hBarDrag.width()),i._hBarDrag.css("-webkit-transform","translate3d("+r+"px, 0px, 0px)").css("-moz-transform","translate3d("+r+"px, 0px, 0px)").css("-ms-transform","translate3d("+r+"px, 0px, 0px)"),i._bUseHDrag||(i._dragLastX=r)),i._vBarDrag&&(r=t/(i._contentHeight-i.element.height())*(i._vBarTrack.height()-i._vBarDrag.height()),i._vBarDrag.css("-webkit-transform","translate3d(0px, "+r+"px, 0px)").css("-moz-transform","translate3d(0px, "+r+"px, 0px)").css("-ms-transform","translate3d(0px, "+r+"px, 0px)"),i._bUseVDrag||(i._dragLastY=r))}if(this.options.scrollbarType==="custom"){var i=this,u,r;u=requestAnimationFrame(f)}},_hideScrollbars:function(){this.options.scrollbarType==="custom"&&!this.options.alwaysVisible&&(this._vBarDrag||this._hBarDrag)&&(this._vBarDrag&&this._percentInViewV<1&&this._vBarDrag.removeClass(this.css.verticalScrollThumbDragThin).removeClass(this.css.verticalScrollThumbDragBig).addClass(this.css.verticalScrollThumbDragHidden),this._hBarDrag&&this._percentInViewH<1&&this._hBarDrag.removeClass(this.css.horizontalScrollThumbDragThin).removeClass(this.css.horizontalScrollThumbDragBig).addClass(this.css.horizontalScrollThumbDragHidden),this._hideScrollbarArrows())},_toSimpleScrollbars:function(){this._vBarDrag&&this._percentInViewV<1&&this._vBarDrag.removeClass(this.css.verticalScrollThumbDragBig).addClass(this.css.verticalScrollThumbDragThin),this._hBarDrag&&this._percentInViewH<1&&this._hBarDrag.removeClass(this.css.horizontalScrollThumbDragBig).addClass(this.css.horizontalScrollThumbDragThin),this._hideScrollbarArrows()},_showScrollbarArrows:function(){this._vBarDrag&&this._percentInViewV<1&&(this._vBarArrowUp.removeClass(this.css.verticalScrollArrowHidden).addClass(this.css.verticalScrollArrow),this._vBarArrowDown.removeClass(this.css.verticalScrollArrowHidden).addClass(this.css.verticalScrollArrow)),this._hBarDrag&&this._percentInViewH<1&&(this._hBarArrowLeft.removeClass(this.css.horizontalScrollArrowHidden).addClass(this.css.horizontalScrollArrow),this._hBarArrowRight.removeClass(this.css.horizontalScrollArrowHidden).addClass(this.css.horizontalScrollArrow))},_hideScrollbarArrows:function(){this._vBarDrag&&this._percentInViewV<1&&(this._vBarArrowUp.removeClass(this.css.verticalScrollArrow).addClass(this.css.verticalScrollArrowHidden),this._vBarArrowDown.removeClass(this.css.verticalScrollArrow).addClass(this.css.verticalScrollArrowHidden)),this._hBarDrag&&this._percentInViewH<1&&(this._hBarArrowLeft.removeClass(this.css.horizontalScrollArrow).addClass(this.css.horizontalScrollArrowHidden),this._hBarArrowRight.removeClass(this.css.horizontalScrollArrow).addClass(this.css.horizontalScrollArrowHidden))},_onMouseEnterScrollbarElem:function(){this._mOverScrollbars=!0,clearTimeout(this._hideScrollbarID),clearTimeout(this._toSimpleScrollbarsID),this._toSimpleScrollbarsID=0,this._showScrollbars(!1)},_onMouseLeaveScrollbarElem:function(){var n=this;this._mOverScrollbars=!1,this._bMouseDownV||this._bMouseDownH||(this._hideScrollbarID=setTimeout(function(){n._hideScrollbars()},2e3),this._toSimpleScrollbarsID=setTimeout(function(){n._toSimpleScrollbars(),n._toSimpleScrollbarsID=0},2e3))},_onTouchStartScrollbarElem:function(){return!1},_disableContentSelection:function(){this._container.addClass(this.css.disabledSelection)},_enableContentSelection:function(){this._container.removeClass(this.css.disabledSelection)},_onDragStartElem:function(n){n.preventDefault()},destroy:function(){return cancelAnimationFrame(this._touchInertiaAnimID),cancelAnimationFrame(this._showScrollbarsAnimId),clearTimeout(this._hideScrollbarID),clearTimeout(this._toSimpleScrollbarsID),clearTimeout(this._holdTimeoutID),typeof MutationObserver=="function"&&this._observer.disconnect(),this._evts&&(this.element.off(this._evts),delete this._evts,this._hBarDrag&&this._hBarDrag.remove(),this._hBarContainer&&this._hBarContainer.remove(),this._vBarDrag&&this._vBarDrag.remove(),this._vBarContainer&&this._vBarContainer.remove(),n("body").off("mousemove.igscroll_"+this.element[0].id),n(window).off("mouseup.igscroll_"+this.element[0].id),n(window).off("resize.igscroll_"+this.element[0].id),this._superApply(arguments)),this}}),n.extend(n.ui.igScroll,{version:"19.2.25"});n(document).on("iggridrendered igtreegridrendered",function(n,t){var i=t.owner.scrollContainer();i.length===0&&t.owner.container&&(i=t.owner.container().find("[data-scroll]").eq(0)),i.length!==0&&(i.igScroll({modifyDOM:!1,scrollbarType:"none"}),i.data("igScroll")._bKeyboardNavigation=!1)})}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$0=t,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["IComparable$1:a","IEquatable$1:b","Action:c","Action$1:d","Action$2:e","Action$3:f","Action$4:g","Action$5:h","Action$6:i","Action$7:j","Action$8:k","Action$9:l","Comparison$1:m","Error:n","FormatException:o","IConvertible:p","IFormatProvider:q","Error:r","Date:s","DateTimeKind:t","DayOfWeek:u","Number:v","EventArgs:w","EventHandler$1:x","Func$1:y","Func$2:z","Func$3:aa","Func$4:ab","Func$5:ac","Func$6:ad","Func$7:ae","Func$8:af","Func$9:ag","IComparable:ah","Nullable$1:ai","Nullable:aj","Number:ak","ParamArrayAttribute:al","Enum:am","Array:an","Attribute:ao","AttributeTargets:ap","Boolean:aq","Number:ar","String:as","Delegate:at","IDisposable:au","Number:av","Number:aw","Number:ax","IntPtr:ay","MulticastDelegate:az","Object:a0","ReflectionUtil:a1","RuntimeFieldHandle:a2","RuntimeTypeHandle:a3","SystemException:a4","TypeCode:a5","Number:a6","Script:a7","Number:a8","StringSplitOptions:a9","StringComparison:ba","Number:bb","Type:bc","Number:bd","Number:be","Number:bf","UIntPtr:bg","ValueType:bh","Void:bi","IEqualityComparer:bj","ICollection:bk","IDictionary:bl","IList:bm","JSDictionary:bn","Array:bo","Array:bp","Array:bq","CompareCallback:br","Dictionary:bs","IEnumerable:bt","IEnumerator:bu","ICollection$1:bv","IEnumerable$1:bw","IEnumerator$1:bx","IEqualityComparer$1:by","IList$1:bz","PlaceholderSystemCollectionsObjectModel:b0","PlaceholderSystemCollectionsSpecialized:b1","EditorBrowsableState:b2","ISupportInitialize:b3","ITypeDescriptorContext:b4","TypeConverter:b5","INotifyPropertyChanged:b6","PropertyChangedEventArgs:b7","PropertyChangedEventHandler:b8","Calendar:b9","CalendarWeekRule:ca","CompareInfo:cb","CompareOptions:cc","NumberStyles:cd","PlaceholderSystemGlobalization:ce","CultureInfo:cf","DateTimeFormat:cg","NumberFormatInfo:ch","ConstructorInfo:ci","MethodBase:cj","MemberInfo:ck","MethodInfo:cl","ParameterInfo:cm","PropertyInfo:cn","Assembly:co","PlaceholderSystemWindows:cp","PlaceholderSystemWindowsControls:cq","PlaceholderSystemWindowsControlsPrimitives:cr","PlaceholderSystemWindowsData:cs","PlaceholderSystemWindowsInput:ct","PlaceholderSystemWindowsMarkup:cu","PlaceholderSystemWindowsMediaImaging:cv","PlaceholderSystemWindowsMediaAnimation:cw","PlaceholderSystemWindowsMediaEffects:cx","PlaceholderSystemWindowsShapes:cy","PlaceholderSystemWindowsAutomation:cz","PlaceholderSystemWindowsAutomationPeers:c0","PlaceholderSystemWindowsDocuments:c1","PlaceholderSystemWindowsInk:c2","PlaceholderSystemWindowsThreading:c3","PlaceholderSystemText:c4","XMLHttpRequest:c5","RuntimeHelpers:c6","Interlocked:c7","Monitor:c8","Thread:c9","ThreadStart:da","SeekOrigin:db","Stream:dc","XmlAttribute:dd","XmlDocument:de","XmlDocumentParser:df","XmlElement:dg","XmlLinkedNode:dh","XmlNode:di","XmlNodeList:dj","XmlNamedNodeMap:dk","XmlNodeType:dl","XmlSchemaForm:dm","PlaceholderInfragisticsControlerChartsAutomationPeers:dn"]),n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$1=t,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["ButtonElement:a","DOMTokenList:b","ListItemElement:c","Node:d","SpanElement:e","TemplateElement:f","DomRenderer:g","DomWrapper:h","DomWrapperPosition:i","INormalizedEvent:j","CanvasElement:k","DivElement:l","Element:m","ElementAttribute:n","ElementAttributeCollection:o","ElementCollection:p","ElementEventHandler:q","ElementNodeType:r","EventListener:s","EventListener$1:t","IElementEventHandler:u","ImageElement:v","InputElement:w","MutationObserverInit:x","MutationRecord:y","OptionElement:z","SelectElement:aa","OptionsCollection:ab","WebStyle:ac","TextAreaElement:ad","Callback:ae","CanvasContext:af","CanvasContext2D:ag","ImageData:ah","Gradient:ai","TextMetrics:aj","JQuery:ak","JQueryObject:al","JQueryCallback:am","JQueryUICallback:an","JQueryPosition:ao"]),n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$6=t,$$0=n.ig.globalDefs.$$0,$$1=n.ig.globalDefs.$$1,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["IFormattable:n","Predicate$1:r","IComparer:aa","Comparer$1:ab","DefaultComparer$1:ac","IComparer$1:ad","AsyncCompletedEventHandler:af"]);var g=n.ig.intDivide,u=n.ig.util.cast,i=n.ig.util.defType,f=n.ig.util.defEnum,r=n.ig.util.getBoxIfEnum,v=n.ig.util.getDefaultValue,nt=n.ig.util.getEnumValue,tt=n.ig.util.getValue,y=n.ig.util.intSToU,it=n.ig.util.nullableEquals,rt=n.ig.util.nullableIsNull,ut=n.ig.util.nullableNotEquals,ft=n.ig.util.toNullable,et=n.ig.util.toString$1,ot=n.ig.util.u32BitwiseAnd,st=n.ig.util.u32BitwiseOr,ht=n.ig.util.u32BitwiseXor,ct=n.ig.util.u32LS,lt=n.ig.util.unwrapNullable,at=n.ig.util.wrapNullable,e=String.fromCharCode,vt=n.ig.util.castObjTo$t,yt=n.ig.util.compare,pt=n.ig.util.replace,o=n.ig.util.stringFormat,s=n.ig.util.stringFormat1,p=n.ig.util.stringFormat2,h=n.ig.util.stringCompare1,wt=n.ig.util.stringCompare2,bt=n.ig.util.stringCompare3,kt=n.ig.util.compareSimple,dt=n.ig.util.tryParseNumber,gt=n.ig.util.tryParseNumber1,ni=n.ig.util.numberToString,ti=n.ig.util.numberToString1,w=n.ig.util.parseNumber,ii=n.ig.util.isDigit,ri=n.ig.util.isDigit1,c=n.ig.util.isLetter,ui=n.ig.util.isNumber,l=n.ig.util.isLetterOrDigit,fi=n.ig.util.isLower,b=n.ig.util.toLowerCase,k=n.ig.util.toUpperCase,ei=n.ig.util.equalsSimple,oi=n.ig.util.tryParseInt32_1,d=n.ig.util.tryParseInt32_2,si=n.ig.util.intToString1,hi=n.ig.util.parseInt32_1,a=n.ig.util.parseInt32_2;f("ListSortDirection:ah",!1,!1,{Ascending:0,Descending:1}),f("UriKind:y",!1,!1,{RelativeOrAbsolute:0,Absolute:1,Relative:2}),f("Guid_GuidStyles:m",!0,!1,{AllowBraces:2,AllowDashes:4,AllowHexPrefix:8,AllowParenthesis:1,Any:15,BraceFormat:96,DigitFormat:64,HexFormat:160,None:0,NumberFormat:0,ParenthesisFormat:80,RequireBraces:32,RequireDashes:64,RequireHexPrefix:128,RequireParenthesis:16}),f("Guid_GuidParseThrowStyle:l",!1,!1,{None:0,All:1,AllButOverflow:2}),f("Guid_ParseFailureKind:k",!1,!1,{None:0,ArgumentNull:1,Format:2,FormatWithParameter:3,NativeException:4,FormatWithInnerException:5}),i("Localization:ak","Object",{init:function(){n.ig.$op.init.call(this)},register:function(n,i){t.$ak.b==null&&(t.$ak.b={}),t.$ak.b[n]=i},c:function(i,r,u){var f;return f=t.$ak.a!=null?t.$ak.a(i,r):n.ig.util.getLocaleValue(i,r),String.isNullOrEmpty(f)?f="":u!=null&&u.length>0&&(f=s(f,u)),f},$type:new n.ig.Type("Localization",n.ig.$ot)},!0),i("GC:a","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("GC",n.ig.$ot)},!0),i("Activator:b","Object",{init:function(){n.ig.$op.init.call(this)},b:function(){return null},c:function(){return null},a:function(n){return v(n)},$type:new n.ig.Type("Activator",n.ig.$ot)},!0),i("AggregateException:c","Error",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}$$0.$n.init.call(this,0)},init1:function(n,t){$$0.$n.init1.call(this,1,t)},init2:function(n,t,i){$$0.$n.init2.call(this,2,t,i)},$type:new n.ig.Type("AggregateException",$$0.$n.$type)},!0),i("ArgumentException:d","Error",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break;case 3:this.init3.apply(this,arguments)}return}$$0.$n.init.call(this,0)},init1:function(n,t){$$0.$n.init1.call(this,1,t)},init2:function(n,t){$$0.$n.init1.call(this,1,t)},init3:function(n,t,i){$$0.$n.init2.call(this,2,t,i)},$type:new n.ig.Type("ArgumentException",$$0.$n.$type)},!0),i("ArgumentNullException:e","Error",{init:function(n,t){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}$$0.$n.init1.call(this,1,t+" cannot be null.")},init1:function(){$$0.$n.init.call(this,0);throw new t.q(0);},init2:function(n,i,r){$$0.$n.init1.call(this,1,r);throw new t.q(0);},$type:new n.ig.Type("ArgumentNullException",$$0.$n.$type)},!0),i("ArgumentOutOfRangeException:f","ArgumentException",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break;case 3:this.init3.apply(this,arguments);break;case 4:this.init4.apply(this,arguments)}return}t.$d.init.call(this,0)},init1:function(n,i){t.$d.init1.call(this,1,i+" is out of range.")},init2:function(n,i,r){t.$d.init1.call(this,1,r)},init3:function(n,i,r,u){t.$f.init2.call(this,2,u,i)},init4:function(n,i,r){t.$d.init3.call(this,3,i,r)},$type:new n.ig.Type("ArgumentOutOfRangeException",t.$d.$type)},!0),i("Convert:g","Object",{init:function(){n.ig.$op.init.call(this)},toDouble5:function(n){return n},toDouble1:function(n){return n},toDouble:function(n){return n},toDouble2:function(n){return n},toDecimal:function(n){return n},toDecimal3:function(n){return n},toDecimal1:function(n){return n},toInt32:function(t){if(t>=0){var i=n.ig.truncate(Math.floor(t)),u=t-i,f=Math.ceil(t)-t;return(u>f||u==f&&(i&1)>0)&&i++,i}var r=n.ig.truncate(Math.ceil(t)),e=r-t,o=t-Math.floor(t);return(e>o||e==o&&(r&1)>0)&&r--,r},toInt322:function(n){return parseInt(n)},toDouble3:function(n){return t.$g.toDouble4(n,$$0.$cf.currentCulture())},toDouble4:function(t,i){var r=n.ig.util.getValue(n.ig.util.unwrapNullable(t)),u;return r==null?0:(u=+r,n.ig.util.isNaN(u))?r.toDouble(i):u},toInt321:function(t){var i=n.ig.util.getValue(n.ig.util.unwrapNullable(t)),r;return i==null?0:(r=+i,n.ig.util.isNaN(r))?i.toInt32($$0.$cf.currentCulture()):r},toInt64:function(t){var i=n.ig.util.getValue(n.ig.util.unwrapNullable(t)),r;return i==null?0:(r=+i,n.ig.util.isNaN(r))?i.toInt64($$0.$cf.currentCulture()):r},toDecimal2:function(t){var i=n.ig.util.getValue(n.ig.util.unwrapNullable(t)),r;return i==null?0:(r=+i,n.ig.util.isNaN(r))?i.toDecimal($$0.$cf.currentCulture()):r},toByte:function(n){return n?1:0},toByte1:function(t){var i=n.ig.util.getValue(n.ig.util.unwrapNullable(t)),r;return i==null?0:(r=+i,n.ig.util.isNaN(r))?i.toByte($$0.$cf.currentCulture()):r},toBoolean:function(t){var i=n.ig.util.getValue(n.ig.util.unwrapNullable(t));return i==null?!1:!!i},toDateTime:function(t){var i=n.ig.util.getValue(n.ig.util.unwrapNullable(t)),r;return i==null?$$0.$s.minValue():u($$0.$s.$type,i)!==null?i:(r=+i,!n.ig.util.isNaN(r))?n.ig.Date.prototype.fromTicks(r):$$0.$s.parse(i.toString(),null)},toChar:function(n){return e(n)},toChar1:function(n){return e(n)},toDouble6:function(n,t){return w(n,t)},toUInt16:function(n){return n?1:0},toBoolean1:function(n){return n!=0},toUInt32:function(n){return n},fromBase64String:function(t){return n.ig.util.b64toUint8Array(t)},toBase64String:function(t){return n.ig.util.uint8ArraytoB64(t)},toByte2:function(){throw new t.q(0);},$type:new n.ig.Type("Convert",n.ig.$ot)},!0),i("Environment:h","Object",{init:function(){n.ig.$op.init.call(this)},newLine:function(){return"\n"},b:function(){try{throw new Error;}catch(n){return n.stack}return""},$type:new n.ig.Type("Environment",n.ig.$ot)},!0),i("IFormattable:n","Object",{$type:new n.ig.Type("IFormattable",null)},!0),i("Guid:i","ValueType",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break;case 3:this.init3.apply(this,arguments)}return}$$0.$bh.init.call(this)},ae:0,ac:0,ad:0,r:0,s:0,t:0,u:0,v:0,w:0,x:0,y:0,init1:function(n,t){$$0.$bh.init.call(this),this.ae=t[3]<<24|t[2]<<16|t[1]<<8|t[0],this.ac=t[5]<<8|t[4],this.ad=t[7]<<8|t[6],this.r=t[8],this.s=t[9],this.t=t[10],this.u=t[11],this.v=t[12],this.w=t[13],this.x=t[14],this.y=t[15]},init2:function(n,t,i,r,u,f,e,o,s,h,c,l){$$0.$bh.init.call(this),this.ae=t,this.ac=i,this.ad=r,this.r=u,this.s=f,this.t=e,this.u=o,this.v=s,this.w=h,this.x=c,this.y=l},init3:function(n,i){if($$0.$bh.init.call(this),i==null)throw new t.e(0,"g");var r=new t.j;if(r.i(1),!function(){var n=t.$i.n(i,15,r);return r=n.p2,n.ret}())throw r.a();this.ae=r.c.ae,this.ac=r.c.ac,this.ad=r.c.ad,this.r=r.c.r,this.s=r.c.s,this.t=r.c.t,this.u=r.c.u,this.v=r.c.v,this.w=r.c.w,this.x=r.c.x,this.y=r.c.y},compareTo1:function(n){var t=this.ae-n.ae;return t!=0?t:(t=this.ac-n.ac,t!=0)?t:(t=this.ad-n.ad,t!=0)?t:(t=this.r-n.r,t!=0)?t:(t=this.s-n.s,t!=0)?t:(t=this.t-n.t,t!=0)?t:(t=this.u-n.u,t!=0)?t:(t=this.v-n.v,t!=0)?t:(t=this.w-n.w,t!=0)?t:(t=this.x-n.x,t!=0)?t:t=this.y-n.y},compareTo:function(n){return u(t.$i.$type,n)!==null?this.compareTo1(n):1},equals:function(n){return t.$i.l_op_Equality(this,n)},newGuid:function(){return new t.i(3,n.ig.util.createGuid())},toByteArray:function(){return[this.ae,this.ae>>8,this.ae>>16,this.ae>>24,this.ac,this.ac>>8,this.ad,this.ad>>8,this.r,this.s,this.t,this.u,this.v,this.w,this.x,this.y]},toString:function(){return this.toString1("D",null)},toString2:function(n){return this.toString1(n,null)},toString1:function(i){var f,s;(i==null||i.length==0)&&(i="D");var u=0,o=38,e=!0,h=!1;if(i.length!=1)throw new $$0.o(0);s=i.charAt(0);switch(s){case"D":case"d":f=new Array(36),o=36;break;case"N":case"n":f=new Array(32),o=32,e=!1;break;case"B":case"b":f=new Array(38),f[u++]="{",f[37]="}";break;case"P":case"p":f=new Array(38),f[u++]="(",f[37]=")";break;default:if(s!="X"&&s!="x")throw new $$0.o(0);f=new Array(68),f[u++]="{",f[67]="}",o=68,e=!1,h=!0}return h?(f[u++]="0",f[u++]="x",u=t.$i.af(f,u,this.ae>>24,this.ae>>16),u=t.$i.af(f,u,this.ae>>8,this.ae),f[u++]=",",f[u++]="0",f[u++]="x",u=t.$i.af(f,u,this.ac>>8,this.ac),f[u++]=",",f[u++]="0",f[u++]="x",u=t.$i.af(f,u,this.ad>>8,this.ad),f[u++]=",",f[u++]="{",u=t.$i.ag(f,u,this.r,this.s,!0),f[u++]=",",u=t.$i.ag(f,u,this.t,this.u,!0),f[u++]=",",u=t.$i.ag(f,u,this.v,this.w,!0),f[u++]=",",u=t.$i.ag(f,u,this.x,this.y,!0),f[u++]="}"):(u=t.$i.af(f,u,this.ae>>24,this.ae>>16),u=t.$i.af(f,u,this.ae>>8,this.ae),e&&(f[u++]="-"),u=t.$i.af(f,u,this.ac>>8,this.ac),e&&(f[u++]="-"),u=t.$i.af(f,u,this.ad>>8,this.ad),e&&(f[u++]="-"),u=t.$i.af(f,u,this.r,this.s),e&&(f[u++]="-"),u=t.$i.af(f,u,this.t,this.u),u=t.$i.af(f,u,this.v,this.w),u=t.$i.af(f,u,this.x,this.y)),n.ig.util.createString3(f,0,o)},af:function(n,i,r,u){return t.$i.ag(n,i,r,u,!1)},ag:function(n,i,r,u,f){return f&&(n[i++]="0",n[i++]="x"),n[i++]=t.$i.z(r>>4),n[i++]=t.$i.z(r),f&&(n[i++]=",",n[i++]="0",n[i++]="x"),n[i++]=t.$i.z(u>>4),n[i++]=t.$i.z(u),i},z:function(n){return n&=15,n>9?e(n- -87):e(n+48)},tryParse:function(n,i){var r=new t.j;return(r.i(0),function(){var i=t.$i.n(n,15,r);return r=i.p2,i.ret}())?(i=r.c,{ret:!0,p1:i}):(i=t.$i.empty,{ret:!1,p1:i})},n:function(n,i,r){var f,e,o,s,h;if(n==null)return r.k(2,"Format_GuidUnrecognized"),{ret:!1,p2:r};if(f=n.trim(),f.length==0)return r.k(2,"Format_GuidUnrecognized"),{ret:!1,p2:r};if(e=f.indexOf("-",0)>=0,e){if((i&68)==0)return r.k(2,"Format_GuidUnrecognized"),{ret:!1,p2:r}}else if((i&64)!=0)return r.k(2,"Format_GuidUnrecognized"),{ret:!1,p2:r};if(o=f.indexOf("{",0)>=0,o){if((i&34)==0)return r.k(2,"Format_GuidUnrecognized"),{ret:!1,p2:r}}else if((i&32)!=0)return r.k(2,"Format_GuidUnrecognized"),{ret:!1,p2:r};if(f.indexOf("(",0)>=0){if((i&17)==0)return r.k(2,"Format_GuidUnrecognized"),{ret:!1,p2:r}}else if((i&16)!=0)return r.k(2,"Format_GuidUnrecognized"),{ret:!1,p2:r};try{return e?{ret:function(){var n=t.$i.o(f,r);return r=n.p1,n.ret}(),p2:r}:o?{ret:function(){var n=t.$i.p(f,r);return r=n.p1,n.ret}(),p2:r}:{ret:function(){var n=t.$i.q(f,r);return r=n.p1,n.ret}(),p2:r}}catch(c){if(s=u(t.$o.$type,c),s!=null)return r.m(5,"Format_GuidUnrecognized",null,null,s),{ret:!1,p2:r};if(h=u(t.$d.$type,c),h!=null)return r.m(5,"Format_GuidUnrecognized",null,null,h),{ret:!1,p2:r};throw c;}},o:function(n,i){var r,e,o,f=0,u=0;if(n.charAt(0)=="{"){if(n.length!=38||n.charAt(37)!="}")return i.k(2,"Format_GuidInvLen"),{ret:!1,p1:i};f=1}else if(n.charAt(0)=="("){if(n.length!=38||n.charAt(37)!=")")return i.k(2,"Format_GuidInvLen"),{ret:!1,p1:i};f=1}else if(n.length!=36)return i.k(2,"Format_GuidInvLen"),{ret:!1,p1:i};return n.charAt(8+f)!="-"||n.charAt(13+f)!="-"||n.charAt(18+f)!="-"||n.charAt(23+f)!="-"?(i.k(2,"Format_GuidDashes"),{ret:!1,p1:i}):(u=f,!function(){var f=t.$i.j(n,u,8,8192,r,i);return u=f.p1,r=f.p4,i=f.p5,f.ret}())?{ret:!1,p1:i}:(i.c.ae=r,u++,!function(){var f=t.$i.j(n,u,4,8192,r,i);return u=f.p1,r=f.p4,i=f.p5,f.ret}())?{ret:!1,p1:i}:(i.c.ac=r,u++,!function(){var f=t.$i.j(n,u,4,8192,r,i);return u=f.p1,r=f.p4,i=f.p5,f.ret}())?{ret:!1,p1:i}:(i.c.ad=r,u++,!function(){var f=t.$i.j(n,u,4,8192,r,i);return u=f.p1,r=f.p4,i=f.p5,f.ret}())?{ret:!1,p1:i}:(u++,f=u,!function(){var r=t.$i.j(n,u,4,8192,e,i);return u=r.p1,e=r.p4,i=r.p5,r.ret}())?{ret:!1,p1:i}:function(){var r=t.$i.j(n,u,8,8192,o,i);return u=r.p1,o=r.p4,i=r.p5,r.ret}()?(i.c.r=r>>8&255,i.c.s=r&255,r=e,i.c.t=r>>8&255,i.c.u=r&255,r=o,i.c.v=r>>24&255,i.c.w=r>>16&255,i.c.x=r>>8&255,i.c.y=r&255,{ret:!0,p1:i}):{ret:!1,p1:i}},ah:function(t){for(var u=0,f=new Array(t.length),r,i=0;i<t.length;i++)r=t.charAt(i),/\s/i.test(r)||(f[u++]=r);return n.ig.util.createString3(f,0,u)},p:function(n,i){var r=0,u=0,f,e,o;if(n=t.$i.ah(n),String.isNullOrEmpty(n)||n.charAt(0)!="{")return i.k(2,"Format_GuidBrace"),{ret:!1,p1:i};if(!t.$i.b(n,1))return i.l(2,"Format_GuidHexPrefix","{0xdddddddd, etc}"),{ret:!1,p1:i};if(r=3,u=n.indexOf(",",r)-r,u<=0)return i.k(2,"Format_GuidComma"),{ret:!1,p1:i};if(!function(){var f=t.$i.i(n.substr(r,u),-1,4096,i.c.ae,i);return i.c.ae=f.p3,i=f.p4,f.ret}())return{ret:!1,p1:i};if(!t.$i.b(n,r+u+1))return i.l(2,"Format_GuidHexPrefix","{0xdddddddd, 0xdddd, etc}"),{ret:!1,p1:i};if(r=r+u+3,u=n.indexOf(",",r)-r,u<=0)return i.k(2,"Format_GuidComma"),{ret:!1,p1:i};if(!function(){var f=t.$i.k(n.substr(r,u),-1,4096,i.c.ac,i);return i.c.ac=f.p3,i=f.p4,f.ret}())return{ret:!1,p1:i};if(!t.$i.b(n,r+u+1))return i.l(2,"Format_GuidHexPrefix","{0xdddddddd, 0xdddd, 0xdddd, etc}"),{ret:!1,p1:i};if(r=r+u+3,u=n.indexOf(",",r)-r,u<=0)return i.k(2,"Format_GuidComma"),{ret:!1,p1:i};if(!function(){var f=t.$i.k(n.substr(r,u),-1,4096,i.c.ad,i);return i.c.ad=f.p3,i=f.p4,f.ret}())return{ret:!1,p1:i};if(n.length<=r+u+1||n.charAt(r+u+1)!="{")return i.k(2,"Format_GuidBrace"),{ret:!1,p1:i};for(u++,f=new Array(8),e=0;e<8;e++){if(!t.$i.b(n,r+u+1))return i.l(2,"Format_GuidHexPrefix","{... { ... 0xdd, ...}}"),{ret:!1,p1:i};if(r=r+u+3,e<7){if(u=n.indexOf(",",r)-r,u<=0)return i.k(2,"Format_GuidComma"),{ret:!1,p1:i}}else if(u=n.indexOf("}",r)-r,u<=0)return i.k(2,"Format_GuidBraceAfterLastNumber"),{ret:!1,p1:i};if(o=y(a(n.substr(r,u),515,null)),o>255)return i.k(2,"Overflow_Byte"),{ret:!1,p1:i};f[e]=o}return(i.c.r=f[0],i.c.s=f[1],i.c.t=f[2],i.c.u=f[3],i.c.v=f[4],i.c.w=f[5],i.c.x=f[6],i.c.y=f[7],r+u+1>=n.length||n.charAt(r+u+1)!="}")?(i.k(2,"Format_GuidEndBrace"),{ret:!1,p1:i}):r+u+1!=n.length-1?(i.k(2,"Format_ExtraJunkAtEnd"),{ret:!1,p1:i}):{ret:!0,p1:i}},q:function(n,i){var u,o,s,r=0,f,e,h;if(n.length!=32)return i.k(2,"Format_GuidInvLen"),{ret:!1,p1:i};for(f=0;f<n.length;f++)if(e=n.charAt(f),(e.charCodeAt(0)<"0".charCodeAt(0)||e.charCodeAt(0)>"9".charCodeAt(0))&&(h=k(e),h.charCodeAt(0)<"A".charCodeAt(0)||h.charCodeAt(0)>"F".charCodeAt(0)))return i.k(2,"Format_GuidInvalidChar"),{ret:!1,p1:i};return function(){var u=t.$i.i(n.substr(r,8),-1,4096,i.c.ae,i);return i.c.ae=u.p3,i=u.p4,u.ret}()?(r+=8,!function(){var u=t.$i.k(n.substr(r,4),-1,4096,i.c.ac,i);return i.c.ac=u.p3,i=u.p4,u.ret}())?{ret:!1,p1:i}:(r+=4,!function(){var u=t.$i.k(n.substr(r,4),-1,4096,i.c.ad,i);return i.c.ad=u.p3,i=u.p4,u.ret}())?{ret:!1,p1:i}:(r+=4,!function(){var f=t.$i.i(n.substr(r,4),-1,4096,u,i);return u=f.p3,i=f.p4,f.ret}())?{ret:!1,p1:i}:(r+=4,!function(){var u=t.$i.i(n.substr(r,4),-1,r,o,i);return o=u.p3,i=u.p4,u.ret}())?{ret:!1,p1:i}:(r+=4,!function(){var u=t.$i.i(n.substr(r,8),-1,r,s,i);return s=u.p3,i=u.p4,u.ret}())?{ret:!1,p1:i}:(i.c.r=u>>8&255,i.c.s=u&255,u=o,i.c.t=u>>8&255,i.c.u=u&255,u=s,i.c.v=u>>24&255,i.c.w=u>>16&255,i.c.x=u>>8&255,i.c.y=u&255,{ret:!0,p1:i}):{ret:!1,p1:i}},k:function(n,i,r,u,f){var e=0;return{ret:function(){var o=t.$i.l(n,e,i,r,u,f);return e=o.p1,u=o.p4,f=o.p5,o.ret}(),p3:u,p4:f}},l:function(n,i,r,u,f,e){var o,s;return f=0,s=function(){var f=t.$i.j(n,i,r,u,o,e);return i=f.p1,o=f.p4,e=f.p5,f.ret}(),f=o,{ret:s,p1:i,p4:f,p5:e}},i:function(n,i,r,u,f){var e=0;return{ret:function(){var o=t.$i.j(n,e,i,r,u,f);return e=o.p1,u=o.p4,f=o.p5,o.ret}(),p3:u,p4:f}},j:function(n,t,i,r,u,f){var o,e;u=0,o=t;try{if(i==-1){for(e=n.length-t;;){if(function(){var i=d(n.substr(t,e),515,$$0.$cf.invariantCulture(),u);return u=i.p3,i.ret}())break;e--}t+=e}else u=a(n.substr(t,i),515,null),t+=i}catch(s){if(f.d!=0)throw s;return f.j(s),{ret:!1,p1:t,p4:u,p5:f}}return i!=-1&&t-o!=i?(f.k(2,"Format_GuidInvalidChar"),{ret:!1,p1:t,p4:u,p5:f}):{ret:!0,p1:t,p4:u,p5:f}},b:function(n,t){return n.length>t+1&&n.charAt(t)=="0"&&b(n.charAt(t+1))=="x"},l_op_Inequality:function(n,i){return!t.$i.l_op_Equality(n,i)},l_op_Inequality_Lifted:function(n,i){if(n.hasValue()){if(!i.hasValue())return!0}else return i.hasValue();return t.$i.l_op_Inequality(n.value(),i.value())},l_op_Equality:function(n,t){return n.ae==t.ae&&n.ac==t.ac&&n.ad==t.ad&&n.r==t.r&&n.s==t.s&&n.t==t.t&&n.u==t.u&&n.v==t.v&&n.w==t.w&&n.x==t.x&&n.y==t.y},l_op_Equality_Lifted:function(n,i){if(n.hasValue()){if(!i.hasValue())return!1}else return!i.hasValue();return t.$i.l_op_Equality(n.value(),i.value())},$type:new n.ig.Type("Guid",$$0.$bh.$type,[t.$n.$type,$$0.$ah.$type,$$0.$a.$type.specialize(-1),$$0.$b.$type.specialize(-1)])},!0),t.$i.$type.initSelfReferences(),i("Guid_GuidResult:j","ValueType",{init:function(){this.c=new t.i,$$0.$bh.init.call(this)},c:null,d:0,e:0,h:null,f:null,g:null,b:null,i:function(n){this.c=t.$i.empty,this.d=n},j:function(n){this.e=4,this.b=n},k:function(n,t){this.m(n,t,null,null,null)},l:function(n,t,i){this.m(n,t,i,null,null)},m:function(n,t,i,r,u){if(this.e=n,this.h=t,this.f=i,this.g=r,this.b=u,this.d!=0)throw this.a();},a:function(){switch(this.e){case 1:return new t.e(0,this.g);case 2:return new $$0.o(0);case 3:return new $$0.o(0);case 4:return this.b;case 5:return new $$0.o(2,"The format of the Guid was incorrect.",this.b)}return new $$0.o(0)},$type:new n.ig.Type("Guid_GuidResult",$$0.$bh.$type)},!0),i("IndexOutOfRangeException:o","Error",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}$$0.$n.init.call(this,0)},init1:function(n,t){$$0.$n.init1.call(this,1,t)},$type:new n.ig.Type("IndexOutOfRangeException",$$0.$n.$type)},!0),i("InvalidOperationException:p","Error",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}$$0.$n.init1.call(this,1,"Invalid operation")},init1:function(n,t){$$0.$n.init1.call(this,1,t)},init2:function(n,i,r){$$0.$n.init2.call(this,2,i,r);throw new t.q(0);},$type:new n.ig.Type("InvalidOperationException",$$0.$n.$type)},!0),i("NotImplementedException:q","Error",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}$$0.$n.init1.call(this,1,"not implemented")},init1:function(n,i){$$0.$n.init1.call(this,1,i);throw new t.q(0);},$type:new n.ig.Type("NotImplementedException",$$0.$n.$type)},!0),i("Random:s","Object",{init:function(t){if(t>0){switch(t){case 1:this.init1.apply(this,arguments)}return}n.ig.$op.init.call(this)},init1:function(){n.ig.$op.init.call(this)},nextDouble:function(){return Math.random()},next:function(){return this.next1(2147483647)},next1:function(t){return n.ig.truncate(Math.round(this.nextDouble()*(t-1)))},next2:function(t,i){return t+n.ig.truncate(Math.round(this.nextDouble()*(i-t-1)))},$type:new n.ig.Type("Random",n.ig.$ot)},!0),i("IComparer:aa","Object",{$type:new n.ig.Type("IComparer",null)},!0),i("IComparer$1:ad","Object",{$type:new n.ig.Type("IComparer$1",null)},!0),i("StringComparer:t","Object",{h:0,init:function(t){if(t>0){switch(t){case 1:this.init1.apply(this,arguments)}return}n.ig.$op.init.call(this)},init1:function(t,i){n.ig.$op.init.call(this),this.h=i},compare:function(n,t){return h(u(String,n),u(String,t),this.h)},compare1:function(n,t){return h(n,t,this.h)},create:function(n,i){return n.name()==$$0.$cf.invariantCulture().name()?i?t.$t.invariantCultureIgnoreCase:t.$t.invariantCulture:i?t.$t.currentCultureIgnoreCase:t.$t.currentCulture},equalsC:function(n,t){return this.compare1(n,t)==0},getHashCodeC:function(n){if(n==null)return 0;switch(this.h){case 0:case 2:case 4:return n.getHashCode();case 1:return n.toLowerCase().getHashCode();case 3:case 5:return n.toLowerCase().getHashCode();default:return 0}},$type:new n.ig.Type("StringComparer",n.ig.$ot,[t.$aa.$type,$$0.$bj.$type,t.$ad.$type.specialize(String),$$0.$by.$type.specialize(String)])},!0),i("Tuple$2:u","Object",{$t1:null,$t2:null,_c:null,_d:null,init:function(t,i,r,u){this.$t1=t,this.$t2=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t1,this.$t2)),n.ig.$op.init.call(this),this._c=r,this._d=u},equals:function(i){var f=u(t.$u.$type.specialize(this.$t1,this.$t2),i);return f!=null&&n.ig.$op.equalsStatic(r(this.$t1,this._c),r(this.$t1,f._c))&&n.ig.$op.equalsStatic(r(this.$t2,this._d),r(this.$t2,f._d))},getHashCode:function(){var n=0;return r(this.$t1,this._c)!=null&&(n=this._c.getHashCode()),r(this.$t2,this._d)!=null&&(n=n^this._d.getHashCode()<<16),n},$type:new n.ig.Type("Tuple$2",n.ig.$ot)},!0),i("Tuple$3:v","Object",{$t1:null,$t2:null,$t3:null,_c:null,_d:null,_e:null,init:function(t,i,r,u,f,e){this.$t1=t,this.$t2=i,this.$t3=r,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t1,this.$t2,this.$t3)),n.ig.$op.init.call(this),this._c=u,this._d=f,this._e=e},equals:function(i){var f=u(t.$v.$type.specialize(this.$t1,this.$t2,this.$t3),i);return f!=null&&n.ig.$op.equalsStatic(r(this.$t1,this._c),r(this.$t1,f._c))&&n.ig.$op.equalsStatic(r(this.$t2,this._d),r(this.$t2,f._d))&&n.ig.$op.equalsStatic(r(this.$t3,this._e),r(this.$t3,f._e))},getHashCode:function(){var n=0;return r(this.$t1,this._c)!=null&&(n=this._c.getHashCode()),r(this.$t2,this._d)!=null&&(n=n^this._d.getHashCode()<<8),r(this.$t3,this._e)!=null&&(n=n^this._e.getHashCode()<<16),n},$type:new n.ig.Type("Tuple$3",n.ig.$ot)},!0),i("Tuple:w","Object",{init:function(){n.ig.$op.init.call(this)},a:function(n,i,r,u){return new t.u(n,i,r,u)},b:function(n,i,r,u,f,e){return new t.v(n,i,r,u,f,e)},$type:new n.ig.Type("Tuple",n.ig.$ot)},!0),i("Uri:x","Object",{init:function(n,i){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break;case 3:this.init3.apply(this,arguments)}return}t.$x.init2.call(this,2,i,1,!0)},init1:function(n,i,r){t.$x.init2.call(this,2,i,r,!0)},init2:function(t,i){n.ig.$op.init.call(this),this.value(i)},_value:null,value:function(n){return arguments.length===1?(this._value=n,n):this._value},isAbsoluteUri:function(){var i=this.value(),r=i.length,t,n;if(r!=0&&c(i.charAt(0)))for(t=1;t<r;t++){if(n=i.charAt(t),n==":")return!0;if(n!="+"&&n!="-"&&n!="."&&!l(n))break}return!1},scheme:function(){var r=this.value(),u=r.length,i,n;if(u!=0&&c(r.charAt(0)))for(i=1;i<u;i++){if(n=r.charAt(i),n==":")return r.substr(0,i);if(n!="+"&&n!="-"&&n!="."&&!l(n))break}throw new t.p(1,"The scheme cannot be obtained from a relative Uri.");},encodeURIComponent:function(){return null},escapeUriString:function(n){return/^([A-Z]:)|(\\\\)/i.test(n)?n:encodeURI(n)},tryCreate:function(n,i,r){return t.$x.isWellFormedUriString(n,i)?(r=new t.x(2,n,i,!1),{ret:!0,p2:r}):(r=null,{ret:!1,p2:r})},isWellFormedUriString:function(n,t){switch(t){case 1:if(!/^(((http|ftp|https):\/\/[\w-]+(\.[\w-]*)+)|(file:\/\/\/?))([\w\\$()!'.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?$/i.test(n))return!1;break;case 2:if(!/^([\w\\$()!'.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?$/i.test(n))return!1;break;default:case 0:if(!/^((((http|ftp|https):\/\/[\w-]+(\.[\w-]*)+)|(file:\/\/\/?)))?([\w\\$()!'.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?$/i.test(n))return!1}return!0},toString:function(){if(/^([A-Z]:)|(\\\\)/i.test(this.value()))return this.value();var n=decodeURI(this.value());return/^(http|ftp|https):\/\/[\w-]+(\.[\w-]*)+?$/i.test(n)&&(n+="/"),n},init3:function(){n.ig.$op.init.call(this);throw new t.q(0);},absolutePath:function(){throw new t.q(0);},absoluteUri:function(){throw new t.q(0);},localPath:function(){var n=/^(((http|ftp|https):\/\/[\w-]+(\.[\w-]*)+)|(file:\/\/\/?))([\w\\$()!'.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?$/i.exec(this.value());if(n==null)throw new t.p(0);return n[6]!=null?decodeURI(n[6]):"/"},originalString:function(){return this.value()},isWellFormedOriginalString:function(){return t.$x.isWellFormedUriString(this.value(),0)},$type:new n.ig.Type("Uri",n.ig.$ot)},!0),i("WeakReference:z","Object",{b:null,init:function(t){n.ig.$op.init.call(this),this.b=t},a:function(){return!0},c:function(n){return arguments.length===1?(this.b=n,n):this.b},$type:new n.ig.Type("WeakReference",n.ig.$ot)},!0),i("StringBuilder:aj","Object",{_internal:null,internal:function(n){return arguments.length===1?(this._internal=n,n):this._internal},init:function(t){if(t>0){switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}n.ig.$op.init.call(this),this.internal("")},init1:function(){t.$aj.init.call(this,0)},init2:function(t,i){n.ig.$op.init.call(this),this.internal(i)},k:function(n){return n!=null&&this.l(n.toString()),this},l:function(n){return n!=null&&(this._internal=this._internal.concat(n)),this},n:function(n){var t=n.toString();return this._internal=this._internal.concat(t),this},h:function(n){return this._internal=this._internal.concat(n),this},i:function(n,t){if(n.repeat)this._internal=this._internal.concat(n.repeat(t));else for(var i=0;i<t;i++)this._internal=this._internal.concat(n);return this},j:function(n){return this._internal=this._internal.concat(n),this},m:function(n,t,i){return this._internal=this._internal.concat(n.substr(t,i)),this},g:function(n,t,i){return this._internal=this._internal.concat(n.slice(t,t+i).join("")),this},t:function(){return this.u("")},u:function(t){return t!=null&&(this._internal=this._internal.concat(t)),this._internal=this._internal.concat(n.ig.Environment.prototype.newLine()),this},v:function(){return this.internal(""),this},w:function(n,t){return n==this.c()?this.h(t):this._internal=this._internal.substring(0,n).concat(t).concat(this._internal.substring(n,this._internal.length)),this},x:function(n,t){return n==this.c()?this.l(t):this._internal=this._internal.substring(0,n).concat(t).concat(this._internal.substring(n,this._internal.length)),this},y:function(n,t){return this._internal=this._internal.substring(0,n).concat(this._internal.substring(n+t,this._internal.length)),this},z:function(n,t){return this._internal=this._internal.replace(n,t),this},toString:function(){return this.internal()},f:function(n,t){return this.internal().substr(n,t)},c:function(n){if(arguments.length===1){if(n<=this.c())this._internal=this._internal.substring(0,n);else throw new t.q(0);return n}return this.internal().length},item:function(n,t){return arguments.length===2?(this._internal=this._internal.substring(0,n).concat(t).concat(this._internal.substring(n+1,this._internal.length)),t):this.internal().charAt(n)},q:function(n,t){return this.l(o(n,t))},p:function(n,t){return this.l(s(n,t))},o:function(n,t,i){return this.l(p(n,t,i))},r:function(n,t,i){return this.l(o(n,t,i))},s:function(n,t,i,r){return this.l(o(n,t,i,r))},_b:0,$type:new n.ig.Type("StringBuilder",n.ig.$ot)},!0),i("InAttribute","Attribute",{init:function(){$$0.$ao.init.call(this)},$type:new n.ig.Type("InAttribute",$$0.$ao.$type)},!0),i("Out1Attribute","Attribute",{init:function(){$$0.$ao.init.call(this)},$type:new n.ig.Type("Out1Attribute",$$0.$ao.$type)},!0),i("Debug:ai","Object",{init:function(){n.ig.$op.init.call(this)},b:function(){},d:function(){},a:function(){},c:function(){},$type:new n.ig.Type("Debug",n.ig.$ot)},!0),i("DebuggerDisplayAttribute","Attribute",{init:function(){$$0.$ao.init.call(this)},_a:null,_d:null,_b:null,_c:null,$type:new n.ig.Type("DebuggerDisplayAttribute",$$0.$ao.$type)},!0),i("AsyncCompletedEventArgs:ae","EventArgs",{d:null,b:!1,f:null,init:function(n,t,i){$$0.$w.init.call(this),this.b=t,this.d=n,this.f=i},error:function(){return this.d},cancelled:function(){return this.b},userState:function(){return this.f},h:function(){if(this.error()!=null)throw this.error();},$type:new n.ig.Type("AsyncCompletedEventArgs",$$0.$w.$type)},!0),i("CancelEventArgs:ag","EventArgs",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}$$0.$w.init.call(this)},init1:function(){$$0.$w.init.call(this)},_cancel:!1,cancel:function(n){return arguments.length===1?(this._cancel=n,n):this._cancel},$type:new n.ig.Type("CancelEventArgs",$$0.$w.$type)},!0),i("GeneratedCodeAttribute","Attribute",{a:null,c:null,init:function(n,t){$$0.$ao.init.call(this),this.a=n,this.c=t},b:function(){return this.a},d:function(){return this.c},$type:new n.ig.Type("GeneratedCodeAttribute",$$0.$ao.$type)},!0),i("Comparer$1:ab","Object",{$t:null,init:function(t){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this)},defaultComparerValue:function(n){return new t.ac(n)},compare:function(){},create:function(){return null},$type:new n.ig.Type("Comparer$1",n.ig.$ot,[t.$aa.$type,t.$ad.$type.specialize(0)])},!0),i("DefaultComparer$1:ac","Comparer$1",{$t:null,init:function(n){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$ab.init.call(this,this.$t)},compare:function(t,i){var f=u($$0.$a.$type.specialize(this.$t),t),r;return f!=null?f.compareTo(i):(r=u($$0.$a.$type.specialize(this.$t),i),r!=null)?-r.compareTo(t):n.ig.util.compare(t,i)},$type:new n.ig.Type("DefaultComparer$1",t.$ab.$type.specialize(0))},!0),t.$ak.a=null,t.$ak.b=null,t.$i.empty=new t.i(0),t.$t.currentCulture=new t.t(1,0),t.$t.currentCultureIgnoreCase=new t.t(1,1),t.$t.invariantCulture=new t.t(1,2),t.$t.invariantCultureIgnoreCase=new t.t(1,3),t.$t.ordinal=new t.t(1,4),t.$t.ordinalIgnoreCase=new t.t(1,5),t.$x.schemeDelimiter="://"}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$4=t,$$0=n.ig.globalDefs.$$0,$$1=n.ig.globalDefs.$$1,$$6=n.ig.globalDefs.$$6,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["EqualityComparer$1:m","DefaultEqualityComparer$1:n","IArrayList:r","IArray:s","IDictionary$2:t","INotifyCollectionChanged:ac","NotifyCollectionChangedEventHandler:ad"]);var s=n.ig.intDivide,f=n.ig.util.cast,i=n.ig.util.defType,h=n.ig.util.defEnum,r=n.ig.util.getBoxIfEnum,e=n.ig.util.getDefaultValue,l=n.ig.util.getEnumValue,o=n.ig.util.getValue,a=n.ig.util.intSToU,v=n.ig.util.nullableEquals,y=n.ig.util.nullableIsNull,p=n.ig.util.nullableNotEquals,w=n.ig.util.toNullable,c=n.ig.util.toString$1,b=n.ig.util.u32BitwiseAnd,k=n.ig.util.u32BitwiseOr,d=n.ig.util.u32BitwiseXor,g=n.ig.util.u32LS,nt=n.ig.util.unwrapNullable,tt=n.ig.util.wrapNullable,it=String.fromCharCode,u=n.ig.util.castObjTo$t,rt=n.ig.util.compareSimple,ut=n.ig.util.compare,ft=n.ig.util.replace,et=n.ig.util.stringFormat,ot=n.ig.util.stringFormat1,st=n.ig.util.stringFormat2,ht=n.ig.util.stringCompare1,ct=n.ig.util.stringCompare2,lt=n.ig.util.stringCompare3;h("NotifyCollectionChangedAction:af",!1,!1,{Add:0,Remove:1,Replace:2,Reset:4}),i("Buffer:a","Object",{init:function(){n.ig.$op.init.call(this)},b:function(n){try{}catch(i){}if(n==null)throw new $$6.e(0,"array");var t=n.length;if(t<0)throw new $$6.d(1,"Object must be an array of primitives.");return t},a:function(n,i){if(i<0||i>=t.$a.b(n))throw new $$6.f(2,"index","Value must be non-negative and less than the size of the collection.");return o(n[i])},d:function(n,i,r){if(i<0||i>=t.$a.b(n))throw new $$6.f(2,"index","Value must be non-negative and less than the size of the collection.");n[i]=r},c:function(n,i,r,u,f){if(n==null)throw new $$6.e(0,"src");if(r==null)throw new $$6.e(0,"dst");if(i<0)throw new $$6.f(2,"srcOffset","Non-negative number required.");if(u<0)throw new $$6.f(2,"dstOffset","Non-negative number required.");if(f<0)throw new $$6.f(2,"count","Non-negative number required.");if(i>t.$a.b(n)-f||u>t.$a.b(r)-f)throw new $$6.d(1,"Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.");for(var e=0;e<f;e++)r[u++]=n[i++]},$type:new n.ig.Type("Buffer",n.ig.$ot)},!0),i("AbstractEnumerable:b","Object",{a:null,init:function(t){n.ig.$op.init.call(this),this.a=t},getEnumerator:function(){return new t.c(this.a().getEnumerator())},$type:new n.ig.Type("AbstractEnumerable",n.ig.$ot,[$$0.$bt.$type])},!0),i("AbstractEnumerator:c","Object",{a:null,init:function(t){n.ig.$op.init.call(this),this.a=t},current:function(){return this.a.current()},moveNext:function(){return this.a.moveNext()},reset:function(){this.a.reset()},$type:new n.ig.Type("AbstractEnumerator",n.ig.$ot,[$$0.$bu.$type])},!0),i("INotifyCollectionChanged:ac","Object",{$type:new n.ig.Type("INotifyCollectionChanged",null)},!0),i("NotifyCollectionChangedEventArgs:ae","EventArgs",{init:function(i,r){if(i>0){switch(i){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}$$0.$w.init.call(this),this.f=r,this.c=new t.x(n.ig.$op.$type,0),this.b=new t.x(n.ig.$op.$type,0)},init1:function(i,r,u,f){$$0.$w.init.call(this),this.f=r,this.c=new t.x(n.ig.$op.$type,0),(this.f==1||this.f==2)&&(this.c.add(u),this.i=f),this.b=this.f!=1?function(){var i=new t.x(n.ig.$op.$type,0);return i.add1(u),i}():new t.x(n.ig.$op.$type,0),this.h=f},init2:function(i,r,u,f,e){$$0.$w.init.call(this),this.f=r,this.h=e,this.i=e,this.b=function(){var i=new t.x(n.ig.$op.$type,0);return i.add1(u),i}(),this.c=function(){var i=new t.x(n.ig.$op.$type,0);return i.add1(f),i}()},f:0,action:function(){return this.f},b:null,newItems:function(){return this.b},h:0,newStartingIndex:function(){return this.h},c:null,oldItems:function(){return this.c},i:0,oldStartingIndex:function(){return this.i},$type:new n.ig.Type("NotifyCollectionChangedEventArgs",$$0.$w.$type)},!0),i("NameValueCollection:ag","Object",{a:null,init:function(){n.ig.$op.init.call(this),this.a=new t.h(String,String,0)},item:function(n,t){return arguments.length===2?(this.a.containsKey(n)?this.a.item(n,t):this.a.add(n,t),t):this.a.containsKey(n)?this.a.item(n):null},$type:new n.ig.Type("NameValueCollection",n.ig.$ot)},!0),i("KeyValuePair$2:u","ValueType",{$tKey:null,$tValue:null,init:function(n,t,i){if(this.$tKey=n,this.$tValue=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),i>0){switch(i){case 1:this.init1.apply(this,arguments)}return}$$0.$bh.init.call(this)},a:null,c:null,init1:function(n,t,i,r,u){this.$tKey=n,this.$tValue=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),$$0.$bh.init.call(this),this.a=r,this.c=u},key:function(){return this.a},value:function(){return this.c},$type:new n.ig.Type("KeyValuePair$2",$$0.$bh.$type)},!0),i("IDictionary$2:t","Object",{$type:new n.ig.Type("IDictionary$2",null,[$$0.$bv.$type.specialize(t.$u.$type.specialize(0,1)),$$0.$bw.$type.specialize(t.$u.$type.specialize(0,1)),$$0.$bt.$type])},!0),i("Dictionary$2:h","Object",{$tKey:null,$tValue:null,j:null,k:0,e:!1,d:!1,c:!1,a:null,b:null,init:function(n,i,r){if(this.$tKey=n,this.$tValue=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),r>0){switch(r){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break;case 3:this.init3.apply(this,arguments);break;case 4:this.init4.apply(this,arguments)}return}t.$h.init4.call(this,this.$tKey,this.$tValue,4,0,null)},init1:function(n,i,r,u){this.$tKey=n,this.$tValue=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),t.$h.init4.call(this,this.$tKey,this.$tValue,4,u,null)},init2:function(n,i,r,u){this.$tKey=n,this.$tValue=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),t.$h.init4.call(this,this.$tKey,this.$tValue,4,0,u)},init3:function(n,i,r,u){var f,e;for(this.$tKey=n,this.$tValue=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),t.$h.init1.call(this,this.$tKey,this.$tValue,1,u.count()),f=u.getEnumerator();f.moveNext();)e=f.current(),this.item(e.key(),e.value())},init4:function(i,r,u,f,e){this.$tKey=i,this.$tValue=r,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),n.ig.$op.init.call(this),this.a={},this.b={},this.j=e||t.$m.defaultEqualityComparerValue(this.$tKey),this.e=e==null&&(i===n.ig.String.prototype.$type||i===String),this.d=i===n.ig.Object.prototype.$type||i.InstanceConstructor&&!i.InstanceConstructor.prototype.getHashCode,this.c=e==null&&(this.e||this.d||i.InstanceConstructor&&i.InstanceConstructor.prototype.getHashCode==n.ig.Object.prototype.getHashCode)},count:function(){return this.k},item:function(n,t){if(arguments.length===2)return this.o(n,t,!1),t;var i=this.tryGetValueFast(n);return i!==undefined?i:e(this.$tValue)},length:function(){return this.k},containsKey:function(n){var u,f,t,r,i,e;if(this.c)return u=this.n(n),this.a.hasOwnProperty(u);if(f=this.l(n),t=this.b[f],t)if(t.$isHashSetBucket){for(r=t,i=0;i<r.length;i++)if(e=r[i],this.j.equalsC(e.key,n))return!0}else return this.j.equalsC(t.key,n);return!1},remove:function(n){var i,r,t,f,u,e;if(this.c)return(i=this.n(n),!this.a.hasOwnProperty(i))?!1:(delete this.a[i],delete this.b[i],this.k--,!0);if(r=this.l(n),t=this.b[r],t)if(t.$isHashSetBucket){for(f=t,u=0;u<f.length;u++)if(e=f[u],this.j.equalsC(e.key,n))return t.removeItem(e),t.length==1&&(this.b[r]=t[0]),this.k--,!0}else if(this.j.equalsC(t.key,n))return delete this.b[r],this.k--,!0;return!1},clear:function(){this.k=0,this.a={},this.b={}},n:function(t){return this.d&&n.ig.util.ensureUniqueId(t),this.e?c(this.$tKey,t):t.getHashCode().toString()},l:function(t){return this.d?n.ig.util.ensureUniqueId(t):t.getHashCode||(this.d=!0,n.ig.util.ensureUniqueId(t)),this.j.getHashCodeC(t)},add:function(n,t){this.o(n,t,!0)},o:function(n,t,i){var u,f,r,o,e,s,h;if(this.c){if(u=this.n(n),this.a.hasOwnProperty(u)){if(i)throw new $$6.d(1,"Duplicate key added to the dictionary");}else this.k++;this.a[u]=n,this.b[u]=t}else if(f=this.l(n),r=this.b[f],r)if(r.$isHashSetBucket){for(o=r,e=0;e<o.length;e++)if(s=o[e],this.j.equalsC(s.key,n)){if(i)throw new $$6.d(1,"Duplicate key added to the dictionary");s.value=t;return}r.push({key:n,value:t}),this.k++}else if(this.j.equalsC(r.key,n)){if(i)throw new $$6.d(1,"Duplicate key added to the dictionary");r.value=t}else h=[r,{key:n,value:t}],h.$isHashSetBucket=!0,this.b[f]=h,this.k++;else this.b[f]={key:n,value:t},this.k++},tryGetValueFast:function(n){var t,f,s,i,e,r,o;if(this.c){if(f=this.n(n),this.a.hasOwnProperty(f))return t=this.b[f]}else if(s=this.l(n),i=this.b[s],i)if(i.$isHashSetBucket){for(e=i,r=0;r<e.length;r++)if(o=e[r],this.j.equalsC(o.key,n))return t=o.value}else if(this.j.equalsC(i.key,n))return t=i.value;return u(this.$tValue,undefined)},tryGetValue:function(n,t){var u,s,i,f,r,o;if(this.c){if(u=this.n(n),this.a.hasOwnProperty(u))return t=this.b[u],{ret:!0,p1:t}}else if(s=this.l(n),i=this.b[s],i)if(i.$isHashSetBucket){for(f=i,r=0;r<f.length;r++)if(o=f[r],this.j.equalsC(o.key,n))return t=o.value,{ret:!0,p1:t}}else if(this.j.equalsC(i.key,n))return t=i.value,{ret:!0,p1:t};return t=e(this.$tValue),{ret:!1,p1:t}},isReadOnly:function(){return!1},add1:function(n){this.add(n.key(),n.value())},contains:function(t){var u=this,i;return function(){var n=u.tryGetValue(t.key(),i);return i=n.p1,n.ret}()&&n.ig.$op.equalsStatic(r(this.$tValue,i),r(this.$tValue,t.value()))},copyTo:function(){throw new $$6.q(0);},remove1:function(n){return this.remove(n.key()),!0},getEnumerator:function(){return this.g().getEnumerator()},g:function(){var n=new t.j(this.$tKey,this.$tValue,-2);return n.__4__this=this,n},h:function(){var n=new t.k(this.$tKey,this.$tValue,-2);return n.__4__this=this,n},i:function(){var n=new t.l(this.$tKey,this.$tValue,-2);return n.__4__this=this,n},keys:function(){return new t.i(this.$tKey,this.$tValue,this.$tKey,this,this.h(),this.j||t.$m.defaultEqualityComparerValue(this.$tKey))},values:function(){return new t.i(this.$tKey,this.$tValue,this.$tValue,this,this.i(),t.$m.defaultEqualityComparerValue(this.$tValue))},$type:new n.ig.Type("Dictionary$2",n.ig.$ot,[t.$t.$type.specialize(0,1),$$0.$bl.$type])},!0),i("Dictionary_EnumerableCollection$3:i","Object",{$tKey:null,$tValue:null,$t:null,c:null,b:null,a:null,init:function(t,i,r,u,f,e){this.$tKey=t,this.$tValue=i,this.$t=r,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue,this.$t)),n.ig.$op.init.call(this),this.c=f,this.b=e,this.a=u},count:function(){return this.a.count()},isReadOnly:function(){return!0},add:function(){throw new $$6.p(0);},clear:function(){throw new $$6.p(0);},contains:function(t){for(var i=this.c.getEnumerator(),u;i.moveNext();)if(u=i.current(),n.ig.$op.equalsStatic(r(this.$t,u),r(this.$t,t)))return!0;return!1},copyTo:function(n,t){for(var i=this.c.getEnumerator(),r;i.moveNext();)r=i.current(),n[t++]=r},remove:function(){throw new $$6.p(0);},getEnumerator:function(){return this.c.getEnumerator()},getEnumerator1:function(){return this.c.getEnumerator()},$type:new n.ig.Type("Dictionary_EnumerableCollection$3",n.ig.$ot,[$$0.$bv.$type.specialize(2)])},!0),i("EqualityComparer$1:m","Object",{$t:null,init:function(t){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this)},defaultEqualityComparerValue:function(n){return new t.n(n)},equalsC:function(n,t){return this.equalsC(u(this.$t,n),u(this.$t,t))},getHashCodeC:function(n){return this.getHashCodeC(u(this.$t,n))},$type:new n.ig.Type("EqualityComparer$1",n.ig.$ot,[$$0.$bj.$type,$$0.$by.$type.specialize(0)])},!0),i("DefaultEqualityComparer$1:n","EqualityComparer$1",{$t:null,init:function(n){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$m.init.call(this,this.$t)},equalsC:function(t,i){return n.ig.$op.equalsStatic(r(this.$t,t),r(this.$t,i))},getHashCodeC:function(n){return n.getHashCode()},$type:new n.ig.Type("DefaultEqualityComparer$1",t.$m.$type.specialize(0))},!0),i("GenericEnumerable$1:o","Object",{$t:null,a:null,init:function(t,i){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this.a=i},getEnumerator:function(){return new t.p(this.$t,this.a().getEnumerator())},$type:new n.ig.Type("GenericEnumerable$1",n.ig.$ot,[$$0.$bw.$type.specialize(0)])},!0),i("GenericEnumerator$1:p","Object",{$t:null,a:null,init:function(t,i){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this.a=i},current:function(){return this.a.current()},moveNext:function(){return this.a.moveNext()},reset:function(){this.a.reset()},dispose:function(){},$type:new n.ig.Type("GenericEnumerator$1",n.ig.$ot,[$$0.$bx.$type.specialize(0)])},!0),i("HashSet$1:q","Object",{$t:null,k:null,n:0,__values:null,c:!1,__stringPlaceholder:null,b:!1,init:function(n,i){if(this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),i>0){switch(i){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break;case 3:this.init3.apply(this,arguments)}return}t.$q.init2.call(this,this.$t,2,null)},init1:function(n,i,r){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$q.init3.call(this,this.$t,3,r,null)},init2:function(i,r,u){this.$t=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this.__values={},this.k=u||t.$m.defaultEqualityComparerValue(this.$t),this.c=u==null&&(i===n.ig.String.prototype.$type||i===String),this.b=i===n.ig.Object.prototype.$type||i.InstanceConstructor&&!i.InstanceConstructor.prototype.getHashCode,this.__stringPlaceholder={}},init3:function(n,i,r,u){var f,e;for(this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$q.init2.call(this,this.$t,2,u),f=r.getEnumerator();f.moveNext();)e=f.current(),this.add(e)},isReadOnly:function(){return!1},comparer:function(){return this.k},count:function(){return this.n},add:function(t){var r,i,u,e,f;if(this.c)return this.__values[t]?!1:(this.__values[t]=this.__stringPlaceholder,this.n++,!0);if(this.b&&n.ig.util.ensureUniqueId(t),r=this.k.getHashCodeC(t),i=this.__values[r],i)if(i.$isHashSetBucket){for(u=i.getEnumerator();u.moveNext();)if(e=u.current(),this.k.equalsC(e,t))return!1;i.push(t)}else{if(this.k.equalsC(i,t))return!1;f=[i,t],f.$isHashSetBucket=!0,this.__values[r]=f}else this.__values[r]=t;return this.n++,!0},clear:function(){this.n=0,this.__values={}},contains:function(t){var u,i,r,f;if(this.c)return!!this.__values[t];if(this.b&&n.ig.util.ensureUniqueId(t),u=this.k.getHashCodeC(t),i=this.__values[u],i!==undefined)if(i.$isHashSetBucket){for(r=i.getEnumerator();r.moveNext();)if(f=r.current(),this.k.equalsC(f,t))return!0}else if(this.k.equalsC(i,t))return!0;return!1},copyTo1:function(){throw new $$6.q(0);},copyTo:function(){throw new $$6.q(0);},copyTo2:function(){throw new $$6.q(0);},createSetComparer:function(){throw new $$6.q(0);},exceptWith:function(){throw new $$6.q(0);},getEnumerator:function(){var t,u,i,r,f,e;if(this.c)return n.ig.util.getArrayOfProperties(this.__values).getEnumerator();for(t=new Array(0),u=n.ig.util.getArrayOfValues(this.__values),i=0;i<u.length;i++)if(r=u[i],r.$isHashSetBucket)for(f=r.getEnumerator();f.moveNext();)e=f.current(),t.push(e);else t.push(r);return t.getEnumerator()},intersectWith:function(){throw new $$6.q(0);},isProperSubsetOf:function(){throw new $$6.q(0);},isProperSupersetOf:function(){throw new $$6.q(0);},isSubsetOf:function(){throw new $$6.q(0);},isSupersetOf:function(){throw new $$6.q(0);},onDeserialization:function(){throw new $$6.q(0);},overlaps:function(n){var t,i;if(this.count()>0)for(t=n.getEnumerator();t.moveNext();)if(i=t.current(),this.contains(i))return!0;return!1},remove:function(t){var r,i,u,f;if(this.c)return this.__values[t]?!1:(delete this.__values[t],this.n--,!0);if(this.b&&n.ig.util.ensureUniqueId(t),r=this.k.getHashCodeC(t),i=this.__values[r],i)if(i.$isHashSetBucket){for(u=i.getEnumerator();u.moveNext();)if(f=u.current(),this.k.equalsC(f,t))return i.removeItem(f),i.length==1&&(this.__values[r]=i[0]),this.n--,!0}else if(this.k.equalsC(i,t))return delete this.__values[r],this.n--,!0;return!1},setEquals:function(){throw new $$6.q(0);},symmetricExceptWith:function(){throw new $$6.q(0);},trimExcess:function(){},unionWith:function(n){for(var t=n.getEnumerator(),i;t.moveNext();)i=t.current(),this.add(i)},$type:new n.ig.Type("HashSet$1",n.ig.$ot,[$$0.$bv.$type.specialize(0),$$0.$bw.$type.specialize(0),$$0.$bt.$type])},!0),i("IArrayList:r","Object",{$type:new n.ig.Type("IArrayList",null)},!0),i("IArray:s","Object",{$type:new n.ig.Type("IArray",null)},!0),i("LinkedList$1:v","Object",{$t:null,init:function(t){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this)},a:null,c:function(){return this.a},b:null,d:function(){return this.b},e:function(n){if(this.a==null)this.a=new t.w(this.$t,1,n),this.b=this.a;else{var i=this.a;this.a=new t.w(this.$t,1,n),this.a.a=i,i.b=this.a}},f:function(n){if(this.b==null)this.a=new t.w(this.$t,1,n),this.b=this.a;else{var i=this.b;this.b=new t.w(this.$t,1,n),this.b.b=i,i.a=this.b}},i:function(){this.h(this.c())},g:function(){this.a=null,this.b=null},h:function(n){this.a==n&&(this.a=n.a,n.a!=null&&(n.a.b=null)),this.b==n&&(this.b=n.b,n.b!=null&&(n.b.a=null)),n.b!=null&&(n.b.a=n.a),n.a!=null&&(n.a.b=n.b),n.a=null,n.b=null},$type:new n.ig.Type("LinkedList$1",n.ig.$ot)},!0),i("LinkedListNode$1:w","Object",{$t:null,_c:null,b:null,a:null,init:function(t,i){if(this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),i>0){switch(i){case 1:this.init1.apply(this,arguments)}return}n.ig.$op.init.call(this)},init1:function(t,i,r){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this._c=r},$type:new n.ig.Type("LinkedListNode$1",n.ig.$ot)},!0),i("List$1:x","Object",{$t:null,__inner:null,c:!1,init:function(t,i){if(this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),i>0){switch(i){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}this.m={},n.ig.$op.init.call(this),this.__inner=[],this.c=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===n.ig.Object.prototype.equals},init1:function(n,i,r){var u,f;if(this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$x.init.call(this,this.$t,0),!this.d(0,r,!0))for(u=r.getEnumerator();u.moveNext();)f=u.current(),this.add(f)},init2:function(n){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$x.init.call(this,this.$t,0)},x:function(n,t){this.__inner[n]=t},r:function(n,t){this.__inner.splice(n,0,t)},n:function(n){this.__inner.push(n)},u:function(n){if(n==0){this.__inner.shift();return}this.__inner.splice(n,1)},p:function(){this.__inner=[]},item:function(n,t){return arguments.length===2?(this.x(n,t),t):this.__inner[n]},indexOf:function(t){if(this.c)return this.__inner.indexOf(t);for(var i=0;i<this.__inner.length;i++)if(n.ig.$op.equalsStatic(r(this.$t,t),r(this.$t,this.__inner[i])))return i;return-1},indexOf2:function(t,i){if(this.c)return this.__inner.indexOf(t,i);for(;i<this.__inner.length;i++)if(n.ig.$op.equalsStatic(r(this.$t,t),r(this.$t,this.__inner[i])))return i;return-1},lastIndexOf:function(t){if(this.c)return this.__inner.lastIndexOf(t);for(var i=this.__inner.length-1;i>=0;i--)if(n.ig.$op.equalsStatic(r(this.$t,t),r(this.$t,this.__inner[i])))return i;return-1},insert:function(n,t){this.r(n,t)},removeAt:function(n){this.u(n)},count:function(){return this.__inner.length},isReadOnly:function(){return!1},add:function(n){this.n(n)},clear:function(){this.p()},contains:function(n){return this.indexOf(n)>=0},copyTo:function(n,t){for(var i=0;i<this.__inner.length;i++)n[t+i]=this.__inner[i]},remove:function(n){var t=this.indexOf(n);return t<0?!1:(this.u(t),!0)},getEnumerator:function(){return this.__inner.getEnumerator()},asArray:function(){return this.__inner},d:function(n,i,r){var a=f(t.$r.$type,i),l,s,h,v,o,c,y,p,w,e;if(a!=null)return s=a.asArrayList(),Array.prototype.splice.apply(this.__inner,Array.prototype.concat.apply([n,0],s)),!0;if(l=f(t.$s.$type,i),l!=null)return s=l.asArray(),Array.prototype.splice.apply(this.__inner,Array.prototype.concat.apply([n,0],s)),!0;if(h=f($$0.$bz.$type.specialize(this.$t),i),h!=null){for(e=0;e<h.count();e++)v=h.item(e),this.__inner.splice(n+e,0,v);return!0}if(o=Array.isArray(i)?i:null,o!=null){if(c=this.__inner,this.__inner.length==0)if(r)for(y=o,p=o.length,e=0;e<p;e++)c[n++]=y[e];else for(w=o.length,e=0;e<w;e++)c[n++]=u(this.$t,o[e]);else for(e=0;e<o.length;e++)c.splice(n++,0,o[e]);return!0}return!1},insertRange1:function(n,t){var i,r,u;if(!this.d(n,t,!1))for(i=n,r=t.getEnumerator();r.moveNext();)u=r.current(),this.__inner.splice(i,0,u),i++},insertRange:function(n,t){var i,r,u;if(!this.d(n,t,!0))for(i=n,r=t.getEnumerator();r.moveNext();)u=r.current(),this.__inner.splice(i,0,u),i++},removeRange:function(n,t){if(n==0&&t==1){this.__inner.shift();return}this.__inner.splice(n,t)},copyTo1:function(t,i){n.ig.util.arrayCopyTo(this.__inner,t,i)},isFixedSize:function(){return!1},add1:function(n){return this.n(u(this.$t,n)),this.__inner.length-1},contains1:function(n){return this.indexOf1(n)>=0},indexOf1:function(n){return this.indexOf(u(this.$t,n))},insert1:function(n,t){this.r(n,u(this.$t,t))},remove1:function(n){var t=this.indexOf1(n);t<0||this.u(t)},sort:function(){var n=null;n=this.$t==Number?function(n,t){var i=n,r=t;return i<r?-1:i==r?0:1}:this.$t==$$0.$a8.$type?function(n,t){var i=n,r=t;return i<r?-1:i==r?0:1}:this.$t==$$0.$aw.$type?function(n,t){var i=o(n),r=o(t);return i<r?-1:i==r?0:1}:this.$t==$$0.$s.$type?function(n,t){var i=n,r=t;return i.getTime()<r.getTime()?-1:i.getTime()==r.getTime()?0:1}:function(n,t){return n.compareTo(t)},this.ab(n)},ab:function(n){this.__inner.sort(n)},sort2:function(n){this.__inner.sort(n)},_capacity:0,capacity:function(n){return arguments.length===1?(this._capacity=n,n):this._capacity},addRange:function(n){for(var t=n.getEnumerator(),i;t.moveNext();)i=t.current(),this.__inner.push(i)},toArray:function(){return this.__inner},forEach:function(n){for(var t=0;t<this.__inner.length;t++)n(this.__inner[t])},isSynchronized:function(){return!0},m:null,syncRoot:function(){return this.m},binarySearch:function(n){return this.binarySearch1(n,$$6.$ab.defaultComparerValue(this.$t))},binarySearch1:function(n,t){for(var i=0,u=this.count()-1;i<=u;){var r=i+s(u-i,2),e=this.__inner[r],f=t.compare(e,n);if(f==0)return r;f<0?i=r+1:u=r-1}return~i},asReadOnly:function(){return new t.g(this.$t,1,this)},reverse:function(){for(var t,i,n=0;n<s(this.count(),2);n++)t=this.count()-n-1,i=this.__inner[n],this.__inner[n]=this.__inner[t],this.__inner[t]=i},sort1:function(n){this.sort2(n.compare.runOn(n))},findIndex:function(n){for(var t=0;t<this.__inner.length;t++)if(n(this.__inner[t]))return t;return-1},removeAll:function(){throw new $$6.q(0);},$type:new n.ig.Type("List$1",n.ig.$ot,[$$0.$bz.$type.specialize(0),t.$s.$type,$$0.$bm.$type])},!0),i("Queue$1:y","Object",{$t:null,d:0,e:0,f:0,a:null,init:function(t){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this.a=new Array(4)},count:function(){return this.d},copyTo:function(n,t){var i,u,f;if(this.e<this.f)for(i=this.e;i<this.f;i++)n[t++]=r(this.$t,this.a[i]);else{for(u=this.e;u<this.a.length;u++)n[t++]=r(this.$t,this.a[u]);for(f=0;f<this.f;f++)n[t++]=r(this.$t,this.a[f])}},isSynchronized:function(){return!1},syncRoot:function(){return null},getEnumerator:function(){var n=new t.z(this.$t,0);return n.__4__this=this,n},enqueue:function(n){if(this.d==this.a.length){var t=new Array(Math.max(2,this.a.length*2));this.copyTo(t,0),this.e=0,this.f=this.a.length,this.a=t}this.a[this.f]=n,this.f=(this.f+1)%this.a.length,this.d++},dequeue:function(){if(this.d==0)throw new $$6.p(1,"The Queue is empty.");var n=this.a[this.e];return this.a[this.e]=null,this.e=(this.e+1)%this.a.length,this.d--,n},peek:function(){if(this.d==0)throw new $$6.p(1,"The Queue is empty.");return this.a[this.e]},$type:new n.ig.Type("Queue$1",n.ig.$ot,[$$0.$bk.$type,$$0.$bw.$type.specialize(0)])},!0),i("Stack$1:aa","Object",{$t:null,init:function(t){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),this.c=new $$0.bq,n.ig.$op.init.call(this)},c:null,push:function(n){this.c.add(r(this.$t,n))},peek:function(){return this.c.length<1?e(this.$t):u(this.$t,this.c[this.c.length-1])},pop:function(){var n=this.c[this.c.length-1];return this.c.removeAt(this.c.length-1),u(this.$t,n)},count:function(){return this.c.length},clear:function(){this.c.clear()},contains:function(n){return this.c.contains(r(this.$t,n))},getEnumerator:function(){return new t.ab(this.$t,this.c)},toArray:function(){for(var t=this.c.length,i=new Array(t),n=0;n<t;n++)i[n]=u(this.$t,this.c[t-(n+1)]);return i},$type:new n.ig.Type("Stack$1",n.ig.$ot,[$$0.$bw.$type.specialize(0)])},!0),i("ReverseArrayEnumerator$1:ab","Object",{$t:null,b:0,a:null,init:function(t,i){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this.a=i,this.b=i.length},current:function(){return u(this.$t,this.a[this.b])},moveNext:function(){return this.b--,this.b>=0},reset:function(){this.b=this.a.length},dispose:function(){throw new $$6.q(0);},$type:new n.ig.Type("ReverseArrayEnumerator$1",n.ig.$ot,[$$0.$bx.$type.specialize(0)])},!0),i("ObservableCollection$1:f","List$1",{$t:null,init:function(n,i){if(this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),i>0){switch(i){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}t.$x.init.call(this,this.$t,0)},init1:function(n,i,r){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$x.init1.call(this,this.$t,1,r)},init2:function(n,i,r){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$x.init2.call(this,this.$t,2,r)},x:function(n,i){var f=this.__inner[n],u;t.$x.x.call(this,n,i),this.propertyChanged!=null&&this.ad(new $$0.b7("Item[]")),this.collectionChanged!=null&&(u=new t.ae(2,2,r(this.$t,i),r(this.$t,f),n),this.ac(u))},p:function(){if(t.$x.p.call(this),this.propertyChanged!=null&&(this.ad(new $$0.b7("Count")),this.ad(new $$0.b7("Item[]"))),this.collectionChanged!=null){var n=new t.ae(0,4);this.ac(n)}},r:function(n,i){if(t.$x.r.call(this,n,i),this.propertyChanged!=null&&(this.ad(new $$0.b7("Count")),this.ad(new $$0.b7("Item[]"))),this.collectionChanged!=null){var u=new t.ae(1,0,r(this.$t,i),n);this.ac(u)}},n:function(n){if(t.$x.n.call(this,n),this.propertyChanged!=null&&(this.ad(new $$0.b7("Count")),this.ad(new $$0.b7("Item[]"))),this.collectionChanged!=null){var i=new t.ae(1,0,r(this.$t,n),this.count()-1);this.ac(i)}},u:function(n){var u=this.__inner[n],i;t.$x.u.call(this,n),this.propertyChanged!=null&&(this.ad(new $$0.b7("Count")),this.ad(new $$0.b7("Item[]"))),this.collectionChanged!=null&&(i=new t.ae(1,1,r(this.$t,u),n),this.ac(i))},collectionChanged:null,propertyChanged:null,ad:function(n){this.propertyChanged!=null&&this.propertyChanged(this,n)},ac:function(n){this.collectionChanged!=null&&this.collectionChanged(this,n)},$type:new n.ig.Type("ObservableCollection$1",t.$x.$type.specialize(0),[t.$ac.$type,$$0.$b6.$type])},!0),i("ObjectCollection:d","ObservableCollection$1",{init:function(i){if(i>0){switch(i){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}t.$f.init.call(this,n.ig.$op.$type,0)},init1:function(i,r){t.$f.init1.call(this,n.ig.$op.$type,1,r)},init2:function(i,r){t.$f.init2.call(this,n.ig.$op.$type,2,r)},$type:new n.ig.Type("ObjectCollection",t.$f.$type.specialize(n.ig.$op.$type))},!0),i("Collection$1:e","List$1",{$t:null,init:function(n){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$x.init.call(this,this.$t,0)},ac:function(){return this},$type:new n.ig.Type("Collection$1",t.$x.$type.specialize(0))},!0),i("ReadOnlyCollection$1:g","Object",{$t:null,init:function(t,i){if(this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),i>0){switch(i){case 1:this.init1.apply(this,arguments)}return}this.c={},n.ig.$op.init.call(this)},init1:function(t,i,r){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),this.c={},n.ig.$op.init.call(this),this.a=r},a:null,item:function(n,t){return arguments.length===2?(this.a.item(n,t),t):this.a.item(n)},indexOf:function(n){return this.a.indexOf(n)},insert:function(){},removeAt:function(){},count:function(){return this.a.count()},isReadOnly:function(){return!0},add:function(){},clear:function(){},contains:function(n){return this.a.contains(n)},copyTo:function(n,t){this.a.copyTo(n,t)},remove:function(){return!1},getEnumerator:function(){return this.a.getEnumerator()},isFixedSize:function(){return!0},add1:function(){return-1},contains1:function(n){return this.a.contains(u(this.$t,n))},indexOf1:function(n){return this.a.indexOf(u(this.$t,n))},insert1:function(){},remove1:function(){},copyTo1:function(n,t){this.a.copyTo(n,t)},b:function(){return this.a},isSynchronized:function(){return!0},c:null,syncRoot:function(){return this.c},$type:new n.ig.Type("ReadOnlyCollection$1",n.ig.$ot,[$$0.$bz.$type.specialize(0),$$0.$bm.$type])},!0),i("Dictionary___ToEnumerableValues__IteratorClass$2:l","Object",{$tKey:null,$tValue:null,g:0,e:null,a:null,h:0,b:null,i:0,f:null,c:null,j:0,__4__this:null,init:function(t,i,r){this.$tKey=t,this.$tValue=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),n.ig.$op.init.call(this),this.g=r},moveNext:function(){while(this.g>=0)switch(this.g){case 0:if(this.g=-1,this.__4__this.c){this.a=n.ig.util.getArrayOfProperties(this.__4__this.a),this.h=0,this.g=1;break}this.b=n.ig.util.getArrayOfProperties(this.__4__this.b),this.i=0,this.g=3;break;case 1:if(this.g=-1,this.h<this.a.length)return this.e=this.__4__this.b[this.a[this.h]],this.g=2,!0;break;case 2:this.g=-1,this.h++,this.g=1;break;case 3:if(this.g=-1,this.i<this.b.length){if(this.f=this.__4__this.b[this.b[this.i]],this.f.$isHashSetBucket){this.c=this.f,this.j=0,this.g=4;break}return this.e=this.f.value,this.g=6,!0}break;case 4:if(this.g=-1,this.j<this.c.length){var t=this.c[this.j];return this.e=t.value,this.g=5,!0}this.g=6;break;case 5:this.g=-1,this.j++,this.g=4;break;case 6:this.g=-1,this.i++,this.g=3}return!1},getEnumerator:function(){var n;return this.g==-2?(this.g=0,n=this):(n=new t.l(this.$tKey,this.$tValue,0),n.__4__this=this.__4__this),n},reset:function(){throw new $$0.r(0);},dispose:function(){},current:function(){return this.e},current1:function(){return r(this.$tValue,this.e)},$type:new n.ig.Type("Dictionary___ToEnumerableValues__IteratorClass$2",n.ig.$ot,[$$0.$bw.$type.specialize(1),$$0.$bt.$type,$$0.$bx.$type.specialize(1),$$0.$bu.$type,$$0.$au.$type])},!0),i("Queue___GetEnumerator__IteratorClass$1:z","Object",{$t:null,c:0,b:null,d:0,e:0,f:0,__4__this:null,init:function(t,i){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this.c=i},moveNext:function(){while(this.c>=0)switch(this.c){case 0:if(this.c=-1,this.__4__this.e<this.__4__this.f){this.d=this.__4__this.e,this.c=1;break}this.e=this.__4__this.e,this.c=3;break;case 1:if(this.c=-1,this.d<this.__4__this.f)return this.b=this.__4__this.a[this.d],this.c=2,!0;break;case 2:this.c=-1,this.d++,this.c=1;break;case 3:if(this.c=-1,this.e<this.__4__this.a.length)return this.b=this.__4__this.a[this.e],this.c=4,!0;this.f=0,this.c=5;break;case 4:this.c=-1,this.e++,this.c=3;break;case 5:if(this.c=-1,this.f<this.__4__this.f)return this.b=this.__4__this.a[this.f],this.c=6,!0;break;case 6:this.c=-1,this.f++,this.c=5}return!1},reset:function(){throw new $$0.r(0);},dispose:function(){},current:function(){return this.b},current1:function(){return r(this.$t,this.b)},$type:new n.ig.Type("Queue___GetEnumerator__IteratorClass$1",n.ig.$ot,[$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0),i("Dictionary___ToEnumerable__IteratorClass$2:j","Object",{$tKey:null,$tValue:null,g:0,f:null,a:null,h:0,b:null,i:0,e:null,c:null,j:0,__4__this:null,init:function(i,r,u){this.$tKey=i,this.$tValue=r,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),this.f=new t.u(this.$tKey,this.$tValue),n.ig.$op.init.call(this),this.g=u},moveNext:function(){while(this.g>=0)switch(this.g){case 0:if(this.g=-1,this.__4__this.c){this.a=n.ig.util.getArrayOfProperties(this.__4__this.a),this.h=0,this.g=1;break}this.b=n.ig.util.getArrayOfProperties(this.__4__this.b),this.i=0,this.g=3;break;case 1:if(this.g=-1,this.h<this.a.length)return this.f=new t.u(this.$tKey,this.$tValue,1,this.__4__this.a[this.a[this.h]],this.__4__this.b[this.a[this.h]]),this.g=2,!0;break;case 2:this.g=-1,this.h++,this.g=1;break;case 3:if(this.g=-1,this.i<this.b.length){if(this.e=this.__4__this.b[this.b[this.i]],this.e.$isHashSetBucket){this.c=this.e,this.j=0,this.g=4;break}return this.f=new t.u(this.$tKey,this.$tValue,1,this.e.key,this.e.value),this.g=6,!0}break;case 4:if(this.g=-1,this.j<this.c.length){var i=this.c[this.j];return this.f=new t.u(this.$tKey,this.$tValue,1,i.key,i.value),this.g=5,!0}this.g=6;break;case 5:this.g=-1,this.j++,this.g=4;break;case 6:this.g=-1,this.i++,this.g=3}return!1},getEnumerator:function(){var n;return this.g==-2?(this.g=0,n=this):(n=new t.j(this.$tKey,this.$tValue,0),n.__4__this=this.__4__this),n},reset:function(){throw new $$0.r(0);},dispose:function(){},current:function(){return this.f},current1:function(){return this.f},$type:new n.ig.Type("Dictionary___ToEnumerable__IteratorClass$2",n.ig.$ot,[$$0.$bw.$type.specialize(t.$u.$type.specialize(0,1)),$$0.$bt.$type,$$0.$bx.$type.specialize(t.$u.$type.specialize(0,1)),$$0.$bu.$type,$$0.$au.$type])},!0),i("Dictionary___ToEnumerableKeys__IteratorClass$2:k","Object",{$tKey:null,$tValue:null,g:0,e:null,a:null,h:0,b:null,i:0,f:null,c:null,j:0,__4__this:null,init:function(t,i,r){this.$tKey=t,this.$tValue=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tValue)),n.ig.$op.init.call(this),this.g=r},moveNext:function(){while(this.g>=0)switch(this.g){case 0:if(this.g=-1,this.__4__this.c){this.a=n.ig.util.getArrayOfProperties(this.__4__this.a),this.h=0,this.g=1;break}this.b=n.ig.util.getArrayOfProperties(this.__4__this.b),this.i=0,this.g=3;break;case 1:if(this.g=-1,this.h<this.a.length)return this.e=this.__4__this.a[this.a[this.h]],this.g=2,!0;break;case 2:this.g=-1,this.h++,this.g=1;break;case 3:if(this.g=-1,this.i<this.b.length){if(this.f=this.__4__this.b[this.b[this.i]],this.f.$isHashSetBucket){this.c=this.f,this.j=0,this.g=4;break}return this.e=this.f.key,this.g=6,!0}break;case 4:if(this.g=-1,this.j<this.c.length){var t=this.c[this.j];return this.e=t.key,this.g=5,!0}this.g=6;break;case 5:this.g=-1,this.j++,this.g=4;break;case 6:this.g=-1,this.i++,this.g=3}return!1},getEnumerator:function(){var n;return this.g==-2?(this.g=0,n=this):(n=new t.k(this.$tKey,this.$tValue,0),n.__4__this=this.__4__this),n},reset:function(){throw new $$0.r(0);},dispose:function(){},current:function(){return this.e},current1:function(){return r(this.$tKey,this.e)},$type:new n.ig.Type("Dictionary___ToEnumerableKeys__IteratorClass$2",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0)}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$5=t,$$0=n.ig.globalDefs.$$0,$$1=n.ig.globalDefs.$$1,$$4=n.ig.globalDefs.$$4,$$6=n.ig.globalDefs.$$6,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["IOrderedEnumerable$1:d","IGrouping$2:g","ExpressionSyntax:t","IQueryable:u","IQueryable$1:v","IQueryProvider:w","LambdaExpression:x","MemberExpression:y","MethodCallExpression:z","ParameterExpression:aa"]);var e=n.ig.intDivide,u=n.ig.util.cast,i=n.ig.util.defType,h=n.ig.util.defEnum,r=n.ig.util.getBoxIfEnum,f=n.ig.util.getDefaultValue,c=n.ig.util.getEnumValue,l=n.ig.util.getValue,a=n.ig.util.intSToU,v=n.ig.util.nullableEquals,y=n.ig.util.nullableIsNull,p=n.ig.util.nullableNotEquals,w=n.ig.util.toNullable,o=n.ig.util.toString$1,b=n.ig.util.u32BitwiseAnd,k=n.ig.util.u32BitwiseOr,d=n.ig.util.u32BitwiseXor,g=n.ig.util.u32LS,nt=n.ig.util.unwrapNullable,tt=n.ig.util.wrapNullable,it=String.fromCharCode,s=n.ig.util.castObjTo$t,rt=n.ig.util.compare,ut=n.ig.util.replace,ft=n.ig.util.stringFormat,et=n.ig.util.stringFormat1,ot=n.ig.util.stringFormat2,st=n.ig.util.stringCompare1,ht=n.ig.util.stringCompare2,ct=n.ig.util.stringCompare3;i("Enumerable:e","Object",{init:function(){n.ig.$op.init.call(this)},u:function(n,i,r){var u=new t.h(n,-2);return u.__3__source=i,u.__3__predicate=r,u},v:function(n,i,r){var u=new t.i(n,-2);return u.__3__source=i,u.__3__predicate=r,u},o:function(n,i,r,u){var f=new t.j(n,i,-2);return f.__3__source=r,f.__3__selector=u,f},p:function(n,i,r,u){var f=new t.k(n,i,-2);return f.__3__source=r,f.__3__selector=u,f},l:function(n,i){var r=new t.l(n,-2);return r.__3__source=i,r},ah:function(n,t){var i=u($$0.$bz.$type.specialize(n),t),r,e,o;if(i!=null)return i.item(i.count()-1);for(r=f(n),e=t.getEnumerator();e.moveNext();)o=e.current(),r=o;return r},ad:function(n,t){for(var i=t.getEnumerator(),r;i.moveNext();)return r=i.current();return f(n)},ae:function(n,t,i){for(var u=t.getEnumerator(),r;u.moveNext();)if(r=u.current(),i(r))return r;return f(n)},af:function(n,t){for(var i=t.getEnumerator(),r;i.moveNext();)return r=i.current();return f(n)},x:function(n,i,f,e){var s=new t.f(n,f);return s.sort2(function(n,t){var h=n,c=t,f=e(h),s=e(c);return u($$0.$ah.$type,f)!==null?u($$0.$ah.$type,f).compareTo(r(i,s)):o(i,f).compareTo(o(i,s))}),s},y:function(n,i,f,e){var s=new t.f(n,f);return s.sort2(function(n,t){var h=t,c=n,f=e(h),s=e(c);return u($$0.$ah.$type,f)!==null?u($$0.$ah.$type,f).compareTo(r(i,s)):o(i,f).compareTo(o(i,s))}),s},z:function(n,t){return new $$4.x(n,1,t)},m:function(n,i){var r=new t.m(-2);return r.__3__startValue=n,r.__3__count=i,r},i:function(n,i,r){var u=new t.n(n,-2);return u.__3__source1=i,u.__3__source2=r,u},ak:function(n){for(var r=!0,t=0,u=n.getEnumerator(),i;u.moveNext();)i=u.current(),r?(r=!1,t=i):t=Math.max(t,i);return t},al:function(n,i,r){return t.$e.ak(t.$e.o(n,$$0.$aw.$type,i,r))},am:function(n){for(var r=!0,t=0,u=n.getEnumerator(),i;u.moveNext();)i=u.current(),r?(r=!1,t=i):t=Math.min(t,i);return t},an:function(n,i,r){return t.$e.ak(t.$e.o(n,$$0.$aw.$type,i,r))},aj:function(n,t){for(var i=0,r=t.getEnumerator(),u;r.moveNext();)u=r.current(),i++;return i},n:function(n,i){var r=new t.o(n,-2);return r.__3__source=i,r},h:function(n,t){var r,i,e,o;if(t==null)throw new $$6.e(0,"source");if(r=u($$0.$bw.$type.specialize(n),t),r!=null)return r;for(i=new $$4.x(n,0),e=t.getEnumerator();e.moveNext();)o=e.current(),u(n,o)!==null?i.add(s(n,o)):i.add(f(n));return i},s:function(n,i,r){var u=new t.p(n,-2);return u.__3__source=i,u.__3__toTake=r,u},r:function(n,i,r){var u=new t.q(n,-2);return u.__3__source=i,u.__3__toSkip=r,u},c:function(n,t){for(var i=t.getEnumerator(),r;i.moveNext();)return r=i.current(),!0;return!1},e:function(n,t,i){for(var r=t.getEnumerator(),u;r.moveNext();)if(u=r.current(),u===i)return!0;return!1},t:function(){return null},a:function(n,t){var i=u($$4.$x.$type.specialize(n),t);return i!=null?i.toArray():(i=new $$4.x(n,1,t),i.asArray())},ac:function(n,i,r){var f=u($$0.$bz.$type.specialize(n),i);return f!=null?f.item(r):t.$e.ad(n,t.$e.r(n,i,r))},aa:function(n){for(var t=0,i=n.getEnumerator(),r;i.moveNext();)r=i.current(),t+=r;return t},ab:function(n,i,r){return t.$e.aa(t.$e.o(n,Number,i,r))},f:function(t,i,u){if(i==null)throw new $$6.e(0,"first");if(u==null)throw new $$6.e(0,"second");for(var e=i.getEnumerator(),f=u.getEnumerator();e.moveNext();)if(!f.moveNext()||!n.ig.$op.equalsStatic(r(t,e.current()),r(t,f.current())))return!1;return f.moveNext()==!1},k:function(n){return new t.r(n,-2)},q:function(n,i,r,u,f,e){var o=new t.s(n,i,r,-2);return o.__3__source=u,o.__3__collectionSelector=f,o.__3__resultSelector=e,o},d:function(n,t,i){for(var r=t.getEnumerator(),u;r.moveNext();)if(u=r.current(),i(u))return!0;return!1},ag:function(n,t,i){for(var u=t.getEnumerator(),r;u.moveNext();)if(r=u.current(),i(r))return r;return f(n)},b:function(n,t,i){for(var r=t.getEnumerator(),u;r.moveNext();)if(u=r.current(),i(u)==!1)return!1;return!0},g:function(n,t,i,r){for(var f=new $$4.h(t,n,0),e=i.getEnumerator(),u;e.moveNext();)u=e.current(),f.item(r(u),u);return f},ai:function(){throw new $$6.q(0);},w:function(){throw new $$6.q(0);},j:function(){throw new $$6.q(0);},$type:new n.ig.Type("Enumerable",n.ig.$ot)},!0),i("IOrderedEnumerable$1:d","Object",{$type:new n.ig.Type("IOrderedEnumerable$1",null,[$$0.$bw.$type.specialize(0),$$0.$bt.$type])},!0),i("SortedList$1:f","List$1",{$tElement:null,init:function(n,t){this.$tElement=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tElement)),$$4.$x.init1.call(this,this.$tElement,1,t)},getEnumerator:function(){return $$4.$x.getEnumerator.call(this)},$type:new n.ig.Type("SortedList$1",$$4.$x.$type.specialize(0),[t.$d.$type.specialize(0)])},!0),i("IGrouping$2:g","Object",{$type:new n.ig.Type("IGrouping$2",null,[$$0.$bw.$type.specialize(1),$$0.$bt.$type])},!0),i("ExpressionSyntax:t","Object",{init:function(){n.ig.$op.init.call(this)},c:function(){return null},a:function(){return null},b:function(){return null},d:function(){return null},e:function(){return null},$type:new n.ig.Type("ExpressionSyntax",n.ig.$ot)},!0),i("IQueryable:u","Object",{$type:new n.ig.Type("IQueryable",null)},!0),i("IQueryable$1:v","Object",{$type:new n.ig.Type("IQueryable$1",null,[t.$u.$type])},!0),i("IQueryProvider:w","Object",{$type:new n.ig.Type("IQueryProvider",null)},!0),i("LambdaExpression:x","ExpressionSyntax",{init:function(){t.$t.init.call(this)},$type:new n.ig.Type("LambdaExpression",t.$t.$type)},!0),i("MemberExpression:y","ExpressionSyntax",{init:function(){t.$t.init.call(this)},_f:null,g:function(){return null},$type:new n.ig.Type("MemberExpression",t.$t.$type)},!0),i("MethodCallExpression:z","ExpressionSyntax",{init:function(){t.$t.init.call(this)},_f:null,_g:null,h:function(){return null},$type:new n.ig.Type("MethodCallExpression",t.$t.$type)},!0),i("ParameterExpression:aa","ExpressionSyntax",{init:function(){t.$t.init.call(this)},_f:!1,_g:null,$type:new n.ig.Type("ParameterExpression",t.$t.$type)},!0),i("Queryable:ab","Object",{init:function(){n.ig.$op.init.call(this)},a:function(){return null},$type:new n.ig.Type("Queryable",n.ig.$ot)},!0),i("BitArray:a","Object",{i:0,a:null,init:function(n,i){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break;case 3:this.init3.apply(this,arguments);break;case 4:this.init4.apply(this,arguments)}return}t.$a.init3.call(this,3,i.a),this.i=i.i},init1:function(t,i){n.ig.$op.init.call(this),this.length(i.length);for(var r=0;r<i.length;r++)this.item(r,i[r])},init2:function(n,i){t.$a.init4.call(this,4,i,!1)},init3:function(t,i){n.ig.$op.init.call(this),this.i=i.length*32,this.a=new Array(i.length);for(var r=0;r<i.length;r++)this.a[r]=i[r]},init4:function(t,i,r){n.ig.$op.init.call(this),this.i=i,this.a=new Array(e(i-1,32)+1),this.setAll(r)},count:function(){return this.i},isReadOnly:function(){return!1},isSynchronized:function(){return!1},length:function(n){var i,r,t;if(arguments.length===1){if(n<0)throw new $$6.f(0);if(this.i=n,i=e(this.i-1,32)+1,this.a.length<i)for(r=this.a,this.a=new Array(i),t=0;t<r.length;t++)this.a[t]=r[t];return n}return this.i},syncRoot:function(){return null},item:function(n,t){if(arguments.length===2){if(n<0||this.i<=n)throw new $$6.o(0);return t?this.a[e(n,32)]|=1<<n%32:this.a[e(n,32)]&=~(1<<n%32),t}if(n<0||this.i<=n)throw new $$6.o(0);return(this.a[e(n,32)]&1<<n%32)!=0},and:function(n){if(n.length()!=this.length())throw new $$6.d(1,"The BitArrays do not have the same length");for(var t=0;t<this.a.length;t++)this.a[t]&=n.a[t];return this},clone:function(){return new t.a(0,this)},copyTo:function(n,t){for(var i=0;i<this.i;i++)n[t+i]=this.item(i)},get:function(n){return this.item(n)},getEnumerator:function(){var n=new t.b(0);return n.__4__this=this,n},not:function(){for(var n=0;n<this.a.length;n++)this.a[n]=~this.a[n];return this},or:function(n){if(n.length()!=this.length())throw new $$6.d(1,"The BitArrays do not have the same length");for(var t=0;t<this.a.length;t++)this.a[t]|=n.a[t];return this},set:function(n,t){this.item(n,t)},setAll:function(n){for(var i=n?-1:0,t=0;t<this.a.length;t++)this.a[t]=i},xor:function(n){if(n.length()!=this.length())throw new $$6.d(1,"The BitArrays do not have the same length");for(var t=0;t<this.a.length;t++)this.a[t]^=n.a[t];return this},$type:new n.ig.Type("BitArray",n.ig.$ot,[$$0.$bk.$type,$$0.$bt.$type])},!0),i("ReadOnlyObservableCollection$1:c","ReadOnlyCollection$1",{$t:null,init:function(n){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),$$4.$g.init.call(this,this.$t,0)},collectionChanged:null,propertyChanged:null,$type:new n.ig.Type("ReadOnlyObservableCollection$1",$$4.$g.$type.specialize(0),[$$4.$ac.$type,$$0.$b6.$type])},!0),i("Enumerable___OfType__IteratorClass$1:l","Object",{$tResult:null,e:0,d:null,c:null,f:null,b:null,__3__source:null,init:function(t,i){this.$tResult=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tResult)),n.ig.$op.init.call(this),this.e=i},g:function(){this.e=-1;var n=u($$0.$au.$type,this.c);n!=null&&n.dispose()},moveNext:function(){var n=!1;try{while(this.e>=0)switch(this.e){case 0:this.e=1,this.c=this.b.getEnumerator(),this.e=2;break;case 2:if(this.e=1,this.c.moveNext()){if(this.f=this.c.current(),u(this.$tResult,this.f)!==null)return this.d=s(this.$tResult,this.f),this.e=2,!0;this.e=2;break}this.g()}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.e==-2?(this.e=0,n=this):n=new t.l(this.$tResult,0),n.b=this.__3__source,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.e){case 1:case 2:this.g()}},current:function(){return this.d},current1:function(){return r(this.$tResult,this.d)},$type:new n.ig.Type("Enumerable___OfType__IteratorClass$1",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Reverse__IteratorClass$1:o","Object",{$tSource:null,e:0,d:null,c:null,f:0,b:null,__3__source:null,init:function(t,i){this.$tSource=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource)),n.ig.$op.init.call(this),this.e=i},moveNext:function(){while(this.e>=0)switch(this.e){case 0:this.e=-1,this.c=new $$4.x(this.$tSource,1,this.b),this.f=this.c.count()-1,this.e=1;break;case 1:if(this.e=-1,this.f>=0)return this.d=this.c.__inner[this.f],this.e=2,!0;break;case 2:this.e=-1,this.f--,this.e=1}return!1},getEnumerator:function(){var n;return this.e==-2?(this.e=0,n=this):n=new t.o(this.$tSource,0),n.b=this.__3__source,n},reset:function(){throw new $$0.r(0);},dispose:function(){},current:function(){return this.d},current1:function(){return r(this.$tSource,this.d)},$type:new n.ig.Type("Enumerable___Reverse__IteratorClass$1",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Take__IteratorClass$1:p","Object",{$tSource:null,f:0,d:null,c:null,e:null,b:null,__3__source:null,h:0,__3__toTake:0,init:function(t,i){this.$tSource=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource)),n.ig.$op.init.call(this),this.f=i},i:function(){this.f=-1,this.c!=null&&this.c.dispose()},moveNext:function(){var n=!1;try{while(this.f>=0)switch(this.f){case 0:this.f=1,this.c=this.b.getEnumerator(),this.f=2;break;case 2:if(this.f=1,this.c.moveNext())return(this.e=this.c.current(),this.h>0)?(this.h--,this.d=this.e,this.f=2,!0):!1;this.i()}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.f==-2?(this.f=0,n=this):n=new t.p(this.$tSource,0),n.b=this.__3__source,n.h=this.__3__toTake,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.f){case 1:case 2:this.i()}},current:function(){return this.d},current1:function(){return r(this.$tSource,this.d)},$type:new n.ig.Type("Enumerable___Take__IteratorClass$1",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Skip__IteratorClass$1:q","Object",{$tSource:null,f:0,d:null,c:null,e:null,b:null,__3__source:null,h:0,__3__toSkip:0,init:function(t,i){this.$tSource=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource)),n.ig.$op.init.call(this),this.f=i},i:function(){this.f=-1,this.c!=null&&this.c.dispose()},moveNext:function(){var n=!1;try{while(this.f>=0)switch(this.f){case 0:this.f=1,this.c=this.b.getEnumerator(),this.f=2;break;case 2:if(this.f=1,this.c.moveNext()){if(this.e=this.c.current(),this.h<=0)return this.d=this.e,this.f=2,!0;this.h--,this.f=2;break}this.i()}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.f==-2?(this.f=0,n=this):n=new t.q(this.$tSource,0),n.b=this.__3__source,n.h=this.__3__toSkip,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.f){case 1:case 2:this.i()}},current:function(){return this.d},current1:function(){return r(this.$tSource,this.d)},$type:new n.ig.Type("Enumerable___Skip__IteratorClass$1",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Empty__IteratorClass$1:r","Object",{$tSource:null,b:0,a:null,init:function(t,i){this.$tSource=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource)),n.ig.$op.init.call(this),this.b=i},moveNext:function(){switch(this.b){case 0:return this.b=-1,!1}return!1},getEnumerator:function(){return this.b==-2?(this.b=0,this):new t.r(this.$tSource,0)},reset:function(){throw new $$0.r(0);},dispose:function(){},current:function(){return this.a},current1:function(){return r(this.$tSource,this.a)},$type:new n.ig.Type("Enumerable___Empty__IteratorClass$1",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___SelectMany__IteratorClass1$3:s","Object",{$tSource:null,$tCollection:null,$tResult:null,l:0,j:null,c:null,k:null,d:null,i:null,b:null,__3__source:null,g:null,__3__collectionSelector:null,h:null,__3__resultSelector:null,init:function(t,i,r,u){this.$tSource=t,this.$tCollection=i,this.$tResult=r,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource,this.$tCollection,this.$tResult)),n.ig.$op.init.call(this),this.l=u},m:function(){this.l=-1,this.c!=null&&this.c.dispose()},n:function(){this.l=1,this.d!=null&&this.d.dispose()},moveNext:function(){var n=!1;try{while(this.l>=0)switch(this.l){case 0:this.l=1,this.c=this.b.getEnumerator(),this.l=2;break;case 2:if(this.l=1,this.c.moveNext()){this.k=this.c.current(),this.l=3,this.d=this.g(this.k).getEnumerator(),this.l=4;break}this.m();break;case 4:if(this.l=3,this.d.moveNext())return this.i=this.d.current(),this.j=this.h(this.k,this.i),this.l=4,!0;this.n(),this.l=2}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.l==-2?(this.l=0,n=this):n=new t.s(this.$tSource,this.$tCollection,this.$tResult,0),n.b=this.__3__source,n.g=this.__3__collectionSelector,n.h=this.__3__resultSelector,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.l){case 1:case 2:this.m();break;case 3:case 4:try{this.n()}finally{this.m()}}},current:function(){return this.j},current1:function(){return r(this.$tResult,this.j)},$type:new n.ig.Type("Enumerable___SelectMany__IteratorClass1$3",n.ig.$ot,[$$0.$bw.$type.specialize(2),$$0.$bt.$type,$$0.$bx.$type.specialize(2),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___SelectMany__IteratorClass$2:k","Object",{$tSource:null,$tResult:null,j:0,g:null,d:null,i:null,c:null,h:null,b:null,__3__source:null,f:null,__3__selector:null,init:function(t,i,r){this.$tSource=t,this.$tResult=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource,this.$tResult)),n.ig.$op.init.call(this),this.j=r},k:function(){this.j=-1,this.d!=null&&this.d.dispose()},l:function(){this.j=1,this.c!=null&&this.c.dispose()},moveNext:function(){var n=!1;try{while(this.j>=0)switch(this.j){case 0:this.j=1,this.d=this.b.getEnumerator(),this.j=2;break;case 2:if(this.j=1,this.d.moveNext()){this.i=this.d.current(),this.j=3,this.c=this.f(this.i).getEnumerator(),this.j=4;break}this.k();break;case 4:if(this.j=3,this.c.moveNext())return this.h=this.c.current(),this.g=this.h,this.j=4,!0;this.l(),this.j=2}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.j==-2?(this.j=0,n=this):n=new t.k(this.$tSource,this.$tResult,0),n.b=this.__3__source,n.f=this.__3__selector,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.j){case 1:case 2:this.k();break;case 3:case 4:try{this.l()}finally{this.k()}}},current:function(){return this.g},current1:function(){return r(this.$tResult,this.g)},$type:new n.ig.Type("Enumerable___SelectMany__IteratorClass$2",n.ig.$ot,[$$0.$bw.$type.specialize(1),$$0.$bt.$type,$$0.$bx.$type.specialize(1),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Select__IteratorClass$2:j","Object",{$tSource:null,$tResult:null,h:0,f:null,c:null,g:null,b:null,__3__source:null,e:null,__3__selector:null,init:function(t,i,r){this.$tSource=t,this.$tResult=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource,this.$tResult)),n.ig.$op.init.call(this),this.h=r},i:function(){this.h=-1,this.c!=null&&this.c.dispose()},moveNext:function(){var n=!1;try{while(this.h>=0)switch(this.h){case 0:this.h=1,this.c=this.b.getEnumerator(),this.h=2;break;case 2:if(this.h=1,this.c.moveNext())return this.g=this.c.current(),this.f=this.e(this.g),this.h=2,!0;this.i()}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.h==-2?(this.h=0,n=this):n=new t.j(this.$tSource,this.$tResult,0),n.b=this.__3__source,n.e=this.__3__selector,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.h){case 1:case 2:this.i()}},current:function(){return this.f},current1:function(){return r(this.$tResult,this.f)},$type:new n.ig.Type("Enumerable___Select__IteratorClass$2",n.ig.$ot,[$$0.$bw.$type.specialize(1),$$0.$bt.$type,$$0.$bx.$type.specialize(1),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Where__IteratorClass1$1:i","Object",{$tSource:null,h:0,f:null,i:0,c:null,g:null,b:null,__3__source:null,e:null,__3__predicate:null,init:function(t,i){this.$tSource=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource)),n.ig.$op.init.call(this),this.h=i},j:function(){this.h=-1,this.c!=null&&this.c.dispose()},moveNext:function(){var n=!1;try{while(this.h>=0)switch(this.h){case 0:this.h=-1,this.i=0,this.h=1,this.c=this.b.getEnumerator(),this.h=2;break;case 2:if(this.h=1,this.c.moveNext()){if(this.g=this.c.current(),this.e(this.g,this.i))return this.f=this.g,this.h=3,!0;this.h=3;break}this.j();break;case 3:this.h=1,this.i++,this.h=2}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.h==-2?(this.h=0,n=this):n=new t.i(this.$tSource,0),n.b=this.__3__source,n.e=this.__3__predicate,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.h){case 1:case 2:case 3:this.j()}},current:function(){return this.f},current1:function(){return r(this.$tSource,this.f)},$type:new n.ig.Type("Enumerable___Where__IteratorClass1$1",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Where__IteratorClass$1:h","Object",{$tSource:null,h:0,f:null,c:null,g:null,b:null,__3__source:null,e:null,__3__predicate:null,init:function(t,i){this.$tSource=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource)),n.ig.$op.init.call(this),this.h=i},i:function(){this.h=-1,this.c!=null&&this.c.dispose()},moveNext:function(){var n=!1;try{while(this.h>=0)switch(this.h){case 0:this.h=1,this.c=this.b.getEnumerator(),this.h=2;break;case 2:if(this.h=1,this.c.moveNext()){if(this.g=this.c.current(),this.e(this.g))return this.f=this.g,this.h=2,!0;this.h=2;break}this.i()}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.h==-2?(this.h=0,n=this):n=new t.h(this.$tSource,0),n.b=this.__3__source,n.e=this.__3__predicate,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.h){case 1:case 2:this.i()}},current:function(){return this.f},current1:function(){return r(this.$tSource,this.f)},$type:new n.ig.Type("Enumerable___Where__IteratorClass$1",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0),i("BitArray___GetEnumerator__IteratorClass:b","Object",{b:0,d:null,c:0,__4__this:null,init:function(t){n.ig.$op.init.call(this),this.b=t},moveNext:function(){while(this.b>=0)switch(this.b){case 0:this.b=-1,this.c=0,this.b=1;break;case 1:if(this.b=-1,this.c<this.__4__this.i)return this.d=this.__4__this.item(this.c),this.b=2,!0;break;case 2:this.b=-1,this.c++,this.b=1}return!1},reset:function(){throw new $$0.r(0);},dispose:function(){},current:function(){return this.d},current1:function(){return this.d},$type:new n.ig.Type("BitArray___GetEnumerator__IteratorClass",n.ig.$ot,[$$0.$bx.$type.specialize(n.ig.$op.$type),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Range__IteratorClass:m","Object",{a:0,b:0,e:0,g:0,__3__startValue:0,f:0,__3__count:0,init:function(t){n.ig.$op.init.call(this),this.a=t},moveNext:function(){while(this.a>=0)switch(this.a){case 0:this.a=-1,this.e=this.g,this.a=1;break;case 1:if(this.a=-1,this.e<this.f)return this.b=this.e,this.a=2,!0;break;case 2:this.a=-1,this.e++,this.a=1}return!1},getEnumerator:function(){var n;return this.a==-2?(this.a=0,n=this):n=new t.m(0),n.g=this.__3__startValue,n.f=this.__3__count,n},reset:function(){throw new $$0.r(0);},dispose:function(){},current:function(){return this.b},current1:function(){return this.b},$type:new n.ig.Type("Enumerable___Range__IteratorClass",n.ig.$ot,[$$0.$bw.$type.specialize($$0.$aw.$type),$$0.$bt.$type,$$0.$bx.$type.specialize($$0.$aw.$type),$$0.$bu.$type,$$0.$au.$type])},!0),i("Enumerable___Concat__IteratorClass$1:n","Object",{$tSource:null,j:0,g:null,e:null,h:null,f:null,i:null,c:null,__3__source1:null,d:null,__3__source2:null,init:function(t,i){this.$tSource=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tSource)),n.ig.$op.init.call(this),this.j=i},k:function(){this.j=-1,this.e!=null&&this.e.dispose()},l:function(){this.j=-1,this.f!=null&&this.f.dispose()},moveNext:function(){var n=!1;try{while(this.j>=0)switch(this.j){case 0:this.j=1,this.e=this.c.getEnumerator(),this.j=2;break;case 2:if(this.j=1,this.e.moveNext())return this.h=this.e.current(),this.g=this.h,this.j=2,!0;this.k(),this.j=3,this.f=this.d.getEnumerator(),this.j=4;break;case 4:if(this.j=3,this.f.moveNext())return this.i=this.f.current(),this.g=this.i,this.j=4,!0;this.l()}}catch(t){n=!0;throw t;}finally{n&&this.dispose()}return!1},getEnumerator:function(){var n;return this.j==-2?(this.j=0,n=this):n=new t.n(this.$tSource,0),n.c=this.__3__source1,n.d=this.__3__source2,n},reset:function(){throw new $$0.r(0);},dispose:function(){switch(this.j){case 1:case 2:this.k();break;case 3:case 4:this.l()}},current:function(){return this.g},current1:function(){return r(this.$tSource,this.g)},$type:new n.ig.Type("Enumerable___Concat__IteratorClass$1",n.ig.$ot,[$$0.$bw.$type.specialize(0),$$0.$bt.$type,$$0.$bx.$type.specialize(0),$$0.$bu.$type,$$0.$au.$type])},!0)}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$9=t,$$0=n.ig.globalDefs.$$0,$$1=n.ig.globalDefs.$$1,$$6=n.ig.globalDefs.$$6,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["Task$1:a","Task:b","TaskCompletionSource$1:c"]);var e=n.ig.intDivide,o=n.ig.util.cast,i=n.ig.util.defType,f=n.ig.util.defEnum,r=n.ig.util.getBoxIfEnum,s=n.ig.util.getDefaultValue,h=n.ig.util.getEnumValue,c=n.ig.util.getValue,l=n.ig.util.intSToU,a=n.ig.util.nullableEquals,v=n.ig.util.nullableIsNull,y=n.ig.util.nullableNotEquals,p=n.ig.util.toNullable,w=n.ig.util.toString$1,b=n.ig.util.u32BitwiseAnd,k=n.ig.util.u32BitwiseOr,d=n.ig.util.u32BitwiseXor,g=n.ig.util.u32LS,nt=n.ig.util.unwrapNullable,tt=n.ig.util.wrapNullable,it=String.fromCharCode,u=n.ig.util.castObjTo$t;f("TaskStatus:e",!1,!1,{Created:0,RanToCompletion:5,Canceled:6,Faulted:7}),i("Task:b","Object",{_c:null,_b:!1,_a:null,init:function(n,i){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$b.init1.call(this,1,i,null)},init1:function(t,i,r){var u=this,f,e;n.ig.$op.init.call(this),f=function(){},e=function(n){n==null?u._b=!0:u._a=new $$6.c(2,"Exception occurred during task execution",n)},this._c=i.done(f).fail(e),this._d=r},g:function(){if(this._b)return 6;switch(this._c.state()){case"pending":return 0;case"resolved":return 5;case"rejected":return 7;default:return 0}},_d:null,e:function(n){var i=this,r=function(){n(i)},u=function(){n(i)},f=this._c.done(r).fail(u);return new t.b(0,f)},f:function(n,i){var f=this,r=new t.c(n,0),u=function(){try{var n=i(f);r.e(n)}catch(t){r.d(t)}},e=function(){u()},o=function(){u()};return this._c.done(e).fail(o),r._b},$type:new n.ig.Type("Task",n.ig.$ot)},!0),i("Task$1:a","Task",{$tResult:null,init:function(n,i,r){var f=this,e,o;this.$tResult=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tResult)),this.h=!1,t.$b.init1.call(this,1,i,r),e=function(n){var t=u(f.$tResult,n);f.l=t,f.h=!0},o=function(){f.h=!0},this._c.done(e).fail(o)},h:!1,l:null,m:function(){if(!this.h)throw"Result is not ready yet";if(this._a!=null)throw this._a;return this.l},i:function(n){return t.$b.e.call(this,function(t){n(t)})},j:function(t,i){var f=function(n){return r(t,i(n))};return this.k(n.ig.$op.$type,f).k(t,function(n){return u(t,n.m())})},k:function(n,i){return t.$b.f.call(this,n,i)},$type:new n.ig.Type("Task$1",t.$b.$type)},!0),i("TaskCompletionSource$1:c","Object",{$tResult:null,_a:null,init:function(n,i){if(this.$tResult=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tResult)),i>0){switch(i){case 1:this.init1.apply(this,arguments)}return}t.$c.init1.call(this,this.$tResult,1,null)},init1:function(i,r,u){this.$tResult=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tResult)),n.ig.$op.init.call(this),this._a=n.Deferred(),this._b=new t.a(this.$tResult,this._a.promise(),u)},c:function(){this._a.reject(null)},d:function(n){this._a.reject(n)},e:function(n){this._a.resolve(r(this.$tResult,n))},_b:null,$type:new n.ig.Type("TaskCompletionSource$1",n.ig.$ot)},!0),i("TaskFactory:d","Object",{init:function(){n.ig.$op.init.call(this)},c:function(n,i){return new t.b(0,this.b(this.a(n)).always(function(){i(n)}))},d:function(n,i,r){var u=new t.c(n,0);return this.b(this.a(i)).always(function(){try{var n=r(i);u.e(n)}catch(t){u.d(t)}}),u._b},e:function(t,i,f,e){var o=function(n){return r(i,e(n))};return this.d(n.ig.$op.$type,f,o).j(i,function(n){return u(i,n.m())})},a:function(n){for(var i=new Array(n.length),t=0;t<n.length;t++)i[t]=n[t]._c;return i},b:function(t){var r=t,i=null;return i=function(t){function i(){var i=n.Deferred(),u,t,r;if(arguments.length===0)return i.resolve(),i;for(u=arguments.length,t=!0,r=0;r<arguments.length;r++)arguments[r].done(function(){t=t&&!0}).fail(function(){t=t&&!1}).always(function(){u--,u<=0&&(t?i.resolve():i.reject())});return i}return i.apply(n,t)}(r)},$type:new n.ig.Type("TaskFactory",n.ig.$ot)},!0)}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$8=t,$$0=n.ig.globalDefs.$$0,$$1=n.ig.globalDefs.$$1,$$6=n.ig.globalDefs.$$6,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["Encoding:a","UnicodeEncoding:b","UTF8Encoding:c","AsciiEncoding:d","DefaultDecoder:f","UTF8Encoding_UTF8Decoder:g","GroupCollection:j","Match:k","Regex:l"]);var u=n.ig.intDivide,e=n.ig.util.cast,r=n.ig.util.defType,f=n.ig.util.defEnum,o=n.ig.util.getBoxIfEnum,s=n.ig.util.getDefaultValue,h=n.ig.util.getEnumValue,c=n.ig.util.getValue,l=n.ig.util.intSToU,a=n.ig.util.nullableEquals,v=n.ig.util.nullableIsNull,y=n.ig.util.nullableNotEquals,p=n.ig.util.toNullable,w=n.ig.util.toString$1,b=n.ig.util.u32BitwiseAnd,k=n.ig.util.u32BitwiseOr,d=n.ig.util.u32BitwiseXor,g=n.ig.util.u32LS,nt=n.ig.util.unwrapNullable,tt=n.ig.util.wrapNullable,i=String.fromCharCode,it=n.ig.util.castObjTo$t,rt=n.ig.util.compare,ut=n.ig.util.replace,ft=n.ig.util.stringFormat,et=n.ig.util.stringFormat1,ot=n.ig.util.stringFormat2,st=n.ig.util.stringCompare1,ht=n.ig.util.stringCompare2,ct=n.ig.util.stringCompare3,lt=n.ig.util.equalsSimple,at=n.ig.util.compareSimple,vt=n.ig.util.numberToString,yt=n.ig.util.tryParseInt32_1,pt=n.ig.util.tryParseInt32_2,wt=n.ig.util.intToString1,bt=n.ig.util.parseInt32_1,kt=n.ig.util.parseInt32_2,dt=n.ig.util.isDigit,gt=n.ig.util.isDigit1,ni=n.ig.util.isLetter,ti=n.ig.util.isNumber,ii=n.ig.util.isLetterOrDigit,ri=n.ig.util.isLower,ui=n.ig.util.toLowerCase,fi=n.ig.util.toUpperCase;f("RegexOptions:m",!1,!1,{None:0,IgnoreCase:1,Multiline:2,ExplicitCapture:4,Compiled:8,Singleline:16,IgnorePatternWhitespace:32,RightToLeft:64,ECMAScript:256,CultureInvariant:512}),r("Encoding:a","Object",{init:function(){n.ig.$op.init.call(this)},uTF8:function(){return t.$a.t==null&&(t.$a.t=new t.c(1)),t.$a.t},uTF8Unmarked:function(){return t.$a.s==null&&(t.$a.s=new t.c(1)),t.$a.s},unicode:function(){return t.$a.r==null&&(t.$a.r=new t.b(0)),t.$a.r},getString1:function(){return""},getBytes2:function(){},getBytes:function(n,t,i){var r=new Array(this.getByteCount(n,t,i));return this.getBytes2(n,t,i,r,0),r},getBytes1:function(n){var i,t;if(n==null)throw new $$6.e(0,"input");for(i=new Array(n.length),t=0;t<n.length;t++)i[t]=n.charAt(t);return this.getBytes(i,0,i.length)},getByteCount:function(){},getString:function(n){return this.getString1(n,0,n.length)},getCharCount:function(n){if(n==null)throw new $$6.e(0,"bytes");return this.getCharCount1(n,0,n.length)},getCharCount1:function(){throw new $$6.q(0);},getChars:function(){throw new $$6.q(0);},aSCII:function(){return t.$a.p==null&&(t.$a.p=new t.d(1)),t.$a.p},getDecoder:function(){return new t.f(this)},getBytes3:function(t,i,r,u,f){return this.getBytes2(n.ig.util.toCharArray(t),i,r,u,f)},getMaxCharCount:function(n){return n},getMaxByteCount:function(n){return n+1},getPreamble:function(){return new Array(0)},bigEndianUnicode:function(){return t.$a.q==null&&(t.$a.q=new t.b(1,!0,!1)),t.$a.q},defaultValue:function(){return t.$a.aSCII()},getEncoding:function(n){switch(n.toUpperCase()){case"ASCII":return t.$a.aSCII();case"UNICODE":return t.$a.unicode();case"UTF-8":return t.$a.uTF8();default:throw new $$6.d(1,"'"+n+"' is not a valid encoding name.");}},webName:function(){throw new $$6.q(0);},$type:new n.ig.Type("Encoding",n.ig.$ot)},!0),r("UnicodeEncoding:b","Encoding",{ab:!1,getString1:function(n,t,i){for(var e="",o=t+i,u,f,s,r=t;r<o;r=r+2)r+1>=o?e=e+"�":(this.ab?(u=n[r+1].toString(16),f=n[r].toString(16)):(u=n[r].toString(16),f=n[r+1].toString(16)),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),s=$$0.$aw.parseInt(f+u,16),e=e+String.fromCharCode(s));return e},getCharCount1:function(n,t,i){return u(i,2)},getBytes:function(n,i,r){return t.$a.getBytes.call(this,n,i,r)},getBytes1:function(n){var t=new Array(n.length*2);return this.getBytes3(n,0,n.length,t,0),t},init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$a.init.call(this)},init1:function(n,i){t.$a.init.call(this),this.ab=i},getMaxByteCount:function(n){return(n+1)*2},getMaxCharCount:function(t){return n.ig.truncate(Math.ceil(t/2))+1},getBytes3:function(n,t,i,r,u){for(var f=t;f<t+i;f++){var e=n.charCodeAt(f),o=e&255,s=e>>8&255;this.ab?(r[u++]=s,r[u++]=o):(r[u++]=o,r[u++]=s)}return i*2},getByteCount:function(){throw new $$6.q(0);},getBytes2:function(){throw new $$6.q(0);},getChars:function(){throw new $$6.q(0);},$type:new n.ig.Type("UnicodeEncoding",t.$a.$type)},!0),r("UTF8Encoding:c","Encoding",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$a.init.call(this)},init1:function(){t.$a.init.call(this)},getString1:function(n,t,r){for(var e="",u=t,f=0,o=0,h=0,c=0,s;u<t+r;)if(f=n[u++],f<128)e+=i(f);else if(f>191&&f<224){if(u>=t+r)throw new $$6.p(1,"UTF-8 decoding error.");o=n[u++],e+=i((f&31)<<6|o&63)}else if(f>223&&f<240){if(u+1>=t+r)throw new $$6.p(1,"UTF-8 decoding error.");o=n[u++],h=n[u++],e+=i((f&15)<<12|(o&63)<<6|h&63)}else{if(u+2>=t+r)throw new $$6.p(1,"UTF-8 decoding error.");o=n[u++],h=n[u++],c=n[u++],s=(f&7)<<18|(o&63)<<12|(h&63)<<6|c&63,s<65535?e+=i(s):(s-=65536,e+=i(s>>10|55296),e+=i(s&1023|56320))}return e},getCharCount1:function(n,t,i){return i},getByteCount:function(){throw new $$6.q(0);},getBytes2:function(n,t,i,r,u){for(var e=unescape(encodeURIComponent(n.slice(t,t+i).join(""))),f=0;f<e.length;f++)r[u+f]=e.charCodeAt(f);return e.length},getBytes:function(n,i,r){return t.$a.getBytes.call(this,n,i,r)},getBytes1:function(n){for(var i=new Array(n.length),r=unescape(encodeURIComponent(n)),t=0;t<r.length;t++)i[t]=r.charCodeAt(t);return i},getChars:function(n,t,r,u,f){for(var a=f,e=t,o=0,s=0,c=0,l=0,h;e<t+r;)if(o=n[e++],o<128)u[f++]=i(o);else if(o>191&&o<224){if(e>=t+r)throw new $$6.p(1,"UTF-8 decoding error.");s=n[e++],u[f++]=i((o&31)<<6|s&63)}else if(o>223&&o<240){if(e+1>=t+r)throw new $$6.p(1,"UTF-8 decoding error.");s=n[e++],c=n[e++],u[f++]=i((o&15)<<12|(s&63)<<6|c&63)}else{if(e+2>=t+r)throw new $$6.p(1,"UTF-8 decoding error.");s=n[e++],c=n[e++],l=n[e++],h=(o&7)<<18|(s&63)<<12|(c&63)<<6|l&63,h<65535?u[f++]=i(h):(h-=65536,u[f++]=i(h>>10|55296),u[f++]=i(h&1023|56320))}return f-a},getDecoder:function(){return new t.g(this)},getMaxByteCount:function(n){return(n+1)*3},getMaxCharCount:function(n){return n+1},$type:new n.ig.Type("UTF8Encoding",t.$a.$type)},!0),r("Decoder:e","Object",{init:function(){n.ig.$op.init.call(this)},e:function(n,t,i,r,u,f,e,o,s,h){throw new $$6.q(0);return{p7:o,p8:s,p9:h}},a:function(){},b:function(){throw new $$6.q(0);},c:function(){},d:function(){throw new $$6.q(0);},f:function(){throw new $$6.q(0);},$type:new n.ig.Type("Decoder",n.ig.$ot)},!0),r("UTF8Encoding_UTF8Decoder:g","Decoder",{g:0,h:0,i:0,j:0,k:null,init:function(n){t.$e.init.call(this),this.k=n},a:function(n,t,i){return this.b(n,t,i,!1)},b:function(n,t,i,r){for(var f=0,u=t,e;u<t+i;){if(this.g==0&&(this.g=n[u++]),this.g<128)f++;else{if(u>=t+i)break;if(this.h==0&&(this.h=n[u++]),this.g>191&&this.g<224)f++;else{if(u>=t+i)break;if(this.i==0&&(this.i=n[u++]),this.g>223&&this.g<240)f++;else{if(u>=t+i)break;this.j==0&&(this.j=n[u++]),e=(this.g&7)<<18|(this.h&63)<<12|(this.i&63)<<6|this.j&63,e<65535?f++:f+=2,this.j=0}this.i=0}this.h=0}this.g=0}return r&&(this.g=0,this.h=0,this.i=0,this.j=0),f},c:function(n,t,i,r,u){return this.d(n,t,i,r,u,!1)},d:function(n,t,r,u,f,e){for(var h=f,o=t,s;o<t+r;){if(this.g==0&&(this.g=n[o++]),this.g<128)u[f++]=i(this.g);else{if(o>=t+r)break;if(this.h==0&&(this.h=n[o++]),this.g>191&&this.g<224)u[f++]=i((this.g&31)<<6|this.h&63);else{if(o>=t+r)break;if(this.i==0&&(this.i=n[o++]),this.g>223&&this.g<240)u[f++]=i((this.g&15)<<12|(this.h&63)<<6|this.i&63);else{if(o>=t+r)break;this.j==0&&(this.j=n[o++]),s=(this.g&7)<<18|(this.h&63)<<12|(this.i&63)<<6|this.j&63,s<65535?u[f++]=i(s):(s-=65536,u[f++]=i(s>>10|55296),u[f++]=i(s&1023|56320)),this.j=0}this.i=0}this.h=0}this.g=0}return e&&(this.g=0,this.h=0,this.i=0,this.j=0),f-h},$type:new n.ig.Type("UTF8Encoding_UTF8Decoder",t.$e.$type)},!0),r("AsciiEncoding:d","Encoding",{init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$a.init.call(this)},init1:function(){t.$a.init.call(this)},getString1:function(n,t,i){for(var u="",r=t;r<t+i;r++){if(n[r]==0)break;u=u+String.fromCharCode(n[r])}return u},getCharCount1:function(n,t,i){return i},getByteCount:function(n,t,i){return i},getBytes2:function(){throw new $$6.q(0);},getBytes:function(n,i,r){return t.$a.getBytes.call(this,n,i,r)},getBytes1:function(n){for(var i=new Array(n.length),t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return i},getChars:function(n,t,i,r,u){for(var e=u,f=0;f<i;f++){if(n[f]==0)break;r[u++]=String.fromCharCode(n[t++])}return u-e},$type:new n.ig.Type("AsciiEncoding",t.$a.$type)},!0),r("DefaultDecoder:f","Decoder",{g:null,init:function(n){t.$e.init.call(this),this.g=n},a:function(n,t,i){return this.b(n,t,i,!1)},b:function(n,t,i){return this.g.getCharCount1(n,t,i)},c:function(n,t,i,r,u){return this.d(n,t,i,r,u,!1)},d:function(n,t,i,r,u){return this.g.getChars(n,t,i,r,u)},$type:new n.ig.Type("DefaultDecoder",t.$e.$type)},!0),r("Capture:h","Object",{a:0,c:0,f:null,init:function(t,i,r){n.ig.$op.init.call(this),this.a=t,this.c=i,this.f=r},b:function(){if(this.a<0)throw new $$0.r(1,"Cannot get the index of regex groups");return this.a},d:function(){return this.c},g:function(){return this.f},toString:function(){return this.f},$type:new n.ig.Type("Capture",n.ig.$ot)},!0),r("Group:i","Capture",{h:!1,init:function(n,i,r,u){t.$h.init.call(this,i,r,u),this.h=n},i:function(){return this.h},$type:new n.ig.Type("Group",t.$h.$type)},!0),r("GroupCollection:j","Object",{f:null,a:null,init:function(i){var s,e,r,o,u,f;for(n.ig.$op.init.call(this),this.f=i,s=this.f.j,e=this.f.p.a,this.a=new Array(e.length),r=0;r<this.a.length;r++)for(o=e[r],u=0;u<o.length;u++)f=s[o[u]],f!=null&&(this.a[r]=new t.i(!0,-1,f.length,f))},count:function(){return this.a.length},isReadOnly:function(){return!0},isSynchronized:function(){return!1},syncRoot:function(){return null},item:function(n){return this.a[n]||t.$j.c},item1:function(n){return this.item(this.f.p.e[n])},copyTo:function(t,i){n.ig.util.arrayCopyTo(this.a,t,i)},getEnumerator:function(){return this.a.getEnumerator()},$type:new n.ig.Type("GroupCollection",n.ig.$ot,[$$0.$bk.$type,$$0.$bt.$type])},!0),r("Match:k","Group",{j:null,p:null,k:null,l:null,init:function(n,i,r){t.$i.init.call(this,r!=null,r==null?0:r.index,r==null?0:r[0].length,r==null?"":r[0]),this.j=r,this.p=n,this.k=i},n:function(){return new t.k(null,null,null)},m:function(){return this.l==null&&(this.l=new t.j(this)),this.l},o:function(){return this.i()==!1?this:this.p.j(this.k,this.b()+this.d())},$type:new n.ig.Type("Match",t.$i.$type)},!0),r("Regex:l","Object",{d:null,e:null,a:null,c:!1,init:function(t,i){var f,r,e,u;if(n.ig.$op.init.call(this),f="g",(i&1)!=0&&(f+="i"),(i&2)!=0&&(f+="m"),(i&32)!=0&&(t=t.replace(/\s/g,"")),(i&4)!=0)for(r=t.indexOf("(");r>=0&&r<t.length;)e=r>0&&t.charAt(r-1)=="\\"||r<t.length-1&&t.charAt(r+1)=="?",e||(t=t.substr(0,r)+"(?:"+t.substr(r+1)),r=t.indexOf("(",r+1);u=n.ig.util.netRegexToJS(t),this.e=u.nameToNetGroupIndexMap,this.a=u.netToJSGroupIndexMap,this.c=u.matchMustStartAtCurrentPosition,this.d=new RegExp(u.pattern,f)},f:function(n){for(var u,r,f,i=0;i<n.length;i++)if(t.$l.b(n.charAt(i))!=!1){u=new $$6.aj(0),r=n.charAt(i),u.m(n,0,i);do{u.h("\\");switch(r){case"\t":r="t";break;case"\n":r="n";break;case"\f":r="f";break;case"\r":r="r"}for(u.h(r),i++,f=i;i<n.length;){if(r=n.charAt(i),t.$l.b(r))break;i++}u.m(n,f,i-f)}while(i<n.length);return u.toString()}return n},b:function(n){switch(n.charCodeAt(0)){case 9:case 10:case 12:case 13:case 32:case 35:case 36:case 40:case 41:case 42:case 43:case 46:case 63:case 91:case 92:case 94:case 123:case 124:return!0;default:return!1}},i:function(n){return this.j(n,0)},j:function(n,i){this.d.lastIndex=i;var r=this.d.exec(n);return r!=null&&this.c&&i!=r.index&&(r=null),new t.k(this,n,r)},g:function(n,t){return n.replace(this.d,t)},h:function(n,i,r,u){var f=new t.l(i,u);return f.g(n,r)},$type:new n.ig.Type("Regex",n.ig.$ot)},!0),t.$a.t=null,t.$a.s=null,t.$a.r=null,t.$a.p=null,t.$a.q=null,t.$j.c=new t.i(!1,-1,0,"")}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$7=t,$$0=n.ig.globalDefs.$$0,$$1=n.ig.globalDefs.$$1,$$6=n.ig.globalDefs.$$6,$$8=n.ig.globalDefs.$$8,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["TextReader:g","SynchronizedReader:h","TextReader_NullTextReader:i"]);var e=n.ig.intDivide,o=n.ig.util.cast,i=n.ig.util.defType,c=n.ig.util.defEnum,l=n.ig.util.getBoxIfEnum,a=n.ig.util.getDefaultValue,v=n.ig.util.getEnumValue,y=n.ig.util.getValue,u=n.ig.util.intSToU,p=n.ig.util.nullableEquals,w=n.ig.util.nullableIsNull,b=n.ig.util.nullableNotEquals,k=n.ig.util.toNullable,d=n.ig.util.toString$1,f=n.ig.util.u32BitwiseAnd,r=n.ig.util.u32BitwiseOr,g=n.ig.util.u32BitwiseXor,s=n.ig.util.u32LS,nt=n.ig.util.unwrapNullable,tt=n.ig.util.wrapNullable,h=String.fromCharCode,it=n.ig.util.castObjTo$t,rt=n.ig.util.compareSimple,ut=n.ig.util.tryParseNumber,ft=n.ig.util.tryParseNumber1,et=n.ig.util.numberToString,ot=n.ig.util.numberToString1,st=n.ig.util.parseNumber,ht=n.ig.util.compare,ct=n.ig.util.replace,lt=n.ig.util.stringFormat,at=n.ig.util.stringFormat1,vt=n.ig.util.stringFormat2,yt=n.ig.util.stringCompare1,pt=n.ig.util.stringCompare2,wt=n.ig.util.stringCompare3;i("BitConverter:a","Object",{init:function(){n.ig.$op.init.call(this)},r:function(){throw new $$6.q(0);},a:function(n){return[n?1:0]},b:function(){throw new $$6.q(0);},c:function(t){var i=0,h=0,u,o;return t==Number.POSITIVE_INFINITY?i=2146435072:t==Number.NEGATIVE_INFINITY?i=4293918720:t==0?i=1/t==1/0?0:2147483648:n.ig.util.isNaN(t)?i=4294443008:(t<-0&&(i=2147483648,t=-t),u=Math.floor(Math.log(t)/Math.log(2)),o=n.ig.truncate(Math.floor(t/Math.pow(2,u)*Math.pow(2,52))),h=f(o,4294967295),o=e(o,n.ig.truncate(Math.pow(2,32))),u+=1023,u>=2047?(u=2047,o=0):u<0&&(u=0),i=r(i,s(n.ig.truncate(u),20)),i=r(i,f(o,1048575))),[h&255,h>>>8&255,h>>>16&255,h>>>24&255,i&255,i>>>8&255,i>>>16&255,i>>>24&255]},g:function(){throw new $$6.q(0);},e:function(n){return t.$a.i(u(n))},f:function(n){return t.$a.j(n)},d:function(n){return t.$a.h(n)},i:function(n){return[n&255,n>>>8&255,n>>>16&255,n>>>24&255]},j:function(t){var i=t|0,u=r(n.ig.truncate(t/Math.pow(2,32)),0);return[i&255,i>>>8&255,i>>>16&255,i>>>24&255,u&255,u>>>8&255,u>>>16&255,u>>>24&255]},h:function(n){return[n&255,n>>>8&255]},n:function(){throw new $$6.q(0);},l:function(n,t){return n[t]!=0},m:function(){throw new $$6.q(0);},o:function(n,t){var i=(n[t+7]&128)>>7,r=(n[t+7]&127)<<4|(n[t+6]&240)>>4,u,f;return r==0?i==0?0:-0:r==2047?(n[t+6]&8)!=0?NaN:i==0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:(u=Math.pow(2,r-1075),f=n[t]+n[t+1]*Math.pow(2,8)+n[t+2]*Math.pow(2,16)+n[t+3]*Math.pow(2,24)+n[t+4]*Math.pow(2,32)+n[t+5]*Math.pow(2,40)+(n[t+6]&15)*Math.pow(2,48)+Math.pow(2,52),Math.pow(-1,i)*f*u)},p:function(n,i){var r=t.$a.w(n,i);return r>32767&&(r-=65536),r},q:function(n,t){return n[t]|n[t+1]<<8|n[t+2]<<16|n[t+3]<<24},s:function(){throw new $$6.q(0);},t:function(){throw new $$6.q(0);},u:function(){throw new $$6.q(0);},v:function(){throw new $$6.q(0);},w:function(n,t){return n[t]|n[t+1]<<8},x:function(n,i){return u(t.$a.q(n,i))},$type:new n.ig.Type("BitConverter",n.ig.$ot)},!0),i("IOPath:b","Object",{init:function(){n.ig.$op.init.call(this)},getExtension:function(n){var t=n.lastIndexOf(".");return t<0?String.empty():n.substr(t)},getDirectoryName:function(n){var t=n.lastIndexOfAny(["\\","/"]);return t<0?String.empty():n.substr(0,t)},getFileName:function(n){var t=n.lastIndexOfAny(["\\","/"]);return t<0?n:n.substr(t+1)},combine1:function(n,t){return n==null||n.length==0?t:t==null||t.length==0?n:n.charAt(n.length-1)=="\\"||n.charAt(n.length-1)=="/"||t.charAt(0)=="\\"||t.charAt(0)=="/"?n+t:n+"\\"+t},isPathRooted:function(n){return n==null?!1:n.length>=1&&(n.charAt(0)=="/"||n.charAt(0)=="\\")?!0:n.length>=2&&n.charAt(1)==":"?!0:!1},changeExtension:function(){throw new $$6.q(0);},combine:function(){throw new $$6.q(0);},combine2:function(){throw new $$6.q(0);},getFileNameWithoutExtension:function(){throw new $$6.q(0);},getFullPath:function(){throw new $$6.q(0);},getInvalidPathChars:function(){throw new $$6.q(0);},getPathRoot:function(n){var r,u,i,f;if(n==null)return null;if(r=n.trim(),r.length>0){if(u=r.match(t.$b.h),u!=null)return u[1]+(u[2]==null?":":":\\");if(i=r.match(t.$b.i),i!=null)return(f=i[1].toString().trim(),f.length==1||f.startsWith("\\ ")||f.startsWith("/ "))?"\\":i[2]==null?"\\\\":i[3]==null?"\\\\"+i[2]:"\\\\"+i[2]+"\\"+i[3]}return String.empty()},getTempFileName:function(){throw new $$6.q(0);},getTempPath:function(){throw new $$6.q(0);},hasExtension:function(){throw new $$6.q(0);},$type:new n.ig.Type("IOPath",n.ig.$ot)},!0),i("BinaryReader:c","Object",{__data:null,d:!1,n:0,canRead:function(){return this.n<this.__data.length},currentPosition:function(){return this.n},length:function(){return this.f?this.__stream.length():this.__data.length},e:!1,f:!1,init:function(t,i,r){if(t>0){switch(t){case 1:this.init1.apply(this,arguments)}return}this.__data=null,this.d=!1,this.n=0,this.e=!1,this.f=!1,n.ig.$op.init.call(this),this.__data=i,this.d=r;var u=this.__data;typeof Uint8Array!="undefined"&&u instanceof Uint8Array&&(this.e=!0)},i:function(n){return this.f?(this.__stream.position(n),this.__stream.readByte()):this.e?this.__data[n]&255:this.__data.charCodeAt(n)&255},a:function(n,t){var r=new Array(t),i;if(this.f)this.__stream.position(n),this.__stream.read(r,0,t);else if(this.e)for(i=0;i<t;i++)r[i]=this.__data[n+i]&255;else for(i=0;i<t;i++)r[i]=this.__data.charCodeAt(n+i)&255;return r},b:function(n,t){var r=new Array(t),i;if(this.f)this.__stream.position(n),this.__stream.read(r,0,t),$$0.$an.reverse(r);else if(this.e)for(i=0;i<t;i++)r[i]=this.__data[n+(t-1-i)]&255;else for(i=0;i<t;i++)r[i]=this.__data.charCodeAt(n+(t-1-i))&255;return r},readByte:function(){this.f&&(this.n=this.__stream.position());var n=this.i(this.n);return this.n=this.n+1,n},readBytes:function(n){this.f&&(this.n=this.__stream.position());var t=this.a(this.n,n);return this.n=this.n+n,t},readUInt32:function(){this.f&&(this.n=this.__stream.position());var n=0;return this.d?(n=n+(this.i(this.n)<<24),this.n=this.n+1,n=n+(this.i(this.n)<<16),this.n=this.n+1,n=n+(this.i(this.n)<<8),this.n=this.n+1,n=n+this.i(this.n),this.n=this.n+1):(n=n+this.i(this.n),this.n=this.n+1,n=n+(this.i(this.n)<<8),this.n=this.n+1,n=n+(this.i(this.n)<<16),this.n=this.n+1,n=n+(this.i(this.n)<<24),this.n=this.n+1),n<0&&(n=n+4294967295+1),n},readUInt16:function(){this.f&&(this.n=this.__stream.position());var n=0;return this.d?(n=n+(this.i(this.n)<<8),this.n=this.n+1,n=n+this.i(this.n),this.n=this.n+1):(n=n+this.i(this.n),this.n=this.n+1,n=n+(this.i(this.n)<<8),this.n=this.n+1),n},readInt32:function(){this.f&&(this.n=this.__stream.position());var n=0;return this.d?(n=n+(this.i(this.n)<<24),this.n=this.n+1,n=n+(this.i(this.n)<<16),this.n=this.n+1,n=n+(this.i(this.n)<<8),this.n=this.n+1,n=n+this.i(this.n),this.n=this.n+1):(n=n+this.i(this.n),this.n=this.n+1,n=n+(this.i(this.n)<<8),this.n=this.n+1,n=n+(this.i(this.n)<<16),this.n=this.n+1,n=n+(this.i(this.n)<<24),this.n=this.n+1),n>2147483647&&(n=n-4294967296),n},readDouble:function(){var r,o,n,e,h;this.f&&(this.n=this.__stream.position()),r=this.b(this.n,8),this.n=this.n+8,o=r[0]>>>7,n=0,n=n+(r[1]>>>4),n=n+((r[0]&127)<<4);for(var i=1,s=r[1],u=1/2,t=0,f=!1,t=5;t<=8;t++)(s&1<<8-t)>0&&(i=i+u,f=!0),u=u/2;for(e=2;e<8;e++)for(s=r[e],t=1;t<=8;t++)(s&1<<8-t)>0&&(i=i+u,f=!0),u=u/2;return n==0&&!f?0:(n==0&&f&&(n=1,i=i-1),n==1860&&!f)?o==1?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:n==1860&&f?NaN:(h=n-1023,Math.pow(-1,o)*Math.pow(2,h)*i)},readSingle:function(){var r,o,n,e,h;this.f&&(this.n=this.__stream.position()),r=this.b(this.n,4),this.n=this.n+4,o=r[0]>>>7,n=0,n=n+(r[1]>>>7),n=n+((r[0]&127)<<1);for(var i=1,s=r[1],u=1/2,t=0,f=!1,t=2;t<=8;t++)(s&1<<8-t)>0&&(i=i+u,f=!0),u=u/2;for(e=2;e<4;e++)for(s=r[e],t=1;t<=8;t++)(s&1<<8-t)>0&&(i=i+u,f=!0),u=u/2;return n==0&&!f?0:(n==0&&f&&(n=1,i=i-1),n==255&&!f)?o==1?0:0:n==255&&f?NaN:(h=n-127,Math.pow(-1,o)*Math.pow(2,h)*i)},__stream:null,init1:function(t,i){this.__data=null,this.d=!1,this.n=0,this.e=!1,this.f=!1,n.ig.$op.init.call(this),this.__stream=i,this.f=!0},baseStream:function(){return this.__stream},readBoolean:function(){this.f&&(this.n=this.__stream.position());var n=this.i(this.n);return this.n=this.n+1,n!=0},readInt16:function(){this.f&&(this.n=this.__stream.position());var n=0;return this.d?(n=n+(this.i(this.n)<<8),this.n=this.n+1,n=n+this.i(this.n),this.n=this.n+1):(n=n+this.i(this.n),this.n=this.n+1,n=n+(this.i(this.n)<<8),this.n=this.n+1),n>32767&&(n-=65536),n},readSByte:function(){this.f&&(this.n=this.__stream.position());var n=this.i(this.n);return(this.n=this.n+1,n>127)?n-254:n},close:function(){this.dispose()},dispose:function(){this.f&&this.__stream.dispose()},$type:new n.ig.Type("BinaryReader",n.ig.$ot,[$$0.$au.$type])},!0),i("BinaryWriter:d","Object",{b:null,d:null,init:function(t){if(t>0){switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}n.ig.$op.init.call(this)},init1:function(n,i){t.$d.init2.call(this,2,i,new $$8.c(0,!1,!0))},init2:function(t,i,r){n.ig.$op.init.call(this),this.b=i,this.d=r},baseStream:function(){return this.b},close:function(){this.disposeCore(!0)},dispose:function(){this.disposeCore(!0)},disposeCore:function(n){n&&this.b.close()},flush:function(){this.b.flush()},seek:function(n,t){return this.b.seek(n,t)},write4:function(n){this.b.write(t.$a.a(n),0,1)},write5:function(n){this.b.write(t.$a.d(n),0,1)},write:function(n){this.b.write(n,0,n.length)},write6:function(){},write1:function(){},write7:function(n){this.b.write(t.$a.c(n),0,8)},write12:function(n){this.b.write(t.$a.g(n),0,4)},write9:function(n){this.b.write(t.$a.e(n),0,4)},write10:function(n){this.b.write(t.$a.f(n),0,8)},write11:function(n){this.b.write(t.$a.d(n),0,2)},write8:function(n){this.b.write(t.$a.d(n),0,2)},write13:function(){},write15:function(n){this.b.write(t.$a.i(n),0,4)},write16:function(n){this.b.write(t.$a.j(n),0,8)},write14:function(n){this.b.write(t.$a.h(n),0,2)},write2:function(){},write3:function(){},y:function(){},$type:new n.ig.Type("BinaryWriter",n.ig.$ot,[$$0.$au.$type])},!0),i("MemoryStream:e","Stream",{o:null,t:0,s:0,r:!1,init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}t.$e.init1.call(this,1,0)},init1:function(n,t){$$0.$dc.init.call(this),this.o=new Array(t);for(var i=0;i<t;i++)this.o[i]=0},init2:function(n,t){$$0.$dc.init.call(this),this.o=t,this.s=t.length,this.r=this.s!=0&&typeof this.o[0]=="string"},canRead:function(){return!0},canSeek:function(){return!0},canWrite:function(){return!0},capacity:function(n){if(arguments.length===1){if(this.o.length==n)return;for(var t=this.s;t<n;t++)this.o[t]=0;return n}return this.o.length},length:function(){return this.s},position:function(n){return arguments.length===1?this.t==n?void 0:(this.t=n,this.capacity()<=this.t&&this.capacity(this.t+1),n):this.t},disposeCore:function(){},flush:function(){},getBuffer:function(){return this.o},read:function(n,t,i){var r=Math.min(this.s-this.t,i),u,f;if(this.r)for(u=0;u<r;u++)n[t++]=this.o[this.t++].charCodeAt(0)&255;else for(f=0;f<r;f++)n[t++]=this.o[this.t++];return r},readByte:function(){return this.s<=this.t?-1:this.r?this.o[this.t++].charCodeAt(0)&255:this.o[this.t++]},seek:function(n,t){switch(t){case 0:this.t=n;break;case 1:this.t+=n;break;case 2:this.t=this.s+n}return this.t},setLength:function(n){this.capacity()<n&&this.capacity(Math.max(n,this.capacity()*2)),this.s=n,this.s<this.t&&(this.t=this.s)},toArray:function(){if(this.r){var n=new Array(this.s),t=this.position();return this.position(0),this.read(n,0,n.length),this.position(t),n}return this.o.slice(0,this.s)},write:function(n,t,i){var o=this.t+i,r,u,f,e;if(this.length()<o&&this.setLength(o),r=i!=0&&typeof n[t]=="string",r==this.r)for(u=0;u<i;u++)this.o[this.t++]=n[t++];else if(r)for(f=0;f<i;f++)this.o[this.t++]=n.charCodeAt(t++)&255;else for(e=0;e<i;e++)this.o[this.t++]=String.fromCharCode(n[t++])},writeByte:function(n){var t=typeof n=="string";this.o[this.t++]=t==this.r?n:t?n.charCodeAt(0)&255:String.fromCharCode(n),this.s<this.t&&(this.s=this.t)},writeTo:function(n){n.write(this.o,0,this.s)},$type:new n.ig.Type("MemoryStream",$$0.$dc.$type)},!0),i("TextReader:g","Object",{staticInit:function(){t.$g.$null=new t.i},init:function(){n.ig.$op.init.call(this)},close:function(){this.dispose1(!0)},dispose:function(){this.dispose1(!0)},dispose1:function(n){n;return},peek:function(){return-1},read:function(){return-1},read1:function(n,t,i){for(var u,r=0;r<i;r++){if((u=this.read())==-1)return r;n[t+r]=h(u)}return r},readBlock:function(n,t,i){var u=0,r=0;do r=this.read1(n,t,i),t+=r,u+=r,i-=r;while(r!=0&&i>0);return u},readLine:function(){return String.empty()},readToEnd:function(){return String.empty()},synched:function(n){if(n==null)throw new $$6.e(0,"reader is null");return o(t.$h.$type,n)!==null?n:new t.h(n)},$type:new n.ig.Type("TextReader",n.ig.$ot,[$$0.$au.$type])},!0),i("StreamReader:f","TextReader",{o:null,q:null,p:null,k:null,l:0,m:0,init:function(n){t.$g.init.call(this),this.o=n,this.q=$$8.$a.uTF8(),this.p=this.q.getDecoder(),this.k=new Array(this.q.getMaxCharCount(1024))},r:function(){var n=new Array(1024),t=this.o.read(n,0,n.length);this.l=this.p.c(n,0,t,this.k,0),this.m=0},peek:function(){return this.m==this.l&&(this.r(),this.m==this.l)?-1:this.k[this.m].charCodeAt(0)},read:function(){return this.m==this.l&&(this.r(),this.m==this.l)?-1:this.k[this.m++].charCodeAt(0)},read1:function(t,i,r){for(var f=0,u;r>0;){if(u=Math.min(r,this.l-this.m),u==0&&(this.r(),u=Math.min(r,this.l-this.m),u==0))break;n.ig.util.arrayCopy1(this.k,this.m,t,i,u),f+=u,r-=u,this.m+=u}return f},readLine:function(){throw new $$6.q(0);},readToEnd:function(){for(var t=new $$6.aj(0),n;;){if(n=this.l-this.m,n==0&&(this.r(),n=this.l-this.m,n==0))break;t.g(this.k,this.m,n),this.m=this.l}return t.toString()},$type:new n.ig.Type("StreamReader",t.$g.$type)},!0),i("TextReader_NullTextReader:i","TextReader",{init:function(){t.$g.init.call(this)},readLine:function(){return null},$type:new n.ig.Type("TextReader_NullTextReader",t.$g.$type)},!0),i("SynchronizedReader:h","TextReader",{k:null,init:function(n){t.$g.init.call(this),this.k=n},close:function(){this.k.close()},peek:function(){return this.k.peek()},readBlock:function(n,t,i){return this.k.readBlock(n,t,i)},readLine:function(){return this.k.readLine()},readToEnd:function(){return this.k.readToEnd()},read:function(){return this.k.read()},read1:function(n,t,i){return this.k.read1(n,t,i)},$type:new n.ig.Type("SynchronizedReader",t.$g.$type)},!0),t.$a.k=!1,t.$b.altDirectorySeparatorChar="/",t.$b.directorySeparatorChar="\\",t.$b.pathSeparator=";",t.$b.volumeSeparatorChar=":",t.$b.h=/^\s*(\w)\s*:\s*([\\\/])?/,t.$b.i=/^((?:\s*[\\\/]+)+)((?:\s|[^\\\/])+)?(?:(?:\s*[\\\/]+)+((?:\s*|[^\\\/])*))?/,t.$g.$null=null,t.$g.staticInit&&!t.$g.textReaderStaticInitCalled&&(t.$g.staticInit(),t.$g.textReaderStaticInitCalled=!0)}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$c=t,$$0=n.ig.globalDefs.$$0,$$1=n.ig.globalDefs.$$1,$$4=n.ig.globalDefs.$$4,$$6=n.ig.globalDefs.$$6,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["XContainer:f","XDocument:g","XElement:h"]);var u=n.ig.intDivide,r=n.ig.util.cast,i=n.ig.util.defType,f=n.ig.util.defEnum,e=n.ig.util.getBoxIfEnum,o=n.ig.util.getDefaultValue,s=n.ig.util.getEnumValue,h=n.ig.util.getValue,c=n.ig.util.intSToU,l=n.ig.util.nullableEquals,a=n.ig.util.nullableIsNull,v=n.ig.util.nullableNotEquals,y=n.ig.util.toNullable,p=n.ig.util.toString$1,w=n.ig.util.u32BitwiseAnd,b=n.ig.util.u32BitwiseOr,k=n.ig.util.u32BitwiseXor,d=n.ig.util.u32LS,g=n.ig.util.unwrapNullable,nt=n.ig.util.wrapNullable,tt=String.fromCharCode,it=n.ig.util.castObjTo$t;i("XObject:m","Object",{init:function(t){n.ig.$op.init.call(this),this.backingNode(t)},_backingNode:null,backingNode:function(n){return arguments.length===1?(this._backingNode=n,n):this._backingNode},nodeType:function(){},toString:function(){return this.backingNode()!=null?t.$i.xmlNodeToString(this.backingNode()):""},$type:new n.ig.Type("XObject",n.ig.$ot)},!0),i("XAttribute:e","XObject",{init:function(n){t.$m.init.call(this,n)},e:function(n){this.backingNode(this.backingNode().cloneNode(!0)),n.setAttributeNode(this.backingNode())},nodeType:function(){return 2},value:function(){return t.$i.b(this.backingNode())},$type:new n.ig.Type("XAttribute",t.$m.$type)},!0),i("XNode:l","XObject",{init:function(n){t.$m.init.call(this,n)},$type:new n.ig.Type("XNode",t.$m.$type)},!0),i("XContainer:f","XNode",{init:function(n){t.$l.init.call(this,n)},element:function(n){for(var u=null,e=this.backingNode(),f=e.childNodes,o=f.length,s=n.localName(),h=n.namespaceName(),i,r=0;r<o;r++)i=f.item(r),i.namespaceURI==h&&i.nodeType==1&&t.$i.d(i)==s&&(u=i);return u==null?null:new t.h(0,u)},elements:function(){return this.f(null)},elements1:function(n){return this.f(n)},f:function(n){for(var f=new $$4.x(t.$h.$type,0),i,u,r=0;r<this.backingNode().childNodes.length;r++)i=this.backingNode().childNodes.item(r),i.nodeType==1&&(u=!1,n!=null?t.$i.d(i)==n.localName()&&i.namespaceURI==n.namespaceName()&&(u=!0):u=!0,u&&f.add(new t.h(0,i)));return f},add:function(n){var u=this.backingNode(),i;i=r(t.$g.$type,this)!==null?this.backingNode():this.backingNode().ownerDocument,r(t.$e.$type,n)!==null?n.e(u):r(t.$h.$type,n)!==null&&n.j(u,i)},$type:new n.ig.Type("XContainer",t.$l.$type)},!0),i("XDocument:g","XContainer",{init:function(n,i){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$f.init.call(this,i)},init1:function(){t.$f.init.call(this,t.$i.j())},nodeType:function(){return 9},parse:function(n){return new t.g(0,t.$i.n(n))},$type:new n.ig.Type("XDocument",t.$f.$type)},!0),i("XElement:h","XContainer",{init:function(n,i){if(n>0){switch(n){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}t.$f.init.call(this,i)},init1:function(n,i){t.$h.init2.call(this,2,i,null)},init2:function(n,i,r){t.$f.init.call(this,t.$i.o(i.localName(),i.namespaceName()));var u=r==null?"":r.toString();this.value(u)},value:function(n){return arguments.length===1?(t.$i.h(this.backingNode(),n),n):t.$i.c(this.backingNode())},nodeType:function(){return 1},name:function(){return t.$j.get(t.$i.d(this.backingNode()),this.backingNode().namespaceURI)},attribute:function(n){return new t.e(t.$i.i(this.backingNode(),n.localName(),n.namespaceName()))},j:function(n,i){this.backingNode().ownerDocument!=i&&this.backingNode(t.$i.p(i,this.backingNode())),n.appendChild(this.backingNode())},$type:new n.ig.Type("XElement",t.$f.$type)},!0),i("XmlUtils:i","Object",{init:function(){n.ig.$op.init.call(this)},a:function(){return!!window.DOMParser},m:function(n){var t=n;return(new DOMParser).parseFromString(t,"text/xml")},l:function(n){var t=n;return function(n){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(n),t}(t)},f:function(n){var t=n;return(new XMLSerializer).serializeToString(t)},e:function(n){var t=n;return t.xml},k:function(){return new ActiveXObject("Microsoft.XMLDOM")},n:function(n){return t.$i.a()?t.$i.m(n):t.$i.l(n)},xmlNodeToString:function(n){return t.$i.a()?t.$i.f(n):t.$i.e(n)},j:function(){var n;return t.$i.a()?(n=t.$i.m("<dummy/>"),n.removeChild(n.documentElement)):n=t.$i.k(),n},o:function(n,i){var r=t.$i.j(),u,f;return t.$i.a()?r.createElementNS(i,n):(u=n,f=i,r.createNode(1,u,f))},c:function(n){if(t.$i.a())return n.textContent;var i=n;return i.text},h:function(n,i){if(t.$i.a())n.textContent=i;else{var r=n,u=i;r.text=u}},p:function(n,i){return t.$i.a()?n.importNode(i,!0):i},d:function(n){if(t.$i.a())return n.localName;var i=n;return i.baseName},i:function(n,i,r){if(t.$i.a())return n.getAttributeNodeNS(r,i);var u=n,f=i,e=r;return u.attributes.getQualifiedItem(f,e)},b:function(n){if(t.$i.a())return n.nodeValue;var i=n;return i.value},$type:new n.ig.Type("XmlUtils",n.ig.$ot)},!0),i("XName:j","Object",{a:null,b:null,init:function(t,i){n.ig.$op.init.call(this),this.a=t,this.b=i},localName:function(){return this.a},namespaceName:function(){return this.b},namespace:function(){return t.$k.get(this.b)},get:function(n,i){return new t.j(n,i)},$type:new n.ig.Type("XName",n.ig.$ot)},!0),i("XNamespace:k","Object",{a:null,init:function(t){n.ig.$op.init.call(this),this.a=t},get:function(n){return new t.k(n)},xmlns:function(){return t.$k.get("http://www.w3.org/2000/xmlns/")},namespaceName:function(){return this.a},$type:new n.ig.Type("XNamespace",n.ig.$ot)},!0),i("FaultCode:a","Object",{init:function(t){n.ig.$op.init.call(this),this._a=t},_a:null,$type:new n.ig.Type("FaultCode",n.ig.$ot)},!0),i("FaultException:b","Error",{init:function(n,t,i){$$0.$n.init.call(this,0),this.reason(n),this.code(t),this.action(i)},_action:null,action:function(n){return arguments.length===1?(this._action=n,n):this._action},_code:null,code:function(n){return arguments.length===1?(this._code=n,n):this._code},_reason:null,reason:function(n){return arguments.length===1?(this._reason=n,n):this._reason},$type:new n.ig.Type("FaultException",$$0.$n.$type)},!0),i("FaultException$1:c","FaultException",{$tDetail:null,init:function(n,i,r,u,f){this.$tDetail=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tDetail)),t.$b.init.call(this,r,u,f),this.detail(i)},_detail:null,detail:function(n){return arguments.length===1?(this._detail=n,n):this._detail},$type:new n.ig.Type("FaultException$1",t.$b.$type)},!0),i("FaultReason:d","Object",{a:null,init:function(t){n.ig.$op.init.call(this),this.a=t},toString:function(){return this.a},$type:new n.ig.Type("FaultReason",n.ig.$ot)},!0)}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.globalDefs=n.ig.globalDefs||{},n.ig.globalDefs.$$b=t,$$0=n.ig.globalDefs.$$0,$$1=n.ig.globalDefs.$$1,$$4=n.ig.globalDefs.$$4,$$6=n.ig.globalDefs.$$6,$$7=n.ig.globalDefs.$$7,$$8=n.ig.globalDefs.$$8,$$9=n.ig.globalDefs.$$9,n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["ICredentials:c","NetworkCredential:d","UploadDataCompletedEventHandler:e","UploadStringCompletedEventHandler:g"]);var r=n.ig.intDivide,u=n.ig.util.cast,i=n.ig.util.defType,f=n.ig.util.defEnum,e=n.ig.util.getBoxIfEnum,o=n.ig.util.getDefaultValue,s=n.ig.util.getEnumValue,h=n.ig.util.getValue,c=n.ig.util.intSToU,l=n.ig.util.nullableEquals,a=n.ig.util.nullableIsNull,v=n.ig.util.nullableNotEquals,y=n.ig.util.toNullable,p=n.ig.util.toString$1,w=n.ig.util.u32BitwiseAnd,b=n.ig.util.u32BitwiseOr,k=n.ig.util.u32BitwiseXor,d=n.ig.util.u32LS,g=n.ig.util.unwrapNullable,nt=n.ig.util.wrapNullable,tt=String.fromCharCode,it=n.ig.util.castObjTo$t,rt=n.ig.util.compare,ut=n.ig.util.replace,ft=n.ig.util.stringFormat,et=n.ig.util.stringFormat1,ot=n.ig.util.stringFormat2,st=n.ig.util.stringCompare1,ht=n.ig.util.stringCompare2,ct=n.ig.util.stringCompare3;i("UriParser:a","Object",{init:function(){n.ig.$op.init.call(this)},a:function(n){return t.$a.b.contains(n.toLowerCase())},$type:new n.ig.Type("UriParser",n.ig.$ot)},!0),i("JavaScriptSerializer:k","Object",{init:function(){n.ig.$op.init.call(this)},a:function(n){var t=n;return JSON.parse(t)},b:function(n){var t=n;return JSON.stringify(t)},$type:new n.ig.Type("JavaScriptSerializer",n.ig.$ot)},!0),i("BinaryFileDownloader:b","Object",{init:function(){n.ig.$op.init.call(this)},a:function(t,i,r){n.ig.util.getBinary(t,i,r)},$type:new n.ig.Type("BinaryFileDownloader",n.ig.$ot)},!0),i("ICredentials:c","Object",{$type:new n.ig.Type("ICredentials",null)},!0),i("NetworkCredential:d","Object",{init:function(n,i,r){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$d.init1.call(this,1,i,r,String.empty())},init1:function(t,i,r,u){n.ig.$op.init.call(this),this.userName(i),this.password(r),this.domain(u)},getCredential:function(){return this},_userName:null,userName:function(n){return arguments.length===1?(this._userName=n,n):this._userName},_password:null,password:function(n){return arguments.length===1?(this._password=n,n):this._password},_domain:null,domain:function(n){return arguments.length===1?(this._domain=n,n):this._domain},$type:new n.ig.Type("NetworkCredential",n.ig.$ot,[t.$c.$type])},!0),i("UploadDataCompletedEventArgs:f","AsyncCompletedEventArgs",{i:null,init:function(n,t,i,r){$$6.$ae.init.call(this,t,i,r),this.i=n},result:function(){return this.h(),this.i},$type:new n.ig.Type("UploadDataCompletedEventArgs",$$6.$ae.$type)},!0),i("UploadStringCompletedEventArgs:h","AsyncCompletedEventArgs",{i:null,init:function(n,t,i,r){$$6.$ae.init.call(this,t,i,r),this.i=n},result:function(){return this.h(),this.i},$type:new n.ig.Type("UploadStringCompletedEventArgs",$$6.$ae.$type)},!0),i("WebClient:i","Object",{init:function(){n.ig.$op.init.call(this),this._d=new t.j},_e:null,_d:null,_a:null,uploadStringCompleted:null,k:function(n,i,r,u){var f=this;this.g(n,i,r).i(function(n){if(f.uploadStringCompleted!=null){var i=null,r=null;try{i=n.m()}catch(e){r=e}f.uploadStringCompleted(f,new t.h(i,r,n.g()==6,u))}})},g:function(t,i,r){var u=t.value(),f=i,e=r,o=this._d.item("Content-Type"),s=this._a,h=n.ig.util.ajax(u,o,e,f,s);return new $$9.a(String,h,null)},uploadDataCompleted:null,j:function(n,i,r,u){var f=this;this.f(n,i,r).i(function(n){if(f.uploadDataCompleted!=null){var i=null,r=null;try{i=n.m()}catch(e){r=e}f.uploadDataCompleted(f,new t.f(i,r,n.g()==6,u))}})},f:function(t,i,r){var u=t.value(),f=i,e=r,o=this._d.item("Content-Type"),s=this._a,h=n.ig.util.ajax(u,o,e,f,s);return new $$9.a(Array,h,null)},i:function(n,t){n.e(t)},h:function(n,t,i,r){n.d(new $$0.n(1,r))},$type:new n.ig.Type("WebClient",n.ig.$ot)},!0),i("WebHeaderCollection:j","NameValueCollection",{init:function(){$$4.$ag.init.call(this)},$type:new n.ig.Type("WebHeaderCollection",$$4.$ag.$type)},!0),t.$a.b=new $$4.x(String,1,["http","https","ws","wss","ftp","file","gopher","nntp","news","mailto","uuid","telnet","ldap","net.tcp","net.pipe"])}(n)}),function(n){typeof define=="function"&&define.amd?define(["jquery","jquery-ui","jquery-ui/ui/core","jquery-ui/ui/data","jquery-ui/ui/focusable","jquery-ui/ui/keycode","jquery-ui/ui/tabbable","jquery-ui/ui/version","jquery-ui/ui/widget","jquery-ui/ui/widgets/mouse","jquery-ui/ui/widgets/datepicker","jquery-ui/ui/widgets/draggable","jquery-ui/ui/widgets/droppable","jquery-ui/ui/widgets/mouse","jquery-ui/ui/widgets/resizable","./infragistics.core"],n):n(jQuery)}(function(n){(function(n){n.widget("ui.igCombo",n.ui.igWidget,{options:{width:null,height:null,dropDownWidth:null,dataSource:null,dataSourceType:null,dataSourceUrl:null,responseTotalRecCountKey:null,responseDataKey:null,responseDataType:null,responseContentType:null,requestType:"GET",valueKey:null,textKey:null,itemTemplate:null,headerTemplate:null,footerTemplate:null,inputName:null,animationShowDuration:100,animationHideDuration:100,dropDownAttachedToBody:!0,filteringType:"local",filterExprUrlKey:null,filteringCondition:"contains",filteringLogic:"OR",noMatchFoundText:undefined,dropDownButtonTitle:undefined,clearButtonTitle:undefined,placeHolder:undefined,locale:{noMatchFoundText:undefined,dropDownButtonTitle:undefined,clearButtonTitle:undefined,placeHolder:undefined},loadOnDemandSettings:{enabled:!1,pageSize:16},visibleItemsCount:15,mode:"editable",virtualization:!1,multiSelection:{enabled:!1,addWithKeyModifier:!1,showCheckboxes:!1,itemSeparator:", "},grouping:{key:null,dir:"asc"},validatorOptions:null,highlightMatchesMode:"multi",caseSensitive:!1,autoSelectFirstMatch:!0,autoComplete:!1,allowCustomValue:!1,closeDropDownOnBlur:!0,delayInputChangeProcessing:250,tabIndex:null,dropDownOnFocus:!1,closeDropDownOnSelect:!0,selectItemBySpaceKey:!1,initialSelectedItems:[{index:-1,value:null}],preventSubmitOnEnter:!0,format:"auto",suppressKeyboard:!1,enableClearButton:!0,dropDownOrientation:"auto"},events:{rendered:"rendered",dataBinding:"dataBinding",dataBound:"dataBound",filtering:"filtering",filtered:"filtered",itemsRendering:"itemsRendering",itemsRendered:"itemsRendered",dropDownOpening:"dropDownOpening",dropDownOpened:"dropDownOpened",dropDownClosing:"dropDownClosing",dropDownClosed:"dropDownClosed",selectionChanging:"selectionChanging",selectionChanged:"selectionChanged"},css:{comboWrapper:"ui-igcombo-wrapper",combo:"ui-igcombo ui-widget ui-state-default ui-corner-all ui-unselectable",dropDownMode:"ui-igcombo-mode-dropdown",readOnlyMode:"ui-igcombo-mode-readonly",readOnlyListMode:"ui-igcombo-mode-readonlylist",textBox:"ui-igcombo-textbox ui-state-default ui-corner-all",field:"ui-igcombo-field ui-corner-all",fieldHolder:"ui-igcombo-fieldholder",fieldHolderLTR:"ui-igcombo-fieldholder-ltr ui-corner-left",fieldHolderRTL:"ui-igcombo-fieldholder-rtl ui-corner-right",dropDownListRTL:"ig-rtl",button:"ui-igcombo-button ui-state-default ui-unselectable",buttonIcon:"ui-igcombo-buttonicon ui-icon-triangle-1-s ui-icon",buttonLTR:"ui-igcombo-button-ltr ui-corner-right",buttonRTL:"ui-igcombo-button-rtl ui-corner-left",clear:"ui-igcombo-clear ui-unselectable",clearRTL:"ui-igcombo-clear-rtl ui-unselectable",clearHover:"ui-igcombo-clear-hover ui-state-hover",clearIcon:"ui-igcombo-clearicon ui-icon-circle-close ui-icon",dropDown:"ui-igcombo-dropdown ui-widget ui-widget-content ui-corner-all",list:"ui-igcombo-list",listOverflow:"ui-igcombo-list-overflow",listItemHolder:"ui-igcombo-listitemholder",listItem:"ui-igcombo-listitem ui-state-default ui-unselectable",header:"ui-igcombo-header",footer:"ui-igcombo-footer",group:"ui-igcombo-group",groupHeader:"ui-igcombo-group-header ui-state-default ui-unselectable",itemInFocus:"ui-igcombo-item-in-focus",listItemHighlighted:"ui-igcombo-highlight",noMatchFound:"ui-igcombo-nomatchfound",listItemTextWithCheckbox:"ui-igcombo-listitemtextwithcheckbox",checkbox:"ui-igcombo-checkbox ui-state-default ui-corner-all ui-igcheckbox-small",checkboxOff:"ui-icon ui-igcombo-checkbox-off ui-igcheckbox-small-off",checkboxOn:"ui-icon ui-icon-check ui-igcombo-checkbox-on ui-igcheckbox-small-on",hiddenField:"ui-igcombo-hidden-field",hover:"ui-state-hover",active:"ui-state-active",unselectable:"ui-unselectable",noBorder:"ui-igcombo-no-border",scrollHolder:"ui-igcombo-scrollholder ui-unselectable",scroll:"ui-igcombo-scroll ui-unselectable",recordsView:"ui-igcombo-records-view",recordsData:"ui-igcombo-records-data",recordsServer:"ui-igcombo-records-server",recordsServerTotal:"ui-igcombo-records-server-total",loading:"ui-igcombo-loading",hidden:"ui-helper-hidden",disabled:"ui-state-disabled",orientationTop:"ui-igcombo-orientation-top",orientationBottom:"ui-igcombo-orientation-bottom"},RECORDS_VIEW:"{0}",RECORDS_DATA:"{1}",RECORDS_SERVER:"{2}",RECORDS_SERVER_TOTAL:"{3}",_createWidget:function(t){var i;this._options={$window:n(window),$comboWrapper:null,$combo:null,$input:null,$hiddenInput:null,$fieldCont:null,$clearCont:null,$clearIcon:null,$dropDownBtnCont:null,$dropDownBtnIcon:null,$dropDownCont:null,$dropDownListCont:null,$dropDownList:null,$header:undefined,$footer:undefined,$dropDownScrollCont:null,$dropDownScroll:null,$loading:null,$noMatchFound:null,$itemsToSelectOnShiftUpDown:n(),$itemsToSelectOnShiftClick:n(),selectedData:[],keyNavItemData:null,autoSelectedItemData:null,autoCompleteItemData:null,inputVal:"",highlightElement:"span",ltr:!0,dropDownOpened:!1,deltaItemsForLoadOnDemand:5,dataBinding:!1,shiftKeyCode:16,validator:null,shiftDown:!1,nameAttribute:"",internalSelChangeSubs:[],initialDataBinding:!0,remoteFilteringTriggerEvt:null,preventInputBlur:!1,mouseDownStartedFromListItem:!1,cachedData:[],strDataSource:null,updateInputValuesOnRemoteFilter:!1,hasFooterVariables:!1,hadInputSelectionOnKeydown:!1,expression:null,preventItemSeparatorOnFocus:!1,preventDropDownOnFocus:!1,keyUpTimeout:null,repositionInterval:null,disableScroll:!1,cachedGroupLength:null,dropDownModeSearchBy:"",dropDownModeSearchByResetTimeout:null,dropDownModeSearchByResetDelay:1e3,originalOptions:t,checkboxItemTemplate:"<span class='{css.checkbox}'><span class='{css.checkboxOff}''><\/span><\/span><div class='{css.listItemTextWithCheckbox}'>{innerMarkup}<\/div>",scrollCallback:null,closingDropDownOnBlur:!1,composition:null},t&&(i=t.mode,t.multiSelection&&t.multiSelection.enabled&&t.closeDropDownOnSelect===undefined&&(t.closeDropDownOnSelect=!1),i!=="readonly"&&i!=="readonlylist"&&(i!=="dropdown"||t.multiSelection&&t.multiSelection.enabled||t.enableClearButton!==undefined)||(t.enableClearButton=!1)),this._superApply(arguments)},_create:function(){this._handlers={windowResize:n.proxy(this._windowResize,this),documentMouseUp:n.proxy(this._documentMouseUp,this),inputFocus:n.proxy(this._inputFocus,this),inputBlur:n.proxy(this._inputBlur,this),inputClick:n.proxy(this._inputClick,this),inputKeyDown:n.proxy(this._inputKeyDown,this),inputPaste:n.proxy(this._inputPaste,this),inputKeyUp:n.proxy(this._inputKeyUp,this),inputKeyPress:n.proxy(this._inputKeyPress,this),inputMouseDown:n.proxy(this._inputMouseDown,this),inputCompositionUpdate:n.proxy(this._inputCompositionUpdate,this),inputCompositionEnd:n.proxy(this._inputCompositionEnd,this),inputInput:n.proxy(this._inputInputHandler,this)},this._analyzeOptions(),this._analyzeInitialElem(),this._render(),this.validator(),this._attachEvents(),this.dataBind(),this._initCompositionObject()},_analyzeOptions:function(){var f,i,t=this.options,u=n(this.element),r=t.loadOnDemandSettings;if(this.options.dataSource&&(n.isArray(this.options.dataSource)?i=this.options.dataSource[0]:this.options.dataSource&&typeof this.options.dataSource._xmlToArray=="function"&&typeof this.options.dataSource._encodePkParams=="function"&&(i=this.options.dataSource.data()[0])),t.mode!=="editable"&&t.mode!=="dropdown"&&t.mode!=="readonly"&&t.mode!=="readonlylist"&&(t.mode="editable"),r&&r.enabled&&r.pageSize&&t.loadOnDemandSettings.pageSize<5?r.pageSize=5:r&&r.enabled&&!r.pageSize&&(r.pageSize=this.options.visibleItemsCount+1),!t.textKey)if(t.valueKey)t.textKey=t.valueKey;else if(i&&n.type(i)==="object")for(f in i)if(i.hasOwnProperty(f)){t.textKey=f;break}if(t.valueKey||(t.valueKey=t.textKey),t.textKey||t.valueKey||(t.textKey="text",t.valueKey="value"),t.filteringType!=="local"&&t.filteringType!=="remote"&&t.filteringType!=="none"&&(t.filteringType="none"),u.attr("name")&&this._options.originalOptions.inputName===undefined&&(t.inputName=u.attr("name")),u.attr("multiple")==="multiple"&&(this._options.originalOptions.multiSelection===undefined||this._options.originalOptions.multiSelection.enabled===undefined)&&(this.options.multiSelection.enabled=!0),u.attr("dir")==="rtl"&&(this._options.ltr=!1),this.options.grouping.key&&i&&i[this.options.grouping.key]===undefined)throw new Error(this._getLocaleValue("errorIncorrectGroupingKey"));},_analyzeInitialElem:function(){var n=this.element,t=this._options;n.is("div")||n.is("span")?t.$comboWrapper=n:n.is("input")?(t.$input=n,t.nameAttribute=n.attr("name"),n.removeAttr("name")):n.is("select")&&(n.hide(),t.nameAttribute=n.attr("name"),n.removeAttr("name"))},_setupInput:function(){var n=this._options;n.$input.attr({placeholder:this._getLocaleValue("placeHolder"),"data-localeid":"placeHolder","data-localeattr":"placeholder"}),this.options.mode!=="editable"&&n.$input.attr({readonly:!0,unselectable:"on"}).addClass(this.css.unselectable)},_renderHeaderTemplate:function(t,i,r){var u,e,f;e="."+t.header,f=r.find(e),f.length&&typeof i.headerTemplate=="string"&&f.remove(),u=n("<div>").addClass(t.header).html(i.headerTemplate),u.prependTo(r),this._options.$header=u},_renderFooterTemplate:function(t,i,r,u){var f,e,s,o;if(s="."+t.footer,o=r.find(s),o.length&&typeof i.footerTemplate=="string"&&o.remove(),e=i.footerTemplate.replace(u.RECORDS_VIEW,"<span class="+t.recordsView+"><\/span>").replace(u.RECORDS_DATA,"<span class="+t.recordsData+"><\/span>").replace(u.RECORDS_SERVER,"<span class="+t.recordsServer+"><\/span>").replace(u.RECORDS_SERVER_TOTAL,"<span class="+t.recordsServerTotal+"><\/span>"),u._options.hasFooterVariables=e!==i.footerTemplate,u._options.hasFooterVariables){f=n("<div>").addClass(t.footer).html(e),f.appendTo(r),u._options.$footer=f;return}f=n("<div>").addClass(t.footer).html(e),f.appendTo(r),this._options.$footer=f},_render:function(){var t=this.css,u=this.options,i=this._options,f=(i.$comboWrapper||n("<div>")).addClass(t.comboWrapper),r=n("<div>").addClass(t.combo).attr("unselectable","on"),c=(i.$input||n("<input type='text'>")).addClass(t.field).attr({tabIndex:u.tabIndex,autocomplete:"off"}),y=n("<input type='hidden'>").addClass(t.hiddenField),e=n("<div>").addClass(t.fieldHolder),s=n("<div>").addClass(t.clear).attr({unselectable:"on",title:this._getLocaleValue("clearButtonTitle"),"data-localeid":"clearButtonTitle","data-localeattr":"title"}),p=n("<div>").addClass(t.clearIcon),h=n("<div>").addClass(t.button).attr({unselectable:"on",title:this._getLocaleValue("dropDownButtonTitle"),"data-localeid":"dropDownButtonTitle","data-localeattr":"title"}),w=n("<div>").addClass(t.buttonIcon),o=n("<div>").addClass(t.dropDown).width(u.dropDownWidth),a=n("<div>").addClass(t.list),l=n("<ul>").addClass(t.listItemHolder),v=n("<div>").addClass(t.scrollHolder).attr("unselectable","on"),b=n("<div>").addClass(t.scroll).attr("unselectable","on"),k=n("<div>").addClass(t.loading);switch(u.mode){case"dropdown":r.addClass(t.dropDownMode);break;case"readonlylist":r.addClass(t.readOnlyListMode);break;case"readonly":r.addClass(t.readOnlyMode),f.addClass(t.disabled)}e.addClass(t.fieldHolderLTR),i.ltr?h.addClass(t.buttonLTR):(l.addClass(t.dropDownListRTL),h.addClass(t.buttonRTL),s.addClass(t.clearRTL)),u.grouping.key&&l.addClass(t.group),p.appendTo(s),w.appendTo(h),l.appendTo(a),a.appendTo(o),typeof u.headerTemplate=="string"&&this._renderHeaderTemplate(t,u,o),typeof u.footerTemplate=="string"&&this._renderFooterTemplate(this.css,this.options,o,this),u.virtualization&&(a.addClass(t.listOverflow),v.insertBefore(l),b.appendTo(v)),this.element.is("input")?(c.wrap(e),e=c.parent(),e.wrap(r),r=e.parent(),r.wrap(f),f=r.parent(),s.prependTo(r),h.prependTo(r)):(c.appendTo(e),h.appendTo(r),s.appendTo(r),e.appendTo(r),r.appendTo(f)),s.hide(),y.attr("name",u.inputName).appendTo(r),o.css({height:0,top:-99999,left:-99999,overflow:"hidden"}).addClass(t.noBorder),u.dropDownAttachedToBody?o.appendTo(n("body")):o.appendTo(f),this.element.is("select")&&f.insertBefore(this.element),f.outerWidth(u.width),f.outerHeight(u.height),i.$comboWrapper=f,i.$combo=r,i.$input=c,i.$hiddenInput=y,i.$fieldCont=e,i.$clearCont=s,i.$clearIcon=p,i.$dropDownBtnCont=h,i.$dropDownBtnIcon=w,i.$dropDownCont=o,i.$dropDownListCont=a,i.$dropDownList=l,i.$loading=k,this._setInputVal(c.val()),u.virtualization&&(i.$dropDownScrollCont=v,i.$dropDownScroll=b),this._setupInput(),u.disabled&&this._disableCombo(!0),this._triggerRendered()},_itemInnerMarkup:function(t){var r,u,i;return r=this._unwrapData(t),u=r[this.options.textKey],i=this._unwrapData(u),i=this._formatItem(i),i=n.ig.encode(i),this.options.itemTemplate?n.ig.tmpl(this.options.itemTemplate,t):i},_formatItem:function(t){return n.ig&&n.ig.formatter&&(this.options.format==="auto"&&(n.type(t)==="date"||n.type(t)==="number")?t=n.ig.formatter({val:t,reg:n.ig.regional[this.options.regional]}):this._formatEnabled()&&(t=n.ig.formatter({val:t,format:this.options.format,reg:n.ig.regional[this.options.regional]}))),t},_formatEnabled:function(){return!(this.options.format===""||this.options.format===null||this.options.format==="none")},_itemsToRenderCount:function(){return this._isPossibleToVirtualize()?this.options.visibleItemsCount:this.options.dataSource.dataView().length},_sortDataSource:function(){var n=this.options;n.dataSource.sort([{fieldName:n.grouping.key}],n.grouping.dir)},_groups:function(n){var f,r,t,e,u,o=this.options,s=o.grouping.key,i=[];for(n=n||o.dataSource.dataView(),u=0,e=n.length;u<e;u++){if(t=n[u],t[s]===undefined)throw new Error(this._getLocaleValue("errorIncorrectGroupingKey"));r=t[s],f===r?i[i.length-1].members.push(t):(f=r,i[i.length]={name:r,members:[t]})}return i},_itemMarkup:function(t){var r=this.css,e=this._unwrapData(this._unwrapData(t)[this.options.valueKey]),u=this._itemInnerMarkup(t),i,f;return f=n.ig.encode(e),i='<li class="'+r.listItem+'" data-value="'+f+'" unselectable="on">',i+=this._checkBoxesEnabled()?this._options.checkboxItemTemplate.replace("{css.checkbox}",r.checkbox).replace("{css.checkboxOff}",r.checkboxOff).replace("{css.listItemTextWithCheckbox}",r.listItemTextWithCheckbox).replace("{innerMarkup}",u):u,i+="<\/li>"},_itemsMarkup:function(){for(var i=this.options.dataSource.dataView(),r=this._itemsToRenderCount(),t="",n=0;n<r;n++)t+=this._itemMarkup(i[n]);return t},_groupHeaderMarkup:function(n){return'<li class="'+this.css.groupHeader+'">'+n+"<\/li>"},_groupMarkup:function(n){for(var i=n.members,r="",t=0,u=i.length;t<u;t++)r+=this._itemMarkup(i[t]);return this._groupHeaderMarkup(n.name)+r},_groupsMarkup:function(){var i,u,n,t,r=this._itemsToRenderCount(),f=1,e="";if(this._sortDataSource(),t=this.options.dataSource.dataView(),this.options.virtualization&&!this._options.cachedGroupLength&&(this._options.cachedGroupLength=this._groups(t).length),t=t.slice(0,r),i=this._groups(t),this._isPossibleToVirtualize()){for(n=0;n<r;n++)this._isBoundaryOfGroups(t,n)&&(f++,n++);t=t.slice(0,r-f),i=this._groups(t)}for(n=0,u=i.length;n<u;n++)e+=this._groupMarkup(i[n]);return e},_noMatchMarkup:function(){return'<li unselectable="on" class="'+this.css.noMatchFound+" "+this.css.unselectable+'" data-localeid="noMatchFoundText">'+this._getLocaleValue("noMatchFoundText")+"<\/li>"},_renderItems:function(t,i,r){var e,o,h,c,u=this.options,f=this._options,s=this.options.loadOnDemandSettings,l=r.dataView(),a=this._itemsToRenderCount();t!==null&&this._triggerDataBound(t,i),this._convertToArrayOfObjects(u),!u.dataSource.settings.schema&&u.dataSource&&l.length>0&&(h=this._initSchema(this._unwrapData(l)[0]),u.dataSource.settings.schema=h,u.dataSource._initSchema()),c=this._triggerItemsRendering(),c&&(e=a>0?u.grouping.key?this._groupsMarkup():this._itemsMarkup():this._noMatchMarkup(),f.$dropDownList.html(e),a>0&&this._setListContMaxHeight(),u.virtualization&&(o=r.totalLocalRecordsCount()*this._itemHeight(),f.$dropDownScroll.height(o),f.$dropDownScrollCont.width(n.ig.util.getScrollWidth()+1),this._updateVirtualScrollVisibility(),s&&s.enabled&&s.pageSize<=u.visibleItemsCount&&(f.$dropDownScroll.height(o+this._itemHeight()),f.$dropDownScrollCont.removeClass(this.css.hidden))),this._updateFooterVariables(),f.initialDataBinding&&(this._handleInitialSelection(),f.initialDataBinding=!1),this._triggerItemsRendered())},_handleRemoteFiltering:function(n,t,i){var e,f,r=this._options,u=r.remoteFilteringTriggerEvt;this._renderItems(n,t,i),this.positionDropDown(),e=this._$items(),f=r.selectedData,r.selectedData=[],this._selectData(f,{focusCombo:!0,keepFiltering:!0,keepInputText:!0,keepNavItem:!0}),this._updateSelection(u),this._updateAutoComplete(),r.keyNavItemData&&!this._isDataSelected(r.keyNavItemData)&&this._setKeyNavigationItem({data:r.keyNavItemData,addStyles:!0,resetDataOnNonFound:!0}),r.updateInputValuesOnRemoteFilter&&(this._updateInputValues(),this._updateHighlighting(),r.updateInputValuesOnRemoteFilter=!1),r.inputVal?this._showClearButton():this._hideClearButton(),this._updateFooterVariables(),r.validator&&r.validator._validateInternal(this.element,u),u&&(this._triggerFiltered(u),r.remoteFilteringTriggerEvt=null)},_handleLocalFilteringWithVirt:function(n){var r,t,i=this._options;this._renderItems(null,null,n),this.positionDropDown(),r=this._$items(),t=i.selectedData,i.selectedData=[],this._selectData(t,{focusCombo:!0,keepFiltering:!0,keepInputText:!0}),this._updateHighlighting()},_handleLoadOnDemand:function(n,t,i){var f,u,r=this._options;this._renderItems(n,t,i),this.positionDropDown(),f=this._$items(),u=r.selectedData,r.selectedData=[],this._selectData(u,{focusCombo:!0,keepFiltering:!0,keepInputText:!0,keepScrollPosition:!0}),this._updateHighlighting(),this.options.multiSelection.enabled&&r.keyNavItemData&&!this._isDataSelected(r.keyNavItemData)&&this._setKeyNavigationItem({data:r.keyNavItemData,addStyles:!0}),this.options.filteringType!=="remote"&&r.expression&&this._updateFiltering(),this._updateFooterVariables()},_updateGroupHeader:function(n,t){return this.options.grouping.key&&this._isItem(n)&&this._setVisualStylesToGroupHeader(n),this._updateMarkupForGroupHeader(n,t),n.attr("data-value",null),this},_updateItem:function(n,t){var i,r,u=this._itemInnerMarkup(t);return this.options.grouping.key&&this._isGroupHeader(n)&&(this._setVisualStylesToItem(n),this._checkBoxesEnabled()&&n.html(this._options.checkboxItemTemplate.replace("{css.checkbox}",this.css.checkbox).replace("{css.checkboxOff}",this.css.checkboxOff).replace("{css.listItemTextWithCheckbox}",this.css.listItemTextWithCheckbox).replace("{innerMarkup}",""))),this._updateMarkupForItem(n,u),i=this._unwrapData(t),r=this._unwrapData(i[this.options.valueKey]),n.attr("data-value",r),this},_removePlaceholderOnEmptyTextVal:function(){var n=this._options,t=n.$input.attr("placeholder");n.inputVal===""&&n.selectedData.length>0&&(typeof t!=typeof undefined||t!==!1)&&n.$input.removeAttr("placeholder")},_addPlaceholderWhenEmptyTextVal:function(){var n=this._options,t=n.$input.attr("placeholder");n.inputVal===""&&n.selectedData.length===0&&(typeof t==typeof undefined||t===!1)&&n.$input.attr({placeholder:this.options.placeHolder,"data-localeid":"placeHolder","data-localeattr":"placeholder"})},_convertToArrayOfObjects:function(t){var u,f,r,i;if(i=n.type(t.dataSource)==="object"&&t.dataSource._data!==null&&t.dataSource._data!==undefined?t.dataSource._data:t.dataSource,n.type(i)==="array"&&(n.type(i[0])==="number"||n.type(i[0])==="string"||n.type(i[0])==="date"))for(r=0,f=i.length;r<f;r++)u=i[r],i[r]={},i[r][t.textKey]=u,i[r][t.valueKey]=u},_isGroupHeader:function(n){return n.hasClass(this.css.groupHeader)},_isItem:function(n){return n.hasClass(this.css.listItem)},_setVisualStylesToGroupHeader:function(n){n.removeClass(this.css.listItem),n.addClass(this.css.groupHeader)},_setVisualStylesToItem:function(n){n.removeClass(this.css.groupHeader),n.addClass(this.css.listItem)},_updateMarkupForGroupHeader:function(n,t){this.options.grouping.key&&t[this.options.grouping.key]!==undefined&&n.html(t[this.options.grouping.key])},_updateMarkupForItem:function(n,t){this._checkBoxesEnabled()?n.find("."+this.css.listItemTextWithCheckbox).html(t):n.html(t)},_$items:function(n){var t="."+this.css.listItem.split(" ",1)[0];return this.options.grouping.key&&n&&(t+=",."+this.css.groupHeader.split(" ",1)[0]),this._options.$dropDownList.children(t)},_$noMatchFoundItem:function(){var n="."+this.css.noMatchFound;return this._options.$dropDownList.children(n)},_$filteredItems:function(){return this._$items().not("."+this.css.hidden)},_$elementFromData:function(t,i){var r,u,f,o=this.options.valueKey,e=[];for(i=i||this._$items(),n.type(t)!=="array"&&(t=[t]),u=0,f=t.length;u<f;u++)r=t[u],r!==null&&r!==undefined&&e.push(r[o]);return this._$elementFromValue(e,i)},_$elementFromValue:function(t,i){var r,u,f=n();for(i=i||this._$items(),n.type(t)!=="array"&&(t=[t]),r=0;r<t.length;r++)u=t[r],t[r]&&(u=n.ig.util.escapeStr(t[r].toString())),f=f.add(i.filter("[ data-value='"+u+"' ]"));return f},_$elementsFromItems:function(t){var i,r=n();for(n.type(t)!=="array"&&(t=[t]),i=0;i<t.length;i++)r=r.add(t[i].element);return r},_$selectedItems:function(){for(var r=this.selectedItems(),i=n(),u=r.length,t=0;t<u;t++)i=i.add(r[t].element);return i},_isDataEqual:function(n,t){var i,r;return n!==null&&n!==undefined&&t!==null&&t!==undefined?(i=this._unwrapData(this._unwrapData(n)[this.options.valueKey]),r=this._unwrapData(this._unwrapData(t)[this.options.valueKey]),i===r):!1},_isDataSelected:function(n){return this.isValueSelected(n[this.options.valueKey])},_filterData:function(t,i){var r,u=this;return n.type(t)!=="array"&&(t=[t]),n.type(i)!=="array"&&(i=[i]),r=i.length,t.filter(function(n){for(var t=0;t<r;t++)if(u._isDataEqual(n,i[t]))return!1;return!0})},_filterItems:function(n,t){var r,u=this.options.valueKey,i=this;return r=n.filter(function(n){var r,e,o,s,h,f=!1;for(e=i._unwrapData(n.data),o=i._unwrapData(e[u]),r=0;r<t.length&&!f;r++)s=i._unwrapData(t[r].data),h=i._unwrapData(s[u]),o===h&&(f=!0);return!f})},_valuesFromData:function(n){for(var i,r,f=n.length,e=this.options.valueKey,u=[],t=0;t<f;t++)i=this._unwrapData(n[t]),r=this._unwrapData(i[e]),u.push(r);return u},_valuesFromElements:function(n){for(var i=[],t=0;t<n.length;t++)i.push(n.eq(t).attr("data-value"));return i},_valuesFromItems:function(t){var i,r,u,f=[],e=this.options.valueKey;if(t){for(n.type(t)!=="array"&&(t=[t]),i=0;i<t.length;i++)r=this._unwrapData(t[i].data),u=this._unwrapData(r[e]),f.push(u);return f}},_dataFromItems:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t].data);return i},_dataFromIndex:function(n){var t=this.options.dataSource.data();return t.length>n?t[n]:null},_dataForValues:function(t){var r,i,u,f=[];for(n.type(t)!=="array"&&(t=[t]),i=0,u=t.length;i<u;i++)r=this.dataForValue(t[i]),r!==null&&f.push(r);return f},_dataIndexByValue:function(n,t){for(var r,u,f=-1,e=t?this.options.dataSource.dataView():this.options.dataSource.data(),o=e.length,s=this.options.valueKey,i=0;i<o;i++)if(r=this._unwrapData(e[i]),u=this._unwrapData(r[s]),this._areValuesEqual(u,n)){f=i;break}return f},_itemsFromData:function(t){var i,f,r,e=this._$items(),u=[];for(n.type(t)!=="array"&&(t=[t]),r=0,f=t.length;r<f;r++)i=t[r],i!==null&&i!==undefined&&u.push({element:this._$elementFromData(i,e),data:i});return u.length>0?u:null},_$keyNavItem:function(){return this._$elementFromData(this._options.keyNavItemData)},_updateFooterVariables:function(){var n,r,t,i,u;this._options.hasFooterVariables&&(n=this.options.dataSource,r=n.dataView().length,t=n.data().length,i=Math.max(n.totalRecordsCount(),t),u=Math.max(i,parseInt(this._options.totalAll||0,10)),this._options.$footer.find("."+this.css.recordsView).html(r),this._options.$footer.find("."+this.css.recordsData).html(t),this._options.$footer.find("."+this.css.recordsServer).html(i),this._options.$footer.find("."+this.css.recordsServerTotal).html(u))},_moveCaretToInputEnd:function(t){var u,i=this._options.$input[0],r=this._options.$input.attr("readonly");document.activeElement!==i&&(!r||n.ig.util.isEdge||n.ig.util.isIE||this._options.$input.removeAttr("readonly"),this._safeFocusInput(t),typeof i.selectionStart!="number"||n.ig.util.isIE||n.ig.util.isEdge?typeof i.createTextRange!="undefined"&&n(i).is(":visible")&&!r&&(u=i.createTextRange(),u.collapse(!1),u.select()):i.selectionStart=!this._options.ltr&&this._options.selectedData.length>0?i.selectionEnd=this._options.selectedData[this._options.selectedData.length-1][this.options.textKey].length:i.selectionEnd=i.value.length,r&&this._options.$input.attr("readonly",r))},_refreshVisualStylesForItem:function(n,t){var i=this._isDataSelected(t);i?this._addItemSelectionStyles(n):this._removeItemSelectionStyles(n),this.options.multiSelection.enabled&&(this._isDataEqual(this._options.keyNavItemData,t)&&!i?n.addClass(this.css.itemInFocus):n.removeClass(this.css.itemInFocus))},_handleInitialSelection:function(){var i,o,s,u,t,r,h=this.options.initialSelectedItems,f=this.options.dataSource.data(),e=[],c=this.options.mode;if(n.type(h)==="array")for(t=0;t<h.length;t++)i=h[t],u=i.index,u>=0&&f.length>=u?r=f[u]:i.value!==undefined&&i.value!==null&&(r=this.dataForValue(i.value)),r&&e.indexOf(r)===-1&&e.push(r);if(this.element.is("select"))for(o=this.element.find("option"),s=o.filter(":selected"),t=0;t<s.length;t++)e.push(f[o.index(s.eq(t))]);this._selectFirstItemInNonEditableModes(c,e,f)},_selectFirstItemInNonEditableModes:function(n,t,i){(n!=="dropdown"||this.options.multiSelection.enabled)&&n!=="readonly"&&n!=="readonlylist"||t.length!==0||i[0]!==null&&i[0]!==undefined&&t.push(i[0]),t.length>0&&this._selectData(t,{additive:!0,keepScrollPosition:!0})},_checkBoxesEnabled:function(){return this.options.multiSelection.enabled&&this.options.multiSelection.showCheckboxes},_isPossibleToVirtualize:function(){return this.options.virtualization&&this.options.dataSource.dataView().length>this.options.visibleItemsCount},_areItemsLowerInVir:function(){return this.options.virtualization&&this.options.dataSource.dataView().length<=this.options.visibleItemsCount},_dropDownHeight:function(n,t){return n*t},_itemHeight:function(){return this._$items().first().outerHeight()},_isFilteringEnabled:function(){return this.options.filteringType!=="none"},_updateItems:function(n){var i,s,f,t,r,h=this,c=this.options,e=c.dataSource.dataView(),o=this._$items(!0),u=0;for(n=n>0?n:0,this._unhighlight(),i=0,f=0,s=o.length;i<s;i++)t=o.eq(i),u=f+n,r=e[u],r&&this.options.grouping.key&&(h._isBoundaryOfGroups(e,u)||h._isFirstItem(e,u))&&(this._updateGroupHeader(t,r)._refreshVisualStylesForItem(t,r[c.grouping.key]),i++,t=o.eq(i)),t&&this._updateItem(t,r)._refreshVisualStylesForItem(t,r),f++;this._updateHighlighting()},_isFirstItem:function(n,t){return n[t-1]?!1:!0},_isBoundaryOfGroups:function(n,t){return this.options.grouping.key&&n[t-1]&&n[t-1][this.options.grouping.key]!==n[t][this.options.grouping.key]?!0:!1},_toggleDropDownState:function(n){this._options.dropDownOpened?this.closeDropDown(null,n):this.openDropDown(null,this._focusInInputWhenUsingTouchDevice(),n)},_lastValAfterItemSep:function(){return this._options.inputVal.split(this.options.multiSelection.itemSeparator).pop()},_startsWith:function(n,t){return t!==""&&n.indexOf(t)===0},_endsPartialyWithItemSep:function(n){for(var r=this.options.multiSelection.itemSeparator,t=r.length,i=0;t>0&&!i;t--)n.endsWith(r.slice(0,t))&&(i=t);return i},_filterItemSeparator:function(n){return n.slice(0,n.length-this._endsPartialyWithItemSep(n))},_separatedInputTexts:function(){var n=this._options.inputVal.split(this.options.multiSelection.itemSeparator);return n[n.length-1]=this._filterItemSeparator(n[n.length-1]),n},_updateSelection:function(n){var y,p,f,t,w,e,h,o,b,k,c,a,i=this.options,r=this._options,s=r.inputVal,l=i.dataSource.data(),d=i.textKey,g=i.valueKey,u=[],v=i.multiSelection.enabled;for(i.filteringType==="remote"&&(l=this._filterData(r.cachedData,l).concat(l)),p=l.length,s=v?this._separatedInputTexts(s):[s],i.autoSelectFirstMatch&&(r.autoSelectedItemData=null),k=this._unwrapData(l),c=0,y=s.length;c<y;c++)for(f=s[c],o=!1,b=c===y-1,i.caseSensitive||(f=f.toLowerCase()),a=0;a<p&&!o;a++)t=this._unwrapData(k[a]),e=this._unwrapData(t[d]).toString(),w=this._unwrapData(t[g]),h=b&&!this.isValueSelected(w),i.caseSensitive||(e=e.toLowerCase()),i.autoSelectFirstMatch?this._startsWith(e,f)&&(v?(this._filterData(t,u).length===1&&(h?this._setKeyNavigationItem({data:t,addStyles:!0,clearPrevItem:!0,scrollToItem:!0}):this._selectData(t,{additive:!0,focusCombo:!0,keepInputText:!0,keepHighlighting:!0,keepFiltering:!0},n),o=!0,e!==f&&(r.autoSelectedItemData=t)),h||u.push(t)):(this._selectData(t,{focusCombo:!0,keepInputText:!0,keepHighlighting:!0,keepFiltering:!0},n),r.autoSelectedItemData=t,o=!0,u.push(t))):e===f&&(v?(this._filterData(t,u).length===1&&(h?this._setKeyNavigationItem({data:t,addStyles:!0,clearPrevItem:!0,scrollToItem:!0}):this._selectData(t,{additive:!0,focusCombo:!0,keepInputText:!0,keepHighlighting:!0,keepFiltering:!0},n),o=!0),h||u.push(t)):(this._selectData(t,{additive:!0,focusCombo:!0,keepInputText:!0,keepHighlighting:!0,keepFiltering:!0},n),o=!0,u.push(t)));this._deselectData(this._filterData(r.selectedData,u),{focusCombo:!0,keepInputText:!0},n),v&&r.inputVal.endsWith(i.multiSelection.itemSeparator)&&this._updateInputValues(!1),this._updateHighlighting()},_updateAutoComplete:function(){var n,i,f,s,e,r=this.options,t=this._options,u=t.inputVal,h=r.dataSource.data(),l=h.length,o=r.textKey,c=r.multiSelection.enabled;if(u=c?this._options.inputVal.split(r.multiSelection.itemSeparator):[u],u.length>this._fullySelectedItemsLen()){if(n=u[u.length-1],c&&this._endsPartialyWithItemSep(n))return;if(r.caseSensitive||(n=n.toLowerCase()),t.autoSelectedItemData)t.autoCompleteItemData=t.autoSelectedItemData,this._autoComplete(t.autoCompleteItemData[o].toString().slice(n.length));else for(e=0;e<l;e++)if(s=this._unwrapData(h),i=this._unwrapData(s[e]),f=this._unwrapData(i[o]).toString(),r.caseSensitive||(f=f.toLowerCase()),!(i!==t.autoSelectedItemData&&this._isDataSelected(i))&&this._startsWith(f,n)){t.autoCompleteItemData=i,this._autoComplete(this._unwrapData(i[o]).toString().slice(n.length));break}}},_autoComplete:function(n){var t,i;this.options.autoComplete&&this._options.composition.isAutocompleteNeeded()&&(t=this._options.inputVal,i=t+n,this._options.composition.autocompleteText=n,this._options.composition.inputVal=t,this._options.$input.val(i),this._setInputSelection(t.length,i.length))},_setInputSelection:function(n,t){var r,i=this._options.$input[0];i.createTextRange?(r=i.createTextRange(),r.collapse(!0),r.moveStart("character",n),r.moveEnd("character",t),r.select(),i.focus()):i.setSelectionRange?(i.focus(),i.setSelectionRange(n,t)):typeof i.selectionStart!="undefined"&&(i.selectionStart=n,i.selectionEnd=t,i.focus())},_hasInputSelection:function(){var n=this._options.$input[0],t=!1;return typeof n.selectionStart!="undefined"&&(t=n.selectionStart!==n.selectionEnd),t},_scrollToItem:function(n){var r,t,e,i,u,o,f=this._$elementFromData(n);this._options.dropDownOpened&&(f.length>0?(r=this._options.$dropDownListCont.height(),t=this._options.$dropDownListCont.igOffset().top,e=this.listScrollTop(),i=f.igOffset().top,u=f.outerHeight(),i>t&&i+u<r+t||this.listScrollTop(i+e+u-t-r)):this.options.virtualization&&(o=this._dataIndexByValue(n[this.options.valueKey]),this.listScrollTop((o-this.options.visibleItemsCount+2)*this._itemHeight())))},_scrollToLastSelItem:function(){this._options.keyNavItemData!==null?this._scrollToItem(this._options.keyNavItemData):this._options.selectedData.length>0&&this._scrollToItem(this._options.selectedData[this._options.selectedData.length-1])},_positionItemInVisibleArea:function(n){var u=this._options.$dropDownListCont,f=u.height(),t=u.igOffset().top,e=this.listScrollTop(),i=n.igOffset().top,r=n.outerHeight(!0);t>i&&this.listScrollTop(this._$items().filter(":visible").index(n)*r),i+r>f+t&&this.listScrollTop(i+r+e-f-t)},_setKeyNavigationItem:function(t){var i,u,r=t.data,f=t.addStyles,e=t.clearPrevItem,o=t.scrollToItem,s=t.resetDataOnNonFound;r instanceof n?(i=r,r=this.dataForValue(i.attr("data-value"))):i=this._$elementFromData(r),e&&(u=this._$elementFromData(this._options.keyNavItemData),u.length>0&&u.removeClass(this.css.itemInFocus)),f&&i.length>0&&i.addClass(this.css.itemInFocus),this._options.keyNavItemData=i.length===0&&s?null:r,o&&this._scrollToItem(r)},_navigateToItem:function(n,t,i,r,u){n.length!==0&&(this.options.multiSelection.enabled?this._setKeyNavigationItem({data:n,addStyles:t,clearPrevItem:i}):this.select(n,{focusCombo:!0,keepFiltering:!0,keepScrollPosition:u},r),this._positionItemInVisibleArea(n))},_prevVisibleItem:function(n){do n=n.prev();while(n.length>0&&(!n.is("."+this.css.listItem.split(" ",1)[0])||!n.is(":visible")));return n},_nextVisibleItem:function(n){do n=n.next();while(n.length>0&&(!n.is("."+this.css.listItem.split(" ",1)[0])||!n.is(":visible")));return n},_visibleItemByIndex:function(n){return this._$items().filter(":visible").eq(n)},_handleInputChange:function(n,t){var u=this.options,i=this._options,r=i.$input.val();(u.autoComplete&&t&&t.which===8&&i.hadInputSelectionOnKeydown&&(r=r.slice(0,r.length-1),i.$input.val(r)),u.autoComplete&&this._hasInputSelection())||r!==i.inputVal&&(this._setInputVal(r),u.filteringType==="remote"?this._updateFiltering(t):(u.filteringType==="local"&&(i.disableScroll=!0,this._updateFiltering(t),setTimeout(function(){i.disableScroll=!1},0)),r?this._showClearButton():this._hideClearButton(),this._updateSelection(t),this._updateAutoComplete(),i.validator&&i.validator._validateInternal(this.element,t)),n&&this.openDropDown(null,!1,t))},_handleShiftNavigation:function(n,t){var i=this._options,r=this._$keyNavItem();n.is(i.$itemsToSelectOnShiftUpDown)?(r.removeClass(this.css.itemInFocus),i.$itemsToSelectOnShiftUpDown=i.$itemsToSelectOnShiftUpDown.not(r)):(n.addClass(this.css.itemInFocus),i.$itemsToSelectOnShiftUpDown=i.$itemsToSelectOnShiftUpDown.add(n)),this._navigateToItem(n,!1,!1,t)},_handleShiftUp:function(t){var i=this._options;i.$itemsToSelectOnShiftUpDown.length>1&&(this.select(i.$itemsToSelectOnShiftUpDown,{additive:!0,focusCombo:!0,keepNavItem:!0,keepFiltering:!0},t),i.$itemsToSelectOnShiftUpDown.removeClass(this.css.itemInFocus)),i.$itemsToSelectOnShiftUpDown=n(),i.shiftDown=!1},_handleShiftClick:function(t){var i=this._options;i.$itemsToSelectOnShiftClick.length>1&&(this.select(i.$itemsToSelectOnShiftClick,{additive:!0,focusCombo:!0,keepNavItem:!0,keepFiltering:!0},t),i.$itemsToSelectOnShiftClick.removeClass(this.css.itemInFocus),this._setKeyNavigationItem({data:n(t.target),clearPrevItem:!0})),i.$itemsToSelectOnShiftClick=n()},_groupHeaderClass:function(){return"."+this.css.groupHeader.split(" ",1)[0]},_$groupHeaders:function(){return this._$items(!0).filter(this._groupHeaderClass())},_handleKeyNavigation:function(t){var s,u,l,y,p,b,w,h=this,r=this.options,i=this._options,k=this.options.loadOnDemandSettings,v=r.multiSelection.enabled,f=this._$keyNavItem(),e=this._$items().filter(":visible"),c=this.listScrollTop(),d=this.activeIndex(),a=this._itemHeight(),o=!1;t.keyCode===n.ui.keyCode.ESCAPE&&(r.multiSelection.enabled?this._lastValAfterItemSep().length===0?this.closeDropDown(null,t):(this._updateInputValues(),this.clearFiltering(t),this._unhighlight()):i.inputVal.length===0?this.closeDropDown(null,t):i.selectedData.length===0?(this._updateInputValues(),this.clearFiltering(t),this._unhighlight()):i.autoSelectedItemData?(this._deselectData(i.autoSelectedItemData,null,t),this.clearFiltering(t),this._unhighlight()):this.closeDropDown(null,t),t.preventDefault()),t.keyCode===n.ui.keyCode.DOWN&&(t.altKey||!i.dropDownOpened?this.openDropDown(null,!0,t):(s=f.length>0?this._nextVisibleItem(f):e.eq(0),t.shiftKey&&v&&i.dropDownOpened?this._handleShiftNavigation(s,t):this._navigateToItem(s,!0,!0,t),w=r.visibleItemsCount-1,r.grouping&&(w-=this._$groupHeaders().length),r.virtualization&&d>=w&&this.listScrollTop(c+a+1),r.virtualization&&k&&k.enabled&&this.activeIndex()+1===this.listItems().length&&this.listItems().length<r.visibleItemsCount&&h._callNextChunk(i.$dropDownListCont,h._itemHeight())),t.preventDefault()),t.keyCode===n.ui.keyCode.UP&&(i.dropDownOpened&&(t.altKey||f.length===0||this._isDataEqual(i.keyNavItemData,r.dataSource.dataView()[0])?this.closeDropDown(null,t):(s=this._prevVisibleItem(f),t.shiftKey&&v&&i.dropDownOpened?this._handleShiftNavigation(s,t):this._navigateToItem(s,!0,!0,t),r.virtualization&&d-1<0&&this.listScrollTop(c-a-1))),t.preventDefault()),(t.keyCode===n.ui.keyCode.ENTER||r.selectItemBySpaceKey&&t.keyCode===n.ui.keyCode.SPACE)&&(t.shiftKey&&i.$itemsToSelectOnShiftUpDown.length===1?(b=this._$elementFromData(i.selectedData[i.selectedData.length-1]),this.select(this._itemsBetweenTwoItems(f,b),{additive:!0})):(p=f.is(i.$autoSelectedItem),l=v&&(!r.multiSelection.addWithKeyModifier||t.ctrlKey||p),l&&this.isSelected(f)&&!p?this._deselectData(i.keyNavItemData,{focusCombo:!0},t):(y=l?!1:r.closeDropDownOnSelect,r.autoComplete&&f.length===0&&i.autoCompleteItemData?this._selectData(i.autoCompleteItemData,{additive:l,closeDropDown:y,focusCombo:!0},t):this._selectData(i.keyNavItemData,{additive:l,closeDropDown:y,focusCombo:!0},t))),(t.keyCode===n.ui.keyCode.ENTER&&r.preventSubmitOnEnter||t.keyCode===n.ui.keyCode.SPACE)&&t.preventDefault()),t.keyCode===n.ui.keyCode.HOME&&t.ctrlKey&&i.dropDownOpened&&(r.virtualization&&(this.listScrollTop(0),o=!0),o?this._options.scrollCallback=function(){h._navigateToItem(e.first(),!0,!0,t)}:this._navigateToItem(e.first(),!0,!0,t),t.preventDefault()),t.keyCode===n.ui.keyCode.END&&t.ctrlKey&&i.dropDownOpened&&(r.virtualization&&(this.listScrollTop(this.options.dataSource.totalLocalRecordsCount()*a),o=!0),o?this._options.scrollCallback=function(){h._navigateToItem(e.last(),!0,!0,t)}:this._navigateToItem(e.last(),!0,!0,t),t.preventDefault()),t.keyCode===n.ui.keyCode.PAGE_UP&&i.dropDownOpened&&(u=-r.visibleItemsCount+1,f.length>0&&(u+=e.index(f)),u<0&&(r.virtualization&&c>0&&(this.listScrollTop(c+a*u),o=!0),u=0),o?this._options.scrollCallback=function(){h._navigateToItem(e.eq(u),!0,!0,t,!0)}:this._navigateToItem(e.eq(u),!0,!0,t,!0),t.preventDefault()),t.keyCode===n.ui.keyCode.PAGE_DOWN&&i.dropDownOpened&&(u=r.visibleItemsCount-1,f.length>0&&(u+=e.index(f)),u>e.length-1&&(r.virtualization&&(u-=r.visibleItemsCount-1,this.listScrollTop(c+a*u),o=c<this.listScrollTop()),u=e.length-1),o?this._options.scrollCallback=function(){h._navigateToItem(e.eq(u),!0,!0,t)}:this._navigateToItem(e.eq(u),!0,!0,t),t.preventDefault()),t.keyCode===i.shiftKeyCode&&v&&i.dropDownOpened&&!i.shiftDown&&(i.shiftDown=!0,i.$itemsToSelectOnShiftUpDown=f,f.addClass(this.css.itemInFocus))},_dropDownContHeight:function(){var n=this._options,t=parseInt(n.$dropDownListCont.outerHeight(!0),10);return n.$header!==undefined&&(t+=n.$header.outerHeight(!0)),n.$footer!==undefined&&(t+=n.$footer.outerHeight(!0)),t},_itemsBetweenTwoItems:function(t,i){var r,u,e,o=this._$items(),f=n();for(r=o.index(t),u=o.index(i),r>u&&(e=r,r=u,u=e);r<=u;r++)f=f.add(this._visibleItemByIndex(r));return f},_safeFocusInput:function(n){var t=this._options.$input,i=t[0];this._options.preventDropDownOnFocus=!0,this._options.preventItemSeparatorOnFocus=n,t.is(":focus")?t.focus():i.focus()},_windowResize:function(){this.positionDropDown()},_documentMouseUp:function(){var t=this._options;t.$itemsToSelectOnShiftClick.length>0&&(t.$itemsToSelectOnShiftClick=n()),t.mouseDownStartedFromListItem=!1},_inputFocus:function(n){var t=this.options.mode;this.options.disabled||((t==="editable"||t==="dropdown")&&this._options.$combo.addClass(this.css.active),t==="editable"&&(this._options.preventItemSeparatorOnFocus?this._options.preventItemSeparatorOnFocus=!1:this._addItemSeparatorToEnd()),t==="editable"&&this.options.dropDownOnFocus&&(this._options.preventDropDownOnFocus?this._options.preventDropDownOnFocus=!1:this.openDropDown(null,!0,n)))},_inputBlur:function(t){var i=this._options,r=n(document.activeElement);this.options.disabled||((r.is(i.$dropDownListCont)||r.is(i.$dropDownBtnIcon)||r.is(i.$clearIcon))&&(i.preventInputBlur=!0,this._safeFocusInput(!0)),i.preventInputBlur?i.preventInputBlur=!1:((this.options.mode==="editable"||this.options.mode==="dropdown")&&i.$combo.removeClass(this.css.active),this.options.mode==="editable"&&(this._removeItemSeparatorFromEnd(),i.selectedData.length!==0||this.options.allowCustomValue||(this._setInputVal(""),i.$input.val(""))),this.options.closeDropDownOnBlur&&(i.closingDropDownOnBlur=!0,this.closeDropDown(null,t)),i.validator&&i.validator._validateInternal(this.element,t,!0)))},_inputClick:function(n){this.options.disabled||(this.options.mode==="dropdown"||this.options.mode==="readonlylist")&&this._toggleDropDownState(n)},_inputKeyDown:function(n){this.options.disabled||(this.options.mode==="editable"||this.options.mode==="dropdown")&&(this._handleKeyNavigation(n),this.options.autoComplete&&(this._options.hadInputSelectionOnKeydown=this._hasInputSelection()))},_inputPaste:function(n){var t=this;this.options.disabled||this.options.mode==="editable"&&setTimeout(function(){t._handleInputChange(!t._options.dropDownOpened,n)},0)},_handleDropDownModeKeypress:function(n){var u,r,l,e,o,f,i=this.options,t=this._options,s=String.fromCharCode(n.which),h=i.dataSource.dataView(),c=h.length,a=i.textKey;for(clearTimeout(t.dropDownModeSearchByResetTimeout),t.dropDownModeSearchBy!==s&&(t.dropDownModeSearchBy+=s),e=i.multiSelection.enabled?t.keyNavItemData:t.selectedData.length?t.selectedData[t.selectedData.length-1][i.valueKey]:0,o=this._dataIndexByValue(e,!0),t.dropDownModeSearchBy.length===1&&(o+=1),f=0;f<c;f++)if(r=this._unwrapData(h[(f+o)%c]),r&&(u=this._unwrapData(r[a]),i.caseSensitive||(u=u.toLowerCase(),t.dropDownModeSearchBy=t.dropDownModeSearchBy.toLowerCase()),u.startsWith(t.dropDownModeSearchBy))){i.multiSelection.enabled?this._setKeyNavigationItem({data:r,addStyles:!0,clearPrevItem:!0}):this._selectData(r,{},n);break}l!==undefined&&(i.multiSelection.enabled?this._scrollToItem(t.keyNavItemData):this._scrollToLastSelItem()),t.dropDownModeSearchByResetTimeout=setTimeout(function(){t.dropDownModeSearchBy=""},t.dropDownModeSearchByResetDelay)},_inputKeyPress:function(n){this.options.disabled||this.options.mode==="dropdown"&&this._handleDropDownModeKeypress(n)},_inputKeyUp:function(n){var t=this;this.options.disabled||(this.options.mode==="editable"&&(clearTimeout(this._options.keyUpTimeout),this._options.autoCompleteItemData=null,this._options.keyUpTimeout=setTimeout(function(){t._handleInputChange(!t._options.dropDownOpened,n)},this.options.delayInputChangeProcessing)),(this.options.mode==="editable"||this.options.mode==="dropdown")&&n.keyCode===this._options.shiftKeyCode&&this.options.multiSelection.enabled&&this._handleShiftUp(n))},_inputMouseDown:function(n){this.options.disabled||this._options.$input.is(":focus")||(this._options.$input.focus(),this._moveCaretToInputEnd(!0),n.preventDefault())},_inputCompositionUpdate:function(){this._options.composition.isConfirmationNeeded=!0},_inputCompositionEnd:function(){n.ig.util.isFF||(this._options.composition.isCompositionEndFired=!0,this._options.composition.isConfirmationNeeded&&(this._options.composition.isConfirmationNeeded=!1,(n.ig.util.isIE||n.ig.util.isEdge)&&this._inputInputHandler(),this._updateAutoComplete()))},_inputInputHandler:function(){this._options.composition.handleInput()},_initCompositionObject:function(){var t=this;this._options.composition={isCompositionEndFired:!1,isConfirmationNeeded:!1,autocompleteText:"",isAutocompleteNeeded:function(){return n.ig.util.isFF||!this.isConfirmationNeeded},autocompleteAfterComposition:function(n,i){t._options.$input.val(n),t._setInputSelection(i.length,n.length)},handleInput:function(){var r,u,i,f=this;n.ig.util.isSafari&&this.isCompositionEndFired&&this.autoCompleteText&&(r=t._options.$input.val(),i=n.ig.util.isOpera?r:r.slice(0,-r.length/2),i.length===this.inputVal.length-1&&i===this.inputVal.slice(0,-1)&&(i=this.inputVal),u=i+this.autocompleteText,n.ig.util.isSafari?setTimeout(function(){f.autocompleteAfterComposition(u,i)},0):this.autocompleteAfterComposition(u,i)),this.isCompositionEndFired=!1,this.autocompleteText=""}}},_attachEvents:function(){var e,r=this,u=this.css,t=this.options,i=this._options,f=this._handlers;i.$window.on({resize:f.windowResize});n(document).on({mouseup:f.documentMouseUp});i.$combo.on({mouseenter:function(){t.disabled||t.mode!=="readonly"&&i.$combo.addClass(u.hover)},mouseleave:function(){t.disabled||(i.$combo.removeClass(u.hover),(t.mode==="editable"||t.mode==="dropdown")&&i.$input.is(":focus")||i.$combo.removeClass(u.active))},mousedown:function(){t.disabled||t.mode!=="readonly"&&i.$combo.addClass(u.active)},mouseup:function(){t.disabled||t.mode==="readonlylist"&&i.$combo.removeClass(u.active)}});i.$dropDownBtnCont.on({mouseenter:function(){t.disabled||t.mode!=="readonly"&&i.$dropDownBtnCont.addClass(u.hover)},mouseleave:function(){t.disabled||t.mode!=="readonly"&&i.$dropDownBtnCont.removeClass(u.hover)},mousedown:function(n){t.disabled||n.preventDefault()},click:function(f){if(!t.disabled&&(r._$items().length>0||i.$dropDownListCont.find("."+u.noMatchFound).length>0)){if(t.mode!=="readonly")if(i.dropDownOpened)r.closeDropDown(null,f);else{if(r.options.suppressKeyboard&&n.ig.util.isTouchDevice()){f.stopPropagation(),r._options.$input.is(":focus")&&r._options.$input.blur(),r.openDropDown(null,!1,f);return}r.openDropDown(null,r._focusInInputWhenUsingTouchDevice(),f)}f.stopPropagation()}}});i.$clearCont.on({mouseenter:function(){t.disabled||t.mode!=="readonly"&&i.$clearCont.addClass(u.clearHover)},mouseleave:function(){t.disabled||t.mode!=="readonly"&&i.$clearCont.removeClass(u.clearHover)},mousedown:function(n){t.disabled||n.preventDefault()},click:function(n){t.disabled||i.dataBinding||(t.mode==="editable"||t.mode==="dropdown")&&(r._hideClearButton(),r.clearInput({focusCombo:!0},n),r._focusInInputWhenUsingTouchDevice()&&r._moveCaretToInputEnd(!0))}});i.$input.on({focus:f.inputFocus,blur:f.inputBlur,click:f.inputClick,keydown:f.inputKeyDown,paste:f.inputPaste,keyup:f.inputKeyUp,keypress:f.inputKeyPress,mousedown:f.inputMouseDown,compositionupdate:f.inputCompositionUpdate,compositionend:f.inputCompositionEnd,input:f.inputInput});i.$dropDownListCont.on({mouseenter:function(){var f,e;t.disabled||(t.mode==="editable"||t.mode==="dropdown")&&(f=n(this),i.$itemsToSelectOnShiftClick.length>0?(e=i.$itemsToSelectOnShiftClick,i.$itemsToSelectOnShiftClick=r._itemsBetweenTwoItems(r._$keyNavItem(),f),e.not(i.$itemsToSelectOnShiftClick).removeClass(u.itemInFocus),i.$itemsToSelectOnShiftClick.addClass(u.itemInFocus)):(f.addClass(u.hover),i.mouseDownStartedFromListItem&&f.addClass(u.itemInFocus)))},mouseleave:function(){var f;t.disabled||(t.mode==="editable"||t.mode==="dropdown")&&(f=n(this),f.removeClass(u.hover),f.is(r._$keyNavItem())||f.is(i.$itemsToSelectOnShiftUpDown)||f.removeClass(u.itemInFocus),i.$itemsToSelectOnShiftClick.length>0&&i.$itemsToSelectOnShiftClick.removeClass(u.itemInFocus))},mousedown:function(f){var o,e;t.disabled||(t.mode==="editable"||t.mode==="dropdown")&&f.which===1&&(o=n(this),e=r._$keyNavItem(),f.shiftKey&&t.multiSelection.enabled?(e.length===0&&(e=r._$items().filter(":visible").eq(0),r._setKeyNavigationItem({data:e,addStyles:!0})),i.$itemsToSelectOnShiftClick=r._itemsBetweenTwoItems(o,e),i.$itemsToSelectOnShiftClick.addClass(u.itemInFocus)):o.addClass(u.itemInFocus),i.mouseDownStartedFromListItem=!0)},mouseup:function(f){var e,o,s,h=t.suppressKeyboard&&n.ig.util.isTouchDevice();t.disabled||(t.mode==="editable"||t.mode==="dropdown")&&i.mouseDownStartedFromListItem&&f.which===1&&(e=n(this),f.shiftKey&&t.multiSelection.enabled?r._handleShiftClick(f):(o=t.multiSelection.enabled&&(!t.multiSelection.addWithKeyModifier||f.ctrlKey),s=o?!1:t.closeDropDownOnSelect,o&&r.isSelected(e)&&!r._$keyNavItem().is(i.$autoSelectedItem)?r.deselect(e,{focusCombo:!h},f):r.select(e,{additive:o,closeDropDown:s,focusCombo:!h},f)),e.removeClass(u.itemInFocus))}},"."+u.listItem.split(" ",1)[0]);i.$dropDownListCont.on({mousedown:function(n){t.disabled||n.preventDefault()},scroll:function(){t.disabled||(i.$loading.css({top:r.listScrollTop()}),i.dataBinding||i.disableScroll||r._callNextChunk(i.$dropDownListCont,r._itemHeight()))}});i.$dropDownCont.on({mousedown:function(n){n.preventDefault()}},"."+u.header+", ."+u.footer);if(i.$dropDownScrollCont){i.$dropDownScrollCont.on("scroll",function(){t.disabled||(r._scrollVirtualization(n(this)),i.scrollCallback&&(i.scrollCallback(),i.scrollCallback=null))});i.$dropDownListCont.on("mousewheel DOMMouseScroll",function(n){var i=r.listScrollTop(),u=r._itemHeight();if(!t.disabled)return n.originalEvent.wheelDelta>0||n.originalEvent.detail<0?r.listScrollTop(i-u):r.listScrollTop(i+u),t.virtualization?!1:void 0});i.$dropDownListCont.on("touchmove",function(n){var i=n.originalEvent.touches[0].clientY,u=r.listScrollTop(),f=r._itemHeight();if(!t.disabled)return i<e?r.listScrollTop(u+f):i>e&&r.listScrollTop(u-f),e=i,t.virtualization?!1:void 0})}},_scrollVirtualization:function(n){var r,u,f,t=this.options,e=this,i=this._options;t.virtualization&&!i.dataBinding&&(t.filteringType==="local"&&i.inputVal!==""&&i.expression!==undefined&&i.expression!==null&&t.dataSource.filter(i.expression,t.filteringLogic,!0),r=this._itemHeight(),u=this._offsetItems(t.dataSource.dataView(),r),this._updateItems(u),t.dataSource.settings.callback=function(n,t,u){f=u.totalLocalRecordsCount()*r,i.$dropDownScroll.height(f),e._updateFooterVariables()},this._callNextChunk(n,r))},_offsetItems:function(n,t){var i,r,u;return r=this.listScrollTop()/this._options.$dropDownScrollCont.prop("scrollHeight"),u=t/this._dropDownHeight(t,n.length),i=this._calculateOffset(r,u)},_calculateOffset:function(n,t){var i,r,u,f=this.options.dataSource.dataView().length,e=this.options.visibleItemsCount;return(i=n/t,r=Math.ceil(i),e+r>f)?u=Math.floor(i):r},_callNextChunk:function(n,t){var i=this._options.deltaItemsForLoadOnDemand*t;this.listScrollTop()+n.innerHeight()+i>=n.prop("scrollHeight")&&this._nextChunk()},_disableCombo:function(n){this._options.$comboWrapper.toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!n).attr("aria-disabled",n),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"),n?(this._options.$input.attr("disabled",!0),this._options.$hiddenInput.attr("disabled",!0)):(this._options.$input.removeAttr("disabled"),this._options.$hiddenInput.removeAttr("disabled"))},changeLocale:function(){this._super();var n=this._options.$noMatchFound;n&&n.length&&this._changeLocaleForElement(n)},changeRegional:function(){this.dataBind()},_setOption:function(t,i){var u=this.options,r=this._options;if(u[t]!==i){if(t==="dropDownAttachedToBody"||t==="virtualization"||t==="mode"||t==="format")throw new Error(this._getLocaleValue("notSuported"));t==="multiSelection"&&(i=n.extend(!0,{},u.multiSelection,i)),t==="loadOnDemandSettings"&&(i=n.extend(!0,{},u.loadOnDemandSettings,i)),t==="disabled"&&this._disableCombo(i),t==="grouping"&&(i=n.extend(!0,{},u.grouping,i)),this._super(t,i),this._analyzeOptions();switch(t){case"enableClearButton":r.inputVal&&(i===!0?this._showClearButton(!0):this._hideClearButton());break;case"width":r.$comboWrapper.outerWidth(i);break;case"height":r.$comboWrapper.outerHeight(i);break;case"headerTemplate":this._renderHeaderTemplate(this.css,this.options,r.$dropDownCont);break;case"footerTemplate":this._renderFooterTemplate(this.css,this.options,r.$dropDownCont,this),this._updateFooterVariables();break;case"dropDownWidth":this.positionDropDown();break;case"itemTemplate":this._renderItems(null,null,this.options.dataSource);break;case"inputName":r.$hiddenInput.attr("name",i);break;case"visibleItemsCount":this._setListContMaxHeight();break;case"multiSelection":this._selectData(this._options.selectedData[0]),this._renderItems(null,null,this.options.dataSource),this.clearInput();break;case"tabIndex":this._options.$input.attr("tabIndex",i);break;case"validatorOptions":this._options.validator?this.element.igValidator(this.options.validatorOptions):this.validator();break;case"dataSource":case"dataSourceType":case"dataSourceUrl":case"responseTotalRecCountKey":case"responseDataKey":case"responseDataType":case"responseContentType":case"requestType":case"filteringType":case"filterExprUrlKey":case"filteringCondition":case"filteringLogic":case"loadOnDemandSettings":case"grouping":this.dataBind();break;case"valueKey":case"textKey":this._updateItems()}}},_initDataSource:function(){var f,e,s,i=this,r=this.options.loadOnDemandSettings,t=this.options,h=n.type(t.dataSource)==="string",u=t.dataSourceUrl,o;!t.dataSource&&this.element.is("select")?(t.dataSource=this.element[0],e=this._initSelectSchema()):!t.dataSource&&u&&(t.dataSource=u,h=!0),n.type(t.dataSource)==="function"&&(t.dataSource=t.dataSource()),t.dataSource&&this._isInstanceOfDataSource(t.dataSource)||(this._convertToArrayOfObjects(t),!e&&t.dataSource&&(n.isArray(t.dataSource)||n.isFunction(t.dataSource))&&(e=this._initSchema(this._unwrapData(t.dataSource)[0])),f={callback:this._renderItems,callee:this,dataSource:t.dataSource,type:t.dataSourceType||undefined,requestType:t.requestType||"GET",responseContentType:t.responseContentType||null,responseDataType:t.responseDataType||null,responseDataKey:t.responseDataKey||null,responseTotalRecCountKey:t.responseTotalRecCountKey||null,localSchemaTransform:!1,schema:e||null,dataBinding:function(){i._options.dropDownOpened&&!i._options.dataBinding&&(i._options.dataBinding=!0,i._options.$loading.insertBefore(i._options.$dropDownList))},dataBound:function(){i._options.$loading.remove(),i._options.dataBinding=!1}},r&&r.enabled&&(u||h)&&(s={enabled:!0,appendPage:!0,pageSize:r.pageSize,pageIndex:0,pageSizeUrlKey:r.pageSizeUrlKey||null,pageIndexUrlKey:r.pageIndexUrlKey||null},n.extend(f,{paging:s})),n.type(t.dataSource)==="string"&&!t.dataSourceType&&n.ig.util.isJsonpUrl(t.dataSource)?(this._options.strDataSource=t.dataSource,t.dataSource=new n.ig.JSONPDataSource(f)):t.dataSource=new n.ig.DataSource(f),u&&(t.dataSource.settings.dataSource=u,t.dataSource.settings.type="remoteUrl",t.dataSource._runtimeType=t.dataSource.analyzeDataSource(),t.dataSource.settings.urlParamsEncoded=n.proxy(function(n,i){i=i?i.filteringParams:null,i&&(i.textKey=t.textKey||t.valueKey,i.valueKey=t.valueKey,t.caseSensitive||(i.toLower="1"),t.compactData&&(i.compact="1"))},this)),o=function(n,t){return n===null||n===undefined||t&&typeof n=="number"&&isNaN(n)},t.dataSource._responseData=function(n){var r=n?n.length:0,u=r>0?n[r-1][":totals:"]:null;u&&(n.pop(),u=u.split(":"),t.dataSource.totalRecordsCount(o(r=parseInt(u[0],10),!0)?0:r),r=o(r=parseInt(u[1],10),!0)?0:r,r&&(i._options.totalAll=r))})},_isInstanceOfDataSource:function(n){return typeof n._xmlToArray=="function"&&typeof n._encodePkParams=="function"},_nextChunk:function(){var t=this.options.loadOnDemandSettings,n=this.options.dataSource;return t&&n&&t.enabled&&(n.settings.paging.appendPage=!0,this.options.virtualization||(this.options.dataSource.settings.callback=this._handleLoadOnDemand),n.nextPage()),this},_initSelectSchema:function(){var n={};return n.fields=[{name:this.options.valueKey,type:"string"},{name:this.options.textKey,type:"string"}],n},_initSchema:function(t){var i,r={fields:[]};for(i in t)t.hasOwnProperty(i)&&r.fields.push({name:i,type:n.type(t[i])});return r},_filteringCondition:function(){return this.options.autoComplete?"startsWith":this.options.filteringCondition},_generateExpressions:function(t){var i,r=[];if(n.type(t)==="string")(t.length>0||this._options.expression&&this._options.expression.length>0)&&(t.indexOf("ı")>-1&&!this.options.caseSensitive&&(t=t.replace("ı","ı|I"),t=new RegExp(t)),r.push({fieldName:this.options.textKey,expr:t,cond:this._filteringCondition()}));else if(n.type(t)==="array")for(i=0;i<t.length;i++)if(n.type(t[i])==="string")r.push({fieldName:this.options.textKey,expr:t[i],cond:this._filteringCondition(),logic:this.options.filteringLogic});else throw new Error(this._getLocaleValue("errorNoSupportedTextType"));else throw new Error(this._getLocaleValue("errorNoSupportedTextsType"));return r},_generateRegExpPattern:function(t){var i=null,r={multi:function(n){return"("+n.join("|")+")"},startsWith:function(n){return"^("+n.join("|")+")"},full:function(n){return"^"+n.join("|")+"$"},contains:function(n){return n.join("|")}};if(n.type(t)==="string"&&(t=[t]),t=n.grep(t,function(n){return n!==""}),t=n.map(t,function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),t.length>0)if(n.type(r[this.options.highlightMatchesMode])==="function")i=r[this.options.highlightMatchesMode](t);else throw new Error(this._getLocaleValue("errorUnrecognizedHighlightMatchesMode"));return i},_highlight:function(n){var t,r,u,o,s,h,c,i,f=this._$items(),l=this._options.highlightElement,a=this.css.listItemHighlighted,e=this.options.caseSensitive?"":"i";if(this.options.highlightMatchesMode!==null&&!this.options.itemTemplate&&(this.options.highlightMatchesMode!=="contains"&&(e+="g"),t=this._generateRegExpPattern(n),t))for(r=new RegExp(t,e),t.indexOf("ı")>-1&&!this.options.caseSensitive&&(t=t.replace("ı","ı|I"),r=new RegExp(t,e)),s=function(){return this.nodeType===3&&r.test(this.nodeValue)},h=function(){return(this.nodeValue||"").replace(r,function(n){return"<"+l+' class="'+a+'">'+n+"<\/"+l+">"})},i=0,c=f.length;i<c;i++)u=this._checkBoxesEnabled()?f.eq(i).children("."+this.css.listItemTextWithCheckbox).contents():f.eq(i).contents(),o=u.filter(s),o.replaceWith(h)},_unhighlight:function(){var n,t,r,u,i;if(this.options.highlightMatchesMode===null)return this;for(n=this._checkBoxesEnabled()?this._$items().children("."+this.css.listItemTextWithCheckbox).children("."+this.css.listItemHighlighted):this._$items().children("."+this.css.listItemHighlighted),i=0,u=n.length;i<u;i++)t=n.eq(i)[0],r=t.parentNode,r.replaceChild(t.firstChild,t),r.normalize()},_updateFiltering:function(n){var t=this._options.inputVal;this.options.multiSelection.enabled&&(t=this._endsPartialyWithItemSep(t)?"":this._lastValAfterItemSep()),this.filter(t,n)},_updateHighlighting:function(){var n=this._options.inputVal,i=this._fullySelectedItemsLen(),t=!1;this.options.multiSelection.enabled?this._separatedInputTexts(n).length===i?t=!0:n=this._lastValAfterItemSep(n):i===1&&(t=!0),this._unhighlight(),t||this._highlight(n)},_updateInputValues:function(n,t){var e,h,c,o,u=this.options,f=this._options,i="",r="",s=u.multiSelection.itemSeparator;for(t=t||this.selectedItems(),c=t?t.length:0,u.allowCustomValue&&!c&&(i=f.$input.val(),r=i),o=0;o<c;o++)h=this._unwrapData(t[o].data),e=this._unwrapData(h[u.textKey]),o!==0&&(f.ltr?(i+=s,r+=s):(i=s+i,r=s+r)),f.ltr?(e!==""&&(i+=this._formatItem(e)),r+=this._unwrapData(h[u.valueKey])):(e!==""&&(i=this._formatItem(e)+i),r=this._unwrapData(h[u.valueKey])+r);n||(u.multiSelection.enabled&&c>0&&u.mode==="editable"&&f.$input.is(":focus")&&(i+=s),f.$input.val(i),this._setInputVal(i),f.autoSelectedItemData=null),f.$hiddenInput.val(r)},_handleLocalFilteringWithGrouping:function(){for(var t,u=[],r=this,f=this._$groupHeaders(),o=function(t,i){return!n(i).hasClass(r.css.hidden)&&!n(i).hasClass(r.css.noMatchFound)},i=0,e=f.length;i<e;i++)t=n(f[i]),u=t.nextUntil(r._groupHeaderClass()).filter(o),u.length===0?t.addClass(this.css.hidden):t.removeClass(this.css.hidden)},_handleLocalFiltering:function(t){for(var u,c,f,l,r,a,v,s,i=this._options,w=this.options.valueKey,e=t.dataView().slice(),b=e.length,y=this._$items(),k=y.length,p=this._$keyNavItem(),h=this.css.hidden,o=0;o<k;o++){for(u=y.eq(o),c=u.attr("data-value"),f=!0,r=0,l=e.length;r<l&&f;r++)a=this._unwrapData(e[r]),v=this._unwrapData(a[w]),this._areValuesEqual(c,v)&&(f=!1,e.splice(r,1));f?u.addClass(h):u.removeClass(h)}this.options.grouping.key&&this._handleLocalFilteringWithGrouping(),p.length>0&&p.hasClass(h)&&this._setKeyNavigationItem({data:n(),clearPrevItem:!0}),b===0?(i.$noMatchFound||(s=this._$noMatchFoundItem(),i.$noMatchFound=s.length===0?n(this._noMatchMarkup()):s),i.$noMatchFound.parent().length===0&&i.$noMatchFound.appendTo(i.$dropDownList)):i.$noMatchFound&&i.$noMatchFound.parent().length>0&&i.$noMatchFound.detach()},_setInputVal:function(n){this._options.inputVal=n},_setListContMaxHeight:function(){this._options.$dropDownListCont.css("maxHeight",this.options.visibleItemsCount*this._itemHeight())},_updateVirtualScrollVisibility:function(){this._isPossibleToVirtualize()?this._options.$dropDownScrollCont.removeClass(this.css.hidden):this._areItemsLowerInVir()&&this._options.$dropDownScrollCont.addClass(this.css.hidden)},_addItemSelectionStyles:function(n){for(var t,i=0,r=n.length;i<r;i++)(t=n.eq(i),this._isGroupHeader(t))||(t.addClass(this.css.active),this._checkBoxesEnabled()&&t.find(".ui-igcombo-checkbox .ui-icon").removeClass(this.css.checkboxOff).addClass(this.css.checkboxOn))},_removeItemSelectionStyles:function(n){for(var i,t=0,r=n.length;t<r;t++)i=n.eq(t),i.removeClass(this.css.active),this._checkBoxesEnabled()&&i.find(".ui-igcombo-checkbox .ui-icon").removeClass(this.css.checkboxOn).addClass(this.css.checkboxOff)},_addItemSeparatorToEnd:function(){var t,n=this._options.inputVal,i=this.options.multiSelection.itemSeparator,r=this._separatedInputTexts(n),u=this._fullySelectedItemsLen();n.length>0&&this.options.multiSelection.enabled&&!n.endsWith(i)&&r.length===u&&(t=n+i,this._options.$input.val(t),this._setInputVal(t))},_removeItemSeparatorFromEnd:function(){var n,t=this._options.inputVal,i=this.options.multiSelection.itemSeparator;this.options.multiSelection.enabled&&t.endsWith(i)&&(n=t.slice(0,t.length-i.length),this._options.$input.val(n),this._setInputVal(n))},_callInternalSelChangeSubs:function(t){var r,i,u=this._options.internalSelChangeSubs;if(n.type(u)==="array")for(i=0;i<u.length;i++)r=u[i],typeof r=="function"&&r();this._options.validator&&this._options.validator._validateInternal(this.element,t)},_fullySelectedItemsLen:function(){var n=this._options.autoSelectedItemData===null?0:1;return this._options.selectedData.length-n},_unwrapData:function(n){return typeof n=="function"&&(n=n()),n},_dropDownOrientation:function(){var r,n=this._options,t=this.options.dropDownOrientation,u=n.$combo,i=u.igOffset(),f=i.top,o=parseInt(u.outerHeight(),10),e=this._dropDownContHeight(),s=n.$window.height(),h=i.documentScrollTop?i.documentScrollTop:n.$window.scrollTop();return r=parseInt(f+o+e,10),t==="auto"&&(t=r<s+h?"bottom":f-e>0?"top":"bottom"),t==="top"?n.$dropDownCont.hasClass(this.css.orientationBottom)&&n.$dropDownCont.removeClass(this.css.orientationBottom).addClass(this.css.orientationTop):n.$dropDownCont.hasClass(this.css.orientationTop)&&n.$dropDownCont.removeClass(this.css.orientationTop).addClass(this.css.orientationBottom),t},_startRepositionInterval:function(){var n=this;this._options.repositionInterval=setInterval(function(){n.positionDropDown()},200)},_clearRepositionInterval:function(){clearInterval(this._options.repositionInterval)},_areValuesEqual:function(t,i){return t!==null&&t!==undefined&&i!==null&&i!==undefined?n.ig.encode(t.toString())===n.ig.encode(i.toString()):!1},_isValueInArray:function(n,t){var i=0,r=t.length;for(n=n&&n.toString();i<r;i++)if(this._areValuesEqual(n,t[i]))return i;return-1},_focusInInputWhenUsingTouchDevice:function(){return!(n.ig.util.isTouchDevice()&&this.options.mode!=="editable")},_triggerItemsRendering:function(){var n={owner:this,dataSource:this.options.dataSource};return this._trigger(this.events.itemsRendering,null,n)},_triggerItemsRendered:function(){var n={owner:this,dataSource:this.options.dataSource};this._trigger(this.events.itemsRendered,null,n)},_triggerRendered:function(){var n={owner:this,element:this._options.$comboWrapper};this._trigger(this.events.rendered,null,n)},_triggerDataBinding:function(){var n={owner:this,dataSource:this.options.dataSource};return this._trigger(this.events.dataBinding,null,n)},_triggerDataBound:function(n,t){var i={owner:this,success:n,errorMessage:t,dataSource:this.options.dataSource};this._trigger(this.events.dataBound,null,i)},_triggerFiltering:function(n){var t={owner:this,expression:this._options.expression};return this._trigger(this.events.filtering,n,t)},_triggerFiltered:function(n){var t={owner:this,elements:this._$filteredItems()};this._trigger(this.events.filtered,n,t)},_triggerDropDownOpening:function(n){var t={owner:this,list:this._options.$dropDownCont};return this._trigger(this.events.dropDownOpening,n,t)},_triggerDropDownOpened:function(n){var t={owner:this,list:this._options.$dropDownCont};this._trigger(this.events.dropDownOpened,n,t)},_triggerDropDownClosing:function(n){var t={owner:this,list:this._options.$dropDownCont};return this._trigger(this.events.dropDownClosing,n,t)},_triggerDropDownClosed:function(n){var t={owner:this,list:this._options.$dropDownCont};this._trigger(this.events.dropDownClosed,n,t)},_triggerSelectionChanging:function(n,t,i){var r={owner:this,items:n,currentItems:t};return this._trigger(this.events.selectionChanging,i,r)},_triggerSelectionChanged:function(n,t,i){var r={owner:this,items:n,oldItems:t};this._trigger(this.events.selectionChanged,i,r)},dataBind:function(){var n;return this._initDataSource(),this._options.cachedData=[],n=this._triggerDataBinding(),n&&(this._options.initialDataBinding||(this.clearInput(),this._options.selectedData=[]),this.options.dataSource.dataBind(this._renderItems,this)),this},refreshValue:function(){this._updateInputValues(!0)},dataForValue:function(n){var r,u,f,e,t,h=this.options.valueKey,o=this._options.cachedData,i=!1,s=null;if(!this.options.dataSource||n===null||n===undefined)return null;for(r=this.options.dataSource.data(),t=0,e=r.length;t<e&&!i;t++)u=this._unwrapData(r[t]),f=this._unwrapData(u[h]),this._areValuesEqual(f,n)&&(s=r[t],i=!0);if(!i&&this.options.filteringType==="remote")for(t=0,e=o.length;t<e&&!i;t++)u=this._unwrapData(o[t]),f=this._unwrapData(u[h]),this._areValuesEqual(f,n)&&(s=o[t],i=!0);return s},dataForElement:function(t){return t instanceof n&&t.is(this._$items())?this.dataForValue(t.attr("data-value")):null},itemsFromElement:function(t){var i,r,u;if(!(t instanceof n&&t.is(this._$items())))return null;if(t.length===1)r={element:t,data:this.dataForElement(t)};else for(r=[],i=0;i<t.length;i++)u=t.eq(i),r.push({element:u,data:this.dataForElement(u)});return r},itemsFromValue:function(t){var i,r,f,o=this,e=this._$items(),u=null;if(n.type(t)==="array")for(t=n.grep(t,function(n,i){return o._isValueInArray(n,t)===i}),r=0,f=t.length;r<f;r++)i=this.dataForValue(t[r]),i&&(u||(u=[]),u.push({element:this._$elementFromValue(t[r],e),data:i}));else i=this.dataForValue(t),i&&(u={element:this._$elementFromValue(t,e),data:i});return u},itemsFromIndex:function(t){var r,i,u=this.options.dataSource.data(),f=u.length,e=this.options.valueKey;if(n.type(t)==="array")for(r=[],i=0;i<t.length;i++)typeof t[i]=="number"&&t[i]>=0&&t[i]<f&&r.push(u[t[i]][e]);else typeof t=="number"&&t>=0&&t<f&&(r=this._unwrapData(this._unwrapData(u[t])[e]));return this.itemsFromValue(r)},items:function(){return this._itemsFromData(this.options.dataSource.data())},filteredItems:function(){return this._itemsFromData(this.options.dataSource.dataView())},selectedItems:function(){return this._options.selectedData.length>0?this._itemsFromData(this._options.selectedData):null},filter:function(n,t){var i=[],r=this.options.filteringType,u=n==="",f=this.options.dataSource;if(!this._isFilteringEnabled())return this;i=this._options.expression=this._generateExpressions(n),r==="local"&&u&&(this._options.expression=null,f.clearLocalFilter()),this.filterByExpressions(i,t)},filterByExpressions:function(n,t){var e,s=this.options.filteringLogic,o=this.options.filterExprUrlKey,u=this.options.filteringType,i=this.options.dataSource,f=i.settings.paging,r=i.settings.filtering,h=this.options.textKey;return this._isFilteringEnabled()?(r.type=u,r.caseSensitive=this.options.caseSensitive,r.expressions=n,r.expressions.forEach(function(n){n.fieldName===undefined&&(n.fieldName=h)}),e=t?this._triggerFiltering(t):!0,e&&(u==="local"&&(i.filter(r.expressions,s,!0),this.options.virtualization?this._handleLocalFilteringWithVirt(i):this._handleLocalFiltering(i)),u==="remote"&&(f&&(f.pageIndex=0,f.appendPage=!1),o&&(r.filterExprUrlKey=o),this._options.remoteFilteringTriggerEvt=t,i.dataBind(this._handleRemoteFiltering,this)),this._options.dropDownOpened&&this.listScrollTop(0),t&&!this._options.remoteFilteringTriggerEvt&&this._triggerFiltered(t)),this):this},clearFiltering:function(n){var i=this.options.dataSource,t=this._options.expression;if(!i||!t||t.length<=0||t.length===1&&t[0].expr===""){this._options.updateInputValuesOnRemoteFilter&&this._endsPartialyWithItemSep(this._options.inputVal)&&(this._updateInputValues(),this._hideClearButton()),this._options.updateInputValuesOnRemoteFilter=!1;return}return this.filter("",n),this.positionDropDown(),this},openDropDown:function(t,i,r){var h,c,l,s,f=this._options,a=parseInt(f.$combo.css("borderTopWidth"),10),v=n.ig.util.offset(f.$combo).top-a,u=this,e=f.$dropDownCont,y=this._dropDownOrientation(),o=this._dropDownContHeight();return i===undefined&&(i=!0),u.options.suppressKeyboard&&n.ig.util.isTouchDevice()&&(i=!1),f.dropDownOpened||(l=r?this._triggerDropDownOpening(r):!0,l&&(f.dropDownOpened=!0,this.positionDropDown(),this._scrollToLastSelItem(),y==="top"?(e.addClass(this.css.orientationTop).removeClass(this.css.orientationBottom).css({top:parseInt(e.css("top"),10)-1}),s=this.options.dropDownAttachedToBody?{height:o,top:v-o}:{height:o,top:-o-a}):(e.addClass(this.css.orientationBottom).removeClass(this.css.orientationTop),s={height:o}),this._startRepositionInterval(),e.stop().removeClass(this.css.noBorder).animate(s,{duration:this.options.animationShowDuration,queue:!1,easing:"swing",complete:function(){e.height("").css("overflow",""),u.options.virtualization&&(c=u._itemHeight(),h=u._offsetItems(u.options.dataSource.dataView(),c),u._updateItems(h)),n.type(t)==="function"&&t(),r&&u._triggerDropDownOpened(r)}}),i&&this._moveCaretToInputEnd(!1))),this},closeDropDown:function(t,i){var e,f,u=this._options,r=this,o=parseInt(u.$combo.css("borderTopWidth"),10),s=this._dropDownOrientation();return u.dropDownOpened&&(!u.dataBinding||u.closingDropDownOnBlur)&&(e=i?this._triggerDropDownClosing(i):!0,e&&(this.positionDropDown(),f=s==="top"?this.options.dropDownAttachedToBody?{height:0,top:n.ig.util.offset(u.$combo).top-o,left:n.ig.util.offset(u.$dropDownCont).left}:{height:0,top:0}:{height:0},u.$dropDownCont.stop().css("overflow","hidden").animate(f,{duration:this.options.animationHideDuration,queue:!1,easing:"swing",complete:function(){r._clearRepositionInterval(),u.$dropDownCont.addClass(r.css.noBorder).removeClass(r.css.orientationBottom).removeClass(r.css.orientationTop).css({top:-99999,left:-99999}),r.options.filteringType!=="remote"?(r._updateInputValues(),r._unhighlight(),r.clearFiltering(i),r.options.multiSelection.enabled&&r._setKeyNavigationItem({data:n(),clearPrevItem:!0}),(!r.options.allowCustomValue&&u.selectedData.length===0||r.options.allowCustomValue&&u.$input.val()==="")&&r._hideClearButton(),r._removePlaceholderOnEmptyTextVal(),u.validator&&u.validator._validateInternal(r.element,i,!0)):(u.updateInputValuesOnRemoteFilter=!0,r.clearFiltering(i)),n.type(t)==="function"&&t(),u.dropDownOpened=!1,u.closingDropDownOnBlur=!1,i&&r._triggerDropDownClosed(i)}}))),this},clearInput:function(t,i){return t=t||{},this._options.$input.val(""),this._options.$hiddenInput.val(""),this._setInputVal(""),this.deselectAll(t,i),this.clearFiltering(i),this._unhighlight(),this._hideClearButton(),this._setKeyNavigationItem({data:n(),clearPrevItem:!0}),this},_hideClearButton:function(){this.options.enableClearButton&&this._options.$clearCont.hide()},_showClearButton:function(n){(n||this.options.enableClearButton)&&this._options.$clearCont.show()},isSelected:function(t){return t instanceof n?this.isValueSelected(t.attr("data-value")):!1},isValueSelected:function(n){return this._isValueInArray(n,this._valuesFromData(this._options.selectedData))!==-1},isIndexSelected:function(n){return this.isValueSelected(this.options.dataSource.data()[n][this.options.valueKey])},_selectData:function(t,i,r){var u,s,v,f,k,c,l,d,y,p,h,a,o=this.options,w=this._options,g=o.multiSelection.enabled,e=this.selectedItems(),b={combo:this,selectionCanceled:!1};if(t=n.type(t)==="array"&&!g?t[0]:t,u=this._itemsFromData(t),i=i||{},u===null)return i.additive||this.deselectAll(i,r),b;if(n.type(u)!=="array"&&(u=[u]),l=i.additive&&g,s=u.length,v=this._valuesFromItems(u),l)for(a=0;a<s&&!c;a++)this.isValueSelected(u[a].data[o.valueKey])||(c=!0);else d=this._valuesFromItems(e),n.ig.util.areSetsEqual(v,d)||(c=!0);return this._isValueInArray(w.autoSelectedItemData&&w.autoSelectedItemData[o.valueKey],v)!==-1&&(k=!0,this._options.selectedData.length>0&&s===1&&this._options.autoSelectedItemData[o.valueKey]===this._options.selectedData[0][o.valueKey]&&(p=s===1&&this._options.autoSelectedItemData[o.valueKey]===this._options.selectedData[0][o.valueKey])),c||k?(l&&e?(f=e.concat(this._filterItems(u,e)),y=this._dataFromItems(f)):(f=u,y=this._dataFromItems(f)),h=r&&!p?this._triggerSelectionChanging(f,e,r):!0,b.selectionCanceled=!h,h&&(w.selectedData=y,e&&e.length>0&&!l&&this._removeItemSelectionStyles(this._$elementsFromItems(this._filterItems(e,u))),this._addItemSelectionStyles(this._$elementsFromItems(f)),this._updateInputValues(i.keepInputText,f),i.keepHighlighting||this._unhighlight(),this._showClearButton(),i.focusCombo&&(i.autoComplete&&this._hasInputSelection()||this._moveCaretToInputEnd(!0)),i.keepNavItem||this._setKeyNavigationItem({data:u[s-1].data?u[s-1].data:n(),clearPrevItem:!0}),o.filteringType==="remote"&&(this._options.cachedData=this._dataFromItems(f)),i.closeDropDown&&this.closeDropDown(null,r),i.keepFiltering||this.clearFiltering(r),this._removePlaceholderOnEmptyTextVal(),i.keepScrollPosition||this._scrollToLastSelItem(),this._callInternalSelChangeSubs(r),r&&!p&&this._triggerSelectionChanged(f,e,r))):i.closeDropDown&&(h=r?this._triggerDropDownClosing(r):!0,h&&this.closeDropDown(null,r)),b},value:function(n,t,i){var r,u,f,e;if(n===undefined){if(r=[],u=this.selectedItems(),u)for(f=0;f<u.length;f++)r.push(u[f].data[this.options.valueKey]);else this.options.allowCustomValue&&this._options.$hiddenInput.val()!==""&&r.push(this._options.$hiddenInput.val());return!this.options.multiSelection.enabled&&u&&(r=r.length>0?r[0]:null),r}e=this._selectData(this._dataForValues(n),t,i),!this.options.allowCustomValue||this.selectedItems()||e.selectionCanceled||(this._options.$input.val(n),this._updateInputValues(),this._showClearButton())},select:function(t,i,r){return t instanceof n&&this.value(this._valuesFromElements(t),i,r),this},index:function(t,i,r){var f,e,o,s,u,h,c=[];if(t===undefined){if(f=this.selectedItems(),f.length===1)o=this._unwrapData(f[0].data),s=this._unwrapData(o[this.options.valueKey]),e=this._dataIndexByValue(s);else for(e=[],u=0;u<f.length;u++)o=this._unwrapData(f[u].data),s=this._unwrapData(o[this.options.valueKey]),e.push(this._dataIndexByValue(s));return e}for(n.type(t)!=="array"&&(t=[t]),u=0,h=t.length;u<h;u++)c.push(this._dataFromIndex(t[u]));return this._selectData(c,i,r),this},selectAll:function(n,t){return n=n||{},this._selectData(this.options.dataSource.data(),n,t),this},_deselectData:function(t,i,r){var f,o,c,l,e,s=this._options,u=this._itemsFromData(t),h=this.selectedItems();if(i=i||{},u===null)return this;for(n.type(u)!=="array"&&(u=[u]),e=0,l=u.length;e<l&&!o;e++)this.isValueSelected(u[e].data[this.options.valueKey])&&(o=!0);return o&&(f=this._filterItems(h,u),c=r?this._triggerSelectionChanging(f,h,r):!0,c&&(s.selectedData=this._dataFromItems(f),this._removeItemSelectionStyles(this._$elementsFromItems(u)),this._updateInputValues(i.keepInputText,f),this._unhighlight(),s.selectedData.length===0&&this._setKeyNavigationItem({data:n(),clearPrevItem:!0}),s.inputVal===""&&this._hideClearButton(),i.focusCombo&&this._focusInInputWhenUsingTouchDevice()&&this._moveCaretToInputEnd(!0),this.options.filteringType==="remote"&&(this._options.cachedData=this._dataFromItems(f)),this._addPlaceholderWhenEmptyTextVal(),this._callInternalSelChangeSubs(r),r&&this._triggerSelectionChanged(f,h,r))),this},deselectByValue:function(n,t,i){t=t||{},n===undefined&&this._options.selectedData.length===1&&(n=this._options.selectedData[0][this.options.valueKey]),this._deselectData(this._dataForValues(n),t,i)},deselect:function(t,i,r){return t===undefined&&this.deselectByValue(),t instanceof n&&(t=t.filter(this._$items()),this.deselectByValue(this._valuesFromElements(t),i,r)),this},deselectByIndex:function(t,i,r){var u,f,e=[];for(n.type(t)!=="array"&&(t=[t]),u=0,f=t.length;u<f;u++)e.push(this._dataFromIndex(t[u]));return this._deselectData(e,i,r),this},deselectAll:function(n,t){return this._deselectData(this._options.selectedData,n,t),this._selectFirstItemInNonEditableModes(this.options.mode,[],this.options.dataSource.dataView()),this},activeIndex:function(n){return n===undefined?this._$items().index(this._$keyNavItem()):(this._setKeyNavigationItem({data:this._dataFromIndex(n),addStyles:!0,clearPrevItem:!0}),this)},text:function(n){return n===undefined?this._options.$input.val():(this._options.$input.val(n),this._handleInputChange(!1),this)},listScrollTop:function(n){var t,i=this._options;return(n===undefined||i.dropDownOpened||this.openDropDown(),t=i.$dropDownScrollCont||i.$dropDownListCont,n===undefined)?t?t.prop("scrollTop"):0:(t&&t.prop("scrollTop",n||0),this)},listItems:function(){return this._$items()},comboWrapper:function(){return this._options.$comboWrapper},dropDown:function(){return this._options.$dropDownCont},list:function(){return this._options.$dropDownListCont},textInput:function(){return this._options.$input},valueInput:function(){return this._options.$hiddenInput},validator:function(n){var i=this.options.validatorOptions,t=this._options.validator;return t&&(n||!i)&&t.owner===this?(t.destroy(),this._options.validator=t=null):!t&&!n&&i&&this.element.igValidator&&(this._options.validator=t=this.element.igValidator(i).data("igValidator"),this._options.validator.owner=this),t},validate:function(){return this._options.validator?this._options.validator.validate():null},dropDownOpened:function(){return this._options.dropDownOpened},positionDropDown:function(){var i,f,t=this._options,u=t.$combo,r=this.options.dropDownOrientation;r==="auto"&&(r=this._dropDownOrientation()),this.options.dropDownAttachedToBody?(i=n.ig.util.offset(u),f=this.options.dropDownWidth||u.outerWidth(),t.$dropDownCont.outerWidth(f),r==="top"?t.$dropDownCont.css({left:i.left,top:i.top-t.$dropDownCont.outerHeight()}):t.$dropDownCont.css({left:i.left,top:i.top+u.outerHeight()})):r==="top"?t.$dropDownCont.css({left:"",top:-t.$dropDownCont.outerHeight()}):t.$dropDownCont.css({left:"",top:""})},_unsetupInput:function(){var n=this._handlers;this.element.insertAfter(this._options.$comboWrapper),this._options.$comboWrapper.remove(),this.element.removeClass(this.css.field).val("").removeAttr("placeholder").removeAttr("tabIndex").attr("name",this._options.nameAttribute),this.options.mode!=="editable"&&this.element.removeAttr("readonly").removeAttr("unselectable").removeClass(this.css.unselectable),this.element.off({focus:n.inputFocus,blur:n.inputBlur,click:n.inputClick,keydown:n.inputKeyDown,paste:n.inputPaste,keyup:n.inputKeyUp,keypress:n.inputKeyPress,mousedown:n.inputMouseDown,compositionupdate:n.inputCompositionUpdate,compositionend:n.inputCompositionEnd,input:n.inputInput})},destroy:function(){var t=this._options,i=this._handlers;return this.validator(!0),t.$window.off("resize",i.windowResize),n(document).off("mouseup",i.documentMouseUp),this._clearRepositionInterval(),t.$dropDownCont.remove(),this.element.is("input")?this._unsetupInput():this.element.is("select")?(t.$comboWrapper.remove(),this.element.show().attr("name",t.nameAttribute)):this.element.empty().removeClass(this.css.comboWrapper),t=null,this._superApply(arguments),this}}),n.extend(n.ui.igCombo,{version:"19.2.25"})})(n),function(n){var r,u,h=0,t=[],a=0,i=0,p=0,d=1,o=2,s=3,v=4,w=5,y=6,b={my:"center",at:"center",collision:"fit",of:window,using:function(t){t.top<0&&(t.top=0),t.left<0&&(t.left=0);var i=n(this).css(t).igOffset();i.top<0&&n(this).css("top",t.top-i.top),i.left<0&&n(this).css("left",t.left-i.left)}},k=function(n,t){return n&&t&&(n.has(t).length>0||n[0]===t)},c=function(n){return n.attr("zIndex",-1).css("outline",0).attr("unselectable","on")},f=function(n,t){var i=n.css(t);if(!i)return 0;if(t=parseFloat(i),i.indexOf("px")>0)t+=.7;else if(i.indexOf("em")>0)t*=12;else return 0;return Math.floor(t)},l=function(n,t,i){return f(n,(i||"padding")+(t?"Top":"Left"))+f(n,(i||"padding")+(t?"Bottom":"Right"))+f(n,"border"+(t?"Top":"Left")+"Width")+f(n,"border"+(t?"Bottom":"Right")+"Width")},e=function(n){try{n.preventDefault(),n.stopPropagation()}catch(t){}};n.widget("ui.igDialog",n.ui.igWidget,{options:{mainElement:null,state:"opened",pinned:!1,closeOnEscape:!0,showCloseButton:!0,showMaximizeButton:!1,showMinimizeButton:!1,showPinButton:!1,pinOnMinimized:!1,imageClass:null,headerText:null,showHeader:!0,showFooter:!1,footerText:null,dialogClass:null,container:null,height:null,width:300,minHeight:100,minWidth:150,maxHeight:null,maxWidth:null,draggable:!0,position:null,resizable:!0,tabIndex:0,openAnimation:null,closeAnimation:null,zIndex:null,modal:!1,trackFocus:!0,closeButtonTitle:undefined,minimizeButtonTitle:undefined,maximizeButtonTitle:undefined,pinButtonTitle:undefined,unpinButtonTitle:undefined,restoreButtonTitle:undefined,locale:{closeButtonTitle:undefined,minimizeButtonTitle:undefined,maximizeButtonTitle:undefined,pinButtonTitle:undefined,unpinButtonTitle:undefined,restoreButtonTitle:undefined},temporaryUrl:null,enableHeaderFocus:!0,enableDblclick:"auto"},events:{stateChanging:null,stateChanged:null,animationEnded:null,focus:null,blur:null},css:{dialog:"ui-igdialog ui-dialog ui-widget ui-widget-content ui-corner-all",header:"ui-igdialog-header ui-dialog-titlebar ui-widget-header ui-corner-top ui-helper-clearfix",headerFocus:"ui-igdialog-header-focus ui-state-focus",headerMinimized:"ui-corner-bottom",headerText:"ui-igdialog-headertext ui-dialog-title",headerImage:"ui-igdialog-headerimage",headerTextMinimized:"ui-igdialog-headertext-minimized",headerButton:"ui-igdialog-headerbutton ui-corner-all ui-state-default",headerButtonHover:"ui-igdialog-headerbutton-hover ui-state-hover",close:"ui-igdialog-buttonclose",minimize:"ui-igdialog-buttonminimize",maximize:"ui-igdialog-buttonmaximize",pin:"ui-igdialog-buttonpin",closeIcon:"ui-igdialog-close-icon ui-icon ui-icon-close",minimizeIcon:"ui-igdialog-minimize-icon ui-icon ui-icon-minus",maximizeIcon:"ui-igdialog-maximize-icon ui-icon ui-icon-extlink",restoreIcon:"ui-igdialog-restore-icon ui-icon ui-icon-newwin",pinIcon:"ui-igdialog-pin-icon ui-icon ui-icon-pin-s",unpinIcon:"ui-igdialog-unpin-icon ui-icon ui-icon-pin-w",footer:"ui-igdialog-footer ui-widget-header ui-corner-bottom ui-helper-clearfix",resizing:"ui-igdialog-resizing",dragging:"ui-igdialog-dragging",unmovable:"ui-igdialog-unmovable",overlay:"ui-igdialog-overlay ui-widget-overlay",contentIframe:"ui-igdialog-content-iframe",content:"ui-igdialog-content ui-widget-content ui-dialog-content"},_create:function(){var f,t=this,r=t.element,i=r[0],c=i&&i.nodeName==="IFRAME"?i.src:null,u=t.options,h=u.state,a,l=t.css;u.container=u.container||this.element.parent(),a=u.container,t._fixIE(r),t._old={position:r.css("position"),left:r.css("left"),top:r.css("top"),display:r.css("display"),visibility:r.css("visibility"),width:i.style.width,height:i.style.height},c&&(i.src=u.temporaryUrl||""),t._min=h==="minimized"||h===o,t._max=h==="maximized"||h===s,t._opened=h&&h!=="closed",t._oldDad=i.parentNode,t._next=t._oldDad?i.nextSibling:null,t._dad=a,r=n("<div />"),this.element.contents().appendTo(r),i=f=this.element,f.css({zIndex:u.zIndex||1e3,outline:0}).attr("tabIndex",u.tabIndex).keydown(function(r){if((u.closeOnEscape&&r.keyCode===n.ui.keyCode.ESCAPE&&(t.close(r),r.preventDefault()),r.keyCode===n.ui.keyCode.TAB)&&(t._tabTime=+new Date,t._modal||t._max)){for(var a,h,o,w,c=-1,k=999999,v=k,d=-1,y=r.target,b=t._getTabIndex(y),l=r.shiftKey,p=n(":tabbable",f[0]),g=p.length,s=g;s-->0;)o=t._getTabIndex(i=p[s]),o>d&&(d=o,h=i),o<=v&&(v=o,a=i),o===b&&(w?c<0&&(c=s):(w=i===y,w||(c=s)));for(c<0&&(s=g),v=l?-1:k;s-->0;)o=t._getTabIndex(p[s]),(o>b&&o<v&&!l||o<b&&o>v&&l)&&(v=o,c=s);if(h=h||f[0],a=a||h,t._nextTabElem=c>=0?p[c]:l?h:a,y===f[0]||y===a&&l||y===h&&!l){e(r),i=l?h:a;try{i.focus()}catch(nt){}}}}).mousedown(function(n){t.moveToTop(n)}),i.addClass(l.dialog),u.dialogClass&&i.addClass(u.dialogClass),r.show().addClass(l.content).appendTo(i),c!==null&&(r[0].src=c,r.addClass(l.contentIframe)),t._modal=t._hasFocus=!1,t._lastFoc="blur",t._doHeader(),t._doFooter(),t._doDraggable(),t._doResizable(),t._min&&t._onMin(!0,!0,!0),t._max&&(u.pinned=!1,t._onMax(!0,!0,!0)),u.pinned&&t._onPin(!0,!0,!0),t._opened?t._open():f.hide(),t._created=!0,t._save()},_fixIE:function(n){n=n.find("*");for(var i,t,r=n.length;r-->0;)t=n[r],i=t.nodeName,(i==="/INPUT"||i==="/IMG")&&t.parentNode.removeChild(t)},destroy:function(){var t=this,i=this.element.children(".ui-igdialog-content");return this.element.stop(!0,!0),this._doClose(null,!0),t._winResize&&n(window).unbind("resize",t._winResize),this.element.children(".ui-igdialog-header").remove(),this.element.children(".ui-igdialog-footer").remove(),i.contents().unwrap(),this.element.removeClass(t.css.dialog).css(t._old),this.options.draggable&&this.element.draggable("destroy"),this.options.resizable&&this.element.resizable("destroy"),this.element.unbind(),this._superApply(arguments),this},state:function(n){return arguments.length?(n!=="minimized"&&n!==o||this._min&&this._opened||(this._min?this._open(null,1):this._minimize()),n!=="maximized"&&n!==s||this._max&&this._opened||(this._max?this._open(null,1):this._maximize()),(n==="opened"||n===d)&&(this._min||this._max||!this._opened)&&(this._onMin(),this._onMax(),this._open(),this.options.state=n),(n==="closed"||!n)&&(this._min||this._max||this._opened)&&(this._onMin(),this._onMax(),this.close()),this):this.options.state},mainElement:function(){return this.element},close:function(n){return this._opened&&this._doClose(n),this},open:function(){return this._open(null,1)},minimize:function(){return this._min||this._minimize(),this},maximize:function(){return this._max||this._maximize(),this},restore:function(){return this._max&&this._onMax(),this._min&&this._onMin(),this._fixState(),this},pin:function(){return this.options.pinned||this._pin(),this},unpin:function(){return this.options.pinned&&this._pin(),this},getTopModal:function(){return t[t.length-1]},isTopModal:function(){return this.getTopModal()===this},moveToTop:function(u){var h,y,f=this,p=f.options,s=p.zIndex,c=f.element,o=f._created?null:s,l=p.modal,v=this.element[0],w=v.scrollTop,b=v.scrollLeft;if(!n.ig||!n.ig.util||!n.ig.util.evtButton(u))return(s=s||1e3,h=u?u.target:null,k(f._header,h)||k(f._footer,h)?(y=h.nodeName,y!=="INPUT"&&y!=="BUTTON"&&(e(u),f._setFocus())):u&&!this._hasFocus&&f._setFocus(),i=Math.max(o||s,i),p.pinned)?f:l&&f._lastZ?(c=f._modalDiv,c&&c[0].offsetWidth<10&&f._onResize(),f):r===f&&(o||s)>=i?f:(r&&!o&&(r.element.css("zIndex",r._lastZ||-1),r._save()),a>=i&&i++,l&&!o&&(i++,i++),r=f,f._lastZ=a=o||(l||t.length>0?i:s),o||(c.css("zIndex",o||i),f._save()),v.scrollTop=w,v.scrollLeft=b,l&&f._doModal(i),f)},content:function(n){if(arguments.length===0)return this.element.children(".ui-igdialog-content");this.element.children(".ui-igdialog-content").html(n)},_save:function(){var u,t,r,i=this.options,f=i.inputName;if(f){if(t=n('input[name="'+f+'"]'),t.length===0){if(t=t.parents("form")[0]||document.forms[0],!t)return;t=n('<input type="hidden" name="'+f+'" />').appendTo(t)}u="s"+(i.pinned?"1":"")+(this._opened?this._min?2:this._max?3:1:0)+(i.width?":w"+i.width:"")+(i.height?":h"+i.height:"")+(":z"+this.element.css("zIndex")||i.zIndex),r=i.position,r&&r.length===2&&(u+=":p"+r[0]+","+r[1]),t.val(u)}},_open:function(n,t){var i=this,e=i.options,u=i.element,r=i._min?null:e.openAnimation,f={action:"open",owner:this};return i._opened&&i._vis||t&&!i._fireState(n,!0,f)?i:(e.pinned||u.css("position","absolute"),e.width!==null&&u.show(),i._opened=!0,i._doSize(1),r?typeof r=="string"?(i.moveToTop(!0),u.hide().show(r,function(){i._trigger("animationEnded",n,f)})):(typeof r!="object"&&(r={easing:r}),r.complete=function(){i._trigger("animationEnded",n,f)},i.moveToTop(!0),u.hide(0).show(r)):i.moveToTop(!0),i._vis=!0,h++,i._trackFocus(u),i._fixState(),t&&i._fireState(n,!1,f),i._save(),i)},_initContainer:function(t,i){if(t&&(typeof t=="string"&&(t=n(t)),t&&t[0]&&(t=t[0])),t&&t.parentNode){if(t.nodeName!=="BODY"){var r=t.style,u=r?r.position:null;r&&(!u||u==="static")&&(r.position="relative")}}else t=this.element.parents("form")[0]||document.body;return i&&this.element.appendTo(t),t},_fixState:function(){this.options.state=this._opened?this._min?"minimized":this._max?"maximized":"opened":"closed"},_minimize:function(n){return this._doState(n,{action:this._min?"restore":"minimize"},n?"minimize":null,"_onMin",!0)},_maximize:function(n){return this._doState(n,{action:this._max?"restore":"maximize"},n?"maximize":null,"_onMax",!0)},_pin:function(n){return this._doState(n,{action:this.options.pinned?"unpin":"pin"},n?"pin":null,"_onPin")},_close:function(n){return this._opened?this.close(n):this._open(n)},_getTabIndex:function(n){return isNaN(n=parseInt(n.tabIndex,10))||n<1?0:n},_doHeader:function(){var l,u,a,f=4,t=this,h=t._header,i=t.options,y=i.headerText,r=t.css;for(h&&h.remove(),delete t._minHW,h=t._header=c(n("<div />").addClass(r.header).css("display","block").prependTo(t.element)).dblclick(function(n){var r=i.enableDblclick;r&&(t._min?t._doState(n,{action:"restore"},null,"_onMin",!0):(r===!0||r==="auto"&&i.showMaximizeButton)&&t._doState(n,{action:t._max?"restore":"maximize"},null,"_onMax",!0))}),i.imageClass&&(t._img=n("<span />").addClass(r.headerImage).addClass(i.imageClass).html("&nbsp;").appendTo(h)),t._headerText=n("<span />").addClass(r.headerText).html(y||"&nbsp;").appendTo(h),a={mouseover:function(){n(this).addClass(r.headerButtonHover)},mouseleave:function(){n(this).removeClass(r.headerButtonHover)},mousedown:function(t){this._mdb=n.ig&&n.ig.util&&n.ig.util.evtButton(t)},click:function(i){if(i&&!this._mdb){try{t["_"+n(this).attr("data-id")](i)}catch(u){}n(this).removeClass(r.headerButtonHover),e(i)}},touchstart:function(n){n.stopPropagation()},touchmove:function(n){e(n)}};f-->=0;)u=f===3&&i.showCloseButton?"close":f===2&&i.showMaximizeButton?"maximize":f===1&&i.showMinimizeButton?"minimize":f===0&&i.showPinButton?"pin":null,u&&(l=n("<a />").addClass(r.headerButton+" "+r[u]).attr("data-id",u).attr("href","#").attr("role","button").bind(a).appendTo(h),n("<span />").addClass(r[u+"Icon"]).appendTo(l),t._setButtonAttributes(l,f===3?p:f===2?s:f===1?o:v));i.showHeader||h.hide()},_doFooter:function(){var t=this,i=t.options,r=i.footerText,u=t.css;t._footer&&(t._footer.remove(),delete t._footer),i.showFooter&&(t._footer=c(n("<div />").addClass(u.footer).css("display","block").html(r||"&nbsp").appendTo(t.element)))},_onMin:function(n,t,i){var e,h=this.options,f=this._footer,u=this.css,s=this._header,r=n&&n.type?!this._min:!!n;r===this._min&&this._created||(this._min=r,r&&h.pinOnMinimized&&this._onPin(r,!0,!0),e=s.find("."+u.minimize),e.find("*").removeClass(r?u.minimizeIcon:u.restoreIcon).addClass(r?u.restoreIcon:u.minimizeIcon),n&&n.type&&r&&this._max&&this._onMax(!1,!0,!0),this._setButtonAttributes(e,r?y:o),r?(s.addClass(u.headerMinimized),f&&f.hide()):(s.removeClass(u.headerMinimized),f&&f.show()),!t&&this._vis&&this._doSize(),!i&&this._vis&&this._setFocus(),this._save())},_onMax:function(n,t,i){var f,o=this.options,e=this._header,u=this.css,r=n&&n.type?!this._max:!!n;r===this._max&&this._created||(r&&(this._min&&this._onMin(!1,!0,!0),o.pinned&&this._onPin(!1,!0,!0)),this._max=r,r?this.element.parent().is(document.body)||(this._originalParent=this.element.parent(),this.element.appendTo(document.body)):this._restoreHtml(),f=e.find("."+u.maximize),f.find("*").removeClass(r?u.maximizeIcon:u.restoreIcon).addClass(r?u.restoreIcon:u.maximizeIcon),this._setButtonAttributes(f,r?y:s),r?e.addClass(u.unmovable):e.removeClass(u.unmovable),!t&&this._vis&&this._doSize(),!i&&this._vis&&this._setFocus(),this._save())},_onPin:function(t,i,r){var h,o,p,s,f,c=this._old,l=this._next,e=this.css,a=this._header,y=this.options,u=t&&t.type?!y.pinned:!!t;u===y.pinned&&this._created||(y.pinned=u,h=a.find("."+e.pin),h.find("*").removeClass(u?e.pinIcon:e.unpinIcon).addClass(u?e.unpinIcon:e.pinIcon),this._max&&u&&this._onMax(!1,!1,!0),this._setButtonAttributes(h,u?w:v),u?a.addClass(e.unmovable):a.removeClass(e.unmovable),o=this.element,u?(f=c.position,this._resize&&(f==="static"||!f)&&(f="relative"),this._pinPos=f={position:f,left:c.left,top:c.top}):f={position:"absolute"},o.css(f),p=o.parent()[0],s=u?this._oldDad:this._dad,s&&!n(s).is(p)&&(u&&l&&l.parentNode===s?o.insertBefore(l):o.appendTo(s)),!r&&this._vis&&this._setFocus(),!i&&this._vis&&(u?this._doModal():this._doSize(1)),this._save())},_doClose:function(n,u){var c,f=this,o=f.element,s={action:"close"},l=f.options,e=f._min||u?null:l.closeAnimation;f._opened&&(u||f._fireState(n,!0,s,n?"close":null))&&(f._trackFocus(o,1),f._restoreHtml(),r===f&&(r=null),f._fireFoc(!1),f._hasFocus=!1,delete f._lastZ,f._vis=f._opened=!1,u&&(l.modal=!1),f._doModal(),e?typeof e=="string"?o.hide(e,function(){f._trigger("animationEnded",n,s)}):(typeof e!="object"&&(e={easing:e}),e.complete=function(){f._trigger("animationEnded",n,s)},o.hide(e)):u||o.hide(),u||(f._fixState(),f._fireState(n,!1,s)),--h<1?h=a=i=0:h===(c=t.length)&&t[c-1]._setFocus(),f._save())},_fireState:function(n,t,i,r){if(t){var u=this.options;i.oldState=u.state,i.oldPinned=u.pinned,i.owner=this,r&&(i.button=r)}return this._created?this._trigger("stateChang"+(t?"ing":"ed"),n,i):!0},_doState:function(n,t,i,r,u){return this._fireState(n,!0,t,i)&&(this[r](n||{type:1}),u&&!this._opened&&this._open(null,!0),this._fixState(),this._created&&this._trigger("stateChanged",n,t)),this},_fireFoc:function(n,t){var i=n?"focus":"blur";i!==this._lastFoc&&(this._trigger(this._lastFoc=i,t,{owner:this}),this.options.enableHeaderFocus&&(i=this.css.headerFocus,n?this._header.addClass(i):this._header.removeClass(i)))},_trackFocus:function(n,t){var i=this,u=i._focusEvt,f=i.options.trackFocus;if(u||f){if(t){i._focBind&&(i._focBind.unbind(u),delete i._focBind);return}u||(u=function(t){var f,e=i._focBind,o=t.type==="focus";i._isDatePickerOpened()||(!o&&e&&n&&(f=n.find("*").not(e),f.length&&(i._focBind=e.add(f),f.bind(u))),i._hasFocus=o,setTimeout(function(){var n=i.getTopModal(),u=i.element;u&&n&&!i._hasFocus&&!o&&r===i&&(n=i._max||n===i?i._nextTabElem||u[0]:i._tabTime&&+new Date-i._tabTime<200?u[0]:null,n&&i._setFocus(n)),i._fireFoc(i._hasFocus,t)},50))},u=i._focusEvt={focus:u,blur:u}),f&&n&&(i._focBind=n.find("*").add(n).bind(u))}},_isDatePickerOpened:function(){return n("#ui-datepicker-div")[0]&&n("#ui-datepicker-div").css("display")==="block"},_setFocus:function(t){try{if(t&&n(document.activeElement).closest(".ui-igdialog").is(this.element)){this._hasFocus=!0;return}}catch(r){}var i=this;setTimeout(function(){try{i._hasFocus||(i.options.trackFocus||(i._hasFocus=!0),t=t||i.element[0],t.focus())}catch(n){}},100)},_restoreHtml:function(){var n,t=this._oldHtml,i=this._originalParent;i&&(this.element.appendTo(i),this._originalParent=null),t&&(n=t.html,n.style&&(n.style.overflow=t.overflow),n.scrollLeft=t.scrollLeft,n.scrollTop=t.scrollTop,delete this._oldHtml)},_touch:function(n,t){var i,u=this,r=function(r,f){var s,h=r.originalEvent,c=h?h.touches:null,o=c&&c.length===1;o&&f&&e(r),o=o&&f==="move",i?(i=o?i:null,s=o?"Drag":"Stop"):o&&(i=!0,n.trigger("mouseover"),s="Start"),s&&(h=u.element.data(t),s="_mouse"+s,h&&h[s]&&(r.pageX=o?c[0].pageX:0,r.pageY=o?c[0].pageY:0,h[s](r)))};n.bind({touchstart:function(n){r(n,"start")},touchmove:function(n){r(n,"move")},touchend:function(n){r(n)}})},_doDraggable:function(){var t=this,i=t.options,r=t.element;r.draggable&&i.draggable&&(t._touch(t._header,"draggable"),r.draggable({cancel:".ui-igdialog-content, .ui-igdialog-headerbutton",handle:".ui-igdialog-header",containment:"document",start:function(){if(i.pinned||t._max)return!1;n(this).addClass(t.css.dragging)},stop:function(r,u){var f=n(document);i.position=[u.position.left-f.scrollLeft(),u.position.top-f.scrollTop()],n(this).removeClass(t.css.dragging),t._save()}}))},_doResizable:function(){var f,r,e=0,t=this,i=t.options,u=t.element;if(u.resizable&&(t._resize=i.resizable,t._resize))for(u.css("position",u.css("position")).resizable({cancel:"."+t.css.content,containment:"document",alsoResize:t.element.children(".ui-igdialog-content"),maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:t._minWidth(),minHeight:i.minHeight,handles:typeof i.resizable=="string"?i.resizable:"n,e,s,w,se,sw,ne,nw",start:function(){n(this).addClass(t.css.resizing),i.pinned&&t._pinPos&&u.css(t._pinPos)},resize:function(){t._fixCaption(),i.pinned&&t._pinPos&&u.css(t._pinPos)},stop:function(){n(this).removeClass(t.css.resizing),i.height=n(this).height(),i.width=n(this).width(),t._save()}}).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se"),r=u.data("resizable")||u.data("ui-resizable"),r&&(r._dragFix||(r._dragFix=r._mouseDrag,r._mouseDrag=function(n){var i,u,t=r.parentData;return t&&n&&(i=n.pageX,u=n.pageY,i<=t.left||u<=t.top||i>=t.left+t.width||u>=t.top+t.height)?!1:r._dragFix(n)}),f=r._handles,e=f.length);e-->0;)t._touch(n(f[e]),"resizable")},_toPx:function(t,i){if(typeof t=="number")return t;if(!t)return i?t:0;t=t.toString();var u,r=parseInt(t,10);if(isNaN(r))return 0;if(t.indexOf("m")>0||t.indexOf("e")>0||t.indexOf("i")>0||t.indexOf("t")>0)u=n("<div />").css({visibility:"hidden",width:t}).appendTo(this._dad),r=u.width(),u.remove();else if(t.indexOf("%")>0)return t=this._winRect(1),t=i?t.height:t.width,Math.floor(r*t/100);return r},_doSize:function(t){var r=this,f=r.options,e=r._max,i=e?[0,0]:f.position,o=r._resize?".ui-resizable-handle":null,s=r.element.children(".ui-igdialog-content"),u=r.element;o&&(r._min||e?n(o,u).hide():n(o,u).show()),r._headerText.css("width",0),r._min?(s.hide(),r._fixCaption(u)):e?(s.show().css({width:"auto",height:"auto"}),u.css({width:100,height:50})):f.width!==null&&(this._doSizePX(s,u,Math.max(r._minWidth(),r._toPx(f.width)),r._toPx(f.height,!0),f.minHeight),o&&this._doResizable()),f.width===null&&(this._fixCaption(u),u.show()),!f.pinned&&(t||e||r._oldMax)&&(r._oldMax=e,e&&r._onResize(),u.position&&(i&&(i.left!==undefined&&i.top!==undefined&&(i=[i.left,i.top]),i&&i.length>1&&(typeof i[0]!="number"&&(i[0]=parseInt(i[0])),typeof i[1]!="number"&&(i[1]=parseInt(i[1])),i=isNaN(i[0])||isNaN(i[1])?{}:n.ig.util.jQueryUIMainVersion<=1&&n.ig.util.jQueryUISubVersion<9?{my:"left top",at:"left top",offset:i[0]+" "+i[1]}:{my:"left+"+i[0]+" top+"+i[1],at:"left top"}),i=n.extend({},b,i)),u.css({top:0,left:0}).position(i||b))),r._doModal(),r._save()},_doSizePX:function(n,t,i,r,u){n.show().css({width:"auto",height:0,minHeight:0});var f=t.css({width:i,height:"auto",display:"block"}).height();this._fixCaption(t),typeof r=="string"&&r.indexOf("px")>0&&(r=parseInt(r,10)),typeof r!="number"&&(r=n.css("height","auto").height()+f),r=Math.max(u,r),n.height(Math.max(r-f,0)),u=r-t[0].offsetHeight,u>0&&n.height(Math.max(r-f+u,0))},_onResize:function(){var t=this,i=t.isTopModal()?t._modalDiv:null;(t._winResize||n(window).bind("resize",t._winResize=function(){setTimeout(function(){t._onResize()},50)}),t._opened&&!t.options.pinned)&&(i&&(i.hide(),t._doIframe(i,1)),t._max&&t._doMaxSize(t.element),i&&(i.show(),t._doIframe(i,1)))},_minHeaderWidth:function(){var t,r,i=this._minHW,u=this._header.children().not(this._headerText),f=u.length;if(!i){for(i=3+l(this._header);--f>=0;){r=u[f];try{t=n(r).outerWidth(!0)}catch(e){}i+=1+(t&&t>2&&t<100?t:r.offsetWidth)}this._minHW=i}return i},_minWidth:function(){return this._minW||(this._minW=this._minHeaderWidth()),Math.max(this.options.minWidth,this._minW)},_fixCaption:function(t){var u,e,c,o,h,a=0,r=-1,s=this._header,i=this._headerText,v=this.css.headerTextMinimized;if(this._min){if(i.css("width","").addClass(v),!t)return;for(t.css({height:"auto",width:"auto",display:"inline-block"}),e=l(s)+3,i=s.children(),o=i.length;++r<o;)e+=i[r].offsetWidth+f(n(i[r]),"marginLeft")+f(n(i[r]),"marginRight");while(a++<2){for(t.css("width",e),e+=2,r=o;r-->0;){if(h=i[r].offsetTop,r>0&&r<o-1&&Math.abs(c-h)>4)break;c=h}r<0&&(a=4)}return}i.removeClass(v);try{u=s.innerWidth()-3}catch(y){}(!u||u>1e3)&&(u=s[0].clientWidth-4),u=Math.max(1,u-this._minHeaderWidth()),i.css("width","auto"),i[0].offsetWidth*1.3>u&&i.css("width",u)},_doMaxSize:function(n){var t,r=this._oldHtml,u=this.element.children(".ui-igdialog-content"),i=this._winRect(),f=l(n),e=l(n,1);t=i.html,r||(this._oldHtml=r={html:t,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop},t.scrollLeft=t.scrollTop=0,t.style&&(r.overflow=t.style.overflow,t.style.overflow="hidden",(i.maxWidth>i.width||i.maxHeight>i.height)&&(i=this._winRect(1)))),this._doSizePX(u,n,i.width-f-1,i.height-e-1,0)},_winRect:function(t){for(var c,v,r,o,s,h,u=0,f=0,l=999999,y=window,a=y.document,e=a.body,i=e;i&&i.nodeName!=="HTML";)i=i.parentNode;return(i||(i=e),v=a.documentElement||i,c=a.compatMode!=="CSS1Compat"&&n.ig.util.isIE?e:i,r=c.clientWidth,o=c.clientHeight,t)?{width:r,height:o}:(r&&r>50?(u=r,f=o):r=o=l,s=i.scrollWidth,h=i.scrollHeight,s&&h&&(u=Math.max(u,s),f=Math.max(f,h)),u=Math.max(u,e.scrollWidth),f=Math.max(f,e.scrollHeight),s=e.offsetWidth,h=e.offsetHeight,u=Math.max(u,s),f=Math.max(f,h),{width:r===l?s:r,height:o===l?h:o,maxWidth:u,maxHeight:f,html:i})},_doIframe:function(t,i){var r="javascript";u||(u=c(n("<iframe />").attr("frameBorder",0).attr("scrolling","no").attr("src",r+":''").css({position:"absolute",filter:"alpha(opacity=50)",opacity:0}))),u.parent()[0]!==t.parent()[0]&&u.css({width:"1px",height:"1px",marginLeft:t.css("marginLeft"),marginTop:t.css("marginTop"),left:t.css("left"),top:t.css("top"),zIndex:t.attr("zIndex")-1}).insertBefore(t),u.css({width:i?"1px":t.css("width"),height:i?"1px":t.css("height")})},_doModal:function(f){var s,h,v,l=t.length,o=this,y=o.options,p=o.element,a=o._modalDiv;if(h=y.modal&&!y.pinned&&!o._min&&o._opened,s=n.inArray(o,t),o._modal===h){f&&a&&(a.css("zIndex",f-1),o._onResize()),!h&&!r&&l>0&&t[l-1].moveToTop();return}s<0&&h&&(l>0&&t[l-1]._modalDiv.hide(),t.push(o)),s>=0&&!h&&(s>0&&s+1===l&&(v=t[s-1]),t.splice(s,1)),o._modal=h,h?o._modalDiv=a=c(n("<div />").css({position:"fixed",left:0,top:0,bottom:0,right:0,zIndex:i-1}).addClass(o.css.overlay).mousedown(function(n){o._setFocus(),e(n)}).insertBefore(p)):(a.remove(),u.remove(),delete o._modalDiv,v&&v.moveToTop())},_setButtonAttributes:function(n,t){t=(t===o?"minimize":t===s?"maximize":t===y?"restore":t===p?"close":t===v?"pin":t===w?"unpin":"open")+"ButtonTitle";var i=this._getLocaleValue(t);n.attr({title:i,longdesc:i,"data-localeid":t,"data-dialog-button":!0})},changeLocale:function(){var t=this;this._header.find("[data-dialog-button]").each(function(){var i=n(this),r=t._getLocaleValue(i.attr("data-localeid"));i.attr({title:r,longdesc:r})})},_setOption:function(n,t){var u,f,o,s,i=this.element,e=this.options,r=n==="container";if(n==="mainElement"||n==="imageClass")throw new Error(this._getLoacleValue("setOptionError")+n);return!i||!n||e[n]===t?this:n==="state"?this.state(t):n==="pinned"?this._pin():(r&&(e.draggable&&i.draggable&&(i.draggable("destroy"),o=!0),e.resizable&&i.resizable&&(i.resizable("destroy"),s=!0)),this._super(n,t),typeof t=="function")?this:(r&&(this._initContainer(t,1),o&&this._doDraggable(),s&&this._doResizable()),n==="draggable"&&(t?this._doDraggable():i.draggable&&i.draggable("destroy")),n==="resizable"&&(t?this._doResizable():this._resize&&(this._resize=t,i.resizable("destroy"))),n==="modal"&&this._doModal(),(n.indexOf("Button")>0||n==="image"||n==="headerText"||n==="showHeader")&&(this._doHeader(),f=!0),n.indexOf("ooter")>0&&(this._doFooter(),f=!0),n==="tabIndex"&&i.attr("tabIndex",t),n==="zIndex"&&(i.css("zIndex",t),this._save()),this._vis&&(u=n==="position",(r||f||u||n.indexOf("idth")>0||n.indexOf("eight")>0)&&this._doSize(u||r)),n.indexOf("Foc")>0&&(this._header.removeClass(this.css.headerFocus),n==="trackFocus"&&t!==(this._focBind?!0:!1)&&(this._opened?(this._doClose(),this._open()):(this._open(),this._doClose()))),this)}}),n.extend(n.ui.igDialog,{version:"19.2.25"})}(n),function(n){n.widget("ui.igPopover",n.ui.igWidget,{css:{baseClasses:"ui-widget ui-igpopover",arrowBaseClass:"ui-igpopover-arrow ui-igpopover-arrow-",closeButtonClass:"ui-icon ui-icon-closethick ui-igpopover-close-button",titleClass:"ui-igpopover-title"},options:{closeOnBlur:!0,direction:"auto",directionPriority:["bottom","top","right","left"],position:"auto",width:null,height:null,minWidth:60,maxWidth:200,maxHeight:200,animationDuration:150,contentTemplate:null,selectors:null,headerTemplate:{closeButton:!1,title:null},showOn:"mouseenter",containment:null,appendTo:"body"},events:{showing:"showing",shown:"shown",hiding:"hiding",hidden:"hidden"},_create:function(){this._target=this.options.selectors===null||this.options.selectors===undefined?this.element:null,this._arrowDir={bottom:"top",top:"bottom",right:"left",left:"right"},this._positions=["balanced","start","end"],this._visible=!1,this._useDocumentBoundary=!1;n(window).on("resize.popover",n.proxy(this._resizeHandler,this))},_createWidget:function(t,i){t&&t.directionPriority!==this.options.directionPriority&&(t.directionPriority=this._normalizePriority(t.directionPriority)),this._superApply(arguments),this.element=n(i),i&&i.nodeType!==undefined&&this._renderPopover()},_setOption:function(n,t){this._super(n,t);switch(n){case"direction":this._resizeHandler();break;case"directionPriority":this.options.directionPriority=this._normalizePriority(t);break;case"headerTemplate":case"selectors":case"width":case"height":case"maxWidth":case"maxHeight":case"minWidth":case"showOn":throw new Error(this._getLocaleValue("popoverOptionChangeNotSupported")+" "+n);}},destroy:function(){return this._detachEventsFromTarget(),n(window).off("resize.popover",this._resizeHandler),this.popover.remove(),this._superApply(arguments),this},id:function(){return this.element[0].id},container:function(){return this.contentInner},show:function(n,t){var i=n||this._target;if(t&&this._setNewContent(t),i===null)throw new Error(this._getLocaleValue("popoverShowMethodWithoutTarget"));this._openPopover(i,!0)},hide:function(){this._closePopover(!0)},getContent:function(){return this.contentInner.html()},setContent:function(n){typeof n=="string"&&this._setNewContent(n)},target:function(){return this._currentTarget?this._currentTarget:null},getCoordinates:function(){var n={left:0,top:0};return n.left=this.popover.css("left"),n.top=this.popover.css("top"),n},setCoordinates:function(n){this.popover.css({top:n.top,left:n.left})},_renderPopover:function(){this.popover=n("<div><\/div>").addClass(this.css.baseClasses),this.id()&&this.popover.attr("id",this.id()+"_popover"),this.options.direction!=="auto"&&(this.arrow=n("<div><\/div>").addClass(this.css.arrowBaseClass+this._arrowDir[this.options.direction]).appendTo(this.popover),this.id()&&this.arrow.attr("id",this.id()+"_popover_arrow")),this.popover.appendTo(this.options.appendTo),this._attachEventsToTarget(),this._createContentDiv()},_createContentDiv:function(){var i,t,r,u=this._isTouchDevice()&&n.ig.util.isIE,f,e;i=n("<div><\/div>").css("position","relative").css("max-width",this.options.maxWidth).css("max-height",this.options.maxHeight).css("min-width",this.options.minWidth).css("width",u?"auto":this.options.width||"auto").css("height",u?"auto":this.options.height||"auto").addClass("ui-widget-content ui-corner-all").appendTo(this.popover),this.id()&&i.attr("id",this.id()+"_popover_contentFrame"),this.options.headerTemplate!==null&&(this.options.headerTemplate.closeButton&&(f=n("<div><\/div>").addClass(this.css.closeButtonClass).bind("click.popover",n.proxy(this._closeBtnClick,this)).appendTo(i),this.id()&&f.attr("id",this.id()+"_popover_closeBtn")),this.options.headerTemplate.title!==null&&(e=n("<div><\/div>").addClass(this.css.titleClass).html(this.options.headerTemplate.title).appendTo(i),this.id()&&e.attr("id",this.id()+"_popover_title"))),t=this.options.contentTemplate,(typeof t=="string"||!t)&&this._target?t=this.options.contentTemplate||this._target[0].title||"":this.options.selectors===null||this._target||t?typeof t=="function"&&this._target&&(t=this._getContentTemplate(this._target[0])):this.options.contentTemplate=function(){return n(this).attr("title")},r=this.options.headerTemplate.closeButton&&(this.options.headerTemplate.title===null||this.options.headerTemplate.title==="")?n(".ui-icon").width():null,this.contentInner=n("<div><\/div>").css("position","relative").css("margin-right",r).html(t).appendTo(i),this.id()&&this.contentInner.attr("id",this.id()+"_popover_contentInner"),n("<div><\/div>").css("clear","both").appendTo(i)},_updateArrowDiv:function(t,i){var r=this.contentInner.parent(),u;this.arrow?this.arrow.removeClass("ui-igpopover-arrow-left ui-igpopover-arrow-right ui-igpopover-arrow-bottom ui-igpopover-arrow-top").addClass(this.css.arrowBaseClass+this._arrowDir[t]):(this.arrow=n("<div><\/div>").addClass(this.css.arrowBaseClass+this._arrowDir[t]).appendTo(this.popover),this.id()&&this.arrow.attr("id",this.id()+"_popover_arrow")),u=this._getHiddenElementsDimensions([this.arrow,r],i);switch(t){case"top":r.css({left:"",top:u[0].height*-1,float:""}),this.arrow.css({left:"",top:"",float:""});break;case"bottom":r.css({left:"",top:u[0].height,float:""}),this.arrow.css({left:"",top:"",float:""});break;case"left":r.css({left:u[0].width*-1,top:"",float:"left"}),this.arrow.css({left:"",top:"",float:"left"});break;case"right":r.css({left:u[0].width,top:"",float:"left"}),this.arrow.css({left:"",top:"",float:"left"})}this.oDir=t},_targetMouseLeave:function(){this._hoveredTarget=null,this.options.closeOnBlur===!0&&this._closePopover()},_targetMouseMove:function(t){var i=this;this._target?this._openPopover(n(this._target)):(n(t.currentTarget).addClass("is-hover"),setTimeout(function(){i._hoveredTarget===t.currentTarget&&(i._openPopover(n(t.currentTarget)),n(t.currentTarget).removeClass("is-hover"))},i.options.animationDuration),this._hoveredTarget=t.currentTarget)},_targetClick:function(t){var i=this._target||t.currentTarget;n(i).data("onFocus")&&this.container().is(":visible")?(this._closePopover(),n(i).data("onFocus",!1)):(this._openPopover(n(i)),n(i).focus(),n(i).data("onFocus",!0))},_targetBlur:function(t){var i=this._target||t.currentTarget,r=this;setTimeout(function(){n(i).data("onFocus")&&r.options.closeOnBlur===!0&&(r._closePopover(),n(i).data("onFocus",!1))},10)},_focusin:function(t){var i=this._target||t.currentTarget;this._openPopover(n(i))},_focusout:function(){this.options.closeOnBlur===!0&&this._closePopover()},_closeBtnClick:function(n){this._closePopover(),n.stopPropagation()},_resizeHandler:function(){this._visible&&this._currentTarget&&this._positionPopover(this._currentTarget)},_attachEventsToTarget:function(){var t=this,i=this._target,r,u,f,e;switch(this.options.showOn){case"click":r="click.popover",u="blur.popover",f=t._targetClick,e=t._targetBlur;break;case"focus":r="focusin.popover",u="focusout.popover",f=t._focusin,e=t._focusout;break;case"mouseenter":r="mouseenter.popover",u="mouseleave.popover",f=t._targetMouseMove,e=t._targetMouseLeave;break;default:return}i&&(window.HTMLElement!==undefined&&(i instanceof HTMLElement||i instanceof n)&&r||typeof i[0]=="object"&&i[0].nodeType===1&&typeof i[0].style=="object"&&typeof i[0].ownerDocument=="object")?(n(i).unbind(r).bind(r,n.proxy(f,this)),n(i).unbind(u).bind(u,n.proxy(e,this))):this.options.selectors&&r&&this.element.find(t.options.selectors).addBack().each(function(){var i=n(this)[0];i!==t.element[0]&&(n(i).unbind(r).bind(r,n.proxy(f,t)),n(i).unbind(u).bind(u,n.proxy(e,t)))})},_detachEventsFromTarget:function(){var t=this._target,i=this;t&&(window.HTMLElement!==undefined&&(t instanceof HTMLElement||t instanceof n)||typeof t[0]=="object"&&t[0].nodeType===1&&typeof t[0].style=="object"&&typeof t[0].ownerDocument=="object")?n(t).unbind(".popover"):this.options.selectors&&this.element.find(i.options.selectors).addBack().each(function(){var t=n(this);n(t).unbind(".popover")})},_positionPopover:function(n){var t=0,i,r;if(this.options.direction==="auto"){do this._updateArrowDiv(this.options.directionPriority[t],n),i="_"+this.options.directionPriority[t]+"Position",r=this[i](n),t++;while(r===!1&&t<this.options.directionPriority.length);if(r===!1&&!this.options.containment){t=0,this._useDocumentBoundary=!0;do this._updateArrowDiv(this.options.directionPriority[t],n),i="_"+this.options.directionPriority[t]+"Position",r=this[i](n),t++;while(r===!1&&t<this.options.directionPriority.length)}if(r===!1)return}else this._updateArrowDiv(this.options.direction,n),i="_"+this.options.direction+"Position",this[i](n)},_findProperPosition:function(t,i,r){var l,w,f,u,a=n(window),e,b,h,s,k,v,o=r.offsetParent(),c=!1,y=n.ig.util.offset(r).left+r.outerWidth(),p=n.ig.util.offset(o).left+o.outerWidth();return t==="left"?(u="left",f="outerWidth",b=a.scrollLeft()):(u="top",f="outerHeight",b=a.scrollTop()),h=b+(f==="outerWidth"?a.width():a.height()),v=this.options.containment,this.options.containment&&(s=n.ig.util.offset(v)[u],s=f==="outerWidth"?s+v.outerWidth():s+v.outerHeight(),h>s&&(h=s)),n.ig.util.offset(r)[u]+r[f]()>h?e=h-n.ig.util.offset(r)[u]:u==="left"&&n.ig.util.offset(r)[u]<n.ig.util.offset(o)[u]&&y>p?(e=o[f](),c=!0):u==="left"&&n.ig.util.offset(r)[u]<p&&y>p?e=p-n.ig.util.offset(r)[u]:u==="left"&&n.ig.util.offset(r)[u]<n.ig.util.offset(o)[u]&&n.ig.util.offset(o)[u]<y?(e=y-n.ig.util.offset(o)[u],c=!0):e=r[f](),e>this.popover[f]()?(k=c?n.ig.util.offset(o)[u]:n.ig.util.offset(r)[u],w=k+e/2-this.popover[f]()/2,l=t==="left"?this._checkCollision(i,w,r,this.options.direction!=="auto",!0):this._checkCollision(w,i,r,this.options.direction!=="auto",!0)):l=this._cyclePossiblePositions(r,t,u,f,e,c,i),l===!0&&this._adjustArrowPosition(r,t,u,f,e,c),l},_cyclePossiblePositions:function(n,t,i,r,u,f,e){var c=0,o,h,s;if(this.options.position==="auto"){do h=this._positions[c],o=this._getCounterPosition(n,u,h,i,r,f),s=t==="left"?this._checkCollision(e,o,n,!1,!1):this._checkCollision(o,e,n,!1,!1);while(s===!1&&++c<this._positions.length);s||this.options.direction==="auto"||(h=this._positions[0],o=this._getCounterPosition(n,u,h,i,r,f),s=t==="left"?this._checkCollision(e,o,n,!1,!0):this._checkCollision(o,e,n,!1,!0))}else o=this._getCounterPosition(n,u,this.options.position,i,r,f),s=t==="left"?this._checkCollision(e,o,n,!0,!1):this._checkCollision(o,e,n,!0,!1);return s},_getCounterPosition:function(t,i,r,u,f,e){var o,s=e?n.ig.util.offset(t.offsetParent())[u]:n.ig.util.offset(t)[u];switch(r){case"balanced":o=s+i/2-this.popover[f]()/2;break;case"start":o=s;break;case"end":o=s-this.popover[f]()+i}return o},_topPosition:function(t){var i=n.ig.util.offset(t).top-this.popover.outerHeight(),r=n.ig.util.offset(t.offsetParent()).top-this.popover.outerHeight();return i<r&&(i=r),this._findProperPosition("left",i,t)},_bottomPosition:function(t){var i=n.ig.util.offset(t).top+t.outerHeight(),r=n.ig.util.offset(t.offsetParent()).top+t.offsetParent().outerHeight();return i>r&&(i=r),this._findProperPosition("left",i,t)},_leftPosition:function(t){var i=n.ig.util.offset(t).left-this.popover.outerWidth(),r=n.ig.util.offset(t.offsetParent()).left-this.popover.outerWidth();return i<r&&(i=r),this._findProperPosition("top",i,t)},_rightPosition:function(t){var i=n.ig.util.offset(t).left+t.outerWidth(),r=n.ig.util.offset(t.offsetParent()).right+t.outerWidth();return i>r&&(i=r),this._findProperPosition("top",i,t)},_checkCollision:function(t,i,r,u,f){var v=this.popover.outerWidth(),y=this.popover.outerHeight(),c=n(window),p,w,a,e,s,l,h,o;return(w=c.width()+c.scrollLeft(),p=c.height()+c.scrollTop(),s=w,l=p,h=c.scrollLeft(),o=c.scrollTop(),e=this.options.containment,this.options.containment&&(h<n.ig.util.offset(e).left&&(h=n.ig.util.offset(e).left),n.ig.util.offset(e).left+e.outerWidth()<s&&(s=n.ig.util.offset(e).left+e.outerWidth()),l>n.ig.util.offset(e).top+e.outerHeight()&&(l=n.ig.util.offset(e).top+e.outerHeight()),o<n.ig.util.offset(e).top&&(o=n.ig.util.offset(e).top)),this._useDocumentBoundary&&(h=0,s=n(document).width(),l=n(document).height(),o=0),u&&(i<h&&(i=h),t<o&&(t=o)),n.ig.util.offset(r).left+v/2>s&&this.options.direction!=="right"&&(i=s-v),(n.ig.util.offset(r).top+y+this.arrow.height()>l&&this.oDir==="bottom"||n.ig.util.offset(r).top-y-this.arrow.height()<o&&this.oDir==="top")&&this.options.selectors)?!1:(i<h||i+v>s||t<o||t+y>l)&&(!f||this.options.direction==="auto")?!1:(!n(this.options.appendTo).is("body")&&this._target&&(a=n.ig.util.getRelativeOffset(this.popover),t=t-a.top,i=i-a.left<0?0:i-a.left),this.popover.css({top:t,left:i}),!0)},_normalizePriority:function(t){var r=["bottom","top","right","left"],u=[],i;if(!n.isArray(t))return r;for(i=0;i<t.length;i++)n.inArray(t[i].toLowerCase(),r)>-1&&u.push(t[i]);return u.length?u:r},_openPopover:function(t,i){var r,f,e=this.getContent(),u=this;r={element:t,content:e,popover:this.popover,owner:this},n(this.popover).data("isAnimating",!0),f=i||this._trigger(this.events.showing,this,r),f===!0&&(u._restoreOriginalTitle(u._currentTarget),r.content!==e?this._setNewContent(r.content):typeof this.options.contentTemplate=="function"&&(r.content=this._getContentTemplate(t[0]),this._setNewContent(r.content||"")),this._positionPopover(t),this._currentTarget=t,n(this.popover).data("isAnimating",!1),this.popover.stop(!0,!0).fadeIn(this.options.animationDuration,function(){u.popover.css("display","block"),i||u._trigger(u.events.shown,u,r)}),this._visible=!0,this._useDocumentBoundary=!1,this._removeOriginalTitle(t))},_closePopover:function(t){var r,u,i=this;r={element:this._currentTarget,content:this.getContent(),popover:this.popover,owner:this},n(this.popover).data("isAnimating",!0),u=t||this._trigger(this.events.hiding,this,r),u===!0&&(n(this.popover).data("isAnimating",!1),this.popover.stop(!0,!0).fadeOut(this.options.animationDuration,function(){i.popover.css("display","none"),t||i._trigger(i.events.hidden,i,r)}),this._visible=!1)},_mouseenter:function(t){this._removeOriginalTitle(n(t._currentTarget))},_removeOriginalTitle:function(n){while(n.length&&!n.is("body"))n.attr("title")&&(n.data("popover-title",n.attr("title")),n.attr("title","")),n=n.parent()},_restoreOriginalTitle:function(n){n&&n.data("popover-title")&&(n.attr("title",n.data("popover-title")),n.removeData("popover-title"))},_adjustArrowPosition:function(t,i,r,u,f,e){var s={left:0,top:0},o,h=e?n.ig.util.offset(t.offsetParent())[r]:n.ig.util.offset(t)[r];!n(this.options.appendTo).is("body")&&this._target&&(s=n.ig.util.getRelativeOffset(this.popover)),i==="top"?this.arrow.css({top:n.ig.util.offset(t)[r]-parseInt(this.popover.css(r),10)-s.top+f/2-this.arrow.height()/2}):(o=h-parseInt(this.popover.css(r),10)-s.left+f/2,o=o<parseInt(this.arrow.css("border-left-width"),10)?parseInt(this.arrow.css("border-left-width"),10):o,this.arrow.css({left:o}))},_getHiddenElementsDimensions:function(n,t){var u=[],i,r;for(this.options.containment===null&&(this.popover.css("left",t.igPosition().left),this.popover.css("top",t.igPosition().top)),this._visible||this.popover.show(),i=0;i<n.length;i++)r=n[i],u.push({width:r.outerWidth(),height:r.outerHeight()});return this._visible||this.popover.hide(),u},_getContentTemplate:function(n){var t="";return n&&(t=this.options.contentTemplate.call(n)),t},_setNewContent:function(t){var i=t;t instanceof n?i=t.html():typeof t=="object"&&(i=t.innerHTML),this.contentInner.html(i)},_isTouchDevice:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}}),n.fn.addBack||(n.fn.addBack=function(n){return this.add(n===null||n===undefined?this.prevObject:this.prevObject.filter(n))}),n.extend(n.ui.igPopover,{version:"19.2.25"})}(n),function(n){n.widget("ui.igNotifier",n.ui.igPopover,{css:{baseClasses:"ui-widget ui-igpopover ui-ignotify",contentInner:"ui-ignotify-content",inline:"ui-ignotify-inline",iconContainer:"ui-ignotify-icon-container",infoState:"ui-ignotify-info",infoIcon:"ui-icon ui-icon-info",successState:"ui-ignotify-success",successIcon:"ui-icon ui-icon-circle-check",warningState:"ui-ignotify-warn",warningIcon:"ui-icon ui-icon-alert",errorState:"ui-ignotify-error",errorIcon:"ui-icon ui-icon-circle-close"},options:{state:"info",notifyLevel:"success",appendTo:"body",mode:"auto",allowCSSOnTarget:!0,showIcon:!1,contentTemplate:"<span class='{0}'><span class='{1}'><\/span><\/span>{2}",headerTemplate:{closeButton:!0,title:null},showOn:"manual",closeOnBlur:!1,animationDuration:250,animationSlideDistance:5,selectors:null},inlineStates:["success","error"],_create:function(){this._super(),this._setOption("directionPriority",["top","left","right","bottom"]),this._states=["success","info","warning","error"],this._modes=["auto","popover","inline"],this._currentText=this._getDefaultMessageByState(this.options.state)},_getDefaultMessageByState:function(n){return this._getLocaleValue(n+"Msg")},changeLocale:function(){this.contentInner.attr("data-default-locale")&&(this._currentText=this._getDefaultMessageByState(this.options.state),this._setNewContent(this._getTemplate()))},_setState:function(t,i){if(n.inArray(t,this._states)===-1)throw new Error(this._getLocaleValue("notSupportedState"));if(i!==undefined?(this._currentText=i,this.contentInner.removeAttr("data-default-locale")):this.contentInner.attr("data-default-locale",!0),this.options.state!==t&&(this._currentText=i!==undefined?this._currentText:this._getDefaultMessageByState(t),this._previousState=this.options.state,this.options.state=t,this._visible&&this._setTargetState(),this._isInline(t)!==this._isInline(this._previousState))){this._setMode(this.options.mode,!0);return}this.popover.removeClass(this.css[this._previousState+"State"]).addClass(this.css[this.options.state+"State"]),this._setNewContent(this._getTemplate())},_setTargetState:function(n){this._target.removeClass(this.css[this._previousState+"State"]).removeClass(this.css[this.options.state+"State"]),this.options.allowCSSOnTarget&&!n&&this._target.addClass(this.css[this.options.state+"State"])},_setOption:function(n,t){switch(n){case"state":this._setState(t),this._visible&&!this._isInline()&&(this._positionPopover(this._target),this._slide());break;case"mode":typeof t=="string"&&this._setMode(t);break;case"contentTemplate":typeof t=="string"&&(this.options.contentTemplate=t,this._setNewContent(this._getTemplate()));break;case"allowCSSOnTarget":typeof t=="boolean"&&(this.options.allowCSSOnTarget=t,this._visible&&this._setTargetState(!t));break;case"showIcon":this.options.showIcon=t,this._visible&&this._setNewContent(this._getTemplate());break;default:this._superApply(arguments)}},_setMode:function(t,i){if(n.inArray(t,this._modes)===-1)throw new Error(this._getLocaleValue("notSupportedMode"));(this.options.mode!==t||i)&&(this.popover.remove(),delete this.arrow,this.options.mode=t,this._renderPopover(),this._visible&&(this._isInline()||this._positionPopover(this._target),this.popover.show(),this._slide()))},_isInline:function(t){var i=t||this.options.state;return this.options.mode==="inline"?!0:this.options.mode==="auto"&&n.inArray(i,this.inlineStates)>-1},notify:function(t,i){n.inArray(t,this._states)>=n.inArray(this.options.notifyLevel,this._states)?this._visible&&this.options.state===t&&this._currentText===i||(this._setState(t,i),this.show()):(this.hide(),this._setState(t,i))},isVisible:function(){return this._visible},_renderPopover:function(){this._isInline()?(this.popover=n("<div><\/div>").addClass(this.css.baseClasses).addClass(this.css.inline),this.contentInner=n("<div><\/div>").appendTo(this.popover),this.popover.insertAfter(this._target),this._attachEventsToTarget()):n.ui.igPopover.prototype._renderPopover.apply(this,arguments),this._setState(this.options.state),this.contentInner.addClass(this.css.contentInner)},_openPopover:function(){var i=this._visible,t;this.popover.is(":animated")&&this.popover.stop(!0),this._visible=!1,n.ui.igPopover.prototype._openPopover.apply(this,arguments),this._visible?(t=this._visible!==i,this._slide(!t),t&&this._setTargetState()):this._visible=i},_slide:function(n){if(this.options.animationSlideDistance&&this.oDir&&!this._isInline()){var t;switch(this.oDir){case"top":t={top:"-="+this.options.animationSlideDistance+"px"};break;case"bottom":t={top:"+="+this.options.animationSlideDistance+"px"};break;case"left":t={left:"-="+this.options.animationSlideDistance+"px"};break;case"right":t={left:"+="+this.options.animationSlideDistance+"px"}}this.popover.animate(t,{queue:!1,duration:n?0:this.options.animationDuration})}},_resizeHandler:function(n){this._visible&&this._currentTarget&&(this._positionPopover(this._currentTarget),this._slide(n))},_attachEventsToTarget:function(){this.options.showOn!=="manual"&&n.ui.igPopover.prototype._attachEventsToTarget.apply(this,arguments)},_closePopover:function(){var t=this._visible;n.ui.igPopover.prototype._closePopover.apply(this,arguments),this._visible||this._visible===t||this._setTargetState(!0)},_positionPopover:function(){this._isInline()||n.ui.igPopover.prototype._positionPopover.apply(this,arguments)},_getTemplate:function(){var n=this.options.contentTemplate;return typeof n=="function"&&this._target&&(n=this._getContentTemplate(this._target[0])),n},_getContentTemplate:function(n){var t="";return n&&(t=this.options.contentTemplate.call(n,this.options.state)),t},_setNewContent:function(t){var i=t,r=this.css.iconContainer,u="";t instanceof n?i=t.html():typeof t=="object"&&(i=t.innerHTML),this.options.showIcon?u=this.css[this.options.state+"Icon"]:r+=" hidden",i=i.replace(/\{0\}/g,r).replace(/\{1\}/g,u).replace(/\{2\}/g,this._currentText),this.contentInner.html(i)},destroy:function(){return this._setTargetState(!0),this._superApply(arguments),this}}),n.extend(n.ui.igNotifier,{version:"19.2.25"})}(n),function(n){n.widget("ui.igBaseEditor",n.ui.igWidget,{localeWidgetName:"Editor",options:{width:null,height:null,value:null,tabIndex:null,allowNullValue:!1,nullValue:null,inputName:null,readOnly:!1,disabled:!1,validatorOptions:null},css:{editor:"ui-igedit-input",container:"ui-igedit ui-igedit-container ui-widget ui-corner-all ui-state-default",hover:"ui-state-hover",active:"ui-state-active",focus:"ui-state-focus",disabled:"ui-state-disabled"},events:{rendering:"rendering",rendered:"rendered",mousedown:"mousedown",mouseup:"mouseup",mousemove:"mousemove",mouseover:"mouseover",mouseout:"mouseout",blur:"blur",focus:"focus",keydown:"keydown",keypress:"keypress",keyup:"keyup",valueChanging:"valueChanging",valueChanged:"valueChanged"},_createWidget:function(n){this._definedOptions=n,this._superApply(arguments)},_create:function(){this._initialize(),this._readAttributes(),this._saveDOMConent(),this._render(),this.localeContainer=this._editorContainer},_initialize:function(){this._timeouts=[]},_readAttributes:function(){this._saveAttributes(),this._removeAttributesAndSetThemAsOptions()},_saveAttributes:function(){var n,i=this.element[0],t;for(this._initialAttributes=[],t=i.attributes,n=0;n<t.length;n++)t[n].name!=="id"&&this._initialAttributes.push({name:t[n].name,attrValue:t[n].value})},_removeAttributesAndSetThemAsOptions:function(){var n=this.element,t=n.attr("name"),i=n.attr("value"),r=n.attr("disabled"),u=n.attr("readOnly");t&&(n.removeAttr("name"),this.options.inputName===null&&(this.options.inputName=t)),i&&(n.removeAttr("value"),this.options.value===null&&(this.options.value=i)),r&&(n.removeAttr("disabled"),(this._definedOptions===undefined||this._definedOptions.disabled===undefined)&&(this.options.disabled=!0)),u&&(n.removeAttr("readonly"),(this._definedOptions===undefined||this._definedOptions.readOnly===undefined)&&(this.options.readOnly=!0)),delete this._definedOptions},_saveDOMConent:function(){this.element.children().length>0&&(this._initialDOMContent=this.element.children().clone(!0),this.element.empty())},_render:function(){throw new Error(this._getLocaleValue("renderErrMsg"));},_applyOptions:function(){this.options.tabIndex!==null&&this._setTabIndex(this.options.tabIndex),this.options.readOnly&&this._setReadOnly(!0),this.options.disabled&&this._setDisabled(!0),this.options.inputName&&this.inputName(this.options.inputName),this.options.validatorOptions&&this._setupValidator()},_attachEvents:function(){var n=this;this._editorContainer.on({"mousedown.editor":function(t){n._triggerMouseDown(t)},"mouseup.editor":function(t){n._triggerMouseUp(t)},"mousemove.editor":function(t){n._triggerMouseMove(t)},"mouseover.editor":function(t){n._triggerMouseOver(t)},"mouseout.editor":function(t){n._triggerMouseOut(t)}})},_setupValidator:function(){if(this.element.igValidator){var t=n.extend({},{language:this.options.language,locale:this.options.locale},this.options.validatorOptions);this._validator=this.element.igValidator(t).data("igValidator"),this._validator.owner=this}},_destroyValidator:function(){this._validator&&this._validator.owner===this&&(this._validator.destroy(),this._validator=null)},_applyAria:function(){var n=this.element.attr("aria-labelledby");n&&(this.element.removeAttr("aria-labelledby"),this._editorInput.attr("aria-labelledby",n)),this._dropDownButton?this._editorInput.attr("role","combobox"):this._editorInput.attr("role","textbox")},_triggerRendering:function(){var n={element:this.element,owner:this};return this._trigger(this.events.rendering,null,n)},_triggerRendered:function(){var n={element:this.element,owner:this};this._trigger(this.events.rendered,null,n)},_triggerMouseMove:function(n){var t={owner:this,element:n.target,editorInput:this._editorInput};this._trigger(this.events.mousemove,n,t)},_triggerMouseDown:function(n){this._editorContainer.addClass(this.css.active);var t={owner:this,element:n.target,editorInput:this._editorInput};return this._trigger(this.events.mousedown,n,t)},_triggerMouseUp:function(n){this._editorContainer.removeClass(this.css.active);var t={owner:this,element:n.target,editorInput:this._editorInput};this._trigger(this.events.mouseup,n,t)},_triggerMouseOver:function(n){this._editorContainer.addClass(this.css.hover);var t={originalEvent:n,owner:this,element:n.target,editorInput:this._editorInput};this._trigger(this.events.mouseover,n,t)},_triggerMouseOut:function(n){this._editorContainer.removeClass(this.css.hover);var t={originalEvent:n,owner:this,element:n.target,editorInput:this._editorInput};this._trigger(this.events.mouseout,n,t)},_triggerFocus:function(n){this._editorContainer.addClass(this.css.focus);var t={originalEvent:n,owner:this,element:n.target,editorInput:this._editorInput};this._trigger(this.events.focus,n,t)},_triggerBlur:function(n){this._editorContainer.removeClass(this.css.focus),this._editorContainer.removeClass(this.css.active),this._clearEditorNotifier();var t={owner:this,element:n.target,editorInput:this._editorInput};this._trigger(this.events.blur,n,t)},_setOption:function(t,i){var r=this.options[t];if(r!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"readOnly":this._setReadOnly(i);break;case"disabled":this._setDisabled(i);break;case"width":this._setWidth(i);break;case"height":this._setHeight(i);break;case"validatorOptions":this._setupValidator();break;case"tabIndex":this._setTabIndex(i);break;case"inputName":this._valueInput.attr("name",i);break;default:this.options[t]=r,this._super(t,i)}}},_validateValue:function(n){return n?!0:!1},_updateValue:function(n){this._valueInput.val(n),this.options.value=n},_clearValue:function(n){var t="";this.options.allowNullValue&&(t=this.options.nullValue),this._validateValue(t)||(t=""),n?this._editorInput.val(t):this._updateValue(t)},_detachEvents:function(){this._detachButtonsEvents&&this._detachButtonsEvents(),this._detachListEvents&&this._detachListEvents(),this._editorContainer&&this._editorContainer.off("mousedown.editor mouseup.editor mouseover.editor mouseout.editor")},_detachButtonsEvents:function(){this._dropDownList&&this._detachListEvents(),this._dropDownButton&&this._detachButtonsEvents(this._dropDownButton),this._clearButton&&this._detachButtonsEvents(this._clearButton),this._spinUpButton&&this._detachButtonsEvents(this._spinUpButton),this._spinDownButton&&this._detachButtonsEvents(this._spinDownButton)},_restoreDOMStructure:function(){this._removeDOM(),this._removeAttributes(),this._setPropsDefaults(),this._recoverInitialAttributes(),this._recoverInitialDOMContent()},_removeDOM:function(){this._removeList(),this._removeClearButton(),this._removeSpinButtons(),this._removeContainer()},_removeContainer:function(){this._valueInput&&this._valueInput.remove(),this.element.is("input")?this.element.unwrap().unwrap():this.element.is("div")?this.element.empty():this.element.is("span")&&(this.element.empty(),this.element.unwrap().unwrap())},_removeList:function(){this._dropDownList&&(this._deleteList(),this._deleteDropDownButton())},_removeClearButton:function(){this._clearButton&&(this._clearButton.remove(),delete this._clearButton)},_removeSpinButtons:function(){this._spinUpButton&&(this._spinUpButton.remove(),delete this._spinUpButton),this._spinDownButton&&(this._spinDownButton.remove(),delete this._spinDownButton)},_removeAttributes:function(){for(var i=this.element,t=i[0].attributes,r="",n=0;n<t.length;n++)t[n].name!=="id"&&(r+=t[n].name+" ");i.removeAttr(r.trim())},_setPropsDefaults:function(){var n=this.element[0];n.disabled=!1,n.readOnly=!1,n.checked=!1,n.value=null},_recoverInitialAttributes:function(){var t;if(this._initialAttributes){for(t=0;t<this._initialAttributes.length;t++)this._initialAttributes[t].name!=="id"&&(this.element.attr(this._initialAttributes[t].name,this._initialAttributes[t].attrValue),this._initialAttributes[t].name==="value"&&this.element.is("input")&&n(this.element).val(this._initialAttributes[t].attrValue));delete this._initialAttributes}},_recoverInitialDOMContent:function(){this._initialDOMContent&&(this._initialDOMContent.appendTo(this.element),delete this._initialDOMContent)},_clearStyling:function(){this._editorContainer&&this._editorContainer.removeClass(this.css.container).removeClass(this.css.hover).removeClass(this.css.active),this._editorInput&&this._editorInput.removeClass(this.css.editor)},_deleteInternalProperties:function(){delete this._editorInput,delete this._editorContainer,delete this._valueInput,this._timeouts&&delete this._timeouts},_clearTimeouts:function(){var n,t=this._timeouts;if(t&&t instanceof Array){for(n=0;n<t.length;n++)clearTimeout(t[n]);this._timeouts=[]}},_disableEditor:function(n){n&&this._editorContainer.addClass(this.css.disabled),this._detachEvents()},_setEditableMode:function(){this._editorInput.prop("readonly",!1),this._valueInput.prop("readonly",!1),this._editorInput.prop("disabled",!1),this._valueInput.prop("disabled",!1),this._editorContainer.removeClass(this.css.disabled),this._attachEvents()},_setDisabled:function(n){n?(this._editorInput.prop("disabled",!0),this._valueInput.prop("disabled",!0),this._disableEditor(!0)):(this._editorInput.prop("disabled",!1),this._valueInput.prop("disabled",!1),this.options.readOnly||this._setEditableMode())},_setReadOnly:function(n){n?(this._editorInput.prop("readonly",!0),this._valueInput.prop("readonly",!0),this._disableEditor()):(this._editorInput.prop("readonly",!1),this._valueInput.prop("readonly",!1),this.options.disabled||this._setEditableMode(),this._editorInput.off(".readonly"))},_setWidth:function(n){n&&this._editorContainer.css("width",this.options.width)},_setHeight:function(n){n&&this._editorContainer.css("height",this.options.height)},_setTabIndex:function(n){this._editorInput.attr("tabIndex",n)},_setFocusDelay:function(n){var t=this;n?this._timeouts.push(setTimeout(function(){t.field().focus()},n)):this.field().focus()},_setFocus:function(n){this._focused||(this._focused=!0,this._enterEditMode(),n&&this._triggerFocus(n))},_setBlur:function(t){var i;this._cancelBlurOnInput?(this._editorInput.focus(),delete this._cancelBlurOnInput):(this._triggerBlur(t),i=n(t.target).val(),this._currentInputTextValue=this._editorInput.val(),this._processValueChanging(i),this._processTextChanged(),this._exitEditMode(),this._dropDownList&&this._dropDownList.is(":visible")&&this._triggerDropDownClosing()&&this._hideDropDownList(),this._focused=!1,this._clearTimeouts(),this._validator&&this._validator._validateInternal(this.element,t,!0),this._inComposition===!0&&delete this._inComposition)},inputName:function(n){if(n)this.options.inputName=n,this._valueInput.attr("name",n);else return this.options.inputName},value:function(n){var t;if(n!==undefined)this._clearEditorNotifier(),this.options.maxLength&&n&&n.toString().length>this.options.maxLength&&(n=n.toString().substring(0,this.options.maxLength),this._sendNotification("warning",{optName:"maxLengthErrMsg",arg:this.options.maxLength})),this._validateValue(n)?(this.options.toUpper?n&&(n=n.toLocaleUpperCase()):this.options.toLower&&n&&(n=n.toLocaleLowerCase()),this._dropDownList&&this.options.isLimitedToListValues&&(t=this._valueIndexInList(n))!==-1&&(n=this.options.listItems[t]),this._updateValue(n),this._editorInput.val(this._getDisplayValue())):(this._clearValue(),this._focused!==!0&&this._exitEditMode());else return this.options.value;this._checkClearButtonState()},field:function(){return this._editorInput},editorContainer:function(){return this._editorContainer},hasFocus:function(){return this._focused},setFocus:function(n){this._setFocusDelay(n)},hide:function(){this._editorContainer.hide()},show:function(){this._editorContainer.show()},validator:function(){return this._validator},isValid:function(){this._skipMessages=!0;var n=this._validateValue(this._editMode?this.field().val():this.value());return this._skipMessages=!1,n},validate:function(){return this.options.validatorOptions?this.validator().validate():this._validateValue(this.value())},destroy:function(){return this._destroyValidator(),this._detachEvents(),this._clearTimeouts(),this._clearStyling(),this._restoreDOMStructure(),this._deleteInternalProperties(),delete this.options,this._superApply(arguments),this}}),n.extend(n.ui.igBaseEditor,{version:"19.2.25"}),n.widget("ui.igTextEditor",n.ui.igBaseEditor,{options:{buttonType:"none",listItems:null,listWidth:0,listItemHoverDuration:0,dropDownAttachedToBody:!1,dropDownAnimationDuration:300,visibleItemsCount:5,includeKeys:null,excludeKeys:null,textAlign:"left",placeHolder:null,selectionOnFocus:"selectAll",textMode:"text",spinWrapAround:!1,isLimitedToListValues:!1,revertIfNotValid:!0,preventSubmitOnEnter:!1,dropDownOrientation:"auto",maxLength:null,dropDownOnReadOnly:!1,toUpper:!1,toLower:!1,suppressNotifications:!1,suppressKeyboard:!1},css:{editorInputContainer:"ui-igeditor-input-container ui-corner-all",spinButtonUpImage:"ui-igedit-spinupperimage ui-icon-carat-1-n ui-icon ui-igedit-buttondefault ui-igedit-spinbutton ui-igedit-buttonimage",spinButtonDownImage:"ui-igedit-spinlowerimage ui-icon-carat-1-s ui-icon ui-igedit-buttondefault ui-igedit-spinbutton ui-igedit-buttonimage",dropDownImage:"ui-icon ui-icon-triangle-1-s ui-igedit-buttonimage",dropDownButton:"ui-igedit-dropdown-button ",clearButtonImage:"ui-igedit-buttonimage ui-icon-circle-close ui-icon ui-igedit-buttondefault",clearButton:"ui-igedit-cleararea ui-state-default",buttonCommon:"ui-igedit-button-common ui-unselectable ui-igedit-button-ltr ui-state-default",dropDownList:"ui-igedit-dropdown ui-widget",listItem:"ui-igedit-listitem ui-state-default",listItemHover:"ui-igedit-listitemhover ui-state-hover",listItemActive:"ui-state-active ui-igedit-listitemactive",listItemSelected:"ui-igedit-listitemselected ui-state-highlight",buttonHover:"ui-igedit-buttonhover ui-state-hover",buttonPressed:"ui-igedit-buttonpressed ui-state-highlight",placeHolder:"ui-igedit-placeholder",textArea:"ui-igedit-textarea"},events:{dropDownListOpening:"dropDownListOpening",dropDownListOpened:"dropDownListOpened",dropDownListClosing:"dropDownListClosing",dropDownListClosed:"dropDownListClosed",dropDownItemSelecting:"dropDownItemSelecting",dropDownItemSelected:"dropDownItemSelected",textChanged:"textChanged"},_create:function(){n.ui.igBaseEditor.prototype._create.call(this)},_changeLocaleForNotifier:function(){var n=this._editorContainer.data("igNotifier"),t;n&&n.isVisible()&&(t=this._getMessageForNotifier(this._notifierMessage),n.notify(n.options.state,t))},_changeLocaleForValidator:function(){this._validator&&(this._validator.options.locale=this.options.locale,this._validator.options.language=this.options.language)},changeLocale:function(){this._superApply(arguments),this._changeLocaleForNotifier(),this._changeLocaleForValidator()},_setOption:function(t,i){var r=this.options[t];if(r!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"value":this.value(i);break;case"placeHolder":this._applyPlaceHolder();break;case"suppressNotifications":i&&this._clearEditorNotifier();break;case"listItems":r!==null&&this._deleteList(),this._createList(),this._clearValue();break;case"listWidth":this._setDropDownListWidth();break;case"spinWrapAround":i?(this._enableSpinButton(this._spinDownButton,"spinDown"),this._enableSpinButton(this._spinUpButton,"spinUp")):this._setSpinButtonsState(this.value());break;case"excludeKeys":this._excludeKeysArray=i===""?[]:i.toString().split("");break;case"includeKeys":this._includeKeysArray=i===""?[]:i.toString().split("");break;case"textAlign":this._editorInput.css("text-align",i);break;case"dropDownOnReadOnly":case"visibleItemsCount":case"buttonType":case"dropDownAttachedToBody":this.options[t]=r;throw new Error(this._getLocaleValue("setOptionError")+t);default:this.options[t]=r,this._super(t,i)}}},_updateValue:function(n){n!==null&&n!==undefined&&(n=n.toString()),this._super(n),this._dropDownList&&this._updateDropdownSelection(n)},_applyOptions:function(){var n;this._editMode=!1,this._focused=!1,this._super(),this.options.includeKeys&&(this._includeKeysArray=this.options.includeKeys.toString().split("")),this.options.excludeKeys&&(this._excludeKeysArray=this.options.excludeKeys.toString().split("")),n=this.options.value,this.options.allowNullValue&&n===null&&(n=this.options.nullValue),this.options.maxLength&&n&&n.toString().length>this.options.maxLength&&(n=n.toString().substring(0,this.options.maxLength),this._sendNotification("warning",{optName:"maxLengthErrMsg",arg:this.options.maxLength})),this._validateValue(n)?(this._setInitialValue(n),this._editorInput.val(this._getDisplayValue())):(this._setInitialValue(""),this._editorInput.val(this._getDisplayValue())),this._applyPlaceHolder()},_render:function(){var t,i,r;if(this._triggerRendering(),this.element.attr("id")!==undefined?this.id=this.element.attr("id"):(r=new Date,this.id=r.getTime()),this.element.is("div")||this.element.is("span"))this.options.textMode==="multiline"?(i=n("<textarea rows='4' cols='50'><\/textarea>"),i.addClass(this.css.textArea)):i=this.options.textMode==="password"?n("<input type='password' autocomplete='off'/>"):n("<input type='text' />"),this.element.is("span")&&(i=this.element.html(i)),t=i.wrap(n("<div><\/div>")).parent(),t.addClass(this.css.editorInputContainer),this._editorInputWrapper=t,this.element.is("span")?(this._editorInput=i.children(0),this._editorContainer=t.wrap(n("<div><\/div>")).parent()):(this._editorInput=i,this._editorContainer=this.element),this._editorContainer.prepend(t);else if(this.element.is("input"))this._editorContainer=this.element.wrap(n("<div><\/div>")).parent(),this._editorInput=this.element,t=this._editorInput.wrap(n("<div><\/div>")).parent(),t.addClass(this.css.editorInputContainer),this._editorInputWrapper=t;else if(this.element.is("textarea"))if(this.options.textMode!=="multiline")throw new Error(this._getLocaleValue("multilineErrMsg"));else this._editorContainer=this.element.wrap(n("<div><\/div>")).parent(),this._editorInput=this.element,this._editorInput.addClass(this.css.textArea),t=this._editorInput.wrap(n("<div><\/div>")).parent(),t.addClass(this.css.editorInputContainer),this._editorInputWrapper=t;else throw new Error(this._getLocaleValue("targetNotSupported"));this._editorContainer.addClass(this.css.container),this._editorInput.addClass(this.css.editor),this._editorInput.css("height","100%"),(this.element.is("input")||this.element.is("textarea"))&&this._editorInput.attr("id")!==undefined?this._editorInputId=this._editorInput.attr("id"):(this._editorInput.attr("id",this.id+"EditingInput"),this._editorInputId=this.id+"EditingInput"),n.ig.util.isIE8||this.options.textMode!=="multiline"&&(this.options.textMode==="password"?(this._editorInput.attr("type","password"),this._editorInput.attr("autocomplete","off")):this._editorInput.attr("type","text")),this.options.buttonType&&this.options.buttonType!=="none"&&this.options.textMode!=="multiline"&&this.options.textMode!=="password"&&this._renderButtons(),this.options.width&&this._editorContainer.css("width",this.options.width),this.options.height&&this._editorContainer.css("height",this.options.height),this._valueInput=this.options.textMode==="multiline"?n("<textarea style='display:none'><\/textarea>"):n("<input type='hidden'><\/input>"),this._editorInput.after(this._valueInput),this._editorInput.css("text-align",this.options.textAlign),this._createList(),this._attachEvents(),this._applyOptions(),this._applyAria(),this._checkClearButtonState(),this._triggerRendered()},_applyAria:function(){this._super(),this._applyInputAriaLabel()},_applyInputAriaLabel:function(){var t,n;switch(this.widgetName){case"igTextEditor":n="ariaTextEditorFieldLabel";break;case"igNumericEditor":n="ariaNumericEditorFieldLabel";break;case"igCurrencyEditor":n="ariaCurrencyEditorFieldLabel";break;case"igPercentEditor":n="ariaPercentEditorFieldLabel";break;case"igMaskEditor":n="ariaMaskEditorFieldLabel";break;case"igDateEditor":n="ariaDateEditorFieldLabel";break;case"igDatePicker":n="ariaDatePickerFieldLabel";break;case"igTimePicker":n="ariaTimePickerFieldLabel";break;default:n="ariaTextEditorFieldLabel"}t=this._getLocaleValue(n),this._editorInput.attr({"aria-label":t,"data-localeid":n,"data-localeattr":"aria-label"})},_getMessageForNotifier:function(t){var u=t.optName,i=this._getLocaleValue(u),r=t.arg;return r!==undefined?n.ig.util.stringFormat(i,r):i},_sendNotification:function(n,t){var i=this._getMessageForNotifier(t);if(this.options.suppressNotifications||this._skipMessages){this._currentMessage=i;return}this._editorContainer.data("igNotifier")||this._editorContainer.igNotifier(),this._notifierMessage=t,this._editorContainer.igNotifier("notify",n,i)},_applyPlaceHolder:function(){if(this.options.placeHolder&&this.options.placeHolder!==""){if(this._editorInput.attr("placeholder",this.options.placeHolder),this._editorInput.addClass(this.css.placeHolder),this._placeHolderNotSupported())throw new Error(this._getLocaleValue("placeHolderNotSupported"));}else this._editorInput.attr("placeholder")&&this._editorInput.removeAttr("placeholder")},_placeHolderNotSupported:function(){return document.createElement("input").placeholder===undefined},_setInitialValue:function(n){this._updateValue(n)},_disableEditor:function(n){this.options.dropDownOnReadOnly?n&&this._editorInput.addClass(this.css.disabled):(n&&this._editorContainer.addClass(this.css.disabled),this._detachEvents()),this._dropDownList&&!this.options.dropDownOnReadOnly&&(n&&this._dropDownList.addClass(this.css.disabled),this._detachListEvents()),this._dropDownButton&&!this.options.dropDownOnReadOnly&&(this._dropDownButton.addClass(this.css.disabled),this._detachButtonsEvents(this._dropDownButton)),this._clearButton&&(this._clearButton.addClass(this.css.disabled),this._detachButtonsEvents(this._clearButton)),this._spinUpButton&&(this._spinUpButton.addClass(this.css.disabled),this._detachButtonsEvents(this._spinUpButton)),this._spinDownButton&&(this._spinDownButton.addClass(this.css.disabled),this._detachButtonsEvents(this._spinDownButton))},_disableSpinButton:function(n){!n||n.attr("disabled")||this.options.spinWrapAround||(n.addClass(this.css.disabled),n.attr("disabled","disabled"),n.prop("disabled",!0),n.removeClass(this.css.buttonHover),n._pressed&&(delete n._pressed,n.removeClass(this.css.buttonPressed)),n._spinTimeOut&&(clearTimeout(n._spinTimeOut),delete this._spinUpButton._spinTimeOut),n._spinInterval&&(clearInterval(n._spinInterval),delete n._spinInterval),this._detachButtonsEvents(n))},_enableSpinButton:function(n,t){n&&n.attr("disabled")&&(n.removeClass(this.css.disabled),n.removeAttr("disabled"),n.prop("disabled",!1),this._attachButtonsEvents(t,n))},_exceedsMaxValue:function(){return this._dropDownList&&!this._getSpinItem("up").length},_lessThanMinValue:function(){return this._dropDownList&&!this._getSpinItem("down").length},_setSpinButtonsState:function(n){if((typeof n=="string"||n instanceof String)&&(n=n.trim()),n===null){this._enableSpinButton(this._spinDownButton,"spinDown"),this._enableSpinButton(this._spinUpButton,"spinUp");return}n===""||this.options.spinWrapAround||(this._exceedsMaxValue(n)?(this._disableSpinButton(this._spinUpButton),this._enableSpinButton(this._spinDownButton,"spinDown")):this._lessThanMinValue(n)?(this._disableSpinButton(this._spinDownButton),this._enableSpinButton(this._spinUpButton,"spinUp")):(this._enableSpinButton(this._spinDownButton,"spinDown"),this._enableSpinButton(this._spinUpButton,"spinUp")))},_replaceCharAt:function(n,t,i){if(n!==undefined)return n.substring(0,t)+i+n.substring(t+1)},_getStringRange:function(n,t,i){if(n!==undefined)return n.substring(t,i)},_replaceStringRange:function(n,t,i,r){for(var u=0;i<=r;)n=this._replaceCharAt(n,i,t.charAt(u)),u++,i++;return n},_valueIndexInList:function(t){if(!t&&t!==0)return-1;var i=n.map(this.options.listItems,function(n){return n.toString().toLowerCase()});return n.inArray(t.toString().toLowerCase(),i)},_validateValue:function(n){var t;return n===undefined?t=!1:n===null?t=this.options.allowNullValue?n===this.options.nullValue?!0:!1:!1:this.options.isLimitedToListValues&&this._dropDownList?this._valueIndexInList(n)!==-1?t=!0:(this._sendNotification("warning",{optName:"allowedValuesMsg"}),t=!1):t=this.options.maxLength?n.toString().length<=this.options.maxLength?!0:!1:!0,t},_setEditableMode:function(){this._super("_setEditableMode"),this._dropDownList&&!this.options.dropDownOnReadOnly&&(this._dropDownList.removeClass(this.css.disabled),this._attachListEvents()),this._dropDownButton&&!this.options.dropDownOnReadOnly&&(this._dropDownButton.removeClass(this.css.disabled),this._attachButtonsEvents("dropdown",this._dropDownButton)),this._clearButton&&(this._clearButton.removeClass(this.css.disabled),this._attachButtonsEvents("clear",this._clearButton)),this._spinUpButton&&(this._spinUpButton.removeClass(this.css.disabled),this._attachButtonsEvents("spinUp",this._spinUpButton)),this._spinDownButton&&(this._spinDownButton.removeClass(this.css.disabled),this._attachButtonsEvents("spinDown",this._spinDownButton))},_calculateDropDownListOrientation:function(){var r=this._editorContainer.igOffset(),i=r.top,u=parseFloat(this._editorContainer.css("height")),f=parseInt(i+u+this._listInitialHeight),e=n(window).height(),t;return t=this.options.dropDownOrientation==="auto"?f<e+n(window).scrollTop()?"bottom":i-this._listInitialHeight>0?"top":"bottom":this.options.dropDownOrientation},_positionDropDownList:function(){var n=this._editorContainer.igOffset(),t=n.top,r=n.left,u=parseFloat(this._editorContainer.css("height")),i=this._calculateDropDownListOrientation();this.options.dropDownAttachedToBody?(this._dropDownList.css("left",r),i==="bottom"?(this._dropDownList.css("top",t+u),this._dropDownListOrientation="down",this._dropDownList.removeClass("ui-igedit-dropdown-orientation-top"),this._dropDownList.addClass("ui-igedit-dropdown-orientation-bottom")):(this._dropDownList.css("top",t-this._listInitialHeight),this._dropDownListOrientation="up",this._dropDownList.removeClass("ui-igedit-dropdown-orientation-bottom"),this._dropDownList.addClass("ui-igedit-dropdown-orientation-top"))):(this._dropDownList.css("left",""),i==="bottom"?(this._dropDownList.css("top",""),this._dropDownListOrientation="down",this._dropDownList.removeClass("ui-igedit-dropdown-orientation-top"),this._dropDownList.addClass("ui-igedit-dropdown-orientation-bottom")):(this._dropDownList.css("top",-this._listInitialHeight),this._dropDownListOrientation="up",this._dropDownList.removeClass("ui-igedit-dropdown-orientation-bottom"),this._dropDownList.addClass("ui-igedit-dropdown-orientation-top"))),this._setDropDownListWidth()},_createList:function(){Array.isArray(this.options.listItems)&&(this.options.listItems=this.options.listItems.filter(function(n){return n||n===0})),this.options.textMode!=="multiline"&&this.options.textMode!=="password"&&this.options.listItems&&this.options.listItems.length>0&&(this.options.buttonType.toString().indexOf("dropdown")===-1&&this._renderDropDownButton(),this._renderList(),this._positionDropDownList(),this._attachListEvents())},_renderList:function(){var i,r=this.options.listItems,o,s,u,t,h=this.id,e,f;for(e="<div id='"+h+"_list' tabindex='-1' class='"+this.css.dropDownList+"' role='listbox' aria-activedescendant='"+this._editorInputId+"'>",this._editorInput.attr("aria-owns",this.id+"_list"),i=0;i<r.length;i++)o=r[i]?this._getEditModeValue(r[i]):r[i],s="<span id='"+h+"_item_"+(i+1)+"' tabindex='-1' role='option' aria-selected='false' aria-posinset='"+(i+1).toString()+"' class='"+this.css.listItem+"' title='"+o+"'>"+o+"<\/span>",e+=s;e+="<\/div>",t=n(e),this.options.dropDownAttachedToBody?n(document.body).append(t):this._editorContainer.append(t),u=t.children().eq(0).outerHeight(),u===0&&(u=23),f=this._calculateDropDownListOrientation()==="bottom"?parseInt(t.css("borderBottomWidth")):parseInt(t.css("borderTopWidth")),r.length<this.options.visibleItemsCount?(t.css("height",parseFloat(u*r.length+f)),this._listInitialHeight=parseFloat(u*r.length+f)):(t.css("height",parseFloat(u*this.options.visibleItemsCount)+f),this._listInitialHeight=parseFloat(u*this.options.visibleItemsCount)+f),this._dropDownList=t,this._setDropDownListWidth(),t.hide(),t.visible=!1},_setDropDownListWidth:function(){this.options.listWidth&&this.options.listWidth>0?this._dropDownList.css("width",this.options.listWidth):this._dropDownList.css("width",this._editorContainer.css("width"))},_attachListEvents:function(){var t=this;this._dropDownList.on({"mouseenter.editorList":function(i){var r=i.target;n(r).addClass(t.css.listItemHover,t.options.listItemHoverDuration),n(r).attr("data-hovered",!0)},"mouseleave.editorList":function(i){var r=i.target;n(r).removeClass(t.css.listItemHover,t.options.listItemHoverDuration),n(r).removeAttr("data-hovered")},"click.editorList":function(n){t._triggerListItemClick(n.target)},"mousedown.editorList":function(t){t.preventDefault(),n.ig.util.isIE8||t.stopPropagation()}},".ui-igedit-listitem");this._dropDownList.on("mousedown.editorList",function(n){t._listMouseDownHandler(n)})},_listMouseDownHandler:function(t){n.ig.util.isIE||n.ig.util.isEdge?this._cancelBlurOnInput=!0:(t.preventDefault(),t.stopPropagation())},_deleteList:function(){this._detachListEvents(),this._dropDownList.remove(),delete this._dropDownList},_deleteDropDownButton:function(){this._detachButtonsEvents(this._dropDownButton),this._dropDownButton.remove(),delete this._dropDownButton},_detachListEvents:function(){this._dropDownList&&(this._dropDownList.off("mouseenter.editorList mouseleave.editorList "),this._dropDownList.off("click.editorList mousedown.editorList"))},_renderDropDownButton:function(){var t=n("<div><\/div>"),i=n("<div><\/div>");this._dropDownButton||(t.addClass(this.css.buttonCommon).attr({role:"button",tabindex:-1,id:this.id+"_dropDownButton",title:this._getLocaleValue("buttonTitle"),"data-localeid":"buttonTitle","data-localeattr":"title"}),this._editorContainer.prepend(t.addClass(this.css.dropDownButton).append(i.addClass(this.css.dropDownImage))),this._dropDownButton=t,this._attachButtonsEvents("dropdown",t))},_renderSpinButtons:function(){var t=n("<div><\/div>"),r=n("<div><\/div>"),i=n("<div><\/div>"),u=n("<div><\/div>");this._spinUpButton||(t.addClass(this.css.buttonCommon).attr({title:this._getLocaleValue("spinUpperTitle"),role:"button",tabindex:-1,id:this.id+"_spinUpButton","data-localeid":"spinUpperTitle","data-localeattr":"title"}).append(r.addClass(this.css.spinButtonUpImage)),i.addClass(this.css.buttonCommon).attr({title:this._getLocaleValue("spinLowerTitle"),role:"button",tabindex:-1,id:this.id+"_spinDownButton","data-localeid":"spinLowerTitle","data-localeattr":"title"}).append(u.addClass(this.css.spinButtonDownImage)),this._editorContainer.prepend(i).prepend(t),this._attachButtonsEvents("spinDown",i),this._attachButtonsEvents("spinUp",t),this._spinUpButton=t,this._spinDownButton=i)},_renderClearButton:function(){var t=n("<div><\/div>"),i=n("<div><\/div>");this._clearButton||(t.addClass(this.css.buttonCommon).attr({title:this._getLocaleValue("clearTitle"),role:"button",id:this.id+"_clearButton",tabindex:-1,"data-localeid":"clearTitle","data-localeattr":"title"}).append(i.addClass(this.css.clearButtonImage)),this._editorContainer.prepend(t.addClass(this.css.clearButton)),this._clearButton=t,this._attachButtonsEvents("clear",t))},_renderButtons:function(){var i=this.options.buttonType.toString().split(/[\s,]+/),t=0;if(n.inArray("clear",i)!==-1&&(this._renderClearButton(),t++),n.inArray("spin",i)!==-1)if(this._numericType||this.options.listItems&&this.options.listItems!==null&&this.options.listItems.length>0)this._renderSpinButtons(),t+=2;else if(this.options.listItems===null||this.options.listItems.length===0)throw new Error(this._getLocaleValue("noListItemsNoButton"));if(n.inArray("dropdown",i)!==-1)if(this.options.listItems&&this.options.listItems!==null&&this.options.listItems.length>0)this._renderDropDownButton(),t++;else if(this.options.listItems===null||this.options.listItems.length===0)throw new Error(this._getLocaleValue("noListItemsNoButton"));if(t===0)throw new Error(this._getLocaleValue("btnValueNotSupported"));},_attachButtonsEvents:function(t,i){var r=this;if(i){this._detachButtonsEvents(i);i.on({"mouseenter.button":function(){i.addClass(r.css.buttonHover)},"mouseleave.button":function(){i.removeClass(r.css.buttonHover),i._pressed&&(delete i._pressed,i.removeClass(r.css.buttonPressed)),i._spinTimeOut&&(clearTimeout(i._spinTimeOut),delete i._spinTimeOut),i._spinInterval&&(clearInterval(i._spinInterval),delete i._spinInterval)},"mousedown.button":function(u){(u.button===0||u.button===1&&n.ig.util.isIE8)&&(i.addClass(r.css.buttonPressed),i._pressed=!0,u.preventDefault(),(t==="spinUp"||t==="spinDown")&&r._handleSpinEvent(t,i)),u.stopPropagation()},"mouseup.button":function(){i.removeClass(r.css.buttonPressed),delete i._pressed,i._spinTimeOut&&(clearTimeout(i._spinTimeOut),delete i._spinTimeOut),i._spinInterval&&(clearInterval(i._spinInterval),delete i._spinInterval)},"click.button":function(n){r._triggerButtonClick(n,t)}})}},_detachButtonsEvents:function(n){n&&n.off("mouseenter.button mouseleave.button mousedown.button mouseup.button click.button")},_attachEvents:function(){var t=this;t._super();this._editorInput.on({"focus.editor":function(n){t._setFocus(n)},"input.editor":function(){t._editMode||(t._processTextChanged(),t._processValueChanging(t._editorInput.val()))},"dragenter.editor":function(){t._focused||t._editMode||(t._dragging=!0,t._enterEditMode())},"dragleave.editor":function(i){n.ig.util.isFF&&i.relatedTarget===this||t._dragging&&t._editMode&&(t._exitEditMode(),delete t._dragging)},"blur.editor":function(n){t._setBlur(n)},"paste.editor":function(n){t._currentInputTextValue=t._editorInput.val(),t._pasteHandler(n)},"drop.editor":function(n){t._focused=!0,delete t._dragging,t._pasteHandler(n,!0)},"keydown.editor":function(n){(n.keyCode===8||n.keyCode===46)&&t._editorInput.val()!==t._currentInputTextValue&&t._processTextChanged(),t._triggerKeyDown(n)},"keyup.editor":function(n){t._triggerKeyUp(n),t._processTextChanged()},"keypress.editor":function(n){t._triggerKeyPress(n)},"compositionstart.editor":function(){var n=t.widgetName,i=t._getCursorPosition();if(i===-1)switch(n){case"igMaskEditor":case"igDateEditor":case"igDatePicker":t._editorInput.val(t._maskWithPrompts),t._setCursorPosition(0)}t._compositionStartValue=t._editorInput.val(),t._copositionStartIndex=t._getCursorPosition(),t._inComposition=!0},"compositionend.editor":function(){setTimeout(function(){var n,r=t.widgetName,i=t._getCursorPosition(),u={start:i,end:i};if(t._focused===!0){switch(r){case"igMaskEditor":n=t._replaceStringRange(t._compositionStartValue,t._currentCompositionValue,t._copositionStartIndex,t._copositionStartIndex+t._currentCompositionValue.length-1);break;default:n=t._editorInput.val()}t._insert(n,t._compositionStartValue,u),delete t._inComposition,delete t._copositionStartIndex,delete t._currentCompositionValue,delete t._compositionStartValue}},0)},"compositionupdate.editor":function(i){if(typeof t._copositionStartIndex=="undefined"){var r=t._getCursorPosition();r-=i.originalEvent.data?i.originalEvent.data.length:1,t._copositionStartIndex=r,t._compositionStartValue=t._editorInput.val().substring(0,r)}setTimeout(function(){t._currentCompositionValue=n(i.target).val().toString().substring(t._copositionStartIndex,t._getCursorPosition())},0)}})},_detachEvents:function(){this._super(),this._editorInput&&(this._editorInput.off("focus.editor input.editor blur.editor paste.editor"),this._editorInput.off("dragenter.editor dragleave.editor drop.editor"),this._editorInput.off("keydown.editor keyup.editor keypress.editor"),this._editorInput.off("compositionstart.editor compositionend.editor compositionupdate.editor"))},_processValueChanging:function(n){n!==this.value()&&(this.value()===null&&n===""||this._triggerInternalValueChange(n))},_triggerInternalValueChange:function(n){var t=this._triggerValueChanging(n);t&&(this._processInternalValueChanging(n),this._triggerValueChanged(n))},_processInternalValueChanging:function(n){var t;this.options.maxLength&&n&&n.toString().length>this.options.maxLength&&(n=n.toString().substring(0,this.options.maxLength),this._sendNotification("warning",{optName:"maxLengthErrMsg",arg:this.options.maxLength})),this._validateValue(n)?(this._dropDownList&&this.options.isLimitedToListValues&&(t=this._valueIndexInList(n))!==-1&&(n=this.options.listItems[t]),this._updateValue(n)):this.options.revertIfNotValid?(n=this._valueInput.val(),this._updateValue(n)):(this._clearValue(),n=this._valueInput.val())},_triggerKeyDown:function(n){var t=n,u,i,e,r,f;return e={owner:this,element:n.target,key:n.keyCode,editorInput:this._editorInput},u=this._trigger(this.events.keydown,n,e),u&&(this._clearEditorNotifier(),t.keyCode===13?n.altKey&&this.options.textMode==="multiline"?this._carryOverNewLine(this._editorInput.val()):(r=this._editorInput.val(),this._dropDownList&&this._dropDownList.is(":visible")?(i=this._dropDownList.children(".ui-igedit-listitem").filter("[data-active='true']"),i.length>0?this._triggerListItemClick(i):(this._toggleDropDown(),this._processValueChanging(r),this._enterEditMode())):(this._processValueChanging(r),this.options.textMode!=="multiline"&&this._enterEditMode())):(this._dropDownList&&(t.keyCode===38?t.altKey&&this._dropDownList.is(":visible")?this._toggleDropDown():this._dropDownList.is(":visible")&&(i=this._dropDownList.children(".ui-igedit-listitem").filter("[data-active='true']"),i.length>0&&!i.is(":first-child")?this._hoverPreviousDropDownListItem():this._toggleDropDown(),t.preventDefault()):t.keyCode===40||t.keyCode===38&&t.altKey?(this._dropDownList.is(":visible")?this._hoverNextDropDownListItem():this._toggleDropDown(),t.preventDefault()):t.keyCode===27&&this._dropDownList.is(":visible")&&this._toggleDropDown()),this.options.maxLength&&(r=this._editorInput.val(),r.length===this.options.maxLength&&(t.keyCode>46||t.keyCode===32)&&!t.altKey&&!t.ctrlKey&&(f=this._getSelection(this._editorInput[0]),f.start===f.end&&(t.preventDefault(),this._sendNotification("warning",{optName:"maxLengthWarningMsg",arg:this.options.maxLength})))))),u},_triggerKeyUp:function(n){var t={originalEvent:n,owner:this,key:n.keyCode,element:n.target,editorInput:this._editorInput};this._trigger(this.events.keyup,n,t)},_validateNonCharacter:function(t){if(n.ig.util.isFF){var i=t;if(n.inArray(i.keyCode,[46,8,9,27,13,110,190])!==-1||i.which===97&&i.ctrlKey===!0||i.which===99&&i.ctrlKey===!0||i.which===120&&i.ctrlKey===!0||i.which===118&&i.ctrlKey===!0||i.which===122&&i.ctrlKey===!0||i.which===121&&i.ctrlKey===!0||i.keyCode>=35&&i.keyCode<=40)return!0}else return t.keyCode===13?!0:!1},_triggerKeyPress:function(n){var r,u,f,t,o,i,e;if(this._validateNonCharacter(n)||this._validateKey(n))return r={owner:this,element:n.target,key:n.keyCode,originalEvent:n,editorInput:this._editorInput},this.options.preventSubmitOnEnter&&n.keyCode===13&&!n.shiftKey&&this.options.textMode!=="multiline"&&(n.preventDefault(),n.stopPropagation()),(this.options.toUpper||this.options.toLower)&&!this._validateNonCharacter(n)&&(u=n.which?n.which:n.keyCode,u&&(f=String.fromCharCode(u),t=this.options.toUpper?f.toLocaleUpperCase():f.toLocaleLowerCase(),o=t.charCodeAt(0),r.key=o,i=this._getSelection(this._editorInput[0]),e=this._editorInput.val(),this._editorInput.val(e.slice(0,i.start)+t+e.slice(i.end)),this._setCursorPosition(i.start+1),n.preventDefault())),this._trigger(this.events.keypress,n,r);n.preventDefault(),n.stopPropagation()},_triggerValueChanged:function(n){var t={owner:this,editorInput:this._editorInput,newValue:this.options.value};n&&(t.originalValue=n),this._trigger(this.events.valueChanged,null,t)},_triggerValueChanging:function(n){var t={owner:this,editorInput:this._editorInput,oldValue:this.value(),newValue:n};return this._trigger(this.events.valueChanging,null,t)},_triggerListItemClick:function(t){var i;i=this._triggerDropDownItemSelecting(t),i&&(this._setSelectedItemByIndex(n(t).index()),this._dropDownList.is(":visible")&&this._triggerDropDownClosing()&&this._hideDropDownList(),this._currentInputTextValue=this._editorInput.val(),this._processValueChanging(n(t).text()),this._editMode?this._enterEditMode():(this._editorInput.val(this._getDisplayValue()),this._processTextChanged()),this._triggerDropDownItemSelected())},_triggerButtonClick:function(n,t){if(t)switch(t){case"dropdown":this._toggleDropDown();break;case"clear":if(this._currentInputTextValue=this._editorInput.val(),this._editorIsCleared()){this.options.allowNullValue||this._clearValue();return}this._editMode?(this._clearValue(!0),this._processTextChanged(),this._positionCursor()):(this._clearValue(),this._processTextChanged(),this._exitEditMode(),this._triggerValueChanged())}},_triggerDropDownClosing:function(){var n={editor:this._editorContainer,owner:this,editorInput:this._editorInput,list:this._dropDownList};return this._trigger(this.events.dropDownListClosing,null,n)},_triggerDropDownClosed:function(){var n={editor:this._editorContainer,owner:this,editorInput:this._editorInput,list:this._dropDownList};this._trigger(this.events.dropDownListClosed,null,n)},_triggerDropDownOpening:function(){var n={editor:this._editorContainer,owner:this,editorInput:this._editorInput,list:this._dropDownList};return this._trigger(this.events.dropDownListOpening,null,n)},_triggerDropDownOpened:function(){var n={owner:this,editorInput:this._editorInput,list:this._dropDownList};return this._scrollTopDropDownPosition!==undefined&&this._dropDownList.scrollTop(this._scrollTopDropDownPosition),this._trigger(this.events.dropDownListOpened,null,n)},_triggerDropDownItemSelecting:function(n){var t={editor:this._editorContainer,owner:this,editorInput:this._editorInput,list:this._dropDownList,item:n};return this._trigger(this.events.dropDownItemSelecting,null,t)},_triggerDropDownItemSelected:function(){var n={owner:this,editorInput:this._editorInput,list:this._dropDownList,item:this.getSelectedListItem()[0]};this._trigger(this.events.dropDownItemSelected,null,n)},_processTextChanged:function(){var n=this._editorInput.val(),t=this._currentInputTextValue;n!==t&&(t===undefined&&(t=""),this._triggerTextChanged(t,n),this._editMode&&this._dropDownList&&this._updateDropdownSelection(this._valueFromText(n)),this._validator&&this._validator._validateInternal(this.element,null,!1,this._editMode?this._valueFromText(n):this.value()),this._currentInputTextValue=n),this._checkClearButtonState(),this._setSpinButtonsState(n)},_triggerTextChanged:function(n,t){var i={owner:this,text:t,oldText:n?n:""};this._trigger(this.events.textChanged,null,i)},_checkClearButtonState:function(){this._clearButton&&(this._editorIsCleared()?this._clearButton.hide():this._clearButton.show())},_editorIsCleared:function(){var n=!1,t=this._editorInput.val();return t===""&&(n=!0),n},_elementPositionInViewport:function(n){var i=Math.ceil(n.parent().igOffset().top),r=Math.ceil(n.igOffset().top),u=Math.ceil(n.outerHeight()),f=n.parent().outerHeight(),t;return r-i<0?t="top":r+u-i<f?t="inside":r+u-i>f&&(t="bottom"),t},_hoverPreviousDropDownListItem:function(){var n,t,i=this._listItems().filter("[data-active='true']");n=this._getSpinItem("up",i),n.length>0&&(t=this._elementPositionInViewport(n),t==="top"?this._dropDownList.scrollTop(this._dropDownList.scrollTop()-n.outerHeight()):t==="bottom"&&this._dropDownList.scrollTop(this._dropDownList.scrollTop()+n.igPosition().top),i.removeClass(this.css.listItemActive,this.options.listItemHoverDuration),i.removeAttr("data-active"),n.addClass(this.css.listItemActive,this.options.listItemHoverDuration),n.attr("data-active",!0))},_hoverNextDropDownListItem:function(){var n,t,i=this._listItems().filter("[data-active='true']");n=this._getSpinItem("down",i),n.length>0&&(t=this._elementPositionInViewport(n),t==="bottom"?this._dropDownList.scrollTop(this._dropDownList.scrollTop()+n.outerHeight()):t==="top"&&this._dropDownList.scrollTop(this._dropDownList.scrollTop()+n.igPosition().top),i.removeClass(this.css.listItemActive,this.options.listItemHoverDuration),i.removeAttr("data-active"),n.addClass(this.css.listItemActive,this.options.listItemHoverDuration),n.attr("data-active",!0))},_pasteHandler:function(t,i){var r=this,e=n(t.target).val(),u,f;this._currentInputTextValue=this._editorInput.val(),this._timeouts.push(setTimeout(function(){u=r._editorInput.val(),f=r._getSelection(r._editorInput[0]),r._insert(u,e,f),i&&(r._editorInput.is(":focus")?r._triggerFocus(t):(r._processValueChanging(u),r._focused=!1,r._exitEditMode()))},10))},_insertHandler:function(n){var r=this._getSelection(this.field()[0]),t,i;n&&(this._editMode?(t=this._editorInput.val(),i=this._replaceDisplayValue(r,t,n)):(t=this.value(),i=n),this._insert(i,t))},_replaceDisplayValue:function(n,t,i){return t.substring(0,n.start)+i+t.substring(n.end,t.length)},_insert:function(t,i,r){var u,f;if(this.options.maxLength&&t&&t.toString().length>this.options.maxLength&&(t=t.toString().substring(0,this.options.maxLength),this._sendNotification("warning",{optName:"maxLengthErrMsg",arg:this.options.maxLength})),this._validateValue(t)){if(this.options.toUpper?t&&(t=t.toLocaleUpperCase()):this.options.toLower&&t&&(t=t.toLocaleLowerCase()),this.options.includeKeys!==null)for(u=0;u<t.length;u++)if(f=t.charAt(u),n.inArray(f,this._includeKeysArray)!==-1)continue;else t=this._replaceCharAt(t,u,""),u--;if(this.options.excludeKeys!==null)for(u=0;u<t.length;u++)f=t.charAt(u),n.inArray(f,this._excludeKeysArray)!==-1&&(t=this._replaceCharAt(t,u,""),u--);this._editMode?(this._editorInput.val(t),r!==undefined&&this._setSelectionRange(this._editorInput[0],r.start,r.end)):(this._processInternalValueChanging(t),this._exitEditMode()),this._processTextChanged()}else this._editorInput.val(i)},_markDropDownHoverActiveItem:function(){var n=this._dropDownList.children(".ui-igedit-listitem").filter(".ui-igedit-listitemselected");n.length&&(this._dropDownList.parent().hasClass("ui-effects-wrapper")&&(this._scrollTopDropDownPosition=this._dropDownList.scrollTop()+n.position().top),this._elementPositionInViewport(n)!=="inside"&&this._dropDownList.scrollTop(this._dropDownList.scrollTop()+n.igPosition().top),n.attr("data-active",!0))},_clearDropDownHoverActiveItem:function(){var n=this._dropDownList.children(".ui-igedit-listitem").filter("[data-hovered='true']"),t=this._dropDownList.children(".ui-igedit-listitem").filter("[data-active='true']");n.length>0&&(n.removeClass(this.css.listItemHover),n.removeAttr("data-hovered")),t.length>0&&(t.removeClass(this.css.listItemActive),t.removeAttr("data-active"))},_showDropDownList:function(){var t;this._positionDropDownList(),t=this._dropDownListOrientation==="up"?"down":"up";try{n(this._dropDownList).show("blind",{direction:t},this.options.dropDownAnimationDuration,n.proxy(this._triggerDropDownOpened,this))}catch(i){n(this._dropDownList).show(this.options.dropDownAnimationDuration,n.proxy(this._triggerDropDownOpened,this))}this._editorInput.attr("aria-expanded",!0),this._markDropDownHoverActiveItem()},_hideDropDownList:function(){var t;t=this._dropDownListOrientation==="up"?"down":"up";try{n(this._dropDownList).hide("blind",{direction:t},this.options.dropDownAnimationDuration,n.proxy(this._triggerDropDownClosed,this))}catch(i){n(this._dropDownList).hide(this.options.dropDownAnimationDuration,n.proxy(this._triggerDropDownClosed,this))}this._editorInput.attr("aria-expanded",!1),this._clearDropDownHoverActiveItem()},_toggleDropDown:function(){var n;this._dropDownList.is(":visible")?(n=this._triggerDropDownClosing(),n&&this._hideDropDownList()):(n=this._triggerDropDownOpening(),n&&(this._editMode||this.options.suppressKeyboard||this._editorInput.focus(),this._editMode&&this.options.suppressKeyboard&&this._editorInput.blur(),this._showDropDownList()))},_validateKey:function(t){var r,i;return this.options.excludeKeys?(r=String.fromCharCode(t.charCode||t.which),i=n.inArray(r,this._excludeKeysArray)!==-1?!1:!0):this.options.includeKeys?(r=String.fromCharCode(t.charCode||t.which),i=n.inArray(r,this._includeKeysArray)!==-1?!0:!1):i=!0,i},_enterEditMode:function(){var t=this._valueInput.val(),n=this._getSelection(this._editorInput[0]);this._editMode=!0,this._currentInputTextValue=this._editorInput.val(),this._editorInput.val(this._getEditModeValue(t)),this._positionCursor(n.start,n.end),this._processTextChanged()},_getEditModeValue:function(n){return n},_exitEditMode:function(){this.options.textMode!=="text"||n.ig.util.isIE8||this._editorInput.attr("type","text"),this._currentInputTextValue=this._editorInput.val(),this._editorInput.val(this._getDisplayValue()),this._editMode=!1,this._processTextChanged()},_getDisplayValue:function(){return this._valueInput.val()},_valueFromText:function(n){return n},_setCursorPosition:function(n){this._setSelectionRange(this._editorInput[0],n,n)},_setSelectionRange:function(t,i,r){if(t.setSelectionRange){if(!n.contains(document.documentElement,t)&&n.ig.util.isIE)return;t.setSelectionRange(i,r)}else if(t.createTextRange){var u=t.createTextRange();u.collapse(!0),u.moveEnd("character",r),u.moveStart("character",i),u.select()}},_positionCursor:function(t,i){if(!this._dragging){var r=this._editorInput.val(),u=this;if(r&&r.length>0)switch(this.options.selectionOnFocus){case"selectAll":n.ig.util.isChrome||n.ig.util.isSafari?this._timeouts.push(setTimeout(function(){u._setSelectionRange(u._editorInput[0],0,r.length)},100)):this._editorInput.select();break;case"atStart":n.ig.util.isChrome||n.ig.util.isSafari?this._timeouts.push(setTimeout(function(){u._setSelectionRange(u._editorInput[0],0,0)},100)):this._setSelectionRange(this._editorInput[0],0,0);break;case"atEnd":n.ig.util.isChrome||n.ig.util.isSafari?this._timeouts.push(setTimeout(function(){u._setSelectionRange(u._editorInput[0],r.length,r.length)},100)):this._setSelectionRange(this._editorInput[0],r.length,r.length);break;case"browserDefault":t?(i?i>r.length-1&&(i=r.length-1):i=t,n.ig.util.isChrome||n.ig.util.isSafari?this._timeouts.push(setTimeout(function(){u._setSelectionRange(u._editorInput[0],t,i)},100)):this._setSelectionRange(this._editorInput[0],t,i)):n.ig.util.isChrome||n.ig.util.isSafari?this._timeouts.push(setTimeout(function(){u._setSelectionRange(u._editorInput[0],0,r.length)},100)):this._editorInput.select()}else this._editorInput.select()}},_carryOverNewLine:function(n){var t=this._getCursorPosition(),i=this._splitString(n,t);this._editorInput.val(i.before+"\r\n"+i.after),this._setCursorPosition(t+1)},_splitString:function(n,t){return{before:n.substring(0,t),after:n.substring(t)}},_spin:function(n,t){var i;if(this._dropDownList){if(i=this._getSpinItem(n),!i.length)return;if(t&&!this._triggerDropDownItemSelecting(i[0]))return;this._currentInputTextValue=this._editorInput.val(),this._editMode?(this._editorInput.val(i.text()),this._processTextChanged(),this._editorInput.select()):(this._processValueChanging(i.text()),this._editorInput.val(this._getDisplayValue()),this._processTextChanged()),t&&this._triggerDropDownItemSelected()}},_getSpinItem:function(n,t){var i=this._listItems(),r,u;return i.length?(u=t?t:this.getSelectedListItem(),u.length>0?(r=u[n==="up"?"prev":"next"](),!r.length&&this.options.spinWrapAround&&(r=i[n==="up"?"last":"first"]()),r):i.first()):i},_handleSpinUpEvent:function(){this._spin("up",!0)},_handleSpinDownEvent:function(){this._spin("down",!0)},_handleSpinEvent:function(n,t){var i=this;n==="spinUp"?(this._handleSpinUpEvent(),t.attr("disabled")||t._spinTimeOut||(t._spinTimeOut=setTimeout(function(){t._spinInterval=setInterval(function(){i._handleSpinUpEvent()},75)},300))):n==="spinDown"&&(this._handleSpinDownEvent(),t.attr("disabled")||t._spinTimeOut||(t._spinTimeOut=setTimeout(function(){t._spinInterval=setInterval(function(){i._handleSpinDownEvent()},75)},300))),this._timeouts.push(t._spinTimeOut)},_clearValue:function(n){this._super(n)},_clearEditorNotifier:function(){var n=this._editorContainer.data("igNotifier");n&&n.options.state==="warning"&&n.isVisible()&&n.hide()},_getCursorPosition:function(){var n=this._getSelection(this._editorInput[0]);return n.end-n.start===this._editorInput.val().length&&this._editorInput.val().length>0?-1:n.start},_getSelection:function(n){var i=0,r=0,u,t,f;return n.selectionStart!==undefined?(i=n.selectionStart,r=n.selectionEnd):document.selection&&(u=document.selection.createRange(),u!==null&&(t=n.createTextRange(),f=t.duplicate(),t.moveToBookmark(u.getBookmark()),r=t.text.length,f.setEndPoint("EndToStart",t),i=f.text.length,r+=i)),{start:i,end:r}},_listItems:function(){return this._dropDownList.children(".ui-igedit-listitem")},_getListItemByIndex:function(n){return this._listItems().eq(n)},_getSelectedItemIndex:function(){for(var i=this._listItems(),t=0;t<i.length;t++)if(n(i[t]).hasClass(this.css.listItemSelected))return t;return-1},_setSelectedItemByIndex:function(n){var i,t,r;this._getSelectedItemIndex()!==n&&(i=this.getSelectedListItem(),i.removeClass(this.css.listItemSelected),i.removeAttr("data-active"),i.attr("aria-selected",!1),t=this._getListItemByIndex(n),t.addClass(this.css.listItemSelected),t.attr("aria-selected",!0),this.dropDownVisible()&&(r=this._elementPositionInViewport(t),r!=="inside"&&this._dropDownList.scrollTop(this._dropDownList.scrollTop()+t.igPosition().top),this._clearDropDownHoverActiveItem(),t.attr("data-active",!0)))},_updateDropdownSelection:function(n){var i=this.getSelectedListItem().index(),t=this._valueIndexInList(n);i!==t&&(t>-1?this._setSelectedItemByIndex(t):(this.getSelectedListItem().removeClass(this.css.listItemSelected).attr("aria-selected",!1).removeAttr("data-active"),this.dropDownVisible()&&this._clearDropDownHoverActiveItem()))},displayValue:function(){return this._getDisplayValue()},dropDownContainer:function(){return this._dropDownList?this._dropDownList:null},showDropDown:function(){this._showDropDownList()},hideDropDown:function(){this._hideDropDownList()},dropDownButton:function(){return this._dropDownButton},dropDownVisible:function(){return this._dropDownList.is(":visible")},clearButton:function(){return this._clearButton},findListItemIndex:function(t,i){var f=this.options.listItems,e="i",o=-1,r,s,u;if(!f||f.length===0)return-1;switch(i){case"startsWith":r="^{pattern}";break;case"endsWith":r="{pattern}$";break;case"exact":r="^{pattern}$",e=undefined;break;default:r="{pattern}"}for(s=new RegExp(r.replace("{pattern}",n.ig.util.escapeRegExp(t)),e),u=0;u<f.length;u++)s.test(f[u])&&(o=u);return o},selectedListIndex:function(n){if(n!==undefined&&typeof this.options.listItems[n]!="undefined")this._processInternalValueChanging(this.options.listItems[n]);else return this._getSelectedItemIndex()},getSelectedListItem:function(){return this._listItems().filter(".ui-igedit-listitemselected")},getSelectedText:function(){var i=this._editMode?this._editorInput.val():this.displayValue(),n=this.getSelectionStart(),t=this.getSelectionEnd();return n===undefined||t===undefined||n===null||t===null||n===t?"":i.substring(n,t)},getSelectionStart:function(){return this._getSelection(this._editorInput[0]).start},getSelectionEnd:function(){return this._getSelection(this._editorInput[0]).end},insert:function(n){this._insertHandler(n)},select:function(n,t){this._setSelectionRange(this._editorInput[0],n,t)},spinUp:function(){this._spin("up")},spinDown:function(){this._spin("down")},spinUpButton:function(){return this._spinUpButton},spinDownButton:function(){return this._spinDownButton}}),n.extend(n.ui.igTextEditor,{version:"19.2.25"}),n.widget("ui.igNumericEditor",n.ui.igTextEditor,{options:{listItems:null,negativeSign:null,negativePattern:null,decimalSeparator:null,groupSeparator:null,groups:null,maxDecimals:null,minDecimals:null,roundDecimals:!0,textAlign:"right",dataMode:"double",minValue:null,maxValue:null,allowNullValue:!1,spinDelta:1,scientificFormat:null,spinWrapAround:!1,isLimitedToListValues:!1,maxLength:null,excludeKeys:null,includeKeys:null,toLower:null,toUpper:null,textMode:"text",value:null},events:{},css:{negative:"ui-igedit-negative"},_create:function(){n.ui.igTextEditor.prototype._create.call(this),n.ig.util.isIE8||this._editorInput.attr("type","tel")},_initialize:function(){this._super(),this._setNumericType(),this._validateDecimalSettings(),this._validateRegionalSettings(),this._applyDataModeSettings();var t="0123456789",n=this.options.dataMode;if((n==="double"||n==="float")&&(t+=this._getOptionOrRegionalValue("decimalSeparator"),this._getOptionOrRegionalValue("decimalSeparator")!=="."&&(t+=".")),this._getScientificFormat()&&(t+=this._getScientificFormat()),(n==="double"||n==="float"||n==="long"||n==="int"||n==="short"||n==="sbyte")&&(t+=this._getRegionalValue("negativeSign")),this.options.excludeKeys&&(this.options.excludeKeys=null),this._getOptionOrRegionalValue("decimalSeparator").toString().length>1)throw new Error(this._getLocaleValue("decimalSeparatorErrorMsg"));if(this.options.includeKeys=t,this._getOptionOrRegionalValue("decimalSeparator")===this._getOptionOrRegionalValue("groupSeparator"))throw new Error(this._getLocaleValue("decimalSeparatorEqualsGroupSeparatorErrorMsg"));},_setNumericType:function(){this._numericType="numeric"},_getScientificFormat:function(){var n;if(this.options.scientificFormat)switch(this.options.scientificFormat){case"E":case"E+":n="E";break;case"e":case"e+":n="e";break;default:n="e";throw new Error(this._getLocaleValue("scientificFormatErrMsg"));}else n=null;return n},_validateRegionalSettings:n.noop,_getOptionOrRegionalValue:function(n){var t;return t=n==="negativeSign"||n==="percentSymbol"||n==="currencySymbol"||n==="displayFactor"?n:this._numericType+n.substr(0,1).toUpperCase()+n.substr(1),this.options[n]!==null?this.options[n]:this._getRegionalValue(t)},_setInitialValue:function(n){n=this._getValueBetweenMinMax(n),this._super(n)},_applyOptions:function(){this._super(),this._validateSpinSettings(),this.options.maxLength!==null&&(this.options.maxLength=null),this.options.value<0&&this._editorInput.addClass(this.css.negative)},_validateSpinSettings:function(){var t,i;if(this.options.buttonType==="spin"&&this._setSpinButtonsState(this.options.value),this.options.spinDelta!==1){if(t=this.options.spinDelta,typeof t!="number"){this.options.spinDelta=1;throw new Error(this._getLocaleValue("spinDeltaIsOfTypeNumber"));}if(t<0){this.options.spinDelta=1;throw new Error(this._getLocaleValue("spinDeltaCouldntBeNegative"));}if(this.options.dataMode==="float"||this.options.dataMode==="double"){if(t%1!=0&&(i=t.toString().substring(t.toString().indexOf(".")+1),i.toString().length>this._getOptionOrRegionalValue("maxDecimals")))throw new Error(n.ig.util.stringFormat(this._getLocaleValue("spinDeltaContainsExceedsMaxDecimals"),this._getOptionOrRegionalValue("maxDecimals")));}else if(t%1!=0)throw new Error(this._getLocaleValue("spinDeltaIncorrectFloatingPoint"));}this.options.scientificFormat&&(this.options.spinDelta=Number(this.options.spinDelta.toExponential()))},_validateDecimalSettings:function(){var n=this._numericType+"MinDecimals",t=this._numericType+"MaxDecimals";this.options.minDecimals===null&&(this.options.minDecimals=this._getRegionalValue(n));try{this._validateDecimalSetting("minDecimals",this.options.minDecimals)}catch(i){this.options.minDecimals=this._getRegionalValue(n);throw i;}this.options.maxDecimals===null&&(this.options.maxDecimals=this._getRegionalValue(t));try{this._validateDecimalSetting("maxDecimals",this.options.maxDecimals)}catch(i){this.options.maxDecimals=this._getRegionalValue(t);throw i;}this._validateDecimalMinMax()},_validateDecimalSetting:function(t,i){var u=this.options.dataMode,r;if(u==="double"?r=15:u==="float"&&(r=7),i===""||isNaN(i)||!isNaN(i)&&(i<0||i>r))throw new Error(n.ig.util.stringFormat(this._getLocaleValue("decimalNumber"),u,t,r));},_validateDecimalMinMax:function(){this._getOptionOrRegionalValue("minDecimals")>this._getOptionOrRegionalValue("maxDecimals")&&(this.options.maxDecimals=this._getOptionOrRegionalValue("minDecimals"))},_getValueBetweenMinMax:function(n){return this.options.allowNullValue&&n===this.options.nullValue||(!isNaN(this.options.minValue)&&this.options.minValue>n?n=this.options.minValue:!isNaN(this.options.maxValue)&&this.options.maxValue<n&&(n=this.options.maxValue)),n},_setOption:function(t,i){var r=this.options[t],u;if(r!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"scientificFormat":if(this._getScientificFormat()||i===null){if(r&&((r==="e+"||r==="E+")&&(r=r.replace("+","")),this.options.includeKeys=this.options.includeKeys.replace(r,"")),i===null){this._includeKeysArray=this.options.includeKeys.split("");break}u=this._getScientificFormat(),this.options.includeKeys+=u,this._includeKeysArray=this.options.includeKeys.split("")}break;case"spinDelta":if(typeof i!="number"){this.options[t]=r;throw new Error(this._getLocaleValue("spinDeltaIsOfTypeNumber"));}else if(i<0){this.options[t]=r;throw new Error(this._getLocaleValue("spinDeltaCouldntBeNegative"));}else if(this.options.dataMode!=="float"&&this.options.dataMode!=="double"&&i%1!=0){this.options[t]=r;throw new Error(this._getLocaleValue("spinDeltaIncorrectFloatingPoint"));}else this.options.scientificFormat&&(this.options[t]=Number(i.toExponential()));break;case"minValue":case"maxValue":if(isNaN(i)){this.options[t]=r;return}i===null?this._applyDataModeSettings():(this._processInternalValueChanging(this.value()),this._editMode||this._editorInput.val(this._getDisplayValue())),this._setSpinButtonsState(this.value());break;case"minDecimals":case"maxDecimals":try{this._validateDecimalSetting(t,i)}catch(f){this.options[t]=r;throw f;}this.options[t]!==r&&(this._validateDecimalMinMax(),this._processInternalValueChanging(this.value()),this._editMode||this._editorInput.val(this._getDisplayValue()));break;case"decimalSeparator":if(i.toString().length>1){this.options[t]=r;throw new Error(this._getLocaleValue("decimalSeparatorErrorMsg"));}if(this.options[t]===this._getOptionOrRegionalValue("groupSeparator"))throw new Error(this._getLocaleValue("decimalSeparatorEqualsGroupSeparatorErrorMsg"));break;case"groupSeparator":if(this.options[t]===null&&(this.options[t]=this._getRegionalValue("numericGroupSeparator")),this.options[t]===this._getOptionOrRegionalValue("decimalSeparator"))throw new Error(this._getLocaleValue("decimalSeparatorEqualsGroupSeparatorErrorMsg"));break;case"excludeKeys":case"includeKeys":this.options[t]=r;throw new Error(this._getLocaleValue("numericEditorNoSuchOption"));default:this.options[t]=r,this._super(t,i)}}},_processValueChanging:function(n){var t=this._getOptionOrRegionalValue("displayFactor");(typeof n=="string"||n instanceof String)&&(n=n.trim(),n=this._parseNumericValueByMode(n,this._numericType,this.options.dataMode),n!==""||this.options.allowNullValue||(n=0),this._numericType==="percent"&&t&&(n===""||isNaN(n)||(n=this._divideWithPrecision(n,t)))),this._super(n)},_processInternalValueChanging:function(n){n=this._parseNumericValueByMode(n,this._numericType,this.options.dataMode),n===""||isNaN(n)||(!isNaN(this.options.maxValue)&&n>this.options.maxValue?(n=this.options.maxValue,this._sendNotification("warning",{optName:"maxValExceedSetErrMsg",arg:this.options.maxValue})):!isNaN(this.options.minValue)&&n<this.options.minValue&&(n=this.options.minValue,this._sendNotification("warning",{optName:"minValExceedSetErrMsg",arg:this.options.minValue}))),this._validateValue(n)||(n===""||isNaN(n)?this.options.allowNullValue?n=this.options.nullValue:this.options.revertIfNotValid?n=this._valueInput.val():(n=0,n=this.options.minValue>0?this.options.minValue:this.options.maxValue<0?this.options.maxValue:0):this.options.revertIfNotValid?n=this._valueInput.val():this.options.isLimitedToListValues&&(n="")),n!==this.value()&&(n===""&&this.options.allowNullValue&&this.options.nullValue===null?this._clearValue():this._updateValue(n)),this._setSpinButtonsState(n)},_triggerKeyDown:function(n){var t=n,i,r,u;return r={owner:this,element:n.target,key:n.keyCode,editorInput:this._editorInput},i=this._trigger(this.events.keydown,n,r),i&&(this._clearEditorNotifier(),t.keyCode===13?(u=this._editorInput.val(),this._dropDownList&&this._dropDownList.is(":visible")?this._super(n):(this._processValueChanging(u),this._enterEditMode())):t.keyCode===38?(t.altKey&&this._dropDownList&&this._dropDownList.is(":visible")?this._toggleDropDown():this._dropDownList&&this._dropDownList.is(":visible")?this._hoverPreviousDropDownListItem():(!this.options.readOnly||this.options.readOnly&&this.options.isLimitedToListValues)&&this._handleSpinUpEvent(),t.preventDefault()):t.keyCode===40?(t.altKey&&this._dropDownList&&!this._dropDownList.is(":visible")?this._toggleDropDown():this._dropDownList&&this._dropDownList.is(":visible")?this._hoverNextDropDownListItem():(!this.options.readOnly||this.options.readOnly&&this.options.isLimitedToListValues)&&this._handleSpinDownEvent(),t.preventDefault()):t.keyCode===27&&this._dropDownList&&this._dropDownList.is(":visible")&&this._toggleDropDown()),i},_applyDataModeSettings:function(){var n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b;switch(this.options.dataMode){case"double":this._setMinMaxValues(-Number.MAX_VALUE,Number.MAX_VALUE);break;case"float":n=-340282347e30,t=340282347e30,this._setMinMaxValues(n,t);break;case"long":i=-0x8000000000000000,r=0x8000000000000000,this._setMinMaxValues(i,r);break;case"ulong":u=0,f=0x10000000000000000,this._setMinMaxValues(u,f);break;case"int":e=-2147483647,o=2147483647,this._setMinMaxValues(e,o);break;case"uint":s=0,h=4294967295,this._setMinMaxValues(s,h);break;case"short":c=-32768,l=32767,this._setMinMaxValues(c,l);break;case"ushort":a=0,v=65535,this._setMinMaxValues(a,v);break;case"sbyte":y=-127,p=127,this._setMinMaxValues(y,p);break;case"byte":w=0,b=256,this._setMinMaxValues(w,b);break;default:this.options.dataMode="double",this._setMinMaxValues(Number.MIN_VALUE,Number.MAX_VALUE)}},_setMinMaxValues:function(n,t){(this.options.minValue===null||this.options.minValue<n)&&(this.options.minValue=n),(this.options.maxValue===null||this.options.maxValue>t)&&(this.options.maxValue=t)},_parseNumericValueByMode:function(t,i,r){var o,u,s,c,e=this._getOptionOrRegionalValue("decimalSeparator"),a=this._getOptionOrRegionalValue("groupSeparator"),h=this._getOptionOrRegionalValue("maxDecimals"),l,f;if(t===null||t==="")return t;if(n.type(t)!=="number"&&(t=n.ig.util.IMEtoNumberString(t,n.ig.util.IMEtoENNumbersMapping()),t=t.toString().replace(new RegExp(n.ig.util.escapeRegExp(a),"g"),""),this._getOptionOrRegionalValue("negativeSign")!=="-"&&(t=t.replace(this._getOptionOrRegionalValue("negativeSign"),"-")),i==="percent"?t=t.replace(this._getOptionOrRegionalValue("percentSymbol"),"").trim():i==="currency"&&(t=t.replace(this._getOptionOrRegionalValue("currencySymbol"),"").trim()),t.indexOf(e)!==-1&&(t=t.replace(e,"."))),r==="double"||r==="float"){if(u=t.toString().toLowerCase(),u.indexOf("e")!==-1)if(o=t=Number(t),t<1)this.options.scientificFormat?(u=t.toString().toLowerCase(),c=u.indexOf("e"),s=u.substring(c+1),u=u.substring(0,c)):u=t.toFixed(this._getOptionOrRegionalValue("maxDecimals")+1);else return t;u.indexOf(".")!==-1?(e=".",f=u.substring(u.indexOf(e)+1),f.indexOf(e)>0&&(f=f.substring(0,f.indexOf(e))),f.length>h&&(this.options.roundDecimals?(u=Math.round10(u,-h).toFixed(h),f=u.indexOf(e)>-1?u.substring(u.indexOf(e)+1):""):f=f.substring(0,h)),l=u.indexOf(e)>-1?u.substring(0,u.indexOf(e)):u,o=l+"."+f,s&&(o+="e"+s),o=o/1):s||(o=parseInt(t))}else t.toString().toLowerCase().indexOf("e")!==-1&&(t=Number(t).toFixed()),o=this._numericType==="percent"&&this.options.displayFactor===100&&this.options.dataMode==="int"&&parseInt(t)!==parseInt(this._editorInput.val())?t:parseInt(t);return o},_multiplyWithPrecision:function(n,t,i){var r,u,f;return i||(r=n.toString().indexOf(".")>0?n.toString().substring(n.toString().indexOf(".")+1):"",u=t.toString().indexOf(".")>0?t.toString().substring(t.toString().indexOf(".")+1):"",u.length&&(r+=u),i=Math.pow(10,r.length)),n*=i,t*=i,f=n*t/(i*i),f.toFixed(r.length)*1},_divideWithPrecision:function(n,t){var i,r,u;return i=n.toString().indexOf(".")>0?n.toString().substring(n.toString().indexOf(".")+1):"",r=t.toString().indexOf(".")>0?t.toString().substring(t.toString().indexOf(".")+1):"",r.length>i.length&&(i=r),u=Math.pow(10,i.length),n=this._multiplyWithPrecision(n,u),t=this._multiplyWithPrecision(t,u),n/t},_updateValue:function(n){var t=n,i=this.options.dataMode;n=n===null?"":t=this._parseNumericValueByMode(n,this._numericType,i),this.options.value=t,this._valueInput.val(n),this._dropDownList&&this._updateDropdownSelection(t)},_validateKey:function(n){var u;if(this._super(n)){var o=this.options.dataMode,r,i,f=this._getOptionOrRegionalValue("negativeSign"),e,s,h=0,c=1,t=this._getCursorPosition(),l=n.which?n.which===46:!1;return(r=String.fromCharCode(n.charCode||n.which).toLowerCase(),t===-1)?r!=="e":(i=this._editorInput.val().toLowerCase(),e=i.substring(t,t+c),t===h&&e===f)?!1:(s=i.substring(t-c,t),r===f)?(t===h||s==="e")&&e!==f:r==="e"&&i.indexOf("e")!==-1?!1:o==="double"||o==="float"?(u=this._getOptionOrRegionalValue("decimalSeparator"),u!=="."&&l&&(i.indexOf(".")!==-1||i.indexOf(u)!==-1)&&t!==-1)?!1:(r===u||l)&&(i.indexOf(u)!==-1||i.indexOf(".")!==-1)&&t!==-1?!1:!0:!0}return!1},_validateValue:function(n){var t;return t=this._super(n)&&!isNaN(n=this._parseNumericValueByMode(n,this._numericType,this.options.dataMode))?!0:!1},_insert:function(n,t,i){var u=n.length,r;isNaN(n=this._parseNumericValueByMode(n,this._numericType,this.options.dataMode))?n=this.options.revertIfNotValid?t:"":(!isNaN(this.options.maxValue)&&n>this.options.maxValue?(n=this.options.maxValue,this._sendNotification("warning",{optName:"maxValExceedSetErrMsg",arg:this.options.maxValue})):!isNaN(this.options.minValue)&&n<this.options.minValue&&(n=this.options.minValue,this._sendNotification("warning",{optName:"minValExceedSetErrMsg",arg:this.options.minValue})),!this._validateValue(n)&&this.options.revertIfNotValid&&(n=t)),this._editMode?(this._editorInput.val(this._getEditModeValue(n)),i!==undefined&&(r=u-n.toString().length,i.start-=r,i.end-=r,this._setSelectionRange(this._editorInput[0],i.start,i.end))):(this._processInternalValueChanging(n),this._exitEditMode()),this._setSpinButtonsState(n),this._processTextChanged()},_clearValue:function(n){var t=0;this.options.allowNullValue&&(t=this.options.nullValue),t=this._getValueBetweenMinMax(t),this._validateValue(t)?this._editorInput.val(t):(t="",this._editorInput.val("")),n||this._updateValue(t)},_convertScientificToNumeric:function(n){var i=n.toString(),t=i.substring(i.toLowerCase().indexOf("e")+1);return n=n/1,t=Math.abs(t),t<=20&&(t<this.options.minDecimals&&(t=this.options.minDecimals),i=n.toFixed(t)),i},_getDisplayValue:function(){var i=this._valueInput.val(),v=this._getOptionOrRegionalValue("decimalSeparator"),f=".",e=this._getOptionOrRegionalValue("minDecimals"),y=this.options.dataMode,p=this._getOptionOrRegionalValue("displayFactor"),n,t,u,r,w,o,b,s,k,h,c,l="",d,a;if(i===this.options.nullValue||i===""||isNaN(i))return isNaN(i)?(this._valueInput.val(""),""):i;if(this._numericType!=="numeric"&&(s=this._getOptionOrRegionalValue("positivePattern"),l=this._getOptionOrRegionalValue(this._numericType+"Symbol")),k=this._getOptionOrRegionalValue("negativePattern"),d=this._getOptionOrRegionalValue("groups"),h=d.filter(function(n){return n!==0}),c=this._getOptionOrRegionalValue("groupSeparator"),this._numericType==="percent"&&p&&(i=this._multiplyWithPrecision(i,p),i=this._parseNumericValueByMode(i,this._numericType,this.options.dataMode)),n=i.toString().toLowerCase(),this.options.scientificFormat?n.indexOf("e")===-1&&(n=(n/1).toExponential(),w=n.split("e")[0],o=n.split(/e\+?/).pop()):n.indexOf("e")!==-1&&(n=this._convertScientificToNumeric(n)),t=n,y==="double"||y==="float")if(n.indexOf("e")!==-1)t=n;else{if(n.indexOf(f)!==-1){if(r=n.substring(n.indexOf(f)+1),r.length<e)for(a=e-r.length;a>0;)r+="0",a--;u=n.substring(0,n.indexOf(f))}else u=n,e>0&&(n=parseInt(n).toFixed(e),r=n.substring(n.indexOf(f)+1));u=this._applyGroups(u,h,c),t=r&&r.length>0?u+v+r:u}else n.indexOf("e")===-1&&(t=this._applyGroups(i.toString(),h,c));return this.options.scientificFormat&&(t=o>0?w+this.options.scientificFormat+o:n.replace("e",this._getScientificFormat()),t=t.replace(f,v)),i<0?(b=this._getOptionOrRegionalValue("negativeSign"),t=t.replace("-",""),t=k.replace("n",t).replace("$",l).replace("-",b)):s&&(t=s.replace("n",t).replace("$",l)),t},_valueFromText:function(n){return this._parseNumericValueByMode(n,this._numericType,this.options.dataMode)},_applyGroups:function(n,t,i){var u=n.length-1,f=1,o=t.length,e=0,r;if(r=t.length>0?t[0]:0,r>n.length||r===0)return n;for(parseFloat(n)<0&&(e=1),u;u>e;u--)--r==0&&(n=n.substring(0,u)+i+n.substring(u),f===o?r=t[--f]:(r=t[f],f++));return n},_enterEditMode:function(){n.ig.util.isIE8||this._editorInput.attr("type","tel"),this._valueInput.val()<0&&this._editorInput.removeClass(this.css.negative),this._super()},_getEditModeValue:function(n){return this.options.scientificFormat?n=Number(n).toExponential().replace("e",this._getScientificFormat()).replace("+",""):n.toString().indexOf("e")!==-1&&(n=this._convertScientificToNumeric(n).replace("+","")),this._getOptionOrRegionalValue("decimalSeparator")!=="."&&(n=n.toString().replace(".",this._getOptionOrRegionalValue("decimalSeparator"))),this._getOptionOrRegionalValue("negativeSign")!=="-"&&(n=n.toString().replace("-",this._getOptionOrRegionalValue("negativeSign"))),n},_exitEditMode:function(){this._super(),this.value()<0?this._editorInput.addClass(this.css.negative):this._editorInput.removeClass(this.css.negative)},_getSpinValue:function(n,t,i){var s,e,f,h,o,c,u,r=this.options.spinDelta;return i&&(r=Number(i)),t.toString().toLowerCase().indexOf("e")!==-1?(t=Number(t),o=r.toString().toLowerCase().indexOf("e")===-1?Number(r.toExponential()):r,n==="spinUp"?t+=o:t-=o):t.toString().indexOf(".")!==-1?(s=t.substring(t.toString().indexOf(".")+1),c=s.toString().length,t=t/1,r.toString().toLowerCase().indexOf("e")!==-1?(t=Number(t.toExponential()),e=r.toString().toLowerCase().substring(r.toString().toLowerCase().indexOf("e")+1),f=Math.abs(e)):(f=r.toString().toLowerCase().substring(r.toString().toLowerCase().indexOf(".")+1).length,h=t.toString().substring(t.toString().indexOf(".")+1).length,f=h>f?h:f),u=Math.pow(10,f),t=n==="spinUp"?t===0&&e?r.toFixed(f):(Math.round(t*u)+Math.round(r*u))/u:t===0&&e?(-r).toFixed(f):(Math.round(t*u)-Math.round(r*u))/u,t.toString().substring(t.toString().indexOf(".")+1).length<s.length&&(t=t.toFixed(c))):(t=t/1,r%1==0?n==="spinUp"?t+=r:t-=r:(r.toString().toLowerCase().indexOf("e")!==-1?(e=r.toString().toLowerCase().substring(r.toString().toLowerCase().indexOf("e")+1),f=Math.abs(e)):f=r.toString().toLowerCase().substring(r.toString().toLowerCase().indexOf(".")+1).length,u=Math.pow(10,f),t=n==="spinUp"?t===0?r.toFixed(f):(Math.round(t*u)+Math.round(r*u))/u:t===0?(-r).toFixed(f):(Math.round(t*u)-Math.round(r*u))/u)),t},_spinUp:function(n){var t,i;if(this._dropDownList&&this.options.isLimitedToListValues){this._spin("up");return}t=this._focused?this._valueFromText(this._editorInput.val()).toString():this.value()||this.value()===0?this.value().toString():"",this._clearEditorNotifier(),this._currentInputTextValue=this._editorInput.val(),t=this._getSpinValue("spinUp",t,n),t>this.options.maxValue&&this.options.spinWrapAround||t<this.options.minValue||this._currentInputTextValue===this.options.maxValue.toString()&&this.options.spinWrapAround?(t=this.options.minValue,this._sendNotification("warning",{optName:"maxValExceededWrappedAroundErrMsg",arg:this.options.maxValue})):t>=this.options.maxValue&&!this.options.spinWrapAround&&(t=this.options.maxValue,this._sendNotification("warning",{optName:"maxValErrMsg",arg:[this.options.maxValue]})),this._focused?(t=this._getEditModeValue(t),this._editorInput.val(t),this._processTextChanged()):(i=this._triggerValueChanging(t),i&&(this._updateValue(t),this._exitEditMode(),this._triggerValueChanged(t))),this._setSpinButtonsState(t)},_editorIsCleared:function(){var n=!1,t=this._editorInput.val();return(t===""||t==="0")&&(n=!0),n},_spinDown:function(n){var t,i;if(this._dropDownList&&this.options.isLimitedToListValues){this._spin("down");return}t=this._focused?this._valueFromText(this._editorInput.val()).toString():this.value()||this.value()===0?this.value().toString():"",this._clearEditorNotifier(),this._currentInputTextValue=this._editorInput.val(),t=this._getSpinValue("spinDown",t,n),t<this.options.minValue&&this.options.spinWrapAround||t>this.options.maxValue||this._currentInputTextValue===this.options.minValue.toString()&&this.options.spinWrapAround?(t=this.options.maxValue,this._sendNotification("warning",{optName:"minValExceededWrappedAroundErrMsg",arg:this.options.minValue})):t<=this.options.minValue&&!this.options.spinWrapAround&&(t=this.options.minValue,this._sendNotification("warning",{optName:"minValErrMsg",arg:this.options.minValue})),this._focused?(t=this._getEditModeValue(t),this._editorInput.val(t),this._processTextChanged()):(i=this._triggerValueChanging(t),i&&(this._updateValue(t),this._exitEditMode(),this._triggerValueChanged(t))),this._setSpinButtonsState(t)},_exceedsMaxValue:function(n){return this.options.isLimitedToListValues?this._super(n):this.options.maxValue!==null&&n>=this.options.maxValue},_lessThanMinValue:function(n){return this.options.isLimitedToListValues?this._super(n):this.options.minValue!==null&&n<=this.options.minValue},_handleSpinUpEvent:function(){this._dropDownList&&this.options.isLimitedToListValues?this._super():(this._spinUp(),this._focused&&this._editorInput.select())},_handleSpinDownEvent:function(){this._dropDownList&&this.options.isLimitedToListValues?this._super():(this._spinDown(),this._focused&&this._editorInput.select())},_setSpinButtonsState:function(n){n=this._valueFromText(n),this._super(n)},value:function(n){if(n!==undefined)this._clearEditorNotifier(),n===null||isNaN(this._parseNumericValueByMode(n,this._numericType,this.options.dataMode))?!this.options.revertIfNotValid||n===null&&this.options.allowNullValue?this._clearValue():(n=this._valueInput.val(),this._updateValue(n)):(n===""||isNaN(n)||(!isNaN(this.options.maxValue)&&n>this.options.maxValue?(n=this.options.maxValue,this._sendNotification("warning",{optName:"maxValExceedSetErrMsg",arg:this.options.maxValue})):!isNaN(this.options.minValue)&&n<this.options.minValue&&(n=this.options.minValue,this._sendNotification("warning",{optName:"minValExceedSetErrMsg",arg:this.options.value}))),this._validateValue(n)?(this._updateValue(n),this._focused?this._enterEditMode():this._editorInput.val(this._getDisplayValue())):(n<this.options.minValue?n=this.options.minValue:n>this.options.maxValue&&(n=this.options.maxValue),this._updateValue(n),this._focused?this._enterEditMode():this._editorInput.val(this._getDisplayValue())),this._setSpinButtonsState(n)),n<0?this._editorInput.addClass(this.css.negative):this._editorInput.removeClass(this.css.negative);else return this.options.value;this._checkClearButtonState()},findListItemIndex:function(n){for(var i=this.options.listItems,t=0;t<i.length;t++)if(this._parseNumericValueByMode(i[t],this._numericType,this.options.dataMode)===n)return t;return-1},getSelectedText:function(){throw new Error(this._getLocaleValue("numericEditorNoSuchMethod"));},getSelectionStart:function(){throw new Error(this._getLocaleValue("numericEditorNoSuchMethod"));},getSelectionEnd:function(){throw new Error(this._getLocaleValue("numericEditorNoSuchMethod"));},spinUp:function(n){this._spinUp(n)},spinDown:function(n){this._spinDown(n)},selectListIndexUp:function(){this._spinUp()},selectListIndexDown:function(){this._spinDown()},getRegionalOption:function(){return this._getRegionalValue()},changeRegional:function(){this._focused?this._enterEditMode():this._editorInput.val(this._getDisplayValue())}}),n.extend(n.ui.igNumericEditor,{version:"19.2.25"}),n.widget("ui.igCurrencyEditor",n.ui.igNumericEditor,{options:{positivePattern:null,currencySymbol:null},events:{},_create:function(){n.ui.igNumericEditor.prototype._create.call(this)},_setNumericType:function(){this._numericType="currency"},currencySymbol:function(n){if(n)this.options.currencySymbol=n;else return this._getOptionOrRegionalValue("currencySymbol")}}),n.extend(n.ui.igCurrencyEditor,{version:"19.2.25"}),n.widget("ui.igPercentEditor",n.ui.igNumericEditor,{options:{positivePattern:null,percentSymbol:null,displayFactor:100,dataMode:"float",spinDelta:.01},events:{},_create:function(){n.ui.igNumericEditor.prototype._create.call(this)},_setNumericType:function(){this._numericType="percent"},_insert:function(n,t,i){var f=n.length,r=this._getOptionOrRegionalValue("displayFactor"),u;isNaN(n=this._parseNumericValueByMode(n,this._numericType,this.options.dataMode))?n=this.options.revertIfNotValid?t:"":(!isNaN(this.options.maxValue)&&n/r>this.options.maxValue?(n=this.options.maxValue*r,this._sendNotification("warning",{optName:"maxValExceedSetErrMsg",arg:this.options.maxValue})):!isNaN(this.options.minValue)&&n/r<this.options.minValue&&(n=this.options.minValue*r,this._sendNotification("warning",{optName:"minValExceedSetErrMsg",arg:this.options.minValue})),!this._validateValue(n/r)&&this.options.revertIfNotValid&&(n=t)),this._editMode?(this._editorInput.val(n),i!==undefined&&(u=f-n.toString().length,i.start-=u,i.end-=u,this._setSelectionRange(this._editorInput[0],i.start,i.end))):(n=this._divideWithPrecision(n,r),this._processInternalValueChanging(n),this._exitEditMode()),this._setSpinButtonsState(n/r),this._processTextChanged()},_validateRegionalSettings:function(){if(this.options.displayFactor!==null)if(typeof this._getOptionOrRegionalValue("displayFactor")!="number")throw new Error(this._getLocaleValue("displayFactorIsOfTypeNumber"));else if(this._getOptionOrRegionalValue("displayFactor")!==1&&this._getOptionOrRegionalValue("displayFactor")!==100)throw new Error(this._getLocaleValue("displayFactorAllowedValue"));},_getOptionOrRegionalValue:function(n){var t=this._super(n);return n==="maxDecimals"&&this.options.displayFactor===100&&(t+=2),t},_setOption:function(t,i){var r=this.options[t];if(r!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"displayFactor":if(typeof i!="number"){this.options[t]=r;throw new Error(this._getLocaleValue("displayFactorIsOfTypeNumber"));}else if(i!==1&&i!==100){this.options[t]=r;throw new Error(this._getLocaleValue("displayFactorAllowedValue"));}break;default:this.options[t]=r,this._super(t,i)}}},_getEditModeValue:function(n){return n===""||isNaN(n)||(n=this._multiplyWithPrecision(parseFloat(n),this._getOptionOrRegionalValue("displayFactor"))),this._super(n)},_valueFromText:function(n){var t=this._parseNumericValueByMode(n,this._numericType,this.options.dataMode);return this._divideWithPrecision(t,this.options.displayFactor)},insert:function(n){this._insertHandler(n)},percentSymbol:function(n){if(n)this.options.percentSymbol=n;else return this._getOptionOrRegionalValue("percentSymbol")}}),n.extend(n.ui.igPercentEditor,{version:"19.2.25"}),n.widget("ui.igMaskEditor",n.ui.igTextEditor,{options:{buttonType:"none",inputMask:"CCCCCCCCCC",dataMode:"allText",unfilledCharsPrompt:"_",padChar:" ",emptyChar:" ",includeKeys:null,excludeKeys:null,spinWrapAround:!1,listItems:null,listWidth:0,listItemHoverDuration:0,isLimitedToListValues:!1,dropDownOrientation:"auto",dropDownAttachedToBody:!1,dropDownAnimationDuration:300,dropDownOnReadOnly:!1,textMode:"text",visibleItemsCount:5,maxLength:null,value:null,suppressKeyboard:!1},events:{dropDownListOpening:"dropDownListOpening",dropDownListOpened:"dropDownListOpened",dropDownListClosing:"dropDownListClosing",dropDownListClosed:"dropDownListClosed",dropDownItemSelecting:"dropDownItemSelecting",dropDownItemSelected:"dropDownItemSelected"},_create:function(){n.ui.igTextEditor.prototype._create.call(this)},_initialize:function(){this._super(),this.options.maxLength&&(this.options.maxLength=null),this.options.listItems&&(this.options.listItems=null),this._maskFlagsArray=this._maskFlagsArray?n.merge(this._maskFlagsArray,["C","&","a","A","?","L","9","0","<",">","#"]):["C","&","a","A","?","L","9","0","<",">","#"],this._promptCharsIndices=[]},_applyOptions:function(){this._getMaskLiteralsAndRequiredPositions(),this._super()},_getEditModeValue:function(){return this._maskedValue===""?this._maskWithPrompts:this._maskedValue},_insert:function(n,t,i){this.options.toUpper?n&&(n=n.toLocaleUpperCase()):this.options.toLower&&n&&(n=n.toLocaleLowerCase()),this._promptCharsIndices=[],this._editMode?this._insertEditMode(n,i):n!==t&&this._insertDisplayMode(n),this._processTextChanged()},_insertEditMode:function(n,t){n=this._parseValueByMask(n),this._editorInput.val(n),t!==undefined&&this._setSelectionRange(this._editorInput[0],t.start,t.end)},_insertDisplayMode:function(n){n=this._parseValueByMask(n),this._processInternalValueChanging(n),this._exitEditMode()},_pasteHandler:function(t,i){var r=this,o=n(t.target).val(),f,e,u,s=i?t.originalEvent.dataTransfer:t.originalEvent&&t.originalEvent.clipboardData||window.clipboardData;e=s&&s.getData("Text"),e=e.replace(/[\r\n]{1,2}$/g,""),this._currentInputTextValue=this._editorInput.val(),this._timeouts.push(setTimeout(function(){u=r._getSelection(t.target),u.start===u.end?(u.start-=e.length,f=r._replaceDisplayValue(u,o,e),u.start=u.end):f=r._replaceDisplayValue(u,o,e),r._validateValueAgainstMask(f)?r._insert(f,o,u):(r.options.revertIfNotValid?(f=r._valueInput.val(),r._updateValue(f)):r._clearValue(),r._focused&&r._enterEditMode()),i&&(r._editorInput.is(":focus")?r._triggerFocus(t):(r._processValueChanging(f),r._focused=!1,r._exitEditMode()))},10))},_replaceDisplayValue:function(t,i,r){var f=i,u=t.start,e=0,s,o;for(r=r.toString();u<i.length&&e<r.length;u++,e++)s=i.charAt(u),o=r.charAt(e),n.inArray(u,this._literalIndeces)!==-1?s!==o&&(t.end++,e--):f=f.substring(0,u)+o+f.substring(u+1,i.length);return f},_attachEvents:function(){var n=this;n._super();this._editorInput.on({"dragend.editor":function(){n._handleDeleteKey(!0)},"cut.editor":function(){n._handleDeleteKey(!0)}})},_detachEvents:function(){this._super(),this._editorInput&&this._editorInput.off("cut.editor dragend.editor")},_getMaskLiteralsAndRequiredPositions:function(){var o,c=[],l=[],a=this._maskFlagsArray,v,t,r,u,i,f=!1,e=!1,s=[],h=[];for(v=r=o=this.options.inputMask,u=0,i=0;u<o.length;u++,i++)t=o.charAt(u),n.inArray(t,a)!==-1?(f&&t!=="9"&&t!=="0"&&t!=="#"?s.push(i):e&&t!=="9"&&t!=="0"&&t!=="#"&&h.push(i),t==="&"||t==="A"||t==="L"||t==="0"?l.push(i):t===">"?(e?(e=!1,h.pop()):(e=!0,f&&(f=!1,s.pop())),r=this._replaceCharAt(r,i,""),i--):t==="<"&&(f?(f=!1,s.pop()):(f=!0,e&&(e=!1,h.pop())),r=this._replaceCharAt(r,i,""),i--)):t==="\\"?(n.inArray(o.charAt(u+1),a)!==-1&&(r=this._replaceCharAt(r,i,""),u++),c.push(i)):c.push(i);this._literalIndeces=c,this._requiredIndeces=l,this._toLowerIndeces=s,this._toUpperIndeces=h,this._unescapedMask=r},_validateValue:function(n){return n===undefined||n===null?this._super(n):this._validateValueAgainstMask(n)},_parseValueByMask:function(t){var f=this.options.inputMask,r=f,u,c=this._maskFlagsArray,s=f.length,i,o,e,h;if(t=t===0||t?t.toString():"",s&&s>0){if(t.indexOf(this.options.unfilledCharsPrompt!==-1))for(i=225,e=String.fromCharCode(i);f.indexOf(e)!==-1&&t.indexOf(e)!==-1;)i++;for(i=0,o=0;i<s;i++,o++)u=t.charAt(o),this._validateCharOnPostion(u,i)===null?f.charAt(i)==="\\"?(h=["C","&","a","A","?","L","0","9","#"],h.indexOf(u)>-1?i++:(i++,o--)):f.charAt(i)==="<"||f.charAt(i)===">"?o--:n.inArray(i,this._literalIndeces)!==-1&&f.charAt(i)!==u&&o--:r=this._validateCharOnPostion(u,i)===!0?u===this.options.unfilledCharsPrompt?this._replaceCharAt(r,i,e):this._replaceCharAt(r,i,u):this._replaceCharAt(r,i,this.options.unfilledCharsPrompt);for(i=0;i<r.length;i++)u=r.charAt(i),u==="\\"&&n.inArray(r.charAt(i+1),c)!==-1?r=this._replaceCharAt(r,i,""):u==="<"||u===">"?(r=this._replaceCharAt(r,i,""),i--):n.inArray(i,this._toLowerIndeces)!==-1?(u===e&&(r=this._replaceCharAt(r,i,this.options.unfilledCharsPrompt),this._promptCharsIndices.push(i)),r=this._replaceCharAt(r,i,r.charAt(i).toLocaleLowerCase())):n.inArray(i,this._toUpperIndeces)!==-1?(r=this._replaceCharAt(r,i,r.charAt(i).toLocaleUpperCase()),u===e&&(r=this._replaceCharAt(r,i,this.options.unfilledCharsPrompt),this._promptCharsIndices.push(i))):u===e&&(r=this._replaceCharAt(r,i,this.options.unfilledCharsPrompt),this._promptCharsIndices.push(i))}return r},_getValueByDataMode:function(t){var u,e,i,r,o,f,s=this.options.dataMode;if(t=t!==undefined?t:this._maskedValue,this._promptCharsIndices.length>0){for(i=225,f=String.fromCharCode(i);t.indexOf(f)!==-1;)i++;for(i=0;i<this._promptCharsIndices.length;i++)o=this._promptCharsIndices[i],t=this._replaceCharAt(t,o,f)}switch(s){case"allText":for(u="",i=0;i<t.length;i++)r=t.charAt(i),r===this.options.unfilledCharsPrompt&&(r=n.inArray(i,this._requiredIndeces)!==-1?this.options.emptyChar:""),u+=r;this._promptCharsIndices.length>0&&(e=new RegExp(n.ig.util.escapeRegExp(f),"g"),u=u.replace(e,this.options.unfilledCharsPrompt));break;case"rawText":for(u="",i=0;i<t.length;i++)r=t.charAt(i),n.inArray(i,this._literalIndeces)===-1&&r!==this.options.unfilledCharsPrompt&&(u+=this._promptCharsIndices.length>0&&r===f?this.options.unfilledCharsPrompt:r);break;case"rawTextWithRequiredPrompts":for(u="",i=0;i<t.length;i++)r=t.charAt(i),n.inArray(i,this._literalIndeces)===-1&&(r===this.options.unfilledCharsPrompt?n.inArray(i,this._requiredIndeces)!==-1&&(u+=this.options.emptyChar):u+=this._promptCharsIndices.length>0&&r===f?this.options.unfilledCharsPrompt:r);break;case"rawTextWithAllPrompts":for(u="",i=0;i<t.length;i++)r=t.charAt(i),n.inArray(i,this._literalIndeces)===-1&&(u+=r===this.options.unfilledCharsPrompt?this.options.emptyChar:this._promptCharsIndices.length>0&&r===f?this.options.unfilledCharsPrompt:r);break;case"rawTextWithLiterals":for(u="",i=0;i<t.length;i++)r=t.charAt(i),r!==this.options.unfilledCharsPrompt&&(u+=this._promptCharsIndices.length>0&&r===f?this.options.unfilledCharsPrompt:r);break;case"rawTextWithRequiredPromptsAndLiterals":for(u="",i=0;i<t.length;i++)r=t.charAt(i),n.inArray(i,this._literalIndeces)===-1?r===this.options.unfilledCharsPrompt?n.inArray(i,this._requiredIndeces)!==-1&&(u+=this.options.emptyChar):u+=this._promptCharsIndices.length>0&&r===f?this.options.unfilledCharsPrompt:r:u+=r;break;default:for(u="",i=0;i<t.length;i++)r=t.charAt(i),r===this.options.unfilledCharsPrompt&&(r=n.inArray(i,this._requiredIndeces)!==-1?this.options.emptyChar:""),u+=r;this._promptCharsIndices.length>0&&(e=new RegExp(n.ig.util.escapeRegExp(f),"g"),u=u.replace(e,this.options.unfilledCharsPrompt))}return u},_updateValue:function(n){n===""?(this.options.value="",this._valueInput.val(""),this._maskedValue=""):n===null?this.options.allowNullValue?this.options.nullValue===null?(this._maskedValue="",this._valueInput.val(""),this.options.value=this.options.nullValue):(this._maskedValue=this._parseValueByMask(this.options.nullValue),this.options.value=this._getValueByDataMode(),this._valueInput.val(this.options.value)):(this.options.value="",this._valueInput.val(""),this._maskedValue=""):(this._maskedValue=n,this.options.value=this._getValueByDataMode(),this._valueInput.val(this.options.value))},_clearValue:function(n){var t="";this.options.allowNullValue&&(t=this.options.nullValue),this._validateValue(t)?this._editorInput.val(this._parseValueByMask(t)):(t="",this._editorInput.val(this._maskWithPrompts)),n||this._updateValue(t),this._editMode===!1&&this._exitEditMode()},_getDisplayValue:function(){return this._replaceValueInMask(this.options.unfilledCharsPrompt,this.options.padChar)},_getMaskedValue:function(n){return this._replaceValueInMask(this.options.emptyChar,this.options.unfilledCharsPrompt,n)},_replaceValueInMask:function(t,i,r){var e,o=r||this._maskedValue,u,f,h,s,l,a,v,c=this.options.inputMask,y=this._maskFlagsArray;if(e=o,this._promptCharsIndices.length>0){for(u=225,l=String.fromCharCode(u);o.indexOf(l)!==-1;)u++;for(u=0;u<this._promptCharsIndices.length;u++)a=this._promptCharsIndices[u],o=this._replaceCharAt(o,a,l)}for(u=0,f=0,h=0;u<o.length;u++,f++,h++){if((c.charAt(f)==="<"||c.charAt(f)===">")&&f++,c.charAt(f)==="\\"&&n.inArray(c.charAt(f+1),y)!==-1){f++;continue}o.charAt(u)===t&&(s=c.charAt(f),s==="&"||s==="A"||s==="L"||s==="0"?e=this._replaceCharAt(e,h,i):s!==" "&&(e=this._replaceCharAt(e,h,""),h--))}return this._promptCharsIndices.length>0&&(v=new RegExp(n.ig.util.escapeRegExp(l),"g"),e=e.replace(v,t)),e},_valueFromText:function(n){return this._getValueByDataMode(n)},_editorIsCleared:function(){var n=!1,t=this._editorInput.val();return(t===""||t===this._maskWithPrompts)&&(n=!0),n},_validateValueAgainstMask:function(t){var i,r,e=t.length,o=!0,u,f=this._unescapedMask;if(e&&e>0)for(r=0,i=0;i<f.length&&r<t.length;i++,r++){if(u=t.charAt(r),n.inArray(i,this._literalIndeces)!==-1){f.charAt(i)!==u&&r--;continue}if(!(this._focused&&u===this.options.unfilledCharsPrompt)&&this._validateCharOnPostion(u,i,f)===!1)return!1}else o=!0;return o},_setInitialValue:function(n){this._maskWithPrompts=this._parseValueByMask(""),this._getMaskLiteralsAndRequiredPositions(),n===null||n===""?(this._updateValue(n),this._maskedValue=""):(this._maskedValue=this._parseValueByMask(n),this._updateValue(this._maskedValue)),this._checkClearButtonState()},_triggerInternalValueChange:function(n){var r=this.options.value,t,i;n===this._maskWithPrompts&&this._promptCharsIndices.length===0&&(n=""),i=this._triggerValueChanging(n),i&&(this._processInternalValueChanging(n),this.options.value!==r&&this._triggerValueChanged(n),n===""||this._validateRequiredPrompts(n)||(t=this.options.revertIfNotValid?"maskRevertMessage":"maskMessage",this._sendNotification("warning",{optName:t})))},_validateRequiredPrompts:function(t){var i,r;if(t==="")return!0;for(i=0;i<this._requiredIndeces.length;i++)if(r=t.charAt(this._requiredIndeces[i]),r===this.options.unfilledCharsPrompt)if(this._promptCharsIndices.length>0&&n.inArray(this._requiredIndeces[i],this._promptCharsIndices)!==-1)continue;else return!1;return!0},_processInternalValueChanging:function(n){this._validateValue(n)&&(this.options.revertIfNotValid&&this._validateRequiredPrompts(n)||!this.options.revertIfNotValid)?(n.length&&n.length!==this._maskWithPrompts.length&&(n=this._parseValueByMask(n)),this._updateValue(n)):this.options.revertIfNotValid?(n=this._getMaskedValue(this._maskedValue||this._valueInput.val().trim()),this._updateValue(n),n=this._parseValueByMask(n.trim()),this._editorInput.val(n)):(this._clearValue(),n=this._valueInput.val(),this._focused&&this._enterEditMode())},_triggerKeyDown:function(t){var i=t.charCode?t.charCode:t.which,r=this._getSelection(this._editorInput[0]).start,u,f,e;return e=this._super(t),e&&(i===8?(this._handleBackSpaceKey(),t.preventDefault()):i===46?(this._handleDeleteKey(),t.preventDefault()):n.inArray(r,this._toUpperIndeces)!==-1&&this._inComposition!==!0?!t.ctrlKey&&!t.altKey&&(i>46&&i<91||i>145)&&(n.ig.util.isWebKit&&i===229||(u=String.fromCharCode(i),f=u.toLocaleUpperCase(),this._editorInput.val(this._replaceCharAt(this._editorInput.val(),r,f)),this._setCursorPosition(r+1),t.preventDefault())):n.inArray(r,this._toLowerIndeces)!==-1&&this._inComposition!==!0&&!t.ctrlKey&&!t.altKey&&(i>46&&i<91||i>145)&&(n.ig.util.isWebKit&&i===229||(u=String.fromCharCode(i),f=u.toLocaleLowerCase(),this._editorInput.val(this._replaceCharAt(this._editorInput.val(),r,f)),this._setCursorPosition(r+1),t.preventDefault()))),e},_triggerKeyPress:function(t){var i,r=t.charCode?t.charCode:t.which,u;this._super(t)&&(i=this._getCursorPosition(),r===46&&this._promptCharsIndices.length>0?n.inArray(i,this._promptCharsIndices)!==-1&&(this._promptCharsIndices=this._promptCharsIndices.splice(n.inArray(i,this._promptCharsIndices),1)):r===8&&this._promptCharsIndices.length>0?n.inArray(i-1,this._promptCharsIndices)!==-1&&(this._promptCharsIndices=this._promptCharsIndices.splice(n.inArray(i-1,this._promptCharsIndices),1)):(u=String.fromCharCode(r),u===this.options.unfilledCharsPrompt&&n.inArray(i,this._promptCharsIndices)===-1&&this._promptCharsIndices.push(i)))},_validateKey:function(t){var r,f,u,i=this._getCursorPosition();if(this._super(t)&&this.options.inputMask){if(u=t.charCode?t.charCode:t.which,n.ig.util.isFF&&this._validateNonCharacter(t))r=!0;else if(u!==8&&u!==46){for(f=String.fromCharCode(u),i===-1&&(this._editSelectAllStartied=!0,this._editorValueBeforeClear=this._editorInput.val(),this._editorInput.val(this._maskWithPrompts),i++);n.inArray(i,this._literalIndeces)!==-1||i===this._maskWithPrompts.length;)i++;r=this._validateKeyCharAgainstMask(f,i,this._unescapedMask),r===!0&&(n.ig.util.isFF&&t.keyCode===37?this._setSelectionRange(this._editorInput[0],i,i-1):this._setSelectionRange(this._editorInput[0],i,i+1))}}else r=!1;return r===!1&&this._editSelectAllStartied&&(this._editorInput.val(this._editorValueBeforeClear),this._editorInput.select(),delete this._editSelectAllStartied,delete this._editorValueBeforeClear),r===!0&&this._editSelectAllStartied&&(delete this._editSelectAllStartied,delete this._editorValueBeforeClear),r},_validateKeyCharAgainstMask:function(n,t,i){var u=i||this.options.inputMask,r;return r=t>=this._maskWithPrompts.length?!1:this._validateCharOnPostion(n,t,u)===null?this._validateKeyCharAgainstMask(n,t+1):this._validateCharOnPostion(n,t,u)},_validateCharOnPostion:function(n,t,i){var e,o,r,u,f=n,s="[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]",h="[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]",c="[\\d]",l="[\\d_\\+]";o=i||this.options.inputMask,e=o.charAt(t);switch(e){case"C":case"&":r=f===""?!1:!0;break;case"a":case"A":u=new RegExp(s),r=u.test(f)?!0:!1;break;case"?":case"L":u=new RegExp(h),r=u.test(f)?!0:!1;break;case"0":case"9":u=new RegExp(c),r=u.test(f)?!0:!1;break;case"#":u=new RegExp(l),r=u.test(f)?!0:!1;break;default:r=null}return r},_setOption:function(t,i){var r=this.options[t];if(r!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"inputMask":this.options[t]=r;throw new Error(this._getLocaleValue("setOptionError")+t);case"excludeKeys":case"includeKeys":case"unfilledCharsPrompt":this.options[t]=r;throw new Error(this._getLocaleValue("setOptionError")+t);default:this.options[t]=r,this._super(t,i)}}},_handleBackSpaceKey:function(){var r=this._getSelection(this._editorInput[0]),i=r.start,u=r.end,t=u;for(i===u&&i--,t--,t;t>i-1;t--){while(n.inArray(t,this._literalIndeces)!==-1||t===-1)t--;t>-1&&(this._editorInput.val(this._replaceCharAt(this._editorInput.val(),t,this.options.unfilledCharsPrompt)),this._setCursorPosition(t))}},_handleDeleteKey:function(t){var u=this._getSelection(this._editorInput[0]),f=u.start,r=u.end,i=f;for(f===r&&r++,i;i<r;i++){while(n.inArray(i,this._literalIndeces)!==-1&&i<=this._maskWithPrompts.length)i++;i!==this._maskWithPrompts.length?(this._editorInput.val(this._replaceCharAt(this._editorInput.val(),i,this.options.unfilledCharsPrompt)),t||this._setCursorPosition(i+1)):t||this._setCursorPosition(i)}},value:function(n){if(n!==undefined)this._clearEditorNotifier(),n!==null&&(this._promptCharsIndices=[],n=this._parseValueByMask(n)),n===this._maskWithPrompts&&(n=""),this._updateValue(n),this._editorInput.val(this._editMode?this._maskedValue:this._getDisplayValue());else return this.options.value;this._checkClearButtonState()},dropDownContainer:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},showDropDown:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},hideDropDown:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},dropDownButton:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},spinUpButton:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},spinDownButton:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},dropDownVisible:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},findListItemIndex:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},selectedListIndex:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},getSelectedListItem:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},spinUp:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},spinDown:function(){throw new Error(this._getLocaleValue("maskEditorNoSuchMethod"));},isValid:function(){var n,t;return this._skipMessages=!0,this._editMode?(n=this.field().val(),t=this._validateRequiredPrompts(n)):(n=this.options.value,t=this._validateValue(n),n===""||this._validateRequiredPrompts(this._maskedValue)||(t=!1,this._sendNotification("warning",{optName:"maskMessage"}))),this._skipMessages=!1,t}}),n.extend(n.ui.igMaskEditor,{version:"19.2.25"}),n.widget("ui.igDateEditor",n.ui.igMaskEditor,{options:{value:null,minValue:null,maxValue:null,dateDisplayFormat:null,dateInputFormat:null,dataMode:"date",displayTimeOffset:null,buttonType:"none",spinDelta:1,limitSpinToCurrentField:!1,enableUTCDates:!1,centuryThreshold:29,yearShift:0,nullValue:null,isLimitedToListValues:!1,listItemHoverDuration:0,listItems:null,listWidth:0,dropDownAnimationDuration:0,dropDownAttachedToBody:!1,dropDownOnReadOnly:!1,inputMask:"CCCCCCCCCC",unfilledCharsPrompt:"_",padChar:" ",emptyChar:" ",toUpper:!1,toLower:!1,suppressKeyboard:!1},events:{dropDownListOpening:"dropDownListOpening",dropDownListOpened:"dropDownListOpened",dropDownListClosing:"dropDownListClosing",dropDownListClosed:"dropDownListClosed",dropDownItemSelecting:"dropDownItemSelecting",dropDownItemSelected:"dropDownItemSelected"},_create:function(){n.ui.igMaskEditor.prototype._create.call(this)},_initialize:function(){var n=this.options.displayTimeOffset;if(this._super(),this._applyRegionalSettings(),this.options.inputMask=this._convertDateMaskToDigitMask(this._inputFormat),this._setNumericType(),this._mvcDateRegex=/^\/Date\((.*?)\)\/$/i,n!==null&&(n>840||n<-720))throw new Error(this._getLocaleValue("dateEditorOffsetRange"));},_setNumericType:function(){this._numericType="datetime"},_setOption:function(t,i){var r=this.options[t],u;if(n.type(r)==="date"){if(u=this._getDateObjectFromValue(i),n.type(u)==="date"&&r.getTime()===u.getTime())return}else if(r===i)return;n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"displayTimeOffset":this._editMode?(this._updateMaskedValue(),this._enterEditMode()):this._editorInput.val(this._getDisplayValue());break;case"minValue":case"maxValue":if(!this._isValidDate(i)){this.options[t]=r;return}i!==null&&(this.options[t]=this._getDateObjectFromValue(i),this._processInternalValueChanging(this.value()),this._editMode||(this._editorInput.val(this._getDisplayValue()),this._currentInputTextValue=this._editorInput.val())),this._setSpinButtonsState(this.value());break;case"listItems":case"dateInputFormat":this.options[t]=r;throw new Error(this._getLocaleValue("setOptionError")+t);case"dateDisplayFormat":this._applyRegionalSettings(),this._editMode||this._editorInput.val(this._getDisplayValue());break;case"spinDelta":try{this._validateSpinSettings()}catch(f){this.options[t]=r;throw f;}break;default:this.options[t]=r,this._super(t,i)}},_applyRegionalSettings:function(){var n=this.options.dateInputFormat,t=this.options.dateDisplayFormat;this._inputFormat=n!==null?n==="date"||n==="dateLong"||n==="dateTime"||n==="time"||n==="timeLong"?this._getRegionalValue(n+"Pattern"):n:this._getRegionalValue("datePattern"),this._displayFormat=t!==null?t==="date"||t==="dateLong"||t==="dateTime"||t==="time"||t==="timeLong"?this._getRegionalValue(t+"Pattern"):t:this._inputFormat},changeRegional:function(){var n=this._timeouts;this._initialize(),this._timeouts=n,this._setInitialValue(this._dateObjectValue),this._focused&&this._enterEditMode()},_setInitialValue:function(n){this._maskWithPrompts=this._parseValueByMask(""),n===null||n===""?(this._updateValue(n),this._maskedValue=""):(this._validateValue(n)&&(this._updateValue(this._getDateObjectFromValue(n)),this._updateMaskedValue()),this._editorInput.val(this._getDisplayValue())),this._checkClearButtonState(),this._setSpinButtonsState(n)},_applyOptions:function(){if(this._validateSpinSettings(),this.options.centuryThreshold>99||this.options.centuryThreshold<0){this.options.centuryThreshold=29;throw new Error(this._getLocaleValue("centuryThresholdValidValues"));}if(this.options.minValue)if(this._isValidDate(new Date(this.options.minValue)))this.options.minValue=this._getDateObjectFromValue(this.options.minValue);else throw new Error(this._getLocaleValue("invalidDate"));if(this.options.maxValue)if(this._isValidDate(new Date(this.options.maxValue)))this.options.maxValue=this._getDateObjectFromValue(this.options.maxValue);else throw new Error(this._getLocaleValue("invalidDate"));this.options.value=this._getValueBetweenMinMax(this.options.value),this._super()},_validateSpinSettings:function(){var n=this.options.spinDelta,t,i;if(typeof n=="number")if(n<0)throw new Error(this._getLocaleValue("spinDeltaCouldntBeNegative"));else this.options.spinDelta=parseInt(n,10);else if(typeof n=="object"){t={year:10,month:12,day:28,hours:this._dateIndices.hh24?24:12,minutes:60,seconds:60,milliseconds:1e3};for(i in t)t.hasOwnProperty(i)&&this._validateSpinSettingsForTimePeriod(i,t[i])}else throw new Error(this._getLocaleValue("spinDeltaIsOfTypeNumberOrObject"));},_validateSpinSettingsForTimePeriod:function(t,i){var r=this.options.spinDelta[t];if(r===undefined){this.options.spinDelta[t]=1;return}if(typeof r!="number")throw new Error(n.ig.util.stringFormat(this._getLocaleValue("spinDeltaIsOfTypeNumberForPeriod"),t,0,i));else if(r<0||r>i)throw new Error(n.ig.util.stringFormat(this._getLocaleValue("spinDeltaShouldBeInRange"),t,0,i));else this.options.spinDelta[t]=parseInt(r,10)},_triggerKeyDown:function(t){var i=t.charCode?t.charCode:t.which,r;return r=this._super(t),r&&(i!==38||this instanceof n.ui.igDatePicker||(this._spinUpEditMode(),t.preventDefault()),i!==40||this instanceof n.ui.igDatePicker||(this._spinDownEditMode(),t.preventDefault()),i===13&&this._enterEditMode()),r},_exceedsMaxValue:function(n){return this._editMode||(n=this.value()),this.options.maxValue!==null&&this._getDateObjectFromValue(n).getTime()>=this._getDateObjectFromValue(this.options.maxValue).getTime()},_lessThanMinValue:function(n){return this._editMode||(n=this.value()),this.options.minValue!==null&&this._getDateObjectFromValue(n).getTime()<=this._getDateObjectFromValue(this.options.minValue).getTime()},_handleSpinUpEvent:function(){this._spin(this.options.spinDelta,!0)},_handleSpinDownEvent:function(){this._spin(this._setNegativeDelta(this.options.spinDelta),!0)},_setNegativeDelta:function(n){var i={},t;if(typeof n=="object")for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]*-1);else i=n*-1;return i},_getDelta:function(n,t){return typeof n=="object"?n[t]:n},_serializeDate:function(t){return t=this.options.dataMode==="date"?this.options.enableUTCDates?t.toISOString():n.ig.toLocalISOString(t):this.options.value},_getDateField:function(n,t){var r=this.options.yearShift,i;return!t||isNaN(t.getTime())?null:(i=t["get"+n](),n==="FullYear"&&r&&(i+=r),i)},_setDateField:function(n,t,i){var r=this.options.yearShift;t&&(n==="FullYear"&&r&&(i-=r),t["set"+n](i))},_setNewDateMidnight:function(){var n=new Date;return this._setDateField("Hours",n,0),this._setDateField("Minutes",n,0),this._setDateField("Seconds",n,0),this._setDateField("Milliseconds",n,0),n},_getInternalMaskedValue:function(n){return this._updateMaskedValue(n,!0)},_replaceDisplayValue:function(n,t,i){return n.start===0&&(i=this._formatDateString(i.toString())),this._super(n,t,i)},_formatDateString:function(n){var t,u,i,r,f=this.options.unfilledCharsPrompt;if(t=this._parseValueByMask(n),t.indexOf(f)>=0)for(u in this._dateIndices){i=this._dateIndices[u];switch(u){case"fourDigitYear":case"ffLength":case"hh24":i=null;break;case"yy":r=i+(this._dateIndices.fourDigitYear?4:2);break;case"ff":r=i+this._dateIndices.ffLength;break;default:r=i+2}i!==null&&(t=(i>0?t.substring(0,i):"")+this._reverseMaskWithUnderscore(t.substring(i,r))+(r<t.length?t.substring(r,t.length):""))}return t},_reverseMaskWithUnderscore:function(n){var u,f,t,e,i,r=this.options.unfilledCharsPrompt;return f=new RegExp("(\\d{1,3}\\"+r+"{1,3})","g"),i=new RegExp("\\"+r,"g"),t=f.exec(n),t&&t[0]&&(u=(n.match(i)||[]).length,e=Array(u+1).join(r)+t[0].replace(i,""),n=n.replace(t[0],e)),n},_updateMaskedValue:function(t,i){var r=this._maskWithPrompts?this._maskWithPrompts:this._parseValueByMask(""),a=this.options.regional,u,e,o,s,f,h,c,l;if(u=t?t:this._dateObjectValue,this.options.displayTimeOffset!==null&&(u=this._getDateOffset(u)),u&&u.getTime()===u.getTime()){if(this._dateIndices.yy!==undefined)if(e=this._getDateField("FullYear",u).toString(),this._dateIndices.fourDigitYear){if(e.toString().length<4)while(e.toString().length<4)e="0"+e;r=this._replaceStringRange(r,e,this._dateIndices.yy,this._dateIndices.yy+3)}else e=e.substring(2),r=this._replaceStringRange(r,e,this._dateIndices.yy,this._dateIndices.yy+1);this._dateIndices.MM!==undefined&&(o=this._getDateField("Month",u),o++,o=o<10?"0"+o.toString():o.toString(),r=this._replaceStringRange(r,o,this._dateIndices.MM,this._dateIndices.MM+1)),this._dateIndices.dd!==undefined&&(s=this._getDateField("Date",u),s=s<10?"0"+s.toString():s.toString(),r=this._replaceStringRange(r,s,this._dateIndices.dd,this._dateIndices.dd+1)),this._dateIndices.hh!==undefined&&(f=this._getDateField("Hours",u),!this._dateIndices.hh24&&f>12&&(f-=12),this._dateIndices.hh24||f!==0||(f=12),f=f<10?"0"+f.toString():f.toString(),r=this._replaceStringRange(r,f,this._dateIndices.hh,this._dateIndices.hh+1)),this._dateIndices.mm!==undefined&&(h=this._getDateField("Minutes",u),h=h<10?"0"+h.toString():h.toString(),r=this._replaceStringRange(r,h,this._dateIndices.mm,this._dateIndices.mm+1)),this._dateIndices.ss!==undefined&&(c=this._getDateField("Seconds",u),c=c<10?"0"+c.toString():c.toString(),r=this._replaceStringRange(r,c,this._dateIndices.ss,this._dateIndices.ss+1)),this._dateIndices.tt!==undefined&&(f=this._getDateField("Hours",u),r=f>=12&&f<24?this._dateIndices._ttLength===1?this._replaceCharAt(r,this._dateIndices.tt,"P"):this._replaceStringRange(r,"PM",this._dateIndices.tt,this._dateIndices.tt+1):this._dateIndices._ttLength===1?this._replaceCharAt(r,this._dateIndices.tt,"A"):this._replaceStringRange(r,"AM",this._dateIndices.tt,this._dateIndices.tt+1)),this._dateIndices.ff!==undefined&&(l=this._getDateField("Milliseconds",u),r=this._dateIndices.ffLength===1?this._replaceCharAt(r,this._dateIndices.ff,n.ig.millisecondsToString(l,"fff",a).toString()):this._dateIndices.ffLength===2?this._replaceStringRange(r,n.ig.millisecondsToString(l,"ff",a).toString(),this._dateIndices.ff,this._dateIndices.ff+1):this._replaceStringRange(r,n.ig.millisecondsToString(l,"f",a).toString(),this._dateIndices.ff,this._dateIndices.ff+2))}if(i===!0)return r;this._maskedValue=r},_convertDateMaskToDigitMask:function(t){var o,u,i,e=-1,f="",r=t;for(this._dateIndices={},this._dateIndices.fourDigitYear=!1,r||(r=""),r=r.replace("dddd","ddd").replace("ddd,","").replace("ddd ","").replace(" ddd","").replace("ddd",""),r=r.replace(/\x08/g," ").replace(/\x09/g," "),r=r.replace(/\\f/g,"\x01").replace(/\\d/g,"\x02").replace(/\\s/g,"\x03").replace(/\\m/g,"\x04").replace(/\\t/g,"\x05").replace(/\\H/g,"\x06").replace(/\\h/g,"\x07").replace(/\\M/g,"\b").replace(/\\y/g,"\t"),r=r.replace(/9/g,"\x11").replace(/0/g,"\x12"),r=r.replace("fff","24").replace("ff","23").replace("f","22"),r=r.replace("dddd","").replace("ddd","").replace("dd","09").replace("d","08").replace("ss","19").replace("s","18").replace("mm","17").replace("m","16"),r=r.replace("tt","15").replace("t","14").replace("HH","13").replace("H","12").replace("hh","11").replace("h","10"),r=r.replace("MMMM","MM").replace("MMM","MM").replace("MM","05").replace("M","04"),r=r.replace("yyyy","03").replace("yy","02").replace("y","01"),r=r.replace(/\x01/g,"g").replace(/\x02/g,"d").replace(/\x03/g,"s").replace(/\x04/g,"m").replace(/\x05/g,"t").replace(/\x06/g,"H").replace(/\x07/g,"h").replace(/\x08/g,"M").replace(/\x09/g,"y"),u=0,i=0;u<r.length;u++,i++){if(o=r.charCodeAt(u),o<48||o>57){e=r.charAt(u),(e==="\\"&&u+1<r.length&&n.inArray(r.charAt(u+1),this._maskFlagsArray)!==-1||r.charAt(u+1)==="\x11"||r.charAt(u+1)==="\x12")&&i--,f+=r.charAt(u);continue}e=(o-48)*10+r.charCodeAt(++u)-48,e===14?f+="L":e===15?f+="LL":e===22?f+="0":(f+="90",e===3&&(f+="00"),e===24&&(f+="0"));switch(e){case 4:case 5:case 6:case 7:if(this._dateIndices.MM){i++;break}else this._dateIndices.MM=i,i++;break;case 8:case 9:case 20:case 21:if(this._dateIndices.dd){i++;break}else this._dateIndices.dd=i,i++;break;case 1:case 2:if(this._dateIndices.yy){i++;break}else this._dateIndices.yy=i,i++,this._dateIndices.fourDigitYear=!1;break;case 3:if(this._dateIndices.yy){i+=3;break}else this._dateIndices.yy=i,i+=3,this._dateIndices.fourDigitYear=!0;break;case 14:if(this._dateIndices.tt)break;else this._dateIndices.tt=i,i++,this._dateIndices._ttLength=1;break;case 15:if(this._dateIndices.tt){i++;break}else this._dateIndices.tt=i,i++,this._dateIndices._ttLength=2;break;case 10:case 11:if(this._dateIndices.hh){i+=2;break}else this._dateIndices.hh=i,this._dateIndices.hh24=!1,i++;break;case 12:case 13:if(this._dateIndices.hh){i+=2;break}else this._dateIndices.hh=i,this._dateIndices.hh24=!0,i++;break;case 16:case 17:if(this._dateIndices.mm){i++;break}else this._dateIndices.mm=i,i++;break;case 18:case 19:if(this._dateIndices.ss){i++;break}else this._dateIndices.ss=i,i++;break;case 22:if(this._dateIndices.ff)break;else this._dateIndices.ff=i,this._dateIndices.ffLength=1;break;case 23:if(this._dateIndices.ff){i++;break}else this._dateIndices.ff=i,this._dateIndices.ffLength=2,i++;break;case 24:if(this._dateIndices.ff){i+=2;break}else this._dateIndices.ff=i,this._dateIndices.ffLength=3,i+=2}}return f=f.replace(/\x11/g,9).replace(/\x12/g,0)},_validateKey:function(t){var r=!0,u,f,i;if(this._super(t)===!0){if(i=this._getCursorPosition(),i===this._dateIndices.MM||i-1===this._dateIndices.MM?r=this._validateMonthInput(t,i):i===this._dateIndices.dd||i-1===this._dateIndices.dd?r=this._validateDayInput(t,i):i===this._dateIndices.hh||i-1===this._dateIndices.hh?r=this._validateHoursInput(t,i):i===this._dateIndices.mm||i-1===this._dateIndices.mm?r=this._validateMinutesInput(t,i):i===this._dateIndices.ss||i-1===this._dateIndices.ss?r=this._validateSecondsInput(t,i):i===this._dateIndices.tt||i-1===this._dateIndices.tt?(r=this._validateMidDayInput(t,i),r===!0&&(f=t.charCode?t.charCode:t.which,u=String.fromCharCode(f),u.toLocaleLowerCase()==="a"?this._editorInput.val(this._replaceCharAt(this._editorInput.val(),i,"A")):this._editorInput.val(this._replaceCharAt(this._editorInput.val(),i,"P")),this._dateIndices._ttLength===2&&this._editorInput.val(this._replaceCharAt(this._editorInput.val(),++i,"M")),this._setCursorPosition(++i),t.preventDefault())):r=!0,r===null){for(i++;n.inArray(i,this._literalIndeces)!==-1||i===this._maskWithPrompts.length;)i++;this._setCursorPosition(i),r=this._validateKey(t)}r===!1&&this._setCursorPosition(i)}else r=!1;return r},_setBlur:function(t){var i,r,u;this._cancelBlurOnInput?(this._editorInput.focus(),delete this._cancelBlurOnInput):(this._triggerBlur(t),i=n(t.target).val(),r=this._dateObjectValue,this._inComposition===!0&&(i=n.ig.util.IMEtoNumberString(i,n.ig.util.IMEtoENNumbersMapping()),i=this._parseValueByMask(i),i===this._maskWithPrompts&&this.options.revertIfNotValid&&(i=r||"")),u=this._parseDateFromMaskedValue(i),i===this._maskWithPrompts?r&&this._processValueChanging(i):r?u!==""&&u-r!=0&&this._processValueChanging(i):this._processValueChanging(i),this._exitEditMode(),this._focused=!1,this._clearTimeouts(),this._validator&&this._validator._validateInternal(this.element,t,!0))},_validateDayInput:function(n,t){var i=!1,o=n.charCode?n.charCode:n.which,s=String.fromCharCode(o),r=parseInt(s),e=parseInt(this._editorInput.val().charAt(t)),u,f;return t===this._dateIndices.dd?r<4?(f=parseInt(this._editorInput.val().charAt(t+1)),i=!isNaN(f)&&f>1&&r===3?null:!0):isNaN(e)||e!==3?(this._setSelectionRange(this._editorInput[0],t+1,t+2),i=!0):i=null:(u=parseInt(this._editorInput.val().charAt(t-1)),isNaN(u)||u!==3?i=!0:r===0||r===1?i=!0:(this._setCursorPosition(t-1),this._handleDeleteKey(),this._setSelectionRange(this._editorInput[0],t,t+1),i=!0)),i},_validateMonthInput:function(n,t){var i=!1,o=n.charCode?n.charCode:n.which,s=String.fromCharCode(o),r=parseInt(s),e=parseInt(this._editorInput.val().charAt(t)),u,f;return t=t?t:this._getCursorPosition(),t===this._dateIndices.MM?r<2?(f=parseInt(this._editorInput.val().charAt(t+1)),i=!isNaN(f)&&f>2&&r===1?null:!0):isNaN(e)||e!==1?this._editorInput.val().charAt(t)===this.options.unfilledCharsPrompt?i=r<2?!0:null:(this._setSelectionRange(this._editorInput[0],t+1,t+2),i=!0):i=r===2?!0:null:(u=parseInt(this._editorInput.val().charAt(t-1)),isNaN(u)||u!==1?i=!0:r===0||r===1||r===2?i=!0:(this._setCursorPosition(t-1),this._handleDeleteKey(),this._setSelectionRange(this._editorInput[0],t,t+1),i=!0)),i},_validateMidDayInput:function(n,t){var i=!1,u=n.charCode?n.charCode:n.which,r=String.fromCharCode(u);return t=t?t:this._getCursorPosition(),i=t===this._dateIndices.tt?r.toString().toLocaleLowerCase()==="a"||r.toString().toLocaleLowerCase()==="p"?!0:!1:null},_validateHoursInput:function(n,t){var i=!1,e=n.charCode?n.charCode:n.which,o=String.fromCharCode(e),r=parseInt(o),f,u;return t=t?t:this._getCursorPosition(),t===this._dateIndices.hh?this._dateIndices.hh24?r===0||r===1?i=!0:r===2?(u=parseInt(this._editorInput.val().charAt(t+1)),i=!isNaN(u)&&u>4?null:!0):i=null:r===0?i=!0:r===1?(u=parseInt(this._editorInput.val().charAt(t+1)),i=!isNaN(u)&&u>2?null:!0):i=null:(f=parseInt(this._editorInput.val().charAt(t-1)),this._dateIndices.hh24?isNaN(f)||f!==2?i=!0:r<=4?i=!0:(i=!0,this._setCursorPosition(t-1),this._handleDeleteKey(),this._setSelectionRange(this._editorInput[0],t,t+1)):isNaN(f)||f!==1?i=!0:r<=2?i=!0:(this._setCursorPosition(t-1),this._handleDeleteKey(),this._setSelectionRange(this._editorInput[0],t,t+1),i=!0)),i},_validateMinutesInput:function(n,t){var i=!1,r=n.charCode?n.charCode:n.which,u=String.fromCharCode(r),f=parseInt(u);return t=t?t:this._getCursorPosition(),t===this._dateIndices.mm?f<6?i=!0:(i=!0,this._handleDeleteKey(),this._setSelectionRange(this._editorInput[0],t+1,t+2)):i=!0,i},_validateSecondsInput:function(n,t){var i=!1,r=n.charCode?n.charCode:n.which,u=String.fromCharCode(r),f=parseInt(u);return t=t?t:this._getCursorPosition(),t===this._dateIndices.ss?f<6?i=!0:(this._handleDeleteKey(),this._setSelectionRange(this._editorInput[0],t+1,t+2),i=!0):i=!0,i},_fillCentury:function(n){return isNaN(n)||(n>=0&&n<=this.options.centuryThreshold?n=2e3+n:n<100&&(n=1900+n)),n},_triggerInternalValueChange:function(n){n===this._maskWithPrompts&&(n="");var t=this._triggerValueChanging(n);t&&(this._processInternalValueChanging(n),this._triggerValueChanged(n))},_processInternalValueChanging:function(t){var r,i;if(t===""){i=this._getCursorPosition(),this._clearValue(),this._focused&&i!==undefined&&(i=i===-1?i++:i,this._setCursorPosition(i));return}n.type(t)==="date"?r=t:(t.length!==this._maskWithPrompts.length&&(t=this._parseValueByMask(t)),r=this._parseDateFromMaskedValue(t)),r=this._getValueBetweenMinMax(r),this._validateValue(r)?this._updateValue(r):this.options.revertIfNotValid?(t=this._valueInput.val(),this._updateValue(t)):(this._clearValue(),t=this._valueInput.val())},_insertEditMode:function(t,i){t=n.ig.util.IMEtoNumberString(t,n.ig.util.IMEtoENNumbersMapping()),t=this._parseValueByMask(t),t===this._maskWithPrompts&&this.options.revertIfNotValid&&(t=this._maskedValue,i.start=0,i.end=t.length),this._editorInput.val(t),i!==undefined&&this._setSelectionRange(this._editorInput[0],i.start,i.end)},_isValidDate:function(n){return n=this._getDateObjectFromValue(n),n.getTime()===n.getTime()},_validateValue:function(n){var t,i,r,u;return n===null||n===""?this._super(n):(i=this._getDateObjectFromValue(n),this.options.minValue&&(r=this._getDateObjectFromValue(this.options.minValue)),this.options.maxValue&&(u=this._getDateObjectFromValue(this.options.maxValue)),t=this._isValidDate(i)?this.options.maxValue&&this._isValidDate(u)&&i>u?!1:this.options.minValue&&this._isValidDate(r)&&i<r?!1:!0:!1)},_getValueBetweenMinMax:function(n){var t=n;return n!==null&&this._isValidDate(n)&&(this.options.maxValue&&n>this.options.maxValue?(t=this._getDateObjectFromValue(this.options.maxValue),this._sendNotification("warning",{optName:"maxValExceedSetErrMsg",arg:this._getDisplayValue(new Date(this.options.maxValue))})):this.options.minValue&&n<this.options.minValue&&(t=this._getDateObjectFromValue(this.options.minValue),this._sendNotification("warning",{optName:"minValExceedSetErrMsg",arg:this._getDisplayValue(new Date(this.options.minValue))}))),t},_updateValue:function(n){n===null?(this._maskedValue=this._maskWithPrompts,this._valueInput.val(""),this.options.value=this.options.allowNullValue?null:"",this._dateObjectValue=null):n===""?(this._maskedValue=this._maskWithPrompts,this._valueInput.val(""),this.options.value="",this._dateObjectValue=null):(this._dateObjectValue=this._getDateObjectFromValue(n),this._updateMaskedValue(),this.options.value=this._getValueByDataMode(),this._valueInput.val(this._serializeDate(this._dateObjectValue)))},_clearValue:function(n){var t="",i=this._maskWithPrompts;this.options.allowNullValue&&this._validateValue(this.options.nullValue)&&(t=this.options.nullValue,t!==null&&t!==""&&(t=this._getDateObjectFromValue(this.options.nullValue),i=this._updateMaskedValue(this.options.nullValue,!0))),this._editorInput.val(i),n||this._updateValue(t),this._editMode===!1&&this._exitEditMode()},_getDateObjectFromValue:function(n){var t;return t=this._mvcDateRegex.test(n)?new Date(parseInt(n.replace(this._mvcDateRegex,"$1"),10)):new Date(n)},_getValueByDataMode:function(){var n,t=this._maskedValue?this._maskedValue:this._maskWithPrompts,i=this.options.dataMode;switch(i){case"date":n=this._dateObjectValue;break;case"displayModeText":n=this._getDisplayValue();break;case"editModeText":n=t;break;default:n=this._dateObjectValue}return n},_getDateOffset:function(n){var t,i;return n?(t=new Date(n.getTime()),i=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()+i+this.options.displayTimeOffset),i!==t.getTimezoneOffset()&&t.setUTCMinutes(t.getUTCMinutes()+t.getTimezoneOffset()-i),t):n},_getYearShift:function(n){var t;return t=new Date(n.getTime()),t.setFullYear(n.getFullYear()+this.options.yearShift),t},_clearDateOffset:function(n){n.setUTCMinutes(n.getUTCMinutes()-n.getTimezoneOffset()-this.options.displayTimeOffset)},_parseDateFromMaskedValue:function(t){var i,u,f,o,h,c,e,l,y=this._dateIndices.dd,s,nt,a,p=this._dateIndices.MM,v=this._dateIndices.yy,w=this._dateIndices.hh,b=this._dateIndices.mm,k=this._dateIndices.ss,d=this._dateIndices.tt,g=this._dateIndices.ff,r="";return t===""||t===null||n.type(t)==="date"?r:(y!==undefined&&y!==null&&(i=t.substring(y,y+2),i.indexOf(this.options.unfilledCharsPrompt)!==-1&&(s=new RegExp(n.ig.util.escapeRegExp(this.options.unfilledCharsPrompt),"g"),i=i.replace(s,"")),i!==""?(i=parseInt(i,10),i<=0&&(i=null)):i=null),p!==undefined&&p!==null&&(u=t.substring(p,p+2),u.indexOf(this.options.unfilledCharsPrompt)!==-1&&(s=new RegExp(n.ig.util.escapeRegExp(this.options.unfilledCharsPrompt),"g"),u=u.replace(s,"")),u!==""?(u=parseInt(u,10),u<=0?u=null:u--):u=null),v!==undefined&&v!==null&&(f=this._dateIndices.fourDigitYear?t.substring(v,v+4):t.substring(v,v+2),f.indexOf(this.options.unfilledCharsPrompt)!==-1&&(s=new RegExp(n.ig.util.escapeRegExp(this.options.unfilledCharsPrompt),"g"),f=f.replace(s,"")),f!==""?(f=parseInt(f,10),f=this._fillCentury(f)):f=null),d!==undefined&&d!==null&&(l=t.substring(d,d+1),l=l===this.options.unfilledCharsPrompt?null:l.toLocaleLowerCase()),w!==undefined&&w!==null&&(o=t.substring(w,w+2),o.indexOf(this.options.unfilledCharsPrompt)!==-1&&(s=new RegExp(n.ig.util.escapeRegExp(this.options.unfilledCharsPrompt),"g"),o=o.replace(s,"")),o!==""?(o=parseInt(o,10),this._dateIndices.hh24===!1&&(l&&l==="p"?o!==12&&(o+=12):o===12&&(o=0))):o=null),b!==undefined&&b!==null&&(h=t.substring(b,b+2),h.indexOf(this.options.unfilledCharsPrompt)!==-1&&(s=new RegExp(n.ig.util.escapeRegExp(this.options.unfilledCharsPrompt),"g"),h=h.replace(s,"")),h=h!==""?parseInt(h,10):null),k!==undefined&&k!==null&&(c=t.substring(k,k+2),c.indexOf(this.options.unfilledCharsPrompt)!==-1&&(s=new RegExp(n.ig.util.escapeRegExp(this.options.unfilledCharsPrompt),"g"),c=c.replace(s,"")),c=c!==""?parseInt(c,10):null),g!==undefined&&g!==null&&(e=t.substring(g,g+this._dateIndices.ffLength),e.indexOf(this.options.unfilledCharsPrompt)!==-1&&(s=new RegExp(n.ig.util.escapeRegExp(this.options.unfilledCharsPrompt),"g"),e=e.replace(s,"")),e!==""?(e.length<this._dateIndices.ffLength&&(nt=this._dateIndices.ffLength-e.length,e=parseInt(e,10)*Math.pow(10,nt)),e=parseInt(e,10),this._dateIndices.ffLength===2?e*=10:this._dateIndices.ffLength===1&&(e*=100)):e=null),this._dateObjectValue?r=this.options.displayTimeOffset!==null?this._getDateOffset(this._dateObjectValue):new Date(this._dateObjectValue.getTime()):f!==null&&f!==undefined&&u!==null&&u!==undefined&&i!==null&&i!==undefined?r=new Date(f,u,i):(r=this._setNewDateMidnight(),f!==null&&f!==undefined&&this._setDateField("FullYear",r,f),u!==null&&u!==undefined&&this._setDateField("Month",r,u),i!==null&&i!==undefined&&(a=this._lastDayOfMonth(this._getDateField("FullYear",r),this._getDateField("Month",r)+1),i>a&&(i=a),this._setDateField("Date",r,i))),f!==null&&f!==undefined&&this._setDateField("FullYear",r,f),u!==null&&u!==undefined&&(i!==null&&i!==undefined&&this._setDateField("Date",r,"15"),this._setDateField("Month",r,u)),i!==null&&i!==undefined&&(a=this._lastDayOfMonth(this._getDateField("FullYear",r),this._getDateField("Month",r)+1),i>a&&(i=a),this._setDateField("Date",r,i)),o!==null&&o!==undefined&&this._setDateField("Hours",r,o),h!==null&&h!==undefined&&this._setDateField("Minutes",r,h),c!==null&&c!==undefined&&this._setDateField("Seconds",r,c),e!==null&&e!==undefined&&this._setDateField("Milliseconds",r,e),this.options.displayTimeOffset!==null&&this._clearDateOffset(r),r)},_getDisplayValue:function(t){var i=t?t:this._dateObjectValue;return i?(this.options.yearShift!==null&&(i=this._getYearShift(i)),this.options.displayTimeOffset!==null&&(i=this._getDateOffset(i)),n.ig.formatDate(this._displayFormat,i,this.options.regional)):""},_valueFromText:function(n){var i=this._parseDateFromMaskedValue(n),t;switch(this.options.dataMode){case"date":t=i;break;case"displayModeText":t=this._getDisplayValue(i);break;case"editModeText":t=this._getInternalMaskedValue(i);break;default:t=i}return t},_handleBackSpaceKey:function(){var t;this._super(),t=this._getSelection(this._editorInput[0]).start,(t===this._dateIndices.tt||t-1===this._dateIndices.tt)&&this._dateIndices._ttLength===2&&(t===this._dateIndices.tt?(this._setCursorPosition(t+1),n.ui.igMaskEditor.prototype._handleDeleteKey.call(this),this._setCursorPosition(t)):this._super())},_handleDeleteKey:function(t){var i=this._getSelection(this._editorInput[0]).start;i!==this._maskWithPrompts.length&&(this._super(t),i=this._getSelection(this._editorInput[0]).start,(i-2===this._dateIndices.tt||i-1===this._dateIndices.tt)&&this._dateIndices._ttLength===2&&(i-1===this._dateIndices.tt?this._super(t):(t||this._setCursorPosition(i-1),n.ui.igMaskEditor.prototype._handleBackSpaceKey.call(this),t||this._setCursorPosition(i))))},_setMillisecondsEditMode:function(n,t,i,r){var s=this.options.limitSpinToCurrentField,u,f=0,h,o,e;r=this._getDelta(r,"milliseconds");switch(this._dateIndices.ffLength){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3}return i+r>=e?s?u=i:(u=i+r-e,f=1):i+r<0?s?u=i:i+r===0?u=0:(u=e+(i+r),f=-1):u=i+r,n=this._setTimeEditMode(n,t,i,u),f!==undefined&&f!==0&&(o=this._createSecondsPosition(),o!==null?(h=parseInt(this._getStringRange(n,o.startPosition,o.endPosition),10),n=this._setSecondsEditMode(n,o,h,f)):s||this._setDateField("Seconds",this._dateObjectValue,this._getDateField("Seconds",this._dateObjectValue)+f)),n},_setSecondsEditMode:function(n,t,i,r){var o=this.options.limitSpinToCurrentField,u,f=0,s,e;return r=this._getDelta(r,"seconds"),r=r%60,i+r>=60?o?u=i:(u=i+r-60,f=1):i+r<1?o?u=i:i+r===0?u=0:(u=60+(i+r),f=-1):u=i+r,n=this._setTimeEditMode(n,t,i,u),f!==undefined&&f!==0&&(e=this._createMinutesPosition(),e!==null?(s=parseInt(this._getStringRange(n,e.startPosition,e.endPosition),10),n=this._setMinutesEditMode(n,e,s,f)):o||this._setDateField("Minutes",this._dateObjectValue,this._getDateField("Minutes",this._dateObjectValue)+f)),n},_setMinutesEditMode:function(n,t,i,r){var o=this.options.limitSpinToCurrentField,u,f=0,s,e;return r=this._getDelta(r,"minutes"),r=r%60,i+r>=60?o?u=i:(u=i+r-60,f=1):i+r<1?o?u=i:i+r===0?u=0:(u=60+(i+r),f=-1):u=i+r,n=this._setTimeEditMode(n,t,i,u),f!==undefined&&f!==0&&(e=this._createHoursPosition(),e!==null?(s=parseInt(this._getStringRange(n,e.startPosition,e.endPosition),10),n=this._setHoursEditMode(n,e,s,f)):o||this._setDateField("Hours",this._dateObjectValue,this._getDateField("Hours",this._dateObjectValue)+f)),n},_setHoursEditMode:function(n,t,i,r){var a=this.options.limitSpinToCurrentField,l=this._dateIndices.hh24,e=!1,h=!1,u,f,v,y,w,o,c,p,s;return r=this._getDelta(r,"hours"),l?(f=24,u=i+(Math.abs(r)===24?r:r%24),v=u>=f,y=u<0):(f=12,u=i+(Math.abs(r)===12?r:r%12),v=u>f,y=u<1,o=n.toLowerCase().indexOf(" pm")>=0?"pm":"am"),v?a?u=i:(s=r!==0?1:0,l?(u-=f,e=!0):u>=13&&((u>13||r>1)&&(h=!0),o==="pm"&&(i<12||i===12&&r===12)&&(e=!0),u=u-f)):y?a?u=i:(s=r!==0?-1:0,l?(u+=f,e=!0):((u<0||Math.abs(r)===12)&&((u<f||r<-1)&&(h=!0),o==="am"&&(e=!0)),u=12+u)):l||(r>0&&u>=12&&u-r<12&&(s=r!==0?1:0,h=!0,o==="pm"&&(e=!0)),r<0&&u<=12&&u-r>=12&&(s=r!==0?-1:0,h=!0,o==="am"&&(e=!0))),n=this._setTimeEditMode(n,t,i,u),h&&(p=this._createAmOrPmPosition(),p!==null&&(n=this._setAmOrPmEditMode(n,p,o))),e&&(c=this._createDayPosition(),c!==null?(w=parseInt(this._getStringRange(n,c.startPosition,c.endPosition),10),n=this._setDayEditMode(n,c,w,s)):a||this._setDateField("Date",this._dateObjectValue,this._getDateField("Date",this._dateObjectValue)+s)),n},_setAmOrPmEditMode:function(n,t,i,r){var u;return u=r?i:i.toLocaleLowerCase()==="am"?"PM":"AM",n=this._setTimeEditMode(n,t,i,u)},_lastDayOfMonth:function(n,t){var i;return t===1||t===3||t===5||t===7||t===8||t===10||t===12?i=31:t===4||t===6||t===9||t===11?i=30:t===2&&n%4==0?i=29:t===2&&n%4!=0&&(i=28),i},_setDayEditMode:function(n,t,i,r){var c=this.options.limitSpinToCurrentField,s,f,l,v,e,o,h,u,a;return r=this._getDelta(r,"day"),a=new Date,h=this._createYearPosition(),s=h===null?a.getFullYear():parseInt(this._getStringRange(n,h.startPosition,h.endPosition),10),u=this._createMonthPosition(),f=u===null?a.getMonth()+1:parseInt(this._getStringRange(n,u.startPosition,u.endPosition),10),l=this._lastDayOfMonth(s,f),v=this._lastDayOfMonth(s,f-1!=0?f-1:12),i+r>l?c?e=i:(e=i+r-l,o=1):i+r<1?c?e=i:(e=v+(i+r),o=-1):e=i+r,n=this._setTimeEditMode(n,t,i,e),o!==undefined&&o!==0&&(u=this._createMonthPosition(),u!==null?(f=parseInt(this._getStringRange(n,u.startPosition,u.endPosition),10),n=this._setMonthEditMode(n,u,f,o)):c||this._setDateField("Month",this._dateObjectValue,this._getDateField("Month",this._dateObjectValue)+o)),n},_setMonthEditMode:function(n,t,i,r){var o=this.options.limitSpinToCurrentField,u,f=0,s,e;return r=this._getDelta(r,"month"),i+r>12?o?u=i:(u=i+r-12,f=1):i+r<1?o?u=i:(u=12+(i+r),f=-1):u=i+r,n=this._setTimeEditMode(n,t,i,u),f!==undefined&&f!==0&&(e=this._createYearPosition(),e!==null?(s=parseInt(this._getStringRange(n,e.startPosition,e.endPosition),10),n=this._setYearEditMode(n,e,s,f)):o||this._setDateField("FullYear",this._dateObjectValue,this._getDateField("FullYear",this._dateObjectValue)+f)),n},_setYearEditMode:function(n,t,i,r){var u;return r=this._getDelta(r,"year"),u=i+r<0?i:i+r,u=u.toString(),this._dateIndices.fourDigitYear||(u=u.substring(u.length-2,u.length)),n=this._setTimeEditMode(n,t,i,u)},_setTimeEditMode:function(n,t,i,r){var u;return u=r.toString(),u.length===1?(t.name==="milliseconds"&&this._dateIndices.ffLength===1||(u="0"+u),t.name==="milliseconds"&&this._dateIndices.ffLength===3&&(u="0"+u),t.name==="year"&&this._dateIndices.fourDigitYear&&(u="00"+u)):u.length===2&&t.name==="year"&&this._dateIndices.fourDigitYear?u="00"+u:u.length===3&&t.name==="year"&&this._dateIndices.fourDigitYear&&(u="0"+u),n=this._replaceStringRange(n,u,t.startPosition,t.endPosition-1)},_createYearPosition:function(){var n=null;return this._dateIndices.yy!==undefined&&(n={},n.name="year",n.startPosition=this._dateIndices.yy,n.length=this._dateIndices.fourDigitYear?4:2,n.endPosition=n.startPosition+n.length),n},_createMonthPosition:function(){var n=null;return this._dateIndices.MM!==undefined&&(n={},n.name="month",n.startPosition=this._dateIndices.MM,n.length=2,n.endPosition=n.startPosition+n.length),n},_createDayPosition:function(){var n=null;return this._dateIndices.dd!==undefined&&(n={},n.name="day",n.startPosition=this._dateIndices.dd,n.length=2,n.endPosition=n.startPosition+n.length),n},_createAmOrPmPosition:function(){var n=null;return this._dateIndices.tt!==undefined&&(n={},n.name="amOrPm",n.startPosition=this._dateIndices.tt,n.length=2,n.endPosition=n.startPosition+n.length),n},_createHoursPosition:function(){var n=null;return this._dateIndices.hh!==undefined&&(n={},n.name="hours",n.startPosition=this._dateIndices.hh,n.length=2,n.endPosition=n.startPosition+n.length),n},_createMinutesPosition:function(){var n=null;return this._dateIndices.mm!==undefined&&(n={},n.name="minutes",n.startPosition=this._dateIndices.mm,n.length=2,n.endPosition=n.startPosition+n.length),n},_createSecondsPosition:function(){var n=null;return this._dateIndices.ss!==undefined&&(n={},n.name="seconds",n.startPosition=this._dateIndices.ss,n.length=2,n.endPosition=n.startPosition+n.length),n},_createMillisecondsPosition:function(){var n=null;return this._dateIndices.ff!==undefined&&(n={},n.name="milliseconds",n.startPosition=this._dateIndices.ff,n.length=this._dateIndices.ffLength,n.endPosition=n.startPosition+n.length),n},_getTimePosition:function(){var t=this._getCursorPosition(),n=this._dateIndices,i=null;return t<0&&(t=0),t>=n.yy&&(n.fourDigitYear&&t<=n.yy+4||(n.fourDigitYear===undefined||n.fourDigitYear===!1)&&t<=n.yy+2)?i=this._createYearPosition():t>=n.MM&&t<=n.MM+2?i=this._createMonthPosition():t>=n.dd&&t<=n.dd+2?i=this._createDayPosition():t>=n.tt&&t<=n.tt+2?i=this._createAmOrPmPosition():t>=n.hh&&t<=n.hh+2?i=this._createHoursPosition():t>=n.mm&&t<=n.mm+2?i=this._createMinutesPosition():t>=n.ss&&t<=n.ss+2?i=this._createSecondsPosition():t>=n.ff&&t<=n.ff+n.ffLength&&(i=this._createMillisecondsPosition()),i},_updateTimeMask:function(n,t,i){for(var r,o,e=this.options.unfilledCharsPrompt,u=o=this._getStringRange(n,t.startPosition,t.endPosition),f=0;f<o.length;f++)if(u.indexOf(e)===f)u=u.replace(e,"0");else break;t.name!=="amOrPm"&&(r=parseInt(u,10)),!this._dateObjectValue&&n.indexOf(e)>=0&&(n=this._initEmptyMask(this._dateObjectValue,n),n=n.substring(0,t.startPosition)+u+n.substring(t.endPosition,n.length));switch(t.name){case"year":n=this._setYearEditMode(n,t,r,i);break;case"month":n=this._setMonthEditMode(n,t,r,i);break;case"day":n=this._setDayEditMode(n,t,r,i);break;case"amOrPm":r=this._getStringRange(n,t.startPosition,t.endPosition),n=this._setAmOrPmEditMode(n,t,r);break;case"hours":n=this._setHoursEditMode(n,t,r,i);break;case"minutes":n=this._setMinutesEditMode(n,t,r,i);break;case"seconds":n=this._setSecondsEditMode(n,t,r,i);break;case"milliseconds":n=this._setMillisecondsEditMode(n,t,r,i)}return n},_initEmptyMask:function(n,t){t=t||this._maskWithPrompts;var r,u,f,e,o,s,h,c,l,a,v,i,y,p,w,b;return n||(n=this._parseDateFromMaskedValue(t)),r=this._createYearPosition(),u=this._createMonthPosition(),f=this._createDayPosition(),e=this._createHoursPosition(),o=this._createAmOrPmPosition(),s=this._createMinutesPosition(),h=this._createSecondsPosition(),c=this._createMillisecondsPosition(),l=n.getFullYear(),a=n.getMonth()+1,v=n.getDate(),i=n.getHours(),y=!this._dateIndices.hh24&&i>=12?"PM":"AM",i=!this._dateIndices.hh24&&i>12?i-12:i,p=n.getMinutes(),w=n.getSeconds(),b=n.getMilliseconds(),r&&(t=this._setYearEditMode(t,r,l,0)),u&&(t=this._setMonthEditMode(t,u,a,0)),f&&(t=this._setDayEditMode(t,f,v,0)),e&&(t=this._setHoursEditMode(t,e,i,0)),o&&(t=this._setAmOrPmEditMode(t,o,y,!0)),s&&(t=this._setMinutesEditMode(t,s,p,0)),h&&(t=this._setSecondsEditMode(t,h,w,0)),c&&(t=this._setMillisecondsEditMode(t,c,b,0)),t},_spinEditMode:function(n,t){var u=this,f=this._getCursorPosition(),i=this._editorInput.val(),r;(r=this._getTimePosition(),r)&&i!==undefined&&(i=i===""||i===this._maskWithPrompts?this._initEmptyMask(this._dateObjectValue,i):this._updateTimeMask(i,r,n),this._editorInput.val(i),t&&this._processTextChanged(),u._setCursorPosition(f))},_setTimePeriod:function(n,t,i){var r,f,u;this._dateObjectValue&&this._isValidDate(this._dateObjectValue)?r=new Date(this._dateObjectValue):(r=this._setNewDateMidnight(),t=0),f=this._getDateField(n,r),u=f+t,this._isNewPeriodLimited(n,u,t,r)||(this._setDateField(n,r,u),i?(this._triggerInternalValueChange(r),this._editorInput.val(this._getDisplayValue()),this._processTextChanged()):(this._processInternalValueChanging(r),this._editorInput.val(this._getDisplayValue())))},_isNewPeriodLimited:function(n,t,i,r){var u=!1;return this.options.limitSpinToCurrentField&&(i<0?t<0&&(u=!0):(n==="Month"&&t===13||n==="Month"&&t===this._lastDayOfMonth(r.getFullYear()&&r.getMonth())+1||(n==="Hours"||n==="Minutes"||n==="Seconds")&&t===60||n==="Milliseconds"&&t===1e3)&&(u=!0)),u},_spinDisplayMode:function(n,t){var i=this._dateIndices,r;i.dd!==undefined?(r="Date",n=this._getDelta(n,"day")):i.ff!==undefined?(r="Milliseconds",n=this._getDelta(n,"milliseconds"),i.ffLength===2?n=n*10:i.ffLength===1&&(n=n*100)):i.ss!==undefined?(r="Seconds",n=this._getDelta(n,"seconds")):i.mm!==undefined?(r="Minutes",n=this._getDelta(n,"minutes")):i.hh!==undefined?(r="Hours",n=this._getDelta(n,"hours")):i.MM!==undefined?(r="Month",n=this._getDelta(n,"month")):(r="FullYear",n=this._getDelta(n,"year")),this._setTimePeriod(r,n,t)},_spin:function(n,t){n&&(this._clearEditorNotifier(),this._currentInputTextValue=this._editorInput.val(),this._editMode?this._spinEditMode(n,t):this._spinDisplayMode(n,t))},_spinUpEditMode:function(n){this._spinEditMode(n?n:this.options.spinDelta)},_spinDownEditMode:function(n){this._spinEditMode(n!==undefined?this._setNegativeDelta(n):this._setNegativeDelta(this.options.spinDelta))},value:function(n){var t;if(n!==undefined)this._clearEditorNotifier(),t=this._getDateObjectFromValue(n),n!==null&&this._isValidDate(t)&&(this.options.maxValue&&t>this.options.maxValue?(n=this._getDateObjectFromValue(this.options.maxValue),this._sendNotification("warning",{optName:"maxValExceedSetErrMsg",arg:this._getDisplayValue(new Date(this.options.maxValue))})):this.options.minValue&&t<this.options.minValue&&(n=this._getDateObjectFromValue(this.options.minValue),this._sendNotification("warning",{optName:"minValExceedSetErrMsg",arg:this._getDisplayValue(new Date(this.options.minValue))}))),this._validateValue(n)?(this._updateValue(n),this._updateMaskedValue()):!this.options.revertIfNotValid||n===null&&this.options.allowNullValue?this._clearValue():(n=this._valueInput.val(),this._updateValue(n)),this._editorInput.val(this._editMode?this._maskedValue:this._getDisplayValue()),this._setSpinButtonsState(n);else return this.options.value?this._getValueByDataMode():this.options.value;this._checkClearButtonState()},getSelectedDate:function(){return new Date(this._dateObjectValue.getTime())},selectDate:function(n){this._updateValue(n),this._exitEditMode()},spinUp:function(n){n=parseInt(n,10),this._spin(!isNaN(n)&&n>=0?n:this.options.spinDelta)},spinDown:function(n){n=parseInt(n,10),this._spin(!isNaN(n)&&n>=0?this._setNegativeDelta(n):this._setNegativeDelta(this.options.spinDelta))},spinUpButton:function(){return n.ui.igTextEditor.prototype.spinUpButton.call(this)},spinDownButton:function(){return n.ui.igTextEditor.prototype.spinDownButton.call(this)},isValid:function(){var t,n;return t=this.field().val(),this._skipMessages=!0,this._editMode?n=t===this._maskWithPrompts?!1:this._validateValue(this._parseDateFromMaskedValue(t)):(n=this._validateValue(this._dateObjectValue),t===""||n||(n=!1,this._sendNotification("warning",{optName:"dateMessage"}))),this._skipMessages=!1,n},dropDownButton:function(){throw new Error(this._getLocaleValue("datePickerNoSuchMethodDropDownContainer"));},dropDownContainer:function(){throw new Error(this._getLocaleValue("datePickerNoSuchMethodDropDownContainer"));},dropDownVisible:function(){throw new Error(this._getLocaleValue("datePickerNoSuchMethodDropDownContainer"));},findListItemIndex:function(){throw new Error(this._getLocaleValue("datePickerEditorNoSuchMethod"));},getSelectedListItem:function(){throw new Error(this._getLocaleValue("datePickerEditorNoSuchMethod"));},selectedListIndex:function(){throw new Error(this._getLocaleValue("datePickerEditorNoSuchMethod"));}}),n.extend(n.ui.igDateEditor,{version:"19.2.25"}),n.widget("ui.igDatePicker",n.ui.igDateEditor,{options:{buttonType:"dropdown",datepickerOptions:null,dropDownOnReadOnly:!1,dropDownAttachedToBody:!1,isLimitedToListValues:!1,listItemHoverDuration:0,listItems:null,listWidth:0,suppressKeyboard:!1},events:{dropDownListOpening:"dropDownListOpening",dropDownListOpened:"dropDownListOpened",dropDownListClosing:"dropDownListClosing",dropDownItemSelecting:"dropDownItemSelecting",dropDownListClosed:"dropDownListClosed",dropDownItemSelected:"dropDownItemSelected",itemSelected:"itemSelected"},_setDropDownListWidth:function(){},_listMouseDownHandler:function(){},_updateDropdownSelection:function(){var r,u,t,i=this._editorInput.val();this._pickerOpen&&this._validateRequiredPrompts(i)&&(u=this._getCursorPosition(),r=n.data(this._editorInput[0],"datepicker"),t=this._parseDateFromMaskedValue(i),this.options.displayTimeOffset!==null&&(t=this._getDateOffset(t)),this._editorInput.datepicker("setDate",t),this._editorInput.val(i),r&&(r.lastVal=i),this._setCursorPosition(u))},_disableEditor:function(n){this.options.dropDownOnReadOnly?(n&&this._editorInput.addClass(this.css.disabled),this._detachEvents()):(n&&this._editorContainer.addClass(this.css.disabled),this._detachEvents()),this._dropDownButton&&!this.options.dropDownOnReadOnly&&(this._dropDownButton.addClass(this.css.disabled),this._detachButtonsEvents(this._dropDownButton)),this._clearButton&&(this._clearButton.addClass(this.css.disabled),this._detachButtonsEvents(this._clearButton)),this._spinUpButton&&(this._spinUpButton.addClass(this.css.disabled),this._detachButtonsEvents(this._spinUpButton)),this._spinDownButton&&(this._spinDownButton.addClass(this.css.disabled),this._detachButtonsEvents(this._spinDownButton))},_setFocus:function(n){if(this._shouldNotFocusInput){n.target.blur(),delete this._shouldNotFocusInput;return}this._super(n)},_setBlur:function(n){this._pickerOpen||this._super(n)},_pickerDefaults:function(){var t=this,i;return i={showOn:"",duration:t.options.dropDownAnimationDuration?t.options.dropDownAnimationDuration:"normal",onSelect:function(i,r){var u,f=n(this).datepicker("getDate");u=t._dateObjectValue?t.options.displayTimeOffset!==null?t._getDateOffset(t._dateObjectValue):new Date(t._dateObjectValue):t._setNewDateMidnight(),t._setDateField("FullYear",u,f.getFullYear()),t._setDateField("Date",u,15),t._setDateField("Month",u,f.getMonth()),t._setDateField("Date",u,f.getDate()),t.options.displayTimeOffset!==null&&t._clearDateOffset(u),t._processValueChanging(u),r.lastVal=t._getEditModeValue(),t._editorInput.val(r.lastVal),t._triggerItemSelected.call(t,r.dpDiv.find(".ui-datepicker-calendar>tbody>tr>td .ui-state-hover"),f),t._processTextChanged(),t.options.readOnly===!0||t.options.disabled===!0?t._exitEditMode():(t._focused=!1,t.options.suppressKeyboard||t._editorInput.focus())},beforeShow:function(){t._pickerOpen=!0},onClose:function(){delete t._pickerOpen,t._editorInput.is(document.activeElement)||t._editorInput.blur(),t._triggerDropDownClosed()}}},_renderList:function(){var t=this,r,i,u,f,e,o;i=n.extend({},t._dpRegion(),t.options.datepickerOptions)||{},r=n.extend(i,this._pickerDefaults()),i.onSelect&&(u=i.onSelect,r.onSelect=function(n,i){u.call(this,n,i),t.options.datepickerOptions&&t.options.datepickerOptions.onSelect&&t.options.datepickerOptions.onSelect.call(this,n,i)}),i.onClose&&(f=i.onClose,r.onClose=function(n,i){f.call(this),t.options.datepickerOptions&&t.options.datepickerOptions.onClose&&t.options.datepickerOptions.onClose.call(this,n,i)}),t.options.datepickerOptions&&t.options.datepickerOptions.beforeShow&&(e=i.beforeShow,r.beforeShow=function(n){e.call(this),t.options.datepickerOptions&&t.options.datepickerOptions.beforeShow&&t.options.datepickerOptions.beforeShow.call(this,n)}),t.options.datepickerOptions&&t.options.datepickerOptions.onChangeMonthYear?(o=i.onChangeMonthYear,r.onChangeMonthYear=function(n,i,r){o.call(this,n,i,r),t.options.suppressKeyboard&&(t._shouldNotFocusInput=!0)}):r.onChangeMonthYear=function(){t.options.suppressKeyboard&&(t._shouldNotFocusInput=!0)},this._editorInput.datepicker(r),this._dropDownList=this._editorInput.datepicker("widget")},_renderDropDownButton:function(){var t=n("<div><\/div>"),i=n("<div><\/div>");t.addClass(this.css.buttonCommon).attr({title:this._getLocaleValue("datePickerButtonTitle"),role:"button",tabindex:-1,id:this.id+"_calendarButton","data-localeid":"datePickerButtonTitle","data-localeattr":"title"}),this._editorContainer.prepend(t.addClass(this.css.dropDownButton).append(i.addClass(this.css.dropDownImage))),this._dropDownButton=t,this._attachButtonsEvents("dropdown",t)},_dpRegion:function(){var i=this.options.regional,r,t=null,u="";if(n.datepicker&&typeof i=="string"&&(i==="defaults"?typeof n.ig.util.regional=="string"&&n.ig.util.regional&&(u=n.ig.util.regional):u=i,t=n.datepicker.regional[u]||n.datepicker.regional[""]),t===null&&n.datepicker){for(r in n.datepicker.regional);n.datepicker.regional[r]&&(t=n.datepicker.regional[r])}return t},_create:function(){n.ui.igDateEditor.prototype._create.call(this)},_initialize:function(){this._super(),this.options.listItems=["datePicker"]},_applyOptions:function(){this._super(),!this.options.minValue&&this.options.datepickerOptions&&this.options.datepickerOptions.minDate&&this._isValidDate(this.options.datepickerOptions.minDate)&&(this.options.minValue=this.options.datepickerOptions.minDate,this.options.displayTimeOffset!==null&&(this._editorInput.datepicker("option","minDate",this._getDateOffset(this._getDateObjectFromValue(this.options.datepickerOptions.minDate))),this._editorInput.val(this._getDisplayValue()))),!this.options.maxValue&&this.options.datepickerOptions&&this.options.datepickerOptions.maxDate&&this._isValidDate(this.options.datepickerOptions.minDate)&&(this.options.maxValue=this.options.datepickerOptions.maxDate,this.options.displayTimeOffset!==null&&(this._editorInput.datepicker("option","maxDate",this._getDateOffset(this._getDateObjectFromValue(this.options.datepickerOptions.maxDate))),this._editorInput.val(this._getDisplayValue())))},_positionDropDownList:function(){},_setOption:function(t,i){var e=this.options[t],f,u,r,o,s,h;if(e!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"datepickerOptions":f=this._editorInput.data("datepicker").settings,r=this,u=n.extend(i,this._pickerDefaults()),o=n.extend(f,u),u.onSelect&&(s=u.onSelect,o.onSelect=function(n,t){s.call(this,n,t),r.options.datepickerOptions&&r.options.datepickerOptions.onSelect&&r.options.datepickerOptions.onSelect.call(this,n,t)}),u.onClose&&(h=u.onClose,f.onClose=function(n,t){h.call(this),r.options.datepickerOptions&&r.options.datepickerOptions.onClose&&r.options.datepickerOptions.onClose.call(this,n,t)}),this._editorInput.data("datepicker").settings=f,i.minDate&&this._editorInput.data("datepicker").settings.minDate!==this.options.minValue&&this._setOption("minValue",this._editorInput.data("datepicker").settings.minDate),i.maxDate&&this._editorInput.data("datepicker").settings.maxDate!==this.options.maxValue&&this._setOption("maxValue",this._editorInput.data("datepicker").settings.maxDate);break;case"minValue":case"maxValue":this.options[t]=e,this._super(t,i),this._editorInput.datepicker("option","minDate",this.options.minValue),this._editorInput.datepicker("option","maxDate",this.options.maxValue),this._editorInput.val(this._currentInputTextValue);break;default:this.options[t]=e,this._super(t,i)}}},_triggerKeyDown:function(n){n.keyCode!==38||n.altKey?n.keyCode!==40||n.altKey?this._super(n):n.ctrlKey||(this._spinDownEditMode(),n.preventDefault()):n.ctrlKey||(this._spinUpEditMode(),n.preventDefault())},_triggerDropDownOpened:function(){var n={owner:this,editorInput:this._editorInput,calendar:this._dropDownList};this._trigger(this.events.dropDownListOpened,null,n)},_triggerDropDownOpening:function(){var n={owner:this,editorInput:this._editorInput,calendar:this._dropDownList};return this._trigger(this.events.dropDownListOpening,null,n)},_triggerDropDownClosed:function(){var n={owner:this,editorInput:this._editorInput,calendar:this._dropDownList};this._trigger(this.events.dropDownListClosed,null,n)},_toggleDropDown:function(){var n;this._dropDownList.is(":visible")&&(!!this._focused||this.options.readOnly)&&!!this._dropDownOpened?this._hideDropDownList():(n=this._triggerDropDownOpening(),n&&this._showDropDownList())},_triggerItemSelected:function(n,t){var i={owner:this,dateFromPicker:t,item:n,calendar:this._dropDownList};this._trigger(this.events.itemSelected,null,i)},_showDropDownList:function(){this._dropDownOpened=!0;var f=this,r,i=this._dateObjectValue,t,u;this._cancelBlurDatePickerOpen=!0,this._positionDropDownList(),r=this.options.dropDownOrientation==="top"?"up":"down",this._editMode&&this._editorInput.val()!==this._maskWithPrompts&&(i=this._parseDateFromMaskedValue(this._editorInput.val())),i&&(this.options.displayTimeOffset!==null&&(i=this._getDateOffset(i)),this._editMode||this._enterEditMode(),t=this._editorInput.val(),n(this._editorInput).datepicker("setDate",i)),t===undefined&&(t=this._editorInput.val()),u=n.data(this._editorInput[0],"datepicker");try{this.options.suppressKeyboard&&(this._focused&&this._editorInput.blur(),this._shouldNotFocusInput=!0),this._editorInput.datepicker("option","showOptions",{direction:r}),this._editorInput.datepicker("show"),t&&(this._editorInput.val(t),u&&(u.lastVal=t))}catch(e){this._editorInput.datepicker("show"),t&&this._editorInput.val(t)}this._dropDownList.promise().done(function(){f._triggerDropDownOpened()})},_hideDropDownList:function(){this._dropDownOpened=!1,this._editorInput.datepicker("hide"),this._editorInput.attr("aria-expanded",!1)},_deleteList:function(){this._detachListEvents(),delete this._dropDownList},changeRegional:function(){var t,r=this.options.datepickerOptions,i;if(t=n.extend({},this._dpRegion()),r&&typeof r=="object")for(i in t)t.hasOwnProperty(i)&&(t[i]=r[i]||t[i]);this._editorInput.datepicker("option",t),this._super()},getCalendar:function(){return n.ui.igTextEditor.prototype.dropDownContainer.call(this)},dropDownContainer:function(){throw new Error(this._getLocaleValue("datePickerNoSuchMethodDropDownContainer"));},findListItemIndex:function(){throw new Error(this._getLocaleValue("datePickerEditorNoSuchMethod"));},getSelectedListItem:function(){throw new Error(this._getLocaleValue("datePickerEditorNoSuchMethod"));},selectedListIndex:function(){throw new Error(this._getLocaleValue("datePickerEditorNoSuchMethod"));},showDropDown:function(){n.ui.igTextEditor.prototype.showDropDown.call(this)},hideDropDown:function(){n.ui.igTextEditor.prototype.hideDropDown.call(this)},dropDownButton:function(){return n.ui.igTextEditor.prototype.dropDownButton.call(this)},dropDownVisible:function(){return n.ui.igTextEditor.prototype.dropDownVisible.call(this)},destroy:function(){return this._editorInput&&(this._editorInput.datepicker("hide"),this._editorInput.datepicker("destroy")),this._superApply(arguments),this}}),n.extend(n.ui.igDatePicker,{version:"19.2.25"}),n.widget("ui.igCheckboxEditor",n.ui.igBaseEditor,{options:{checked:!1,size:"normal",iconClass:"ui-icon-check",tabIndex:0,readOnly:!1,allowNullValue:!1,nullValue:null},css:{container:"ui-state-default ui-corner-all ui-widget ui-checkbox-container ui-igcheckbox-normal",containerChecked:"ui-state-checkbox-checked",checkboxIcon:"ui-icon",iconCentered:"ui-icon-custom",checked:"ui-igcheckbox-normal-on",unchecked:"ui-igcheckbox-normal-off",checkboxInput:"ui-helper-hidden"},events:{valueChanging:"valueChanging",valueChanged:"valueChanged"},_triggerKeyUp:function(n){var t={originalEvent:n,owner:this,key:n.keyCode,element:n.target,editorInput:this._editorInput};this._trigger(this.events.keyup,n,t)},_triggerKeyPress:function(n){var t={originalEvent:n,owner:this,key:n.keyCode,element:n.target,editorInput:this._editorInput};this._trigger(this.events.keypress,n,t)},_triggerKeyDown:function(n){var t={originalEvent:n,owner:this,key:n.keyCode,element:n.target,editorInput:this._editorInput};this._trigger(this.events.keydown,n,t)},_create:function(){this._checkedClass=this.css.checked,this._uncheckedClass=this.css.unchecked,n.ui.igBaseEditor.prototype._create.call(this)},_render:function(){if(this._triggerRendering(),this.element.is("div"))this._editorContainer=this.element,this._editorInput=n("<span><\/span>"),this._valueInput=n("<input type='checkbox'><\/input>"),this._editorContainer.prepend(this._editorInput),this._editorInput.after(this._valueInput);else if(this.element.is("input"))this._valueInput=this.element,this._editorInput=n("<span><\/span>"),this._editorContainer=this.element.wrap(n("<div><\/div>")).parent(),this._valueInput.before(this._editorInput);else if(this.element.is("span"))this._editorInput=this.element,this._valueInput=n("<input type='checkbox'><\/input>"),this._editorContainer=this.element.wrap(n("<div><\/div>")).parent(),this._editorInput.after(this._valueInput);else throw new Error(this._getLocaleValue("instantiateCheckBoxErrMsg"));this._editorContainer.addClass(this.css.container).attr("role","checkbox"),this._editorInput.addClass(this.css.checkboxIcon).addClass(this.options.iconClass).addClass(this.css.checked),this._valueInput.addClass(this.css.checkboxInput).attr("aria-hidden","true"),n.ig.util.isIE8||this._valueInput.attr("type")==="checkbox"||this._valueInput.attr("type","checkbox"),this._attachEvents(),this._applyOptions(),this._applyAria(),this._triggerRendered()},_applyAria:function(){var n=this.element.attr("aria-labelledby");n&&(this.element.removeAttr("aria-labelledby"),this._editorContainer.attr("aria-labelledby",n))},_applyOptions:function(){var n=this.options.checked;this._super(),n?this._initialState():this.options.checked=!1,this.options.value&&(this._inputValue=this.options.value,this.value(this.options.value)),this._size(this.options.size),this._setWidth(this.options.width),this._setHeight(this.options.height),this._updateState(n&&n!=="false"?!0:!1)},_setOption:function(n,t){var i=this.options.iconClass;this._super(n,t);switch(n){case"checked":this._updateState(t&&t!=="false"?!0:!1);break;case"value":this._inputValue=t,this._updateState(this.options.checked);break;case"size":this._size(t);break;case"iconClass":this._setIconClass(i,t)}},_readAttributes:function(){var n=this.element.attr("checked");this._super(this.element),n&&(this.element.removeAttr("checked"),this.options.checked=!0)},_attachEvents:function(){var n=this;this._super();this._editorContainer.on({"click.editor":function(t){var i=n._inputValue!==undefined?n.options.checked:!0;n._valueInput[0].checked!==i&&(n._valueInput[0].checked=i,this.focus()),n._toggleInternal(t)},"mousedown.editor":function(n){return this.focus(),n.preventDefault(),!1},"focus.editor":function(t){n._setFocus(t,n._cancelFocusTrigger)},"blur.editor":function(t){n._setBlur(t)},"keyup.editor":function(t){var i=t.keyCode||t.which||0;n._triggerKeyUp(t),i===32&&(n._toggleInternal(t),t.preventDefault())},"keydown.editor":function(t){n._triggerKeyDown(t)},"keypress.editor":function(t){var i=t.keyCode||t.which||0;n._triggerKeyPress(t),i===32&&t.preventDefault()}})},_triggerValueChanging:function(n,t,i){var r={owner:this,element:n.target,editorInput:this._editorInput,oldState:this.options.checked,newState:t,oldValue:this.value(),newValue:i};return this._trigger(this.events.valueChanging,n,r)},_triggerValueChanged:function(n){var t={owner:this,element:n.target,editorInput:this._editorInput,newState:this.options.checked,newValue:this.value()};this._trigger(this.events.valueChanged,n,t),this._trigger(this.options.checked?this.events.checked:this.events.unchecked,n,t)},_triggerFocus:function(n){var t={originalEvent:n,owner:this,element:n.target,editorInput:this._editorInput};this._trigger(this.events.focus,n,t)},_triggerBlur:function(n){var t={owner:this,element:n.target,editorInput:this._editorInput};this._trigger(this.events.blur,n,t)},_getState:function(){var n,t;if(this._inputValue!==undefined)n=this._valueInput[0].checked;else if(t=this._tryParseBool(this._valueInput[0].value),t.ret)n=t.p1;else throw new Error(this._getLocaleValue("cannotParseNonBoolValue"));return n},_tryParseBool:function(t){return typeof t=="boolean"?{ret:!0,p1:t}:typeof t=="string"?n.ig.Boolean.prototype.tryParse(t):void 0},_toggleInternal:function(n){var r,t,i;t=!this._getState(),i=this.value(),this._inputValue===undefined&&(i=t),r=this._triggerValueChanging(n,t,i),r&&(this._updateState(t),this._triggerValueChanged(n),this._validator&&this._validator._validateInternal(this.element,n))},_initialState:function(){this._valueInput.attr("checked","checked")},_updateState:function(n){this.options.checked=n,this._editorContainer.attr("aria-checked",n),n?(this._editorInput.removeClass(this._uncheckedClass),this._editorContainer.addClass(this.css.containerChecked)):(this._editorInput.addClass(this._uncheckedClass),this._editorContainer.removeClass(this.css.containerChecked)),this._inputValue!==undefined?(this._valueInput[0].checked=n,this._valueInput[0].value=this._inputValue):(this._valueInput[0].checked=!0,this._valueInput[0].value=n)},_removeDOM:function(){this.element.is("div")?this.element.empty():this.element.is("input")?(this._editorInput.remove(),this.element.unwrap()):this.element.is("span")&&(this._valueInput.remove(),this.element.unwrap())},_detachEvents:function(){this._editorContainer&&this._editorContainer.off("click.editor mousedown.editor focus.editor blur.editor keydown.editor"),this._super()},_clearStyling:function(){this._editorContainer&&this._editorContainer.removeClass(this.css.checkboxContainer).removeClass(this.css.containerChecked).removeAttr("role"),this._editorInput&&this._editorInput.removeClass(this._checkedClass).removeClass(this._uncheckedClass).removeClass(this.css.checkboxIcon).removeClass(this.options.iconClass),this._valueInput&&this._valueInput.removeClass(this.css.checkboxInput).removeAttr("aria-hidden"),this._super()},_deleteInternalProperties:function(){delete this._checkedClass,delete this._uncheckedClass,this._super()},_size:function(n){n&&(this._editorContainer.removeClass("ui-igcheckbox-verysmall ui-igcheckbox-small").removeClass("ui-igcheckbox-normal ui-igcheckbox-large"),this._editorContainer.addClass("ui-igcheckbox-"+n),this._editorInput.removeClass(this._checkedClass).removeClass(this._uncheckedClass),this._checkedClass="ui-igcheckbox-"+n+"-on",this._uncheckedClass="ui-igcheckbox-"+n+"-off",this._editorInput.addClass(this._checkedClass))},_setTabIndex:function(n){this._editorContainer.attr("tabIndex",n)},_setWidth:function(n){this._super(n),n&&this._editorInput.addClass(this.css.iconCentered)},_setHeight:function(n){this._super(n),n&&this._editorInput.addClass(this.css.iconCentered)},_setIconClass:function(n,t){this._editorInput.removeClass(n).addClass(t)},_setFocus:function(n,t){this._editorContainer.addClass(this.css.focus),n&&!t?this._triggerFocus(n):delete this._cancelFocusTrigger},_setFocusDelay:function(n){var t=this;n?this._timeouts.push(setTimeout(function(){t._cancelFocusTrigger=!0,t._editorContainer.focus(),t._setFocus()},n)):(this._cancelFocusTrigger=!0,this._editorContainer.focus(),this._setFocus())},_setBlur:function(n){this._editorContainer.removeClass(this.css.focus),this._triggerBlur(n),this._validator&&this._validator._validateInternal(this.element,n,!0)},isValid:function(){return!0},value:function(n){if(n!==undefined)if(this._inputValue===undefined){var t=this._tryParseBool(n);if(t&&t.ret)this._updateState(t.p1);else throw new Error(this._getLocaleValue("cannotSetNonBoolValue"));}else this.options.value=n,this._inputValue=n,this._updateState(this._getState());else return this._inputValue===undefined?this._getState():this.options.value},toggle:function(){this._getState()?this._updateState(!1):this._updateState(!0)}}),n.extend(n.ui.igCheckboxEditor,{version:"19.2.25"}),n.widget("ui.igTimePicker",n.ui.igDateEditor,{options:{itemsDelta:{hours:0,minutes:30},spinDelta:{hours:1,minutes:30},timeInputFormat:"time",timeDisplayFormat:null,isLimitedToListValues:!1,suppressKeyboard:!1,dropDownOrientation:"auto",visibleItemsCount:5,listWidth:0,listItemHoverDuration:0,dropDownAttachedToBody:!1,dropDownAnimationDuration:300,buttonType:"dropdown",spinWrapAround:!0,dateDisplayFormat:null,dateInputFormat:null,yearShift:null,displayTimeOffset:null},events:{dropDownListOpening:"dropDownListOpening",dropDownListOpened:"dropDownListOpened",dropDownListClosing:"dropDownListClosing",dropDownListClosed:"dropDownListClosed",dropDownItemSelecting:"dropDownItemSelecting",dropDownItemSelected:"dropDownItemSelected"},_initialize:function(){this.options.timeDisplayFormat&&(this.options.dateDisplayFormat=this._parseTimeMask(this.options.timeDisplayFormat)),this.options.dateInputFormat=this._parseTimeMask(this.options.timeInputFormat),this._super(),this.options.minValue&&(this.options.minValue=this._parseDateFromMaskedValue(this.options.minValue)),this.options.maxValue&&(this.options.maxValue=this._parseDateFromMaskedValue(this.options.maxValue));var t=this.options.buttonType.toString().split(/[\s,]+/);n.inArray("dropdown",t)!==-1&&n.inArray("spin",t)===-1&&this._populateDropDown(this.options.minValue,this.options.maxValue)},getSelectedListItem:function(){return n.ui.igTextEditor.prototype.getSelectedListItem.call(this)},dropDownVisible:function(){return n.ui.igTextEditor.prototype.dropDownVisible.call(this)},dropDownButton:function(){return n.ui.igTextEditor.prototype.dropDownButton.call(this)},dropDownContainer:function(){return n.ui.igTextEditor.prototype.dropDownContainer.call(this)},findListItemIndex:function(t,i){return n.ui.igTextEditor.prototype.findListItemIndex.call(this,t,i)},selectedListIndex:function(t){return n.ui.igTextEditor.prototype.selectedListIndex.call(this,t)},_getEditModeValue:function(t){return n.type(t)==="date"?this._updateMaskedValue(t,!0):this._super()},_populateDropDown:function(n,t){var u,r,f;n=n?n.getHours()*60+n.getMinutes():0,t=t?t.getHours()*60+t.getMinutes():1440;var i=this.options.itemsDelta.hours*60+this.options.itemsDelta.minutes,o=n/i,e=0;for(i>0&&i<=1440&&(e=1440/i),u=new Date,u.setHours(0),u.setMinutes(0),u.setSeconds(0),this.options.listItems=[],this.options.timeItems=[],r=o;r<e;r++)f=new Date(u),f.setMinutes(i*r),i*r>=n&&i*r<=t&&(this.options.listItems.push(f),this.options.timeItems.push(f.toTimeString()))},_parseTimeMask:function(n){return n.replace(/M/g,"\\M").replace(/d/g,"\\d").replace(/y/g,"\\y").replace(/s/g,"\\s").replace(/f/g,"\\f")},_validateValue:function(t){return this._super(t)?n.ui.igTextEditor.prototype._validateValue.call(this,t):!1},_setOption:function(t,i){var r=this.options[t];if(r!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"timeDisplayFormat":this._super("dateDisplayFormat",this._parseTimeMask(i));break;case"timeInputFormat":case"itemsDelta":case"minValue":case"maxValue":this.options[t]=r;throw new Error(this._getLocaleValue("setOptionError")+t);default:this.options[t]=r,this._super(t,i)}}},value:function(t){return t===undefined||n.type(t)==="date"?this._super(t):this._super(this._parseDateFromMaskedValue(t))},_updateValue:function(n){this._super(n),this._dropDownList!==undefined&&this._updateDropdownSelection(n)},_updateDropdownSelection:function(t){n.type(t)==="date"?this._super(t):(this.options.dataMode==="displayModeText"&&(t=this._parseValueByMask(t)),this._super(this._parseDateFromMaskedValue(t)))},_valueIndexInList:function(t){return!t&&t!==0?-1:n.inArray(t.toTimeString(),this.options.timeItems)},_setBlur:function(n){this._super(n),this._dropDownList&&this._dropDownList.is(":visible")&&this._triggerDropDownClosing()&&this._hideDropDownList()},_applyOptions:function(){if(n.type(this.options.value)!=="date"&&this.options.value!==null){var t=this._getDateObjectFromValue(this.options.value);this.options.value=isNaN(t)?this._parseDateFromMaskedValue(this.options.value):t}this._super()},_triggerKeyDown:function(t){this._dropDownList?n.ui.igNumericEditor.prototype._triggerKeyDown.call(this,t):this._super(t)},_spin:function(t,i){this.options.isLimitedToListValues&&this._dropDownList?n.ui.igNumericEditor.prototype._spin.call(this,t,i):this._super(t,i)},_handleSpinUpEvent:function(){this.options.isLimitedToListValues&&this._dropDownList?n.ui.igNumericEditor.prototype._handleSpinUpEvent.call(this):this._super()},_handleSpinDownEvent:function(){this.options.isLimitedToListValues&&this._dropDownList?n.ui.igNumericEditor.prototype._handleSpinDownEvent.call(this):this._super()},selectDate:function(){throw new Error(this._getLocaleValue("timePickerNoSuchMethod"));}}),n.extend(n.ui.igTimePicker,{version:"19.2.25"})}(n),function(n){n.ui.keyCode.NUMPAD_ADD=n.ui.keyCode.NUMPAD_ADD||107,n.ui.keyCode.NUMPAD_SUBTRACT=n.ui.keyCode.NUMPAD_SUBTRACT||109,n.widget("ui.igTree",n.ui.igWidget,{_const:{dragCursorAt:{top:-10,left:-10}},css:{tree:"ui-widget ui-igtree",treeCollection:"ui-igtree-collection",treeNode:"ui-igtree-node",treeRoot:"ui-igtree-root ui-widget-content",treeRootNode:"ui-igtree-noderoot",nodeNoChildren:"ui-igtree-node-nochildren",parentNode:"ui-igtree-parentnode",collapseIcon:"ui-icon ui-icon-triangle-1-s",expandIcon:"ui-icon ui-icon-triangle-1-e",nodeAnchor:"ui-corner-all",nodeExpander:"ui-igtree-expander",nodeNormal:"ui-state-default",nodeHightlight:"ui-state-highlight",nodeHovered:"ui-state-hover",nodeSelected:"ui-state-active",nodeActive:"ui-state-focus",checkbox:"ui-state-default ui-corner-all ui-igcheckbox-normal",checkboxOff:"ui-icon ui-icon-check ui-igcheckbox-normal-off",checkboxOn:"ui-icon ui-icon-check ui-igcheckbox-normal-on",checkboxPartial:"ui-icon ui-icon-check ui-state-disabled ui-igcheckbox-normal-on",invalidDropIndicator:"ui-widget ui-igtree-dropindicator ui-state-error ui-corner-all",dropIndicator:"ui-widget ui-igtree-dropindicator ui-state-highlight ui-corner-all",moveMarkupIcon:"ui-icon ui-icon-arrowthick-1-e",invalidMoveMarkupIcon:"ui-icon ui-icon-cancel",copyMarkupIcon:"ui-icon ui-icon-plus",insertLine:"ui-state-default ui-igtree-insertline"},options:{width:null,height:null,checkboxMode:"off",singleBranchExpand:!1,hotTracking:!0,parentNodeImageUrl:null,parentNodeImageClass:null,parentNodeImageTooltip:null,leafNodeImageUrl:null,leafNodeImageClass:null,leafNodeImageTooltip:null,animationDuration:200,pathSeparator:"_",dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseDataType:null,requestType:"GET",responseContentType:null,initialExpandDepth:-1,loadOnDemand:!1,bindings:{textKey:"Text",textXPath:"@Text",valueKey:"Value",valueXPath:"@Value",imageUrlKey:"ImageUrl",imageUrlXPath:"@ImageUrl",navigateUrlKey:"NavigateUrl",navigateUrlXPath:"@NavigateUrl",targetKey:"Target",expandedKey:"__expanded__",checkedKey:"__checked__",primaryKey:null,nodeContentTemplate:null,childDataProperty:"Nodes",childDataXPath:"Children",searchFieldXPath:"Nodes",bindings:{}},defaultNodeTarget:"_self",dragAndDrop:!1,updateUrl:null,dragAndDropSettings:{allowDrop:!1,dragAndDropMode:"default",dragOpacity:.75,revert:!0,revertDuration:500,zIndex:10,dragStartDelay:200,expandOnDragOver:!0,expandDelay:1e3,helper:"default",customDropValidation:null,containment:!1,invalidMoveToMarkup:"<div><p><span><\/span><strong>{0}<\/strong><\/p><\/div>",moveToMarkup:"<div><p><span><\/span><strong>Move to<\/strong> {0}<\/p><\/div>",moveBetweenMarkup:"<div><p><span><\/span><strong>Move between<\/strong> {0} and {1}<\/p><\/div>",moveAfterMarkup:"<div><p><span><\/span><strong>Move after<\/strong> {0}<\/p><\/div>",moveBeforeMarkup:"<div><p><span><\/span><strong>Move before<\/strong> {0}<\/p><\/div>",copyToMarkup:"<div><p><span><\/span><strong>Copy to<\/strong> {0}<\/p><\/div>",copyBetweenMarkup:"<div><p><span><\/span><strong>Copy between<\/strong> {0} and {1}<\/p><\/div>",copyAfterMarkup:"<div><p><span><\/span><strong>Copy after<\/strong> {0}<\/p><\/div>",copyBeforeMarkup:"<div><p><span><\/span><strong>Copy before<\/strong> {0}<\/p><\/div>"}},events:{dataBinding:"dataBinding",dataBound:"dataBound",rendering:"rendering",rendered:"rendered",selectionChanging:"selectionChanging",selectionChanged:"selectionChanged",nodeCheckstateChanging:"nodeCheckstateChanging",nodeCheckstateChanged:"nodeCheckstateChanged",nodePopulating:"nodePopulating",nodePopulated:"nodePopulated",nodeCollapsing:"nodeCollapsing",nodeCollapsed:"nodeCollapsed",nodeExpanding:"nodeExpanding",nodeExpanded:"nodeExpanded",nodeClick:"nodeClick",nodeDoubleClick:"nodeDoubleClick",dragStart:"dragStart",drag:"drag",dragStop:"dragStop",nodeDropping:"nodeDropping",nodeDropped:"nodeDropped"},_createWidget:function(n){this.options.bindings=null,n&&n.bindings&&this._populateStateKeys(n.bindings),n&&n.dragAndDrop&&this.changeLocale(),this._superApply(arguments)},_create:function(){var n=this.options;this._selectedNode=[{path:null,element:null,data:null,binding:null}],this.dataBind(),this.element.addClass(this.css.tree),this._attachEvents(),n.width&&this.element.css("width",n.width),n.height&&this.element.css("height",n.height)},_setOption:function(t,i){var u=this.css,r,f=this.options[t];this._super(t,i);switch(t){case"width":this.element.css("width",i);break;case"height":this.element.css("height",i);break;case"parentNodeImageUrl":if(r=this.element.find("img[data-role=parent-node-image]"),r.length>0)r.attr("src",i);else throw new Error(this._getLocaleValue("setOptionError")+t);break;case"parentNodeImageTooltip":if(r=this.element.find("img[data-role=parent-node-image]"),r.length<=0&&(r=this.element.find("span[data-role=parent-node-image]")),r.length>0)r.attr("title",i);else throw new Error(this._getLocaleValue("setOptionError")+t);break;case"parentNodeImageClass":if(r=this.element.find("span[data-role=parent-node-image]"),r.length>0)r.removeClass(),r.addClass(i);else throw new Error(this._getLocaleValue("setOptionError")+t);break;case"leafNodeImageUrl":if(r=this.element.find("img[data-role=leaf-node-image]"),r.length>0)r.attr("src",i);else throw new Error(this._getLocaleValue("setOptionError")+t);break;case"leafNodeImageTooltip":if(r=this.element.find("img[data-role=leaf-node-image]"),r.length<=0&&(r=this.element.find("span[data-role=leaf-node-image]")),r.length>0)r.attr("title",i);else throw new Error(this._getLocaleValue("setOptionError")+t);break;case"leafNodeImageClass":if(r=this.element.find("span[data-role=leaf-node-image]"),r.length>0)r.removeClass(),r.addClass(i);else throw new Error(this._getLocaleValue("setOptionError")+t);break;case"hotTracking":i?this.element.delegate("a",{mouseover:function(t){n(t.target).addClass(u.nodeHovered)},mouseout:function(t){n(t.target).removeClass(u.nodeHovered)}}):(this.element.undelegate("a","mouseover"),this.element.undelegate("a","mouseout"));break;case"checkboxMode":i.toLowerCase()==="off"?this._removeCheckboxes():f==="off"&&this._addCheckboxes();break;case"dataSource":this.dataBind();break;case"dragAndDrop":i?this._initDragAndDrop():this._destroyDragAndDrop();break;case"updateUrl":this.options.dataSource.root().settings.updateUrl=i;break;case"bindings":case"loadOnDemand":case"pathSeparator":case"initialExpandDepth":case"defaultNodeTarget":throw new Error(this._getLocaleValue("setOptionError")+t);}},changeLocale:function(){this.options.dragAndDropSettings.moveToMarkup="<div><p><span><\/span>"+this._getLocaleValue("moveTo")+"<\/p><\/div>",this.options.dragAndDropSettings.moveBetweenMarkup="<div><p><span><\/span>"+this._getLocaleValue("moveBetween")+"<\/p><\/div>",this.options.dragAndDropSettings.moveAfterMarkup="<div><p><span><\/span>"+this._getLocaleValue("moveAfter")+"<\/p><\/div>",this.options.dragAndDropSettings.moveBeforeMarkup="<div><p><span><\/span>"+this._getLocaleValue("moveBefore")+"<\/p><\/div>",this.options.dragAndDropSettings.copyToMarkup="<div><p><span><\/span>"+this._getLocaleValue("copyTo")+"<\/p><\/div>",this.options.dragAndDropSettings.copyBetweenMarkup="<div><p><span><\/span>"+this._getLocaleValue("copyBetween")+"<\/p><\/div>",this.options.dragAndDropSettings.copyAfterMarkup="<div><p><span><\/span>"+this._getLocaleValue("copyAfter")+"<\/p><\/div>",this.options.dragAndDropSettings.copyBeforeMarkup="<div><p><span><\/span>"+this._getLocaleValue("copyBefore")+"<\/p><\/div>"},_removeCheckboxes:function(){this.element.find("span[data-role=checkbox]").remove()},_addCheckboxes:function(){var t=this;this.element.find("li[data-role=node]").each(function(){var i=n(this);i.children("span[data-role=expander]").length>0?i.children("span[data-role=expander]").after(t._renderCheckbox()):i.prepend(t._renderCheckbox())})},_initDataOptions:function(){var t,i,r;return r=this._initDataSourceSchema(),this.options.dataSource||this.options.dataSourceUrl?!this.options.dataSource&&this.options.dataSourceUrl?this.options.dataSource=this.options.dataSourceUrl:n.type(this.options.dataSource)!=="object"||typeof this.options.dataSource._encodeHierarchicalUrlParams=="function"||typeof this.options.dataSource._xmlToArray=="function"||this.options.dataSourceType||(this.options.dataSource=[this.options.dataSource]):this.element.is("ul")?this.options.dataSource=this.element[0]:(i=this.element.children("ul"),this.options.dataSource=i[0]),t={callback:this._constructFromData,callee:this,dataSource:this.options.dataSource,requestType:this.options.requestType,responseContentType:this.options.responseContentType,defaultChildrenDataProperty:this.options.bindings.childDataProperty,responseDataType:this.options.responseDataType,primaryKey:this.options.primaryKey,localSchemaTransform:this.options.dataSourceType&&this.options.dataSourceType==="xml"?!0:!1,schema:r,updateUrl:this.options.updateUrl},this.options.dataSourceType&&(t.type=this.options.dataSourceType),this.options.responseDataKey&&(t.responseDataKey=this.options.responseDataKey),t},_initDataSourceSchema:function(){var t={},i=this.options,n=i.bindings;return n===null?(i.bindings={},t.text={name:"Text",type:"string"},i.bindings.textKey="Text",t.value={name:"Value",type:"string"},i.bindings.valueKey="Value",t.imageUrl={name:"ImageUrl",type:"string"},i.bindings.imageUrlKey="ImageUrl",t.navigateUrl={name:"NavigateUrl",type:"string"},i.bindings.navigateUrlKey="NavigateUrl",t.childData={name:"Nodes",type:"object"},i.bindings.childDataProperty="Nodes",t.target={name:"Target",type:"string"},i.bindings.targetKey="Target",i.bindings.expandedKey="__expanded__",i.bindings.checkedKey="__checked__",n=i.bindings):i.dataSourceType==="xml"&&(n.searchFieldXPath&&(t.searchField=n.searchFieldXPath),t.fields=[],n.textKey&&(t.fields.push({name:n.textKey,type:"string",xpath:n.textXPath}),t.textKey=n.textKey),n.valueKey&&(t.fields.push({name:n.valueKey,type:"string",xpath:n.valueXPath}),t.valueKey=n.valueKey),n.navigateUrlKey&&(t.fields.push({name:n.navigateUrlKey,type:"string",xpath:n.navigateUrlXPath}),t.navigateUrlKey=n.navigateUrlKey),n.imageUrlKey&&(t.fields.push({name:n.imageUrlKey,type:"string",xpath:n.imageUrlXPath}),t.imageUrlKey=n.imageUrlKey),n.targetKey&&(t.fields.push({name:n.targetKey,type:"string"}),t.targetKey=n.targetKey),n.expandedKey&&(t.fields.push({name:n.expandedKey,type:"boolean"}),t.expandedKey=n.expandedKey),n.checkedKey&&(t.fields.push({name:n.checkedKey,type:"string"}),t.checkedKey=n.checkedKey),n.primaryKey&&(t.fields.push({name:n.primaryKey,type:"string"}),t.primaryKey=n.primaryKey),n.childDataProperty&&(t.fields.push({name:n.childDataProperty,type:"object",xpath:n.childDataXPath}),t.childDataProperty=n.childDataProperty)),!t.searchField&&i.responseDataKey&&(t.searchField=i.responseDataKey),t},_initDataSource:function(t){var i=this.options;i.dataSource&&typeof i.dataSource._encodeHierarchicalUrlParams=="function"||(i.dataSource=new n.ig.HierarchicalDataSource(t))},_helper:null,_insertLine:{html:null},_originalHelper:{html:null},_sourceNode:{data:null,element:null,owner:null},_validationObject:{valid:!0,dropAfter:!0,expandTimeout:null,target:null},_helperDirty:!1,_dropAfter:!0,_initDragOptions:function(){var t=this,i=t.options.dragAndDropSettings,r=i.helper==="default"?function(i){var u=n(i.target).closest("li[data-role=node]"),r=n(t.options.dragAndDropSettings.invalidMoveToMarkup.replace("{0}",u.children("a").html()));return r.addClass(t.css.invalidDropIndicator).find("span").eq(0).addClass(t.css.invalidMoveMarkupIcon),r}:i.helper;return{revert:i.revert?"invalid":!1,opacity:i.dragOpacity,zIndex:i.zIndex,cursorAt:this._const.dragCursorAt,helper:r,revertDuration:i.revertDuration,appendTo:t.element,delay:i.dragStartDelay,containment:i.containment,start:function(i,r){var u=t.nodeFromElement(n(this)),f;if(f=t._triggerDragStart(i,r,u.element),f)t._originalHelper.html=r.helper.html(),t._sourceNode.data=n.extend(!1,{},u.data),t._sourceNode.owner=t,t._sourceNode.element=u.element;else return!1},drag:function(n,i){var r=t._triggerDrag(n,i,t._sourceNode.element);if(r)t._performDrag(n,i);else return t._resetSourceNode(),t._resetValidationObject(),!1},stop:function(i,r){t._triggerDragStop(i,r),n(document).find("div[data-role=insert-line]").remove(),t._helperDirty=!1,t._resetSourceNode(),t._resetValidationObject()}}},_performDrag:function(t,i){var r=n(t.originalEvent.target),u,f=t.ctrlKey&&this.options.dragAndDropSettings.dragAndDropMode==="default"||this.options.dragAndDropSettings.dragAndDropMode==="copy",e,o,s=this;r.is("div[data-role=insert-line]")||(this._validationObject.valid=this._accept(this._sourceNode.element,r),n(document).find("div[data-role=insert-line]").remove(),this.options.dragAndDropSettings.expandOnDragOver&&((r.is("a")||r.closest("a").parent().is("li[data-role=node]"))&&this._validationObject.target!==r.closest("li[data-role=node]")?(clearTimeout(this._validationObject.expandTimeout),this._validationObject.target=r.closest("li[data-role=node]"),this._validationObject.target.hasClass("ui-igtree-parentnode")&&(this._validationObject.expandTimeout=setTimeout(function(){s.expand(s._validationObject.target)},this.options.dragAndDropSettings.expandDelay))):(clearTimeout(this._validationObject.expandTimeout),this._validationObject.expandTimeout=null,this._validationObject.target=null)),(r.is("a")||r.closest("a").parent().is("li[data-role=node]"))&&this._validationObject.valid?(f?(u=n(this.options.dragAndDropSettings.copyToMarkup.replace("{0}",r.html())),u.find("span").eq(0).addClass(this.css.copyMarkupIcon)):(u=n(this.options.dragAndDropSettings.moveToMarkup.replace("{0}",r.html())),u.find("span").eq(0).addClass(this.css.moveMarkupIcon)),this._helper=u.html(),i.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(this._helper),this._helperDirty=!0):r.is("li[data-role=node]")&&this._validationObject.valid?(e=r.igOffset().top+r.height()/2,o=i.offset.top+this._const.dragCursorAt.top,o>e?(this._validationObject.dropAfter=!0,f?r.next("li[data-role=node]").length>0?(u=n(this.options.dragAndDropSettings.copyBetweenMarkup.replace("{0}",r.children("a").html()).replace("{1}",r.next("li[data-role=node]").children("a").html())),u.find("span").eq(0).addClass(this.css.copyMarkupIcon)):(u=n(this.options.dragAndDropSettings.copyAfterMarkup.replace("{0}",r.children("a").html())),u.find("span").eq(0).addClass(this.css.copyMarkupIcon)):r.next("li[data-role=node]").length>0?(u=n(this.options.dragAndDropSettings.moveBetweenMarkup.replace("{0}",r.children("a").html()).replace("{1}",r.next("li[data-role=node]").children("a").html())),u.find("span").eq(0).addClass(this.css.moveMarkupIcon)):(u=n(this.options.dragAndDropSettings.moveAfterMarkup.replace("{0}",r.children("a").html())),u.find("span").eq(0).addClass(this.css.moveMarkupIcon)),n(this._insertLine.html).appendTo(r),this._helper=u.html(),i.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(this._helper)):(this._validationObject.dropAfter=!1,f?r.prev("li[data-role=node]").length>0?(u=n(this.options.dragAndDropSettings.copyBetweenMarkup.replace("{0}",r.children("a").html()).replace("{1}",r.prev("li[data-role=node]").children("a").html())),u.find("span").eq(0).addClass(this.css.copyMarkupIcon)):(u=n(this.options.dragAndDropSettings.copyBeforeMarkup.replace("{0}",r.children("a").html())),u.find("span").eq(0).addClass(this.css.copyMarkupIcon)):r.prev("li[data-role=node]").length>0?(u=n(this.options.dragAndDropSettings.moveBetweenMarkup.replace("{0}",r.prev("li[data-role=node]").children("a").html()).replace("{1}",r.children("a").html())),u.find("span").eq(0).addClass(this.css.moveMarkupIcon)):(u=n(this.options.dragAndDropSettings.moveBeforeMarkup.replace("{0}",r.children("a").html())),u.find("span").eq(0).addClass(this.css.moveMarkupIcon)),r.index()===0?n(this._insertLine.html).prependTo(r).css("padding-bottom","0.1em"):n(this._insertLine.html).appendTo(r.prev()),this._helper=u.html(),i.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(this._helper)),this._helperDirty=!0):r.is(":ui-igTree")&&r.data("igTree")!==this?(f?(u=n(this.options.dragAndDropSettings.copyToMarkup.replace("{0}","")),u.find("span").eq(0).addClass(this.css.copyMarkupIcon)):(u=n(this.options.dragAndDropSettings.moveToMarkup.replace("{0}","")),u.find("span").eq(0).addClass(this.css.moveMarkupIcon)),this._helper=u.html(),i.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(this._helper),this._helperDirty=!0):(n(document).find("div[data-role=insert-line]").remove(),this._helperDirty&&(this._helper=null,i.helper.removeClass(this.css.dropIndicator).addClass(this.css.invalidDropIndicator).html(this._originalHelper.html),this._helperDirty=!1)))},_resetSourceNode:function(){this._originalHelper.html=null,this._sourceNode.data=null,this._sourceNode.owner=null,this._sourceNode.element=null},_resetValidationObject:function(){this._validationObject.valid=!0,this._validationObject.dropAfter=!0,clearTimeout(this._validationObject.expandTimeout),this._validationObject.expandTimeout=null,this._validationObject.target=null},_initDropOptions:function(){var n=this;return{tolerance:"pointer",greedy:!0,drop:function(t,i){return n._sourceNode.element===null&&n._sourceNode.owner===null?!1:n._performDrop(t,i)},accept:function(){return n._validationObject.valid}}},_performDrop:function(t,i){var u,r=n(t.originalEvent.target),e,f=this._sourceNode.owner.options.dragAndDropSettings.dragAndDropMode;if(r.is("div[data-role=insert-line]")&&(r=r.closest("li[data-role=node]")),this.element.find("div[data-role=insert-line]").remove(),e=this._triggerNodeDropping(t,i,r.closest("li[data-role=node]"),r.next("li[data-role=node]").length>0||!this._validationObject.dropAfter?r.index()+(this._validationObject.dropAfter?1:0):r.index()),e){if(r.is("a")||r.closest("a").parent().is("li[data-role=node]")){r=r.closest("li[data-role=node]");switch(f){case"move":this.addNode(this._sourceNode.data,r),this._sourceNode.owner.removeAt(this._sourceNode.element.attr("data-path"));break;case"copy":this.addNode(this._sourceNode.data,r);break;default:t.ctrlKey?this.addNode(this._sourceNode.data,r):(this.addNode(this._sourceNode.data,r),this._sourceNode.owner.removeAt(this._sourceNode.element.attr("data-path")))}}else if(r.is("li")){u=this.parentNode(r);switch(f){case"move":this.addNode(this._sourceNode.data,u,r.next("li[data-role=node]").length>0||!this._validationObject.dropAfter?r.index()+(this._validationObject.dropAfter?1:0):null),this._sourceNode.element.attr("data-path",this._sourceNode.element.attr("data-path")+"_remove"),this._sourceNode.owner.removeAt(this._sourceNode.element.attr("data-path"));break;case"copy":this.addNode(this._sourceNode.data,u,r.next("li[data-role=node]").length>0||!this._validationObject.dropAfter?r.index()+(this._validationObject.dropAfter?1:0):null);break;default:t.ctrlKey?this.addNode(this._sourceNode.data,u,r.next("li[data-role=node]").length>0||!this._validationObject.dropAfter?r.index()+(this._validationObject.dropAfter?1:0):null):(this.addNode(this._sourceNode.data,u,r.next("li[data-role=node]").length>0||!this._validationObject.dropAfter?r.index()+(this._validationObject.dropAfter?1:0):null),this._sourceNode.element.attr("data-path",this._sourceNode.element.attr("data-path")+"_remove"),this._sourceNode.owner.removeAt(this._sourceNode.element.attr("data-path")))}}else if(r.is(":ui-igTree"))switch(f){case"move":this.addNode(this._sourceNode.data),this._sourceNode.owner.removeAt(this._sourceNode.element.attr("data-path"));break;case"copy":this.addNode(this._sourceNode.data);break;default:t.ctrlKey?this.addNode(this._sourceNode.data):(this.addNode(this._sourceNode.data),this._sourceNode.owner.removeAt(this._sourceNode.element.attr("data-path")))}this._triggerNodeDropped(t,i,r)}else return!1},_accept:function(n,t){var r=!0,f=t.closest("li[data-role=node]"),e=n.attr("data-path"),i=t.closest(".ui-widget.ui-igtree"),o=this._retrieveCurrentDepthBinding(parseInt(this._sourceNode.element.closest("ul").attr("data-depth"),10)),u;return u=t.is("a")&&t.parent().is("li[data-role=node]")||t.closest("a").parent().is("li[data-role=node]")?i.data("igTree")._retrieveCurrentDepthBinding(parseInt(t.closest("ul").attr("data-depth"),10)+1):t.is("li[data-role=node]")?i.data("igTree")._retrieveCurrentDepthBinding(parseInt(t.closest("ul").attr("data-depth"),10)):t.is(":ui-igTree")?i.data("igTree")._retrieveCurrentDepthBinding(0):!1,f.length>0&&(f.attr("data-path")===e||f.attr("data-path").indexOf(e+this.options.pathSeparator)===0)&&this===i.data("igTree")?r=!1:this===i.data("igTree")||i.igTree("option","dragAndDropSettings").allowDrop?typeof i.igTree("option","dragAndDropSettings").customDropValidation=="function"&&(r=i.igTree("option","dragAndDropSettings").customDropValidation.apply(t,[n])):r=!1,o&&u&&r&&(r=this._validateBindings(o,u,t)),r},_validateBindings:function(n,t,i){var r=!0;return t.hasOwnProperty("primaryKey")&&(n.hasOwnProperty("primaryKey")&&n.primaryKey===t.primaryKey?i.is("a")&&this._sourceNode.element.parent().closest("li[data-role=node]").is(i.closest("li[data-role=node]"))&&(r=!1):r=!1),t.textKey!==n.textKey&&(r=!1),t.hasOwnProperty("valueKey")&&n.hasOwnProperty("valueKey")&&t.valueKey!==n.valueKey&&(r=!1),t.hasOwnProperty("childDataProperty")&&n.hasOwnProperty("childDataProperty")&&t.childDataProperty!==n.childDataProperty&&(r=!1),r},_initDragAndDrop:function(t){var i=this._initDragOptions(),r=this._initDropOptions();this._insertLine.html||(this._insertLine.html="<div data-role='insert-line' class='"+this.css.insertLine+"'><\/div>"),t?(t.draggable(i),t.find("li[data-role=node]").draggable(i)):(this.element.find("li[data-role=node]").draggable(i),this.element.droppable(r),this.element.delegate("a","mousedown",function(){n(this).focus()}))},_destroyDragAndDrop:function(){this.element.find("li[data-role=node]").draggable("destroy"),this.element.droppable("destroy"),this.element.undelegate("a","mousedown")},_constructFromData:function(){var t,i=this.options.dataSource.root().data();this._triggerDataBound(i),this._triggerRendering(i),this.element.attr("data-scroll",!0),this.element.is("ul")?(this.element.empty(),t=this.element,t.addClass(this.css.treeCollection).addClass(this.css.treeRoot).attr("data-depth",0),t.html(this._initChildrenRecursively("",i)),this._triggerRendered()):(this.element.empty(),t="<ul class='"+this.css.treeCollection+" "+this.css.treeRoot+"' data-depth='0'>",t+=this._initChildrenRecursively("",i),t+="<\/ul>",n(t).appendTo(this.element),this._triggerRendered()),this.options.dragAndDrop&&(this._initDragAndDrop(),typeof this.options.dragAndDropSettings.customDropValidation=="string"&&window[this.options.dragAndDropSettings.customDropValidation]&&typeof window[this.options.dragAndDropSettings.customDropValidation]=="function"&&(this.options.dragAndDropSettings.customDropValidation=window[this.options.dragAndDropSettings.customDropValidation]))},_attachEvents:function(){var t=this,i=this.css,u,r;this.element.delegate("span[data-role=expander]","click",function(i){t.toggle(n(i.target).closest("li[data-role=node]"),i)}),this.element.delegate("a",{click:function(i){r=n(i.target).closest("a"),u=t._triggerNodeClick(i,r.parent()),u?(t.select(r.parent(),i),n.ig.util.isWebKit&&r.focus()):i.preventDefault()},dblclick:function(i){i.preventDefault(),t._triggerNodeDoubleClick(i,n(i.target.parentNode))},keydown:function(n){t._kbNavigation(n)},focus:function(n){t._focusNode(n)},blur:function(n){t._blurNode(n)}}),this.options.hotTracking&&this.element.delegate("a",{mouseover:function(t){n(t.target).addClass(i.nodeHovered)},mouseout:function(t){n(t.target).removeClass(i.nodeHovered)}}),this.element.delegate("span[data-role=checkbox] > span",{click:function(i){t.toggleCheckstate(n(i.target).closest("li[data-role=node]"),i)},mouseover:function(t){n(t.target).closest("span[data-role=checkbox]").addClass(i.nodeHovered)},mouseout:function(t){n(t.target).closest("span[data-role=checkbox]").removeClass(i.nodeHovered)}})},_initChildrenRecursively:function(n,t,i,r){var h,s=this.options,c,u,l,a,v=[],f=0,o,e;for(r||(r=0),i||(i=0),u=this._retrieveCurrentDepthBinding(i),!t.hasOwnProperty("length")&&t.hasOwnProperty(u.textKey)&&(t=[t]),f;f<t.length;f++)h="",l="",c=n.length<=0?u.hasOwnProperty("primaryKey")&&t[f].hasOwnProperty(u.primaryKey)?typeof t[f][u.primaryKey]=="function"?t[f][u.primaryKey]():t[f][u.primaryKey]:f+r:u.hasOwnProperty("primaryKey")&&t[f].hasOwnProperty(u.primaryKey)?n+s.pathSeparator+(typeof t[f][u.primaryKey]=="function"?t[f][u.primaryKey]():t[f][u.primaryKey]):n+s.pathSeparator+(f+r),u.hasOwnProperty("valueKey")&&t[f].hasOwnProperty(u.valueKey)&&(l=typeof t[f][u.valueKey]=="function"?t[f][u.valueKey]():t[f][u.valueKey]),o="<li class='"+this._buildNodeCssString(t[f],i,u)+"' data-path='"+c+"' data-value=\""+l+"\" data-role='node'>",e=t[f][u.childDataProperty],typeof e=="function"&&(e=e()),(e&&e.length>0||e&&s.loadOnDemand)&&(i<=s.initialExpandDepth&&!s.loadOnDemand||t[f].hasOwnProperty(u.expandedKey)&&t[f][u.expandedKey]?(o+=this._renderExpanderImage(t[f][u.expandedKey]=!0),a="block"):(o+=this._renderExpanderImage(t[f][u.expandedKey]=!1),a="none")),s.checkboxMode&&s.checkboxMode.toLowerCase()!=="off"&&(typeof t[f][u.checkedKey]!="string"&&(t[f][u.checkedKey]="off"),o+=this._renderCheckbox(t[f][u.checkedKey])),o+=this._renderNodeImage(t[f],u),o+=u.nodeContentTemplate?this._renderNodeTemplate(t[f],u):this._renderAnchor(t[f],u),(e&&e.length>0||e&&s.loadOnDemand)&&(h="<ul style='display: "+a+"' data-depth='"+(i+1)+"'",h+=e.length>0&&!s.loadOnDemand?">"+this._initChildrenRecursively(c,e,i+1):" data-populated='false'>",h+="<\/ul>"),o+=h,o+="<\/li>",v.push(o);return v.join("")},_buildNodeCssString:function(n,t,i){var u=this.css,f=u.treeNode,r;return t===0&&(f+=" "+u.treeRootNode),r=n[i.childDataProperty],typeof r=="function"&&(r=r()),f+=r&&r.length>0||r&&this.options.loadOnDemand?" "+u.parentNode:" "+u.nodeNoChildren},_retrieveCurrentDepthBinding:function(n){var t=this.options.bindings,i=0;for(i;i<n;i++)if(t.hasOwnProperty("bindings"))t=t.bindings;else break;return t},_renderExpanderImage:function(n){var r=this,t=r.css,i="";return i=n?"<span data-role='expander' data-exp='true' class='"+t.collapseIcon+" "+t.nodeExpander+"'><\/span>":"<span data-role='expander' data-exp='false' class='"+t.expandIcon+" "+t.nodeExpander+"'><\/span>"},_renderAnchor:function(n,t){var i,r,u;return i=t.hasOwnProperty("navigateUrlKey")&&n[t.navigateUrlKey]?typeof n[t.navigateUrlKey]=="function"?n[t.navigateUrlKey]():n[t.navigateUrlKey]:"#",r=t.targetKey&&t.targetKey.length>0&&n.hasOwnProperty(t.targetKey)?n[t.targetKey]:this.options.defaultNodeTarget,u=typeof n[t.textKey]=="function"?n[t.textKey]():n[t.textKey],"<a href='"+i+"' target='"+r+"' class='"+this.css.nodeAnchor+"'>"+u+"<\/a>"},_renderNodeTemplate:function(t,i){var r=n("<div><\/div>"),f,u,e,o=i.nodeContentTemplate;return u=i.hasOwnProperty("navigateUrlKey")&&t[i.navigateUrlKey]?typeof t[i.navigateUrlKey]=="function"?t[i.navigateUrlKey]():t[i.navigateUrlKey]:"#",e=i.targetKey&&i.targetKey.length>0&&t.hasOwnProperty(i.targetKey)?t[i.targetKey]:this.options.defaultNodeTarget,r.html(n.ig.tmpl(o,t)),r.children("a").length<=0?f="<a href='"+u+"' target='"+e+"' class='"+this.css.nodeAnchor+"'>"+r.html()+"<\/a>":r.children("a").attr("href")?(r.children("a").addClass(this.css.nodeAnchor),f=r.html()):(r.children("a").addClass(this.css.nodeAnchor).attr({href:u,target:e}),f=r.html()),f},_renderCheckbox:function(n){var t=this.css,i;switch(n){case"on":i=t.checkboxOn;break;case"partial":i=t.checkboxPartial;break;default:i=t.checkboxOff}return"<span data-chk='"+n+"' data-role='checkbox' class='"+t.checkbox+"'><span class='"+i+"'><\/span><\/span>"},_renderNodeImage:function(n,t){var i=this.options,u,r="",f;return u=n[t.childDataProperty]&&n[t.childDataProperty].length>0||n[t.childDataProperty]&&i.loadOnDemand,t.hasOwnProperty("imageUrlKey")&&n.hasOwnProperty(t.imageUrlKey)&&(typeof n[t.imageUrlKey]=="function"?(f=n[t.imageUrlKey](),f&&f.length>0&&(r="<img src='"+f+"' alt='error' data-role='node-image' />")):n[t.imageUrlKey].length>0&&(r="<img src='"+n[t.imageUrlKey]+"' alt='error' data-role='node-image' />")),i.parentNodeImageUrl&&u?r+="<img src='"+i.parentNodeImageUrl+"' alt='error' title='"+(i.parentNodeImageTooltip!==null?i.parentNodeImageTooltip:"")+"' data-role='parent-node-image' />":i.parentNodeImageClass&&u?r+="<span title='"+(i.parentNodeImageTooltip!==null?i.parentNodeImageTooltip:"")+"' class='"+i.parentNodeImageClass+"' data-role='parent-node-image'><\/span>":!u&&i.leafNodeImageUrl?r+="<img src='"+i.leafNodeImageUrl+"' alt='error' title='"+(i.leafNodeImageTooltip!==null?i.leafNodeImageTooltip:"")+"' data-role='leaf-node-image' />":!u&&i.leafNodeImageClass&&(r+="<span title='"+(i.leafNodeImageTooltip!==null?i.leafNodeImageTooltip:"")+"' class='"+i.leafNodeImageClass+"' data-role='leaf-node-image'><\/span>"),r},_focusNode:function(t){n(t.target).addClass(this.css.nodeActive)},_blurNode:function(t){n(t.target).removeClass(this.css.nodeActive)},_kbNavigation:function(t){var e=this.options,f=this.css,i=n(t.target.parentNode),r,o=i.index(),u;if(t.keyCode===n.ui.keyCode.UP){if(r=this._nextVisibleNodeUp(i),!r)return;t.ctrlKey?(i.children("a").blur(),r.children("a").focus()):(i.children("a").blur(),r.children("a").focus(),this.select(r,null)),t.preventDefault()}else if(t.keyCode===n.ui.keyCode.DOWN){if(r=this._nextVisibleNodeDown(i,o),!r)return;t.ctrlKey?(i.children("a").blur(),r.children("a").focus()):(i.children("a").blur(),r.children("a").focus(),this.select(r,null)),t.preventDefault()}else t.keyCode===n.ui.keyCode.RIGHT?i.children("ul").length>0&&(u=i.children("."+f.nodeExpander),u.attr("data-exp")&&u.attr("data-exp")!=="false"?(r=i.find("ul > li:first"),r.length>0&&(t.ctrlKey?(i.children("a").blur(),r.children("a").focus()):(i.children("a").blur(),r.children("a").focus(),this.select(r,null)))):this.toggle(i,null)):t.keyCode===n.ui.keyCode.LEFT?(u=i.children("."+f.nodeExpander),u.attr("data-exp")&&u.attr("data-exp")!=="false"?this.toggle(i,null):i.parent().parent().is("li")&&(r=i.parent().parent(),t.ctrlKey?(i.children("a").blur(),r.children("a").focus()):(i.children("a").blur(),r.children("a").focus(),this.select(r,null)))):t.keyCode===n.ui.keyCode.NUMPAD_ADD?i.children("ul").length>0&&(u=i.children("."+f.nodeExpander),u.attr("data-exp")&&u.attr("data-exp")!=="false"||this.toggle(i,null)):t.keyCode===n.ui.keyCode.NUMPAD_SUBTRACT?i.children("ul").length>0&&(u=i.children("."+f.nodeExpander),u.attr("data-exp")&&u.attr("data-exp")!=="false"&&this.toggle(i,null)):t.keyCode===n.ui.keyCode.SPACE?e.checkboxMode&&e.checkboxMode.toLowerCase()!=="off"&&(this.toggleCheckstate(i,null),t.preventDefault(),t.stopPropagation()):t.keyCode===n.ui.keyCode.HOME?(i.children("a").blur(),i=this.element.find("li:first"),i.length>0&&(i.children("a").focus(),this.select(i)),t.preventDefault()):t.keyCode===n.ui.keyCode.END&&(i.children("a").blur(),i=this._lastVisibleNode(),i&&(i.children("a").focus(),this.select(i)),t.preventDefault())},_nextVisibleNodeDown:function(n,t){var r=n.children("."+this.css.nodeExpander),i,u=t,f=null;if(r.length>0&&r.attr("data-exp")&&r.attr("data-exp")!=="false"&&n.children("ul").children("li:first").length>0)return n.children("ul").children("li:first");if(u===n.siblings().length)for(i=n.parent().parent();i.is("li");){if(u=i.index(),u!==i.siblings().length){f=i.next();break}i=i.parent().parent()}else f=n.next();return f},_nextVisibleNodeUp:function(n){var t=n.prev(),i,r=null;if(t.length<=0)n.parent().parent().is("li")&&(r=n.parent().parent());else while(t.length>0){if(i=t.children("."+this.css.nodeExpander),t.children("ul").children("li").length<=0||!i.attr("data-exp")||i.attr("data-exp")==="false"){r=t;break}t=t.children("ul").children("li:last")}return r},_lastVisibleNode:function(){var n=this.element.is("ul")?this.element.children("li:last"):this.element.children("ul").children("li:last"),t,i;if(n.length<=0)i=null;else while(n.length>0){if(t=n.children("."+this.css.nodeExpander),n.children("ul").children("li").length<=0||!t.attr("data-exp")||t.attr("data-exp")==="false"){i=n;break}n=n.children("ul").children("li:last")}return i},_populateStateKeys:function(n){n&&!n.hasOwnProperty("expandedKey")&&(n.expandedKey="__expanded__"),n&&!n.hasOwnProperty("checkedKey")&&(n.checkedKey="__checked__"),n.bindings&&this._populateStateKeys(n.bindings)},_populateCheckedStates:function(n,t,i){for(var r=0;r<n.length;r++)n[r][t.checkedKey]=i},_populatingNode:null,_populateNodeData:function(n,t,i){if(!n)throw new Error(this._getLocaleValue("errorOnRequest")+t);var u=this._populatingNode.ul,o=this._populatingNode.node,s=o.attr("data-path"),f=this.nodeDataFor(s),h=parseInt(u.attr("data-depth"),10),r=this._retrieveCurrentDepthBinding(h-1),e=i.data();this.options.checkboxMode.toLowerCase()==="tristate"&&this.isChecked(o)&&this._populateCheckedStates(e,r.bindings||r,"on"),u.children("li[data-role='loading']").remove(),f[r.childDataProperty]=f[r.childDataProperty]&&f[r.childDataProperty].length?f[r.childDataProperty].concat(e):e,this._triggerNodePopulated(null,o),this._triggerRendering(e),u.append(this._initChildrenRecursively(s,e,h)),u.attr("data-populated",!0),this.options.dragAndDrop&&this._initDragAndDrop(u),this._triggerRendered(),this._populatingNode.indicator.hide(),this._populatingNode.indicator.destroy(),this._populatingNode=null,this.toggle(o,!0),this._loadRequest()},_prepareRequest:function(n,t){var h=this.options,r,f,e,i,o,u,s;if(this._populatingNode===null&&(s=this._triggerNodePopulating(t,n),s)){if(r=this._buildRequestString(n),o=this._retrieveCurrentDepthBinding(parseInt(n.children("ul").attr("data-depth"),10)),!r)return;f=r[0],e=r[1],i=this.nodeDataFor(n.attr("data-path")),u=this._retrieveCurrentDepthBinding(parseInt(n.children("ul").attr("data-depth"),10)-1),i.hasOwnProperty(u.childDataProperty)&&(i=i[u.childDataProperty]),i&&i.__deferred&&i.__deferred.uri?this._executeODataRequest(n,i):i&&i.length>0&&!h.dataSourceUrl?this._renderOnDemand(n,i):this._executeUrlRequest(n,o,f,e)}},_executeODataRequest:function(t,i){var f,r,u,o=this.options,e;f=new n.ig.JSONPDataSource({dataSource:i.__deferred.uri+"?$format=json&$callback=?",responseDataKey:o.responseDataKey}),r=t.children("ul"),e=n("<li style='width: 20px' data-role='loading'>&nbsp;<\/li>").appendTo(r),r.show(),u=e.igLoading({includeVerticalOffset:!1}).data("igLoading").indicator(),u.show(),this._populatingNode={ul:r,node:t,indicator:u},f.dataBind(this._populateNodeData,this)},_renderOnDemand:function(n,t){var i,u,r;i=n.children("ul"),r=parseInt(i.attr("data-depth"),10),this.options.checkboxMode.toLowerCase()==="tristate"&&this.isChecked(n)&&(u=this._retrieveCurrentDepthBinding(r),this._populateCheckedStates(t,u,"on")),this._triggerNodePopulated(null,n),this._triggerRendering(t),i.html(this._initChildrenRecursively(n.attr("data-path"),t,r)),i.attr("data-populated",!0),this.options.dragAndDrop&&this._initDragAndDrop(i),this._triggerRendered(),this.toggle(n,!0),this._loadRequest()},_executeUrlRequest:function(t,i,r,u){var f=this.options,e,o,s,h;if(f.dataSourceUrl&&f.dataSourceUrl.lastIndexOf("?")===-1)f.dataSourceUrl+="?";else if(!f.dataSourceUrl)throw new Error(this._getLocaleValue("noDataSourceUrl"));s=new n.ig.DataSource({dataSource:f.dataSourceUrl+"&"+this._encodeUrlPath(r,u)+"&"+this._encodeBinding(i)+"&depth="+t.parent().attr("data-depth"),dataSourceType:"remoteUrl",responseDataKey:f.responseDataKey}),e=t.children("ul"),h=n('<li style="width: 20px" data-role="loading">&nbsp;<\/li>').appendTo(e),e.show(),o=h.igLoading({includeVerticalOffset:!1}).data("igLoading").indicator(),o.show(),this._populatingNode={ul:e,node:t,indicator:o},s.dataBind(this._populateNodeData,this)},_buildRequestString:function(n){for(var r="",i="",t=this.options.bindings,f,e=n.attr("data-path").split(this.options.pathSeparator),u=0;u<e.length;u++)r.length>0&&(r+="/"),r+=t.childDataProperty,i.length>0&&(i+="/"),i+=(t.primaryKey?t.primaryKey+":":"")+e[u],t.bindings&&(t=t.bindings);return f=i.length<=0?null:[i,r]},_encodeBinding:function(n){var i="binding=",t;for(t in n)n.hasOwnProperty(t)&&t!=="bindings"&&t!=="nodeContentTemplate"&&(i+=t.toString()+":"+n[t]+",");return i=i.substr(0,i.length-1)},_encodeUrlPath:function(n,t){var i;return n.lastIndexOf("/")===-1?(n+="/@"+t,i="path="+n):i="path="+n.substr(n.lastIndexOf("/")+1,n.length)+"/@"+t.substr(t.lastIndexOf("/")+1,t.length),i},_updateParentState:function(t){var i=t.children("span[ data-role=expander ]");i.length<=0?(t.removeClass(this.css.nodeNoChildren).addClass(this.css.parentNode),n(this._renderExpanderImage(!1)).prependTo(t)):t.children("ul").children("li").length<=0&&(t.removeClass(this.css.parentNode).addClass(this.css.nodeNoChildren),t.children("ul").remove(),i.remove()),this._updateImage(t)},_updateParentCheckbox:function(t){var u=t.children("span[data-role=checkbox]"),f=u.children("span"),o=u.attr("data-chk"),r,e=0,i=this.css;if(t.children("ul").children("li").each(function(){n(this).children("span[data-role=checkbox]").attr("data-chk")==="on"&&e++}),r=e===0?"off":e===t.children("ul").children("li").length?"on":"partial",o!==r){u.attr("data-chk",r);switch(r){case"partial":f.removeClass(i.checkboxOn).removeClass(i.checkboxOff).addClass(i.checkboxPartial);break;case"on":f.removeClass(i.checkboxPartial).removeClass(i.checkboxOff).addClass(i.checkboxOn);break;default:f.removeClass(i.checkboxOn).removeClass(i.checkboxPartial).addClass(i.checkboxOff)}t=this.parentNode(t),t&&this._updateParentCheckbox(t)}},_updateImage:function(n){var r=n.children("ul").children("li").length>0,t=this.options,i;r?t.parentNodeImageUrl?(i=n.children("img[data-role=leaf-node-image]"),i.length>0&&i.attr({title:t.parentNodeImageTooltip!==null?t.parentNodeImageTooltip:"",src:t.parentNodeImageUrl,"data-role":"parent-node-image"})):t.parentNodeImageClass&&(i=n.children("span[data-role=leaf-node-image]"),i.length>0&&(i.attr({title:t.parentNodeImageTooltip!==null?t.parentNodeImageTooltip:"","data-role":"parent-node-image"}),i.removeClass(t.leafNodeImageClass).addClass(t.parentNodeImageClass))):t.leafNodeImageUrl?(i=n.children("img[data-role=parent-node-image]"),i.length>0&&i.attr({title:t.leafNodeImageTooltip!==null?t.leafNodeImageTooltip:"",src:t.leafNodeImageUrl,"data-role":"leaf-node-image"})):t.leafNodeImageClass&&(i=n.children("span[data-role=parent-node-image]"),i.length>0&&(i.attr({title:t.leafNodeImageTooltip!==null?t.leafNodeImageTooltip:"","data-role":"leaf-node-image"}),i.removeClass(t.parentNodeImageClass).addClass(t.leafNodeImageClass)))},_addData:function(t,i,r,u){var f=this.nodeDataFor(i),e=this._retrieveCurrentDepthBinding(r),o,s;if(e.hasOwnProperty("primaryKey")){if(f)typeof f[e.childDataProperty]!="function"?(f.hasOwnProperty(e.childDataProperty)&&n.type(f[e.childDataProperty])==="array"||(f[e.childDataProperty]=[]),f[e.childDataProperty]=f[e.childDataProperty].concat(t)):f[e.childDataProperty]().length<=this.nodeByPath(i).children("ul").children("li").length&&(o=n("<li><\/li>").appendTo(this.nodeByPath(i).children("ul")),f[e.childDataProperty].push(t),o.remove());else if(this.options.dataSource.root()._data.length<=this.element.find(".ui-igtree-noderoot").length||this.element.find(".ui-igtree-noderoot").length<=0)if(n.type(t)==="array")for(s=0;s<t.length;s++)this.options.dataSource.root()._data.push(t[s]);else this.options.dataSource.root()._data.push(t)}else if(f)typeof f[e.childDataProperty]!="function"?(f.hasOwnProperty(e.childDataProperty)&&n.type(f[e.childDataProperty])==="array"||(f[e.childDataProperty]=[]),u===0?f[e.childDataProperty]=n.type(t)==="array"?t.concat(f[e.childDataProperty]):[t].concat(f[e.childDataProperty]):u?(o=f[e.childDataProperty].slice(0,u),o=o.concat(t),f[e.childDataProperty]=o.concat(f[e.childDataProperty].slice(u))):f[e.childDataProperty]=f[e.childDataProperty].concat(t)):f[e.childDataProperty]().length<=this.nodeByPath(i).children("ul").children("li").length&&(u===0?(o=n("<li><\/li>").appendTo(this.nodeByPath(i).children("ul")),f[e.childDataProperty].unshift(t),o.remove()):u?(o=n("<li><\/li>").appendTo(this.nodeByPath(i).children("ul")),f[e.childDataProperty]().splice(u,0,t),o.remove()):(o=n("<li><\/li>").appendTo(this.nodeByPath(i).children("ul")),f[e.childDataProperty].push(t),o.remove()));else if(this.options.dataSource.root()._data.length<=this.element.find(".ui-igtree-noderoot").length||this.element.find(".ui-igtree-noderoot").length<=0)if(u===0)this.options.dataSource.root()._data=n.type(t)==="array"?t.concat(this.options.dataSource.root()._data):[t].concat(this.options.dataSource.root()._data);else if(u)this.options.dataSource.root()._data.splice(u,0,t);else if(n.type(t)==="array")for(s=0;s<t.length;s++)this.options.dataSource.root()._data.push(t[s]);else this.options.dataSource.root()._data.push(t)},_removeData:function(n){var u=n.split(this.options.pathSeparator),t=this.options.dataSource.root().data(),f,r,i=this.options.bindings,e;if(u.length===1){if(i.hasOwnProperty("primaryKey")){for(r=0;r<t.length;r++)if(t[r].hasOwnProperty(i.primaryKey)&&(e=typeof t[r][i.primaryKey]=="function"?t[r][i.primaryKey]():t[r][i.primaryKey],e.toString()===u[0].toString())){t.splice(r,1);break}}else t.splice(parseInt(u[0],10),1);return}for(f=0;f<u.length-1;f++){if(i.hasOwnProperty("primaryKey")){for(r=0;r<t.length;r++)if(t[r].hasOwnProperty(i.primaryKey)&&(e=typeof t[r][i.primaryKey]=="function"?t[r][i.primaryKey]():t[r][i.primaryKey],e.toString()===u[f].toString())){t=t[r];break}}else t=t[parseInt(u[f],10)];f<u.length-2&&(t=t[i.childDataProperty]&&typeof t[i.childDataProperty]=="function"?t[i.childDataProperty]():t[i.childDataProperty]),i.hasOwnProperty("bindings")&&f<u.length-2&&(i=i.bindings)}if(t[i.childDataProperty]&&typeof t[i.childDataProperty]!="function"){if(t[i.childDataProperty]&&t[i.childDataProperty].length<=1)delete t[i.childDataProperty];else if(t=t[i.childDataProperty],i.hasOwnProperty("bindings")&&(i=i.bindings),!i.hasOwnProperty("primaryKey")&&t.length)t.splice(parseInt(u[u.length-1],10),1);else for(r=0;r<t.length;r++)if(t[r].hasOwnProperty(i.primaryKey)&&t[r][i.primaryKey].toString()===u[f].toString()){t.splice(r,1);break}}else if(t=t[i.childDataProperty](),i.hasOwnProperty("bindings")&&(i=i.bindings),!i.hasOwnProperty("primaryKey")&&t.length)t.splice(parseInt(u[u.length-1],10),1);else for(r=0;r<t.length;r++)if(t[r].hasOwnProperty(i.primaryKey)&&(e=typeof t[r][i.primaryKey]=="function"?t[r][i.primaryKey]():t[r][i.primaryKey],e.toString()===u[u.length-1].toString())){t.splice(r,1);break}},_recalculatePaths:function(t){var u=t.split(this.options.pathSeparator),i=t.length>0?u[u.length-1]:0,f,e,o,s,r;if(u.length>1)for(u.splice(u.length-1,1),e=u.join(this.options.pathSeparator),f=this.nodeByPath(e),i;i<f.children("ul").children("li").length;i++)o=e+this.options.pathSeparator+i,r=n(f.children("ul").children("li")[i]),r.attr("data-path",o),r.children("ul").length>0&&r.children("ul").children("li").length>0&&this._recalculatePaths(o+this.options.pathSeparator+"0");else for(s=this.element.is("ul")?this.element:this.element.children("ul"),i;i<s.children("li").length;i++)r=n(s.children("li")[i]),r.attr("data-path",i),r.children("ul").length>0&&r.children("ul").children("li").length>0&&this._recalculatePaths(i+this.options.pathSeparator+"0")},_loadQueue:null,_toSelect:!1,_triggerChainRequest:function(n,t){var u=n.split(this.options.pathSeparator),i,r="";for(this._loadQueue===null&&(this._loadQueue=[]),t&&(this._toSelect=!0),i=0;i<u.length;i++)r+=u[i],this._loadQueue.push(r),r+=this.options.pathSeparator;this._loadRequest()},_loadRequest:function(){var n;this._populatingNode===null&&this._loadQueue&&this._loadQueue.length>0&&(n=this.nodeByPath(this._loadQueue.shift()),this._loadQueue.length>0?this.isExpanded(n)?this._loadRequest():this.toggle(n):this._toSelect&&(this.select(n),this._toSelect=!1))},_replaceUIValue:function(n,t,i){var r=n.element,f=this._retrieveCurrentDepthBinding(parseInt(r.parent().attr("data-depth"),10)),u,o,e;switch(i){case f.textKey:f.nodeContentTemplate?(e=r.children("a"),e.hasClass(this.css.nodeActive)&&(o=!0),e.replaceWith(this._renderNodeTemplate(t,f)),this.isSelected(r)&&(r.children("a").addClass(this.css.nodeSelected),this._selectedNode[0]=this.nodeFromElement(r)),o&&r.children("a").focus()):(u=typeof t[i]=="function"?t[i]():t[i],r.children("a").text(u));break;case f.valueKey:u=typeof t[i]=="function"?t[i]():t[i],r.attr("data-value",u);break;case f.navigateUrlKey:u=typeof t[i]=="function"?t[i]():t[i],r.children("a").attr("href",u);break;case f.imageUrlKey:u=typeof t[i]=="function"?t[i]():t[i],r.children("img[data-role=node-image]").attr("src",u);break;case f.expandedKey:u=typeof t[i]=="function"?t[i]():t[i],u?this.expand(r):this.collapse(r);break;case f.checkedKey:u=typeof t[i]=="function"?t[i]():t[i];switch(u){case"on":this.checkNode(n);break;case"partial":this.partiallyCheckNode(n);break;default:this.uncheckNode(n)}}},_cascadeUncheck:function(t,i){var f=t.element.find("li[data-role=node]"),u=this,r;i&&i!=="down"||f.each(function(){u.uncheckNode(u._constructNodeObject(n(this)),"down")}),i&&i!=="up"||(r=this.parentNode(t.element),r&&(r.find("ul > li > span[data-chk=on]").length<=0?this.uncheckNode(this._constructNodeObject(r),"up"):this.partiallyCheckNode(this._constructNodeObject(r),"up")))},_cascadeCheck:function(t,i){var f=t.element.find("li[data-role=node]"),u=this,r;i&&i!=="down"||f.each(function(){u.checkNode(u._constructNodeObject(n(this)),"down")}),i&&i!=="up"||(r=this.parentNode(t.element),r&&(r.find("ul > li > span[data-chk=on]").length===r.find("ul > li").length?this.checkNode(this._constructNodeObject(r),"up"):this.partiallyCheckNode(this._constructNodeObject(r),"up")))},dataBind:function(){this._triggerDataBinding();var n=this._initDataOptions();this._initDataSource(n),this.options.dataSource.dataBind(this._constructFromData,this)},toggleCheckstate:function(n,t){var e=this,u=e.options,r,f=!0,i;if(!n)throw new Error(this._getLocaleValue("incorrectNodeObject"));u.checkboxMode&&u.checkboxMode.toLowerCase()!=="off"&&(i=this._constructNodeObject(n),t&&(f=this._triggerNodeCheckstateChanging(t,i)),f&&(r=i.data[i.binding.checkedKey],r==="on"||r==="partial"?this.uncheckNode(i):this.checkNode(i),t&&this._triggerNodeCheckstateChanged(t,i)))},checkNode:function(n,t){var i=this.options,r=this.css,u=n.element.children("span[data-role=checkbox]"),f=u.children("span");i.checkboxMode&&i.checkboxMode.toLowerCase()!=="off"&&(u.attr("data-chk","on"),f.removeClass(r.checkboxOff).removeClass(r.checkboxPartial).addClass(r.checkboxOn),n.data[n.binding.checkedKey]="on",i.checkboxMode.toLowerCase()==="tristate"&&this._cascadeCheck(n,t))},uncheckNode:function(n,t){var i=this.options,r=this.css,u=n.element.children("span[data-role=checkbox]"),f=u.children("span");i.checkboxMode&&i.checkboxMode.toLowerCase()!=="off"&&(u.attr("data-chk","off"),f.removeClass(r.checkboxOn).removeClass(r.checkboxPartial).addClass(r.checkboxOff),n.data[n.binding.checkedKey]="off",i.checkboxMode.toLowerCase()==="tristate"&&this._cascadeUncheck(n,t))},partiallyCheckNode:function(n,t){var i=this.options,r=this.css,f=n.element.children("span[data-role=checkbox]"),e=f.children("span"),u;i.checkboxMode&&i.checkboxMode.toLowerCase()!=="off"&&(f.attr("data-chk","partial"),e.removeClass(r.checkboxOn).removeClass(r.checkboxOff).addClass(r.checkboxPartial),n.data[n.binding.checkedKey]="partial",(i.checkboxMode.toLowerCase()==="tristate"||t)&&(u=this.parentNode(n.element),u&&this.partiallyCheckNode(this._constructNodeObject(u),"up")))},toggle:function(n,t){this.isExpanded(n)?this.collapse(n,t):this.expand(n,t)},expandToNode:function(n,t){var i,r;if(n&&n.length>0){if(typeof n=="string"&&this.nodeByPath(n).length>0&&(n=this.nodeByPath(n)),typeof n=="string"&&this.options.loadOnDemand){this._triggerChainRequest(n,t);return}for(t&&this.select(n),i=this.parentNode(n),r=this.options.animationDuration,this.options.animationDuration=0;i;)this.expand(i),i=this.parentNode(i);this.options.animationDuration=r}},expand:function(t,i){var f=this,s=f.options,e=f.css,u=0,h,r,c=!0,o;if(!t||t.length<=0)throw new Error(this._getLocaleValue("incorrectNodeObject"));if(t.children("ul").attr("data-populated")&&t.children("ul").attr("data-populated")==="false"){this._prepareRequest(t);return}if(r=this._constructNodeObject(t),h=t.children("."+e.nodeExpander),!this.isExpanded(t)){if(s.singleBranchExpand)for(o=t.siblings(),u;u<o.length;u++)this.collapse(n(o[u]),i);i&&(c=this._triggerNodeExpanding(i,r)),c&&(t.children("ul").show(s.animationDuration,function(){i&&f._triggerNodeExpanded(i,r)}),h.removeClass(e.expandIcon).addClass(e.collapseIcon).attr("data-exp",!0),r.data[r.binding.expandedKey]=!0)}},collapse:function(t,i){var u=this,s=u.options,f=u.css,e,r,o=!0;if(!t||t.length<=0)throw new Error(this._getLocaleValue("incorrectNodeObject"));r=this._constructNodeObject(t),e=t.children("."+f.nodeExpander),this.isExpanded(t)&&(i&&(o=this._triggerNodeCollapsing(i,r)),o&&(n(t).children("ul").hide(s.animationDuration,function(){i&&u._triggerNodeCollapsed(i,r)}),e.removeClass(f.collapseIcon).addClass(f.expandIcon).attr("data-exp",!1),r.data[r.binding.expandedKey]=!1))},parentNode:function(n){if(!n)throw new Error(this._getLocaleValue("incorrectNodeObject"));var t=n.parent().closest("li[data-role=node]");return t.length>0?t:null},nodeByPath:function(n){return this.element.find("li[data-path='"+n+"']")},nodesByValue:function(n){return this.element.find("li[data-value='"+n+"']")},checkedNodes:function(){var i=this.element.find("span[data-chk=on]").parent(),t=0,r=[];if(i.length>0)for(t;t<i.length;t++)r.push(this.nodeFromElement(n(i[t])));return r},uncheckedNodes:function(){var i=this.element.find("span[data-chk=off]").parent(),t=0,r=[];if(i.length>0)for(t;t<i.length;t++)r.push(this.nodeFromElement(n(i[t])));return r},partiallyCheckedNodes:function(){var i=this.element.find("span[data-chk=partial]").parent(),t=0,r=[];if(i.length>0)for(t;t<i.length;t++)r.push(this.nodeFromElement(n(i[t])));return r},select:function(n,t){if(!n||n.length<=0)throw new Error(this._getLocaleValue("incorrectNodeObject"));var u=this.css,f=n.attr("data-path"),i,r=!1;t&&(n.children("a").attr("href")==="#"||n.children("a").attr("href")===document.URLUnencoded+"#")&&(r=!0),this._selectedNode[0].path!==null?this._selectedNode[0].path!==f&&(i=this._triggerSelectionChanging(t,n),i?(this._selectedNode[0].element.children("a").removeClass(u.nodeSelected),n.children("a").addClass(u.nodeSelected),this._selectedNode[0]=this.nodeFromElement(n),this._triggerSelectionChanged(t)):t&&(r=!0)):(i=this._triggerSelectionChanging(t,n),i?(n.children("a").addClass(u.nodeSelected),this._selectedNode[0]=this.nodeFromElement(n),this._triggerSelectionChanged(t)):t&&(r=!0)),r&&t.preventDefault()},deselect:function(n){if(!n)throw new Error(this._getLocaleValue("incorrectNodeObject"));var t=this.css,i=n.attr("data-path");this._selectedNode[0].path!==null&&this._selectedNode[0].path===i&&(n.children("a").removeClass(t.nodeSelected),this._selectedNode[0].path=null,this._selectedNode[0].element=null,this._selectedNode[0].data=null,this._selectedNode[0].binding=null)},clearSelection:function(){var t=this.css,n=0;if(this._selectedNode&&this._selectedNode[0].path!==null){for(n;n<this._selectedNode.length;n++)this._selectedNode[n].element.children("a").removeClass(t.nodeSelected);this._selectedNode=[{path:null,element:null,data:null,binding:null}]}},selectedNode:function(){return this._selectedNode[0]},findNodesByText:function(t,i){var r=[],u,f=this;return u=i?i.find("li > a:contains('"+t+"')"):this.element.find("li > a:contains('"+t+"')"),u.each(function(){r.push(f.nodeFromElement(n(this).closest("li[data-role=node]")))}),r},findImmediateNodesByText:function(t,i){var r=[],u,f=this;return u=i?i.children("ul").children("li").children("a:contains('"+t+"')"):this.element.is("ul")?this.element.children("li").children("a:contains('"+t+"')"):this.element.children("ul").children("li").children("a:contains('"+t+"')"),u.each(function(){r.push(f.nodeFromElement(n(this).closest("li[data-role=node]")))}),r},nodeByIndex:function(n,t){var i;return i=t?t.children("ul").children().eq(n):this.element.is("ul")?this.element.children().eq(n):this.element.children("ul").children().eq(n)},nodeFromElement:function(n){if(n.length>0)return{path:n.attr("data-path"),element:n,data:this.nodeDataFor(n.attr("data-path")),binding:this._retrieveCurrentDepthBinding(n.parent().attr("data-depth"))}},children:function(t){var r=[],f=this,u,i;if(t&&t.length>0)return i=t.children("ul"),i.length>0&&i.children("li").each(function(){u=n(this),r.push(f.nodeFromElement(u))}),r;throw new Error(this._getLocaleValue("incorrectNodeObject"));},childrenByPath:function(t){var r=this.nodeByPath(t),u=[],e=this,f,i;if(r.length>0)return i=r.children("ul"),i.length>0&&i.children("li").each(function(){f=n(this),u.push(e.nodeFromElement(f))}),u;throw new Error(this._getLocaleValue("incorrectPath")+t);},isSelected:function(n){if(n&&n.length>0)return this._selectedNode[0].path===n.attr("data-path");throw new Error(this._getLocaleValue("incorrectNodeObject"));},isExpanded:function(n){if(n&&n.length>0){var t=n.children("span[data-role=expander]");return t.length>0?t.attr("data-exp")==="true":!1}throw new Error(this._getLocaleValue("incorrectNodeObject"));},isChecked:function(n){if(n&&n.length>0){var t=n.children("span[data-role=checkbox]");return t.length>0?t.attr("data-chk")==="on":!1}throw new Error(this._getLocaleValue("incorrectNodeObject"));},checkState:function(n){if(n&&n.length>0){var t=n.children("span[data-role=checkbox]");if(t.length>0)return t.attr("data-chk")}else throw new Error(this._getLocaleValue("incorrectNodeObject"));},addNode:function(t,i,r){if(r||typeof i!="number"||(r=i,i=null),!t||t.length<=0){i&&i.length>0&&this._updateParentState(i);return}var u,f,c,e,l,o,s,h;if(!i&&(i=this.element.is("ul")?this.element:this.element.children("ul"),i.children().length<=0)){this._addData(t,"",0),this._triggerRendering(t),o=n(this._initChildrenRecursively("",t)).appendTo(i),this.options.dragAndDrop&&this._initDragAndDrop(o),this._triggerRendered(),this.options.dataSource.root().addNode({data:t,parentPath:"",path:o.attr("data-path")});return}c=i.is("li"),u=c?i.children("ul"):i,u.length<=0&&(u=n("<ul data-depth='"+(parseInt(i.parent().attr("data-depth"),10)+1)+"' style='display: none'><\/ul>").appendTo(i)),h=parseInt(u.attr("data-depth"),10),f=c?i.attr("data-path"):"",s=this._retrieveCurrentDepthBinding(h),this.options.checkboxMode.toLowerCase()==="tristate"&&this.isChecked(i)&&this._populateCheckedStates(n.isArray(t)?t:[t],s,"on"),this._addData(t,f,parseInt(u.attr("data-depth"),10)-1,r),this._triggerRendering(t),l=u.children("li").length<=0,r===0?(e=n(this._initChildrenRecursively(f,t,h,u.children("li").length)).prependTo(u),s.hasOwnProperty("primaryKey")||this._recalculatePaths(f)):r?(e=n(this._initChildrenRecursively(f,t,h,u.children("li").length)).insertBefore(u.children("li:eq("+r+")")),s.hasOwnProperty("primaryKey")||this._recalculatePaths(f)):e=n(this._initChildrenRecursively(f,t,h,u.children("li").length)).appendTo(u),c&&l&&this._updateParentState(i),this.options.dragAndDrop&&this._initDragAndDrop(e),this._triggerRendered(),o=[],e.each(function(){o.push(n(this).attr("data-path"))}),this.options.dataSource.root().addNode({data:t,parentPath:f,path:o}),this._trigger("nodeAdded",null,{owner:this,element:e,data:t,index:r,binding:s})},removeAt:function(t){var r=this.nodeByPath(t),e=parseInt(r.parent().attr("data-depth"),10),u,i=this.parentNode(r),f;r.length<=0||(t.indexOf("_remove")!==-1&&(t=t.replace("_remove","")),u=this._retrieveCurrentDepthBinding(e),f={data:n.extend(!1,{},this.nodeDataFor(t)),path:t},this._removeData(t,u),r.remove(),u.hasOwnProperty("primaryKey")||this._recalculatePaths(t),i&&i.children("ul").children("li").length<=0&&this._updateParentState(i),this.options.checkboxMode.toLowerCase()==="tristate"&&i&&this._updateParentCheckbox(i),this.options.dataSource.root().removeNode(f),this._trigger("nodeDeleted",null,{owner:this,data:f.data,path:t}))},removeNodesByValue:function(t){var i=this.nodesByValue(t),r=this;i.each(function(){r.removeAt(n(this).attr("data-path"))})},applyChangesToNode:function(n,t){var i=this.nodeFromElement(n),r;for(r in i.data)i.data.hasOwnProperty(r)&&this._replaceUIValue(i,t,r)},transactionLog:function(){return this.options.dataSource.root().pendingTransactions()},_triggerSelectionChanging:function(n,t){var i={owner:this,selectedNodes:this._selectedNode,newNodes:[this._constructNodeObject(t)]};return this._trigger(this.events.selectionChanging,n,i)},_triggerSelectionChanged:function(n){var t={owner:this,selectedNodes:this._selectedNode,newNodes:this._selectedNode};this._trigger(this.events.selectionChanged,n,t)},_triggerNodeCollapsing:function(n,t){var i={owner:this,node:t};return this._trigger(this.events.nodeCollapsing,n,i)},_triggerNodeCollapsed:function(n,t){var i={owner:this,node:t};this._trigger(this.events.nodeCollapsed,n,i)},_triggerNodeExpanding:function(n,t){var i={owner:this,node:t};return this._trigger(this.events.nodeExpanding,n,i)},_triggerNodeExpanded:function(n,t){var i={owner:this,node:t};this._trigger(this.events.nodeExpanded,n,i)},_triggerNodePopulating:function(n,t){var i=this._constructNodeObject(t);return this._trigger(this.events.nodePopulating,n,i)},_triggerNodePopulated:function(n,t){var i=this._constructNodeObject(t);this._trigger(this.events.nodePopulated,n,i)},_triggerNodeCheckstateChanging:function(n,t){var i=t.data[t.binding.checkedKey],r={owner:this,node:t,currentState:i,newState:i==="off"?"on":"off",currentCheckedNodes:this.checkedNodes()};return this._trigger(this.events.nodeCheckstateChanging,n,r)},_triggerNodeCheckstateChanged:function(n,t){var i=t.data[t.binding.checkedKey],r={owner:this,node:t,newState:i,newCheckedNodes:this.checkedNodes(),newPartiallyCheckedNodes:this.partiallyCheckedNodes()};return this._trigger(this.events.nodeCheckstateChanged,n,r)},_triggerNodeClick:function(n,t){var i={owner:this,node:this._constructNodeObject(t)};return this._trigger(this.events.nodeClick,n,i)},_triggerNodeDoubleClick:function(n,t){var i=this._constructNodeObject(t);return this._trigger(this.events.nodeDoubleClick,n,i)},_triggerDataBinding:function(){var n={owner:this};this._trigger(this.events.dataBinding,null,n)},_triggerDataBound:function(n){var t={owner:this,dataView:n};this._trigger(this.events.dataBound,null,t)},_triggerRendering:function(n){var t={owner:this,dataView:n};this._trigger(this.events.rendering,null,t)},_triggerRendered:function(){var n={owner:this};this._trigger(this.events.rendered,null,n)},_triggerDragStart:function(t,i,r){var f=this._constructNodeObject(r),u=n.extend(!1,f,i);return u.owner=this,this._trigger(this.events.dragStart,t,u)},_triggerDrag:function(t,i,r){var f=this._constructNodeObject(r),u=n.extend(!1,f,i);return u.owner=this,this._trigger(this.events.drag,t,u)},_triggerDragStop:function(t,i){var r=n.extend({owner:this},i);this._trigger(this.events.dragStop,t,r)},_triggerNodeDropping:function(t,i,r,u){var f=this._constructNodeObject(r),e,o;return f.targetIndex=u,f.originalIndex=i.draggable.index(),o=this._sourceNode.element.parent().attr("data-depth")===r.parent().attr("data-depth")&&f.targetIndex>f.originalIndex?-1:0,f.targetIndex+=o,e=n.extend(!1,f,i),e.owner=this,e.sourceNode=this._sourceNode,this._trigger(this.events.nodeDropping,t,e)},_triggerNodeDropped:function(t,i,r){var f=this._constructNodeObject(r),u=n.extend(!1,f,i);u.owner=this,u.sourceNode=this._sourceNode,this._trigger(this.events.nodeDropped,t,u)},_constructNodeObject:function(n){var t=this.nodeDataFor(n!==null?n.attr("data-path"):null);return{path:n!==null?n.attr("data-path"):null,element:n!==null?n:null,data:t,binding:n!==null?this._retrieveCurrentDepthBinding(parseInt(n.parent().attr("data-depth"),10)):null}},nodeDataFor:function(n){if(n){for(var u=n.split(this.options.pathSeparator),t=this.options.dataSource.root().data(),r,i=this.options.bindings,e,f=0;f<u.length-1;f++){if(i.hasOwnProperty("primaryKey")){for(r=0;r<t.length;r++)if(t[r].hasOwnProperty(i.primaryKey)&&(e=typeof t[r][i.primaryKey]=="function"?t[r][i.primaryKey]():t[r][i.primaryKey],e.toString()===u[f].toString())){t=typeof t[r][i.childDataProperty]=="function"?t[r][i.childDataProperty]():t[r][i.childDataProperty];break}}else t[parseInt(u[f],10)]&&(t=typeof t[parseInt(u[f],10)][i.childDataProperty]=="function"?t[parseInt(u[f],10)][i.childDataProperty]():t[parseInt(u[f],10)][i.childDataProperty]);i.hasOwnProperty("bindings")&&(i=i.bindings)}if(!i.hasOwnProperty("primaryKey")&&t.length)t=t[parseInt(u[u.length-1],10)];else for(r=0;r<t.length;r++)if(t[r].hasOwnProperty(i.primaryKey)&&(e=typeof t[r][i.primaryKey]=="function"?t[r][i.primaryKey]():t[r][i.primaryKey],e.toString()===u[f].toString())){t=t[r];break}return typeof t=="function"&&(t=t()),t}},destroy:function(){return this._superApply(arguments),this.element.undelegate(),this.element.removeClass(this.css.tree),this.element.removeClass(this.css.treeCollection),this.element.removeClass(this.css.treeRoot),this.options.width&&this.element.css("width",""),this.options.height&&this.element.css("height",""),this.options.dragAndDrop&&this._destroyDragAndDrop(),this.element.removeAttr("data-depth"),this.element.removeAttr("data-scroll"),this.element.empty(),this}}),n.extend(n.ui.igTree,{version:"19.2.25"})}(n),function(n){var i,t=function(n){return n===null||n===undefined};n.widget("ui.igGrid",n.ui.igWidget,{css:{baseClass:"ui-widget ui-helper-clearfix ui-corner-all",baseContentClass:"ui-widget-content",gridClasses:"ui-iggrid",recordClass:"ui-ig-record ui-iggrid-record",recordAltClass:"ui-ig-altrecord ui-iggrid-altrecord",headerClass:"ui-iggrid-header ui-widget-header",headerTextClass:"ui-iggrid-headertext",headerCellFeatureEnabledClass:"ui-iggrid-headercell-featureenabled",baseHeaderClass:"ui-widget-header",gridTableClass:"ui-iggrid-table ui-widget-content",mrlGridTableClass:"ui-iggrid-table-mrl ui-widget-content",mrlGridHeaderScrollableTableClass:"ui-iggrid-headertable-mrl-scrollable",gridHeaderTableClass:"ui-iggrid-headertable",mrlGridHeaderTableClass:"ui-iggrid-headertable-mrl",gridFooterTableClass:"ui-iggrid-footertable ui-widget-footer",gridFooterClass:"",gridHeaderCaptionClass:"ui-iggrid-headercaption ui-widget-header ui-corner-top",gridTableBodyClass:"ui-iggrid-tablebody",gridScrollDivClass:"ui-iggrid-scrolldiv ui-widget-content",gridVirtualScrollDivClass:"ui-iggrid-virtualscrolldiv",deletedRecord:"ui-iggrid-deletedrecord",modifiedRecord:"ui-iggrid-modifiedrecord",rtl:"ui-iggrid-rtl",gridScrollbarsWrapper:"iggrid-scrollbars-wrapper",gridMeasurementContainerClass:"ui-iggrid-measurement-container"},options:{locale:null,width:null,height:null,autoAdjustHeight:!0,avgRowHeight:25,avgColumnWidth:null,defaultColumnWidth:null,autoGenerateColumns:!0,virtualization:!1,virtualizationMode:"fixed",rowVirtualization:!1,columnVirtualization:!1,virtualizationMouseWheelStep:null,adjustVirtualHeights:!1,templatingEngine:"infragistics",columns:[{headerText:null,key:null,formatter:null,format:null,dataType:"string",width:null,hidden:!1,template:null,unbound:!1,groupOptions:{expanded:!0,allowGroupCollapsing:!1,hidden:"never"},group:[],dateDisplayType:"local",rowspan:0,formula:null,unboundValues:null,headerCssClass:null,columnCssClass:null,mapper:null,rowIndex:null,columnIndex:null,navigationIndex:null,colSpan:1,rowSpan:1}],dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseTotalRecCountKey:null,requestType:"GET",responseContentType:"application/json; charset=utf-8",showHeader:!0,showFooter:!0,fixedHeaders:!0,fixedFooters:!0,caption:null,features:[{name:null}],tabIndex:0,localSchemaTransform:!0,primaryKey:null,serializeTransactionLog:!0,autoCommit:!1,aggregateTransactions:!1,autoFormat:"date",renderCheckboxes:!1,updateUrl:null,restSettings:{create:{url:null,template:null,batch:!1},update:{url:null,template:null,batch:!1},remove:{url:null,template:null,batch:!1},encodeRemoveInRequestUri:!0,contentSerializer:null,contentType:"application/json; charset=utf-8"},alternateRowStyles:!0,autofitLastColumn:!0,enableHoverStyles:!0,enableUTCDates:!1,mergeUnboundColumns:!1,jsonpRequest:!1,enableResizeContainerCheck:!0,featureChooserIconDisplay:"desktopOnly",scrollSettings:{scrollTop:0,scrollLeft:0,wheelStep:50,smoothing:!1,smoothingStep:1,smoothingDuration:1,inertiaStep:1,inertiaDuration:1}},events:{cellClick:"cellClick",cellRightClick:"cellRightClick",dataBinding:"dataBinding",dataBound:"dataBound",rendering:"rendering",rendered:"rendered",dataRendering:"dataRendering",dataRendered:"dataRendered",headerRendering:"headerRendering",headerRendered:"headerRendered",captionRendering:"captionRendering",captionRendered:"captionRendered",footerRendering:"footerRendering",footerRendered:"footerRendered",headerCellRendered:"headerCellRendered",rowsRendering:"rowsRendering",rowsRendered:"rowsRendered",schemaGenerated:"schemaGenerated",columnsCollectionModified:"columnsCollectionModified",requestError:"requestError",created:"igcontrolcreated",destroyed:"igcontroldestroyed"},resizeTimeout:300,maxScrollContainerHeight:10737418,cloneChildElements:!1,widget:function(){return this.element},_persistVirtualScrollTop:!1,_createWidget:function(t){var i;this.options.columns=null,this.options.features=null,t&&(t.dataSource&&(n.type(t.dataSource)==="array"||n.type(t.dataSource)==="object")&&(this.tmpDataSource=t.dataSource,t.dataSource=null,this._originalOptions=t),t.autoGenerateColumns===undefined&&(i=t.columns,n.type(i)==="array"&&i.length&&(t.autoGenerateColumns=!1))),this._superApply(arguments)},_execSetOptionCallbacks:function(n,t){for(var r=this._setOptionCallbacks||[],u=r.length,i=0;i<u;i++)r[i].func(n,t)},_showHideHeader:function(t){var i=this.headersTable(),r=this.hasFixedColumns()?this.fixedHeadersTable():n();i.length&&i.is("table")&&!i.find("tbody").length||(i=this.element.find("thead tr"),r=r.find("thead>tr")),t?(i.show(),r.show()):(i.hide(),r.hide())},_setOptionsForFeatures:function(n){for(var t,u=this.options.features,f,r,i=0;i<u.length;i++)t=u[i],t&&t.name&&(f=this.element.data("igGrid"+t.name),f._setOptions(n));r=this.element.data("igGridFeatureChooser"),r&&r._setOptions(n)},_getAllFormattedColumns:function(){return this.options.columns.filter(function(n){if(n.formatted)return n})},_getRenderedDataRecords:function(n){n=n||this._getDataView()||[];var i=this.options,t,r;if(i.virtualization||i.rowVirtualization){if(i.virtualizationMode==="continuous"?(r=this.element.find(">tbody>tr[data-row-idx]").last(),t=r.attr("data-row-idx"),t=parseInt(t,10)):t=this._startRowIndex+this.element.find(">tbody>tr").length-1,!t)return[];n=n.slice(this._startRowIndex,t+1)}return n=n.filter(function(n){return!n.__gbRecord&&!n.__gbSummaryRecord})},changeRegional:function(){var n=this._getRenderedDataRecords();n.length&&(this._setOptionsForFeatures({regional:this.options.regional}),this._getAllFormattedColumns().forEach(function(t){this._renderColumnData(t.key,n)},this))},_changeLanguage:function(n){this.options.language=n,this._setOptionsForFeatures({language:n})},_setOption:function(t,i){var u,f,e,r,o=n.type(i),s=this.options.virtualization||this.options.rowVirtualization||this.options.columnVirtualization;if(i!==this.options[t]||o==="array"||o==="object"){if(r=this.options[t],u=this.options.height!==null||this.options.width!==null,t==="columns"){this.renderMultiColumnHeader(i);return}if(t==="scrollSettings"&&(i=n.extend(this.options.scrollSettings,i)),t==="language")return this._changeLanguage(i),this;if(this._super(t,i),t==="virtualization"||t==="autoGenerateColumns"||t==="rowVirtualization"||t==="columnVirtualization"||t==="fixedHeaders"||t==="scrollbars")throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",t));if(this._execSetOptionCallbacks(t,i),t==="width")if(u===!0){if(typeof r=="string"&&r.indexOf("%")!==-1&&this._gridHasWidthInPixels())throw new Error(this._getLocaleValue("widthChangeFromPercentagesToPixelsNotSupported"));else if(!(typeof r=="string"&&r.indexOf("%")!==-1)&&this._gridHasWidthInPercent())throw new Error(this._getLocaleValue("widthChangeFromPixelsToPercentagesNotSupported"));this._setGridWidth(i),this._fireInternalEvent("_gridWidthChanged"),(this.options.virtualization===!0||this.options.rowVirtualization===!0||this.options.columnVirtualization)&&this._vdisplaycontainer().data("igScroll")&&typeof this._vdisplaycontainer().data("igScroll")._onElementMutation=="function"?this._vdisplaycontainer().data("igScroll")._onElementMutation([{attributeName:"style"}]):this.scrollContainer().data("igScroll")&&typeof this.scrollContainer().data("igScroll")._onElementMutation=="function"&&this.scrollContainer().data("igScroll")._onElementMutation([{attributeName:"style"}])}else throw new Error(this._getLocaleValue("optionChangeNotScrollingGrid").replace("{optionName}",t));else if(t==="height")if(u===!0)this.scrollContainer().css("overflow-y","auto"),this.options.autoAdjustHeight?(this.container().css("height",i),this._virtualHeightReset=!0,s&&this.options.virtualizationMode!=="fixed"&&this._saveFirstVisibleTRIndex(),this._initializeHeights()):this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0?(this._vdisplaycontainer().css("height",i),this._scrollContainer().css("height",i),this.element.height(i)):this.scrollContainer().css("height",i),s&&(this.options.virtualizationMode==="fixed"?(this._buildVirtualDom(),this.virtualScrollTo(this._startRowIndex)):(e=this._persistVirtualScrollTop,this._persistVirtualScrollTop=!0,this._renderVirtualRecords(),this._persistVirtualScrollTop=e)),this._fireInternalEvent("_heightChanged");else throw new Error(this._getLocaleValue("optionChangeNotScrollingGrid").replace("{optionName}",t));else t==="dataSource"?(this.options.dataSource=i,this.dataBind(),this._inferOpType()!=="remote"&&this.autoSizeColumns()):t==="showHeader"?this._showHideHeader(i):t==="caption"?(f=this._caption(),f.length===0?(this._renderCaption(),this.options.autoAdjustHeight&&this._initializeHeights()):f.html(i)):t==="alternateRowStyles"?this._renderData():t==="scrollSettings"&&(this.options.virtualization===!0||this.options.rowVirtualization===!0||this.options.columnVirtualization?this._vdisplaycontainer().igScroll("option",i):this.scrollContainer().igScroll("option",i))}},_initialized:!1,_headersInitialized:!1,_footerInitialized:!1,_mouseClickEventHandler:function(t,i){var e=n(t.target),f=e.closest("tr"),o=f.attr("data-id"),r,h,s,l,v,y=e.closest("td").index(),a=f.index(),u=this,c;if((!u.element.closest(".ui-iggrid-root").data("igGrid")||(v=e.closest(this._isMultiRowGrid()?".ui-iggrid-table-mrl":".ui-iggrid-table").data("igGrid"),!v||u.id()===v.id()))&&((o===""||o===null||o===undefined)&&(o=a),s=n(t.target),s.is("td")||(s=n(t.target).closest("td")),r=s.attr("aria-describedBy"),r!==null&&r!==undefined)){for(r=r.split(" "),c=0;c<r.length;c++)r[c].startsWith(this.id()+"_")&&(h=r[c].slice(r[c].indexOf(this.id()+"_")+this.id().length+1));h!==null&&h!==undefined&&(this._isMultiRowGrid()&&(y=this.columnByKey(h).columnIndex),u.hasFixedColumns()&&s.length===1&&(l=u.getColumnByTD(s),l!==null&&(h=l.column.key,y=l.index)),!e.closest("tr").parent().is("thead")&&(e.is("td")||e.closest("td").length===1&&e.closest("td").parent().attr("data-container")!=="true")&&(f.is("[data-summaryrow]")||(o=u._fixPKValue(o)),u.hasFixedColumns()&&(f=u._isFixedElement(f)?f.add(this.rowAt(a)):f.add(this.fixedRowAt(a))),u._trigger(i,t,{rowIndex:a,rowKey:o,row:f,colIndex:y,colKey:h,cellElement:s[0],owner:u})))}},_create:function(){var r=this,t,u,i;for(this._mouseClickEventHandlers={click:function(n){r._mouseClickEventHandler(n,r.events.cellClick)},contextmenu:function(n){r._mouseClickEventHandler(n,r.events.cellRightClick)}},this._isHierarchicalGrid=!1,this._hasUnboundColumns=!1,this.requiresDataBinding=!0,this.options._isHierarchicalGrid===!0&&(this._isHierarchicalGrid=!0),this.cloneChildElements&&this.element.is("table")&&this.element.children().length>0&&(this._initialChildren=this.element.children().clone(!0)),this._initialAttributes=[],i=this.element[0].attributes,t=0;t<i.length;t++)i[t].name!=="id"&&this._initialAttributes.push({name:i[t].name,value:i[t].value});if(this._rtl=this.element[0].style.direction==="rtl",this._padding=this._rtl?"padding-left":"padding-right",this.tmpDataSource!==null&&this.tmpDataSource!==undefined&&(this.options.dataSource=this.tmpDataSource,this._originalOptions.dataSource=this.tmpDataSource),this._testInnerHtml(),this._setOptionCallbacks=[],this._headerInitCallbacks=[],this._footerInitCallbacks=[],this._cellStyleSubscribers=[],this._firstBind=!0,this._isMultiColumnGrid=!1,this._unboundValues={},this.options.columns||(this.options.columns=[]),this.options.features||(this.options.features=[]),this._isMultiColumnHeader()===!0&&(this._isMultiColumnGrid=!0,this._generateColumnFlatStructure(this.options.columns),this._headerCells=[]),this.options.rowVirtualization===!0&&this.options.virtualizationMode==="continuous"&&(this.options.virtualization=!0),this.options.columnVirtualization===!0){if(this.options.virtualization=!0,this.options.virtualizationMode==="continuous")throw new Error(this._getLocaleValue("colVirtualizationDenied"));this.options.virtualizationMode="fixed"}else this.options.virtualization&&this.options.virtualizationMode==="continuous"&&(this.options.rowVirtualization=!0);if((this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0)&&((this.options.virtualizationMode===undefined||this.options.virtualizationMode==="")&&(this.options.virtualizationMode="fixed"),this.options.virtualizationMode==="fixed"&&(this.options.fixedHeaders=!0,this.options.fixedFooters=!0)),this.options.virtualization===!0||this.options.rowVirtualization===!0){if(this.options.defaultColumnWidth==="*")throw new Error(this._getLocaleValue("virtualizationNotSupportedWithAutoSizeCols"));for(t=0;t<this.options.columns.length;t++)if(this.options.columns[t].width==="*")throw new Error(this._getLocaleValue("virtualizationNotSupportedWithAutoSizeCols"));}for(this.options.virtualization===!0&&this.options.virtualizationMode==="continuous"&&(this.options.fixedHeaders=!0),(this.options.height===null||parseInt(this.options.height,10)<=0)&&this.options.fixedHeaders===!0&&(this.options.fixedHeaders=!1),(this.options.height===null||parseInt(this.options.height,10)<=0)&&this.options.fixedFooters===!0&&(this.options.fixedFooters=!1),this._analyzeMultiRowLayout(),this.dataBind(!0),this.element.bind(this._mouseClickEventHandlers),this.options.enableResizeContainerCheck&&(this.options.height!==null&&this.options.height.indexOf&&this.options.height.indexOf("%")!==-1||this.options.width!==null&&this.options.width.indexOf&&this.options.width.indexOf("%")!==-1||!this.element.is(":visible"))&&(this.element.is(":visible")||(this._recheckVisibility=!0),n.ig.util.isIE&&(u=this.container(),u.length>0&&u[0].attachEvent&&(this._resizeContainerHandler=n.proxy(this.resizeContainer,this),u[0].attachEvent("onresize",this._resizeContainerHandler))),this._resizeContainerHandler||(this._resId=setInterval(n.proxy(this.resizeContainer,this),this.resizeTimeout))),t=0;t<this.options.columns.length;t++)this.options.columns[t].hidden===undefined&&(this.options.columns[t].hidden=!1);this._uiSoftDirtyHandler=n.proxy(this._onFeaturesSoftDirty,this),this.element.bind("iggriduisoftdirty",this._uiSoftDirtyHandler),this._oldScrollTop=0,this.element.trigger(this.events.created,{owner:this}),this._rtl&&this.container().addClass(this.css.rtl)},_getSortingExpressionsManager:function(){return this._seMngr?this._seMngr:this._seMngr=new n.ig.SortingExpressionsManager({grid:this})},_fixPKValue:function(n){var r,i,u=this.options.primaryKey;return t(n)?null:(u?(r=this.columnByKey(u),r&&r.dataType?(r.dataType==="number"||r.dataType==="numeric")&&(n=parseInt(n,10)):(i=this.dataSource._data,i&&i.length>0&&typeof i[0][u]=="number"&&(n=parseInt(n,10)))):(i=this.dataSource._data,i&&i.length>0&&typeof i[0].ig_pk=="number"&&(n=parseInt(n,10))),n)},hasFixedDataSkippedColumns:function(){return!!this._hasFixedDataSkippedColumns},hasFixedColumns:function(){return this._hasFixedColumns},fixingDirection:function(){return this._fixingDirection},isFixedColumn:function(t){var i=!1,u=n.type(t),r;if(!this.hasFixedColumns())return!1;if(u==="string")n.each(this._fixedColumns,function(n,r){if(r.key===t)return i=!0,!1});else if(u==="number"){if(r=this._visibleColumns(),t<0||t>=r.length)return!1;i=r[t].fixed===!0}return i},_onFixedColumnsChanged:function(n){this._fireInternalEvent("_fixedColumnsChanged",n)},_onGroupedColumnsChanging:function(n){this._fireInternalEvent("_groupedColumnsChanging",{groupedColumns:n})},_onGroupedColumnsChanged:function(n){this._fireInternalEvent("_groupedColumnsChanged",{groupedColumns:n})},_testInnerHtml:function(){var n=document.createElement("table");try{n.innerHTML="<tr><td> t <\/td><\/tr>",this._canreplaceinner=!0}catch(t){this._canreplaceinner=!1}},resizeContainer:function(){var n,t=this.options,r=!1,i=t.virtualization===!0||t.rowVirtualization===!0||t.columnVirtualization===!0;if(this._recheckVisibility&&this.element.is(":visible")&&(this._prevContainerHeight=0,r=!0,this._recheckVisibility=!1,!this._resId||this.options.height!==null&&this.options.height.indexOf&&this.options.height.indexOf("%")!==-1||this.options.width!==null&&this.options.width.indexOf&&this.options.width.indexOf("%")!==-1||clearInterval(this._resId)),t.autoAdjustHeight&&this.container().height()!==this._prevContainerHeight&&(this._initializeHeights(),i&&r&&(this._avgRowHeight=null,this.container().find("#"+this.id()+" > tbody > tr:not([data-container]):visible:first").length||(delete this._virtualDom,this._renderVirtualRecords()),this._updateVirtualScrollContainer(),this._onVirtualVerticalScroll())),t.width!==null&&t.height!==null){if(n=i===!1?this.scrollContainer().width():this._vdisplaycontainer().width()+this._scrollbarWidth(),!n)return;this._gridInnerWidth!==n&&(this._gridInnerWidth>0||n>0)&&(this._gridInnerWidth=n,this._updateHScrollbarVisibility()),i===!1&&this.scrollContainer().get(0).scrollHeight>this.scrollContainer().get(0).clientHeight!==this._hasVerticalScrollbar&&this._adjustLastColumnWidth()}},_isMultiColumnHeader:function(){for(var t=this.options.columns,n=0;n<t.length;n++)if(t[n].group!==undefined&&t[n].group!==null)return!0;return!1},isGroupHeader:function(n){return this._isMultiColumnGrid&&!this.columnByKey(n)?!0:!1},_analyzeColumnByKey:function(i){if(t(i))return null;var r,e=this.isGroupHeader(i),u=e?this._getMultiHeaderColumnById(i).children:[this.columnByKey(i)],o=this._getColumnInfo(u[0].key,this.options.columns),f=this._isMultiColumnGrid?this._getColumnInfo(i):null;return r={key:i,vIndex:this.getVisibleIndexByKey(u[0].key,!0),vIndexNonDataCols:this.getVisibleIndexByKey(u[0].key,!1),dIndex:o.index,children:u,colObj:o.column},f&&(r=n.extend(r,{dMCHIndex:f.index,colMCHObj:f.column,isGroupHeader:e})),r},_analyzeColumnMovingObjects:function(n,t,i,r){var h=this._isMultiColumnGrid,f,c,s=this.options.columns,l,u={dIndex:-1,dMCHIndex:-1,vIndex:-1},o=this.fixingDirection()==="left",e=this._analyzeColumnByKey(t),a={from:this._analyzeColumnByKey(n),at:u,target:e};if(e)u.dIndex=i?e.dIndex+e.children.length:e.dIndex,u.vIndex=i?e.vIndex+e.children.length:e.dIndex,h&&(u.dMCHIndex=i?e.dMCHIndex+1:e.dMCHIndex);else if(l=s.filter(function(n){return n.hidden&&n.fixed})||[],c=this._fixedColumns||[],r){if(u.dIndex=o?c.length+l.length:s.length,u.vIndex=this.getVisibleIndexByKey(s[u.dIndex],!0),h){for(f=0;f<this._oldCols.length;f++)if(u.dMCHIndex=f,!this._oldCols[f].fixed&&o||this._oldCols[f].fixed&&!o){u.dMCHIndex=f;break}u.dMCHIndex=o?u.dMCHIndex:u.dMCHIndex+1}}else if(u.dIndex=o?c.length-a.from.children.length-1:0,u.vIndex=this.getVisibleIndexByKey(s[u.dIndex],!0),h)for(f=0;f<this._oldCols.length;f++)if(!this._oldCols[f].fixed&&o||this._oldCols[f].fixed&&!o){u.dMCHIndex=f-1;break}return a},_analyzeMultiColumnHeaders:function(n,t,i,r,u,f){for(var o,h,y=n.length,c=0,l=[],s=[],a,v,e=0;e<y;e++)if(n[e].group!==undefined&&n[e].group!==null){for(a=n[e].key!==undefined&&n[e].key!==null?n[e].key.toString():(this._multiColumnIdentifier++).toString(),n[e].identifier||(n[e].identifier=a),s=[],v=!1,(f===!0||n[e].hidden===!0)&&(v=!0),h=this._analyzeMultiColumnHeaders(n[e].group,t,i+1,r[e].group,s,v),r[e].colspan=h.colspan,r[e].children=s,o=0;o<s.length;o++)u.push(s[o]);l.push(e),c+=h.colspan}else c++,r[e].level=0,r[e].level0=!0,f===!0&&(n[e].hidden=!0),u.push(n[e]),t.push(n[e]);for(o=0;o<l.length;o++)r[l[o]].level=this._maxLevel-i;return{colspan:c}},_analyzeMultiRowLayout:function(){var t,i,o,f=this.options.columns,s,h,l,r,c,a=!1,e,u;if(f.length){for(t=0;t<f.length;t++)if(s=f[t].rowIndex,h=f[t].columnIndex,h===null||s===null||isNaN(+s)||isNaN(+h))return;for(this._rlm=[],t=0;t<f.length;t++)this._addColumnToLayout(f[t]),f[t].width&&(a=!0);for(this._mrl=n.extend(!0,[],this._rlm),r=this._mrl,t=0;t<r.length;t++)for(i=0;i<r[t].length;i++)if(!r[t][i])throw new Error(this._getLocaleValue("multiRowLayoutNotComplete"));for(a&&this._analyzeMCLWidths(),this._rlp=[],t=0;t<r.length;t++)for(this._rlp.push([]),i=0;i<r[t].length;i++)r[t][i]&&n.type(r[t][i])==="string"&&(l=this.columnByKey(r[t][i]),c=this._getSizeOfMultiSpanCol(t,i,r),this._rlp[t].push({col:l,rs:c.rs,cs:c.cs}));for(this._maxCols=this._rlm[0].length,e=Array.apply(null,new Array(f.length)).map(function(){return null}),t=0;t<this._rlp.length;t++)for(i=0;i<this._rlp[t].length;i++)u=this._rlp[t][i].col.navigationIndex,n.type(u)==="number"&&u<e.length&&u>=0&&(e[u]?delete this._rlp[t][i].col.navigationIndex:e[u]=1);for(o=0,t=0;t<this._rlp.length;t++)for(i=0;i<this._rlp[t].length;i++)if(u=this._rlp[t][i].col.navigationIndex,n.type(u)!=="number"||!e[u]){while(e[o]&&o<e.length)o++;this._rlp[t][i].col.navigationIndex=o++}}},_analyzeMCLWidths:function(){var u=this._rlm,r,t,i,e,o,s,f=!1;for(this._colGroupWidths=[],f=this._checkForPercentageWidths(),r=0;r<u.length;r++)for(t=0;t<u[r].length;t++)e=u[r][t],i=this.columnByKey(e),i.width===undefined&&(i.width=this._resolveWidth(i)),s=i.colSpan?i.colSpan:1,s===1&&(this._colGroupWidths[i.columnIndex]=i.width);for(f&&n(this.options.columns).each(function(){this.width&&(typeof this.width!="string"||!this.width.contains("%"))&&(this.width=parseInt(this.width)+"%")}),t=0;t<u[0].length;t++){if(!this._colGroupWidths[t])for(r=0;r<u.length;r++)i=this.columnByKey(u[r][t]),i.width&&(o===undefined||o<i.colSpan)&&(this._colGroupWidths[t]=parseInt(i.width)/i.colSpan);f&&this._colGroupWidths[t]&&(typeof this._colGroupWidths[t]!="string"||!this._colGroupWidths[t].contains("%"))&&(this._colGroupWidths[t]=parseInt(this._colGroupWidths[t])+"%")}},_checkForPercentageWidths:function(){var t=!1,i=!1;if(n(this.options.columns).each(function(){this.width&&(typeof this.width=="string"&&this.width.contains("%")?t=!0:(this.width&&typeof this.width=="number"||this.width.contains("px"))&&(i=!0))}),i&&t)throw new Error(this._getLocaleValue("multiRowLayoutMixedWidths"));return t},_resolveWidthMultiCol:function(t,i){for(var o,r=[],f,a=this._rlm,s,h,e,v,l,c,u=0;u<t.colSpan;u++){for(h=0;h<a.length;h++)if(h!==t.rowIndex&&(f=this.columnByKey(a[h][t.columnIndex+u]),f.width&&i!==f.key))if(this._colGroupWidths[t.columnIndex+u])r[u]=this._colGroupWidths[t.columnIndex+u];else{if(f.colSpan===1){r[u]=parseInt(f.width),this._colGroupWidths[t.columnIndex+u]=r[u];break}for(s=0,e=f.columnIndex;e<f.columnIndex+f.colSpan;e++)if(e!==t.columnIndex+u)if(o={key:f.key+e,rowIndex:f.rowIndex,columnIndex:e,colSpan:1},o.width=this._resolveWidth(o,t.key),o.width)s+=parseInt(o.width);else{s=0,r[u]=null;break}s>0?(this._colGroupWidths[t.columnIndex+u]=parseInt(f.width)-s,r[u]=this._colGroupWidths[t.columnIndex+u]):r[u]=null}r[u]===undefined&&(r[u]=null)}return v=n(r).filter(function(n){return r[n]===null||r[n]===undefined}),v.length===1&&(l=0,n(r).each(function(n){r[n]!==undefined&&r[n]!==null?l+=parseInt(r[n]):c=n}),r[c]=parseInt(t.width)-l,this._colGroupWidths[t.columnIndex+c]=r[c]),r},_resolveWidth:function(n,t){var h=this._rlm,c=n.colSpan===undefined||n.colSpan===null?1:n.colSpan,y=n.columnIndex,v=n.rowIndex,l=0,e=0,u,o,s=0,r,i,f,a=null;if(n.width!==undefined)return n.width;if(n.colSpan===1&&this._colGroupWidths[n.columnIndex])return this._colGroupWidths[n.columnIndex];for(l=0;l<h.length;l++)if(l!==v&&(r=this.columnByKey(h[l][y]),r.colSpan=r.colSpan===undefined||r.colSpan===null?1:r.colSpan,r.width&&t!==r.key))if(f=this._getCommonColIndexes(n,r),r.colSpan===c&&f.length===r.colSpan){a=r.width;break}else if(f.length<r.colSpan&&f.length===c){for(o=0,e=r.columnIndex;e<r.columnIndex+r.colSpan;e++)if(h[v][e]!==n.key){if(i=this.columnByKey(h[v][e]),i.colSpan=i.colSpan===undefined||i.colSpan===null?1:i.colSpan,u=i.width,!u){if(t===i.key||(u=this._resolveWidth(i,n.key),!u))return null;i.width=u}if(i.colSpan&&(e+=i.colSpan-1),f=this._getCommonColIndexes(r,i),f.length!==i.colSpan&&f.length>0){if(u=this._calcCommonPartSum(i,f,t),!u)return null;s+=this._getCommonColIndexes(n,r).length}else s+=this._getCommonColIndexes(n,r).length;if(!u)break;o+=parseInt(u,10)}if(o!==0&&s===r.colSpan-f.length){a=parseInt(r.width)-o;break}}else if(f.length<c&&r.colSpan===f.length){for(o=0,s=0,e=n.columnIndex;e<n.columnIndex+n.colSpan;e++){if(i=this.columnByKey(h[r.rowIndex][e]),i.colSpan=i.colSpan===undefined||i.colSpan===null?1:i.colSpan,u=i.width,!u){if(u=this._resolveWidth(i,n.key),!u)continue;i.width=u}if(i.colSpan&&(e+=i.colSpan-1),f=this._getCommonColIndexes(n,i),f.length!==i.colSpan&&f.length>0)if(t!==r.key&&t!==i.key){if(u=this._calcCommonPartSum(i,f,t),!u)break;s+=f.length}else break;else s+=i.colSpan;if(!u)break;o+=parseInt(u,10)}if(o!==0&&s===c){a=o;break}}else if(f.length<c&&f.length<r.colSpan){if(s=0,o=this._calcCommonPartSum(r,f,t),!o)return null;for(s+=f.length,e=n.columnIndex;e<n.columnIndex+n.colSpan;e++)if(i=this.columnByKey(h[r.rowIndex][e]),i.colSpan=i.colSpan===undefined||i.colSpan===null?1:i.colSpan,i.key!==r.key){if(u=i.width,!u){if(u=this._resolveWidth(i,n.key),!u)continue;i.width=u}if(f=this._getCommonColIndexes(n,i),f.length!==i.colSpan&&f.length>0)if(t!==r.key&&t!==i.key){if(u=this._calcCommonPartSum(i,f,t),u===null)return null;s+=f.length}else break;else s+=i.colSpan;if(!u)break;if(o+=parseInt(u,10),o!==0&&s===c){a=o;break}}}return a},_getCommonColIndexes:function(n,t){var r=this._rlm,u=[],i;if(n.colSpan===1&&r[t.rowIndex][n.columnIndex]===t.key)return u[0]=n.columnIndex,u;for(i=0;i<r[n.rowIndex].length;i++)r[n.rowIndex][i]===n.key&&r[t.rowIndex][i]===t.key&&u.push(i);return u},_calcCommonPartSum:function(n,t,i){var u=0,r,e,o=!1,f=this._resolveWidthMultiCol(n,i);if(f.length!==n.colSpan)return null;for(r=0;r<t.length;r++)if(e=f[t[r]-n.columnIndex],e)u+=parseInt(e,10);else{u=0,o=!0;break}if(o){for(u=0,r=0;r<f.length;r++)t.contains(r+n.columnIndex)||(u+=f[r]);u&&(u=n.width-u)}return u},_addColumnToLayout:function(n){var i=this._rlm,t,r,u,f,e,o,s;if(u=i.length?i[0].length:0,o=n.colSpan?n.colSpan:1,s=n.rowSpan?n.rowSpan:1,f=n.columnIndex+o-1,e=n.rowIndex+s-1,e>=i.length)for(t=i.length-1;++t<=e;)i.push(Array.apply(null,new Array(u)).map(function(){return null}));if(f>=u)for(t=0;t<i.length;t++)for(r=u;r<=f;r++)i[t].push(null);for(t=n.rowIndex;t<=e;t++)for(r=n.columnIndex;r<=f;r++){if(i[t][r])throw new Error(this._getLocaleValue("multiRowLayoutColumnError").replace("{key1}",n.key).replace("{key2}",i[t][r]));i[t][r]=n.key}return!0},_isMultiRowGrid:function(){return!!this._rlm},_multiRowLayoutRenderingHelper:function(){return this._rlp},getElementInfo:function(t){var f=null,u=null,i=null,r=null;return t instanceof n||(t=n(t)),t.is("td")?(f=this.getColumnByTD(t).column,i=t.parent("tr").index()+(this._startRowIndex||0),r=parseInt(i/this._recordVerticalSize(),10),this.options.primaryKey&&(u=this.dataSource.getCellValue(this.options.primaryKey,this._getDataView()[r]))):t.is("tr")&&(i=t.index()+(this._startRowIndex||0)-t.prevAll("[data-container='true']").length,r=parseInt(i/this._recordVerticalSize(),10),this.options.primaryKey&&(u=this.dataSource.getCellValue(this.options.primaryKey,this._getDataView()[r]))),{column:f,rowId:u,rowIndex:i,recordIndex:r}},_recordHorizontalSize:function(){return this._rlm&&this._rlm.length?this._rlm[0].length:this._visibleColumns().length},_recordVerticalSize:function(){return this._rlm?this._rlm.length:1},_getRowsByRecordIndex:function(t){for(var r=[],u=this.element.find("tbody")[0],i=0;i<this._recordVerticalSize();i++)r.push(u.rows[t*this._recordVerticalSize()+i]);return n(r)},_getSizeOfMultiSpanCol:function(n,t,i){for(var e=1,o=1,r=n+1,u=t+1,f=i,s=f[n][t];u<f[n].length&&f[n][u]===s;)f[n][u]=-1,e++,u++;while(r<f.length&&f[r][t]===s)f[r][t]=-1,o++,r++;for(r=n+1;r<n+o;r++)for(u=t+1;u<t+e;u++)f[r][u]=-1;return{cs:e,rs:o}},_getMultiHeaderColumnById:function(n,t,i){var r,f,u=null;if(i===null||i===undefined){if(this._oldCols===null||this._oldCols===undefined)return null;i=this._oldCols}for(f=i.length,r=0;r<f;r++){if(i[r].identifier===n&&(t===undefined||i[r].level===t))return i[r];if(i[r].group!==null&&i[r].group!==undefined&&(u=this._getMultiHeaderColumnById(n,t,i[r].group),u!==null))return u}return null},_getMaxLevelRecursive:function(n,t){for(var e=t.length,u=n,r,f,i=0;i<e;i++)f=t[i].rowspan||t[i].rowSpan||1,t[i].group!==undefined&&t[i].group!==null?(r=this._getMaxLevelRecursive(n+f,t[i].group),r>u&&(u=r)):f>0&&(r=n+f-1,r>u&&(u=r));return u},_headerInit:function(n,t,i){for(var r=0;r<this._headerInitCallbacks.length;r++)this._headerInitCallbacks[r].func(n,t,i)},_footerInit:function(n,t,i,r){for(var u=0;u<this._footerInitCallbacks.length;u++)this._footerInitCallbacks[u].func(n,t,i,r)},id:function(){return this.element[0].id},_caption:function(){return this._captionContainer&&this._captionContainer.length!==0||(this._captionContainer=this.container().find("#"+this.id()+"_caption")),this._captionContainer},_rootContainer:function(){var n;return this._rContainer&&this._rContainer.length!==0||(n=this.element.closest(".ui-iggrid-root"),this._rContainer=n.length===1?n.data("igGrid").container():this.container()),this._rContainer},container:function(){return this._container&&this._container.length!==0||(this._container=this.element.closest("div[id="+this.id()+"_container]")),this._container},headersTable:function(){return this.options.fixedHeaders===!0&&this.options.height!==null?this.container().find("#"+this.id()+"_headers"):this.element},footersTable:function(){return this.options.fixedFooters===!0&&this.options.height!==null?this.container().find("#"+this.id()+"_footers"):this.element},scrollContainer:function(){return this.container().children("#"+this.id()+"_scroll")},fixedContainer:function(){return this.container().find("#"+this.id()+"_mainFixedContainer")},fixedBodyContainer:function(){return this.container().find("#"+this.id()+"_fixedBodyContainer")},fixedFooterContainer:function(){return this.container().find("#"+this.id()+"_fixedFooterContainer")},fixedHeaderContainer:function(){return this.container().find("#"+this.id()+"_fixedHeaderContainer")},fixedHeadersTable:function(){return this.options.fixedHeaders===!0&&this.options.height!==null?this.container().find("#"+this.id()+"_headers_fixed"):this.container().find("#"+this.id()+"_fixed")},fixedFootersTable:function(){return this.options.fixedFooters===!0&&this.options.height!==null?this.container().find("#"+this.id()+"_footers_fixed"):this.container().find("#"+this.id()+"_fixed")},_vdisplaycontainer:function(){return this.container().find("#"+this.id()+"_displayContainer")},_virtualcontainer:function(){return this.container().find("#"+this.id()+"_virtualContainer")},_vhorizontalcontainer:function(){return this.container().find("#"+this.id()+"_horizontalScrollContainer")},_fixedfooters:function(){return this.container().find("#"+this.id()+"_footer_container")},cellAt:function(n,t,i){var r,u,f,e;return n===undefined||t===undefined?null:(this.table===undefined&&(this.table=this.element[0]),this._isMultiRowGrid())?(f=this._rlm[t%this._recordVerticalSize()][n],e=parseInt(t/this._recordVerticalSize(),10),this._getCellsByColKey(this._getRowsByRecordIndex(e),f)[0]):(r=this._dataRowIndex(t),i===!0)?(this._fixedTable===undefined&&(this._fixedTable=this.element),this._fixedTable[0].rows[r].cells[n]):(u=this.table.rows[r],!u)?null:u.cells[n]},cellById:function(n,i){var f,e,r,u=this.isFixedColumn(i);return t(n)||t(i)?null:(this.table===undefined&&(this.table=this.element[0]),r=u?this.fixedBodyContainer().find("tbody").first().children("[data-id='"+n+"']"):this.element.children("tbody").children("[data-id='"+n+"']"),this._getCellsByColKey(r,i))},_getCellsByColKey:function(n,t){return n.find("td[aria-describedby~='"+this.id()+"_"+t+"']")},fixedTable:function(){return this._fixedTable===undefined&&(this._fixedTable=this.element),this._fixedTable},_calculateHeaderFooterRows:function(){var t=0,i=0;return t=this.element.children("thead").children("tr").length,n.ig.util.isOpera&&(i=this.element.children("tfoot").children("tr").length),t+i},_dataRowIndex:function(t){var r,i;if(this.table===undefined&&(this.table=this.element[0]),(this._additionalTrCount===undefined||this._additionalTrCount===null)&&(this._additionalTrCount=this._calculateHeaderFooterRows()),this._hc===!0)for(r=this.element.children("tbody").children("tr[data-container]"),i=0;i<r.length;i++)n(r[i]).index()<=t&&(t+=1);return t=t+this._additionalTrCount,t>=this.table.rows.length?t=this.table.rows.length-1:t<0&&(t=0),t},immediateChildrenWidgets:function(){return this.element.children("tbody").children("tr").children(".ui-iggrid-childarea").children("div").children("div").map(function(){return n(this).children(".ui-iggrid-scrolldiv").length>0?n(this).children(".ui-iggrid-scrolldiv").children(".ui-iggrid-table").data("igGrid"):n(this).children(".ui-iggrid-table").data("igGrid")})},childrenWidgets:function(){return this.element.find("tbody > tr > .ui-iggrid-childarea").find(".ui-iggrid-table").map(function(){return n(this).data("igGrid")})},children:function(){return this.element.find("tbody > tr > .ui-iggrid-childarea").find(".ui-iggrid-table")},immediateChildren:function(){return this.element.children("tbody").children("tr").children(".ui-iggrid-childarea").children("div").children("div").map(function(){return n(this).children(".ui-iggrid-scrolldiv").length>0?n(this).children(".ui-iggrid-scrolldiv").children(".ui-iggrid-table"):n(this).children(".ui-iggrid-table")})},rowAt:function(n){return n=this._dataRowIndex(n),this.table.rows[n]},rowById:function(n,i){return t(n)?null:i?this.fixedBodyContainer().find("tbody").first().children("[data-id='"+n+"']"):this.element.children("tbody").children("[data-id='"+n+"']")},fixedRowAt:function(n){var t=this.fixedBodyContainer().find("tbody>tr");return t.length>0?t[n]:null},fixedRows:function(){return this.fixedBodyContainer().find("tbody>tr")},rows:function(){return this.element.children("tbody").children("tr")},allFixedRows:function(){return this.fixedBodyContainer().find("tbody tr")},allRows:function(){return this.element.find("tbody tr")},_getColumnInfo:function(n,t){for(var r=t||this._oldCols||this.options.columns,i=0;i<r.length;i++)if(r[i].key===n||r[i].identifier===n)return{column:r[i],index:i};return null},columnByKey:function(n){for(var i=this.options.columns,t=0;t<i.length;t++)if(String(i[t].key)===String(n))return i[t];return null},columnByText:function(n){for(var i=this.options.columns,t=0;t<i.length;t++)if(i[t].headerText===n)return i[t];return null},selectedCells:function(){return this._selection.settings.owner!==this?[]:this._selection.settings.multipleSelection?this._selection.selectedCells():null},selectedRows:function(){return this._selection.settings.owner!==this?[]:this._selection.settings.multipleSelection?this._selection.selectedRows():null},selectedCell:function(){var n;return this._selection.settings.owner!==this?null:(n=this._selection.selectedCells(),this._selection.settings.multipleSelection?null:n.length===1?n[0]:null)},selectedRow:function(){var n;return this._selection.settings.owner!==this?null:(n=this._selection.selectedRows(),this._selection.settings.multipleSelection?null:n.length===1?n[0]:null)},activeCell:function(){return this._selection instanceof n.ig.SelectedRowsCollection?null:this._selection.settings.owner!==this?null:this._selection.activeCell()},activeRow:function(){return this._selection instanceof n.ig.SelectedCellsCollection?null:this._selection.settings.owner!==this?null:this._selection.activeRow()},getCellValue:function(t,i){var o=parseInt(t,10),r,e=this.options.columns,h=!1,f,s,u;if(u=this.dataSource.pendingTransactions(),this.options.autoCommit===!1&&u.length>0)for(r=0;r<u.length;r++)if(u[r].rowId===t){if(u[r].type==="cell"&&u[r].col===i)return f=n.extend(!0,{},this.dataSource.findRecordByKey(t)),f[i]=u[r].value,this.dataSource.getCellValue(i,f);if(u[r].type==="row"||u[r].type==="newrow")return this.dataSource.getCellValue(i,u[r].row)}if(n.type(i)==="string"){for(r=0;r<e.length;r++)if(e[r].key===i){h=!0;break}if(h===!1)throw new Error(this._getLocaleValue("noSuchColumnDefined"));}if(this.options.primaryKey!==null){if(s=this.columnByKey(this.options.primaryKey),f=s.dataType==="number"||s.dataType==="numeric"?this.dataSource.findRecordByKey(parseInt(t,10)):this.dataSource.findRecordByKey(t),f===null||f===undefined)throw new Error(this._getLocaleValue("recordNotFound").replace("{id}",t));return this.dataSource.getCellValue(i,f)}if(o>=this._getDataView().length)throw new Error(this._getLocaleValue("indexOutOfRange").replace("{max}",this._getDataView().length));if(n.type(i)==="string")return this.dataSource.getCellValue(i,this._getDataView()[o]);if(e.length<=i)throw new Error(this._getLocaleValue("columnIndexOutOfRange").replace("{max}",e.length));return this.dataSource.getCellValue(i,this._getDataView()[o])},getCellText:function(t,i){var r;if(n.type(i)==="string"){if(this.columnByKey(i)===null)throw new Error(this._getLocaleValue("columnNotFound").replace("{key}",i));return this.options.primaryKey!==null?this._getCellsByColKey(this.element.find("tr[data-id='"+t+"']"),i).text():this._getCellsByColKey(this._getRowsByRecordIndex(t),i).text()}if(this._isMultiRowGrid())return null;if(r=i,r===undefined)throw new Error(this._getLocaleValue("columnNotFound").replace("{key}",i));return this.options.primaryKey!==null?this.element.find("tr[data-id='"+t+"']>td:nth-child("+(r+1)+")").text():n(this.cellAt(r,parseInt(t,10))).text()},setColumnTemplate:function(n,t,i){var r=this._getColIdxById(this.options.columns,n);r!==null&&r!==undefined&&(n=this.options.columns[r],n.template=t,i=i===null||i===undefined?!0:i,i&&!n.hidden&&this._renderData())},commit:function(n){var i=this._normalizedKey(n),t,r,u=this._getIgScrollPositionTop(),f=this;(this.dataSource.commit(i),this._fireInternalEvent("_gridCommit"))||(this._isToSetUnboundColumns=!0,this.options.virtualization||this.options.rowVirtualization||this.options.columnVirtualization?this.options.virtualizationMode==="continuous"?this._renderVirtualRecords():(this._buildVirtualDom(),this.virtualScrollTo(this._startRowIndex)):i!==null?(t=this.rowById(i),t&&t.length&&(t.hasClass(this.css.deletedRecord)?(r=t.index(),t.remove(),this._reapplyZebraStyle(r)):t.removeClass(this.css.modifiedRecord))):this._renderData(),this._setIgScrollPositionTop(u))},rollback:function(n,i){var o=this._normalizedKey(n),u=this.dataSource.rollback(o),f,e,s=this.hasFixedColumns(),r=this;if(i===!0){if(e=function(n,t){var c=t?r.fixedTable():r.element,u=c.find("tr[data-id='"+n.rowId+"']"),f,s,i,o,h,e;switch(n.type){case"newrow":s=r.element.children("tbody").children("tr:not([data-container],[data-grouprow],[data-summaryrow])").index(u),u.remove(),r._reapplyZebraStyle(s);break;case"deleterow":u.removeClass(r.css.deletedRecord);break;case"cell":e=r.columnByKey(n.col),u.removeClass(r.css.modifiedRecord),o=r.cellById(n.rowId,n.col),i=r.dataSource.findRecordByKey(n.rowId),e.template&&e.template.length?(f=r._renderTemplatedCell(i,e),h=f.indexOf(">"),f=f.substring(h+1,f.length),o.html(f)):o.html(String(r._renderCell(i[n.col],e,i)));break;case"row":u.removeClass(r.css.modifiedRecord),i=r.dataSource.findRecordByKey(n.rowId),r._renderRow(i,u[0],i[r.options.primaryKey])}},t(n))this.dataBind();else{if(u.length===0)return;for(f=u.length;f-->0;)e(u[f]),s&&e(u[f],!0);this._fireInternalEvent("_rollbackApplied")}return u}},findRecordByKey:function(n){return this.dataSource.findRecordByKey(n)},getDetachedRecord:function(n){return this.dataSource.getDetachedRecord(n)},pendingTransactions:function(){return this.dataSource.pendingTransactions()},allTransactions:function(){return this.dataSource.allTransactions()},transactionsAsString:function(){return this.dataSource.transactionsAsString()},_normalizedKey:function(n){var t,i;return n===undefined||n===null?null:(t=n,this.options.primaryKey!==null?(i=this.columnByKey(this.options.primaryKey),(i.dataType==="number"||i.dataType==="numeric")&&(t=parseInt(n,10))):t=parseInt(n,10),t)},saveChanges:function(n,t){this.dataSource.saveChanges(n,t)},_renderRow:function(t,i){var u,f,o,r,s,h,e,c=this._isColumnVirtualizationEnabled();for(i=n(i),o=this._visibleColumns(),s=this._startColIndex||0,h=c?this._virtualColumnCount+s:o.length,u=s;u<h;u++)r=o[u],f=this._getCellsByColKey(i,r.key),r.template&&r.template.length?(e=this._renderTemplatedCell(t,r),e.indexOf("<td")===0?f.html(n(e).html()):f.html(e)):f.html(String(this._renderCell(t[r.key],r,t)));return i},renderNewRow:function(n){var i=this.element.children("tbody"),r,t=this,u=this.options.virtualization===!0||this.options.rowVirtualization===!0,f=this.options.virtualizationMode==="fixed";u?(this._trigger("virtualrendering"),f?this._buildVirtualDom():(this._renderVirtualRecordsContinuous(),this._startRowIndex=0),this.virtualScrollTo(this._totalRowCount)):(r=i.children('[data-container!="true"]').length,MSApp.execUnsafeLocalFunction(function(){t._isMultiRowGrid()?i.append(t._renderRecordFromLayout(n,Math.floor(r/t._rlp.length))):i.append(t._renderRecord(n,r))}))},_findTableRowByKey:function(n){var i,u=this.options.columns,r,t;if(this.options.primaryKey!==null){for(t=0;t<u.length;t++)if(u[t].key===this.options.primaryKey){i=t;break}if(i===undefined)throw new Error(this._getLocaleValue("columnNotFound").replace("{key}",this.options.primaryKey));return r=this.element.find("td:nth-child('"+(i+1)+"'):contains('"+n+"')").parent(),r.length===0?null:r[0]}return this.rowAt(parseInt(n,10))},dataSourceObject:function(n){if(n!==undefined)this.options.dataSource=n;else return this.options.dataSource},totalRecordsCount:function(){return this.dataSource.totalRecordsCount()},_wrapElementDiv:function(){this._isWrapped=!0,this.element=n("<table role='grid'><\/table>").appendTo(this.element).attr("id",this.id()+"_table"),this.element.data("igGrid",this)},dataBind:function(n){var i,t,u=!0,f=!0,e,r;if(this._initialized||(f=this._trigger(this.events.rendering,null,{owner:this})),f){if(i=this._generateDataSourceOptions(this.options),r=this._createDataSource(i),u=this._trigger(this.events.dataBinding,null,{owner:this,dataSource:r}),this.requiresDataBinding=n===undefined?!0:this.requiresDataBinding,u)if(this.requiresDataBinding){if(this._hasUnboundColumns&&(this._rebindUnboundColumns=!0),this._dataOptions=i,this.dataSource=r,!this._initialized&&this.options.autoGenerateColumns&&(this.dataSource.settings.localSchemaTransform=!1),this._initialized)for(this._isDataBoundCalled=!0,this.element.trigger("iggriduidirty",{owner:this}),t=0;t<this.options.features.length;t++)this._initFeatureSettings(this.options.features[t]);else{for(this.element.is("div")&&this._wrapElementDiv(),t=0;t<this.options.features.length;t++)this._initFeature(this.options.features[t],i);this.options.autoGenerateColumns!==!0&&this._captureInitiallyHiddenColumns(),this._visibleColumnsArray=undefined}this._renderGrid(),this._loadingIndicator===undefined&&this._initLoadingIndicator(),this._loadingIndicator&&this._loadingIndicator.show(),this.dataSource.dataBind(),this.requiresDataBinding=!1}else this._renderGrid()}else this._cancelRendering=!0},_mergeUnboundValues:function(){var o,y,i,r,p,w,s,f,u,v,h,t,b,e,c=this.options.primaryKey,l=this.dataSource.metadata("unboundValues"),a=this,k=c!==null&&c!==undefined,d;if(l!==undefined&&l!==null&&l.length!==0&&this._unboundColumns)for(k&&(d=function(n,i){if(r=w?a.dataSource.findRecordByKey(parseInt(n,10)):a.dataSource.findRecordByKey(n),r===null||r===undefined)return!0;f!==undefined&&f!==null&&(i=f._convertType(u,i,r[c],t)),a._addUnboundColumnValue(t,i),r[t]=i},y=this.columnByKey(c),w=y.dataType==="number"),p=this._unboundColumns.length,f=this.dataSource.schema(),o=0;o<p;o++)if((t=this._unboundColumns[o].key,i=l[t],i!==null&&i!==undefined)&&(s=this.getUnboundColumnByKey(t),u=null,s!==null&&s.dataType&&(u=s.dataType),k?n.each(i,d):a._renderUnboundValues(i,t),u==="bool"||u==="boolean")){if(h=this.dataSource.data(),b=f._convertType(u,undefined),v=h.length,v<=i.length)continue;for(e=0;e<v;e++)h[e][t]===undefined&&(h[e][t]=b)}},_generateDataSourceOptions:function(){var e,i,t,f,u,r;if(!this.options.dataSource&&!this.options.dataSourceUrl&&this.element.is("table")&&this.element.find("tbody").children().length>0&&(this.options.dataSource=this.element[0]),this.options.dataSource&&(this.options.dataSource.tagName&&this.options.dataSource.nodeType?t=n(this.options.dataSource):n.type(this.options.dataSource.type)==="function"&&this.options.dataSource.type()==="htmlTableString"&&n.type(this.options.dataSource.dataSource)==="function"&&(t=n(this.options.dataSource.dataSource())),t&&t.is("table")&&t.find("thead th").length>0))for(f=t.find("thead tr th"),this._tb_h=!0,this._tb_h_arr=[],u=0;u<f.length;u++)this._tb_h_arr.push(n(f[u]).text());return r=this.options.dataSource&&typeof this.options.dataSource._xmlToArray=="function"&&typeof this.options.dataSource._encodePkParams=="function",i={callback:n.proxy(this._renderData,this),callee:this,responseDataKey:this.options.responseDataKey,responseTotalRecCountKey:this.options.responseTotalRecCountKey,dataSource:this.options.dataSource,requestType:r&&this.options.dataSource.settings.requestType?this.options.dataSource.settings.requestType:this.options.requestType,responseContentType:r&&this.options.dataSource.settings.responseContentType?this.options.dataSource.settings.responseContentType:this.options.responseContentType,primaryKey:this.options.primaryKey,localSchemaTransform:this.options.localSchemaTransform,autoCommit:this.options.autoCommit,aggregateTransactions:this.options.aggregateTransactions,serializeTransactionLog:this.options.serializeTransactionLog,updateUrl:this.options.updateUrl,restSettings:this.options.restSettings,enableUTCDates:this.options.enableUTCDates},this.options.dataSourceType!==null&&(i.type=this.options.dataSourceType),this.options.dataSource&&this.options.dataSource.schema&&this.options.dataSource.schema()&&this.options.dataSource.schema()._type==="xml"||(e=this._generateDataSourceSchema()),(r&&(this.options.dataSource.settings.schema===null||!this.options.dataSource.settings.schema.fields||this.options.dataSource.settings.schema.fields&&this.options.dataSource.settings.schema.fields.length>=0)||!r)&&(i=n.extend(i,{schema:e})),i},_insertUnboundColumn:function(n){(this._unboundColumns===null||this._unboundColumns===undefined)&&(this._unboundColumns=[]),this._unboundColumns.push(n),n.key&&(this._unboundValues[n.key]===null||this._unboundValues[n.key]===undefined)&&(this._unboundValues[n.key]=[]),n.unboundValues&&n.unboundValues.length>0&&(this._isToSetUnboundColumns=!0),this._hasUnboundColumns=!0},_addUnboundColumnValue:function(n,t,i){(this._unboundValues[n]===null||this._unboundValues[n]===undefined)&&(this._unboundValues[n]=[]),i!==undefined&&i!==null?this._unboundValues[n][i]=t:this._unboundValues[n].push(t)},_generateDataSourceSchema:function(){var r,l,e,i,o,f,s=0,u=this.options.columns,t=this.options.dataSource,h,c=0,a=function(n){return n.key===f};if(t&&typeof t._xmlToArray=="function"&&typeof t._encodePkParams=="function"&&(e=t.schema(),e&&n.type(e)==="object"&&typeof e.schema=="object"&&typeof e.isObjEmpty=="function"&&e._type?(l=e._type,l&&l!==t.settings.type&&(t.settings.type=l)):e=null,t=n.type(t.settings.dataSource)==="array"||n.type(t.settings.dataSource)==="object"?t.settings.dataSource:n.type(t.settings.dataSource)!=="string"?t.data():[]),n.type(t)==="string"&&this.dataSource&&(t=this.dataSource.data()),n.type(t)==="object"&&this.options.responseDataKey&&(t=n.ig.findPath(t,this.options.responseDataKey)),r={},r.fields=[],r.searchField=this.options.responseDataKey,this._unboundColumns=null,u.length>0){for(i=0;i<u.length;i++)(u[i].unbound!==!0&&u[i].unboundDS!==!0||(this._insertUnboundColumn(u[i]),u[i].unbound!==!0))&&(r.fields[c]={},r.fields[c].name=u[i].key,r.fields[c].type=u[i].dataType,r.fields[c].mapper=u[i].mapper,c++);if(h=this.options.columnLayouts,h&&h.length&&h.length>0)for(i=0;i<h.length;i++)h[i].key!==undefined&&r.fields.push({name:h[i].key})}else if(this.options.autoGenerateColumns){if(t&&t.tagName&&n(t).is("table")&&n(t).find("tbody tr").length>0)o=n(t).find("tbody tr")[0],n(o).find("td").each(function(){u.length>s?r.fields.push({name:u[s].key||s+1,type:u[s].dataType||"string"}):r.fields.push({name:s+1,type:"string"}),s++});else if(t&&t.length&&t.length>0&&n.type(t)==="array")for(i=0;i<t.length;i++){o=t[i];for(f in o)o.hasOwnProperty(f)&&(this.columnByKey(f)!==null||this._fieldExists(f,r)||n.type(o[f])==="object"||n.type(o[f])==="array"?this.options.columnLayouts&&this.options.columnLayouts.filter(a).length>0?r.fields.push({name:f}):this.columnByKey(f)!==null&&r.fields.push({name:f,type:this.columnByKey(f).dataType}):r.fields.push({name:f,type:n.ig.getColType(o[f])}),s++);if(!this.options._recurseSchema)break}else e&&e.fields().length&&(r.fields=e.fields());for(i=0;i<u.length;i++)(u[i].unbound===!0||u[i].unboundDS===!0)&&this._insertUnboundColumn(u[i])}return this._trigger(this.events.schemaGenerated,null,{owner:this,schema:r,dataSource:t}),r},_fieldExists:function(n,t){for(var i=0;i<t.fields.length;i++)if(t.fields[i].name===n)return!0;return!1},_createDataSource:function(t){var r,i;return this.options.dataSource&&typeof this.options.dataSource._xmlToArray=="function"&&typeof this.options.dataSource._encodePkParams=="function"?(i=this.options.dataSource,i.settings.responseDataKey!==null&&(delete t.responseDataKey,t.schema&&(t.schema.searchField=i.settings.responseDataKey)),t.responseTotalRecCountKey===null&&i.settings.responseTotalRecCountKey!==null&&delete t.responseTotalRecCountKey,this._tds=i.settings.dataSource,i.settings.dataSource=null,n.ig.util.isIE8&&t.callee&&(r=t.callee,t.callee=null),i.settings=n.extend(!0,{},i.settings,t),n.ig.util.isIE8&&r&&(i.settings.callee=r),i.settings.dataSource=this._tds,this._tds=null,t.schema&&i._initSchema()):i=n.type(t.dataSource)==="string"&&(this.options.jsonpRequest||n.ig.util.isJsonpUrl(t.dataSource))?new n.ig.JSONPDataSource(t):this.options.restSettings.update.url!==null||this.options.restSettings.update.template!==null||this.options.restSettings.create.url!==null||this.options.restSettings.create.template!==null||this.options.restSettings.remove.url!==null||this.options.restSettings.remove.template!==null?new n.ig.RESTDataSource(t):new n.ig.DataSource(t),i&&i.settings&&(i.settings.key=this.options.key),i},_generateColumns:function(){var r,f,i,s,e,c=!1,o,u,h=!1,v=[],t=this.options.dataSource,l=this.options.childrenDataProperty,a,y,p=!1;if(t&&typeof t._xmlToArray=="function"&&typeof t._encodePkParams=="function"?(this.options.dataSource.type()==="htmlTableString"&&this.options.autoGenerateColumns&&(p=!0),t=t.data()):typeof t=="string"&&(t=this.dataSource.data()),n.type(t)==="object"&&this.options.responseDataKey&&(a=n.ig.findPath(t,this.options.responseDataKey),n.type(a)==="array"&&(t=a)),t&&t.tagName&&n(t).is("table")?(o=n(t).find("tbody tr").length,h=!0):t&&t.length&&(o=t.length),t&&o&&o===0&&this.options.columns.length===0)throw new Error(this._getLocaleValue("autoGenerateColumnsNoRecords"));if(t&&o&&o>0)if(r=h?n(t).find("tbody tr")[0]:t[0],n.type(r)==="array"||h)for(c=this._tb_h,h&&(n(r).find("td").each(function(){v.push(n(this).text())}),r=v),i=0;i<r.length;i++)this.columnByKey(i+1)===null&&n.ig.getColType(r[i])!=="object"?(u={headerText:c?this._tb_h_arr[i]:this._getLocaleValue("colPrefix")+(i+1),key:String(i+1),dataType:n.ig.getColType(r[i]),hidden:!1},p&&(u.key=String(i)),u.headerText=(u.headerText||"").toString().trim(),this._isMultiColumnGrid&&(u.level0=!0,u.level=0,this._oldCols.push(u)),this.options.columns.push(u),this._visibleColumnsArray=undefined):c&&!this.columnByKey(i+1).headerText&&(this.columnByKey(i+1).headerText=this._tb_h_arr[i]);else for(f in r)r.hasOwnProperty(f)&&(s=this.columnByKey(f),s===null?(y=n.ig.getColType(r[f]),(l&&l!==f||!l)&&(y!=="object"||r[f]===null)&&f!=="ig_pk"&&(u={headerText:f,key:f,dataType:n.ig.getColType(r[f]),hidden:!1},this.options.columns.push(u),this._isMultiColumnGrid&&(u.level0=!0,u.level=0,this._oldCols.push(u)),this._visibleColumnsArray=undefined)):s.headerText===undefined&&(s.headerText=s.key));else for(e=this.options.columns,i=0;i<e.length;i++)e[i].headerText=e[i].headerText===undefined?e[i].key:e[i].headerText;this._trigger("_columnsgenerated",null,{owner:this,key:this.options.key}),(this.dataSource.schema()===null||this.dataSource.schema().fields().length===0||this.dataSource.settings.localSchemaTransform!==this.options.localSchemaTransform)&&(this.dataSource.settings.schema=this._generateDataSourceSchema(),this.dataSource._initSchema(),this.dataSource.settings.localSchemaTransform=this.options.localSchemaTransform,this.dataSource._applySchema()),this.options.width===null&&this._setContainerWidth(this.container()),this._trigger("columnsgenerated",null,{owner:this,key:this.options.key})},_renderGrid:function(){var i=this.element[0],r,f,u=this.element.children("tbody");if(this._cancelRendering=!1,!this._initialized){if(this.element.attr("role","grid"),this.options.virtualization===!0||this.options.rowVirtualization===!0||this.options.columnVirtualization===!0){if(this.options.height===undefined||this.options.height===null)throw new Error(this._getLocaleValue("virtualizationRequiresHeight"));if(this._isColumnVirtualizationEnabled()&&this.options.width.indexOf&&this.options.width.indexOf("%")>0)throw new Error(this._getLocaleValue("columnVirtualizationNotSupportedWithPercentageWidth"));if(this._isMultiRowGrid()&&(this.options.virtualization===!0||this.options.rowVirtualization===!0)&&this.options.virtualizationMode!=="continuous")throw new Error(this._getLocaleValue("featureNotSupportedWithMRL").replace("{featureName}","Fixed Virtualization"));this._createVirtualGrid()}else this.options.height!==null||this.options.width!==null?this._createScrollingGrid():(r=i.id+"_container",f='<div id="'+r+'" class="'+this.css.gridClasses+" "+this.css.baseClass+'" style="position: relative"> <\/div>',this.element.wrap(f),this.element.addClass(this._isMultiRowGrid()?this.css.mrlGridTableClass:this.css.gridTableClass),this.element.attr("aria-describedby",t(this.options.caption)?r:this.id()+"_caption"),this._setContainerWidth(this.container()),this.container().attr("tabIndex",this.options.tabIndex),this.options.height!==null&&this.container().css("overflow-y","hidden"));this._touch(),this.options.columns.length>0&&this.options.virtualization!==!0&&this.options.rowVirtualization!==!0&&this.options.columnVirtualization!==!0&&this.options.autogenerateColumns===!1&&this.options.columns.length>0&&this._renderColgroup(this.element[0],!1,!1,this.options.autofitLastColumn),n(i).attr("cellpadding","0"),n(i).attr("cellspacing","0"),n(i).attr("border","0"),n(i).css("table-layout","fixed"),n(i).addClass(this._isMultiRowGrid()?this.css.mrlGridTableClass:this.css.gridTableClass),this.options.autoGenerateColumns===!1&&!this._autoDetectColTypes()&&this.options.columns.length>0&&this._headerRenderCancel!==!0&&this._renderHeader(),this._renderCaption(),this.options.autoAdjustHeight&&this._initializeHeights()}u.length===0&&(u=n('<tbody role="rowgroup"><\/tbody>').appendTo(i).addClass(this.css.baseContentClass).addClass(this.css.gridTableBodyClass).addClass(this.css.recordClass)),this.dataSource.type()!=="htmlTableDom"&&this.dataSource.type()!=="htmlTableId"&&(u.attr("role","rowgroup").empty(),this.hasFixedColumns()&&this.fixedBodyContainer().children("table").children("tbody").attr("role","rowgroup").empty())},_autoDetectColTypes:function(){for(var t=this.options.columns,n=0;n<t.length;n++)if(!t[n].dataType||t[n].mapper)return!0;return!1},_setContainerWidth:function(i,r){var s=this._visibleColumns(),e,u,f=0,o;if(s.length>0){for(o=!1,e=0;e<s.length;e++)if(u=s[e].width,u!==0&&u!=="0"&&(u=u||this.options.defaultColumnWidth),t(u)||u&&u.indexOf&&u.indexOf("%")>0)o=!0;else{o=!1;break}if(o)return;this._scrollWidthAddedToContainerWidth=this.hasVerticalScrollbar(),f=this._calculateContainerWidth(this._scrollWidthAddedToContainerWidth),f>0&&(r?(f=0,this.container().find(".ui-iggrid-header").each(function(){f+=n(this).outerWidth()}),i.width(f)):(f+=this._calculateSpecialColumnsWidth(),i.css("width",f)))}else this.options.width!==null&&i.css("width",this.options.width)},_calculateContainerWidth:function(t){for(var u=0,r=this.options.columns,i=0;i<r.length;i++)r[i].hidden!==!0&&r[i].fixed!==!0&&(this._initialHiddenColumns===undefined||n.inArray(r[i],this._initialHiddenColumns)===-1)&&(u+=r[i].width?parseInt(r[i].width,10):this.options.defaultColumnWidth===null?0:parseInt(this.options.defaultColumnWidth,10));return this.options.height!==null&&u>0&&t===!0&&(u+=this._scrollbarWidth()),u},_createScrollingGrid:function(){var i=this,u=this.id()+"_scroll",r,f='<div id="'+u+'"><\/div>';this.element.wrap(f),r=this.element.parent(),this.element.attr("aria-describedby",t(this.options.caption)?u:this.id()+"_caption"),r.addClass(this.css.gridScrollDivClass).wrap('<div id="'+this.id()+'_container"><\/div>'),n.ig.util.isIE7&&r.css("padding-bottom",this._scrollbarWidth()),this.container().attr("tabIndex",this.options.tabIndex).addClass(this.css.baseClass).addClass(this.css.gridClasses),this.options.width!==null?(this.container().css("width",this.options.width),this.options.width.indexOf&&this.options.width.indexOf("%")!==-1&&this.element.css("width","100%"),this.options.height!==null&&(this._addHorizontalScrollBar(r),this.scrollContainer().css("overflow-x","hidden"))):(this._setContainerWidth(this.container()),this.scrollContainer().css("overflow-x","hidden")),this.container().css("position","relative"),this.options.height!==null&&(this.scrollContainer().css("overflow-y","auto"),this.options.autoAdjustHeight?this.container().css("height",this.options.height):this.scrollContainer().css("height",this.options.height)),this._persistVirtualScrollTop&&this.scrollContainer().bind({scroll:function(){i._prevFirstVisibleTROffset=i.scrollContainer().scrollTop()}}),this.scrollContainer().bind({wheel:function(n){i._hscrollbarcontent().scrollLeft(i._hscrollbarcontent().scrollLeft()+n.originalEvent.deltaX)}})},_igScrollCreated:function(t){var i,f=this.id(),r=this,u=this.options.scrollSettings;if(this.options.virtualization===!0||this.options.rowVirtualization===!0||this.options.columnVirtualization){i=this._vdisplaycontainer(),!i.data("igScroll")._bMixedEnvironment&&n.ig.util.isTouchDevice()&&i.css("overflow","hidden"),i.igScroll("option","scrollOnlyVBar",!0),this.options.showHeader&&this.headersTable().length&&i.igScroll("option","syncedElemsH",[this.headersTable()]),i.igScroll("option","scrollbarV",this._scrollContainer()),this.options.virtualizationMode!=="fixed"||this.options.columnVirtualization||this.options.virtualization||!this._hscrollbarcontent().length?this._vhorizontalcontainer().length&&i.igScroll("option","scrollbarH",this._vhorizontalcontainer()):i.igScroll("option","scrollbarH",this._hscrollbarcontent()),i.data("igScroll")._bMixedEnvironment=!0,i.data("igScroll")._content=this._scrollContainer().children(":first-child"),i.data("igScroll")._contentX=this.element,i.igScroll("refresh"),i.igScroll("option","scrollWidth",this._calculateContainerWidth()),this.options.columnVirtualization&&i.igScroll("option","scrollOnlyHBar",!0),this._enableVirtualTouchScrollbars(),i.igScroll("option",u);i.on("iggridrendered",function(n,t){r.id()===t.owner.id()&&(r._enableVirtualTouchScrollbars(),i.igScroll("option",u))})}else{i=this.scrollContainer(),!i.data("igScroll")._bMixedEnvironment&&n.ig.util.isTouchDevice()&&i.css("overflow","hidden"),i.data("igScroll")._content=this.element,i.igScroll("refresh"),i.igScroll("option","scrollOnlyVBar",!1),n(".ui-widget-footer table",this.container()).length>0&&i.igScroll("option","syncedElemsH",[n(".ui-widget-footer table",this.container())]),this.options.showHeader&&this.options.fixedHeaders&&this.headersTable().length&&(n(".ui-widget-footer table",this.container()).length>0?i.igScroll("option","syncedElemsH",[n(".ui-widget-footer table",this.container()),this.headersTable()]):i.igScroll("option","syncedElemsH",[this.headersTable()])),this._enableTouchScrollbars(),i.igScroll("option",u);i.on("iggridrendered",function(n,t){r.id()===t.owner.id()&&(r._enableTouchScrollbars(),i.igScroll("option",u))});this.element.on("iggrid_heightchanged",n.proxy(this._enableTouchScrollbars,this));i.on("iggridrowsrendered",n.proxy(this._enableTouchScrollbars,this))}i.on("igscrollresized",n.proxy(this._igScrollResized,this));i.on("iggriddatarendered",function(){r._refreshIgScrollBars()});t.stopPropagation()},_igScrollResized:function(){var n;this.options.virtualization||this.options.rowVirtualization||this.options.columnVirtualization?(n=this._vdisplaycontainer(),n.igScroll("refresh"),n.igScroll("option","scrollWidth",this._calculateContainerWidth())):(n=this.scrollContainer(),n.igScroll("refresh"))},_enableTouchScrollbars:function(){var t=this.scrollContainer(),i=n("#"+this.element[0].id+"_igscrolls_container",this.container());t.data("igScroll")!==undefined&&n.ig.util.isTouchDevice()&&(i.length||(i=n('<div id="'+this.element[0].id+'_igscrolls_container"/>').css("position","relative").css("height","0px").insertAfter(t),n(".ui-iggrid-pager",this.container()).css("overflow","hidden")),t.igScroll("option","scrollbarType","none"),t.igScroll("refresh"),t.igScroll("option","scrollbarHParent",i),t.igScroll("option","scrollbarVParent",i),n.ig.util.isSafari?(t.igScroll("option","scrollbarType","custom"),n(".igscroll-vcontainer",this.container()).length>0&&n(".igscroll-vcontainer",this.container()).css("top",-t.height()+"px")):n.ig.util.getScrollWidth()===0&&(t.igScroll("option","scrollbarType","native"),t.data("igScroll")._vBarContainer&&t.data("igScroll")._vBarContainer.css("top",-t.height()+"px").css("height",t.height()+"px").css("z-index",2).attr("touch-bar","true"),t.data("igScroll")._hBarContainer&&t.data("igScroll")._hBarContainer.css("z-index",2).attr("touch-bar","true")),this.fixedBodyContainer().length&&(n(".igscroll-hcontainer",this.container()).length>0&&this.fixingDirection()==="left"?n(".igscroll-hcontainer",this.container()).css("left",this.fixedBodyContainer().width()):n(".igscroll-hcontainer",this.container()).length>0&&this.fixingDirection()==="right"&&n(".igscroll-hcontainer",this.container()).css("right",this.fixedBodyContainer().width()),n(".igscroll-hnative-outer",this.container()).length>0&&this.fixingDirection()==="left"?n(".igscroll-hnative-outer",this.container()).css("left",this.fixedBodyContainer().width()):n(".igscroll-hnative-outer",this.container()).length>0&&this.fixingDirection()==="right"&&n(".igscroll-hnative-outer",this.container()).css("right",this.fixedBodyContainer().width())))},_refreshIgScrollBars:function(){var t=this.scrollContainer();t.length&&t.data("igScroll")!==undefined&&(t.igScroll("refresh"),n(".igscroll-vcontainer",this.container())&&n(".igscroll-vcontainer",this.container()).css("top",-t.height()+"px"),n(".igscroll-vnative-outer",this.container())&&n(".igscroll-vnative-outer",this.container()).css("top",-t.height()+"px").css("z-index",2))},_enableVirtualTouchScrollbars:function(){var t=this._vdisplaycontainer(),i,r;n.ig.util.getScrollWidth()===0&&(i=t.parent().find("."+this.css.gridScrollbarsWrapper),i.length&&i.remove(),t.parent().css("position","relative"),i=n("<div/>").appendTo(t.parent()),i.addClass(this.css.gridScrollbarsWrapper).css("position","absolute").css("top","0px").css("bottom","0px").css("left","0px").css("right","0px"),t.igScroll("refresh"),t.igScroll("option","scrollWidth",this._calculateContainerWidth()),t.igScroll("option","scrollbarHParent",i),t.igScroll("option","scrollbarVParent",i),t.igScroll("option","scrollbarType","custom"))},_getIgScrollPositionTop:function(){var n,t;return this.options.virtualization||this.options.rowVirtualization||this.options.columnVirtualization?t=this._scrollContainer().scrollTop():(n=this.scrollContainer().data("igScroll"),t=n?n.option("scrollTop"):this.scrollContainer().scrollTop()),t},_setIgScrollPositionTop:function(n){var t;t=this.options.virtualization||this.options.rowVirtualization||this.options.columnVirtualization?this._vdisplaycontainer().data("igScroll"):this.scrollContainer().data("igScroll"),t&&t.option("scrollTop",n)},_touch:function(){var i=this.id(),t=this.scrollContainer();t.length!==1&&(t=this._vdisplaycontainer()),t.length&&(t.attr("data-scroll","true").attr("data-oneDirection","true"),this._hscrollbarcontent()[0]?t.attr("data-xScroller","#"+i+"_hscroller"):this._vhorizontalcontainer()[0]&&t.attr("data-xScroller","#"+i+"_horizontalScrollContainer"),this._scrollContainer()[0]&&t.attr("data-yScroller","#"+i+"_scrollContainer"),t.bind("igscrollrendered",n.proxy(this._igScrollCreated,this)),n.ig.util.isTouchDevice()&&n.ig.util.getScrollWidth()===0&&this.element.igScroll!==undefined&&(this._scrollbarWidthResolved=0))},_createVirtualGrid:function(){var r=this.id(),l,e,o,t,u,p,y=n.ig.util.isWebKit?"width=100%":"",s,a,h,i=0,f='<div id="'+r+'_container" style="margin:0px; border:0px; padding:0px;position:relative;"><table border="0" cellspacing="0" cellpadding="0" class="ui-iggrid-layout-helper" style="border-spacing:0px" id="'+r+'_virtualContainer" ><tbody role="rowgroup"><tr><td colspan="2" style="border-width:0px"><div id="'+r+'_headers_v" style="overflow:hidden;"><\/div><\/td><\/tr><tr><td style="border-width:0px;"><div id="'+r+'_displayContainer"><\/td>$verticalMarkup$<\/tr>$horizontalMarkup$<\/tbody><\/table><\/div>',c,v='<tr><td colspan="2" style="border-width: 0px"><div id="'+r+'_horizontalScrollContainer"><\/div><\/td><\/tr>';h=this._scrollbarWidth(),n.ig.util.isIE&&(h+=1),c=parseInt(this.options.height,10)>0?'<td style="border-width: 0px;"><div id="'+r+'_scrollContainer" style="overflow:scroll; overflow-x:hidden; width: '+h+"px; height:"+this.options.height+';"><\/div><\/td>':'<td style="border-width: 0px;"><div id="'+r+'_scrollContainer" style="overflow:scroll; overflow-x:hidden; width: '+h+'px;"><\/div><\/td>',this.options.virtualization===!0?f=f.replace("$verticalMarkup$",c).replace("$horizontalMarkup$",v):this.options.rowVirtualization===!0?f=f.replace("$verticalMarkup$",c).replace("$horizontalMarkup$",""):this.options.columnVirtualization===!0&&(f=f.replace("$horizontalMarkup$",v).replace("$verticalMarkup$","")),(this.options.virtualization===!0||this.options.columnVirtualization===!0)&&this.element.css("width","100%"),this.element.wrap(f),this.container().attr("tabIndex",this.options.tabIndex).addClass(this.css.baseClass).addClass(this.css.gridClasses),this.options.width!==null?this.container().width(this.options.width):this._setContainerWidth(this.container()),this._vdisplaycontainer().addClass(this.css.gridScrollDivClass).addClass(this.css.gridVirtualScrollDivClass).append(this.element[0]),t=this,s=this._calculateContainerWidth(!1),i=this.options.width!==null?parseInt(this.options.width,10):s,this.options.height!==null&&this.options.width!==null&&(i-=this._scrollbarWidth()),i<=0&&(i=undefined),i>0&&this.options.expandColWidth&&!this.options.width&&(i+=this.options.expandColWidth),n("<colgroup><col "+(this._gridHasWidthInPercent()?"":i<=0?y:'width="'+i+'"')+'><\/col><col width="'+this._scrollbarWidth()+'"><\/col><\/colgroup>').prependTo(this._virtualcontainer()),u=this.options.width,u&&u.indexOf&&u.indexOf("%")!==-1&&(u="100%"),this._virtualcontainer().css("width",u).css("max-width",u),a='<div style="width:1px; overflow:hidden; height:'+this._totalRowCount*parseInt(this.options.avgRowHeight,10)+'px;"><\/div>',this._scrollContainer().append(a),n.ig.util.isFF&&this.options.virtualizationMode==="fixed"&&this._scrollContainer().height(0),(this.options.virtualization===!0||this.options.rowVirtualization===!0)&&this.options.width&&this.options.width.indexOf&&this.options.width.indexOf("%")>0?(this._addHorizontalScrollBar(this._virtualcontainer()),this._virtualcontainer().css("table-layout","fixed")):(this.options.virtualization===!0||this.options.columnVirtualization===!0)&&this.options.width&&s>parseInt(this.options.width,10)&&this._renderHorizontalScrollContainer(s),parseInt(this.options.height,10)>0&&this._vdisplaycontainer().css("height",this.options.height).css("vertical-align","top"),this._vdisplaycontainer().css("position","relative").css("width",i).css("maxWidth",i),this.options.virtualization===!0&&this.container().find("#"+r+"_headers_v").append('<a href="#" id="'+r+'_displayContainer_a" tabindex="-1" style="position:absolute;top:-100px;left:-100px">&nbsp;<\/a>'),this.options.width&&this.options.virtualization===!1&&this.options.columnVirtualization===!1?this._vdisplaycontainer().css({"overflow-y":"hidden","overflow-x":"auto"}):this._vdisplaycontainer().css("overflow","hidden"),this._vdisplaycontainer().parent().bind({mouseenter:function(){t._isMouseOverVirtualTable=!0},mouseleave:function(){t._isMouseOverVirtualTable=!1}}),this._documentEvents={DOMMouseScroll:function(n){var r="down",i,u,s,f,e=0,o=0,h=t.options.avgRowHeight!==null?parseInt(t.options.avgRowHeight,10):0;u=t.options.virtualizationMouseWheelStep===null?h:t.options.virtualizationMouseWheelStep,i=-n.originalEvent.detail/3,i>0&&(r="up"),t._isMouseOverVirtualTable&&!n.ctrlKey&&(n.originalEvent.axis===2&&(o=t._onVirtualVerticalScroll(n,u,r)),s=n.originalEvent.offsetX,f=t._vdisplaycontainer().scrollLeft(),n.originalEvent.axis===1&&t._vdisplaycontainer().scrollLeft(t._vdisplaycontainer().scrollLeft()-i),e=t._vdisplaycontainer().scrollLeft()-f,(o!==0||e!==0)&&n.preventDefault())},mousewheel:function(n){var r="down",i,u,f,e=0,o=0,s=t.options.avgRowHeight!==null?parseInt(t.options.avgRowHeight,10):0;u=t.options.virtualizationMouseWheelStep===null?s:t.options.virtualizationMouseWheelStep,i=(n.originalEvent.wheelDeltaY===undefined?n.originalEvent.wheelDelta:n.originalEvent.wheelDeltaY)/120,i>0&&(r="up"),t._isMouseOverVirtualTable&&!n.ctrlKey&&(i!==0&&(o=t._onVirtualVerticalScroll(n,u,r)),f=t._vdisplaycontainer().scrollLeft(),t._vdisplaycontainer().scrollLeft(t._vdisplaycontainer().scrollLeft()-(n.originalEvent.wheelDeltaX||0)),e=t._vdisplaycontainer().scrollLeft()-f,(o!==0||e!==0)&&n.preventDefault())},wheel:function(n){var r="down",u,i,f,e=0,o=0,s=t.options.avgRowHeight!==null?parseInt(t.options.avgRowHeight,10):0;u=t.options.virtualizationMouseWheelStep===null?s:t.options.virtualizationMouseWheelStep,i=-n.originalEvent.deltaY,i>0&&(r="up"),t._isMouseOverVirtualTable&&!n.ctrlKey&&(i!==0&&(o=t._onVirtualVerticalScroll(n,u,r)),f=t._vdisplaycontainer().scrollLeft(),t._vdisplaycontainer().scrollLeft(t._vdisplaycontainer().scrollLeft()+n.originalEvent.deltaX),e=t._vdisplaycontainer().scrollLeft()-f,(o!==0||e!==0)&&n.preventDefault())}},e={},o=this._vdisplaycontainer(),e["keydown.virtualizationEvents"]=this.options.virtualizationMode==="fixed"?function(i){i.keyCode===n.ui.keyCode.TAB&&t._syncScrollOnTabFixedVirt(i,i.shiftKey?"up":"down",o)}:function(i){i.keyCode===n.ui.keyCode.TAB&&t._syncScrollOnTab(i,i.shiftKey?"up":"down",o)},o.bind(e),this._documentEvents["keydown."+this.id()]=function(i){var f=i.keyCode,u,r=null,e;t._isMouseOverVirtualTable&&(f===n.ui.keyCode.DOWN?r=1:f===n.ui.keyCode.UP&&(r=-1),r&&t._isMouseOverVirtualTable&&(e=t.options.virtualizationMouseWheelStep===null?parseInt(t.options.avgRowHeight,10):t.options.virtualizationMouseWheelStep,u=t._scrollContainer(),u.scrollTop(u.scrollTop()+e*r)))},n(document).bind(this._documentEvents),(this.options.virtualization===!0||this.options.rowVirtualization===!0)&&this._scrollContainer().bind({scroll:function(n){t._onVirtualVerticalScroll(n),t._virtualScrollMouseDown=!1},mousedown:function(){t._virtualScrollMouseDown=!0}}),(this.options.virtualization===!0||this.options.columnVirtualization===!0)&&(l=this._vhorizontalcontainer(),l.data("containerName","vScrollbar").bind({scroll:function(n){t._onVirtualHorizontalScroll(n)}}),this.options.virtualizationMode==="continuous"&&this._registerScrllCntnrToSync(l)),this._vhorizontalcontainer().length===0&&this.options.width!==null&&(this.options.width.indexOf&&this.options.width.indexOf("%")!==-1||this._addHorizontalScrollBar(this._virtualcontainer()),this._vdisplaycontainer().css("overflow-x","hidden")),this.element.height(this._scrollContainer().height()),this.options.width&&this.options.width.indexOf&&this.options.width.indexOf("%")!==-1&&(this.container().find("#"+r+"_virtualContainer > colgroup > col:first").css("width","100%"),this._vhorizontalcontainer().css("width","100%"),this._vdisplaycontainer().css("width","100%").css("max-width","100%"))},_syncScrollOnTabFixedVirt:function(t,i,r){r=r||this._vdisplaycontainer();var f=n(document.activeElement),h,o=i==="down",u,e,s,c=o?":last-child":":first-child";(h=o?f.closest("tr").next():f.closest("tr").prev(),f.is("td, th")&&f.is(c)&&!h.length)&&((e=this._scrollContainer(),u=e.scrollTop(),s=parseInt(this.options.avgRowHeight,10),u+=o?s:-s,e.scrollTop(u),u<=0||u+r.outerHeight()>=e.children("div").outerHeight())||t.preventDefault())},_syncScrollOnTab:function(t,i,r){r=r||this._vdisplaycontainer();var c=n(document.activeElement),s,e,f,o,u,h=i==="down",l=h?":last-child":":first-child";if(c.is("td, th")&&c.is(l)){if(e=c.closest("tr"),s=h?e.next():e.prev(),this._focusDataRowIndex=null,!s.length){if(f=this._scrollContainer(),o=f.scrollTop(),h){f[0].scrollHeight-o===f.outerHeight()?this._focusDataRowIndex=0:(f.scrollTop(o+2),u=parseInt(e.attr("data-row-idx"),10),this._focusDataRowIndex=!isNaN(u)&&u-1>0?u-1:null);return}if(!h)if(o)f.scrollTop(o-2),u=parseInt(e.attr("data-row-idx"),10),this._focusDataRowIndex=!isNaN(u)&&u-1>0?u-1:null;else{this._focusDataRowIndex=this._getTotalRowsCount()-1;return}t.preventDefault();return}this._focusDataRowIndex=parseInt(s.attr("data-row-idx"),10),this._onVirtualVerticalScroll(t,s.outerHeight(),i)}},_renderHorizontalScrollContainer:function(t){var u,i=this.options.width,r=this._vhorizontalcontainer();i&&i.indexOf&&i.indexOf("%")!==-1&&(this.options.virtualization===!0||this.options.rowVirtualization===!0)||(r.css("height",this._scrollbarWidth()+"px").css("overflow","scroll"),i=this.hasFixedColumns()?parseFloat(i)-this.fixedBodyContainer().outerWidth():i,n.ig.util.isIE||n.ig.util.isEdge?r.css("width",parseInt(i,10)+1).css("height",r.outerHeight()+1+"px"):(n.ig.util.isFF&&(n.type(i)==="number"||i&&i.indexOf&&i.indexOf("px")>0)&&(i=parseFloat(i)-this._scrollbarWidth()),r.css("width",i)),u='<div style="width:'+t+'px;height:1px;"><\/div>',r.append(u))},_suppressVirtVertScroll:function(n){this._virtVertScrollSuppressed=n},_isVirtVertScrollSuppressed:function(){return this._virtVertScrollSuppressed?!0:!1},_correctVirtVertScrollTop:function(n,t){this._suppressVirtVertScroll(),this._setScrollContainerScrollTop(n/t*this._getScrollContainerHeight()),this._suppressVirtVertScroll(!1)},_onVirtualVerticalScroll:function(t,i,r){if(this._isHorizontal=!1,!this._isVirtVertScrollSuppressed()){var u,f=this._scrollContainer(),e,l=n.ig.util.isIE,c,o=parseInt(this.options.avgRowHeight,10),s=f.scrollTop(),h=this.options.virtualizationMode;return(i!==undefined&&(r==="down"?f.scrollTop(s+i):f.scrollTop(s-i),s=f.scrollTop()),e=f.scrollTop()-this._oldScrollTop,Math.abs(e)<5&&n.ig.util.isFF&&!l)?e:((h===undefined||h==="")&&(h="continuous"),h==="fixed"?(u=Math.ceil(f.scrollTop()/o),n.ig.util.isIE?(c=this._getScrollContainerHeight(),this._totalRowCount*o>=c+2&&(u=s+5>c-f.innerHeight()?this._getDataView().length-this._virtualRowCount:Math.ceil(s/c*this._totalRowCount))):u===this._startRowIndex&&this._virtualScrollMouseDown&&(e>0&&e<o?(u++,f.scrollTop(f.scrollTop()-e+o)):e<0&&Math.abs(e)<o&&(u--,f.scrollTop(f.scrollTop()-e-o))),u>this._totalRowCount-this._virtualRowCount&&(u=this._totalRowCount-this._virtualRowCount),u<0&&(u=0),u!==this._startRowIndex&&(this._startRowIndex=u,this._renderVirtualRecords())):h==="continuous"&&this._virtualScrollToInternal(s),this._oldScrollTop=f.scrollTop(),this._oldDisplayContainerScrollTop=this._vdisplaycontainer().scrollTop(),this._persistVirtualScrollTop&&this._saveFirstVisibleTRIndex(),e)}},_scrollContainer:function(){return this._scrollContainerObj&&this._scrollContainerObj.length!==0||(this._scrollContainerObj=this.container().find("#"+this.id()+"_scrollContainer")),this._scrollContainerObj},_onVirtualHorizontalScroll:function(n){var t,u=n===undefined,i=this._vhorizontalcontainer(),f=i.scrollLeft(),r=i[0].scrollWidth-i[0].offsetWidth;if(this.options.virtualization===!0&&this.options.virtualizationMode==="continuous"){this._onScrollContainer(n);return}this._isHorizontal=!0,r>0?(t=Math.ceil(f*this._totalColumnCount/r),t=Math.min(t,this._totalColumnCount-this._virtualColumnCount)):t=0,(u||t!==this._startColIndex)&&(this._startColIndex=t,this._renderVirtualRecords(),this._trigger("virtualhorizontalscroll",null,{startColIndex:this._startColIndex,endColIndex:this._startColIndex+this._virtualColumnCount-1}))},_initLoadingIndicator:function(){var n;this.container().data("igLoading")?this._loadingIndicator=this.container().data("igLoading").indicator():(n=this.container().igLoading().data("igLoading"),n&&(this._loadingIndicator=n.indicator()))},_addHorizontalScrollBar:function(t){this._outerHScrollbar=!0;var i=n('<div id="'+this.id()+'_hscroller_container" ><\/div>').css("height",this._scrollbarWidth()+"px").css("position","relative").css("display","none").css("overflow","hidden").append(n('<div id="'+this.id()+'_hscroller" ><\/div>').data("containerName","hScrollbar").css("width","100%").css("position","absolute").css("bottom","0px").css("overflow-x","scroll").css("overflow-y","scroll").append(n("<div id='"+this.id()+"_hscroller_inner' ><\/div>").css("height","1px")).bind("scroll",n.proxy(this._onScrollContainerHandler,this)));t&&i.insertAfter(t),this._registerScrllCntnrToSync(n("#"+this.id()+"_hscroller"))},_updateVirtualHorizontalScrollbar:function(){var t,n,i;t=this.container().find("#"+this.id()+"_horizontalScrollContainer div"),t.css("width",this._calculateContainerWidth(!1)),n=this._vhorizontalcontainer(),i=n.is(":visible"),n.width()>t.width()?n.css("display","none"):n.css("display",""),i!==n.is(":visible")&&this._initializeHeights()},_generateColumnFlatStructure:function(n){var t,i,r=[];t=n.slice(0),i=n.slice(0),this._multiColumnIdentifier=0,this._maxLevel=this._getMaxLevelRecursive(0,t),this._hiddenColumns={},this._analyzeMultiColumnHeaders(t,r,0,i,[]),this._oldCols=i,this.options.columns=r},moveColumn:function(t,i,r,u,f){var o=this,s,h,e,l,c,a=this._oldCols?n.extend(!0,[],this._oldCols):n.extend(!0,[],this.options.columns);if(r=r===null||r===undefined?!0:r,u=u===null||u===undefined?!0:u,e={column:t,target:i,after:r},this._oldCols?(s=this._performInternalMove(e,this._oldCols),l=n.extend(!0,{},this._hiddenColumns),this._generateColumnFlatStructure(this._oldCols),this._hiddenColumns=l,this._preserveColspans(this._oldCols)):s=this._performInternalMove(e,this.options.columns),s===!1)throw new Error(this._getLocaleValue("movingNotAllowedOrIncompatible"));if(e.columnFixed===e.targetFixed)h=this._buildColumnLayoutArray(a,e.columnFixed);else return e;t=e.column,i=e.target,r=e.after,c=e.columnFixed,u===!0?(this._loadingIndicator.show(),setTimeout(function(){o._columnMovingResets(),o._performDomColumnMove(t,i,r,h,c),o._updateVerticalScrollbarCellPadding(!0),o._loadingIndicator.hide(),f&&n.ig.util.invokeCallback(f,[o.options.columns])},0)):(this._columnMovingResets(),this._performColumnMove(t,i,r,h,c),f&&n.ig.util.invokeCallback(f,[o.options.columns]))},_columnMovingResets:function(){var t,n;for(this._updateHeaderColumnIndexes(),delete this._virtualDom,delete this._visibleColumnsArray,this._headerCells=[],t=0;t<this.options.columns.length;t++)n=this.container().find("#"+this.id()+"_"+this.options.columns[t].key).data("columnIndex",t),n.data("data-mch-order",t),n.length&&n[0].style.display!=="none"&&n[0].style.visibility!=="hidden"&&n.parent().is("tr")&&this._headerCells.push(n)},_preserveColspans:function(n){for(var r=0,t,u,i=0;i<n.length;i++)t=n[i],t.group!==undefined&&t.group!==null?(u=this._preserveColspans(t.group),t.colspan=u,r+=u):t.hidden!==!0&&r++;return r},_columnVisible:function(n){return!n.hidden},_buildColumnLayoutArray:function(t,i){var r=0,e=0,u,a,v,o,s=0,f,h=0,y=i?this.fixedBodyContainer().find("colgroup:first"):this.element.find("colgroup:first"),p=y.children("col:not([data-skip=true])").length,w=i?this.fixedHeadersTable():this.headersTable(),c=w.find("thead tr").length,l=[];for(c===0&&this.options.showHeader===!1&&(c=1),r=0;r<p;r++)l[r]=[];for(r=0;h<c;){for(f=[];r<t.length;){if(u=t[r],u.hidden===!0||this._isSubsetFixed(u)!==i){r++;continue}for(v=u.rowspan||1,a=this._getColMarkForLevel(u),o=u.colspan||1,e=0;e<o;e++)l[s+e][h]=a;u.crs===v&&u.group?f.push.apply(f,n.grep(u.group,this._columnVisible).slice(0)):f.push(u),s+=o,r++}t=f,h++,s=0,r=0}return l},_getColMarkForLevel:function(n){return(n.crs||(n.crs=0),n.crs++,n.crs>1)?-1:n.key||n.identifier},_performInternalMove:function(n,t){var i=0,r,u=!0;if(i=this._getColIdxById(t,n.column),typeof n.column=="number"&&(n.column=t[i].key||t[i].identifier),i||i===0)return(n.columnFixed=this._isSubsetFixed(t[i]),r=this._getColIdxById(t,n.target),typeof n.target=="number"&&(n.target=t[r].key||t[r].identifier,n.after=r>=i),r||r===0)?(n.targetFixed=this._isSubsetFixed(t[r]),delete t[i].oWidth,delete t[r].oWidth,u=u&&this._rearrangeArray(t,i,1,n.after===!0?r+1:r),u=u||n.targetFixed!==n.columnFixed):!1;for(i=0;i<t.length;i++)if(t[i].group&&this._performInternalMove(n,t[i].group)===!0)return!0;return!1},_getColIdxById:function(n,t){var i,r;if(typeof t=="number")return t;for(i=0;i<n.length;i++)if(r=n[i],r.key){if(r.key===t)return i}else if(r.identifier&&r.identifier===t)return i},_isSubsetFixed:function(n){var t;return n.group?(t=this._getMultiHeaderColumnById(n.identifier),!!t.children[0].fixed):!!n.fixed},_getCellIndexByColumnKey:function(n){var t=this.getVisibleIndexByKey(n);return t===-1?t:t+this.element.find("tbody>tr:not([data-grouprow='true'],[data-summaryrow='true']):first").children("th,td[data-skip='true'],td[data-parent]").length},_findColAreaInLayout:function(n,t,i){for(var u,f={},r=0;r<t.length;r++)if(t[r][i]===n){for(f.start=r,u=r;u<t.length;u++)if(t[u][i]!==n)break;return f.length=u-r,f}return null},_rearrangeArray:function(n,t,i,r){var f,e=t<r,u;if(t===r||t<0||r<0||t>=n.length||r>n.length)return!1;for(f=n.splice(t,i),u=0;u<f.length;u++)n.splice(e?r-i+u:r+u,0,f[u]);return!0},_moveColumnInHeader:function(n,t,i,r,u){for(var v,e,f,w,s,h,c,l,y,p,a=u?this.fixedHeadersTable().children("thead"):this.headersTable().children("thead"),o=0;o<r[0].length;o++)if(e=this._findColAreaInLayout(n,r,o),e&&(f=this._findColAreaInLayout(t,r,o),f))break;if((v=[e,f],!e||!f)||this.options.showHeader===!1)return v;for(this._moveThs({from:a},n,t,i);++o<r[0].length;){for(y=[],p=null,l=e.start;l<e.start+e.length;l++)r[l][o]!==-1&&r[l][o]!==p&&(p=r[l][o],y.push(p));if(w=i===!0?f.start+f.length-1:f.start,r[w][o]!==-1){this._moveThs({from:a},y,r[w][o],i);continue}i===!0?(h=f.start+f.length,c=e.start>f.start+f.length-1?e.start:r.length,s=this._findTargetRight(h,c,o,r),s||(h=f.start+f.length-2,c=e.start>f.start+f.length-1?-1:e.start+e.length,s=this._findTargetLeft(h,c,o,r))):(h=f.start-1,c=e.start>f.start+f.length-1?-1:e.start+e.length,s=this._findTargetLeft(h,c,o,r),s||(h=f.start+1,c=e.start>f.start+f.length-1?e.start:r.length,s=this._findTargetRight(h,c,o,r))),s&&s.pos&&s.left!==undefined&&s.left!==null&&this._moveThs({from:a},y,r[s.pos][o],s.left)}return v},_moveColumnInBodyFooter:function(t,i,r,u){var s,e,o,a,f,h,c=0,v,l,y,p,w=t.from||t;for(o=t.trsFrom||w.find(">tr:not([data-container='true'],[data-grouprow='true'])"),(t.to||t.trsTo)&&(v=t.trsTo||t.to.find(">tr:not([data-container='true'],[data-grouprow='true'])")),o.length>0&&!t.ignoreDataSkip&&(c=o.eq(0).find("[data-parent],[data-skip='true'],th").length),p=o.length,e=0;e<p;e++){for(f=n(),a=o.eq(e),l=v?v.eq(e):a,y=a.children(),s=i.start;s<i.start+i.length;s++)f=f.add(y.eq(s+c));if(r.start===-1){f.appendTo(l);continue}u===!0?(h=l.children().eq(r.start+r.length+c-1),f.insertAfter(h)):(h=l.children().eq(r.start+c),f.insertBefore(h))}},_findTargetRight:function(n,t,i,r){for(var f={},u=n;u>=0&&u<t&&u<r.length;u++)if(r[u][i]!==-1)return f.pos=u,f.left=!1,f},_findTargetLeft:function(n,t,i,r){for(var f={},u=n;u>=0&&u>t&&u<r.length;u--)if(r[u][i]!==-1)return f.pos=u,f.left=!0,f},_moveCols:function(t,i,r,u){for(var f=n(),e,s=t.from||t,h=t.to||s,c=t.ignoreDataSkip?0:s.children("[data-skip='true']").length,o=i.start;o<i.start+i.length;o++)f=f.add(s.children().eq(o+c));if(r.start===-1){f.detach().appendTo(h);return}u===!0?(e=h.children().eq(r.start+r.length+c-1),f.detach().insertAfter(e)):(e=h.children().eq(r.start+c),f.detach().insertBefore(e))},_moveThs:function(t,i,r,u){var e,f=n(),h,s,o,c=t.from||t,l=t.to||c;if(e=l.find("th[data-mch-id='"+r+"'],th[id='"+this.id()+"_"+r+"']"),typeof i=="object")for(s=0;s<i.length;s++)h=c.find("th[data-mch-id='"+i[s]+"'],th[id='"+this.id()+"_"+i[s]+"']"),h.attr("data-vscr-padding-icrement")&&(o=h),f=f.add(h);else f=c.find("th[data-mch-id='"+i+"'],th[id='"+this.id()+"_"+i+"']"),f.attr("data-vscr-padding-icrement")&&(o=f);f.detach(),u?f.insertAfter(e):f.insertBefore(e),e.attr("data-vscr-padding-icrement")&&u===!0?(f.last().css(this._padding,e.css(this._padding)).attr("data-vscr-padding-icrement",e.attr("data-vscr-padding-icrement")),e.css(this._padding,""),e.removeAttr("data-vscr-padding-icrement")):o&&(o.parent().children(":last").css(this._padding,o.css(this._padding)).attr("data-vscr-padding-icrement",o.attr("data-vscr-padding-icrement")),o.css(this._padding,""),o.removeAttr("data-vscr-padding-icrement"))},_moveSpecialThs:function(t,i,r,u){var o,s,f,a,h,e,c,l;for(a=u?this.fixedHeadersTable().children("thead"):this.headersTable().children("thead"),f=a.find(">tr[data-role]"),f.length>0&&(h=f.eq(0).find("[data-parent],[data-skip='true']").length),s=0;s<f.length;s++){for(e=n(),c=n(f[s]),o=t.start;o<t.start+t.length;o++)e=e.add(c.children("td,th").eq(o+h));r===!0?(l=c.children().eq(i.start+i.length+h-1),e.detach().insertAfter(l)):(l=c.children().eq(i.start+h),e.detach().insertBefore(l))}},_performDomColumnMove:function(n,t,i,r,u){var c=this._moveColumnInHeader(n,t,i,r,u),e=c[0],f=c[1],o,h,s=0;if(!e||!f){this._trigger("_columnsmoved",null,{owner:this});return}this._moveSpecialThs(e,f,i,u),this.options.fixedHeaders===!0&&this._moveCols({from:u?this.fixedHeadersTable().children("colgroup"):this.headersTable().children("colgroup")},e,f,i),o=u?this.fixedBodyContainer().children("table"):this.element,this._moveColumnInBodyFooter({from:o.children("tbody")},e,f,i),this._moveCols({from:o.children("colgroup")},e,f,i),this.options.fixedFooters===!0?(h=u?this.fixedFootersTable():this.footersTable(),this._moveColumnInBodyFooter({from:h.children("tfoot")},e,f,i),this._moveCols({from:h.children("colgroup")},e,f,i)):this._moveColumnInBodyFooter({from:o.children("tfoot")},e,f,i),(!u&&this.fixingDirection()==="left"||u&&this.fixingDirection()==="right")&&(s=this._fixedColumns?this._fixedColumns.length:0),this._trigger("_columnsmoved",null,{owner:this,start:e.start+s,len:e.length,index:i===!0?f.start+f.length+s:f.start+s,isFixed:u})},_performColumnMove:function(n,t,i,r,u){var s=this._moveColumnInHeader(n,t,i,r,u),e=s[0],f=s[1],o=0,c,h;this.options.fixedHeaders===!0&&this._moveCols({from:u?this.fixedHeadersTable().children("colgroup"):this.headersTable().children("colgroup")},e,f,i),this._moveSpecialThs(e,f,i,u),this._renderData(),h=u?this.fixedBodyContainer().children("table"):this.element,this._rerenderColgroups(),(!u&&this.fixingDirection()==="left"||u&&this.fixingDirection()==="right")&&(o=this._fixedColumns?this._fixedColumns.length:0),this._trigger("_columnsmoved",null,{owner:this,start:e.start+o,len:e.length,index:i===!0?f.start+f.length+o:f.start+o,isFixed:u})},showColumn:function(t,i){var f=this,u,r,e,o=[];if(this._loadingIndicator.show(),!this._isShowingAllowed([t]))return!1;if(this.isGroupHeader(t)){if(r=f._getMultiHeaderColumnById(t),r===null)return;for(e=r.children.length,u=0;u<e;u++)o.push(r.children[u].key);this._setHiddenMultipleColumns(o,[],i),r.hidden=!1,r.colspan=e}else setTimeout(function(){var r;r=f._setHidden(t,!1),f._loadingIndicator.hide(),i&&n.ig.util.invokeCallback(i,[[r],!1])},0);return!0},hideColumn:function(t,i){var u=this,f,r,e,o=[];if(!this._isHidingAllowed([t])||u._visibleColumns().length===1)return!1;if(this._loadingIndicator.show(),this.isGroupHeader(t)){if(r=u._getMultiHeaderColumnById(t),r===null)return;for(e=r.children.length,f=0;f<e;f++)o.push(r.children[f].key);this._setHiddenMultipleColumns([],o,i),r.hidden=!0,r.colspan=0}else setTimeout(function(){var r;r=u._setHidden(t,!0),u._loadingIndicator.hide(),i&&n.ig.util.invokeCallback(i,[[r],!0])},0);return!0},_setHiddenMultipleColumns:function(t,i,r){var u=this,f,e;u._loadingIndicator.show(),setTimeout(function(){for(var o,c=[],h,s=0;s<t.length;s++)o=t[s],typeof o=="number"?e=o:f=o,h=u._setHidden(o,!1),h&&c.push(h);for(s=0;s<i.length;s++){if(o=i[s],u._visibleColumns().length===1)break;typeof o=="number"?e=o:f=o,h=u._setHidden(o,!0),h&&c.push(h)}!u._allColumnWidthsInPixels&&n.ig.util.isFF&&u._refreshUI(),u._loadingIndicator.hide(),r&&n.ig.util.invokeCallback(r,[c,t.length===0])},0)},_setHidden:function(n,t){var i,r=!1;return(i=typeof n=="number"?this.options.columns[n]:this.columnByKey(n),i&&i.hidden!==t&&(this._setHiddenColumns([i],t,!1),this.element.igScroll!==undefined&&(this._vdisplaycontainer().data("igScroll")&&(this.options.virtualization===!0||this.options.rowVirtualization===!0)?(this._vdisplaycontainer().igScroll("refresh"),this._vdisplaycontainer().igScroll("option","scrollWidth",this._calculateContainerWidth())):this.scrollContainer().data("igScroll")&&this.scrollContainer().igScroll("refresh")),!t&&i._initiallyHidden&&i._shouldAutoSize&&(this.autoSizeColumns(),delete i._shouldAutoSize),r=!0),r)?i:null},_visibleAreaWidth:function(n){if(n!==undefined)this._minVAreaWidth=n;else return this._minVAreaWidth},_isShowingAllowed:function(n){if(!this.hasFixedColumns())return!0;for(var o=n.length,u=0,r,e,f,t,i=0;i<o;i++)(f=typeof n[i],t=f==="string"?this.columnByKey(n[i]):f==="number"?this.options.columns[n[i]]:n[i],t&&t.hidden)&&t.fixed&&(t.width||t.oWidth)&&(r=t.width||t.oWidth,r=parseInt(r,10),u+=r);return u!==0&&(e=this.container().outerWidth(),e-parseInt(this.fixedContainer().outerWidth(),10)-u<this._visibleAreaWidth())?!1:!0},_isHidingAllowed:function(n){if(!this.hasFixedColumns())return!0;for(var e=n.length,t,r,u=[],f=[],i=0;i<e;i++)(r=typeof n[i],t=r==="string"?this.columnByKey(n[i]):r==="number"?this.options.columns[n[i]]:n[i],t&&!t.hidden)&&(t.fixed?u.push(t):f.push(t));return u.length!==0&&this._visibleColumns(!0).length<=u.length||this._visibleColumns(!1).length<=f.length?!1:!0},_setHiddenColumns:function(t,i,r){var e=!1,s,f,u=this,l,h,o=this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0,a=this.options.virtualizationMode!=="continuous"&&(this.options.virtualization===!0&&this.options.width||this.options.columnVirtualization===!0),c=!1;if(t.length!==0){if(this._fireInternalEvent("_hidingFinishing",{columns:t,hidden:i}),o&&(c=this.options.virtualizationMode==="continuous",u._updateVirtColCounters(),c||(n.each(t,function(n,t){var r=u._virtualColumnCount;t.hidden=i,u._visibleColumnsArray=undefined,u._updateVirtColCounters(),u._virtualColumnCount!==r&&(u._virtualColumnCount<r?u._detachColumn(t):u._virtualColumnCount>r&&u._attachColumn(t),e=!0,u._resetVirtualDom())}),a&&(this._vheaders=undefined,this._updateVirtualHorizontalScrollbar(),this._onVirtualHorizontalScroll(),this._initialized||this._adjustLastColumnWidth(!0)),this._renderVirtualRecords())),(!o||c)&&(n.each(t,function(t,r){var f;r.hidden=i,u._visibleColumnsArray=undefined,r.hidden?(f=u._detachColumn(r),u.element.find("colgroup>col").not("[data-skip]").eq(f).attr("data-hiding",!0)):(u._attachColumn(r),n('<col data-showing="true">').width(r.width).appendTo(u.element.find("colgroup")))}),this._isHierarchicalGrid&&this.element.children("tbody").children("tr[data-container]").children().remove(),this._cleanupTBody(),this.hasFixedColumns()&&this._rerenderColgroups(),e=!0,o?(this._updateVirtColCounters(),this._initialized&&this._renderVirtualRecords()):this._renderRecords(),u.element.find("colgroup>col[data-showing]").remove(),u.element.find("colgroup>col[data-hiding]").removeAttr("data-hiding")),e)if(this._initialized)this._visibleColumns().length>0&&(this._rerenderColgroups(r),this._adjustLastColumnWidth(!0),h=this._visibleColumns().length,s=n.grep(this._visibleColumns(),function(n){return n.width}).length,s===h&&(this.options.width&&parseInt(this.options.width,10)>0?this._updateGridContentWidth():(this._setContainerWidth(this.container()),o&&(f=this._calculateContainerWidth(!0),this.options.height!==null&&(f-=this._scrollbarWidth()),this._vdisplaycontainer().css("width",f).css("max-width",f)))));else{if(this._visibleColumns().length===0)throw new Error(this._getLocaleValue("allColumnsHiddenOnInitialization"));this._rerenderColgroups(r),this._adjustLastColumnWidth(!0),o&&this._renderVirtualRecords()}this.element.trigger("iggriduisoftdirty",{owner:this}),this._trigger(this.events.columnsCollectionModified,null,{owner:this}),e&&o&&this._visibleColumns().length>0&&s===h&&(this.options.virtualizationMode==="continuous"&&(isNaN(f)||(f+=this._calculateSpecialColumnsWidth(),this._vdisplaycontainer().css("width",f).css("max-width",f))),isNaN(f)||this.container().find("#"+this.id()+"_virtualContainer>colgroup col").eq(0).attr("width",f),(this.options.width===null||this.options.width===undefined)&&this._setContainerWidth(this.container().find("#"+this.id()+"_headers_v"))),this._origWidth=parseInt(this.container().css("width"),10),e&&n.ig.util.isSafari&&this.options.showHeader&&(u.headersTable().find("[data-header-row]").hide(),u.fixedHeadersTable().find("[data-header-row]").hide(),setTimeout(function(){u.headersTable().find("[data-header-row]").show(),u.fixedHeadersTable().find("[data-header-row]").show(),u.options.height&&u._initializeHeights()},0)),e&&(n.ig.util.isFF||n.ig.util.isIE8)&&(l=this.options.width===null||typeof this.options.width=="string"&&this.options.width.indexOf("%")!==-1,l&&(n.ig.util.isIE8&&this._refreshUI(),this._refreshTableUI(this.element),this.options.showHeader&&this._refreshTableUI(this.headersTable()),this.options.fixedFooters===!0&&this.options.height!==null&&this._refreshTableUI(this.footersTable()))),e&&this._checkAndReinitializeContainersHeights(),this._fireInternalEvent("_hidingFinished",{columns:t,hidden:i})}},_refreshTableUI:function(n){if(n.length){var t;t=n[0].style.overflow,n[0].style.overflow="hidden",setTimeout(function(){n[0].style.overflow=t},0)}},_checkAndReinitializeContainersHeights:function(i){var r;t(this.options.height)||!this.options.height||n.type(this.options.height)==="string"&&this.options.height.indexOf("%")>0||(r=this.container(),r.length)&&(t(i)&&(i=r.height()),r[0].scrollHeight-i>1&&this._initializeHeights())},_calculateSpecialColumnsWidth:function(){var i=0,t=n();return this.hasFixedColumns()&&this.fixingDirection()==="left"&&(t=this.fixedHeadersTable().find("> colgroup > col[data-skip=true]")),this.headersTable().find("> colgroup > col[data-skip=true]").each(function(){t=t.add(this)}),t.each(function(){var n=this.style.width;n&&(i+=parseInt(n,10))}),i},_allSpecialColumnsInPercentage:function(){for(var t=this.headersTable().find("> colgroup > col[data-skip=true]"),n=0;n<t.length;n++)if(!t[n].style.width.endsWith("%"))return!1;return!0},_synchronizeHScroll:function(){var s=this.options.showHeader&&this.options.fixedHeaders===!0&&this.options.height!==null,h=this.options.showFooter&&this.options.fixedFooters===!0&&this.options.height!==null,r=this._hscrollbarcontent(),i=this.scrollContainer(),u,f,t=r.scrollLeft(),e,o;if(r.length===0)if(f=n("#"+this.id()+"_horizontalScrollContainer"),f.length===1)t=f.scrollLeft(),this._vdisplaycontainer().scrollLeft(t);else return;else i.length>0?(i.scrollLeft(t),(i.scrollLeft()!==0||this.element.height()!==0)&&(t=i.scrollLeft(),r.scrollLeft(t))):(u=this._vdisplaycontainer(),u.length&&u.scrollLeft(t));s&&(e=this.headersTable().parent(),e.scrollLeft(t)),h&&(o=this._fixedfooters(),o.scrollLeft(t))},_updateGridContentWidth:function(){var t=0,r=this._gridHasWidthInPixels(),i,u,f=this.options.height!==null&&this.options.fixedHeaders===!0&&this.options.showHeader&&this._headerParent,e=this._isMultiRowGrid()&&this._rlp.length?this._rlp[0]:this._visibleColumns();(n.each(e,function(n,i){var r=i.col||i;if(r.fixed===!0)return!0;t===undefined||!r.width||r.width.charAt&&r.width.endsWith("%")?t=undefined:t+=parseInt(r.width,10)}),t!==undefined)&&(t+=this._calculateSpecialColumnsWidth(),!f&&this._hasVerticalScrollbar&&(!r||r&&t<=parseInt(this.options.width,10))&&(t-=this._scrollbarWidth()),this.options.width!==null&&this.options.height!==null&&(i=this._hscrollbarcontent(),u=i.scrollLeft()),this._setGridContentWidth(t),this.options.height===null||this.options.width===null||this.options.virtualization||this.options.rowVirtualization||this.options.columnVirtualization||this._updateVerticalScrollbarCellPadding(),this.options.width!==null&&this.options.height!==null&&(i.scrollLeft(u),this._synchronizeHScroll()))},_updateVerticalScrollbarCellPadding:function(n){var t=this.options,u=t.showHeader&&t.fixedHeaders===!0&&t.height!==null,f=t.showFooter&&t.fixedFooters===!0&&t.height!==null,e=t.virtualization===!0||t.columnVirtualization===!0||t.rowVirtualization===!0,o=!e&&t.height&&(!f||!u)&&this.hasFixedColumns()&&this.fixingDirection()==="right",r,i;if(t.height!==null)return(r=this._gridInnerWidth===undefined||this._gridContentWidth===undefined?0:this.element.closest("div").width()-this.element.width(),i=this._hasVerticalScrollbar||(t.virtualization||t.rowVirtualization)&&typeof t.width=="string"&&t.width.indexOf("%")>0?this._scrollbarWidth():0,e||!o&&!u&&!f&&!(r>=0&&r<i))?void 0:(i-=r>=0?r:0,i=i<0?0:i,this._updateVScrollbarCellPaddingHelper(i,n),i)},_updateVScrollbarCellPaddingHelper:function(n,t){var i=this.options.showFooter&&this.options.fixedFooters===!0&&this.options.height!==null;t||(this.options.showHeader&&this.options.height!==null&&(this.options.fixedHeaders?this._increaseLastHeaderCellVScrollbarPadding(this.headersTable(),n):this._increaseLastCellVScrollbarPadding(this.element,"thead","th",n)),i?this._increaseLastCellVScrollbarPadding(this.footersTable(),"tfoot","td",n):this._increaseLastCellVScrollbarPadding(this.element,"tfoot","td",n)),this._increaseLastCellVScrollbarPadding(this.element,"tbody","td",n)},_getLastCellsInMCH:function(t){var u,s=this._maxLevel,e,i=n(),r,o,f;if(t||(t=this.headersTable()),u=t.find("thead"),!s||!u.length)return i;for(r=s;r>=0;r--)(e=u.children("tr[data-mch-level="+r+"]"),e.length)&&(o=e.children("th:last-child").not("[data-skip=true]"),i=i.add(o),f=parseInt(o.attr("rowspan"),10),!isNaN(f)&&f>1&&(r-=f-1));return i=i.add(u.children("tr:not([data-mch-level])").not("[data-skip=true]").children("th:last-child").not("[data-skip=true]"))},_increaseLastHeaderCellVScrollbarPadding:function(n,t){var i,f,e,r="",u=0,o=!1;if(this._isMultiColumnGrid)o=!0,i=this._getLastCellsInMCH(n);else if(this._isMultiRowGrid()){for(u=0;u<this._rlm.length;u++)r+="#"+this.id()+"_"+this._rlm[u][this._maxCols-1]+", ";r=r.slice(0,r.lastIndexOf(", ")),i=n.find(r)}else o=!0,i=n.children("thead").children("tr").not("[data-skip=true]").children("th:last-child").not("[data-skip=true]");f=parseInt(i.first().attr("data-vscr-padding-icrement"),10),e=parseInt(i.first().css(this._padding),10),f&&(e-=f),this._removeHeaderCellPadding(n),i.css(this._padding,e+t),i.first().attr("data-vscr-padding-icrement",t),o&&i.find("[data-nonpaddedindicator=right]").css(this._rtl?"margin-left":"margin-right",-parseInt(i.css(this._padding),10)+"px")},_removeHeaderCellPadding:function(n,t){var i=":not(:last)";t===!0&&(i=""),n.find("thead > tr > th"+i+"[data-vscr-padding-icrement],thead > tr > td:not(:last)[data-vscr-padding-icrement]").removeAttr("data-vscr-padding-icrement").css(this._padding,"")},_removeCellPadding:function(t,i,r,u){var f,e,o,s=":not(:last)";for(u===!0&&(s=""),o=t.find(" > "+i+" > tr:first > "+r+s+"[data-vscr-padding-icrement]"),f=0;f<o.length;f++)e=n(o[f]),e.removeAttr("data-vscr-padding-icrement"),t.find(" > "+i+" > tr > "+r+":nth-child("+(e.index()+1)+")").css(this._padding,"")},_increaseLastCellVScrollbarPadding:function(t,i,r,u){var e,f=t.find(" > "+i+" > tr > "+r+":last-child"),s=parseInt(f.first().attr("data-vscr-padding-icrement"),10),o=0,h;if(this._isMultiRowGrid()){for(f=[],o=0;o<this._rlm.length;o++)h=this._getCellsByColKey(t,this._rlm[o][this._maxCols-1]),h.length>0&&(f=f.concat(h.toArray()));f=n(f),s=parseInt(f.first().attr("data-vscr-padding-icrement"),10)}this._removeCellPadding(t,i,r),e=parseInt(f.first().css(this._padding),10),e=e||0,s&&(e-=s),f.css(this._padding,e+u),f.first().attr("data-vscr-padding-icrement",u)},_updateHScrollbarVisibility:function(){var i=this.options,e=i.columnVirtualization===!0,o=this._getHScrollContainerInner(),t=this._hscrollbar(),f=t.is(":visible"),s=this._gridInnerWidth,u=this._gridContentWidth,r=!1,h=this;if(!t.length&&(e||i.virtualizationMode==="continuous")&&(t=this._vhorizontalcontainer(),f=t.is(":visible")),t.css("display",""),!t.is(":visible")&&t.length>0){t.css("display","none");return}(i.rowVirtualization||i.virtualization)&&(s=this.element.parent().width(),n.ig.util.isIE&&this._allColumnWidthsInPixels?(u=0,this.element.find(">colgroup>col").each(function(n,t){var i=t.width||t.style.width;if(i&&i.indexOf("px")>0)u+=parseInt(i,10);else return u=h.element.width(),!1})):u=this.element.width()),s<u?i.virtualizationMode==="continuous"&&(t.length===0||o.length===0)?(this._vhorizontalcontainer().empty(),this._renderHorizontalScrollContainer(this._calculateContainerWidth(!1)),r=!0):(i.virtualization||i.rowVirtualization)&&(!i.width||i.width.indexOf&&i.width.indexOf("%")>0)&&!this._allColumnWidthsInPercentage&&!this._allColumnWidthsInPixels&&t.css("display","none"):(i.virtualizationMode==="continuous"&&t.length===0&&o.length&&(this._vhorizontalcontainer().empty().attr("style",""),r=!0),t.css("display","none")),e&&(t.css("display",""),r=!f),r=r||t.is(":visible")!==f,i.autoAdjustHeight&&r&&this._initializeHeights()},_applyAutofitLastColInVirtGrid:function(n){var t=this.options,i,r;return!t.rowVirtualization||t.columnVirtualization||t.autofitLastColumn?!0:(n=n||this._gridContentWidth,r=this._gridHasWidthInPixels()&&n<parseFloat(t.width)&&n,i=this._allColumnWidthsInPixels&&this._gridHasWidthInPercent(),!(r||i))},_setGridWidthVirtGrid:function(t){var r=t,f=this.id(),e,s,h=this._scrollbarWidth(),o=this.hasFixedColumns(),i=typeof t=="string"&&t.indexOf("%")>0,u=t,c=this._hscrollbar().length?this._hscrollbar().is(":visible"):this._vhorizontalcontainer().is(":visible");o&&!i&&(r=parseInt(t,10)-this.fixedBodyContainer().outerWidth()),u=i?t:parseInt(r,10)-h,this.container().css("width",t),this.element.css("width",i?"100%":u),this.options.fixedHeaders&&this.headersTable().css("width",i?"100%":r),this.container().find("#"+f+"_headers_v").css("max-width","").css("width",i?"100%":r),this._vdisplaycontainer().css("max-width","").css("width",i?"100%":u),this._virtualcontainer().css("width",i?"100%":r),e=this._virtualcontainer().find("> colgroup > col"),s=o&&this.fixingDirection()==="left"?e.eq(1):e.first(),s.attr("width",i?"100%":u),this.container().find("#"+f+"_footer_container").css("max-width","").css("width",i?"100%":r),this.container().find("#"+f+"_footers").css("max-width","").css("width",i?"100%":r),this._vhorizontalcontainer().css("width",i?"100%":n.ig.util.isFF?parseFloat(r)-h:r),!this.options.autofitLastColumn||o&&this.fixingDirection()==="right"||(this._rerenderColgroups(),this._adjustLastColumnWidth(!0)),this._gridInnerWidth=this._vdisplaycontainer().width(),this._allColumnWidthsInPixels&&i&&(this.options.fixedHeaders&&this.headersTable().css("max-width",this._gridInnerWidth),this.element.css("max-width",this._gridInnerWidth),this.options.fixedFooters&&this.footersTable().css("max-width",this._gridInnerWidth)),this._updateGridContentWidth(),c!==this._vhorizontalcontainer().is(":visible")&&(this._rerenderColgroups(),this._updateGridContentWidth())},_setGridWidth:function(n){if(this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0)return this._setGridWidthVirtGrid(n);var i=n,r=this.hasFixedColumns(),t=typeof n=="string"&&n.indexOf("%")>0;r&&n&&!t?i=parseInt(n,10)-this.fixedBodyContainer().outerWidth():t&&(i="100%"),this.container().css("width",n),this.element.css("width",i),this.options.fixedHeaders&&this.headersTable().css("width",t?"100%":n),this.options.fixedFooters&&this.footersTable().css("width",t?"100%":n),this._allColumnWidthsInPercentage&&t||(this._gridInnerWidth=this.scrollContainer().width()),!this.options.autofitLastColumn||r&&this.fixingDirection()==="right"||(this._rerenderColgroups(),this._adjustLastColumnWidth(!0)),(this.options.width!==null||this.options.height!==null)&&this._updateGridContentWidth()},_setGridContentWidth:function(t){var u=this.options,i,f,e,o,s=this.hasFixedColumns(),h=this.fixingDirection()==="right",r=u.virtualization===!0||u.rowVirtualization===!0||u.columnVirtualization===!0;r===!1||u.rowVirtualization&&!this._applyAutofitLastColInVirtGrid(t)?(this._setGridTablesWidth(t),r&&(this._avgRowHeight=this._calculateAvgRowHeight(),o!==this._avgRowHeight&&this._trigger("avgRowHeightChanged",null,{owner:this,oAvgRowHeight:null,avgRowHeight:this._avgRowHeight}))):this._checkAndSetTableWidths(),this.options.height!==null&&(this._gridContentWidth=t||this._gridContentWidth,this._gridContentWidth&&(i=(this._hasVerticalScrollbar||this.options.rowVirtualization||this.options.virtualizationMode==="continuous"&&this.options.virtualization)&&!(n.ig.util.isFF&&r)&&!(s&&h)&&this.options.fixedHeaders?this._gridContentWidth-this._scrollbarWidth():this._gridContentWidth,f=this._getHScrollContainerInner(),r||f.length||(e=this.element.parent(),this._addHorizontalScrollBar(e),e.css("overflow-x")!=="hidden"&&e.css("overflow-x","hidden"),f=this._getHScrollContainerInner()),i=r&&!n.ig.util.isIE&&!this.hasFixedColumns()?this.element.width()||i:i,f.css("width",i)),this._updateHScrollbarVisibility())},_checkAndSetTableWidths:function(){var n=this.options,i,t;t=function(n,t){if(n.length){var i=n[0].style.width;return!i||i.indexOf("%")>0?null:(t||(t=0,n.find(">colgroup>col").each(function(n,i){var r=i.width||i.style.width;if(!r||r.indexOf&&r.indexOf("%")>0)return t=0,!1;t+=parseInt(r,10)})),t&&(n[0].style.width=t+"px"),t)}},n.showHeader&&n.fixedHeaders&&n.height!==null&&(i=t(this.headersTable())),t(this.element,i),n.showFooter&&n.fixedFooters===!0&&n.height!==null&&t(this.footersTable(),i)},_setGridTablesWidth:function(n){var t=this.options.showHeader&&this.options.fixedHeaders===!0&&this.options.height!==null,i=this.options.showFooter&&this.options.fixedFooters===!0&&this.options.height!==null;this.element.css("width",n),t&&this.headersTable().css("width",n),i&&this.footersTable().css("width",n)},_detachHiddenColumns:function(){for(var t,n=0;n<this.options.columns.length;n++)t=this.options.columns[n],t.hidden&&this._detachColumn(t)},_rerenderColgroups:function(){var t=this.options.height!==null&&this.options.fixedHeaders===!0&&this.options.showHeader,i=this.options.height!==null&&this.options.fixedFooters===!0&&this.options.showFooter,n=this.options.autofitLastColumn;t&&(this.headersTable().children("colgroup").remove(),this._renderColgroup(this.headersTable()[0],!0,!1,n)),i&&(this.footersTable().children("colgroup").remove(),this._renderColgroup(this.footersTable()[0],!1,!0,n)),this.element.children("colgroup").remove(),this._renderColgroup(this.element[0],!1,!1,n),this._fireInternalEvent("_colgroupsRerendered")},_detachColumn:function(t){var i,u,r,f=this._isMultiColumnGrid;return t.hidden=!1,this._visibleColumnsArray=undefined,u=this._visibleColumns(),i=n.inArray(t,u),t.hidden=!0,this._visibleColumnsArray=undefined,this._initializeDetachedContainers(),r=this.headersTable().children("thead").children("tr").not("[data-skip=true]"),f?(this._hideMultiHeaderCells(this._headerCells,t.key),r=this.headersTable().children("thead").children("tr:not([data-mch-level])").not("[data-skip=true]"),this._detachCells(r,function(n){return n.filter(":not([data-new-row],[data-add-row])").children("th, td").not("[data-skip=true]")},i,this._detachedHeaderCells,t.key)):this._detachCells(r,function(n){return n.filter(":not([data-new-row],[data-add-row])").children("th, td").not("[data-skip=true]")},i,this._detachedHeaderCells,t.key),this._detachCells(this.footersTable().children("tfoot").children("tr"),function(n){return n.children("td").not("[data-skip=true]")},i,this._detachedFooterCells,t.key),i},_attachColumn:function(t){var r,u=this._visibleColumns(),i=n.inArray(t,u);return this._initializeDetachedContainers(),this._isMultiColumnGrid?(this._showMultiHeaderCells(t.key),r=this.headersTable().children("thead").children("tr:not([data-mch-level])").not("[data-skip=true]"),this._attachCells(r,function(n){return n.children("th, td").not("[data-skip=true]")},i,this._detachedHeaderCells,t.key),delete this._detachedHeaderCells[t.key]):this._attachCells(this.headersTable().children("thead").children("tr").not("[data-skip=true]"),function(n){return n.children("th, td").not("[data-skip=true]")},i,this._detachedHeaderCells,t.key),this._attachCells(this.footersTable().children("tfoot").children("tr"),function(n){return n.children("td").not("[data-skip=true]")},i,this._detachedFooterCells,t.key),i},_initializeDetachedContainers:function(){this._detachedContainersInitialized||(this._detachedHeaderCells={},this._detachedFooterCells={},this._detachedContainersInitialized=!0)},_getParentsMultiHeader:function(n){for(var i=this._oldCols,u=i.length,r=[],t=0;t<u;t++){if(i[t].key===n||i[t].identifier===n){r.push(i[t]);break}if(i[t].group&&this._getParentsMultiHeaderRecursive(n,i[t].group,r)===!0){r.push(i[t]);break}}return r},_getParentsMultiHeaderRecursive:function(n,t,i){for(var u=t,e=t.length,f=!1,r=0;r<e;r++){if(u[r].key===n||u[r].identifier===n){i.push(u[r]),f=!0;break}if(u[r].group&&this._getParentsMultiHeaderRecursive(n,u[r].group,i)===!0){i.push(u[r]),f=!0;break}}return f},_hideMultiHeaderCells:function(t,i){for(var u,c=this._getParentsMultiHeader(i),o,s,f,a=this.headersTable().find("thead > tr"),e,h=-1,l=[],r=0;r<t.length;r++)if(this.id()+"_"+i===t[r].attr("id")){h=r;break}if(h===-1){if(u=n("#"+this.id()+"_"+i),!u.length||!u.parent().is("tr"))return}else u=t[h],this._headerCells.splice(h,1);if(e=u.closest("tr"),e[0].style.height===""&&(e[0].style.height=e.outerHeight()+"px"),u.css("display","none"),this._hiddenColumns[i]=u,l.push(u),this._detachedHeaderCells[i]=l,c.length>0)for(r=0;r<c.length;r++)(o=c[r],o.level!==0)&&(f=a.find("th[data-mch-id="+o.identifier+"]"),f.length===0&&(f=this.fixedHeadersTable().find("thead > tr").find("th[data-mch-id="+o.identifier+"]")),s=parseInt(f.attr("colspan"),10),s>1?(f.attr("colspan",--s),o.colspan=s):(e=f.closest("tr"),e[0].style.height===""&&(e[0].style.height=e.outerHeight()+"px"),f.attr("ishidden",1),f.css("display","none"),o.hidden=!0,o.colspan=0))},_detachCells:function(t,i,r,u,f){var h=[],o,s,e;if(t.length>0){for(o=0;o<t.length;o++)s=i(t.eq(o)),e=s.eq(r),s.length===1&&e.after(n("<"+e[0].tagName+"><\/"+e[0].tagName+">").attr("data-hiddenreplacement","true").css("height",e.height()).attr("class",e.attr("class"))),h.push(e.detach());u[f]=h}},_showMultiHeaderCells:function(n){var t,u=this._hiddenColumns[n],e=this._getParentsMultiHeader(n),i,o,r,c,l,a=this._headerCells.length,v=this.headersTable().find("thead > tr"),y,s,f,p,h;if(u!==null&&u!==undefined){for(c=u.data("data-mch-order"),t=0;t<a;t++)if(l=this._headerCells[t].data("data-mch-order"),c<l){this._headerCells.splice(t,0,u);break}if(t===a&&this._headerCells.push(u),u.css("display",""),u.removeAttr("ishidden"),e.length>0)for(t=0;t<e.length;t++)(i=e[t],i.level!==0)&&(r=v.find("th[data-mch-id="+i.identifier+"]"),r.length===0&&(r=this.fixedHeadersTable().find("thead > tr").find("th[data-mch-id="+i.identifier+"]")),y=r.attr("ishidden")==="1",o=parseInt(r.attr("colspan"),10),y?(r.removeAttr("ishidden"),r.css("display",""),i.hidden=!1,i.colspan=1):(r.attr("colspan",++o),i.colspan=o,h=i.children.filter(this._columnVisible),f=h.indexOf(this.columnByKey(n)),s=f===0?1:f-1,p=f>s,this._moveThs({from:v},n,h[s].key,p)))}},_attachCells:function(n,t,i,r,u){var f,e,o,h,s;if(n.length>0){if(this.options.virtualization===!0||this.options.columnVirtualization===!0)if(f=r[u],f===null||f===undefined){for(s in r)if(r.hasOwnProperty(s)){f=r[s],delete r[s];break}}else delete r[u];else f=r[u],delete r[u];if(f===undefined||f===null)return;for(e=0;e<n.length;e++)o=t(n.eq(e)).not("[data-hiddenreplacement=true]"),i===0?o.length===0?(h=n.eq(e).find("[data-hiddenreplacement=true]"),h.after(f[e]),h.remove()):o.eq(0).before(f[e]):o.eq(i-1).after(f[e])}},_cleanupTBody:function(){return this._fireInternalEvent("_cleanupTBody"),this.element.children("tbody").empty()},_captureInitiallyHiddenColumns:function(){this._initialHiddenColumns=n.grep(this.options.columns,function(n){var t=n.hidden;return n.hidden=!1,t})},getUnboundValues:function(n){var t;return n===undefined||n===null?this._unboundValues:(t=this._unboundValues[n],(t===undefined||t===null)&&(t=this.getUnboundColumnByKey(n)!==null?[]:null),t)},setUnboundValues:function(n,t,i){var r,u=this.getUnboundColumnByKey(n),o,f,e,s=!1;if(u&&!u.formula)if(o=u.unboundValues,i){for(u.unboundValues=t,f=this.dataSource.data(),e=f.length,r=0;r<e;r++)f[r][n]!==null&&f[r][n]!==undefined&&(s=!0,delete f[r][n]);s&&this._renderData()}else if(e=t.length,o&&o.length>e)for(r=0;r<e;r++)u.unboundValues[r]=t[r];else u.unboundValues=t;this._hasInitialUnboundValues||(this._hasInitialUnboundValues={}),this._hasInitialUnboundValues[n]=!0,this._renderUnboundValues(t,n)},setUnboundValueByPK:function(t,i,r,u){var l=this.dataSource.data(),s,f,h,c,a=this.options.primaryKey,e,o;if(n.type(t)==="string"?(e=t,t=this.columnByKey(e)):e=t.key,!t||!t.unbound)return!1;if(a===null)o=parseInt(i,10),f=l[o];else if(s=this.columnByKey(this.options.primaryKey),s)o=i,s.dataType==="number"||s.dataType==="numeric"?(o=parseInt(i,10),f=this.dataSource.findRecordByKey(i)):f=this.dataSource.findRecordByKey(i);else return!1;return f?(r===undefined&&t.formula&&(c=this._getUnboundColumnFormula(t),c&&(r=c.apply(t,[f,this.element]))),f[e]=this.dataSource&&this.dataSource.schema?this.dataSource.schema()._convertType(t.type,r,o,e):r,u||(h=this.rowById(i,t.isFixed),h.length&&this._renderRow(f,h[0])),f):!1},_getUnboundColumnFormula:function(n){if(!n)return null;var t=null,i=typeof n;if(i==="string"){if(n=this.getUnboundColumnByKey(n),!n)return null;i=typeof n}return!n.formula||i!=="object"?null:(t=n.formula,typeof t=="function")?t:window[t]&&typeof window[t]=="function"?window[t]:null},_renderUnboundValues:function(n,t,i){var r,u=this.dataSource.data(),l=u.length,e=n.length,a=!1,f="string",o=this.options.primaryKey,s,c,h;if(e!==0&&(s=this.getUnboundColumnByKey(t),s!==null)){for(this.dataSource&&this.dataSource.schema&&s.dataType&&(f=s.dataType,a=!0,c=this.dataSource.schema()),o===undefined&&(o=null),r=0;r<e;r++){if(u[r]===undefined||u[r]===null)break;a&&(h=o===null?r:u[r][o],n[r]=c._convertType(f,n[r],h,t)),u[r][t]=n[r],this._addUnboundColumnValue(t,n[r],r)}if((f==="bool"||f==="boolean")&&e<l)for(r=e;r<l;r++)u[r][t]=c._convertType(f,null,h,t);(this.options.virtualization===!0||this.options.rowVirtualization===!0&&this._persistVirtualScrollTop)&&this._scrollTo(0),i!==!0&&this._renderColumnData(t,this._getDataView())}},getUnboundColumnByKey:function(t){if(this._unboundColumns===undefined||this._unboundColumns===null||this._unboundColumns.length===0||t===null||t===undefined)return null;var i=null;return n.each(this._unboundColumns,function(n,r){if(r.key===t)return i=r,!1}),i},_renderColumnData:function(t,i){if(i=i||this._getRenderedDataRecords(),i.length!==0){var r=this.columnByKey(t),f=this,e,o,s,u;r&&this._columnVisible(r)&&(e=r.fixed?n("#"+this.id()+"_fixed"):this.element,o=r.template&&r.template.length>0,s=this._getCellsByColKey(e.find("tbody"),t),s.slice(0,i.length).each(function(e){var s=i[e],h;if(!s)return!0;o?(u=f._renderTemplatedCell(s,r),h=u.indexOf("<td")===0?n(u).html():u):h=f._renderCell(s[t],r,s),n(this).html(h)}))}},_renderData:function(i,r,u){i===undefined&&this._isDataBoundCalled||(this._trigger(this.events.dataBound,null,{owner:this,dataSource:this.dataSource}),this._isDataBoundCalled=!1);var w=this.element,l,h=this,b=!0,ft=0,e,a,k,v,o,et,f,y,s,ot=0,d=!1,g=!0,nt=this._inferOpType()==="remote",tt,c,st,p,it=!1,rt=String(this.options.templatingEngine).toLowerCase()==="jsrender",ht,ut=this._getIgScrollPositionTop();if(this._initialized||this.options.autoGenerateColumns!==!0||this._generateColumns(),(this.requiresDataBinding===!0||this._isToSetUnboundColumns===!0||nt)&&this._hasUnboundColumns){for(this._isToSetUnboundColumns=!1,(this._hasInitialUnboundValues===null||this._hasInitialUnboundValues===undefined)&&(this._hasInitialUnboundValues={}),e=this.options.columns,k=e.length,v=this.dataSource.data(),tt=function(t,i,r){n.each(t,function(n,t){t[o]=i.apply(r,[t,w]),h._addUnboundColumnValue(o,t[o],n)})},a=[],nt&&(this._unboundValues={}),f=0;f<k;f++)e[f].unbound===!0&&(o=e[f].key,e[f].unboundValues!==null&&e[f].unboundValues!==undefined&&n.type(e[f].unboundValues)==="array"?(this._rebindUnboundColumns===!0||e[f].unboundValues.length>0&&this._hasInitialUnboundValues[o]===undefined)&&(this._hasInitialUnboundValues[o]=!0,this._renderUnboundValues(e[f].unboundValues,o,!0)):e[f].formula!==null&&e[f].formula!==undefined?(y=this._getUnboundColumnFormula(e[f]),y&&tt(v,y,e[f])):this._unboundValues[o]&&this._unboundValues[o].length>0&&a.push(o));if(this._rebindUnboundColumns=!1,this.options.localSchemaTransform===!0&&a.length>0&&v.length>0)for(f=0;f<a.length;f++)o=a[f],v[0][o]===undefined&&this._renderUnboundValues(this._unboundValues[o],o);this.options.mergeUnboundColumns===!1&&this._mergeUnboundValues()}if(i===!1&&(g=this._trigger(this.events.requestError,null,{owner:this,message:r,response:u}),g))throw new Error(r);if(this._cancelRendering===!0){this._cancelRendering=!1;return}if(this.element.trigger("iggriduisoftdirty",{owner:this}),!this._initialized)if(this.options.autoGenerateColumns===!0)for((this.options.virtualization===!0||this.options.columnVirtualization===!0)&&this.options.width&&(p=this._calculateContainerWidth(!1),p>parseInt(this.options.width,10)&&n("#"+this.id()+"_horizontalScrollContainer").children().length===0&&this._renderHorizontalScrollContainer(p)),f=0;f<this.options.features.length;f++)this._initFeature(this.options.features[f],this._dataOptions);else for(e=this.options.columns,f=0;f<e.length;f++)e[f].headerText===undefined&&(e[f].headerText=e[f].key),!e[f].dataType&&this.dataSource.data().length>0?e[f].dataType=n.ig.getColType(this.dataSource.data()[0][e[f].key]):e[f].dataType||this.dataSource.data().length!==0||(e[f].dataType="string");if(c=w.children("tbody"),b=this._trigger(this.events.dataRendering,null,{owner:this,tbody:c}),b){if(this.options.dataSource&&this.options.dataSource.tagName&&n(this.options.dataSource).is("table")?d=!0:c=this._cleanupTBody(),this._resetVirtualDom(),this._initialized||(this.options.autoGenerateColumns===!0&&(this._captureInitiallyHiddenColumns(),this._visibleColumnsArray=undefined,this._updateVirtColCounters()),d&&c.empty(),this._renderHeaderCalled!==!0?(this._renderHeader(),this._renderCaption()):this.options.width!==null&&this.options.height===null&&this.scrollContainer().css("overflow-y","hidden").css("overflow-x","auto"),this._rmvClgrpOnInitRenderData&&!this.element.find("colgroup[data-cols-injected]").length&&this.element.find("colgroup").remove(),(this.element.find("colgroup").length===0||this.element.find("colgroup").children().length===0)&&this._renderColgroup(this.element[0],!1,!1,this.options.autofitLastColumn),this._renderFooter(),l=this.scrollContainer(),l.length||(l=this._vdisplaycontainer()),l.data("containerName","dataContainer").bind("scroll.syncScrollContainers",n.proxy(this._onScrollContainer,this)),this._registerScrllCntnrToSync(l),(this.options.virtualization===!0||this.options.columnVirtualization===!0)&&this._allColumnWidthsInPixels&&this._gridHasWidthInPercent&&(s=0,this.element.find(">colgroup>col").each(function(n,t){var i=t.width||t.style.width;if(!i||i.indexOf&&i.indexOf("%")>0)return s=0,!1;s+=parseInt(i,10)}),s&&(this.options.fixedHeaders&&this.headersTable().css("max-width",s),this.element.css("max-width",s),this.options.fixedFooters&&this.footersTable().css("max-width",s))),this.options.virtualization&&this.options.virtualizationMode==="continuous"&&this.element.bind("iggridvirtualrecordsrender.setFocusElement",function(){if(!t(h._focusDataRowIndex)){var i=h.container().find("#"+h.id()+" > tbody"),n=h._focusDataRowIndex;n===0?i.find("> tr[data-row-idx="+n+"]").focus():i.find("> tr[data-row-idx="+n+"] > td:visible:last").focus(),h._focusDataRowIndex=null}})),this._trigger("dataEmpty",null,{owner:this,tbody:c}),this.options.autoGenerateColumns===!1&&(this.options.columns&&this.options.columns.length===0||!this.options.columns))throw new Error(this._getLocaleValue("noColumnsButAutoGenerateTrue"));if(this._tmplWrappers=rt?n.render:{},this._setTemplateDefinition(rt),(this._initialHiddenColumns===undefined||this._initialHiddenColumns.length===0)&&this.options.columns.length>0&&(this.options.virtualization===!0||this.options.rowVirtualization===!0||this.options.columnVirtualization===!0?(this._persistVirtualScrollTop||(this._scrollContainer()[0].scrollTop=0),this._renderVirtualRecords()):this._renderRecords(),this._initialized?(this._adjustLastColumnWidth(!1),this.options.width!==null&&this.options.height!==null&&this._synchronizeHScroll()):(this.options.height!==null&&this.options.autoAdjustHeight&&this._initializeHeights(),this._adjustLastColumnWidth(!0))),!this._initialized&&this.options.autoAdjustHeight&&this._initializeHeights(),this._initialHiddenColumns!==undefined&&this._initialHiddenColumns.length>0){if(this._isMultiRowGrid())throw new Error(this._getLocaleValue("multiRowLayoutHidingNotSupported"));this._setHiddenColumns(this._initialHiddenColumns,!0,!0),this._initialHiddenCells!==undefined&&this._initialHiddenCells.length>0&&n.each(this._initialHiddenCells,function(n,t){t.css("display","")}),n.each(this._initialHiddenColumns,function(n,t){t._initiallyHidden=!0,t._shouldAutoSize=!0}),this._initialHiddenCells=undefined,this._initialHiddenColumns=undefined,this._visibleColumnsArray=undefined,n.ig.util.isFF&&(it=!0)}this._initialized||this._trigger("_gridContainersRendered",null,{owner:this,tbody:c}),this._registerAdditionalEvents(),this._updateVirtualScrollContainer(),this._fireInternalEvent("_dataRendered"),this._initialized||this.autoSizeColumns(),this._trigger(this.events.dataRendered,null,{owner:this}),this._loadingIndicator===undefined&&this._initLoadingIndicator(),this._loadingIndicator.hide()}if(this._fixScrollY&&this.scrollContainer().css("overflow-y",this.rows().length>1?"hidden":"visible"),n.ig.util.isTouchDevice()&&this._setIgScrollPositionTop(ut),this.options.width===null&&this._updateContainersWidthOnGridWidthNull(),this.options.dataSourceUrl!==null&&this._firstBind&&(this.options.dataSource=this.options.dataSourceUrl,this.dataSource.settings.dataSource=this.options.dataSourceUrl,this.dataSource.settings.type="remoteUrl",this.dataSource._runtimeType=this.dataSource.analyzeDataSource(),this._firstBind=!1),this._initialized||(this._initialized=!0,this._trigger(this.events.rendered,null,{owner:this}),this._hc=this.container().find(".ui-iggrid-expandheadercell").length>0,(document.documentMode===7||n.ig.util.isIE7)&&n.each(n("#"+this.id()+"_container colgroup col"),function(){var i=n(this),t=parseInt(this.style.width,10),r=i.outerWidth();t&&t<r&&i.width(2*t-r)})),this._fireInternalEvent("_gridRendered",this.container()),this._isMultiRowGrid()&&this.scrollContainer()&&this.scrollContainer().height()===0)throw new Error(this._getLocaleValue("scrollableGridAreaNotVisible"));it&&this._refreshUI()},_updateContainersWidthOnGridWidthNull:function(){var t=this.container(),n=0,r,u,e,f,i=this._scrollbarWidth();if(this.options.width===null&&t[0]&&t[0].style.width){if(u=this.element.find("colgroup > col"),u.length)for(r=0;r<u.length;r++)n+=parseInt(u[r].style.width,10)||0;else n=parseInt(t[0].style.width,10)-i;f=this._vdisplaycontainer(),f.length>0?(t.css("width",n),t.find("#"+this.id()+"_headers_v").css("width",n+i),t.css("width",n+i),f.css("width",n).css("max-width",n),this._fixedfooters().css("width",n+i),this._virtualcontainer().find(">colgroup>col:first").attr("width",n)):t.css("width",n+=this.hasVerticalScrollbar()?i:0)}},_refreshUI:function(){var n=this;n.container().hide(),setTimeout(function(){n.container().show()},0)},_updateVirtualScrollContainer:function(){var n,t=this.element;this._totalRowCount=this._getTotalRowCount(),(this.options.virtualization||this.options.rowVirtualization)&&this._totalRowCount&&((this._avgRowHeight===undefined||this._avgRowHeight===null)&&(this._avgRowHeight=this._calculateAvgRowHeight()),n=this._totalRowCount*this._avgRowHeight,this._scrollContainer().height()>=n?(t.height(""),this.options.virtualizationMode==="fixed"&&t.find(".ui-iggrid-virtualrow").height(this._avgRowHeight),this._setScrollContainerHeight(n)):this.options.virtualizationMode==="continuous"?(t.height(""),this._setScrollContainerHeight(n)):t.height(this._initialVirtualHeight))},_hasColumnTemplates:function(){for(var i=!1,n,t=0;t<this.options.columns.length;t++)if(n=this.options.columns[t].template,n!==null&&n!==undefined&&n!==""&&n.length>0){i=!0;break}return i},_gridHasWidthInPixels:function(){return typeof this.options.width=="string"&&this.options.width.indexOf("%")!==-1?!1:parseInt(this.options.width,10)>0},_gridHasWidthInPercent:function(){return typeof this.options.width=="string"&&this.options.width.indexOf("%")!==-1?!0:!1},_isColumnVirtualizationEnabled:function(){var u,i,r=this.options,f,e=!0;if(!r.virtualization||r.virtualizationMode==="continuous"||r.width===null)return!1;if(r.columnVirtualization)return!0;for(f=r.columns,u=0;u<f.length;u++)if(f[u].width&&(i=f[u].width),i=t(i)?r.defaultColumnWidth:i,!t(i)&&(n.type(i)!=="string"||!i.endsWith("%"))){e=!1;break}return e?!1:!0},hasVerticalScrollbar:function(){if(this.options.height===null||this.options.height===undefined)return!1;var n,t=this.element.children("tbody");return n=this.options.autoAdjustHeight&&this.element.outerHeight()<=this.scrollContainer().height()||!this.options.autoAdjustHeight&&t.innerHeight()<parseInt(this.options.height,10),!n},_adjustLastColumnWidth:function(t,i){var h=this,c,v=this.hasFixedColumns(),f=this.options.height!==null&&this.options.fixedHeaders===!0&&this.options.showHeader&&this._headerParent,e=this.options.height!==null&&this.options.fixedFooters===!0&&this.options.showFooter&&this._footerParent,l=this.options.height&&parseInt(this.options.height,10)>0,a=this._gridHasWidthInPixels(),o=this._gridHasWidthInPercent(),s=this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0,r,u;l&&!s&&(this.hasVerticalScrollbar()?this._hasVerticalScrollbar=!0:(this._hasVerticalScrollbar=!1,this._scrollWidthAddedToContainerWidth&&this.container().width(this._calculateContainerWidth(!1)))),t?(s&&(f&&(this._isMultiRowGrid()&&this._headerParent.addClass(this.css.mrlGridHeaderScrollableTableClass),this._headerParent.css(this._padding,this._scrollbarWidth())),e&&this._footerParent.css(this._padding,this._scrollbarWidth())),(a||o)&&(this._allColumnWidthsInPixels?(r=this._totalColPixelWidth,v&&!this._initialized&&(r=0,n.each(this.options.columns,function(n,t){r+=t.fixed||t.hidden?0:parseInt(t.width,10)||0})),u=i||this._calculateSpecialColumnsWidth(),u>0&&(this._autoadjustedColumn&&this._lastColPixelWidth?(this._autoadjustedColumn.difference<u?(this._lastColPixelWidth-=this._autoadjustedColumn.difference,r-=this._autoadjustedColumn.difference-u):this._lastColPixelWidth-=u,this._autoadjustedColumn.width=this._lastColPixelWidth,f&&this._lastHeaderCol.css("width",this._lastColPixelWidth+"px"),e&&this._lastFooterCol.css("width",this._lastColPixelWidth+"px"),this._lastDataCol.css("width",this._lastColPixelWidth+"px")):r+=u),!f&&this._gridWidthGTColWidth&&this._hasVerticalScrollbar&&(r-=this._scrollbarWidth(),this._lastColPixelWidth-=this._scrollbarWidth(),this._lastDataCol&&this._lastDataCol.css("width",this._lastColPixelWidth+"px"))):this._allColumnWidthsInPercentage?(r=this.container().width(),u=i||this._calculateSpecialColumnsWidth(),this._allSpecialColumnsInPercentage()===!0&&u>0&&(this._lastColPercentWidth=this._lastColPercentWidth-u),this._lastDataCol&&this._lastDataCol.css("width",this._lastColPercentWidth+"%"),f&&this._lastHeaderCol.css("width",this._lastColPercentWidth+"%"),e&&this._lastFooterCol.css("width",this._lastColPercentWidth+"%")):a?(c=this._calculateContainerWidth(!1),r=parseInt(h.options.width,10),c>r&&(r=c)):o&&(r=this.container().width()),this._allColumnWidthsInPercentage&&o||(this._gridInnerWidth=s===!1?this.scrollContainer().width():this._vdisplaycontainer().width()+this._scrollbarWidth(),h._setGridContentWidth(r),!this._hasVerticalScrollbar&&this.hasVerticalScrollbar()&&l&&!s&&(this._hasVerticalScrollbar=!0,h._setGridContentWidth(r))))):this._setGridContentWidth(),l&&!s&&(this.options.width!==null&&this.options.height!==null&&(this._hasVerticalScrollbar?this._hscrollbarcontent().css("overflow-y","scroll"):this._hscrollbarcontent().css("overflow-y","hidden")),(!this._allColumnWidthsInPercentage||!o)&&(a||o)?this._updateVerticalScrollbarCellPadding():this._hasVerticalScrollbar?(f&&(this._isMultiRowGrid()?this._headerParent.css("width","calc(100% - "+this._scrollbarWidth()+"px)"):this._headerParent.css(this._padding,this._scrollbarWidth())),e&&this._footerParent.css(this._padding,this._scrollbarWidth())):(f&&this._headerParent.css(this._padding,""),e&&this._footerParent.css(this._padding,""))),this._trigger("_lastColumnWidthAutoAdjusted",null,{specialColumnsWidth:u})},_initializeHeights:function(){this.options.height!==null&&this.options.height!==undefined&&(this.options.height.indexOf&&this.options.height.indexOf("%")!==-1?this._isWrapped&&!this._initialized&&(this.container().parent().height(this.options.height),this.container().height("100%")):this.hasFixedColumns()||this.scrollContainer().height(parseInt(this.options.height,10)),this._initializeHeightsInternal())},_initializeHeightsInternal:function(){var u,t,f,i,r,e=!1,s=this._vdisplaycontainer(),o,h=this._scrollContainer(),c=this.options.height!==null&&this.options.fixedHeaders===!0&&this.options.showHeader;if(r=Math.round(this.container().outerHeight()),this._prevContainerHeight=r,this.options.height!==null){for(u=this.container().children(":visible"),!c&&this._headerParent&&u.push(this._headerParent.find(">thead")),t=0,f=0;f<u.length;f++)i=n(u[f]),(i.attr("id")===undefined||i.attr("id").endsWith("_scroll")||i.attr("data-fixed-container")||i.attr("id").endsWith("_virtualContainer")||i.attr("id").endsWith("_loading"))&&i.attr("id")||!i.is(":visible")||i.data("efh")==="1"||i.attr("touch-bar")==="true"||(i.is("table")&&i.children().first().is("caption")?t+=i.children().first().outerHeight():i.css("position")!=="absolute"&&(t+=i.outerHeight()));t>0&&(this._trigger("_heightChanging",null,{ch:r,h:t}),this.scrollContainer().outerHeight(r-t),e=!0),(this.options.virtualization||this.options.rowVirtualization)&&((n.type(this.options.height)==="string"&&this.options.height.indexOf("%")!==-1||r!==parseInt(this.options.height,10))&&(this.container().height(this.options.height),n.type(this.options.height)==="string"&&this.options.height.indexOf("%")!==-1&&(r=parseInt(this.container().height()||0,10))),t+=this.container().find("#"+this.id()+"_headers_v").outerHeight()||0,t+=this.container().find("#"+this.id()+"_footers_v").outerHeight()||0,t+=this._fixedfooters().outerHeight()||0,o=this._vhorizontalcontainer(),t+=o.is(":visible")?o.outerHeight():0,this._virtualHeightReset||(t=t*2,this._virtualHeightReset=!0),t>0&&s.height()!==r-t&&(e||this._trigger("_heightChanging",null,{ch:r,h:t}),s.height(r-t),h.height(r-t),this.options.virtualization||this.options.rowVirtualization||this.element.height(r-t),this._initialVirtualHeight=r-t,e=!0)),e&&(this._prevContainerHeight=this.container().height(),this._trigger("_heightChanged",null,{ch:r,h:t}))}},_registerAdditionalEvents:function(){if(!this._hovEvts){var n=this;this.options.enableHoverStyles&&(this._hovEvts={mousemove:function(t){for(var r,u,i=t.target;i;){if(r=i.parentNode,u=i.nodeName,u==="TR"&&r.nodeName==="TBODY")break;i=u==="TABLE"?null:r}n._mousemoveTr(i,t)},mouseleave:function(){n._mouseleaveTr()}},this.element.bind(this._hovEvts))}},_mousemoveTr:function(t,r){var f="ui-state-hover",e,u=n(t);i!==t&&(i&&n(i).attr("data-container")!=="true"&&n("td,th",i).removeClass(f),t&&u.attr("data-container")!=="true"&&r.target.id.indexOf("_scrollContainer")===-1&&r.target.parentNode.id.indexOf("_scrollContainer")===-1&&(e=this.element.closest(".ui-iggrid-root").data("igGrid")||this,t=u.add(u.siblings("[data-id='"+u.attr("data-id")+"']")),e._cancelHoveringEffects||n("td,th",t).addClass(f)),i=t)},_mouseleaveTr:function(){var t="ui-state-hover";i&&(n("td,th",i).removeClass(t),i=null)},_renderColgroup:function(i,r,u,f,e){var b,rt=this.hasFixedColumns(),h,k,nt=!!(e&&e.fixed),ut,c=this._visibleColumns(),o,ft=this.options.defaultColumnWidth,y=0,v,et=this._gridHasWidthInPixels(),tt=this._gridHasWidthInPercent(),ot=et||tt,it=this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0,st=this.options.virtualization===!0&&this.options.virtualizationMode==="fixed"||this.options.columnVirtualization===!0,d=!1,w=!0,l,a,p,s,g;for(b=n(i).find(">colgroup"),b.length===0&&(b=n("<colgroup><\/colgroup>").prependTo(i)),(it&&this.options.virtualizationMode==="fixed"||st)&&(this._updateVirtColCounters(),c=c.slice(0,this._virtualColumnCount)),h=0;h<c.length;h++)if(o=this._isMultiRowGrid()?n.extend(!0,{},c[h]):c[h],ut=!!o.fixed,ut===nt){if(this._rlp&&h>=this._maxCols)break;this._colGroupWidths&&(o.width=this._colGroupWidths[h]),o.width||o.width===0?l=o.oWidth?o.oWidth:o.width:(l=ft,o.width=ft),l||l===0?(l.charAt&&l.endsWith("%")||(w=!1),a=parseInt(l,10),(a<0||isNaN(a))&&(a=undefined)):(a=undefined,w=!1),t(a)?(p=n("<col><\/col>").appendTo(b),s=undefined,d=!0):(p=n("<col><\/col>").appendTo(b).css("width",l),s=a,y+=a,o.width=n.type(o.width)==="string"&&o.width.endsWith("px")?a+"px":a,l&&l.charAt&&l.endsWith("%")&&(o.width=o.width+"%")),k=o}if((!st||this._vhorizontalcontainer().find("div").length===0)&&f&&ot&&!d&&s)if(w)y<100&&(s+=100-y,p.css("width",s+"%"),this._autoadjustedColumn=c.slice(-1)[0],this._autoadjustedColumn.oWidth||(this._autoadjustedColumn.oWidth=this._autoadjustedColumn.width),this._autoadjustedColumn.width=s+"%",k.width=s+"%");else{if(et?v=parseInt(this.options.width,10):tt&&(v=parseInt(this.container()[0].getBoundingClientRect().width,10)),rt&&v){if(tt&&this.element[0].style.width.indexOf("px")>0)v=parseInt(this.element[0].style.width,10);else for(h=0;h<c.length;h++)c[h].fixed&&c[h].width&&!c[h].hidden&&(v-=parseInt(c[h].width,10));v-=it&&this.fixingDirection()==="right"&&!nt?parseFloat(this._virtualcontainer().children("colgroup").children().last().css("width")):0}this._gridWidthGTColWidth=!1,v&&v>y?(g=v-y,s+=g,y+=g,p.css("width",s+"px"),this._autoadjustedColumn=k,this._autoadjustedColumn.oWidth||(this._autoadjustedColumn.oWidth=this._autoadjustedColumn.width),this._autoadjustedColumn.width=s+"px",this._autoadjustedColumn.difference=g,k.width=s+"px",this._gridWidthGTColWidth=!0):this._autoadjustedColumn=undefined}else this._autoadjustedColumn=undefined;this._allColumnWidthsInPercentage=w&&!d&&c.length>0,this._allColumnWidthsInPixels=!w&&!d&&c.length>0,ot&&it&&!d&&s&&(w||rt&&(nt||this.fixingDirection()!=="left")||(this.options.autofitLastColumn||!this.options.rowVirtualization||this._applyAutofitLastColInVirtGrid(y))&&(s-=this._scrollbarWidth(),p.css("width",s+"px"),this._autoadjustedColumn&&(k.width=s+"px"))),r&&(this._lastHeaderCol=p),u&&(this._lastFooterCol=p),r||u||(this._lastDataCol=p),this._allColumnWidthsInPixels?(this._lastColPixelWidth=s,this._totalColPixelWidth=y):this._allColumnWidthsInPercentage?(this._lastColPercentWidth=s,this._totalColPixelWidth=undefined):(this._lastColPixelWidth=undefined,this._totalColPixelWidth=undefined)},_renderRecordsForTable:function(n,t,i,r,u){var f,e="",l=this._getDataView(),h=this,c,o,s;if(s=this._rlp?h._renderRecordFromLayout:h._renderRecord,r=r||i.children("tbody"),r.length){for(f=n;f<=t;f++)e+=s.apply(this,[l[f],f,u]);r.empty(),this._canreplaceinner?this._canreplaceinner&&MSApp.execUnsafeLocalFunction(function(){r[0].innerHTML=e}):(r.unbind(),o=document.createElement("div"),o.innerHTML="<table><tbody class='"+this.css.baseContentClass+" "+this.css.gridTableBodyClass+" "+this.css.recordClass+"' role='rowgroup'>"+e+"<\/tbody><\/table>",c=o.firstChild.firstChild,i[0].replaceChild(c,r[0])),e=""}},_renderRecords:function(n,t){var r=this.element.children("tbody"),u=!0,i=this._getDataView(),f=!0;u=this._trigger("_rowsRendering",null,{owner:this,tbody:r,vrtWnd:{start:n,end:t}}),u&&(f=this._trigger(this.events.rowsRendering,null,{owner:this,tbody:r,vrtWnd:{start:n,end:t}}),n===undefined&&(n=0,t=i.length-1),n!==undefined&&t===undefined&&(t=n,t>i.length-1&&(t=i.length-1),n=0),n<0&&(n=0),t>i.length-1&&(t=i.length-1),f&&(this._renderRecordsForTable(n,t,this.element),this._buildVirtualDomForContinuousVirtualization(),this._trigger(this.events.rowsRendered,null,{owner:this,tbody:r}),(this.options.virtualization===!1||this.options.rowVirtualization===!1)&&this._persistVirtualScrollTop&&this._prevFirstVisibleTROffset&&this.scrollContainer().length>0&&(this.scrollContainer()[0].scrollTop=this._prevFirstVisibleTROffset)))},autoSizeColumns:function(){var r=this._visibleColumns(),t=[],i=[],u=this;n.each(r,function(n,r){var f;r.width!=="*"&&r._oWidth!=="*"||r.hidden||(f={column:r,visibleIndex:u.getVisibleIndexByKey(r.key)},r.fixed?t.push(f):i.push(f))}),(t.length||i.length)&&(this._calculateAutoResizableWidths(i),this._calculateAutoResizableWidths(t,!0),this._rerenderColgroups(!1),this._adjustLastColumnWidth(!0),this._updateGridContentWidth())},_calculateAutoResizableWidths:function(t,i){if(!t||!t.length)return[];var p=this.id(),b=i?n("#"+p+"_fixed"):this.element,c,f,v,y,l,u,a,e,r,o,s,w,h;if(c=b.closest("div"),s=c.html(),o=n("<div><\/div>").attr("style",c.attr("style")).attr("class",c.attr("class")+" "+this.container().attr("class")+" "+this.css.gridMeasurementContainerClass),o.css({position:"absolute",resize:"both",visibility:"hidden",height:"auto",width:"auto",left:-6e3,top:-6e3}).appendTo(this.container()),o[0].innerHTML=s,r=o.find(">table"),this._initialized&&r.find(">colgroup>col:not([data-skip])").each(function(n,t){t.style.width="",t.width=""}),this.options.showHeader&&(w=i?this.fixedHeadersTable():this.headersTable(),r.find(">thead").remove(),u=w.find(">thead").find(">tr[data-header-row],>tr[data-mch-level]"),u.length&&(s="",u.each(function(n,t){s+=t.outerHTML}),n("<thead>"+s+"<\/thead>").appendTo(r),u=r.find(">thead>tr"),u.children("th,td").css("width",""),n.ig.util.isSafari&&u.each(function(n,t){t.style.display=""}))),this.options.showFooter&&(h=i?this.fixedFootersTable():this.footersTable(),r.find(">tfoot").remove(),h=h.find(">tfoot"),h.length&&(n(h[0].outerHTML).appendTo(r),r.find(">tfoot>tr").children("td").css("width",""))),r.css("width","auto").attr("id",r.attr("id")+"__"),e=r.find(">tbody>tr:not([data-grouprow='true']):first").children("td:not([data-skip]):not([data-parent])"),e.length||(e=r.find("tr:visible:not([data-grouprow='true']):first").children("th:not([data-skip]):not([data-parent]), td:not([data-skip]):not([data-parent])")),e.length){for(a=0;a<t.length;a++)(f=t[a].column,v=e.filter("[aria-describedby='"+p+"_"+f.key+"']").first()[0],v)&&(l=v.getBoundingClientRect(),y=l.width,f.width=y!==undefined?Math.ceil(y):Math.ceil(l.right-l.left),f._oWidth="*");return o.remove(),t}},calculateAutoFitColumnWidth:function(t){var r,i=this._visibleColumns()[t];return i?(r=this._calculateAutoResizableWidths([{column:n.extend(!0,{},i),visibleIndex:this.getVisibleIndexByKey(i.key)}],!!i.fixed),r[0].column.width):-1},_reapplyZebraStyle:function(n){var u,o,f,e,t=this,i,r;this.options.alternateRowStyles&&(i=this.element.children("tbody").children("tr:not([data-container],[data-grouprow],[data-summaryrow])"),n=n||0,i=i.slice(n),this.hasFixedColumns()&&(r=this.fixedBodyContainer().children("table").children("tbody").children("tr:not([data-container],[data-grouprow],[data-summaryrow])"),r=r.slice(n)),f=function(n){return n.filter(function(n){return Math.floor(n/t._rlp.length)%2==0})},e=function(n){return n.filter(function(n){return Math.floor(n/t._rlp.length)%2!=0})},o=function(i){n/t._rlp.length%2!=0?(f(i).addClass(t.css.recordAltClass),e(i).removeClass(t.css.recordAltClass)):(e(i).addClass(t.css.recordAltClass),f(i).removeClass(t.css.recordAltClass))},u=function(i){i.filter(n%2==0?":odd":":even").addClass(t.css.recordAltClass),i.filter(n%2==0?":even":":odd").removeClass(t.css.recordAltClass)},t._isMultiRowGrid()?o(i):(u(i),this.hasFixedColumns()&&u(r)))},_buildFormatters:function(){for(var i=this.options.columns,r={},t=0;t<i.length;t++)i[t].formatter!==undefined&&(n.type(i[t].formatter)==="function"?r[i[t].key+"Formatter"]=i[t].formatter:window[i[t].formatter]&&typeof window[i[t].formatter]=="function"&&(r[i[t].key+"Formatter"]=window[i[t].formatter]));return r},getVisibleIndexByKey:function(t,i){var c=this.hasFixedColumns(),f,e,u,s=this._visibleColumns(),r=-1,h=!1,o;return(c?(f=0,e=0,u=null,n.each(s,function(n,i){var o=i.fixed===!0,s=u&&u.fixed===!0;return((u===null||s!==o)&&(i.fixed===!0?f=0:e=0),u=i,i.hidden)?!0:(o!==!0?e++:f++,i.key===t?(o?(h=!0,r=f-1):r=e-1,r===-1&&(r=0),!1):void 0)})):n.each(s,function(n,i){if(i.key===t)return r=n,!1}),r===-1)?-1:(i&&(o=h?n("#"+this.id()+"_fixed").find("colgroup:first"):this.element.find("colgroup:first"),r+=o.children("col[data-skip]").length),r)},_isColumnHidden:function(n){for(var t=this.options.columns,i=t.length;i-->=0;)if(t[i].key===n)return t[i].hidden||!1;return!0},_visibleColumns:function(t,i){return(i=i||this.options.columns,t!==undefined)?n.grep(i,function(n){var i=n.fixed===!0;return!n.hidden&&i===t}):(this._visibleColumnsArray===undefined&&(this._visibleColumnsArray=n.grep(i,function(n){return!n.hidden})),this._visibleColumnsArray)},_visibleMchColumns:function(t){var i=[],r=t||this._oldCols,u=this;return r?(n.each(r,function(){this.hidden&&this.hidden!==!1||(i.push(n.extend({},this)),this.group&&(i[i.length-1].group=u._visibleMchColumns(this.group)))}),i):null},_renderVirtualRecordsFixed:function(){var n=this._virtualDom===null||this._virtualDom===undefined;this.hasFixedColumns()&&(this._updateVirtColCounters(!0),this._renderVirtualRecordsFixedInternal(!0),this._updateVirtColCounters(!1)),this._renderVirtualRecordsFixedInternal(!1),this._trigger("virtualrecordsrender",null,{owner:this,tbody:this.element.children("tbody"),dom:this._virtualDom,isBuiltVirtualDom:!n})},_renderVirtualRecordsFixedInternal:function(i){var r,u,y,h,w,l,b,d,g,k=-1,e,s,nt=this.dataSource,f=this._getDataView(),a=this.options.primaryKey,o=this._getVirtualDom(i),v,tt="__delimiter__",p=o===null||o===undefined,c=this._visibleColumns(i);if((this._startRowIndex===undefined||this._startRowIndex===null)&&(this._startRowIndex=0),(this._startColIndex===undefined||this._startColIndex===null)&&(this._startColIndex=0),p&&(this._persistVirtualScrollTop||this._startRowIndex||this._scrollTo(0,!0),this._buildVirtualDom(),this._startRowIndex&&this._updateVirtColCounters(i),o=this._getVirtualDom(i),this.options.adjustVirtualHeights===!0&&this._adjustVirtualHeights()),!p||p&&this._startRowIndex>0)if(this._virtualColumnCount)for(o&&o[0]&&(k=n(o[0].row).children("th,td[data-skip]").length),r=0;r<this._virtualRowCount&&r<this._totalRowCount&&this._startRowIndex+r<f.length;r++){for(y=n.type(f[r])==="array"?n(this._renderRecord([f[this._startRowIndex+r]],r,i)):n(this._renderRecord(f[this._startRowIndex+r],r,i)),h=y.children(),u=0;u<this._virtualColumnCount;u++)o[r][u].innerHTML=h[u+this._startColIndex].innerHTML,o[r][u].className=h[u+this._startColIndex].className,o[r][u].setAttribute("aria-describedby",h[u+this._startColIndex].getAttribute("aria-describedby")),o[r][u].setAttribute("aria-readonly",h[u+this._startColIndex].getAttribute("aria-readonly"));e=this._startRowIndex+r,s=o[r][0].parentNode,s.className=this.options.alternateRowStyles&&e%2?"ui-iggrid-virtualrow ui-ig-altrecord":"ui-iggrid-virtualrow",f[e]&&(t(a)?t(f[e].ig_pk)||s.setAttribute("data-id",f[e].ig_pk):s.setAttribute("data-id",this._kval_from_key(a,f[e])))}else if(i)for(b=this.fixedBodyContainer().find("tbody>tr"),r=0;r<this._virtualRowCount&&r<this._totalRowCount&&this._startRowIndex+r<f.length;r++)(e=this._startRowIndex+r,s=b.eq(r)[0],t(s))||(s.className=this.options.alternateRowStyles&&e%2?"ui-iggrid-virtualrow ui-ig-altrecord":"ui-iggrid-virtualrow",f[e]&&(t(a)?t(f[e].ig_pk)||s.setAttribute("data-id",f[e].ig_pk):s.setAttribute("data-id",this._kval_from_key(a,f[e]))));if(this._isHorizontal&&(this._isHorizontal=!1,(this.options.virtualization===!0||this.options.columnVirtualization===!0)&&parseInt(this.options.width,10)>0)){for(this._vheaders||(this._vheaders=this.headersTable().find("thead > tr > th > span.ui-iggrid-headertext")),r=0;r<c.length;r++)v=c[r],v.headerCssClass&&this.headersTable().find("th."+v.headerCssClass).removeClass(v.headerCssClass);for(u=0;u<this._virtualColumnCount;u++)w=c[u+this._startColIndex].headerText,l=n(this._vheaders[u]),l.closest("th").attr("id",this.element[0].id+"_"+c[u+this._startColIndex].key),l.parent().addClass(c[u+this._startColIndex].headerCssClass||""),l.html(w)}},_updateVirtColCounters:function(n){var t=this._visibleColumns(n).length;this.options.columns?(this._totalColumnCount=t,this._maxVirtualColumnCount=this.options.columns.length):(this._totalColumnCount=this._getDataView()[0].length,this._maxVirtualColumnCount=this._totalColumnCount),this.options.columnVirtualization===!1&&this.options.virtualization===!1?this._virtualColumnCount=t:this.options.width===null?this._virtualColumnCount=this._totalColumnCount:(this._virtualColumnCount=Math.ceil(parseInt(this.options.width,10)/this._avgColumnWidth()),this._maxVirtualColumnCount=Math.min(this._maxVirtualColumnCount,this._virtualColumnCount),this._virtualColumnCount=Math.min(this._totalColumnCount,this._virtualColumnCount),this._vhorizontalcontainer().children().first().css("width",this._calculateContainerWidth(!1))),this.options.virtualizationMode==="continuous"&&(this._virtualColumnCount=undefined)},_getVirtualDom:function(n){return n?this._fixedVirtualDom:this._virtualDom},_resetVirtualDom:function(){this._virtualDom=null,this._fixedVirtualDom=null},_buildVirtualDom:function(){var n,t,i;this.hasFixedColumns()&&(i=this._buildVirtualDomInternal(!0),n=!1),t=this._buildVirtualDomInternal(n),this._trigger("virtualdombuilt",null,{rows:t,fixedRows:i})},_buildVirtualDomInternal:function(i){var a=this,s="",h,u,r,k,v,y,w=!1,l,f=this._visibleColumns(i),d=this.options.primaryKey,e=this._getDataView(),p,c=this._getVirtualDom(i),o=0,b;for((this._startRowIndex===undefined||this._startRowIndex===null)&&(this._startRowIndex=0,this._startColIndex=0),c=[],i?this._fixedVirtualDom=c:this._virtualDom=c,this._totalRowCount=e.length,this.options.height===null?this._virtualRowCount=this._totalRowCount:(y=this._vdisplaycontainer(),v=y.innerHeight(),!v&&y.is(":visible")&&(this._virtualHeightReset=!0,this._initializeHeights(),this.element.height(""),v=y.innerHeight()),this._virtualRowCount=Math.floor(v/parseInt(this.options.avgRowHeight,10))),this._updateVirtColCounters(i),this.options.height!==null&&this._setScrollContainerHeight(this._totalRowCount*parseInt(this.options.avgRowHeight,10)),k=function(n,t,i){for(r=0;r<i;r++)c[t].row=n[0],r<a._totalColumnCount&&(c[t][r]=n[0].cells[r])},this._persistVirtualScrollTop&&(this._startRowIndex>this._getDataView().length-this._virtualRowCount&&(this._startRowIndex=this._getDataView().length-this._virtualRowCount>0?this._getDataView().length-this._virtualRowCount:0),o=this._startRowIndex),i?(this.element.children("tbody").empty(),l=this.fixedBodyContainer().find("tbody")):l=this.element.children("tbody"),l.empty(),u=0;u<this._virtualRowCount;u++){for(w=!1,b=!1,c[u]=[],s="",r=this._startColIndex;r<this._virtualColumnCount+this._startColIndex;r++){if(r>=this._totalColumnCount)break;s+='<td role="gridcell" aria-readonly="'+!!f[r].readOnly+'" aria-describedby="'+this.id()+"_"+f[r].key+'" tabindex="'+this.options.tabIndex+'"',e[o+u]?(this.options.autoFormat!==!1?f[r].template&&f[r].template.length?(p=this._renderTemplatedCell(e[o+u],f[r]),p.indexOf("<td")===0?s+=p.substring(3):(s+=">"+p,b=!0),s=a._editCellStyle(s,e[o+u],f[r].key||r,f[r],b)):s+=a._addCellStyle(e[o+u],f[r].key||r,f[r])+">"+this._renderCell(e[o+u][f[r].key],f[r],e[o+u]):s+=a._addCellStyle(e[o+u],f[r].key,f[r])+">"+e[u][f[r].key],s+="<\/td>"):(w=!0,s+="><\/td>")}if(h=n("<tr>"+s+"<\/tr>").appendTo(l),w&&h.css("visibility","hidden"),u%2!=0&&this.options.alternateRowStyles&&h.addClass("ui-ig-altrecord"),h.addClass("ui-iggrid-virtualrow"),h.attr("role","row"),h.attr("tabindex",this.options.tabIndex),e[u+o]&&(t(d)?t(e[u+o].ig_pk)||h.attr("data-id",e[u+o].ig_pk):h.attr("data-id",this._kval_from_key(d,e[u+o]))),k(h,u,this._virtualColumnCount),u===e.length-1)break}return this._updateVirtualScrollContainer(),l.children("tr")},_adjustVirtualHeights:function(){var t=this._vdisplaycontainer(),i=t.find("tbody"),n=i.children().first().height();this.options.height!==null&&this.options.avgRowHeight!==n&&(this.options.avgRowHeight=n,this._buildVirtualDom())},_verticalScroller:function(){return this._verticalScrollerObj&&this._verticalScrollerObj.length!==0||(this._verticalScrollerObj=this._scrollContainer().children().first()),this._verticalScrollerObj},_hscrollbar:function(){return this.container().find("#"+this.id()+"_hscroller_container")},_hscrollbarcontent:function(){return this.container().find("#"+this.id()+"_hscroller")},_hscrollbarinner:function(){return this.container().find("#"+this.id()+"_hscroller_inner")},_avgColumnWidth:function(){var n=0,u=this.options.columns,t=u.length,i=this.options.defaultColumnWidth,r;if(this.options.avgColumnWidth!==null)return parseInt(this.options.avgColumnWidth,10);for(r=0;r<t;r++)n+=parseInt(u[r].width,10);if((t===0||isNaN(n))&&i)return parseInt(i,10);if(t>0&&this.options.autoGenerateColumns&&isNaN(n)){if(this.options.width===null||this.options.width===undefined)throw new Error(this._getLocaleValue("columnVirtualizationRequiresWidth"));return parseInt(this.options.width,10)/t}return n===0||n<i?i:(isNaN(n)&&(n=100),n/t)},_registerScrllCntnrToSync:function(n){var t=n.data("containerName");this._scrllCntrsToSync=this._scrllCntrsToSync||{},this._scrllCntrsToSync[t]=n},_syncScrollLeft:function(n,t){var i,u,r=this._scrllCntrsToSync;for(i in r)if(r.hasOwnProperty(i)){if(i===t)continue;u=r[i],u.scrollLeft(n)}},_onScrollContainerHandler:function(n){(this._vdisplaycontainer().length&&(this._vdisplaycontainer().data("igScroll")===undefined||this._vdisplaycontainer().data("igScroll")._bMixedEnvironment)||this.scrollContainer().length&&(this.scrollContainer().data("igScroll")===undefined||this.scrollContainer().data("igScroll")._bMixedEnvironment))&&this._onScrollContainer(n)},_onScrollContainer:function(t){var r=n(t.target),u,i,f=r.scrollLeft(),e=n(t.target).scrollTop();if(!r.data("ignoreScroll")){if(u=r.data("containerName"),f!==this._scrollLeft){if(this._syncScrollLeft(f,u),n.ig.util.isIE&&u!=="hScrollbar"&&u!=="vScrollbar"&&(i=this._scrllCntrsToSync.vScrollbar||this._scrllCntrsToSync.hScrollbar,i&&i.scrollLeft()!==f)){this._synchronizeHScroll();return}this._scrollLeft=f}this._oldDisplayContainerScrollTop===undefined&&(this._oldDisplayContainerScrollTop=0),e!==this._oldDisplayContainerScrollTop&&u==="dataContainer"&&(r[0].scrollHeight-e===r.outerHeight()?(this._focusDataRowIndex=this._getTotalRowsCount()-1,this._scrollContainer().scrollTop(this._scrollContainer().children().first().outerHeight())):e===0&&(this._focusDataRowIndex=0,this._scrollContainer().scrollTop(0),i=this._scrllCntrsToSync.vScrollbar||this._scrllCntrsToSync.hScrollbar,i&&i.scrollLeft(0)))}},_renderCaption:function(){var f=this.scrollContainer(),i,r,u=this.options.caption;if(!t(u)){if(this._caption().length>0)return;i=this._trigger(this.events.captionRendering,null,{owner:this}),i&&(r=n("<div><\/div>").prependTo(this.container()).html(u).attr("id",this.id()+"_caption").addClass(this.css.gridHeaderCaptionClass),this._trigger(this.events.captionRendered,null,{owner:this,captionContainer:r}))}},_createHeaderColumnMarkup:function(t,i){t.headerText=t.headerText===undefined?t.key:t.headerText;var r=this.css.headerClass,u=t.headerCssClass?t.headerCssClass:"",f=n("<span>"+t.headerText+"<\/span>").addClass(this.css.headerTextClass),e="<th><\/th>";return n(e).append(f).attr({id:this.id()+"_"+t.key,role:"columnheader","aria-label":t.headerText,"data-navindex":t.navigationIndex,tabIndex:this.options.tabIndex}).addClass(r).addClass(u).data("columnIndex",i)},_updateHeaderColumnIndexes:function(){var t=this,i=this.options.columns;(this.options.virtualization===!0&&this.options.virtualizationMode==="fixed"||this.options.columnVirtualization===!0)&&(i=i.slice(0,this._maxVirtualColumnCount)),t._initialHiddenCells=this._initialized?[]:t._initialHiddenCells,n(i).each(function(n){t.container().find("#"+t.id()+"_"+this.key).data("columnIndex",n)})},_renderHeaderColumns:function(t){var i=this,r=this.options.columns;(this.options.virtualization===!0&&this.options.virtualizationMode==="fixed"||this.options.columnVirtualization===!0)&&(r=r.slice(0,this._maxVirtualColumnCount)),i._initialHiddenCells=[],n(r).each(function(r){var u,f=this.key;f&&(u=i._createHeaderColumnMarkup(this,r),t.append(u),i._trigger(i.events.headerCellRendered,null,{owner:i,th:u,columnKey:this.key}),n.each(i._initialHiddenColumns,function(){if(this.key===f)return i._initialHiddenCells.push(u),u.css("display","none"),!1}))})},renderMultiColumnHeader:function(n){var t,i;if(this._clearPersistenceData(),this.destroy(!0),this.options.columns=n,this._container=null,this._rContainer=null,this._prevContainerHeight=null,this._virtualHeightReset=null,this._scrollContainerObj=null,this._initialized=!1,this._rlm=undefined,this._mrl=undefined,this._rlp=undefined,this.requiresDataBinding=!0,this._renderHeaderCalled=!1,this.persistenceData={},this._isHierarchicalGrid&&(t=this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid"),t)){t.element[0].id!==this.element[0].id&&this.options.key&&(i=t._findLayout(t.options.columnLayouts,this.options.key),i.columns=n,t._setOption("columnLayouts",t.options.columnLayouts)),t.persistenceData={},t._clearVariablesAndEvents(),t._create();return}this._create()},_renderHeaderLayout:function(t){var u,r,s=this._rlp,e,i,h,f,o;for(t.empty(),u=0;u<s.length;u++)for(e=s[u],h=n("<tr><\/tr>").attr("data-header-row",!0).attr("role","row").appendTo(t),r=0;r<e.length;r++)i=e[r],i.col?f=i.col:(f=this.columnByKey(i.key),i.col=f),o=this._createHeaderColumnMarkup(f,u*r+r).attr("colspan",i.cs).attr("rowspan",i.rs),h.append(o),this._trigger(this.events.headerCellRendered,null,{owner:this,th:o,columnKey:f.key})},_renderHeader:function(){var i,u,r,s,h="",c=this.scrollContainer(),a=!0,v=!1,t=this.element[0],l,f,o,e=this.options,y=e.virtualization===!0||e.rowVirtualization===!0||e.columnVirtualization===!0;this._renderHeaderCalled=!0,this.options.showHeader&&(a=this._trigger(this.events.headerRendering,null,{owner:this}),a?(this._rmvClgrpOnInitRenderData=!0,r=this.id(),h='<thead role="rowgroup"><tr data-header-row role="row"><\/tr><\/thead>',t=this.container(),l=c.css("width"),this.options.fixedHeaders&&this.options.height!==null?(y===!1?t.length===0&&(c.removeClass(this.css.gridClasses).removeClass(this.css.baseClasses).css("width","").wrap("<div id='"+r+"_container'><\/div>"),t=this.container().addClass(this.css.baseClasses).addClass(this.css.gridClasses).css("width",l),this._isWrapped=!0):(l=this.element.parents(".ui-widget").css("width"),t=this.container().find("#"+r+"_headers_v"),e.width!==null&&(i=e.width,i=i.indexOf&&i.indexOf("%")!==-1?"100%":i,t.css("width",i).css("max-width",i).css("overflow-x","hidden"))),t=n('<table id="'+r+'_headers"><\/table>').prependTo(t).addClass(this._isMultiRowGrid()?this.css.mrlGridHeaderTableClass:this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0"),y===!1?(f=n("<div><\/div>").prependTo(t.parent()),f.css("overflow","hidden").css("position","relative").css("white-space","nowrap"),f.addClass("ui-widget-header ui-helper-reset"),f.append(t),f.next().hasClass("ui-iggrid-headercaption")&&f.insertAfter(this._caption())):this.options.rowVirtualization===!0&&t.addClass("ui-widget-header ui-helper-reset"),this.headersTable().parent().data("containerName","headerContainer").bind("scroll.syncScrollContainers",n.proxy(this._onScrollContainer,this)),this._registerScrllCntnrToSync(this.headersTable().parent()),v=!0,this._rmvClgrpOnInitRenderData=!1):this.options.fixedHeaders!==!0&&(t=this.element),this.options.width===null&&this.options.height===null&&(t=this.element),this.options.width!==null&&this.options.height===null&&(this._fixScrollY=1,c.css("overflow-y","hidden").css("overflow-x","auto"),t=this.element),t.find("colgroup").length||this._renderColgroup(t,v,!1,this.options.autofitLastColumn),this._isMultiColumnGrid===!0?(this._headerParent=t,this._fireInternalEvent("_renderingMultiColumnHeader"),(this.options.virtualization===!0||this.options.rowVirtualization===!0)&&(this.container().find("#"+r+"_headers_v").css("position","relative").addClass("ui-widget-header ui-helper-reset").addClass(this.css.baseClasses),t.addClass(this._isMultiRowGrid()?this.css.mrlGridHeaderTableClass:this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0"))):(this.options.headerTemplate===null||this.options.headerTemplate===undefined?((this.options.virtualization===!0||this.options.rowVirtualization===!0)&&(this.container().find("#"+r+"_headers_v").css("position","relative").addClass("ui-widget-header ui-helper-reset").addClass(this.css.baseClasses),t.addClass(this._isMultiRowGrid()?this.css.mrlGridHeaderTableClass:this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0")),this.element.find(">thead").remove(),o=t.find(">thead"),o.length===0?u=n(h).appendTo(t).children().first():(o.empty(),u=n('<tr data-header-row role="row"><\/tr>').appendTo(o)),this._rlp?this._renderHeaderLayout(u.parent()):this._renderHeaderColumns(u)):(s=this.options.headerTemplate,this.options.virtualization===!0||this.options.rowVirtualization===!0?(n(s).children().each(function(){this.appendTo(this.container().find("#"+r+"_headers"))}),u=this.headersTable().addClass(this.css.gridClasses)):u=n(h).appendTo(t).append(s)),this._headerParent=t,this._trigger(this.events.headerRendered,null,{owner:this,table:this.headersTable()}),this._headerRenderCancel=!1)):this._headerRenderCancel=!0),this._renderCaption(),this._trigger("headerRenderedInternal",null,{owner:this,table:this.headersTable()})},_renderFooter:function(){var h=this.id(),u,t=this.options,o,s=h+"_footer_container",c='<tfoot role="rowgroup" class="'+this.css.gridFooterClass+'"><\/tfoot>',i=this.container().find("#"+s),f,e,a,l=this.element,r;if(l.length!==0)return i.length===0&&t.showFooter&&(a=this._trigger(this.events.footerRendering,null,{owner:this}),a&&((t.virtualization===!0||t.rowVirtualization===!0||t.columnVirtualization===!0)&&(t.height!==null&&t.height!==undefined||t.width!==null&&t.width!==undefined)?(r=this._vdisplaycontainer(),this.options.fixedFooters=!0,u=t.width,u&&u.indexOf&&u.indexOf("%")!==-1&&(u="100%"),r=n('<tr><td colspan="2" style="border-width: 0px;"><\/td><\/tr>').insertAfter(r.closest("tr")),i=n("<div><\/div>").attr("id",s).css({overflow:"hidden",position:"relative"}).addClass("ui-widget-footer").addClass(this.css.footerContainer).width(u).appendTo(r.find("td")),f=n("<table><\/table>").attr("cellpadding",0).attr("cellspacing",0).attr("border",0).appendTo(i).addClass(this.css.gridFooterTableClass).width(u).attr("id",h+"_footers"),this._renderColgroup(f,!1,!0,this.options.autofitLastColumn),n(c).appendTo(f),this.options.showFooter&&this.options.fixedFooters===!0&&this.options.height!==null&&(o=this.element.parents(".ui-widget:first"),o.length===1&&o[0].style&&(e=o[0].style.width,e&&(!e.indexOf||e.indexOf("%")===-1)&&i.css("width",e))),t.expandColWidth&&!t.width&&i.css("width",parseInt(i.width(),10)+t.expandColWidth+"px")):t.fixedFooters===!0&&t.height!==null?(r=t.width!==null?this._hscrollbar():this.scrollContainer(),r.length===0&&(r=l),i=n("<div><\/div>").attr("id",s).css({overflow:"hidden",position:"relative","white-space":"nowrap"}).addClass(this.css.footerContainer).addClass("ui-widget-footer").insertAfter(r),f=n("<table><\/table>").attr("cellpadding",0).attr("cellspacing",0).attr("border",0).appendTo(i).addClass(this.css.gridFooterTableClass).attr("id",h+"_footers"),this._renderColgroup(f,!1,!0,this.options.autofitLastColumn),n(c).appendTo(f)):(r=l,i=n(c).attr("id",s).insertAfter(r.find("tbody:eq(0)"))),i.data("containerName","footerContainer").bind("scroll.syncScrollContainers",n.proxy(this._onScrollContainer,this)),this._registerScrllCntnrToSync(i),i.css("display","none"),this._footer=i,this._footerParent=f,this._trigger(this.events.footerRendered,null,{owner:this,table:this.footersTable()}))),i},_renderRecord:function(i,r,u,f,e){var a=this.options.primaryKey,y=this.id(),c,s=this,o="",v=this.options.columns,l,h;return e=e||"",o+="<tr",f=isNaN(f)?r:f,f%2!=0&&this.options.alternateRowStyles&&(o+=' class="'+s.css.recordAltClass+'"'),t(a)?t(i.ig_pk)||(o+=' data-id="'+i.ig_pk+'"'):o+=' data-id="'+this._kval_from_key(a,i)+'"',this.options.virtualization&&this.options.virtualizationMode==="continuous"&&(o+=' data-row-idx="'+r+'"'),o+=' role="row" tabindex="'+this.options.tabIndex+'">',l=!0,u=!!u,n(v).each(function(n){var t=v[n],r=!!t.fixed;(c=!1,t.hidden||r!==u)||(l=!1,o+=e,o+='<td role="gridcell" aria-readonly="'+!!this.readOnly+'" aria-describedby="'+y+"_"+this.key+'" tabindex="'+s.options.tabIndex+'"',t.template&&t.template.length?(h=s._renderTemplatedCell(i,this),h.indexOf("<td")===0?o+=h.substring(3):(o+=">"+h,c=!0),o=s._editCellStyle(o,i,this.key,t,c)):o+=s._addCellStyle(i,this.key||n,t)+">"+s._renderCell(i[this.key||n],this,i),o+="<\/td>")}),l&&!u&&(o+=e+'<td role="gridcell"><\/td>'),o+=e,o+="<\/tr>"},_renderRecordFromLayout:function(n,i,r){for(var v=this._rlp,c,e,y=this.options.primaryKey,f="",u,l,o,s,a,p=i%2!=0&&this.options.alternateRowStyles,h=0;h<v.length;h++){for(c=v[h],f+="<tr"+(p?' class="'+this.css.recordAltClass+'"':""),t(y)?t(n.ig_pk)||(f+=' data-id="'+n.ig_pk+'"'):f+=' data-id="'+this._kval_from_key(y,n)+'"',this.options.virtualization&&this.options.virtualizationMode==="continuous"&&(f+=' data-row-idx="'+i+'"'),f+=' role="row" tabindex="'+this.options.tabIndex+'">',l=!0,s=0;s<c.length;s++){if(e=c[s],a=!1,e.col?u=e.col:(u=this.columnByKey(e.key),e.col=u),u.hidden||u.fixed===!0&&!r||u.fixed!==!0&&r)return;l=!1,f+='<td role="gridcell" aria-readonly="'+!!u.readOnly+'" '+(e.cs>0?'colspan="'+e.cs+'" ':"")+(e.rs>0?'rowspan="'+e.rs+'" ':"")+'aria-describedby="'+this.id()+"_"+u.key+'" tabindex="'+this.options.tabIndex+'" data-navindex="'+u.navigationIndex+'"',u.template&&u.template.length?(o=this._renderTemplatedCell(n,u),o.indexOf("<td")===0?f+=o.substring(3):(f+=">"+o,a=!0),f=this._editCellStyle(f,n,u.key,u,a)):f+=this._addCellStyle(n,u.key,u)+">"+this._renderCell(n[u.key],u,n),f+="<\/td>"}l&&(f+='<td role="gridcell"><\/td>'),f+="<\/tr>"}return f},_editCellStyle:function(n,t,i,r,u,f){var e,a,o,h,c,s="",l,v=this._cellStyleSubscribers&&this._cellStyleSubscribers.length,y=r?r.columnCssClass:!1;if(v)for(l=0;l<this._cellStyleSubscribers.length;l++)s+=this._cellStyleSubscribers[l](t,i,f)+" ";return(y&&u&&(s+=r.columnCssClass),s=s.trim(),s.length===0)?n:(e=n.lastIndexOf("<td"),a=n.indexOf(">",e),a>0?(o=n.substring(e,a).indexOf("class"),o>0&&(o+=e)):o=n.indexOf("class",e),o>0?(h=n.substring(0,o+7),c=n.substring(o+7),n=h+s+" "+c):(h=n.substring(0,e+3),c=n.substring(e+3),n=h+' class="'+s+'"'+c),n)},_addCellStyle:function(n,t,i,r){var u="",f,e=this._cellStyleSubscribers&&this._cellStyleSubscribers.length,o=i?i.columnCssClass:!1;if(e)for(f=0;f<this._cellStyleSubscribers.length;f++)u+=this._cellStyleSubscribers[f](n,t,r)+" ";return o&&(u+=i.columnCssClass),u=u.trim(),u.length>0?' class="'+u+'"':u},_getCellStyle:function(n,t,i){var u="",r;if(!this._cellStyleSubscribers||this._cellStyleSubscribers.length===0)return u;for(r=0;r<this._cellStyleSubscribers.length;r++)u+=this._cellStyleSubscribers[r](n,t,i)+" ";return u.trim()},_enableHeaderCellFeature:function(t){var i;i=n.type(t)==="string"?this.container().find("#"+this.id()+"_"+t):t,i.addClass(this.css.headerCellFeatureEnabledClass)},_fixDate:function(n,t){var i,r;return!t||!n?n:(t.dataType!=="date"&&t.dataType!=="time"||n.getTime||(r=n.indexOf?n.indexOf("ate("):-1,r>0&&(i=n.substring(r+4),r=i.indexOf(")"),r>0&&(i=parseInt(i.substring(0,r),10),isNaN(i)||(n=new Date(i))))),n)},_renderCell:function(t,i,r,u,f){var e=i.dataType,o=i.format,h=this.options,s=h.autoFormat;return(r&&!f&&(t=this.dataSource.getCellValue(i.key,r)),t=this._fixDate(t,i),i.formatter)?i.formatter(t,r):(!o&&e==="bool"&&h.renderCheckboxes&&(o="checkbox"),o==="checkbox"&&e!=="bool"&&(o=null),o||e!=="time"||(o="time"),e=e==="date"||e==="number"||e==="time"?e:"",o||(s===!0||s==="dateandnumber")&&e||s&&s===e)?(i.formatted=!0,n.ig.formatter(t,e,o,!0,i.dateDisplayType==="utc",this._getOffsetForCol(r,i),u,i.headerText,this.options.tabIndex,i.regional||this.options.regional)):f?t:t||t===0||t===!1?t.toString():"&nbsp;"},_renderTemplatedCell:function(t,i){var r,u=n.extend({},t);return r=t===undefined||t===null||t[i.key]===undefined?i.unbound===!0?"&nbsp;":this._renderCell(t,i,t,null,!0):this._renderCell(t[i.key],i,t,null,!0),r=r==="&nbsp;"?null:r,u[i.key]=r,this._tmplWrappers[this.id()+"_"+i.key](u,this._jsrnd?undefined:i.template)},_defaultTemplateFunc:function(t,i){return n.ig.tmpl(i,t)},_setTemplateDefinition:function(t){for(var r,i=0;i<this.options.columns.length;i++)this.options.columns[i].template&&this.options.columns[i].template.length&&(r=this.id()+"_"+this.options.columns[i].key,t?(n.templates(r,this.options.columns[i].template),this._jsrnd=!0):this._tmplWrappers[r]=this._defaultTemplateFunc)},_scrollbarWidth:function(){return this._scrollbarWidthResolved=t(this._scrollbarWidthResolved)?n.ig.util.getScrollWidth():this._scrollbarWidthResolved},_fireInternalEvent:function(n,t){for(var r,f,i,u=0;u<this.options.features.length;u++)r=this.options.features[u],r!==undefined&&r!==null&&r.name!==undefined&&(f="igGrid"+r.name,i=this.element.data(f),i!==null&&i!==undefined&&i[n]&&(t?i[n](t):i[n]()))},_initFeature:function(t){var i,r=["Hiding","ColumnMoving","GroupBy","CellMerging","AppendRowsOnDemand","MultiColumnHeaders","ColumnFixing","Resizing","Responsive","RowSelectors","Selection","Summaries","Tooltips"];if(t&&t.name!==undefined){if(this._isMultiRowGrid()&&r.indexOf(t.name)>-1)throw new Error(this._getLocaleValue("featureNotSupportedWithMRL").replace("{featureName}",t.name));if(i="igGrid"+t.name,n.type(this.element[i])!=="function")throw new Error(this._getLocaleValue("noSuchWidget").replace("{featureName}",i));this.element.data(i)&&this.element[i]("destroy"),t.language=this.options.language,this.element[i](t),this.element.data(i)._injectGrid(this)}},_initFeatureSettings:function(t){if(t&&t.name!==undefined){var i="igGrid"+t.name;if(n.type(this.element[i])!=="function")throw new Error(this._getLocaleValue("noSuchWidget").replace("{featureName}",i));this.element.data(i)&&this.element.data(i)._injectGrid(this,!0)}},_onFeaturesSoftDirty:function(t,i){var u,r;if(i.owner.options.type==="remote")for(u=0;u<this.options.features.length;u++)r=this.element.data("igGrid"+this.options.features[u].name),r&&r!==i.owner&&r.options&&r.options.type==="local"&&r._onUIDirty&&n.type(r._onUIDirty)==="function"&&r._onUIDirty(t,i)},_kval_from_key:function(n,t){var r,u="",i;if(n.indexOf(",")!==-1)for(r=n.split(","),i=0;i<r.length;i++)u+=t[r[i]],i<r.length-1&&(u+=",");else u=t[n];return u},_rowId:function(n,t){var i=this.options.primaryKey;return i=i?this._kval_from_key(i,n):null,i||(i=t,i!==0&&(i=this.rows().length-1)),i},_inferOpType:function(){return this.options.dataSourceUrl||this.dataSource.type()==="remoteUrl"?"remote":"local"},_calcOffsetForCol:function(n,t,i){var r=this._getOffsetForCol(n,t);return r!==null||t.dateDisplayType==="utc"?i?Math.floor(r/6e4):0:null},_getOffsetForCol:function(n,t){var r="igoffset_"+t.key,i;if(!n){if(i=this.dataSource.data(),!i.length)return null;n=i[0]}return n.hasOwnProperty(r)?n[r]:null},_renderVirtualRecords:function(){var n=this.options.virtualizationMode;this._trigger("virtualrendering"),(n===undefined||n==="")&&(n="continuous"),n==="fixed"||this.options.columnVirtualization===!0?(this._persistVirtualScrollTop&&(this._startRowIndex=Math.ceil(this._scrollContainer().scrollTop()/parseInt(this.options.avgRowHeight,10)),this._startRowIndex>this._getDataView().length-this._virtualRowCount&&(this._startRowIndex=this._getDataView().length-this._virtualRowCount>0?this._getDataView().length-this._virtualRowCount:0)),this._renderVirtualRecordsFixed()):n==="continuous"&&(this._renderVirtualRecordsContinuous(),this._trigger("virtualrecordsrender",null,{owner:this,dom:this._virtualDom}))},_getHScrollContainerInner:function(){var n=this._hscrollbarinner();return n.length===0&&this.options.virtualizationMode==="continuous"&&(n=this.container().find("#"+this.id()+"_horizontalScrollContainer div")),n},_getScrollContainerHeight:function(){return n.ig.util.isIE?this._scrollContainer().children(":first-child")[0].clientHeight:this._scrollContainer().children(":first-child").height()},_getDisplayContainerHeight:function(){return this._vdisplaycontainer().height()},_getDisplayContainerWidth:function(){return this._vdisplaycontainer().width()},_setDisplayContainerWidth:function(n){n!==undefined&&(this._vdisplaycontainer().css("max-width",n),this._vdisplaycontainer().width(n))},_getVHeadersWidth:function(){return this.container().find("#"+this.id()+"_headers_v").width()},_setVHeadersWidth:function(n){n!==undefined&&this.container().find("#"+this.id()+"_headers_v").width(n)},_setScrollContainerHeight:function(t){var i=this._scrollContainer();t!==undefined&&(n.ig.util.isIE&&t>this.maxScrollContainerHeight&&(this._setMaxHeightForScrollCntnr=!0,t=this.maxScrollContainerHeight),i.children(":first-child").height(t))},_setScrollContainerScrollTop:function(n){n!==undefined&&this._scrollContainer().scrollTop(n)},_getScrollContainerScrollTop:function(){return this._scrollContainer().scrollTop()},_setDisplayContainerScrollTop:function(n){n!==undefined&&this._vdisplaycontainer().scrollTop(n)},_getDisplayContainerScrollTop:function(){return this._vdisplaycontainer().scrollTop()},_setDisplayContainerScrollLeft:function(n){n!==undefined&&this._vdisplaycontainer().scrollLeft(n)},_getDisplayContainerScrollLeft:function(){return this._vdisplaycontainer().scrollLeft()},_calculateAvgRowHeight:function(){var n=this.container().find("#"+this.id()+" > tbody").height();if(n===0&&(n=parseInt(this.options.height,10)),this.options.virtualizationMode==="fixed"){if(this._fixedAvgRowHeight)return this._fixedAvgRowHeight;this._fixedAvgRowHeight=n/this._virtualRowCount}return n/this._virtualRowCount},_getDisplayContainerVisibleArea:function(){var n=this._getDisplayContainerScrollTop(),t=this._getDisplayContainerHeight();return{top:n,bottom:n+t}},virtualScrollTo:function(t){var i,u=this._scrollContainer(),r=parseInt(t,10);n.type(t)!=="string"&&(i=this.options.virtualizationMode==="fixed"?parseInt(this.options.avgRowHeight,10):this._avgRowHeight?this._avgRowHeight:this._calculateAvgRowHeight(),t--,r=i*t,r=Math.ceil(r),this._virtualScrollToIndex=t),u.scrollTop(r)},_virtualScrollToInternal:function(n){var r,t,i,u,f;n!==this._oldScrollTop&&(r="#"+this.id(),t=this.container().find(r+" > tbody > tr:not([data-container]):visible:first"),i=this.container().find(r+" > tbody > tr:not([data-container]):visible:last"),t.length!==0&&i.length!==0)&&(u={virtualScrollerY:this._getScrollContainerScrollTop(),deltaScroll:n-this._oldScrollTop,firstRow:t,lastRow:i,firstRowDataIndex:parseInt(t.attr("data-row-idx"),0),lastRowDataIndex:parseInt(i.attr("data-row-idx"),0),visibleArea:this._getDisplayContainerVisibleArea()},f={action:"SA_INITIAL"},this._tryScroll(u,f)||(this._trigger("virtualrendering"),this._rebuildVirtualRows(u,f)),this._correctScrollPosition(this._getTotalRowsCount()))},_getTotalRowsCount:function(){return this._getDataView().length},_tryScroll:function(n,t){var i,e,u,f,r;if(t===undefined)throw new Error("scrollResult parameter should be provided");if(i=n.deltaScroll,e=n.firstRow,u=n.lastRow,f=this._getDisplayContainerHeight(),r=this._getDisplayContainerScrollTop(),this._rlp&&this._isScrolledToBottomInVirtGrid()&&n.lastRowDataIndex<this._totalRowCount)return t.action="SA_NEED_LAST_PAGE",!1;if(i>0){if(u[0].offsetTop+u.outerHeight()>=r+i+f||isNaN(n.lastRowDataIndex)||n.lastRowDataIndex>=this._getLastVisibleDataRecordIndex())return this._setDisplayContainerScrollTop(r+i),t.action="SA_SUCCESSFUL",!0;if(i<=this._avgRowHeight*this._virtualRowCount)return i+f>this._avgRowHeight*this._virtualRowCount?(t.action="SA_NEED_SOME_PAGE",!1):(t.action="SA_NEED_NEXT_PAGE",!1)}if(i<0){if(e[0].offsetTop<=r+i||n.firstRowDataIndex===0)return this._setDisplayContainerScrollTop(r+i),t.action="SA_SUCCESSFUL",!0;if(Math.abs(i)<=this._avgRowHeight*this._virtualRowCount)return t.action="SA_NEED_PREV_PAGE",!1}return t.action="SA_NEED_SOME_PAGE",!1},_getDataView:function(){return this.dataSource.dataView()},_isScrolledToBottomInVirtGrid:function(){var n=this._scrollContainer();return this._getScrollContainerScrollTop()+5>=n[0].scrollHeight-n.innerHeight()},_rebuildVirtualRows:function(t,i){var g,f,e,o,c,s,ot,nt,a,p,v,h,l,y,r,tt,w,b,k,it,rt,ut,ft,u,et,d;if(g=this._trigger("rebuildingvirtualrows",null,{owner:this,scrollData:t,scrollResult:i}),g!==!1){for(f=t.virtualScrollerY,e=t.deltaScroll,o="#"+this.id(),c=t.visibleArea,s=this.container().find(o+" > tbody"),a=0,p=this.container().find(o+' > tbody > tr[data-container="true"]'),v=0;v<p.length;v++)a+=n(p[v]).outerHeight();a>0&&(h=this._getScrollContainerHeight(),this._setScrollContainerHeight(h-a)),e>0&&i.action==="SA_NEED_LAST_PAGE"&&(r=this._getDataView().length-this._virtualRowCount,u=r+this._virtualRowCount-1,s.empty(),this._startRowIndex=r,this._startColIndex=0,this._renderRecords(r,u),this._persistVirtualScrollTop||this._setDisplayContainerScrollTop(1e4)),e>0&&i.action==="SA_NEED_NEXT_PAGE"&&(l=this._getFirstVisibleTR(c),y=Math.abs(l[0].offsetTop-c.top),r=parseInt(l.attr("data-row-idx"),0),et=r,u=parseInt(this._virtualRowCount,0)+r-1,d=!1,u>this._getDataView().length-1&&(u=this._getDataView().length-1,r=u-this._virtualRowCount+1,d=!0),s.empty(),this._startRowIndex=r,this._startColIndex=0,this._renderRecords(r,u),d&&(it=this.container().find(o+" > tbody > tr[data-row-idx='"+et+"']"),y=it[0].offsetTop+y),this._setDisplayContainerScrollTop(y+e)),e<0&&i.action==="SA_NEED_PREV_PAGE"&&(rt=this._getLastVisibleTR(c),ut=parseInt(rt.attr("data-row-idx"),0),l=this._getFirstVisibleTR(c),ft=parseInt(l.attr("data-row-idx"),0),u=ut,r=u-parseInt(this._virtualRowCount,0)+1,r>=t.firstRowDataIndex&&(r=t.firstRowDataIndex-parseInt(this._virtualRowCount,0)+1),(r<0||!f)&&(r=0,u=r+this._virtualRowCount-1),s.empty(),this._startRowIndex=r,this._renderRecords(r,u),o="#"+this.id(),tt=this.container().find(o+' > tbody > tr[data-row-idx="'+ft+'"]'),this._setDisplayContainerScrollTop(tt[0].offsetTop+e)),i.action==="SA_NEED_SOME_PAGE"&&(r=Math.floor(f/this._avgRowHeight),h=this._getScrollContainerHeight(),(n.ig.util.isIE||this._setMaxHeightForScrollCntnr||this._rlp)&&this._totalRowCount*this._avgRowHeight>=h+2&&(r=this._isScrolledToBottomInVirtGrid()?this._getDataView().length-this._virtualRowCount:Math.ceil(f/h*this._totalRowCount)),u=r+this._virtualRowCount-1,r<0&&(r=0,u=r+this._virtualRowCount-1),u>=this._getDataView().length-1&&(u=this._getDataView().length-1,r=u-this._virtualRowCount+1),s.empty(),this._startRowIndex=r,this._renderRecords(r,u),w=0,b=h-this._getDisplayContainerHeight(),b-3<=f&&f<=b+3&&(w=1e4),this._persistVirtualScrollTop||this._setDisplayContainerScrollTop(w)),k=this._calculateAvgRowHeight(),k>this._avgRowHeight&&(nt=this._avgRowHeight,this._avgRowHeight=k,this._trigger("avgRowHeightChanged",null,{owner:this,oAvgRowHeight:nt,avgRowHeight:this._avgRowHeight})),this._trigger("virtualrecordsrender",null,{owner:this,tbody:s,dom:this._virtualDom})}},_correctScrollPosition:function(n){var f,s,t,h,i,a,r,u,e,v,c,l,o;f=this._getScrollContainerScrollTop(),s=this._getScrollContainerHeight()-this._getDisplayContainerHeight(),t="#"+this.id(),h=this.container().find(t+" > tbody > tr:first"),i=parseInt(h.attr("data-row-idx"),0),a=this.container().find(t+" > tbody > tr:last"),r=parseInt(a.attr("data-row-idx"),0),u=this._getDisplayContainerVisibleArea(),e=this.container().find(t+" > tbody"),f===0?u.top>0?this._scrollTo(u.top,!0):i>0&&this._scrollTo(i*this._avgRowHeight,!0):f>=s-3&&f<=s+3&&(u.bottom<e.height()&&r===n-1?this._scrollTo(this._getScrollContainerScrollTop()-(e.height()-u.bottom),!0):r<n-1&&(v=n-r,this._setScrollContainerHeight(this._getScrollContainerHeight()+v*this._avgRowHeight))),c=this._getDisplayContainerScrollTop(),c===0&&i===0&&this._getScrollContainerScrollTop()!==0&&this._scrollTo(0),Math.abs(c-(e.height()-this._getDisplayContainerHeight()))<=1&&r===n-1&&this._scrollTo(this._getScrollContainerHeight(),!0),this._virtualScrollToIndex!==undefined&&this._virtualScrollToIndex!==null&&(l=this.container().find(t+" > tbody > tr[data-row-idx="+this._virtualScrollToIndex+"]"),o=0,l.length===1&&i!==this._virtualScrollToIndex&&(o=l.igOffset().top-h.igOffset().top),this._virtualScrollToIndex=null,o>0&&this._vdisplaycontainer().scrollTop(o))},_scrollTo:function(n,t){t&&(this._suppressScroll=!0),this._setScrollContainerScrollTop(n)},_getFirstVisibleTR:function(t){var r="#"+this.element[0].id,i,u=t.top;return n(r+" > tbody > tr:visible").each(function(){return i=n(this),this.offsetTop+i.height()>u?!1:void 0}),i},_getLastVisibleTR:function(n){var i="#"+this.id(),t;return t=this.container().find(i+" > tbody > tr:visible").filter(function(){return this.offsetTop<n.bottom}).last()},_renderRecordsForVirtRowCount:function(n,t,i){for(var u="",r=0;r<t;r++)u+=i.apply(this,[n[r],r]);return u},_determineVirtualRowCount:function(){var t,i=10,r,s="",u,y,h,f,c,l,a,v,e,o;return this._fireInternalEvent("_virtRowCountDetermining"),r=this._getDataView(),i>r.length&&(i=r.length),t=n('<div class="'+this.css.gridClasses+" "+this.css.baseClass+'"><\/div>)').appendTo("body").css({position:"absolute",top:-1800,left:-1800,visibility:"hidden"}),f=this._rlp?this._renderRecordFromLayout:this._renderRecord,s=this._renderRecordsForVirtRowCount(r,i,f),u='<table cellpadding="0" cellspacing="0" border="0" style="width:'+this.element.width()+'px; table-layout: fixed;" class="'+(this._isMultiRowGrid()?this.css.mrlGridTableClass:this.css.gridTableClass)+'">',o=this.element.children("colgroup"),o.length&&(u+=o[0].outerHTML),u+='<tbody role="rowgroup">'+s+"<\/tbody><\/table>",t.html(u),h=t.height(),c=h/i,l=this._getDisplayContainerHeight(),a=l/c,v=this._getPageMultiplier(this.options.columns.length),e=Math.ceil(a*v),t.remove(),this._fireInternalEvent("_virtRowCountDetermined",e),e},_getTotalRowCount:function(){return this._getDataView().length},_getPageMultiplier:function(n){var t=Math.max(10,Math.min(100,n));return-.03*t+5},_renderVirtualRecordsContinuous:function(){var t,n,r,i,u,f;this._totalRowCount=this._getTotalRowCount(),this._oldScrollTop=0,this._totalRowCount===0&&(this._setScrollContainerHeight(0),this._virtualDom=[]),this._virtualRowCount=this._determineVirtualRowCount(),this._virtualRowCount>this._totalRowCount&&(this._virtualRowCount=this._totalRowCount),this._persistVirtualScrollTop?(t=this._getDataView().length,n=this._prevFirstVisibleTRIndex||this._prevFirstVisibleTRIndex===0?this._prevFirstVisibleTRIndex:0,n>=t-1?(i=t-1,n=t-this._virtualRowCount-1):i=parseInt(this._virtualRowCount,0)+n,i>t-1&&(i=t-1,n=t-this._virtualRowCount-1),n<0&&(n=0),this._renderRecords(n,i),this._avgRowHeight=this._calculateAvgRowHeight(),this._updateVirtualScrollContainer(),this._startRowIndex=n,u=this.container().find("#"+this.id()+" > tbody > tr:visible:last"),f=this._getScrollContainerScrollTop()+5>this._scrollContainer()[0].scrollHeight-this._scrollContainer().innerHeight(),i===t-1&&f?this._setDisplayContainerScrollTop(u.length?u[0].offsetTop:0):this._setDisplayContainerScrollTop(this._prevFirstVisibleTROffset),this._oldScrollTop=this._scrollContainer().scrollTop()):(this._scrollTo(0,!0),this._startRowIndex=0,this._renderRecords(this._virtualRowCount-1),r=this._avgRowHeight,this._avgRowHeight=this._calculateAvgRowHeight(),this._avgRowHeight!==r&&this._trigger("avgRowHeightChanged",null,{owner:this,oAvgRowHeight:r,avgRowHeight:this._avgRowHeight}),this._setScrollContainerHeight(this._totalRowCount*this._avgRowHeight))},_rerenderVirtualRecordsContinuous:function(){var i="#"+this.id(),n,t;n=this.container().find(i+" > tbody > tr:last"),t=parseInt(n.attr("data-row-idx"),0),this._focusDataRowIndex=null,this._startRowIndex=this._startRowIndex||0,this._renderRecords(this._startRowIndex,t),this._trigger("virtualrecordsrender",null,{owner:this,tbody:this.element.children("tbody"),dom:this._virtualDom})},_buildVirtualDomForContinuousVirtualization:function(){var i,r,n,t;if(this.options.virtualization===!0&&this.options.virtualizationMode==="continuous"){for(this._virtualDom=[],i=this.container().find("#"+this.id()+" > tbody > tr"),n=0;n<i.length;n++)for(this._virtualDom[n]=[],r=i[n].children,t=0;t<r.length;t++)this._virtualDom[n][t]=r[t];this._updateVirtualScrollContainer()}},_isFixedElement:function(n){return this.hasFixedColumns()&&n.closest("div").attr("data-fixed-container")!==undefined?!0:!1},getColumnByTD:function(t){t instanceof n||(t=n(t));var o=t.closest("tr"),r=t.attr("aria-describedBy"),i,f={},e,u;if(o.length===0||t.attr("data-parent")||t.attr("data-skip"))return null;if(!r)return{column:this._visibleColumns()[0],index:0};for(r=r.split(" "),u=0;u<r.length;u++)if(i=r[u].trim(),i.startsWith(this.id()+"_")){i=this.columnByKey(i.slice(i.indexOf(this.id()+"_")+this.id().length+1));break}return e=this.getVisibleIndexByKey(i.key,!0),f={column:i,index:e}},_clearPersistenceData:function(){var n=this.element.closest(".ui-iggrid-root").data("igGrid")||this;delete n.persistenceData},_savePersistenceData:function(t,i,r){var u=this,f=i;n.type(r)==="string"&&r.length>0&&(u=this.element.closest(".ui-iggrid-root").data("igGrid")||this,r!==u.element[0].id&&(f=i+"_"+r)),u.persistenceData=u.persistenceData||{},u.persistenceData[f]=t},_getPersistenceData:function(t,i){var r=this,u=t;return n.type(i)==="string"&&i.length>0&&(r=this.element.closest(".ui-iggrid-root").data("igGrid")||this,i!==r.element[0].id&&(u=t+"_"+i)),r.persistenceData=r.persistenceData||{},r.persistenceData[u]},_saveFirstVisibleTRIndex:function(){var n=this._getFirstVisibleTR(this._getDisplayContainerVisibleArea());n&&n.length&&(this._prevFirstVisibleTRIndex=parseInt(n.attr("data-row-idx"),10),this._prevFirstVisibleTROffset=this._getDisplayContainerScrollTop()-n[0].offsetTop)},_getLastVisibleDataRecordIndex:function(){return this._getDataView().length-1},_revertToInitialState:function(){var n,t,i;for(this.element.is("table")&&this._initialChildren&&this._initialChildren.appendTo(this.element),i=this.element[0].attributes,t=[],n=0;n<i.length;n++)i[n].name!=="id"&&t.push(i[n].name);for(n=0;n<t.length;n++)this.element.removeAttr(t[n]);for(n=0;n<this._initialAttributes.length;n++)this._initialAttributes[n].name!=="id"&&this.element.attr(this._initialAttributes[n].name,this._initialAttributes[n].value)},_removeDetachedDOM:function(n){if(n){var r,i,t;for(r in n)if(n.hasOwnProperty(r))for(i=n[r],t=0;t<i.length;t++)i[t]&&i[t].length&&i[t].remove()}},_detachEvents:function(){var t;this._cellClickHandler&&(this.element.unbind({click:this._cellClickHandler}),this._cellClickHandler=null),this._mouseClickEventHandlers&&(this.element.unbind(this._mouseClickEventHandlers),delete this._mouseClickEventHandlers),this._uiSoftDirtyHandler&&(this.element.unbind("iggriduisoftdirty",this._uiSoftDirtyHandler),this._uiSoftDirtyHandler=null),this._hovEvts&&(this.element.unbind(this._hovEvts),this._hovEvts=null),this._documentEvents&&(n(document).unbind(this._documentEvents),this._documentEvents=null),t=this.scrollContainer(),t.length||(t=this._vdisplaycontainer()),t.unbind(".syncScrollContainers"),this.headersTable().parent().unbind(".syncScrollContainers"),t=this.footersTable().closest("div"),t.unbind(".syncScrollContainers"),this.element.unbind(".setFocusElement")},_destroyFeatures:function(){var n,t=this.options.features,i=this.element;for(this._internalFeatures&&this._internalFeatures.length&&(t=t.concat(this._internalFeatures)),n=0;n<t.length;n++)i.data("igGrid"+t[n].name)&&i["igGrid"+t[n].name]("destroy")},destroy:function(t){var i=this.container().prev(),r=!1;return(this._scrollHeader&&this._hscrollbarcontent().length>0&&this._hscrollbarcontent().unbind("scroll",n.proxy(this._scrollHeader,this)),this.scrollContainer()&&(this.scrollContainer().unbind("scroll"),this.scrollContainer().unbind("wheel")),this.dataSource._ajaxRequest&&this.dataSource._ajaxRequest.readyState!==4&&this.dataSource._ajaxRequest.abort(),this._headerInitCallbacks=[],this._footerInitCallbacks=[],this.tmpDataSource=null,this._resId&&clearInterval(this._resId),this._destroyed=!0,this._destroyFeatures(),this._detachedContainersInitialized&&(this._removeDetachedDOM(this._detachedHeaderCells),delete this._detachedHeaderCells,this._removeDetachedDOM(this._detachedFooterCells),delete this._detachedFooterCells,delete this._detachedContainersInitialized),this._detachEvents(),this._isWrapped&&this.container().parent().data("igGrid"))?(this.element=this.container().parent(),this.element.empty(),t!==!0&&this._superApply(arguments),this._revertToInitialState(),this.element.trigger(this.events.destroyed,{owner:this}),this):(i.length===0&&(i=this.container().parent(),r=!0),this.element.empty(),r?i.prepend(this.element):this.element.insertAfter(i),t!==!0&&this._superApply(arguments),this.container().remove(),this._captionContainer=null,this._container=null,this._revertToInitialState(),t===!0)?this:(this.element.trigger(this.events.destroyed,{owner:this}),this)}}),n.extend(n.ui.igGrid,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridModalDialog",n.ui.igWidget,{options:{modalDialogWidth:250,modalDialogHeight:"",renderFooterButtons:!0,animationDuration:200,buttonApplyDisabled:!1,closeModalDialogOnEnter:!1,tabIndex:null},css:{modalDialog:"ui-dialog ui-draggable ui-resizable ui-iggrid-dialog ui-widget ui-widget-content ui-corner-all",modalDialogHeaderCaption:"ui-dialog-titlebar ui-widget-header ui-corner-top ui-helper-reset ui-corner-all ui-helper-clearfix",modalDialogHeaderCaptionTitle:"ui-dialog-title",modalDialogContent:"ui-dialog-content ui-widget-content",modalDialogHandleBar:"",captionButtonContainer:"ui-iggrid-modaldialog-caption-buttoncontainer",modalDialogFooter:"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix",buttonset:"ui-dialog-buttonset",blockArea:"ui-widget-overlay ui-iggrid-blockarea"},events:{modalDialogOpening:"modalDialogOpening",modalDialogOpened:"modalDialogOpened",modalDialogMoving:"modalDialogMoving",modalDialogClosing:"modalDialogClosing",modalDialogClosed:"modalDialogClosed",modalDialogContentsRendering:"modalDialogContentsRendering",modalDialogContentsRendered:"modalDialogContentsRendered",buttonOKClick:"buttonOKClick",buttonCancelClick:"buttonCancelClick"},_createWidget:function(n){this.gridContainer=n.gridContainer,this.containment=n.containment||n.gridContainer,this._superApply(arguments)},_create:function(){this._setGridWidthHeight(),this._renderModalDialog()},_setGridWidthHeight:function(){this.element.css("width",this.options.modalDialogWidth).css("height",this.options.modalDialogHeight)},_checkModalDialogFocus:function(){var t=this;t.gridContainer.unbind("keydown.focusChecker"),t.gridContainer.bind("keydown.focusChecker",function(i){var r,u,f;if(i.keyCode===n.ui.keyCode.TAB){if(r=document.activeElement,u=t.gridContainer[0],!r||!u)return;if(r===u||n.contains(u,r)&&!n.contains(t.element[0],r)){f=n(":tabbable",t.element),f.first().focus();return}}})},openModalDialog:function(){var p=1e4,o,c=this,w,b,r,u,l,a,h,it,rt,k,d,f,e,ut,s,g,ft,v,y,et=!0,t=this.element,i,ot=this._getAnimationDuration(),st=this._id("_modaldialog_block"),ht=this.options.tabIndex,nt,tt;this._modalDialogOpened||(et=this._trigger(this.events.modalDialogOpening,null,{modalDialog:t,owner:this}),et&&(this._checkModalDialogFocus(),n("#"+st).remove(),this._setGridWidthHeight(),h=n.ig.util.offset(this.gridContainer),rt=this.gridContainer.outerWidth(),it=this.gridContainer.outerHeight(),w=n(window).scrollLeft(),b=n(window).scrollTop(),r=h.left-w,u=h.top-b,l=r+rt,a=u+it,typeof this.options.modalDialogWidth=="number"?f=parseInt(this.options.modalDialogWidth,10):(this.options.modalDialogWidth.indexOf("%")>0&&(nt=parseInt(this.options.modalDialogWidth,10)/100,this.options.containment instanceof n&&(f=this.options.containment.width()*nt),typeof this.options.containment=="string"&&(f=n(window).width()*nt)),this.options.modalDialogWidth.indexOf("px")>0&&(f=parseInt(this.options.modalDialogWidth,10))),typeof this.options.modalDialogHeight=="number"?e=parseInt(this.options.modalDialogHeight,10):(this.options.modalDialogHeight.indexOf("%")>0&&(tt=parseInt(this.options.modalDialogHeight,10)/100,this.options.containment instanceof n&&(e=this.options.containment.height()*tt),typeof this.options.containment=="string"&&(e=n(window).height()*tt)),this.options.modalDialogHeight.indexOf("px")>0&&(e=parseInt(this.options.modalDialogHeight,10))),i=n("<div><\/div>").appendTo(this.gridContainer).attr("id",st).css("position","absolute").addClass(this.css.blockArea).hide(),i.outerWidth()!==this.gridContainer.outerWidth()&&i.css("width",this.gridContainer.outerWidth()),i.outerHeight()!==this.gridContainer.outerHeight()&&i.css("height",this.gridContainer.outerHeight()),o=n.ig.util.getRelativeOffset(i),i.css({left:h.left-o.left,top:h.top-o.top}).fadeToggle(ot),f||(f=this.element.width()),e||(e=this.element.height()),r<0&&(r=0),u<0&&(u=0),d=n(window).width(),k=n(window).height(),l>d&&(l=d),a>k&&(a=k),v=u+b+(a-u)/2-e/2,y=r+w+(l-r)/2-f/2,v<0&&(v=u),y<0&&(y=r),p=n.ig.getMaxZIndex(this.element[0].id),o=n.ig.util.getRelativeOffset(t),t.css({left:y-o.left,top:v-o.top,zIndex:p+2}).fadeToggle(ot,function(){var n={modalDialogElement:t,owner:c,shouldFocus:!0};c._modalDialogOpened=!0,c._trigger(c.events.modalDialogOpened,null,n),n.shouldFocus&&t.focus()}),i.css({zIndex:p+1}),ut=t.children("div.ui-dialog-titlebar"),s=t.children("div.ui-dialog-content"),g=t.children("div.ui-dialog-buttonpane"),ft=g.children(".ui-dialog-buttonset"),s.css("height",t.height()-ut.outerHeight()-(s.outerHeight()-s.height())-g.outerHeight()),this.element.find("#"+this._id("content")).attr("tabIndex",n.type(ht)==="number"?ht:0).css({width:""}),n.ig.util.isTouch||t.resizable({minHeight:t.outerHeight()/2,minWidth:ft.width()+(s.outerWidth()-s.width())})))},_getAnimationDuration:function(){var n=this.options.animationDuration;return(n===null||n===undefined)&&(n=200),n},changeLocale:function(){this.element.find("#"+this._id("footer_buttonok")).igButton("option",{labelText:this._getLocaleValue("buttonApplyText"),title:this._getLocaleValue("buttonApplyTitle")}),this.element.find("#"+this._id("footer_buttoncancel")).igButton("option",{labelText:this._getLocaleValue("buttonCancelText"),title:this._getLocaleValue("buttonCancelTitle")}),this.element.find("span.ui-dialog-title:eq(0)").html(this._getLocaleValue("modalDialogCaptionText"))},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(n,t){this._superApply(arguments);switch(n){case"buttonApplyDisabled":this.element.find("#"+this._id("footer_buttonok")).igButton("option","disabled",t);break;case"modalDialogWidth":this.element.css("width",t);break;case"modalDialogHeight":this.element.css("height",t);break;case"renderFooterButtons":this.element.is(":visible")&&this.closeModalDialog(),this.element.empty(),this._renderModalDialog()}},closeModalDialog:function(t,i){var f=!0,r=this,u=this.element,e=this._getAnimationDuration();this._modalDialogOpened&&(f=this._trigger(this.events.modalDialogClosing,i||null,{modalDialog:u,owner:this,accepted:!!t,raiseEvents:!!i}),f&&(this.gridContainer.unbind("keydown.focusChecker"),n("#"+this._id("_modaldialog_block")).fadeToggle(e),u.fadeToggle(e,null,function(){r._trigger(r.events.modalDialogClosed,i||null,{modalDialog:u,owner:r,accepted:!!t,raiseEvents:!!i})}),r._modalDialogOpened=!1))},_modalDialogMove:function(n,t){var i=t.originalPosition,r=t.position;this._trigger(this.events.modalDialogMoving,null,{modalDialog:n.target,owner:this,originalPosition:i,position:r})},getCaptionButtonContainer:function(){return this.element.find("#"+this._id("caption_button_container"))},getFooter:function(){return this.element.find("#"+this._id("footer"))},getContent:function(){return this.element.find("#"+this._id("content"))},_renderModalDialog:function(){var t=this,v=this.css,i=this.element,r,u,c,l,a=this.options,h,f,e,o=!0,s=this.options.tabIndex;i.css("position","absolute").addClass(this.css.modalDialog).hide(),o=this._trigger(this.events.modalDialogContentsRendering,null,{modalDialog:i,owner:this}),o&&(r=n("<div><\/div>").addClass(this.css.modalDialogHeaderCaption).appendTo(i),n("<span><\/span>").text(this._getLocaleValue("modalDialogCaptionText")).addClass(this.css.modalDialogHeaderCaptionTitle).appendTo(r),n("<div><\/div>").attr("id",this._id("caption_button_container")).addClass(v.captionButtonContainer).appendTo(r),c=n("<div><\/div>").css("overflow","auto").addClass(this.css.modalDialogContent).attr("id",this._id("content")).appendTo(i),a.renderFooterButtons===!0&&(l=n("<div><\/div>").addClass(this.css.modalDialogFooter).attr("id",this._id("footer")).appendTo(i),h=n("<div><\/div>").addClass(this.css.buttonset).appendTo(l),f=n("<button type='button'><\/button>").attr("id",this._id("footer_buttonok")).appendTo(h),n.type(s)&&f.attr("tabIndex",s),f.igButton({labelText:this._getLocaleValue("buttonApplyText"),title:this._getLocaleValue("buttonApplyTitle"),disabled:a.buttonApplyDisabled}),e=n("<button type='button'><\/button>").attr("id",this._id("footer_buttoncancel")).appendTo(h),n.type(s)&&e.attr("tabIndex",s),e.igButton({labelText:this._getLocaleValue("buttonCancelText"),title:this._getLocaleValue("buttonCancelTitle")}),e.bind({click:function(n){o=t._trigger(t.events.buttonCancelClick,n,{modalDialog:i,owner:t}),o&&(t.closeModalDialog(!1,n),n.preventDefault(),n.stopPropagation())}}),f.bind({click:function(n){var r={modalDialog:i,owner:t,toClose:!1};t._trigger(t.events.buttonOKClick,n,r),r.toClose&&(t.closeModalDialog(!0,n),n.preventDefault(),n.stopPropagation())}})),u=this.containment,u==="window"&&(u="document"),i.bind({keydown:function(i){var r,u,f;if(i.keyCode===n.ui.keyCode.ESCAPE){t.closeModalDialog(!1,i);return}if(i.keyCode===n.ui.keyCode.ENTER&&t.options.closeModalDialogOnEnter&&!t.options.buttonApplyDisabled){t.closeModalDialog(!0,i);return}if(i.keyCode===n.ui.keyCode.TAB)return(r=n(":tabbable",this),u=r.first(),f=r.last(),i.target===f[0]&&!i.shiftKey)?(u.focus(),!1):i.target===u[0]&&i.shiftKey?(f.focus(),!1):void 0}}).draggable({containment:u,handle:r,drag:n.proxy(this._modalDialogMove,this)}).attr("role","dialog").attr("tabIndex",-1),n.ig.util.isTouch||(i.resizable({alsoResize:c}),this.containment!=="window"&&i.resizable("option","containment","parent")),this._trigger(this.events.modalDialogContentsRendered,null,{modalDialog:i,owner:this}))},_id:function(){for(var t=arguments,i=this.element[0].id,n=0;n<t.length;n++)i+="_"+t[n];return i},destroy:function(){return n("#"+this._id("_modaldialog_block")).remove(),this.gridContainer&&this.gridContainer.unbind("keydown.focusChecker"),this._superApply(arguments),this}}),n.extend(n.ui.igGridModalDialog,{version:"19.2.25"}),n.widget("ui.igEditorFilter",{setFocus:function(t,i){var r=this.options.provider;t&&n.type(t)==="number"&&t>0?setTimeout(function(){r.setFocus(i)},t):r.setFocus(i)},remove:function(){if(!this.options.provider.removeFromParent()){var t,n=this.element;t=n[0].parentNode,t&&t.tagName&&t.removeChild(n[0]),n=this.validator(),n&&n.hide()}},exitEditMode:function(){var t=this.options.provider.editor;t&&t._exitEditMode&&n.type(t._exitEditMode)==="function"&&t._exitEditMode()},validator:function(){return this.options.provider.validator()},hasInvalidMessage:function(){var n=this.validator();return n?n.getErrorMessages().length>0:!1},destroy:function(){this.options.provider.destroy(),this._superApply(arguments)},_setLanguage:function(n){var t=this.options.provider.editor;t.option("language",n)},_setRegional:function(n){var t=this.options.provider.editor;t.option("regional",n)}}),n.extend(n.ui.igEditorFilter,{version:"19.2.25"}),n.ig.EditorProvider=n.ig.EditorProvider||Class.extend({createEditor:function(t,i,r){this.handlers={},this.userHandlers={},this.options=r||{},this.callbacks=t,this.columnKey=i,this.handlers.keyDownHandler=n.proxy(this.keyDown,this),this.options.keydown&&(this.userHandlers.keyDown=this.options.keydown),this.options.keydown=this.handlers.keyDownHandler},keyDown:function(n,t){this.callbacks&&typeof this.callbacks.keyDown=="function"&&this.callbacks.keyDown(n,t,this.columnKey),this.userHandlers.keyDown&&this.userHandlers.keyDown.apply(this.editor,[n,t])},attachErrorEvents:function(n,t,i){this.editor.element.bind({"igvalidatorerrorhidden.updating":i,"igvalidatorerrorshowing.updating":n,"igvalidatorerrorshown.updating":t})},getEditor:function(){return this.editor},refreshValue:function(){return!0},getValue:function(){return this.editor.value()},setValue:function(n){this.editor.value(n)},setFocus:function(){return null},setSize:function(){return null},removeFromParent:function(){return!1},destroy:function(){this.editor.destroy()},validator:function(){return null},validate:function(){var n=this.validator();return n?n.isValid():!0},requestValidate:function(n){var t=this.validator(),i=!0;return t&&(t._forceValidation=!0,i=t._validate(null,n),t._forceValidation=!1),i},isValid:function(){return!0}}),n.ig.EditorProviderBase=n.ig.EditorProviderBase||n.ig.EditorProvider.extend({createEditor:function(t,i,r,u,f,e){this._super(t,i,r,u,f,e),this.handlers.textChangeHandler=n.proxy(this.textChanged,this),this.options.textChanged&&(this.userHandlers.textChanged=this.options.textChanged),this.options.textChanged=this.handlers.textChangeHandler,this.options.tabIndex=u},textChanged:function(n,t){this.callbacks&&typeof this.callbacks.textChanged=="function"&&this.callbacks.textChanged(n,t,this.columnKey),this.userHandlers.textChanged&&this.userHandlers.textChanged.apply(this.editor,[n,t])},setSize:function(n,t){n!==undefined&&this.editor._setOption("width",n),t!==undefined&&this.editor._setOption("height",t)},setFocus:function(){this.editor._focused=!1,this.editor.setFocus()},removeFromParent:function(){var n=this.validator();return n&&n.hide(),this.editor._focused=!1,this.editor._exitEditMode(),this.editor._clearEditorNotifier(),this.editor.editorContainer().removeClass("ui-state-focus"),this.editor.editorContainer().detach()},destroy:function(){this.editor.element.unbind(".updating"),this.editor.destroy()},refreshValue:function(){this.editor._editorInput.is(":focus")&&this.editor._processValueChanging(this.editor._editorInput.val())},validator:function(){return n.type(this.editor.validator)==="function"?this.editor.validator():null},isValid:function(){return this.editor.isValid()}}),n.ig.EditorProviderText=n.ig.EditorProviderText||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e){if(e=e||n("<span />"),!e.igTextEditor)throw new Error(n.ig.GridUpdating.locale.igTextEditorException);return this._super(t,i,r,u,f,e),e.igTextEditor(this.options),this.editor=e.data("igTextEditor"),this.editor.editorContainer()},keyDown:function(t,i){i.key===n.ui.keyCode.ENTER&&this.editor.dropDownContainer()&&this.editor.dropDownVisible()||(this.callbacks&&typeof this.callbacks.keyDown=="function"&&(i.key===n.ui.keyCode.ENTER&&t.originalEvent.altKey&&i.editorInput.is("textarea")?(t.originalEvent.stopPropagation(),t.originalEvent.preventDefault()):this.callbacks.keyDown(t,i,this.columnKey)),this.userHandlers.keyDown&&this.userHandlers.keyDown.apply(this.editor,[t,i]))}}),n.ig.EditorProviderNumeric=n.ig.EditorProviderNumeric||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e){if(e=e||n("<span />"),!e.igNumericEditor)throw new Error(n.ig.GridUpdating.locale.igNumericEditorException);return this._super(t,i,r,u,f,e),f==="int"?this.options.maxDecimals=0:f!=="double"||this.options.maxDecimals||(this.options.maxDecimals=100),this.options.allowNullValue=!0,e.igNumericEditor(this.options),this.editor=e.data("igNumericEditor"),this.editor.editorContainer()},getValue:function(){var n=this.editor.value();return isNaN(n)?null:n}}),n.ig.EditorProviderCurrency=n.ig.EditorProviderCurrency||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e){if(e=e||n("<span />"),!e.igCurrencyEditor)throw new Error(n.ig.GridUpdating.locale.igCurrencyEditorException);return this._super(t,i,r,u,f,e),this.options.displayFactor=this.options.displayFactor||1,this.options.allowNullValue=!0,e.igCurrencyEditor(this.options),this.editor=e.data("igCurrencyEditor"),this.editor.editorContainer()}}),n.ig.EditorProviderPercent=n.ig.EditorProviderPercent||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e){if(e=e||n("<span />"),!e.igPercentEditor)throw new Error(n.ig.GridUpdating.locale.igPercentEditorException);return this._super(t,i,r,u,f,e),this.options.allowNullValue=!0,e.igPercentEditor(this.options),this.editor=e.data("igPercentEditor"),this.editor.editorContainer()}}),n.ig.EditorProviderMask=n.ig.EditorProviderMask||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e){if(e=e||n("<span />"),!e.igMaskEditor)throw new Error(n.ig.GridUpdating.locale.igMaskEditorException);return this._super(t,i,r,u,f,e),e.igMaskEditor(this.options),this.editor=e.data("igMaskEditor"),this.editor.editorContainer()}}),n.ig.EditorProviderDate=n.ig.EditorProviderDate||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e,o){if(e=e||n("<span />"),!e.igDateEditor)throw new Error(n.ig.GridUpdating.locale.igDateEditorException);return this._super(t,i,r,u,f,e),f&&!this.options.dateInputFormat&&(this.options.dateInputFormat=f),this.options.allowNullValue=!0,this.options.displayTimeOffset=o,e.igDateEditor(this.options),this.editor=e.data("igDateEditor"),this.editor.editorContainer()},setValue:function(n,t,i){i!==undefined&&this.editor._setOption("displayTimeOffset",i),this._super(n)}}),n.ig.EditorProviderDatePicker=n.ig.EditorProviderDatePicker||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e,o){if(e=e||n("<span />"),!e.igDatePicker)throw new Error(n.ig.GridUpdating.locale.igDatePickerException);return this._super(t,i,r,u,f,e),f&&!this.options.dateInputFormat&&(this.options.dateInputFormat=f),this.options.allowNullValue=!0,this.options.displayTimeOffset=o,e.igDatePicker(this.options),this.editor=e.data("igDatePicker"),this.editor.editorContainer()},removeFromParent:function(){this.editor.dropDownVisible()&&n("#ui-datepicker-div").hide(),this._super()},setValue:function(n,t,i){i!==undefined&&this.editor._setOption("displayTimeOffset",i),this._super(n)}}),n.ig.EditorProviderTimePicker=n.ig.EditorProviderTimePicker||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e,o){if(e=e||n("<span />"),!e.igTimePicker)throw new Error(n.ig.GridUpdating.locale.igTimePickerException);return this._super(t,i,r,u,f,e),this.options.timeInputFormat||(this.options.timeInputFormat=f?f:"time"),this.options.allowNullValue=!0,this.options.displayTimeOffset=o,this.options.buttonType=r.buttonType||"spin",this.options.spinDelta=r.spinDelta||{hours:1,minutes:1},e.igTimePicker(this.options),this.editor=e.data("igTimePicker"),this.editor.editorContainer()},setValue:function(n,t,i){i!==undefined&&this.editor._setOption("displayTimeOffset",i),this._super(n)}}),n.ig.EditorProviderBoolean=n.ig.EditorProviderBoolean||n.ig.EditorProviderBase.extend({createEditor:function(t,i,r,u,f,e){var o;this.renderFormat||(this.renderFormat="checkbox"),this._super(t,i,r,u,f,e),this.handlers.valueChanged=n.proxy(this.valueChanged,this),this.options.valueChanged&&(this.userHandlers.valueChanged=this.options.valueChanged),this.options.valueChanged=this.handlers.valueChanged;switch(this.renderFormat){case"checkbox":if(o=!e,e=e||n("<input />"),!e.igCheckboxEditor)throw new Error(n.ig.GridUpdating.locale.igCheckboxEditorException);return(e.igCheckboxEditor(this.options),this.editor=e.data("igCheckboxEditor"),o)?(this.outerContainer=n("<div />").css({background:"rgb(255, 255, 255)",outline:"0px","text-align":"center",overflow:"hidden"}).addClass("ui-igedit ui-igedit-container ui-state-default ui-iggrid-editor"),this.outerContainer.append(this.editor.editorContainer()),this.outerContainer):this.editor.editorContainer();case"dropdown":if(this.options.listItems=["true","false"],this.options.dropDownAttachToBody=!0,this.options.button="dropdown",this.options.isLimitedToListValues=this.options.isLimitedToListValues!==undefined&&this.options.isLimitedToListValues!==null?this.options.isLimitedToListValues:!0,this.options.dropDownAttachedToBody=!0,e=e||n("<span />"),!e.igTextEditor)throw new Error(n.ig.GridUpdating.locale.igTextEditorException);return e.igTextEditor(this.options),this.editor=e.data("igTextEditor"),this.editor.editorContainer()}},keyDown:function(t,i){i.key===n.ui.keyCode.ENTER&&this.renderFormat==="dropdown"&&this.editor.dropDownContainer()&&this.editor.dropDownVisible()||(this.callbacks&&typeof this.callbacks.keyDown=="function"&&this.callbacks.keyDown(t,i,this.columnKey),this.userHandlers.keyDown&&this.userHandlers.keyDown.apply(this.editor,[t,i]))},valueChanged:function(n,t){this.callbacks&&typeof this.callbacks.textChanged=="function"&&this.callbacks.textChanged(n,t,this.columnKey),this.userHandlers.valueChanged&&this.userHandlers.valueChanged.apply(this.editor,[n,t])},refreshValue:function(){return!1},getValue:function(){var n=this.editor.value();return this.renderFormat==="checkbox"?n:this.options.allowNullValue&&!this.options.isLimitedToListValues&&n===null?null:n&&n.toLowerCase()==="true"},setValue:function(n){this.renderFormat==="checkbox"?this.editor.value(n!==null?n:!1):this.options.allowNullValue&&!this.options.isLimitedToListValues?this.editor.value(n!==null?String(n):null):this.editor.value(n!==null?String(n):"false")},setSize:function(n,t){var i,r,u;this.renderFormat==="checkbox"&&this.outerContainer&&(i=this.outerContainer,r=i.children().first(),i.css("width",n),i.css("height",t),r.css({"margin-top":i.height()/2-r.height()/2}),u=i.siblings().first().children().first(),n=u.width(),t=u.height()),this._super(n,t)},removeFromParent:function(){return this.renderFormat==="checkbox"&&this.outerContainer?this.outerContainer.detach():this._super()},destroy:function(){this.editor.element.unbind(".updating"),this.editor.destroy(),this.outerContainer&&this.outerContainer instanceof n&&this.outerContainer.remove()}}),n.ig.EditorProviderCombo=n.ig.EditorProviderCombo||n.ig.EditorProvider.extend({createEditor:function(t,i,r,u,f,e){if(e=e||n("<span />"),!e.igCombo)throw new Error(n.ig.GridUpdating.locale.igComboException);return this._super(t,i,r,u,f,e),this.handlers.selectionChangedHandler=n.proxy(this.selectionChanged,this),this.options.selectionChanged&&(this.userHandlers.selectionChanged=this.options.selectionChanged),this.options.selectionChanged=this.handlers.selectionChangedHandler,this.options.tabIndex=u,this.options.id&&e.attr("id",this.options.id),e.igCombo(this.options),this.editor=e.data("igCombo"),this.editor.textInput().bind("keydown.updating",this.handlers.keyDownHandler),this.editor._options.internalSelChangeSubs&&n.type(this.editor._options.internalSelChangeSubs)==="array"&&(this.handlers.internalSelectionChangedHandler=n.proxy(this.internalSelectionChanged,this),this.editor._options.internalSelChangeSubs.push(this.handlers.internalSelectionChangedHandler)),e},keyDown:function(t,i){t.keyCode===n.ui.keyCode.TAB&&this.editor.closeDropDown(),this.callbacks&&typeof this.callbacks.keyDown=="function"&&(t.keyCode===n.ui.keyCode.ENTER&&this.editor.dropDownOpened()||this.callbacks.keyDown(t,i||{owner:this.editor},this.columnKey)),this.editor.options.allowCustomValue&&this.internalSelectionChanged(t,i),this.userHandlers.keyDown&&this.userHandlers.keyDown.apply(this.editor,[t,i])},internalSelectionChanged:function(n,t){this.callbacks&&typeof this.callbacks.textChanged=="function"&&this.callbacks.textChanged(n,t,this.columnKey)},selectionChanged:function(n,t){this.internalSelectionChanged(n,t),this.userHandlers.selectionChanged&&this.userHandlers.selectionChanged.apply(this.editor,[n,t])},refreshValue:function(){this.editor.refreshValue()},getValue:function(){var t=this.editor.value();return n.type(t)==="array"?t.length?t[0]:null:t},setValue:function(n,t){this.editor.value(n,null,t)},setSize:function(n,t){this.editor.element.igCombo({width:n,height:t})},setFocus:function(){this.editor.textInput().focus()},removeFromParent:function(){return this.editor.closeDropDown(),this.validator()&&this.validator().hide(),this.editor.element.closest(".ui-igcombo-wrapper").detach()},validator:function(){return this.editor.validator()},destroy:function(){this.editor.textInput().unbind("keydown.updating"),this.editor.element.unbind(".updating"),this.editor.destroy()},isValid:function(){return!0}}),n.ig.EditorProviderObjectCombo=n.ig.EditorProviderObjectCombo||n.ig.EditorProviderCombo.extend({getValue:function(){var t=null,i=[];return this.editor.selectedItems()!==null&&(this.editor.options.multiSelection&&this.editor.options.multiSelection.enabled?(n(this.editor.selectedItems()).each(function(){i.push(this.data)}),t=i):t=this.editor.selectedItems()[0].data),t},setValue:function(t,i){var u=[],r=this.editor;r.deselectAll(),t&&(r.options.multiSelection&&r.options.multiSelection.enabled?(n(t).each(function(){u.push(this[r.options.valueKey])}),r.value(u,null,i)):r.value(t[this.editor.options.valueKey],null,i))}}),n.ig.EditorProviderRating=n.ig.EditorProviderRating||n.ig.EditorProvider.extend({createEditor:function(t,i,r,u,f,e){if(e=e||n("<div />"),!e.igRating)throw new Error(n.ig.GridUpdating.locale.igRatingException);return this._super(t,i,r,u,f,e),this.handlers.valueChange=n.proxy(this.valueChange,this),this.options.valueChange&&(this.userHandlers.valueChange=this.options.valueChange),this.options.valueChange=this.handlers.valueChange,this.options.id&&e.attr("id",this.options.id),e.igRating(this.options),this.editor=e.data("igRating"),this.handlers.internalValueChange=n.proxy(this.internalValueChange,this),this.editor._internalChanged=this.handlers.internalValueChange,this.editor._foc&&(this.editor._foc.attr("tabIndex",u),this.editor._foc.keydown(this.handlers.keyDown)),e},internalValueChange:function(n,t){this.callbacks&&typeof this.callbacks.textChanged=="function"&&this.callbacks.textChanged(n,t,this.columnKey)},valueChange:function(n,t){this.internalValueChange(n,t),this.userHandlers.valueChange&&this.userHandlers.valueChange.apply(this.editor,[n,t])},setValue:function(n){return this.editor.value(n||0)},setSize:function(n,t){this._once||this.editor._doVotes(this.editor.options),this._once=1;var i=this.editor.element.parent().css("backgroundColor");this.editor.element.css({width:n,height:t,backgroundColor:i})},setFocus:function(){this.editor.focus()},validator:function(){return this.editor.validator()},destroy:function(){this.editor.element.unbind(".updating"),this.editor.destroy()},isValid:function(){return!0}}),n.ig.SortingExpressionsManager=n.ig.SortingExpressionsManager||Class.extend({init:function(n){n&&(this.grid=n.grid)},setGridInstance:function(n){this.grid=n},addSortingExpression:function(t,i,r){for(var o=t.length,e,f,s=!!i.isGroupBy,h=i.layout,c=i.fieldName,u=0;u<o;u++)if(t[u].fieldName===c&&(!h&&!t[u].layout||h&&h===t[u].layout)){if(!!t[u].isGroupBy===s)return t[u]=i,t;if(!s)return t;t.splice(u,1);break}if(r&&r._getColumnSettingByKey&&(f=r._getColumnSettingByKey(c),f&&f.compareFunc&&(n.type(f.compareFunc)==="function"?i.compareFunc=f.compareFunc:typeof f.compareFunc=="string"&&typeof window[f.compareFunc]=="function"&&(i.compareFunc=window[f.compareFunc]))),s){for(o=t.length,e=-1,i.isGroupBy=!0,u=0;u<o;u++)if(t[u].isGroupBy===!0)e=u;else break;return e===-1?t.unshift(i):t.splice(e+1,0,i),t}return(i.isSorting=!0,r.options.mode==="single"&&t.length&&!t[t.length-1].isGroupBy)?(t[t.length-1]=i,t):(t.push(i),t)},setFormattersForSortingExprs:function(t,i){t=t||[],i=i||this.grid;for(var s=t.length,u,e,r,o=n.proxy(function(t,i){var u=this.columnByKey(i),r=this.options,f=!r.rowTemplate||r.rowTemplate.length<=0;return new Date("January 01, 2000 "+n.ig.formatter(t,"date",u.format,f,r.enableUTCDates))},i),f=0;f<s;f++)(u=t[f],u.formatter)||(e=i.columnByKey(u.fieldName),e)&&(r=e.format,r&&(r==="time"||r==="timeLong"||r==="h:mm:ss tt")&&(u.formatter=o));return t}}),n.ig.GetEditorProvider=function(t,i,r){var u,f=i.dataType,e=i.format,s,o;if(r!=="checkbox"&&(r||f!=="bool"&&f!=="boolean"))if(r==="combo"&&f==="object")u=new n.ig.EditorProviderObjectCombo;else if(r==="combo"&&f!=="object")u=new n.ig.EditorProviderCombo;else if(r==="rating")u=new n.ig.EditorProviderRating;else if(r==="mask")u=new n.ig.EditorProviderMask;else if((r||e)==="currency")u=new n.ig.EditorProviderCurrency;else if((r||e)==="percent")u=new n.ig.EditorProviderPercent;else if(r==="numeric"||f==="number")u=new n.ig.EditorProviderNumeric;else if(r==="text"||f==="string")u=new n.ig.EditorProviderText;else if(r==="datepicker")u=new n.ig.EditorProviderDatePicker;else if((r||f)==="date")u=new n.ig.EditorProviderDate;else if(r==="timepicker"||f==="time")u=new n.ig.EditorProviderTimePicker;else{if(o=t.dataSource,o&&o.data()&&o.data().length){s=o.getCellValue(i.key,o.data()[0]);switch(n.type(s)){case"number":return new n.ig.EditorProviderNumeric;case"string":return new n.ig.EditorProviderText;case"date":return new n.ig.EditorProviderDate;case"boolean":return u=new n.ig.EditorProviderBoolean,u.renderFormat=e==="checkbox"||!e&&t.options.renderCheckboxes?"checkbox":"dropdown",u}}throw new Error(t._getLocaleValue("editorTypeCannotBeDetermined")+i.key);}else u=new n.ig.EditorProviderBoolean,u.renderFormat=e==="checkbox"||!e&&t.options.renderCheckboxes||r==="checkbox"?"checkbox":"dropdown";return u}}(n),function(n){var t=function(n){return n===null||n===undefined};n.widget("ui.igGridColumnFixing",n.ui.igWidget,{renderInFeatureChooser:!0,localeWidgetName:"ColumnFixing",events:{columnFixing:"columnFixing",columnFixed:"columnFixed",columnUnfixing:"columnUnfixing",columnUnfixed:"columnUnfixed",columnFixingRefused:"columnFixingRefused",columnUnfixingRefused:"columnUnfixingRefused"},css:{fixedContainer:"ui-iggrid-fixedcontainer",headerButtonIconContainer:"ui-iggrid-fixcolumn-headerbuttoncontainer",leftFixedContainer:"ui-iggrid-fixedcontainer-left",rightFixedContainer:"ui-iggrid-fixedcontainer-right",headerButtonIcon:"ui-icon ui-corner-all ui-icon-pin-w",headerButtonIconHover:"",headerButtonUnfixIcon:"ui-icon ui-corner-all ui-icon-pin-s",featureChooserIconClassFixed:"ui-icon ui-iggrid-icon-unfix",featureChooserIconClassUnfixed:"ui-icon ui-iggrid-icon-fix",unfixedTableLeft:"ui-iggrid-unfixed-table-left",unfixedTableRight:"ui-iggrid-unfixed-table-right"},options:{headerFixButtonText:undefined,headerUnfixButtonText:undefined,featureChooserTextFixedColumn:undefined,featureChooserTextUnfixedColumn:undefined,locale:{headerFixButtonText:undefined,headerUnfixButtonText:undefined,featureChooserTextFixedColumn:undefined,featureChooserTextUnfixedColumn:undefined},showFixButtons:!0,syncRowHeights:!0,scrollDelta:40,fixingDirection:"left",columnSettings:[{columnKey:null,columnIndex:null,allowFixing:!0,isFixed:!1}],minimalVisibleAreaWidth:30,fixNondataColumns:!0,populateDataRowsAttributes:!0},scrollContainerCheckValue:2,_createWidget:function(){this._fcData={},this._tds={},this._containers={},this._colgroups={},this._isInitFC=!1,this._isFunctionsOverriden=!1,n.Widget.prototype._createWidget.apply(this,arguments)},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},_unfixColumnInternal:function(n,t,i){var e,r={error:!0},u=this.grid,f=this.isGroupHeader(n);return e=this._trigger(this.events.columnUnfixing,null,{columnIdentifier:n,isGroupHeader:f,owner:u}),e&&(r=this.unfixColumn(n,t,i),r.result===!1?this._trigger(this.events.columnUnfixingRefused,null,{columnIdentifier:n,isGroupHeader:f,errorMessage:r.error,owner:u}):this._trigger(this.events.columnUnfixed,null,{columnIdentifier:n,isGroupHeader:f,owner:u})),r},unfixColumn:function(t,i,r){n.type(arguments[1])==="boolean"&&(i=arguments[2],r=arguments[3]);var e,u,a,h,o,c,f=this.grid,v,l,s=this._containers.body.unfixedContainer;if(h=this.isGroupHeader(t),u={error:this._getLocaleValue("noneError"),result:!0,col:null,isGroupHeader:h},h){if(o=t,u.id=o,c=f._getMultiHeaderColumnById(t),!c)return u.result=!1,u.error=this._getLocaleValue("notValidIdentifierError"),u;u.col=c,a=c.children}else{if(e=this._getColById(t),u.col=e,!e)return u.result=!1,u.error=this._getLocaleValue("notValidIdentifierError"),u;u.col=e,o=e.key,a=[e],u.id=o}return(u.children=a,u=this._couldPerformUnfixing(u,i),!u.result)?u:(i||(v=f._isMultiColumnGrid?f._oldCols:f.options.columns,n.each(v,function(n,t){if(t.fixed!==!0&&!!!t.hidden)return i=t.key||t.identifier,!1}),r=!1),this._performDomColumnMove(u,i,r,!1),l=this._rearrangeColumns(o,i,r,!1),f._hasFixedColumns=!!f._fixedColumns.length||f.hasFixedDataSkippedColumns(),this._refreshDOMOnUnfixing(u),f._onFixedColumnsChanged({isToFix:!1,id:t,colWidth:u.colWidth,children:u.children,isGroupHeader:h,start:l.from.dIndex,length:l.from.children.length,at:l.at.dIndex}),f._fixedColumns.length===0&&this._getDataSkippedColumnsLength(!0)&&!this.options.fixNondataColumns&&this.unfixNonDataColumns(),s.data("igScroll")!==undefined&&(s.igScroll("refresh"),(this.grid.options.virtualization===!0||this.grid.options.rowVirtualization===!0)&&s.igScroll("option","scrollWidth",this.grid._calculateContainerWidth()),s.igScroll("option","scrollTop",0),s.igScroll("option","scrollLeft",0)),n(".igscroll-hnative-outer",this.grid.container()).length?this.grid.fixedBodyContainer().length?this.grid.fixingDirection()==="left"?n(".igscroll-hnative-outer",this.grid.container()).css("left",this.grid.fixedBodyContainer().width()):this.grid.fixingDirection()==="right"&&n(".igscroll-hnative-outer",this.grid.container()).css("right",this.grid.fixedBodyContainer().width()):this.grid.fixingDirection()==="left"?n(".igscroll-hnative-outer",this.grid.container()).css("left",""):this.grid.fixingDirection()==="right"&&n(".igscroll-hnative-outer",this.grid.container()).css("right",""):n(".igscroll-hcontainer",this.grid.container()).length&&!this.grid._vdisplaycontainer().length&&(this.grid.fixedBodyContainer().length?this.grid.fixingDirection("left")?n(".igscroll-hcontainer",this.grid.container()).css("left",this.grid.fixedBodyContainer().width()):this.grid.fixingDirection("right")&&n(".igscroll-hcontainer",this.grid.container()).css("right",this.grid.fixedBodyContainer().width()):this.grid.fixingDirection("left")?n(".igscroll-hcontainer",this.grid.container()).css("left",""):this.grid.fixingDirection("right")&&n(".igscroll-hcontainer",this.grid.container()).css("right","")),u)},checkAndSyncHeights:function(){this.syncHeights(!0)},syncHeights:function(n,t){if(this.grid.hasFixedColumns()){this._containers&&this._containers.body||this._populateContainers();var i=this._containers,r=i.header||i.body,u=i.footer||i.body;this._checkAndSyncHeightsForTables(r.fixedTable,r.unfixedTable,"thead",n,t),this._checkAndSyncHeightsForTables(i.body.fixedTable,i.body.unfixedTable,"tbody",n,t),this._checkAndSyncHeightsForTables(u.fixedTable,u.unfixedTable,"tfoot",n,t)}},_checkAndSyncHeightsForTables:function(n,t,i,r,u){i=i||"tbody";var f,o,s,e,h=n.children(i).children("tr"),c=t.children(i).children("tr"),l=h.last(),a=c.last();e=t[0].style.height,n.height(""),t.height(""),u&&(this._removeRowsHeights(h,!0),this._removeRowsHeights(c,!0)),!r||l.length>0&&(Math.abs(n.outerHeight()-t.outerHeight())>1||Math.abs(l.igOffset().top-a.igOffset().top)>1)?(this.syncRowsHeights(h,c),o=n.height(),s=t.height(),f=s,o>s&&(f=o),n.height(f),t.height(f)):e&&(t[0].style.height=e,n[0].style.height=e)},_syncTableHeights:function(){n("#"+this.grid.id()+"_fixed").height(this.grid.element.height())},_getKeyByVisibleIndex:function(n,t){var i;return t=!!t,n-=this._getDataSkippedColumnsLength(t),i=this.grid._visibleColumns(t)[n],i?i.key:undefined},changeLocale:function(){var t=this.grid.element.data("igGridFeatureChooser"),i=this.grid.container(),r=this;t&&this.renderInFeatureChooser&&t._removeFeature("ColumnFixing"),this._initFC(),i.find("th").find("[data-fixed]").each(function(){r._changeLocaleForElement(n(this))})},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(n,t){t!==this.options[n]&&(this._superApply(arguments),n==="minimalVisibleAreaWidth"&&this.grid._visibleAreaWidth(t))},_gridSetOption:function(n,t){var u=t,i=this.grid,r;if(i.hasFixedColumns()&&n==="width"&&(typeof t=="string"&&t.indexOf("%")>0?(i.container().css("width",t),u=i.container().outerWidth()):u=parseInt(t,10),r=i.fixedContainer().outerWidth(),r===null&&(r=i.fixedBodyContainer().outerWidth()),u-r<parseInt(this.options.minimalVisibleAreaWidth,10)))throw new Error(this._getLocaleValue("setOptionGridWidthException"));},_gridWidthChanged:function(){var n=this.grid;n.hasFixedColumns()&&this._isVirtualGrid()&&(this._recalcTableWidths(),this.options.fixingDirection==="right"&&this._adjustVirtWidthOnFixingRight(!1))},isGroupHeader:function(n){return this.grid._isMultiColumnGrid&&!this.grid.columnByKey(n)?!0:!1},_fixColumnInternal:function(n,t,i){var e,r={error:!0},u=this.grid,f=this.isGroupHeader(n);return e=this._trigger(this.events.columnFixing,null,{columnIdentifier:n,isGroupHeader:f,owner:u}),e&&(r=this.fixColumn(n,t,i),r.error===this._getLocaleValue("fixingRefusedError")||r.result===!1?this._trigger(this.events.columnFixingRefused,null,{columnIdentifier:n,isGroupHeader:f,errorMessage:r.error,owner:u}):this._trigger(this.events.columnFixed,null,{columnIdentifier:n,isGroupHeader:f,owner:u})),r},_isVirtualGrid:function(){var n=this.grid.options;return n.virtualization===!0||n.rowVirtualization===!0},_isContinuousVirtualization:function(){return this._isVirtualGrid()&&this.grid.options.virtualizationMode==="continuous"},_getColById:function(t){return n.type(t)==="string"?this.grid.columnByKey(t):this.grid.options.columns[t]},_updateWidths:function(n){var i,t,r=this.grid,o=this._isVirtualGrid(),f=this._mainFixedCntnr,e,u=0;if(r.options.fixedHeaders&&r.options.showHeader&&(i=this._containers.header.fixedTable,t=this._containers.header.unfixedTable,this._updateTblWidths(i,t,n),this._isVirtualGrid()&&(t.find(">colgroup>col").each(function(n,t){u+=parseInt(t.style.width,10)||0}),u-=n,t[0].style.width=u+this.grid._scrollbarWidth()+"px")),i=this._containers.body.fixedTable,t=r.element,this._isVirtualGrid()&&r._gridHasWidthInPercent()&&(t.width(this.grid.options.width),this._containers.header.unfixedTable.width(this.grid.options.width),this._containers.header.unfixedTable.css("max-width",u+this.grid._scrollbarWidth()),t.css("max-width",u)),this._updateTblWidths(i,t,n),r.options.fixedFooters&&this._containers.footer&&(i=this._containers.footer.fixedTable,t=this._containers.footer.unfixedTable,this._updateTblWidths(i,t,n)),o){this._updateVirtualDOMWidth(n);return}e=parseFloat(f[0].style.width||0),f[0].style.width=e+n+"px"},_calcTblWidth:function(t,i){var r=t[0].style.width,u;return n.type(r)==="string"&&r.indexOf("%")>-1?r:(u=parseInt(r,10)||0,u===0&&t.find(">colgroup>col").each(function(n,t){u+=parseInt(t.style.width,10)||0}),u+i+"px")},_updateTblWidths:function(n,t,i){var r,u,f=n[0],e=t[0];u=this._calcTblWidth(t,-i),r=this._calcTblWidth(n,i),f.style.width=r,e.style.width=u,this._isVirtualGrid()&&(n.closest("div")[0].style.width=r)},_updateVirtualDOMWidth:function(t){var i=this.grid,f,r,u,s=i._gridHasWidthInPercent(),e=i._vdisplaycontainer(),h=i._virtualcontainer(),o=h.children("colgroup");r=o.children("col[data-fixed-col]"),f=parseInt(r.attr("width"),10)||0,r.attr("width",f+t+"px"),s||(r=o.children("col:not([data-fixed-col])").first(),f=parseInt(r.attr("width"),10)||0,r.attr("width",f-t+"px"),i.options.showHeader&&(u=n("#"+i.id()+"_headers_v"),u.width(u.width()-t)),i.options.showFooter&&(u=i._fixedfooters(),u.width(u.width()-t)),e.width(e.width()-t))},_recalcTableWidths:function(){var n=this._containers;n.header&&n.header.unfixedTable.width(""),n.footer&&n.footer.unfixedTable.width(""),this.grid.element.width(""),this._updateWidths(0)},_swapElements:function(n){var t=n.from;return n.from=n.to,n.to=t,n},_analyzeFixingObjects:function(i,r){var s=this.grid,u,f,h={start:-1,length:i.children.length},e={start:-1,length:1},c,o;if(c=this.grid.getVisibleIndexByKey(i.children[0].key,!0),n.type(r)==="string"&&(u=s._analyzeColumnByKey(r)),t(r))o=-1;else for(e.length=u.children.length,f=0;f<u.children.length;++f)if(!u.children[f].hidden){o=s.getVisibleIndexByKey(u.children[f].key,!0);break}return h.start=c,e.start=o,{movedCol:h,targetCol:e}},_performDomColumnMove:function(t,i,r,u){var e=this.grid,s,o,h,c=this._analyzeFixingObjects(t,i),f=c.movedCol,l=c.targetCol;f.width=t.colWidth,f.id=t.id,e._isMultiColumnGrid&&(s=n.extend(!0,[],e._oldCols),o=e._analyzeColumnMovingObjects(t.id,i,r,u),e._rearrangeArray(s,o.from.dMCHIndex,1,o.at.dMCHIndex),f.oCols=s,f.length>1&&(h=0,f.length=n.grep(o.from.children,function(n){var t=!n.hidden;return h+=t?parseFloat(n.width):0,t}).length,f.width=h)),this._performDomColumnMoveByIndexes(f,l,r,u)},_performDomColumnMoveByIndexes:function(n,t,i,r){var f=this.grid,u={},e,o,s=r?n.width:-n.width;this._updateWidths(s),e=f.fixedHeadersTable(),o=f.headersTable(),u.from=e,u.to=o,r&&(u=this._swapElements(u)),f.options.fixedHeaders===!0&&f._moveCols({from:u.from.children("colgroup"),to:u.to.children("colgroup"),ignoreDataSkip:!0},n,t,i),f._isMultiColumnGrid&&(n.nonData?f._moveColumnInBodyFooter({trsFrom:u.from.find("thead").children("tr[data-mch-level="+f._maxLevel+"]"),trsTo:u.to.find("thead").children("tr[data-mch-level="+f._maxLevel+"]"),ignoreDataSkip:!0},n,t,i):this._fixUnfixMCHColumn(n.id,{fixedThead:e.children("thead"),unfixedThead:o.children("thead"),isToFix:r,after:i},n.oCols)),f._moveColumnInBodyFooter({trsFrom:u.from.find("thead").children("tr:not([data-mch-level])"),trsTo:u.to.find("thead").children("tr:not([data-mch-level])"),ignoreDataSkip:!0},n,t,i),u.from=f.fixedBodyContainer().children("table"),u.to=f.element,r&&(u=this._swapElements(u)),f._moveColumnInBodyFooter({trsFrom:u.from.children("tbody").children("tr"),trsTo:u.to.children("tbody").children("tr"),ignoreDataSkip:!0},n,t,i),f._moveCols({from:u.from.children("colgroup"),to:u.to.children("colgroup"),ignoreDataSkip:!0},n,t,i),u.from=f.fixedFootersTable(),u.to=f.footersTable(),r&&(u=this._swapElements(u)),f.options.fixedFooters===!0&&f._moveCols({from:u.from.children("colgroup"),to:u.to.children("colgroup"),ignoreDataSkip:!0},n,t,i),f._moveColumnInBodyFooter({trsFrom:u.from.children("tfoot").children("tr"),trsTo:u.to.children("tfoot").children("tr"),ignoreDataSkip:!0},n,t,i),this._updateHScrollbarWidth(s)},_getColumnWidth:function(n,t){var u,i=this.grid,f,r,e=function(){return t=t||this._getTH(n.key),t.length===1&&t.is(":visible")?t.outerWidth():n.width||0};return i._isMultiColumnGrid?e():(f=n.fixed?i.fixedBodyContainer().children("table"):this.element,r=f.find(">colgroup>col").eq(i.getVisibleIndexByKey(n.key,!0)),u=r.length?parseInt(r.width(),10):0,u||parseInt(n.width,10)||e())},_updateGridWidth:function(){var n=this.grid;n._gridContentWidth=n.element.width(),this._isVirtualGrid()?n._gridInnerWidth=n._vdisplaycontainer().width()+n._scrollbarWidth():(n._gridInnerWidth=n.scrollContainer().width(),n.options.height&&(n._gridInnerWidth+=n._scrollbarWidth()))},_refreshDOMOnUnfixing:function(t){var i=this.grid,r=this.options.fixingDirection==="right";this._populateContainers(),n.ig.util.isIE10&&i._hscrollbar().width(""),this._updateGridWidth(),i._columnMovingResets(),i._hscrollbarcontent().scrollLeft(0),t.nonData||this._changeStyleHeaderButton(t.id,!1,t.isGroupHeader),this._isVirtualGrid()?(i._scrollContainer().scrollTop(0),this._updateHScrollbarWidth(),i._resetVirtualDom(),this._isContinuousVirtualization()&&i._setScrollContainerScrollTop(0),r&&this._adjustVirtWidthOnFixingRight(!1)):this._containers.body.unfixedContainer.scrollTop(0),i._fixedColumns.length===0&&(!this._getDataSkippedColumnsLength(!0)||r)?(this._removeFixedContainer(),r&&!i.options.fixedHeaders&&i._hscrollbarcontent().css("overflow-y","scroll")):this.options.syncRowHeights&&this.checkAndSyncHeights(),r&&this._removeCellPaddingForAllColumns(!1),i._gridHasWidthInPercent()&&this._setMinWidthForGridContainer(),i._updateVerticalScrollbarCellPadding()},_refreshDOMOnFixing:function(n,i){var r=this.grid,u=this.options.fixingDirection,f=this._isVirtualGrid();this._updateGridWidth(),i&&this._containers&&this._containers.body&&(u==="left"?this._containers.body.unfixedTable.addClass(this.css.unfixedTableLeft):(this._containers.body.unfixedTable.addClass(this.css.unfixedTableRight),this._adjustWidthOnFixingRight())),r._columnMovingResets(),t(n)||this._changeStyleHeaderButton(n,!0),this._containers.body.unfixedContainer.scrollTop(0),f&&(r._scrollContainer().scrollTop(0),this._updateHScrollbarWidth(),r._resetVirtualDom(),i&&this._attachVirtualizationEvents(),this._isContinuousVirtualization()&&this._containers.body.fixedContainer.scrollTop(this._containers.body.unfixedContainer.scrollTop()),r._outerHScrollbar||r._hscrollbarcontent().css("overflow-y","hidden"),u==="right"&&this._adjustVirtWidthOnFixingRight(!0)),r._gridHasWidthInPercent()&&(this._setMinWidthForGridContainer(),i&&f&&r._updateHScrollbarVisibility()),this._checkAndRenderHScrlbarCntnr(),r._hscrollbarcontent().scrollLeft(0),r._initialized&&r._updateVerticalScrollbarCellPadding(),this.options.syncRowHeights&&this.checkAndSyncHeights()},_setMinWidthForGridContainer:function(n){var t=this._mainFixedCntnr||this._containers.body.fixedContainer,i=this.grid.container();this.grid.hasFixedColumns()&&t.length?(n=n||parseFloat(t[0].style.width)||t.outerWidth(),n+=parseFloat(this.options.minimalVisibleAreaWidth),i.css("min-width",n+"px")):i.css("min-width","")},_couldPerformUnfixing:function(n,i){var r=this.grid,u,f,e;if(!!n.col.fixed==!1)return n.result=!1,n.error=this._getLocaleValue("alreadyUnfixedError"),n;if(n.col.hidden)return n.result=!1,n.error=this._getLocaleValue("alreadyHiddenError"),n;if(!t(i)){if(e=r.columnByKey(i),!e)return n.result=!1,n.error=this._getLocaleValue("targetNotFoundError").replace("{key}",i),n;if(e.fixed)return n.result=!1,n.error=this._getLocaleValue("unfixingRefusedError"),n}return(f=this._getTH(n.id),r._isMultiColumnGrid&&(u=f.closest("tr").attr("data-mch-level"),u&&parseInt(u,10)!==r._maxLevel))?(n.result=!1,n.error=this._getLocaleValue("ActionNotAllowedForChildHeaderColumnError"),n):(n.colWidth=this._getColumnWidth(n.col,f),!this.checkUnfixingAllowed(n.children))?(n.result=!1,n.error=this._getLocaleValue("unfixingRefusedError"),n):n},_couldPerformFixing:function(i,r){var u=this.grid,c,e,f,o,s,h,l;if(i.col.fixed)return i.result=!1,i.error=this._getLocaleValue("alreadyFixedError"),i;if(i.col.hidden||!u._initialized&&n.inArray(i.col,u._initialHiddenColumns)>-1)return i.result=!1,i.error=this._getLocaleValue("alreadyHiddenError"),i;if(!t(r)){if(h=u.columnByKey(r)||this.grid._getMultiHeaderColumnById(r),!h)return i.result=!1,i.error=this._getLocaleValue("targetNotFoundError").replace("{key}",r),i;if(!h.fixed)return i.result=!1,i.error=this._getLocaleValue("fixingRefusedError"),i}return(c=u.container().outerWidth(),o=this._getTH(i.id),u._isMultiColumnGrid&&(e=o.closest("tr").attr("data-mch-level"),e&&parseInt(e,10)!==u._maxLevel))?(i.result=!1,i.error=this._getLocaleValue("ActionNotAllowedForChildHeaderColumnError"),i):this.checkFixingAllowed(i.children,i.isGroupHeader)?(u.hasFixedColumns()&&(f=this._containers.body.fixedContainer.outerWidth()),isNaN(f)&&(f=0),s=this._getColumnWidth(i.col,o),i.colWidth=s,l=this._isVirtualGrid()||u._initialized&&u.hasVerticalScrollbar()||u.options.height?u._scrollbarWidth():0,s+f+l>=c-parseInt(this.options.minimalVisibleAreaWidth,10))?(i.result=!1,i.error=this._getLocaleValue("fixingRefusedMinVisibleAreaWidthError"),i):i:(i.result=!1,i.error=this._getLocaleValue("fixingRefusedError"),i)},checkFixingAllowed:function(n){for(var i=0,t=0;t<n.length;t++)n[t].hidden||i++;return this.grid._visibleColumns(!1).length-i<1?!1:this._isFixingUnfixingAllowed(n,!0)},checkUnfixingAllowed:function(n){return this._isFixingUnfixingAllowed(n,!1)},_isFixingUnfixingAllowed:function(n,t){for(var e=n.length,r,o,f=[],u=this.grid.options.columns,s=u.length,i=0;i<s;i++)if(!t&&u[i].fixed||t&&!u[i].fixed){for(r=0;r<e;r++)if(o=n[r],o.key===u[i].key)break;r===e&&f.push(u[i])}if(f.length===0)return!0;for(i=0;i<f.length;i++)if(!f[i].hidden)return!0;return!1},_rearrangeColumns:function(n,i,r,u){var f=this.grid,s,h,e=f._analyzeColumnMovingObjects(n,i,r,u),o;return f._rearrangeArray(f.options.columns,e.from.dIndex,e.from.children.length,e.at.dIndex),e.at.dMCHIndex>-1&&f._rearrangeArray(f._oldCols,e.from.dMCHIndex,1,e.at.dMCHIndex),this._setFixingStateByCol(e.from.colMCHObj||e.from.colObj,u),o=e.from.children.filter(function(n){return n.hidden===!1}),u?(s=t(i)?null:f._getColumnInfo(i,f._fixedColumns),h=t(s)?f._fixedColumns.length:s.index,f._fixedColumns.insertRange(h,o)):f._fixedColumns.splice(f._getColumnInfo(o[0].key,f._fixedColumns).index,o.length),f._columnMovingResets(),e},fixColumn:function(t,i,r){n.type(arguments[1])==="boolean"&&(i=arguments[2],r=arguments[3]);var f,u,l,o,e,s,h=this.grid,c,v=h._fixedColumns,a=v.length===0;if(o=this.isGroupHeader(t),u={error:this._getLocaleValue("noneError"),result:!0,col:null,isInit:a,isGroupHeader:o},o){if(e=t,u.id=e,c=this.grid._getMultiHeaderColumnById(t),!c)return u.result=!1,u.error=this._getLocaleValue("notValidIdentifierError"),u;u.col=c,l=c.children}else{if(f=this._getColById(t),u.col=f,!f)return u.result=!1,u.error=this._getLocaleValue("notValidIdentifierError"),u;u.col=f,e=f.key,l=[f],u.id=e,delete f.oWidth}return(u.children=l,u=this._couldPerformFixing(u,i),!u.result)?u:(u.colWidth!==parseFloat(u.col.width)&&(u.col.width=u.colWidth),r=n.type(r)==="boolean"?r:!0,a&&!this.element.data("fixingApplied")&&(this._renderMainFixedContainer(),this.fixNonDataColumns()),this._containers&&this._containers.body||this._populateContainers(),this._performDomColumnMove(u,i,r,!0),s=this._rearrangeColumns(e,i,r,!0),h._hasFixedColumns=!0,this._refreshDOMOnFixing(u.id,u.isInit),h._onFixedColumnsChanged({isToFix:!0,id:t,colWidth:u.colWidth,children:u.children,isGroupHeader:o,isInit:a,start:s.from.dIndex,length:s.from.children.length,at:s.at.dIndex}),h.element.igScroll!==undefined&&this._updateIgScroll(!0),u)},_updateIgScroll:function(t){var i=this.grid,u=this._containers.body.unfixedContainer,r=this._containers.body.fixedContainer,f=i.options.scrollSettings;if(f.scrollTop=0,f.scrollLeft=0,u.data("igScroll"))if(u.igScroll("refresh"),this._containers.body.fixedTable.length>0&&u.igScroll("option","syncedElemsV",[this._containers.body.fixedTable]),i.options.virtualization===!0||i.options.rowVirtualization===!0){u.igScroll("option","scrollWidth",i._calculateContainerWidth());u.on("iggridrendered",function(){t&&u.igScroll("option",f),i._enableVirtualTouchScrollbars(u)})}else t&&u.igScroll("option",f),n(".igscroll-hnative-outer",i.container()).length&&i.fixingDirection()==="left"?n(".igscroll-hnative-outer",i.container()).css("left",r.width()):n(".igscroll-hcontainer",i.container()).length&&i.fixingDirection()==="left"&&n(".igscroll-hcontainer",i.container()).css("left",r.width()),n(".igscroll-hnative-outer",i.container()).length&&i.fixingDirection()==="right"?n(".igscroll-hnative-outer",i.container()).css("right",r.width()):n(".igscroll-hcontainer",i.container()).length&&i.fixingDirection()==="right"&&n(".igscroll-hcontainer",i.container()).css("right",r.width());else u.bind("igscrollrendered",n.proxy(this._onIgScrollCreated,this));r.data("igScroll")?(r.igScroll("refresh"),i.options.virtualization===!0||i.options.rowVirtualization===!0?(r.igScroll("option","scrollOnlyVBar",!0),r.igScroll("option","scrollbarV",i._scrollContainer()),r.data("igScroll")._content=i._scrollContainer().children(":first-child")):r.igScroll("option","syncedElemsV",[this._containers.body.unfixedTable]),t&&r.igScroll("option",f)):r.bind("igscrollrendered",n.proxy(this._onIgScrollCreated,this))},_onIgScrollCreated:function(){this._updateIgScroll()},_attachVirtualizationEvents:function(){var n=this.grid;n.fixedBodyContainer().bind({mouseenter:function(){n._isMouseOverVirtualTable=!0},mouseleave:function(){n._isMouseOverVirtualTable=!1}})},fixNonDataColumns:function(){var t=this.grid,r=this._getDataSkippedCols(),u=this._getDataSkippedWidth(!1,r),i=r.length;this.options.fixingDirection==="left"&&i&&(n("#"+t.id()+"_mainFixedContainer").length||this.element.data("fixingApplied")||this._renderMainFixedContainer(),t._hasFixedDataSkippedColumns=!0,t._hasFixedColumns=!!t._fixedColumns.length||t.hasFixedDataSkippedColumns(),this._performDomColumnMoveByIndexes({start:0,length:i,width:u,nonData:!0},{start:-1,length:0},!1,!0),this._refreshDOMOnFixing(null,!0),this.options.syncRowHeights&&this.checkAndSyncHeights(),this._isVirtualGrid()&&this.grid._hscrollbarcontent().css("overflow-y","hidden"),this._checkAndRenderHScrlbarCntnr(),t._hasFixedColumns=!0,this.grid._onFixedColumnsChanged({isToFix:!0,nonData:!0,isInit:!0,length:i}))},fixDataSkippedColumns:function(){this.fixNonDataColumns()},unfixNonDataColumns:function(){var n,i=this._getDataSkippedCols(!0),t=i.length;this.options.fixingDirection==="left"&&t&&(n=this._getDataSkippedWidth(!0,i),this._performDomColumnMoveByIndexes({start:0,length:t,width:n,nonData:!0},{start:0,length:0},!1,!1),this.grid._hasFixedColumns=!!this.grid._fixedColumns.length,this.grid._hasFixedDataSkippedColumns=!1,this._refreshDOMOnUnfixing({nonData:!0,width:n}),this.grid._onFixedColumnsChanged({isToFix:!1,nonData:!0,length:t}))},unfixDataSkippedColumns:function(){this.unfixNonDataColumns()},_getDataSkippedWidth:function(n,t){var i=0;return t=t||this._getDataSkippedCols(n),t.each(function(n,t){i+=parseFloat(t.style.width)}),i},_getDataSkippedCols:function(n){this._containers&&this._containers.body||this._populateContainers();var t=n?this._containers.body.fixedTable:this._containers.body.unfixedTable;return t.find("colgroup col[data-skip]")},_getDataSkippedColumnsLength:function(n){return this._getDataSkippedCols(n).length},unfixAllColumns:function(){if(this.grid.hasFixedColumns()){var i,r=this,t=[];if(this.grid._isMultiColumnGrid?this.grid.fixedHeadersTable().children("thead").children("tr[data-mch-level]:nth-child(1)").children("th:not([data-skip])").each(function(i,u){var e=n(u),f;f=e.attr("data-mch-id"),f=f||e.attr("id").replace(r.grid.id()+"_",""),t.push(f)}):t=n.map(this.grid._fixedColumns,function(n){return n.key}),t.length>0)for(i=t.length-1;i>=0;i--)this.unfixColumn(t[i])}},_removeFixedContainer:function(){this.element.data("fixingApplied",!1);var i=this.grid,r,u=this._isVirtualGrid();u&&this._removeFixedContainerVirtualization(),this._containers||this._populateContainers(),r=this._containers.body.unfixedContainer,r.unbind(".columnFixing"),this.element.unbind(".columnFixing"),this._containers&&this._containers.body&&(this._containers.body.unfixedTable.removeClass(this.css.unfixedTableLeft).removeClass(this.css.unfixedTableRight),u||this._containers.body.unfixedTable.css("height","")),t(this._DOMMouseScroll)||(r.unbind({DOMMouseScroll:this._DOMMouseScroll}),this._DOMMouseScroll=null),i.fixedContainer().remove(),this.options.fixingDirection!=="right"||u||(r.css({"overflow-y":"auto"}),this.grid._hscrollbarcontent().css({"overflow-y":"scroll"})),i._outerHScrollbar||i._hscrollbar().css({width:"100%",left:0}),i.options.width===null&&i.container()[0].style.width===""&&i.container().css("width",""),i.options.enableHoverStyles&&this._dettachHoverEvents(),n("#"+i.id()+"_floatCompensate").remove()},_removeFixedContainerVirtualization:function(){var n=this.grid._virtualcontainer();n.children("colgroup").children("col[data-fixed-col]").remove(),n.children("tbody").children("tr").children("td[data-fixed-container]").remove()},_getRowsHtml:function(t,i){var r="",s,f,e,a,u,h,c,l,o,y=this.options.syncRowHeights,v=t.children("tr");for(this._heights=this._heights||{},this._heights[i]=[],a=v.length,f=0;f<a;f++){for(u=v[f],s=u.attributes,r+="<tr",e=0;e<s.length;e++)h=s[e],l=h.value,o=h.name,(o==="id"||o==="ID")&&(l+="_fixed"),r+=" "+o+'="'+l+'"';y&&(c=n.ig.util.isIE?u.getBoundingClientRect().height:u.offsetHeight,this._heights[i].push({h:c,tr:u}),r+=' height="'+c+'px"'),r+="><\/tr>"}return r},_renderContainerInVirtGrid:function(t,i,r){var f,u=n('<td data-fixed-container="'+r+'" style="border-width: 0px;"><\/td>'),e=this.options.fixingDirection==="left"?this.css.leftFixedContainer:this.css.rightFixedContainer;return this.options.fixingDirection==="left"?u.prependTo(t):(t.children("td:first").removeAttr("colspan"),r==="body"?u.insertBefore(t.children("td:last")):(u.attr("colspan",2),u.appendTo(t))),f=this._renderContainer(u,i,r),f.addClass(e),this._containers[r].fixedContainer.width(0),this._containers[r].fixedTable.width(0),f},_renderContainer:function(t,i,r){var f,u,o,e;switch(r){case"header":f=this.grid.id()+"_fixedHeaderContainer",e="<thead><\/thead>";break;case"footer":f=this.grid.id()+"_fixedFooterContainer",e='<tfoot role="rowgroup"><\/tfoot>';break;default:f=this.grid.id()+"_fixedBodyContainer",e='<tbody class="'+this.grid.css.recordClass+'">'+this._getRowsHtml(i.children("tbody"),r)+"<\/tbody>"}return u=n('<div id="'+f+'" data-fixed-container="true"><\/div>').appendTo(t),r==="body"&&u.attr("data-scroll","true"),o=n('<table id="'+i.attr("id")+'_fixed" class="'+i.attr("class")+'"  style="table-layout:fixed;"  border=0 cellpadding=0 cellspacing=0><colgroup />'+e+"<\/table>"),o.appendTo(u),this._containers[r]=this._containers[r]||{},this._containers[r].fixedContainer=u,this._containers[r].fixedTable=o,this._containers[r].unfixedContainer=i.closest("div"),this._containers[r].unfixedTable=i,u.css({overflow:"hidden",position:"relative"}),r==="header"&&this._containers.header.fixedContainer.addClass(this._containers.header.unfixedContainer.attr("class")),u},_scrollTopFixedContainer:function(n){var i=this._scrollContainers.fCntnr,r=this._scrollContainers.ufCntnr,t=i.scrollTop();n=n||0,t-=n*this.options.scrollDelta,t=t<0?0:t,i.scrollTop(t),r.scrollTop(t)},_syncScrollTopContainers:function(n,t){t.scrollTop(n.scrollTop())},_bindEvents:function(){var r=this.grid,u=this,t=this._scrollContainers.fCntnr,i=this._scrollContainers.ufCntnr;if(r.options.enableHoverStyles&&this._attachHoverEvents(),this._isContinuousVirtualization()&&i.bind({scroll:function(){u._syncScrollTopContainers(n(this),t)}}),t.delegate("tr, td",{focus:function(){n.ig.util.isIE?setTimeout(function(){u._syncScrollTopContainers(t,i)},0):u._syncScrollTopContainers(t,i)}}),r.element.igScroll!==undefined){(r.options.virtualization||r.options.rowVirtualization)&&!i.data("igScroll")&&(i.igScroll({modifyDOM:!1,scrollbarType:"none"}),i.data("igScroll")._bKeyboardNavigation=!1,i.data("igScroll")._bMixedEnvironment=!0),t.igScroll({modifyDOM:!1,scrollbarType:"none"}),t.data("igScroll")._bKeyboardNavigation=!1,(r.options.virtualization||r.options.rowVirtualization)&&(t.data("igScroll")._bMixedEnvironment=!0),t.css("-ms-touch-action","none");i.on("iggriddatarendered",n.proxy(this._onIgScrollCreated,this))}this._isVirtualGrid()||(this._onMouseWheelHandler=function(n){var o,f,e,i,s;return(o=n.originalEvent,e=o.wheelDelta,i=o.detail,f=i?e?e/i/40*i>0?1:-1:-i/3:e/120,s=t.scrollTop(),u._scrollTopFixedContainer(f),r.options.height===null||s===t.scrollTop())?!0:!1},this._DOMMouseScroll=function(n){var t=-1,i;if(i=-n.originalEvent.detail/3,i>0&&(t=1),u._scrollTopFixedContainer(t),r.options.height===null)return!0;n.preventDefault()},this.options.fixingDirection==="right"?(this._bindEventsToContainers(t,i),this.element.bind({"mousewheel.columnFixing":this._onMouseWheelHandler,"DOMMouseScroll.columnFixing":this._DOMMouseScroll}),i.bind({"scroll.columnFixing":function(){u._syncScrollTopContainers(n(this),t)}})):this._bindEventsToContainers(i,t))},_bindEventsToContainers:function(t,i){var r=this,u=this.grid.element.data("igGridSelection");t.bind({"scroll.columnFixing":function(){r._syncScrollTopContainers(n(this),i)}}),n.ig.util.isIE&&t.bind({"mousewheel.columnFixing":function(n){r._onMouseWheelHandler(n)}}),i.bind({"mousewheel.columnFixing":this._onMouseWheelHandler,"DOMMouseScroll.columnFixing":this._DOMMouseScroll,"keydown.columnFixing":function(t){u||(t.keyCode===n.ui.keyCode.UP?r._scrollTopFixedContainer(1):t.keyCode===n.ui.keyCode.DOWN&&r._scrollTopFixedContainer(-1))}})},_renderMainFixedContainerInVirtGrid:function(){this._populateContainers();var t=this.grid,e,h,u,o,r=t._vhorizontalcontainer(),s,l=t._virtualcontainer(),i,f,c;o=l.children("colgroup:first"),f=this._containers.body.unfixedContainer,e=n("<col />").attr("data-fixed-col",this.options.fixingDirection),this.options.fixingDirection==="left"?e.prependTo(o):e.insertBefore(o.children("col:last")),i=this._renderContainerInVirtGrid(this._containers.body.unfixedContainer.closest("tr"),this._containers.body.unfixedTable,"body"),i.addClass(t.css.gridVirtualScrollDivClass).addClass(t.css.gridScrollDivClass),n.ig.util.isIE&&i.children("table").height(f.children("table").height()),c=f.height(),i.height(c),i.bind(t._mouseClickEventHandlers),t.options.showHeader&&(this._renderContainerInVirtGrid(this._containers.header.unfixedContainer.closest("tr"),this._containers.header.unfixedTable,"header"),u=this._getRowsHtml(this._containers.header.unfixedTable.children("thead"),"header"),this._containers.header.fixedTable.children("thead").html(u)),t.options.showFooter&&this._containers.footer&&(this._renderContainerInVirtGrid(this._containers.footer.unfixedContainer.closest("tr"),this._containers.footer.unfixedTable,"footer"),t.options.fixedFooters&&this._containers.footer.fixedContainer.bind(t._mouseClickEventHandlers),u=this._getRowsHtml(t.footersTable().children("tfoot"),"footer"),t.fixedFootersTable().children("tfoot").html(u)),t._fixedTable=i.children("table"),r.length||(r=t._hscrollbar()),h=r.parent(),h.is("td")&&(s=n('<td data-fixed-container="scrollbar"><\/td>'),this.options.fixingDirection==="left"?s.insertBefore(r.closest("td")):s.attr("colspan",2).insertAfter(r.closest("td").removeAttr("colspan"))),this._scrollContainers={fCntnr:i,ufCntnr:f},this._bindEvents()},_renderMainFixedContainer:function(){if(this.element.data("fixingApplied",!0),this._isVirtualGrid())return this._renderMainFixedContainerInVirtGrid();var t=this.grid,a=t.id(),f,e=this.options.fixingDirection,o,h,c,l,u,i,r,v=t.id()+"_mainFixedContainer",s;i=n('<div id="'+v+'" data-fixed-container="true"><\/div>'),this._mainFixedCntnr=i,i.css({width:"0px",overflow:"hidden",position:"relative"}),u=t.scrollContainer(),u.length?o=u.children("table"):(u=t.element,o=t.element),i.addClass(this.css.fixedContainer),i.insertBefore(t.options.fixedHeaders&&t.options.showHeader?t.headersTable().closest("div"):u),e==="left"?(i.css({float:"left",left:0}),i.addClass(this.css.leftFixedContainer)):(i.css({float:"right",right:0}),i.addClass(this.css.rightFixedContainer)),i.attr("data-fixing-direction",e),i.bind(this.grid._mouseClickEventHandlers),r=this._renderContainer(i,o,"body"),r.attr("data-fixing-direction",e),t.options.height!==null&&n.ig.util.isIE&&r.find("table").height(o.height()),t.options.height!==null&&(s=u.height(),this.grid._hscrollbar().is(":visible")&&(s+=this.grid._hscrollbar().outerHeight())),r.height(s),h=r.find("table"),t.options.showHeader&&(t.options.fixedHeaders&&t.options.height!==null?(c=this._renderContainer(i,t.headersTable(),"header"),c.prependTo(i)):t.element.find("thead").next().is("tbody")?n("<thead />").insertBefore(r.find("tbody")):t.element.find("thead").prev().is("colgroup")?n("<thead />").insertAfter(r.find("colgroup")):n("<thead />").insertAfter(r.find("tbody"))),t.options.showFooter&&(t.options.fixedFooters&&t.options.height!==null?(l=this._renderContainer(i,t.footersTable(),"footer"),this._containers.footer.fixedTable.css("whiteSpace",this._containers.footer.unfixedTable.css("whiteSpace")),l.appendTo(i)):n('<tfoot role="rowgroup" />').insertAfter(r.find("tbody"))),f=this._getRowsHtml(t.headersTable().children("thead"),"header"),t.fixedHeadersTable().children("thead").html(f),f=this._getRowsHtml(t.footersTable().children("tfoot"),"footer"),t.fixedFootersTable().children("tfoot").html(f),this.options.syncRowHeights&&(this._setRowHeights("header"),this._setRowHeights("body"),this._setRowHeights("footer")),t._fixedTable=h,e==="right"&&(r.css({"overflow-y":"auto"}),u.css({"overflow-y":"hidden"}),this.grid._hscrollbarcontent().css({overflow:"","overflow-y":"hidden"})),this._scrollContainers={fCntnr:r,ufCntnr:u},this._bindEvents(),n('<div style="clear:both" id="'+a+'_floatCompensate"><\/div>').insertAfter(t.container())},_setRowHeights:function(n){for(var i=this._heights[n],r=i.length,t=0;t<r;t++)i[t].tr.style.height=i[t].h+"px"},_syncRowStyles:function(){for(var t,i,r=this._containers.body,f=r.unfixedTable,e=r.fixedTable,u=e.children("tbody").children("tr"),o=f.children("tbody").children("tr"),s=u.length,n=0;n<s;n++)t=u[n],i=o[n],t.setAttribute("style",i.getAttribute("style")),t.setAttribute("class",i.getAttribute("class"))},_populateContainers:function(){var r=this.grid.id(),t=this.grid,e=this,o=this._isVirtualGrid(),f=this.grid.container().find("#"+r+"_headers"),u=this.grid.container().find("#"+r+"_footer_container"),s=this.grid.container().find("#"+r+"_fixedBodyContainer"),i,n;n=o?this.grid._vdisplaycontainer():this.grid.scrollContainer(),n.length===0&&(n=this.grid.element),this._containers={},i=function(n,i,r){var u=n.find("table"),f=t.container().find("#"+u.attr("id")+"_fixed");u.length===0&&(u=n,f=t.container().find("#"+u.attr("id")+"_fixed")),e._containers[r]={fixedContainer:i,unfixedContainer:n,fixedTable:f,unfixedTable:u}},f.length>0&&i(f.parent("div"),t.fixedHeaderContainer(),"header"),i(n,s,"body"),u.length>0&&u[0].nodeName!=="TFOOT"&&i(u,t.fixedFooterContainer(),"footer")},_fixUnfixMCHColumn:function(n,t,i){var r,f=this.grid,e,s=t.fixedThead,h=t.unfixedThead,o=t.isToFix,c=t.after,l=o?s:h,u=f.element.data("igGridMultiColumnHeaders");if(i=i||f._oldCols,u){for(r=0;r<i.length;r++)if(i[r].identifier===n||i[r].key===n){e=i[r];break}r!==i.length&&(u._rows={},u._analyzeRowspanRows(i,0),this._fixUnfixMCHColumnRecursive([e],u._rows,l,o,c))}},_fixUnfixMCHColumnRecursive:function(i,r,u,f,e){for(var k=this.grid,v,c,p,s,h=n(),w,l,a,b,y,o=0;o<i.length;o++)a=i[o],a.level===0?(c=o?c:a.key,v=k.container().find("#"+this.grid.id()+"_"+a.key)):(c=o?c:a.identifier,v=this._getTH(a.identifier)),t(p)&&(p=parseInt(v.closest("tr").attr("data-mch-level"),10)),v.detach(),h=h.add(v);if(s=r[p],s)if(y=u.find("tr[data-mch-level="+p+"]"),y.find(">th:not([data-skip])").length&&s.length){for(o=0;o<s.length;o++)if(s[o].identifier===c||s[o].key===c){if(w=o,f)l=o>0?s[o-1]:null;else for(o+=i.length;o<s.length;o++)if(!s[o].fixed){l=s[o];break}for(o=w;o<w+i.length;o++)s[o].fixed=f;break}l?(b=this._getTH(t(l.key)?l.identifier:l.key),e?h.insertAfter(b):h.insertBefore(b)):e?h.appendTo(y):h.prependTo(y)}else h.appendTo(y);for(o=0;o<i.length;o++)i[o].group&&(e=f,this._fixUnfixMCHColumnRecursive(i[o].group,r,u,f,e),i[o].fixed=f)},_dettachHoverEvents:function(){this._populateContainers();var n=this._containers.body,t=n.unfixedTable,i=n.fixedTable;i.undelegate("tbody",".hoverColumnFixing"),t.undelegate("tbody",".hoverColumnFixing")},_attachHoverEvents:function(){this._populateContainers();var t=this._containers.body,i=t.unfixedTable,r=t.fixedTable;this._mouseOverHandler=n.proxy(this._mouseOver,this),this._mouseLeaveHandler=n.proxy(this._mouseLeave,this),r.delegate("tbody",{"mousemove.hoverColumnFixing":this._mouseOverHandler,"mouseleave.hoverColumnFixing":this._mouseLeaveHandler}),i.delegate("tbody",{"mousemove.hoverColumnFixing":this._mouseOverHandler,"mouseleave.hoverColumnFixing":this._mouseLeaveHandler})},_mouseOver:function(t){var u="ui-state-hover",i=this.grid,r=n(t.target).closest("tr");i._isFixedElement(r)&&i._mousemoveTr(i.element.find("tbody tr:nth-child("+(r.index()+1)+")")[0],t),this._hoverTr&&this._hoverTr.find("td,th").removeClass(u),this._hoverTr=i.fixedTable().find("tbody").children("tr:nth-child("+(r.index()+1)+")"),this._hoverTr.children("td,th").addClass(u)},_mouseLeave:function(t){var u="ui-state-hover",r=n(t.target).closest("tr"),i=this.grid;i._isFixedElement(r)&&i._mouseleaveTr(i.element.find("tbody").children("tr:nth-child("+(r.index()+1)+")")[0],t),this._hoverTr&&this._hoverTr.children("td,th").removeClass(u)},_checkAndRenderHScrlbarCntnr:function(){var t=this.grid,f=t._hscrollbarcontent(),i=t._hscrollbar(),u=t.id()+"_fixedContainerScroller",r=t.container().find("#"+u);r.length===0&&(this._isContinuousVirtualization()||n.ig.util.hasHorizontalScroll(t.scrollContainer())||f.length===1&&i.is(":visible"))?n('<div style="height:'+(i.height()||n.ig.util.getScrollHeight())+'px" id="'+u+'"><\/div>').appendTo(this._containers.body.fixedContainer):r.length===1&&i.length===1&&(i.is(":visible")?r.show():r.hide())},syncRowsHeights:function(t,i){for(var o=t.length,u,f,e=[],r=0;r<o;r++)f=n.ig.util.isIE?t[r].getBoundingClientRect().height:t[r].offsetHeight,u=n.ig.util.isIE?i[r].getBoundingClientRect().height:i[r].offsetHeight,u=f>u?f:u,e.push(u);for(r=0;r<o;r++)t[r].style.height=e[r]+"px",i[r].style.height=e[r]+"px"},_checkSyncTablesHeights:function(){this._containers&&this._containers.body||this._populateContainers();var i,r,u,n=this._containers.body.fixedTable,t=this._containers.body.unfixedTable,f=n.children("tbody").children("tr"),e=t.children("tbody").children("tr"),o=e.last();o.length>0&&(Math.abs(n.outerHeight()-t.outerHeight())>1||Math.abs(o.igOffset().top-f.last().igOffset().top)>1)&&(this.syncRowsHeights(f,e),r=n.height(),u=t.height(),i=r>u?r:u,n.height(i),t.height(i))},_syncContainerHeights:function(){var t,i,n=this._containers;n&&n.body&&(t=n.body.fixedTable,i=n.body.unfixedTable,t.height()!==i.height()&&t.height(i.height()))},_adjustWidthOnFixingRight:function(){if(this.options.fixingDirection==="right"&&!this.grid._gridHasWidthInPercent()&&!this._isVirtualGrid()){var n,t=this.grid,i=this._containers.body;i.unfixedContainer.width()-i.unfixedTable.width()>=0&&(n=this._mainFixedCntnr||this._containers.body.fixedContainer,n.length&&(n[0].style.width=parseFloat(t.options.width)-t.element.width()+"px"))}},_adjustVirtWidthOnFixingRight:function(t){if(this.options.fixingDirection==="right"){var i=this.grid,u,r,f,e=i._virtualcontainer().children("colgroup"),s=e.children("col[data-fixed-col]"),o=e.children("col:not(:last):not([data-fixed-col])");o.length&&(u=o[0].width,this._containers.header.unfixedContainer.width(u),this._containers.footer.unfixedContainer.width(u)),i.options.showHeader&&s.length&&this._containers.header.fixedContainer.width(this._containers.header.fixedContainer.width()+i._scrollbarWidth()+"px"),t||i._fixedColumns.length||(r=n("#"+i.id()+"_headers_v"),f=r[0].style.width,f&&f.indexOf("%")===-1&&r.width(r.width()+i._scrollbarWidth()+"px"),r.closest("td").attr("colspan",2)),i._vhorizontalcontainer().css("overflow-y","hidden"),this._updateHScrollbarTblWidthsInFixedVirtRight()}},_updateFixedColgroupVirt:function(n){var t,i,r,u;u=this.grid._virtualcontainer().children("colgroup"),i=u.children("col[data-fixed-col]"),r=u.children("col:not(:last):not([data-fixed-col])"),t=parseInt(i.attr("width"),10),i.attr("width",t+n),t=parseInt(r.attr("width"),10),r.attr("width",t-n)},getWidthOfFixedColumns:function(t,i,r){var e,f=0,u;if(this._containers&&this._containers.body||this._populateContainers(),e=this._containers.body.fixedTable,i&&e.children("colgroup").children("col[data-skip]").each(function(){f+=parseInt(n(this).css("width"),10)}),t=t||this.grid._fixedColumns,!t||!t.length)return f;for(u=0;u<t.length;u++)(r||!t[u].hidden)&&(f+=parseFloat(t[u].width));return f},_updateHScrollbarWidthVirt:function(){var n=this.grid,i,u=n._scrollbarWidth(),r=n._vhorizontalcontainer(),t=parseInt(this._containers.body.fixedTable[0].style.width,10),f=this.options.fixingDirection==="left",e=parseInt(n.options.width,10);if(n._outerHScrollbar){i=n._hscrollbar(),this.options.fixingDirection==="left"?i.css("margin-left",t):i.css("margin-right",t+u),n._gridHasWidthInPercent()?(n._updateGridContentWidth(),n._updateVirtualHorizontalScrollbar()):n._getHScrollContainerInner().css("width",n.element.width());return}this._isContinuousVirtualization()&&(t===0?r.css({position:""}):f&&r.css({position:"relative"}),f||(e-=u),r.width(e-t+"px"),n._updateVirtualHorizontalScrollbar())},_updateHScrollbarWidth:function(n){if(this._isVirtualGrid())return this._updateHScrollbarWidthVirt(n);var i,t=this.grid,u,f,e=this.options.fixingDirection==="left",r=this._containers.body.unfixedTable.outerWidth();i=this._containers.body.unfixedContainer,r>0&&(u=t._hscrollbar(),f=i.is(":visible")?i.width():parseInt(t.options.width,10)-this.getWidthOfFixedColumns(),u.css({left:0}),t._hscrollbarinner().css({width:(t._hasVerticalScrollbar&&t.options.fixedHeaders&&e?r-t._scrollbarWidth():r)+"px",left:0}))},_headerRendered:function(t,i){if(i.owner.element.attr("id")===this.grid.element.attr("id")&&this.options.showFixButtons!==!1){var f,s,r,u,a,c,h=!1,l=!0,e=this.grid,o=this,v=e.options.columns,y=v.length;if(e._isMultiColumnGrid)a=e.headersTable().children("thead").children("tr[data-mch-level="+e._maxLevel+"]").children("th"),a.each(function(){var t=n(this);if(t.attr("data-mch-id")){if(u=t.attr("data-mch-id"),l=!0,r=o._getColumnSettingByKey(u),r&&r.allowFixing===!1)return!0;for(s=0;s<e._oldCols.length;s++)if(e._oldCols[s].identifier===u){for(c=e._oldCols[s].children,f=0;f<c.length;f++)if(r=o._getColumnSettingByKey(c[f].key,f),r&&r.allowFixing===!1){l=!1;break}break}if(!l)return!0;o._renderHeaderCellButton(u,h,!0,t)}else{if(t.attr("data-skip")||(u=t.attr("id").replace(e.id()+"_",""),r=o._getColumnSettingByKey(u),r&&r.allowFixing===!1))return!0;o._fcData[u]!==!0&&o._renderHeaderCellButton(u,h,!1,t)}});else for(f=0;f<y;f++){if(u=v[f].key,r=this._getColumnSettingByKey(u,f),h=!1,r!==null){if(r.allowFixing===!1)continue;r.isFixed===!0&&(h=!0)}this._fcData[u]!==!0&&this._renderHeaderCellButton(u,h)}}},_headerRendering:function(){for(var n=0;n<this.grid.options.features.length;n++)if(this.grid.options.features[n].name==="Hiding"){this._hiding=this.grid.element.data("igGridHiding");break}},_columnsMoved:function(n,t){var i=t.start,r=t.len,u=t.index;t.isFixed&&(i||r||u)&&t.owner.id()===this.grid.id()&&this.grid._rearrangeArray(this.grid._fixedColumns,i,r,u)},_getColumnSettingByKey:function(n,t){for(var r=this.options.columnSettings,f=r.length,u=null,i=0;i<f;i++)if(r[i].columnKey!==null&&r[i].columnKey!==undefined){if(r[i].columnKey===n){u=r[i];break}}else if(r[i].columnIndex!==null&&r[i].columnIndex!==undefined&&r[i].columnIndex===t){u=r[i];break}return u},_id:function(){var n,t=this.grid.id(),i=arguments.length;if(i===0)return null;for(n=0;n<i;n++)t+="_"+arguments[n];return t},_renderHeaderCellButton:function(t,i,r,u){var s=this,c=s.css,h,l=this.grid.id(),f,o,e;(u===undefined&&(u=this.grid.container().find("#"+l+"_"+t)),h=this._id("header_cell","fixing",t),u.length!==0)&&(this.grid._enableHeaderCellFeature(u),e=u.find(".ui-iggrid-indicatorcontainer"),e.length===0&&(e=n('<div class="ui-iggrid-indicatorcontainer"><\/div>').appendTo(u)),f=this.grid.container().find("#"+h),f.length===0&&(f=n("<a><\/a>").attr("href","#").attr("data-fixing-indicator","true").attr("id",h),o=e.find(".ui-iggrid-fixcolumn-headerbuttoncontainer"),o.length===0&&(o=n("<div><\/div>").addClass(c.headerButtonIconContainer).appendTo(e)),f.appendTo(o),n("<span><\/span>").appendTo(f),f.bind({mousedown:function(){n(this).trigger("mouseout")},click:function(n){n.preventDefault(),n.stopPropagation(),f.attr("data-fixed")==="true"?s._unfixColumnInternal(t):s._fixColumnInternal(t)}})),this._changeStyleHeaderButton(t,i))},_getTH:function(n){return this.grid.container().find('th[data-mch-id="'+n+'"],th[id="'+this.grid.id()+"_"+n+'"]')},_changeStyleHeaderButton:function(n,t){var r=this.css,u,e="true",f="headerFixButtonText",o=this.grid.container().find("#"+this._id("header_cell","fixing",n)),i;i=o.find("span"),t?(i.removeClass(r.headerButtonIcon),i.addClass(r.headerButtonUnfixIcon),f="headerUnfixButtonText"):(e="false",i.removeClass(r.headerButtonUnfixIcon),i.addClass(r.headerButtonIcon)),o.attr({title:this._getLocaleValue(f),"data-localeid":f,"data-localeattr":"title","data-fixed":e}),u=this.grid.element.data("igGridFeatureChooser"),u&&u._setSelectedState("ColumnFixing",n,t,!1)},_dataRendering:function(t,i){i!==undefined&&this.grid.id()===i.owner.id()&&this.grid.options.height===null&&this.grid.hasFixedColumns()&&n.ig.util.isIE&&n.ig.util.browserVersion>=9&&n("#"+this.grid.id()+"_fixed").height("")},_dataRendered:function(t,i){if(i!==undefined&&this.grid.id()===i.owner.id()){var r=this.grid,u,f;r.hasFixedColumns()&&this.options.syncRowHeights&&(this.checkAndSyncHeights(),this._isVirtualGrid()&&r._virtualcontainer().outerHeight()>parseInt(r.options.height)&&r._initializeHeights(),n.ig.util.isIE&&(f=this._containers.body.unfixedContainer,u=this._containers.body.fixedContainer,this._syncScrollTopContainers(u,f)))}},_colCollectionModified:function(){var n=0;for(this.grid._fixedColumns=[],n=0;n<this.grid.options.columns.length;n++)this.grid.options.columns[n].fixed&&!this.grid.options.columns[n].hidden&&this.grid._fixedColumns.push(this.grid.options.columns[n])},_gridContainersRendered:function(){for(var u,i=this.options.columnSettings,c=i.length,r=[],s,h,l,f=this.grid.options.columns,e,o=0,a=f.length,t=0;t<c;t++)if(i[t].isFixed===!0)if(s=i[t].columnKey!==null&&i[t].columnKey!==undefined,h=i[t].columnIndex!==null&&i[t].columnIndex!==undefined,s)r.push(i[t].columnKey),e=this.grid.columnByKey(i[t].columnKey),e&&e.hidden&&o++;else{if(!h)continue;i[t].columnIndex>=0&&i[t].columnIndex<a&&(r.push(f[i[t].columnIndex].key),f[i[t].columnIndex].hidden&&o++)}if(o>0)throw new Error(n.ig.util.stringFormat(this._getLocaleValue("initialFixingNotApplied"),r[0],this._getLocaleValue("alreadyHiddenError")));for(u=0;u<r.length;u++)l=this.fixColumn(r[u]);this.options.fixNondataColumns&&this.fixDataSkippedColumns()},_detachEvents:function(){this._headerRenderedHandler&&this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this._headerCellRenderedHandler&&this.grid.element.unbind("iggridheadercellrendered",this._headerCellRenderedHandler),this._headerRenderingHandler&&this.grid.element.unbind("iggridheaderrendering",this._headerRenderingHandler),this._columnsMovedHandler&&this.grid.element.unbind("iggrid_columnsmoved",this._columnsMovedHandler),this._gridHeightChangingHandler&&this.grid.element.unbind("iggrid_heightchanging",this._gridHeightChangingHandler),this._dataRenderingHandler&&this.grid.element.unbind("iggriddatarendering",this._dataRenderingHandler),this._dataRenderedHandler&&this.grid.element.unbind("iggriddatarendered",this._dataRenderedHandler),this._virtualrecordsrenderHandler&&this.grid.element.unbind("iggridvirtualrecordsrender",this._virtualrecordsrenderHandler),this._gridContainerHeightHandler&&this.grid.element.unbind("iggrid_heightchanged",this._gridContainerHeightHandler),this._gridContainersRenderedHandler&&this.grid.element.unbind("iggrid_gridcontainersrendered",this._gridContainersRenderedHandler),this._gridColCollectionModified&&this.grid.element.unbind("iggridcolumnscollectionmodified",this.gridColCollectionModified),this._lastColumnWidthAutoAdjustedHandler&&this.grid.element.unbind("iggrid_lastcolumnwidthautoadjusted",this._lastColumnWidthAutoAdjustedHandler)},destroy:function(){var t;return this.grid._fixedColumns&&this.grid._fixedColumns.length>0&&this.unfixAllColumns(),this.grid.hasFixedDataSkippedColumns()&&this.unfixNonDataColumns(),this.grid._hasFixedDataSkippedColumns=!1,this.grid._hasFixedColumns=!1,this.element.data("fixingApplied",!1),this.grid.headersTable().find("thead > tr > th").not("[data-skip=true]").each(function(){var t=n(this);t.find("a[data-fixing-indicator=true]").parent().remove()}),this._detachEvents(),this._gridRenderRowHandler!==undefined&&(this.grid._renderRow=this._gridRenderRowHandler),this._gridRenderRecordsForTableHandler&&(this.grid._renderRecordsForTable=this._gridRenderRecordsForTableHandler),this._gridRenderNewRowHandler&&(this.grid.renderNewRow=this._gridRenderNewRowHandler),this._gridDetachColumnHandler&&(this.grid._detachColumn=this._gridDetachColumnHandler),this._gridAttachColumnHandler&&(this.grid._attachColumn=this._gridAttachColumnHandler),this._gridRerenderColgroupsHandler&&(this.grid._rerenderColgroups=this._gridRerenderColgroupsHandler),this._gridRenderColgroupHandler&&(this.grid._renderColgroup=this._gridRenderColgroupHandler),this._gridUpdatePaddingHandler&&(this.grid._updateVScrollbarCellPaddingHelper=this._gridUpdatePaddingHandler),t=this.grid.element.data("igGridFeatureChooser"),t&&this.renderInFeatureChooser&&t._removeFeature("ColumnFixing"),this._unregisterSetOptionCallback(),this._superApply(arguments),this},_headerCellRendered:function(n,t){t.owner.element.attr("id")===this.grid.element.attr("id")&&this._isInitFC!==!0&&this._initFC()},_setFixedBodyCntnrHeight:function(n,t){this._containers&&this._containers.body||this._populateContainers();var i=this.grid,f,r,e,u;t=t||this._containers.body.fixedContainer,n=n||this._containers.body.unfixedContainer,i.options.height!==null&&(r=n.height(),f=i._hscrollbar(),e=i._gridHasWidthInPercent(),u=this._isVirtualGrid(),f.is(":visible")&&(!u||!e&&u&&this._isContinuousVirtualization())&&(r+=this.grid._hscrollbar().outerHeight())),t.height(r)},_summariesHeightsAdjusting:function(){var t,i,n=this.grid;if(!n._initialized){n.options.showFooter&&!n.options.fixedFooters&&n._updateVerticalScrollbarCellPadding();return}this._containers&&this._containers.footer||this._populateContainers(),n.options.showFooter&&n.options.fixedFooters&&(t=this._containers.footer.fixedTable,i=this._containers.footer.unfixedTable,this._syncHeightsForTables(t,i))},_heightChanged:function(){var n=this.grid;n.hasFixedColumns()&&(this._syncTableHeights(),this._setFixedBodyCntnrHeight(),this._checkAndRenderHScrlbarCntnr(),this.options.syncRowHeights&&this.checkAndSyncHeights())},_lastColumnWidthAutoAdjusted:function(n,t){var i=this.grid;i.hasFixedColumns()&&(this.options.fixingDirection!=="right"||i._initialized||(i._hscrollbarcontent().css("overflow-y","hidden"),this._updateHScrollbarWidth(),this._adjustWidthOnFixingRight()),t&&t.specialColumnsWidth&&(this._recalcTableWidths(),this._updateHScrollbarWidth(),this._updateGridWidth(),i._updateHScrollbarVisibility()))},_gridHeightChanging:function(n,t){if(this._containers.body&&!this._isVirtualGrid()){var i,u,f=this.grid._prevContainerHeight,r=this.grid.fixedBodyContainer();r.length!==0&&(i=t.ch-t.h,this.grid._hscrollbar().is(":visible")&&(i+=this.grid._hscrollbar().outerHeight()),r.height(i),u=Math.abs(f-this.grid.container().height()),r.height(i-u))}},_initFC:function(){var t,r,e=this.grid._isMultiColumnGrid,s=this.options,u=this.grid.options.columns,o=u.length,f,i;if(this._isInitFC=!0,r=this.grid.element.data("igGridFeatureChooser"),r!==null&&r!==undefined&&this.renderInFeatureChooser&&s.showFixButtons)for(e&&(u=this.grid._oldCols,o=u.length),t=0;t<o;t++)(i=u[t].key,this._fcData[i]=!1,e&&u[t].level!==0)||(f=this._getColumnSettingByKey(i,t),f&&f.allowFixing===!1)||r._shouldRenderInFeatureChooser(i)===!0&&(r._renderInFeatureChooser(i,{name:"ColumnFixing",text:this._getLocaleValue("featureChooserTextUnfixedColumn"),textHide:this._getLocaleValue("featureChooserTextFixedColumn"),iconClass:this.css.featureChooserIconClassFixed,iconClassOff:this.css.featureChooserIconClassUnfixed,isSelected:f&&f.isFixed===!0,method:n.proxy(this._togglefromfc,this),updateOnClickAll:!1,order:3,groupName:"toggle",groupOrder:1,type:"toggle",state:"hide"}),this._fcData[i]=!0)},_togglefromfc:function(n,t){for(var u=this.grid.options.columns,e=u.length,r,f,i=0;i<e;i++)if(r=u[i],r.key===t){f=r.fixed===!0?this._unfixColumnInternal(t):this._fixColumnInternal(t);break}return f.error===undefined},_columnMap:function(){var n,t,o=this.grid._isMultiColumnGrid,u,i,r,f=[],e=this.grid.options.columns,s=e.length;if(this.options.showFixButtons===!1)return!1;for(n=0;n<s;n++){if(i=e[n].key,r={columnKey:i,enabled:!0},u=this._getColumnSettingByKey(i,n),u&&u.allowFixing===!1)r.enabled=!1;else if(o){for(t=0;t<this.grid._oldCols.length;t++)if(this.grid._oldCols[t].key===i)break;t===this.grid._oldCols.length&&(r.enabled=!1)}f.push(r)}return f},_cleanupTBody:function(){this.grid.hasFixedColumns()&&(this._containers&&this._containers.body||this._populateContainers(),this._containers.body.fixedTable.children("tbody").empty())},_renderRow:function(t,i,r){if(!this.grid.hasFixedColumns())return this._gridRenderRowHandler(t,i,r);var o,u,s,c,l,a,v,p=0,w=0,f,e=n(i),h=this.grid,y=h.options.columns,b=y.length,k=this.grid._isFixedElement(e);for(k?(c=e,l=h.element.find("tbody tr:nth-child("+(e.index()+1)+")")):(l=e,c=this.grid.fixedTable().find("tbody tr:nth-child("+(e.index()+1)+")")),a=c.find(">td:not([data-skip])"),v=l.find(">td:not([data-skip])"),o=0;o<b;o++)(u=y[o],u.hidden!==!0)&&(f=u.fixed===!0?a.eq(p++):v.eq(w++),u.template&&u.template.length?(s=h._renderTemplatedCell(t,u),s.indexOf("<td")===0?f.html(n(s).html()):f.html(s)):f.html(String(h._renderCell(t[u.key],u,t))));return i},_renderRecordsForTable:function(n,t){var i;this.grid.hasFixedColumns()&&(i=this._containers.body.fixedTable,i.length&&this._gridRenderRecordsForTableHandler.call(this.grid,n,t,i,i.children("tbody"),!0)),this._gridRenderRecordsForTableHandler.apply(this.grid,arguments),i&&this.options.syncRowHeights&&this._applySyncRowHeights!==!1&&this._syncHeightsForTables(i,this.grid.element)},_renderNewRow:function(n){var t=this.grid,i=this.grid.element.children("tbody"),r=i.children('[data-container!="true"]').length,u=t.options.virtualization===!0||t.options.rowVirtualization===!0;this._gridRenderNewRowHandler.apply(this.grid,arguments),u||t.hasFixedColumns()&&MSApp.execUnsafeLocalFunction(function(){t.fixedTable().children("tbody").append(t._renderRecord(n,r,!0))})},_removeCellPaddingForAllColumns:function(n){var t=this.grid;t._removeHeaderCellPadding(n?t.headersTable():t.fixedHeadersTable(),!0),t._removeCellPadding(n?t.element:t.fixedBodyContainer(),"tbody","td",!0),t._removeCellPadding(n?t.footersTable():t.fixedFootersTable(),"tfoot","td",!0)},_updateVScrollbarCellPaddingHelper:function(n,t){if(!this.grid.hasFixedColumns()){this._gridUpdatePaddingHandler(n,t);return}var i=this.grid,u=i.options,f,e,o,r=this.options.fixingDirection==="right",s=this._containers;if(u.height){if(!t){if(i._initialized&&this._removeCellPaddingForAllColumns(r),r&&(n-=s.body.fixedContainer.width()-s.body.fixedTable.width(),n<=0))return;u.showHeader&&(e=r?i.fixedHeadersTable():i.headersTable(),i._increaseLastHeaderCellVScrollbarPadding(e,n)),u.showFooter&&(f=r?i.fixedFootersTable():i.footersTable(),i._increaseLastCellVScrollbarPadding(f,"tfoot","td",n))}o=r?i.fixedTable():i.element,i._increaseLastCellVScrollbarPadding(o,"tbody","td",n)}},_syncHeightsForTables:function(n,t,i){var r,u,f;i=i||t.length&&t[0].style.height!=="",n.css("height",""),t.css("height",""),this.options.syncRowHeights&&this.syncRowsHeights(n.children("tbody").children("tr"),t.children("tbody").children("tr")),i&&(u=n.height(),f=t.height(),r=u>f?u:f,n.height(r),t.height(r))},_detachColumn:function(n){if(!this.grid.hasFixedColumns())return this._gridDetachColumnHandler(n);var r,u,f,t=this.grid,i,e;u=n.fixed,n.hidden=!1,t._visibleColumnsArray=undefined,r=t.getVisibleIndexByKey(n.key),n.hidden=!0,t._visibleColumnsArray=undefined,t._initializeDetachedContainers(),t._isMultiColumnGrid&&t._hideMultiHeaderCells(t._headerCells,n.key),i=u?t.fixedHeadersTable():t.headersTable(),f=t._isMultiColumnGrid?i.children("thead").children("tr:not([data-mch-level])").not("[data-skip=true]"):i.children("thead").children("tr").not("[data-skip=true]"),t._detachCells(f,function(n){return n.filter(":not([data-new-row],[data-add-row])").children("th, td").not("[data-skip=true]")},r,t._detachedHeaderCells,n.key),i=u?t.fixedFootersTable():t.footersTable(),e=i.children("tfoot").children("tr"),t._detachCells(e,function(n){return n.children("td").not("[data-skip=true]")},r,t._detachedFooterCells,n.key)},_attachColumn:function(n){if(!this.grid.hasFixedColumns()){this._gridAttachColumnHandler(n);return}var r,u,f=n.fixed,i,t=this.grid,e=t.getVisibleIndexByKey(n.key);t._initializeDetachedContainers(),t._isMultiColumnGrid&&t._showMultiHeaderCells(n.key),i=f?t.fixedHeadersTable():t.headersTable(),r=t._isMultiColumnGrid?i.children("thead").children("tr:not([data-mch-level])").not("[data-skip=true]"):i.children("thead").children("tr").not("[data-skip=true]"),t._attachCells(r,function(n){return n.children("th, td").not("[data-skip=true]")},e,t._detachedHeaderCells,n.key),i=f?t.fixedFootersTable():t.footersTable(),u=i.children("tfoot").children("tr"),t._attachCells(u,function(n){return n.children("td").not("[data-skip=true]")},e,t._detachedFooterCells,n.key)},_rerenderColgroups:function(){var t=this.grid,n=this._containers,i=t.hasFixedColumns();i&&(this._isVirtualGrid()?(n.body.fixedTable.children("colgroup").remove(),n.header.fixedTable.children("colgroup").remove(),n.footer.fixedTable.children("colgroup").remove()):t.fixedContainer().find("colgroup").remove()),this._gridRerenderColgroupsHandler.apply(this.grid,arguments)},_renderColgroup:function(n,t,i,r){var u=this.grid.hasFixedColumns();u&&this._gridRenderColgroupHandler(document.getElementById(n.id+"_fixed"),t,i,!1,{fixed:!0}),this._gridRenderColgroupHandler(n,t,i,r)},_resizeEl:function(n,t){var i=this._calcTblWidth(n,t);return n[0].style.width=i,i},_containerResized:function(n,t){if(this.grid.hasFixedColumns()){var i=this.grid,r,u=this._isVirtualGrid();this._containers&&this._containers.body||this._populateContainers(),n&&(t=-t||0,r=this._resizeEl(this._containers.body.fixedTable,t),i.options.fixedHeaders&&i.options.showHeader&&(r=this._resizeEl(this._containers.header.fixedTable,t)),i.options.fixedFooters&&i.options.showFooter&&(r=this._resizeEl(this._containers.footer.fixedTable,t)),u?(this._resizeEl(this._containers.body.fixedContainer,t),i.options.fixedHeaders&&i.options.showHeader&&(r=this._resizeEl(this._containers.header.fixedContainer,t)),i.options.fixedFooters&&i.options.showFooter&&(r=this._resizeEl(this._containers.footer.fixedContainer,t)),this._updateVirtualDOMWidth(t)):this._mainFixedCntnr[0].style.width=r,this._updateHScrollbarWidth(),this._updateGridWidth(),i._updateHScrollbarVisibility()),i._gridHasWidthInPercent()&&this._setMinWidthForGridContainer(),this.options.syncRowHeights&&this.checkAndSyncHeights()}},_checkGridSupportedFeatures:function(){var f=this;if(this.grid.options._isHierarchicalGrid)throw new Error(this._getLocaleValue("hierarchicalGridNotSupported"));var r,i,t=this.grid.options,e=t.columns,u=t.defaultColumnWidth,o=t.features,s=o.length;if(t.width===null||t.width==="")throw new Error(this._getLocaleValue("noGridWidthNotSupported"));if(u&&n.type(u)==="string"&&u.indexOf("%")>0)throw new Error(this._getLocaleValue("defaultColumnWidthInPercentageNotSupported"));if(n.each(e,function(t,i){var r=i.width;if(!r&&!u||n.type(r)==="string"&&r.indexOf("%")>0)throw new Error(f._getLocaleValue("columnsWidthShouldBeSetInPixels").replace("{key}",i.key));}),n.each(e,function(n,t){if(t.unbound)throw new Error(f._getLocaleValue("unboundColumnsNotSupported"));}),t.columnVirtualization===!0)throw new Error(this._getLocaleValue("columnVirtualizationNotSupported"));if(t.width===null||t.width==="")throw new Error(this._getLocaleValue("noGridWidthNotSupported"));if(t.virtualization&&t.virtualizationMode!=="continuous")throw new Error(this._getLocaleValue("virtualizationNotSupported"));if(s!==1)for(r=0;r<s;r++)if(i=o[r].name,i){i=i.toLowerCase();switch(i){case"groupby":throw new Error(this._getLocaleValue("groupByNotSupported"));case"responsive":throw new Error(this._getLocaleValue("responsiveNotSupported"));}}},_updateWidthsOnHiding:function(t,i){var u,f,e,r,o,s,h;this._populateContainers(),u=i?this._containers.body.fixedTable:this._containers.body.unfixedTable,o=i?this._containers.body.fixedContainer:this._containers.body.unfixedContainer,this._containers.header&&(f=i?this._containers.header.fixedTable:this._containers.header.unfixedTable,s=i?this._containers.header.fixedContainer:this._containers.header.unfixedContainer),this._containers.footer&&(e=i?this._containers.footer.fixedTable:this._containers.footer.unfixedTable,h=i?this._containers.footer.fixedContainer:this._containers.footer.unfixedContainer),r=function(t,i){if(i&&i.length){var r=i[0].style.width;(n.type(r)!=="string"||r.indexOf("%")===-1&&r!=="")&&(r=parseInt(i[0].style.width,10),isNaN(r)&&(r=i.outerWidth()),r+=t,i[0].style.width=r+"px")}},r(t,u),r(t,f),r(t,e),i&&this._mainFixedCntnr&&this._mainFixedCntnr.css("width",parseFloat(this._mainFixedCntnr[0].style.width)+t+"px"),this._isVirtualGrid()&&(i&&(this._updateFixedColgroupVirt(t),this.grid._gridHasWidthInPercent()||(r(-t,this._containers.body.unfixedContainer),this.grid.options.showHeader&&r(-t,this._containers.header.unfixedContainer),this.grid.options.showFooter&&r(-t,this._containers.footer.unfixedContainer)),this._updateHScrollbarWidthVirt()),r(t,o),r(t,s),r(t,h))},_hidingFinishing:function(n){if(this.grid.hasFixedColumns()){for(var f=this.grid,u=n.columns,i,r,t=0;t<u.length;t++)r=u[t],r.fixed&&(i=parseInt(r.width,10),this._updateWidthsOnHiding(n.hidden?-i:i,!0));this._populateContainers(),f._columnMovingResets()}},_hidingFinished:function(n){if(this.grid.hasFixedColumns()){var i,r=this._isVirtualGrid(),t=this._containers;this._populateContainers(),r&&(this._recalcTableWidths(),this.options.fixingDirection==="right"&&this._adjustVirtWidthOnFixingRight(!1)),this.options.syncRowHeights&&(n.hidden||(i=t.body.fixedTable.children("tbody").find(">tr"),i=i.add(t.body.unfixedTable.children("tbody").find(">tr")),i.each(function(n,t){t.style.height=""})),r&&!this._isContinuousVirtualization()?this.options.syncRowHeights&&this.syncRowsHeights(this.grid.fixedTable().children("tbody").children("tr"),this.grid.element.children("tbody").children("tr")):this._syncHeightsForTables(this.grid.fixedTable(),this.grid.element),this.grid.options.showFooter&&t.footer&&this.syncRowsHeights(t.footer.fixedTable.children("tfoot").children("tr"),t.footer.unfixedTable.children("tfoot").children("tr"))),this.grid._gridHasWidthInPercent()&&this._setMinWidthForGridContainer(),this._applySyncRowHeights=!0}},_syncRowsOnAddEdit:function(n){if(this.options.syncRowHeights&&this.grid.hasFixedColumns()){var i,t=this._containers,r=this.grid.rowById(n,!0),u=this.grid.rowById(n);r&&u&&(t&&t.body||this._populateContainers(),i=t.body.fixedTable.height(),t.body.fixedTable.height(""),t.body.unfixedTable.height(""),r.height(""),u.height(""),this.syncRowsHeights(r,u),t.body.fixedTable.height(i),t.body.unfixedTable.height(i),this.checkAndSyncHeights())}},_internalRowDeleted:function(){if(this.options.syncRowHeights&&this.grid.hasFixedColumns()){var n=this._containers;n&&n.body||this._populateContainers(),this._isVirtualGrid()||(n.body.fixedTable.height(""),n.body.unfixedTable.height("")),this.checkAndSyncHeights()}},_internalRowAdded:function(n){this.grid.hasFixedColumns()&&this._syncRowsOnAddEdit(n.row.attr("data-id"))},_internalCellUpdated:function(n){this.grid.hasFixedColumns()&&this._syncRowsOnAddEdit(n.rowID)},_internalRowUpdated:function(n){this.grid.hasFixedColumns()&&this._syncRowsOnAddEdit(n.rowID)},_removeRowsHeights:function(n,t){for(var r=n.length,i=0;i<r;i++)n[i].style.height="",t&&n[i].removeAttribute("height")},_virtualrecordsrender:function(){var s=this.grid,h,r,i,t,e,o,u,f,c=this._isContinuousVirtualization();if(s.hasFixedColumns()&&this.options.syncRowHeights){if(i=this._containers.body.fixedTable,t=this._containers.body.unfixedTable,r=t[0].style.height,i.height(""),t.height(""),c){this._checkSyncTablesHeights(),n.ig.util.isIE||(e=this._scrollContainers.fCntnr,o=this._scrollContainers.ufCntnr,e.scrollTop(o.scrollTop()));return}h=function(n){for(var i=n.length,t=0;t<i;t++)n[t].style.height=""},f=t.children("tbody").children("tr"),u=i.children("tbody").children("tr"),this._removeRowsHeights(f),this._removeRowsHeights(u),this.syncRowsHeights(f,u),i.height(r),t.height(r)}},_setFixingStateByCol:function(n,t){var i,r;if(n.fixed=t,n.group)for(r=n.group.length,i=0;i<r;i++)this._setFixingStateByCol(n.group[i],t)},_unregisterSetOptionCallback:function(){for(var i=this.grid._setOptionCallbacks,r=i.length,t=0;t<r;t++)if(i[t].type==="ColumnFixing"){n.ig.removeFromArray(i,t);break}},_registerSetOptionCallback:function(){for(var i=this.grid._setOptionCallbacks,r=i.length,t=0;t<r;t++)if(i[t].type==="ColumnFixing")break;t===r&&i.push({type:"ColumnFixing",func:n.proxy(this._gridSetOption,this)})},_updateHScrollbarTblWidthsInFixedVirtRight:function(){var n,t;t=this.grid._getHScrollContainerInner(),n=t.parent(),this.grid._gridHasWidthInPercent||n.width(this._containers.body.unfixedContainer.width()),t.width(this._containers.body.unfixedTable.width()),n.css("overflow-y","hidden"),this._containers.header&&(this._containers.header.unfixedTable.css("width",""),this._containers.header.unfixedTable.css("width",this._calcTblWidth(this._containers.header.unfixedTable,0))),this._containers.footer&&(this._containers.footer.unfixedTable.css("width",""),this._containers.footer.unfixedTable.css("width",this._calcTblWidth(this._containers.footer.unfixedTable,0))),this._updateGridWidth(),this.grid._updateHScrollbarVisibility()},_rollbackApplied:function(){this._containers&&this._containers.body||this._populateContainers(),this._containers.body.fixedTable.height(""),this._containers.body.unfixedTable.height(""),this.options.syncRowHeights&&this.checkAndSyncHeights()},_gridRendered:function(){this.options.fixingDirection==="right"&&this._isVirtualGrid()&&this.grid.hasFixedColumns()&&this._updateHScrollbarTblWidthsInFixedVirtRight()},_injectGrid:function(t,i){(this.grid=t,i!==!0)&&(this.grid._fixedColumns=this.grid._fixedColumns||[],this.grid._fixingDirection=this.options.fixingDirection,this._checkGridSupportedFeatures(),this._registerSetOptionCallback(),this._detachEvents(),this._headerCellRenderedHandler=n.proxy(this._headerCellRendered,this),this.grid.element.bind("iggridheadercellrendered",this._headerCellRenderedHandler),this._headerRenderedHandler=n.proxy(this._headerRendered,this),this.grid.element.bind("iggridheaderrendered",this._headerRenderedHandler),this._headerRenderingHandler=n.proxy(this._headerRendering,this),this.grid.element.bind("iggridheaderrendering",this._headerRenderingHandler),this._columnsMovedHandler=n.proxy(this._columnsMoved,this),this.grid.element.bind("iggrid_columnsmoved",this._columnsMovedHandler),this._isVirtualGrid()&&this.options.syncRowHeights&&(this._virtualrecordsrenderHandler=n.proxy(this._virtualrecordsrender,this),this.grid.element.bind("iggridvirtualrecordsrender",this._virtualrecordsrenderHandler)),this._gridContainerHeightHandler=n.proxy(this._heightChanged,this),this.grid.element.bind("iggrid_heightchanged",this._gridContainerHeightHandler),this._gridHeightChangingHandler=n.proxy(this._gridHeightChanging,this),this.grid.element.bind("iggrid_heightchanging",this._gridHeightChangingHandler),this._gridContainersRenderedHandler=n.proxy(this._gridContainersRendered,this),this.grid.element.bind("iggrid_gridcontainersrendered",this._gridContainersRenderedHandler),(this.grid._columns===undefined||this.grid._columns===null)&&(this.grid._columns=this.grid.options.columns.clone()),this.grid._fixedColumns===undefined&&(this.grid._fixedColumns=[]),this.grid.options.height===null&&n.ig.util.isIE&&n.ig.util.browserVersion>=9&&(this._dataRenderingHandler=n.proxy(this._dataRendering,this),this.grid.element.bind("iggriddatarendering",this._dataRenderingHandler)),this._dataRenderedHandler=n.proxy(this._dataRendered,this),this.grid.element.bind("iggriddatarendered",this._dataRenderedHandler),this._lastColumnWidthAutoAdjustedHandler=n.proxy(this._lastColumnWidthAutoAdjusted,this),this.grid.element.bind("iggrid_lastcolumnwidthautoadjusted",this._lastColumnWidthAutoAdjustedHandler),this._gridColCollectionModified=n.proxy(this._colCollectionModified,this),this.grid.element.bind("iggridcolumnscollectionmodified",this._gridColCollectionModified),this._isFunctionsOverriden||(this.grid._visibleAreaWidth(this.options.minimalVisibleAreaWidth),this._gridRenderRowHandler=n.proxy(this.grid._renderRow,this.grid),this._renderRowHandler=n.proxy(this._renderRow,this),this.grid._renderRow=this._renderRowHandler,this._gridRenderRecordsForTableHandler=n.proxy(this.grid._renderRecordsForTable,this.grid),this._renderRecordsForTableHandler=n.proxy(this._renderRecordsForTable,this),this.grid._renderRecordsForTable=this._renderRecordsForTableHandler,this._gridRenderNewRowHandler=n.proxy(this.grid.renderNewRow,this.grid),this._renderNewRowHandler=n.proxy(this._renderNewRow,this),this.grid.renderNewRow=this._renderNewRowHandler,this._gridDetachColumnHandler=n.proxy(this.grid._detachColumn,this.grid),this._detachColumnHandler=n.proxy(this._detachColumn,this),this.grid._detachColumn=this._detachColumnHandler,this._gridAttachColumnHandler=n.proxy(this.grid._attachColumn,this.grid),this._attachColumnHandler=n.proxy(this._attachColumn,this),this.grid._attachColumn=this._attachColumnHandler,this._gridRerenderColgroupsHandler=n.proxy(this.grid._rerenderColgroups,this.grid),this._rerenderColgroupsHndlr=n.proxy(this._rerenderColgroups,this),this.grid._rerenderColgroups=this._rerenderColgroupsHndlr,this._gridRenderColgroupHandler=n.proxy(this.grid._renderColgroup,this.grid),this._renderColgroupHandler=n.proxy(this._renderColgroup,this),this.grid._renderColgroup=this._renderColgroupHandler,this._gridUpdatePaddingHandler=n.proxy(this.grid._updateVScrollbarCellPaddingHelper,this.grid),this._updateVScrollbarCellPaddingHelperHandler=n.proxy(this._updateVScrollbarCellPaddingHelper,this),this.grid._updateVScrollbarCellPaddingHelper=this._updateVScrollbarCellPaddingHelperHandler,this._isFunctionsOverriden=!0))}}),n.extend(n.ui.igGridColumnFixing,{version:"19.2.25"})}(n),function(n){"use strict";n.widget("ui.igGridColumnMoving",n.ui.igWidget,{localeWidgetName:"ColumnMoving",renderInFeatureChooser:!0,options:{columnSettings:[{columnKey:null,columnIndex:null,allowMoving:!0}],mode:"immediate",moveType:"dom",addMovingDropdown:!0,movingDialogWidth:400,movingDialogHeight:"",movingDialogAnimationDuration:200,movingAcceptanceTolerance:20,movingScrollTolerance:20,scrollSpeedMultiplier:2,scrollDelta:2,hideHeaderContentsDuringDrag:!0,dragHelperOpacity:1,movingDialogCaptionButtonDesc:undefined,movingDialogCaptionButtonAsc:undefined,movingDialogCaptionText:undefined,movingDialogDisplayText:undefined,movingDialogDropTooltipText:undefined,dropDownMoveLeftText:undefined,dropDownMoveRightText:undefined,dropDownMoveFirstText:undefined,dropDownMoveLastText:undefined,movingToolTipMove:undefined,featureChooserSubmenuText:undefined,locale:{movingDialogButtonApplyText:undefined,movingDialogButtonCancelText:undefined,movingDialogCaptionButtonDesc:undefined,movingDialogCaptionButtonAsc:undefined,movingDialogCaptionText:undefined,movingDialogDisplayText:undefined,movingDialogDropTooltipText:undefined,movingDialogCloseButtonTitle:undefined,dropDownMoveLeftText:undefined,dropDownMoveRightText:undefined,dropDownMoveFirstText:undefined,dropDownMoveLastText:undefined,movingToolTipMove:undefined,featureChooserSubmenuText:undefined},movingDialogDropTooltipMarkup:"<div><p><span><\/span><strong>{text}<\/strong><\/p><\/div>",columnMovingDialogContainment:"owner",dialogWidget:"igGridModalDialog",inherit:!1},css:{headerCellMouseOver:"ui-state-hover",dropDownButton:"ui-iggrid-moving-indicator",dropDownIndicatorContainer:"ui-iggrid-indicatorcontainer",dragIndicatorTop:"ui-iggrid-columnmoving-dragtop ui-icon ui-icon-triangle-1-s",dragIndicatorBottom:"ui-iggrid-columnmoving-dragbottom ui-icon ui-icon-triangle-1-n",dragIndicatorLeft:"ui-iggrid-columnmoving-dragleft",dragIndicatorRight:"ui-iggrid-columnmoving-dragright",dropDownIconContainer:"ui-iggrid-columnmovingiconcontainer",featureChooserMovingDialogIcon:"ui-icon ui-iggrid-icon-move",featureChooserLeftIcon:"ui-iggrid-featurechooser-li-iconcontainer ui-icon ui-iggrid-icon-left",featureChooserRightIcon:"ui-iggrid-featurechooser-li-iconcontainer ui-icon ui-iggrid-icon-right",featureChooserFirstIcon:"ui-iggrid-featurechooser-li-iconcontainer ui-icon ui-iggrid-icon-first",featureChooserLastIcon:"ui-iggrid-featurechooser-li-iconcontainer ui-icon ui-iggrid-icon-last",featureChooserSubmenu:"ui-iggrid-featurechooser-list-submenu ui-menu ui-widget ui-widget-content ui-corner-all",featureChooserSubmenuItem:"ui-iggrid-featurechooser-list-submenu-item ui-state-default",featureChooserSubmenuItemMouserOver:"ui-state-hover",columnMovingDropDown:"ui-iggrid-columnmoving-dropdown-dialog ui-widget ui-widget-content ui-corner-all",columnMovingDropDownList:"ui-iggrid-columnmoving-dropdown-list ui-menu",columnMovingDropDownItem:"ui-iggrid-columnmoving-dropdown-ddlistitemicons ui-state-default",columnMovingDropDownItemHover:"ui-iggrid-columnmoving-dropdown-listitem-hover ui-state-active ui-state-hover",columnMovingDropDownItemText:"ui-iggrid-columnmoving-dropdown-ddlistitemtext",columnMovingIndicatorSelected:"ui-iggrid-hiding-indicator-selected",movingDialogItemList:"ui-iggrid-moving-dialog-columns",movingDialogListItem:"ui-widget-content",movingDialogListItemArrowUp:"ui-icon-arrowthick-1-n ui-button-icon-primary ui-icon",movingDialogListItemArrowDown:"ui-icon-arrowthick-1-s ui-button-icon-primary ui-icon",movingDialogListItemArrowButton:"ui-button ui-corner-all ui-button-icon-only ig-sorting-indicator",movingDialogListItemText:"ui-iggrid-dialog-text",movingDialogCloseButton:"ui-icon ui-icon-close"},events:{columnDragStart:"columnDragStart",columnDragEnd:"columnDragEnd",columnDragCanceled:"columnDragCanceled",columnMoving:"columnMoving",columnMoved:"columnMoved",movingDialogOpening:"movingDialogOpening",movingDialogOpened:"movingDialogOpened",movingDialogDragged:"movingDialogDragged",movingDialogClosing:"movingDialogClosing",movingDialogClosed:"movingDialogClosed",movingDialogContentsRendering:"movingDialogContentsRendering",movingDialogContentsRendered:"movingDialogContentsRendered",movingDialogMoveUpButtonPressed:"movingDialogMoveUpButtonPressed",movingDialogMoveDownButtonPressed:"movingDialogMoveDownButtonPressed",movingDialogDragColumnMoving:"movingDialogDragColumnMoving",movingDialogDragColumnMoved:"movingDialogDragColumnMoved"},_createWidget:function(){this.options.columnSettings=[],n.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){this._cache={},this._cKey="",this._cIdx=-1,this._tKey="",this._tIdx=-1,this._oTh=null,this._cmib=null,this._cmit=null,this._movingDialog=null,this._groupBy=null,this._ddButtons={first:{text:this._getLocaleValue("dropDownMoveFirstText"),optionName:"dropDownMoveFirstText",func:n.proxy(this._moveFirst,this),icon:this.css.featureChooserFirstIcon},left:{text:this._getLocaleValue("dropDownMoveLeftText"),optionName:"dropDownMoveLeftText",func:n.proxy(this._moveLeft,this),icon:this.css.featureChooserLeftIcon},right:{text:this._getLocaleValue("dropDownMoveRightText"),optionName:"dropDownMoveRightText",func:n.proxy(this._moveRight,this),icon:this.css.featureChooserRightIcon},last:{text:this._getLocaleValue("dropDownMoveLastText"),optionName:"dropDownMoveLastText",func:n.proxy(this._moveLast,this),icon:this.css.featureChooserLastIcon}},this._hscroller=null,this._scroller={on:!1,delay:-1},this.options.mode!=="immediate"&&this.options.mode!=="deferred"&&(this.options.mode="immediate"),this.options.mode==="immediate"&&this.options.moveType==="render"&&(this.options.moveType="dom"),this.options.addMovingDropdown===!1&&(this.renderInFeatureChooser=!1)},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},_changeLocaleForMovingDialog:function(){var t=this._movingDialog;t&&(t[this.options.dialogWidget]("option",{locale:{modalDialogCaptionText:this._getLocaleValue("movingDialogCaptionText")}}),n("#"+this.grid.id()+"_moving_movingDialog_closeButton").igButton("option","title",this._getLocaleValue("movingDialogCloseButtonTitle")),n.ui.igWidget.prototype.changeLocale.call(this,n("#"+this.grid.id()+"_dialog_tree")))},_changeLocaleForFeatureChooser:function(){var t,i=this.grid.options.columns,u=this.grid.id(),r=this.grid.element.data("igGridFeatureChooser");if(this.grid.container().find("th[data-moving-dd-indicator]").remove(),this.renderInFeatureChooser&&r)for(r._removeFeature("ColumnMovingDropDown",!0),t=0;t<i.length;t++)this._renderFeatureChooser(i[t].key,n("#"+u+"_"+i[t].key))},_changeLocaleForMovingDropdown:function(){var t=n("#"+this.grid.id()+"_moving_dd_button"),i=this.grid.container().find("[data-moving-inddropdown='"+this.grid.id()+"']");i.length&&(n.ui.igWidget.prototype.changeLocale.call(this,i),t.length&&t.igButton("option","labelText",this._getLocaleValue("movingDialogCaptionText")))},changeLocale:function(){this._changeLocaleForMovingDialog(),this._changeLocaleForFeatureChooser(),this._changeLocaleForMovingDropdown()},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(n){if(n==="mode"||n==="columnSettings"||n==="addMovingDropdown")throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",n));this._superApply(arguments)},destroy:function(){return this.grid.moveColumn=this._gridMoveColumn,this._unregisterEvents(),this._removeMoving(),this._superApply(arguments),this},moveColumn:function(n,t,i,r,u){this._moveColumn(n,t,i,r,!0,u)},_headerCellRendered:function(n,t){this.grid.id()===t.owner.id()&&this._thRendered(t.th)},_headerRendering:function(){for(var n=0;n<this.grid.options.features.length;n++)if(this.grid.options.features[n].name==="GroupBy"){this._groupBy=this.grid.element.data("igGridGroupBy");break}},_headerRendered:function(n,t){this.grid.id()===t.owner.id()&&this._thsRendered(t.table)},_gridFullyRendered:function(){this.grid.scrollContainer().bind("scroll",this._containerScrolledHandler),this._updateLayout()},_containerScrolled:function(n,t,i){var u,r,f;for(this._autoScrolled||this.options.mode==="deferred"&&this._adjustIndicators(n.originalEvent.detail,i),u=this.grid.element.find(".ui-iggrid-table"),r=0;r<u.length;r++)f=u.eq(r).data("igGridColumnMoving"),f&&f._containerScrolled(n,t,!0)},_fixedColumnsChanged:function(){this._updateLayout()},_headerPicked:function(t,i){var r=n(t.target).closest("th"),f=this._getIdOfTh(r),u=!0;return i={columnKey:f,columnIndex:r.index(),owner:this,header:r,helper:i.helper},u=this._trigger(this.events.columnDragStart,t,i),u&&(this.grid._focusedElement&&this.grid._focusedElement.blur(),this._thPicked(r,f)),u},_headerDragged:function(n,t){var i;if(this._oPos){if(this._oPos.left===t.position.left)return;i=this._oPos.left>t.position.left}else i=t.originalPosition.left>t.position.left;this._oPos={left:t.position.left},this.options.mode==="deferred"?this._thDragedDeferred(t.helper,t.offset,i):this._thDragged(t.helper,t.offset,i)&&(t.originalPosition.left=t.position.left)},_headerDropped:function(t,i){var r=n(t.target).closest("th"),f=this._getIdOfTh(r),u=!0;return i={columnKey:f,columnIndex:r.index(),owner:this,header:r,helper:i.helper},u=this._trigger(this.events.columnDragEnd,t,i),u?this._thDropped():this._trigger(this.events.columnDragCanceled,t,i),u},_dialogUpPressed:function(t){var o=n(t.target),r=o.closest("li"),f=r.parent(),i=r.index(),h=i===0?r.parent().children().last().attr("data-value"):r.prev().attr("data-value"),c=i===0?!0:!1,e=o.closest("span").attr("datakey"),u,s;if(u={owner:this,movingDialog:this._movingDialog,columnKey:e,columnIndex:i,targetIndex:i===0?f.children().length-1:i-1},this._cKey=e,this._cIdx=u.columnIndex,this._tIdx=u.targetIndex,this._cIdx!==this._tIdx){if(s=this._moveColumn(e,h,c,this.options.moveType==="dom",!1),!s)return!1;i===0?r.detach().insertAfter(f.children("li:last")):r.detach().insertBefore(f.children("li:eq("+(i-1)+")")),this._trigger(this.events.movingDialogMoveUpButtonPressed,t,u)}},_dialogDownPressed:function(t){var o=n(t.target),i=o.closest("li"),f=i.parent(),r=i.index(),h=r===i.siblings().length?i.parent().children().first().attr("data-value"):i.next().attr("data-value"),c=r===i.siblings().length?!1:!0,e=o.closest("span").attr("datakey"),u,s;if(u={owner:this,movingDialog:this._movingDialog,columnKey:e,columnIndex:r,targetIndex:r===f.children().length-1?0:r+1},this._cKey=e,this._cIdx=u.columnIndex,this._tIdx=u.targetIndex,this._cIdx!==this._tIdx){if(s=this._moveColumn(e,h,c,this.options.moveType==="dom",!1),!s)return!1;r===i.parent().children().length-1?i.detach().insertBefore(f.children("li:first")):i.detach().insertAfter(f.children("li:eq("+r+")")),this._trigger(this.events.movingDialogMoveDownButtonPressed,t,u)}},_dialogRearranging:function(t,i){var s,u,h,c=n(i.draggable),l=n(i.element),f=c.attr("data-value"),a=l.attr("data-value"),e=n(i.element).closest("ul[data-depth=0]").data("igTree")._validationObject.dropAfter,o=c.index(),r=l.index();return(r=r>o?e?r:r-1:e?r+1:r,u={owner:this,movingDialog:this._movingDialog,columnKey:f,columnIndex:o,targetIndex:r},o===r)?!1:(s=this._trigger(this.events.movingDialogDragColumnMoving,t,u),s)?(this._cKey=f,this._cIdx=u.columnIndex,this._tIdx=u.targetIndex,h=this._moveColumn(f,a,e,this.options.moveType==="dom",!1),!h)?!1:(u.movingDialog.find("div.ui-state-highlight").remove(),this._trigger(this.events.movingDialogDragColumnMoved,t,u),!0):!1},_dialogRearranged:function(n,t){this._bindUpDownDialogButtons(t.element.parent())},_dialogDragged:function(n,t){this._trigger(this.events.movingDialogDragged,null,{movingDialogElement:n.target,owner:this,originalPosition:t.originalPosition,position:t.position})},_dialogOpening:function(n,t){var i;return i=this._trigger(this.events.movingDialogOpening,null,{movingDialogElement:n.target,owner:this}),i&&(this._renderMovingDialogContent(n,t),this._trigger(this.events.movingDialogOpened,null,{movingDialogElement:n.target,owner:this})),i},_dialogClosing:function(n){return this._trigger(this.events.movingDialogClosing,null,{movingDialogElement:n.target,owner:this})},_dialogClosed:function(n){this._trigger(this.events.movingDialogClosed,null,{movingDialogElement:n.target,owner:this})},_dropDownMouseDown:function(t){var i=n(t.target);this._toggleDropDown(i,n("div[data-moving-inddropdown='"+this.grid.id()+"']")),this._cancelEvent(t)},_dropDownKeyDown:function(t){var i,u,f,r=n("div[data-moving-inddropdown='"+this.grid.id()+"']");t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE?(i=r.find("ul .ui-state-hover:first"),r.is(":visible")&&i.length>0&&i.trigger("mousedown"),this._toggleDropDown(n(t.target),r,!1),this._cancelEvent(t)):t.keyCode===n.ui.keyCode.ESCAPE?(this._toggleDropDown(n(t.target),r,!1),this._cancelEvent(t)):(t.keyCode===n.ui.keyCode.DOWN||t.keyCode===n.ui.keyCode.UP)&&(r.is(":visible")&&(i=r.find("ul .ui-state-hover:first").closest("li"),u=i.length===0?r.find("ul li:eq(0)"):i.index()===0&&t.keyCode===n.ui.keyCode.UP?i.parent().children(":last"):t.keyCode===n.ui.keyCode.DOWN?i.next():i.prev(),r.find("ul .ui-state-hover").removeClass(this.css.columnMovingDropDownItemHover),f=u.find("[role='button']"),f.length>0&&(u=f),u.addClass(this.css.columnMovingDropDownItemHover)),this._cancelEvent(t))},_dropDownButtonMouseOver:function(t){n(t.currentTarget).addClass(this.css.columnMovingDropDownItemHover)},_dropDownButtonMouseOut:function(t){n(t.currentTarget).removeClass(this.css.columnMovingDropDownItemHover)},_moveLeft:function(n,t){for(var r=this._getAllSiblings(t),u,f,i=0;i<r.length;i++)if(u=r[i].key||r[i].identifier,u===t){i>0&&(this._cKey=t,this._cIdx=i,this._tIdx=i-1,f=r[i-1].key||r[i-1].identifier,this._moveColumn(u,f,!1,this.options.moveType==="dom",!1));break}},_moveRight:function(n,t){for(var r=this._getAllSiblings(t),u,f,i=0;i<r.length;i++)if(u=r[i].key||r[i].identifier,u===t){i<r.length-1&&(this._cKey=t,this._cIdx=i,this._tIdx=i+1,f=r[i+1].key||r[i+1].identifier,this._moveColumn(u,f,!0,this.options.moveType==="dom",!1));break}},_moveFirst:function(n,t){for(var r=this._getAllSiblings(t),u,f,i=0;i<r.length;i++)if(u=r[i].key||r[i].identifier,u===t){i!==0&&(this._cKey=t,this._cIdx=i,this._tIdx=0,f=r[0].key||r[0].identifier,this._moveColumn(u,f,!1,this.options.moveType==="dom",!1));break}},_moveLast:function(n,t){for(var i=this._getAllSiblings(t),u,f,r=0;r<i.length;r++)if(u=i[r].key||i[r].identifier,u===t){r!==i.length-1&&(this._cKey=t,this._cIdx=r,this._tIdx=i.length-1,f=i[i.length-1].key||i[i.length-1].identifier,this._moveColumn(u,f,!0,this.options.moveType==="dom",!1));break}},_headerMouseOver:function(t){n(t.target).closest("th").addClass(this.css.headerCellMouseOver)},_headerMouseOut:function(t){n(t.target).closest("th").removeClass(this.css.headerCellMouseOver)},_renderHelpers:function(){var t=this.grid._rootContainer().children("[id$='_moving_indicator_bottom']"),i=this.grid._rootContainer().children("[id$='_moving_indicator_top']");t.length>0&&i.length>0?(this._cmib=t,this._cmib.data("users",this._cmib.data("users")+1),this._cmit=i,this._cmit.data("users",this._cmit.data("users")+1)):(this._cmib=n("<div>&nbsp;<\/div>").attr("id",this.grid.id()+"_moving_indicator_bottom").addClass(this.css.dragIndicatorBottom).css({position:"absolute","z-index":"1000000",width:"16px",height:"16px",display:"none"}).appendTo(this.grid._rootContainer()),this._cmit=n("<div>&nbsp;<\/div>").attr("id",this.grid.id()+"_moving_indicator_top").addClass(this.css.dragIndicatorTop).css({position:"absolute","z-index":"1000000",width:"16px",height:"16px",display:"none"}).appendTo(this.grid._rootContainer()))},_renderFeatureChooser:function(n,t){var i=this.grid.element.data("igGridFeatureChooser");i&&this.renderInFeatureChooser&&(i._shouldRenderInFeatureChooser(n)===!0?this._addMoveButtonsInFeatureChooser(i,n):(this._renderMovingDropDownIndicator(t,n),this.grid._enableHeaderCellFeature(t)))},_renderMovingDropDownIndicator:function(t,i){var f,u,r,e=this;f=n("<span><\/span>").addClass(this.css.dropDownButton),t.attr("th-remove-focus",""),u=n("<a><\/a>").attr({href:"#","data-moving-dd-indicator":!0,"data-localeid":"movingToolTipMove","data-localeattr":"title",title:this._getLocaleValue("movingToolTipMove"),id:this.grid.id()+"_moving_headerButton_"+i}).bind({keydown:this._dropDownKeyHandler,blur:function(t){e._toggleDropDown(n(t.target),n("div[data-moving-inddropdown='"+e.grid.id()+"']"),!0)},mousedown:this._dropDownButtonHandler,mouseup:this._cancelEventHandler,click:this._cancelEventHandler}),r=t.find(".ui-iggrid-indicatorcontainer"),r=r.length?r:n("<div><\/div>").addClass(this.css.dropDownIndicatorContainer).appendTo(t),f.appendTo(u),u.appendTo(r),this._needToRenderDropDown=!0},_renderMovingDialogContent:function(){var t=this._movingDialog[this.options.dialogWidget]("getContent"),i=this._movingDialog,n=t.find("#"+this.grid.id()+"_dialog_tree"),r;r=this._trigger(this.events.movingDialogContentsRendering,null,{movingDialogElement:i,owner:this}),r&&(n.length>0?n.igTree("option","dataSource",this._getClonedDataSource(this.grid._visibleMchColumns()||this.grid._visibleColumns())):n=this._initializeTree(t),this._bindUpDownDialogButtons(n),this._trigger(this.events.movingDialogContentsRendered,null,{movingDialogElement:i,owner:this}))},_initializeTree:function(t){var i=this,r=i.options.movingDialogDropTooltipMarkup.replace("{text}",this._getLocaleValue("movingDialogDropTooltipText"));return n("<ul id='"+this.grid.id()+"_dialog_tree'><\/ul>").appendTo(t).igTree({dataSourceType:"json",pathSeparator:"/",dataSource:this._getClonedDataSource(this.grid._visibleMchColumns()||this.grid._visibleColumns()),bindings:{primaryKey:"key",textKey:"headerText",valueKey:"key",childDataProperty:"group",nodeContentTemplate:this._getTreeTemplate()},dragAndDrop:!0,dragAndDropSettings:{dragAndDropMode:"move",revert:!0,zIndex:1000001,moveBetweenMarkup:r,customDropValidation:function(t){var r=n(this),u=n(t);return i._isColumnMovable(u.attr("data-value"))&&r.is("li")&&r.parent()[0]===u.parent()[0]?!0:!1},containment:!1},nodeDropping:this._dialogRearrangingHandler,nodeDropped:this._dialogRearrangedHandler,selectionChanging:function(){return!1}})},_getClonedDataSource:function(t){return n.extend(!0,[],t,this._cloneMovable(t))},_cloneMovable:function(t){var r=this,u=[],i=0;return n.each(t,function(){this.group?u.push({movable:r._isColumnMovable(this.key,i++),group:r._cloneMovable(this.group),key:this.key||this.identifier||i}):u.push({movable:r._isColumnMovable(this.key,i++),key:this.key||i})}),u},_getTreeTemplate:function(){var n="",r,u,t,i;return i="<span>${headerText}<\/span>",t="<span class='"+this.css.movingDialogListItemArrowButton+"'>",r=t+"<span id='"+this.grid.id()+"_moving_dialog_${key}_up' title='"+this._getLocaleValue("movingDialogCaptionButtonAsc")+"' role='button' datakey='${key}' class='"+this.css.movingDialogListItemArrowUp+"' style='margin-top:-10px;' data-localeattr='title' data-localeid='movingDialogCaptionButtonAsc'><\/span><\/span>",u=t+"<span id='"+this.grid.id()+"_moving_dialog_${key}_down' title='"+this._getLocaleValue("movingDialogCaptionButtonDesc")+"' role='button' datakey='${key}' class='"+this.css.movingDialogListItemArrowDown+"' style='margin-top:-10px;' data-localeattr='title' data-localeid='movingDialogCaptionButtonDesc'><\/span><\/span>",t+="<\/span>",n+="{{if ${movable} }}",n+=r+u+i,n+="{{else}}",n+=t+t+i,n+="{{/if}}"},_renderMovingDialog:function(){var i,r=this.options,u,f,t;i=this.options.columnMovingDialogContainment==="owner"?this.grid.container():"window",t=n("<div><\/div>").appendTo(this.grid._rootContainer()).attr("id",this.grid.id()+"_moving_movingDialog"),this._movingDialog=t,t[this.options.dialogWidget]({containment:i,renderFooterButtons:!1,locale:{modalDialogCaptionText:this._getLocaleValue("movingDialogCaptionText")},modalDialogWidth:r.movingDialogWidth,modalDialogHeight:r.movingDialogHeight,animationDuration:r.movingDialogAnimationDuration,gridContainer:this.grid.container(),modalDialogOpening:this._dialogOpeningHandler,modalDialogMoving:this._dialogDraggedHandler,modalDialogClosing:this._dialogClosingHandler,modalDialogClosed:this._dialogClosedHandler}),u=t[this.options.dialogWidget]("getCaptionButtonContainer"),f=n("<button type='button'><\/button>").attr({id:this.grid.id()+"_moving_movingDialog_closeButton","data-localeid":"movingDialogCloseButtonTitle","data-localeattr":"title"}).appendTo(u),f.igButton({onlyIcons:!0,icons:{primary:this.css.movingDialogCloseButton},width:"20px",height:"20px",click:this._dialogCloseButtonHandler,title:this._getLocaleValue("movingDialogCloseButtonTitle")})},_renderDropDown:function(t){var i=this,r,u,f=this.grid.id();return r=n("<div data-moving-inddropdown='"+f+"'><\/div>").css("position","absolute").css("display","none").addClass(this.css.columnMovingDropDown).appendTo(this.grid._rootContainer()),u=n('<ul tabindex="0"><\/ul>').addClass(this.css.columnMovingDropDownList).appendTo(r),n.each(this._ddButtons,function(t,r){n("<li><\/li>").addClass(i.css.columnMovingDropDownItem).attr("data-key",t).bind({mouseover:i._dropDownButtonMouseOverHandler,mouseout:i._dropDownButtonMouseOutHandler}).append(n("<span><\/span>").addClass(i.css.dropDownIconContainer).append(n("<span><\/span>").addClass(r.icon))).append(n("<span><\/span>").attr({"data-localeid":r.optionName}).addClass(i.css.columnMovingDropDownItemText).text(r.text)).appendTo(u)}),n("<a><\/a>").attr("id",f+"_moving_dd_button").appendTo(n("<li><\/li>").appendTo(u)).igButton({labelText:this._getLocaleValue("movingDialogCaptionText"),mousedown:function(u){u.target&&setTimeout(function(){n(u.target).removeClass("ui-state-active")},0),i._toggleDropDown(t,r,!0),i._openMovingDialog(t,r,!0)}}),r},_toggleDropDown:function(t,i,r){var u,f,l,o,c,e,a=i.is(":visible")===!0,s=t?t.closest("th"):null,v=s?s.attr("id")||s.attr("data-mch-id"):null,h=this;i.data("isAnimating")!==!0&&(v===null||this._currentlyToggled===v||r!==!0)&&(a!==!1||r!==!0)&&(a?n.each(this._ddButtons,function(n){i.find("li[data-key='"+n+"']").unbind("mousedown.temp")}):(u=s,u.find("a[data-moving-dd-indicator]").focus(),l=u.parent().children().length-u.index()<=2,o=n.ig.util.offset(u),e=l?o.left+u.outerWidth()-i.outerWidth():o.left,c=n.ig.util.getRelativeOffset(i),e=Math.max(0,e-c.left),i.css("top",o.top+u.outerHeight()-c.top),i.css("left",e),n.each(this._ddButtons,function(n,r){i.find("li[data-key='"+n+"']").bind("mousedown.temp",function(n){h._toggleDropDown(t,i,!0),f=u.attr("id"),f=f?f.replace(h.grid.id()+"_",""):u.attr("data-mch-id"),r.func(null,f),n.stopPropagation(),n.preventDefault()})}),this._currentlyToggled=u.attr("id")||u.attr("data-mch-id")),i.data("isAnimating",!0),i.toggle(200,function(){i.is(":visible")===!0?t&&(t.addClass(h.css.columnMovingIndicatorSelected),t.attr("data-indicator-selected","true")):t&&(t.removeClass(h.css.columnMovingIndicatorSelected),t.removeAttr("data-indicator-selected")),i.data("isAnimating",!1)}))},_renderSubmenuFC:function(t,i){var r,u,f,e,o,s;r=n('<ul class="'+this.css.featureChooserSubmenu+'"><\/ul>').appendTo(i),u={name:"ColumnMovingDialog",text:this._getLocaleValue("movingDialogDisplayText"),iconClass:this.css.featureChooserMovingDialogIcon,method:this._openMovingDialogHandler},f={name:"Left",text:this._getLocaleValue("dropDownMoveLeftText"),iconClass:this.css.featureChooserLeftIcon,method:n.proxy(this._moveLeft,this)},e={name:"Right",text:this._getLocaleValue("dropDownMoveRightText"),iconClass:this.css.featureChooserRightIcon,method:n.proxy(this._moveRight,this)},o={name:"First",text:this._getLocaleValue("dropDownMoveFirstText"),iconClass:this.css.featureChooserFirstIcon,method:n.proxy(this._moveFirst,this)},s={name:"Last",text:this._getLocaleValue("dropDownMoveLastText"),iconClass:this.css.featureChooserLastIcon,method:n.proxy(this._moveLast,this)},this._renderSubmenuFCItem(u,r,t,i),this._renderSubmenuFCItem(o,r,t,i),this._renderSubmenuFCItem(f,r,t,i),this._renderSubmenuFCItem(e,r,t,i),this._renderSubmenuFCItem(s,r,t,i)},_renderSubmenuFCItem:function(t,i,r,u){var f,s=t.text,h,e,o,c=this.css,a=this.grid.id()+"_featurechooser_dd_li_"+r+"_"+t.name,l=t.method;e=function(n){n.blur()},h='<li tabindex="0" data-fc-item="1" class="'+this.css.featureChooserSubmenuItem+'" id="'+a+'" title="'+s+'">'+s+"<\/li>",f=n(h).appendTo(i),f.bind({keydown:function(t){var s=t.keyCode;switch(s){case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:l(t,r),e(n(t.target));break;case n.ui.keyCode.DOWN:o=f.next(),o.length===0?i.find("li:first").focus():o.focus();break;case n.ui.keyCode.UP:f.prev().focus(),f.prev().length===0&&n("#"+u.data("buttonId")).focus();break;case n.ui.keyCode.ESCAPE:e(n(t.target))}},mousedown:function(t){l(t,r),e(n(t.target)),t.preventDefault()},mouseover:function(){n(this).addClass(c.featureChooserSubmenuItemMouserOver)},mouseleave:function(){n(this).removeClass(c.featureChooserSubmenuItemMouserOver)}})},_addMoveButtonsInFeatureChooser:function(t,i){t._renderInFeatureChooser(i,{name:"ColumnMovingDropDown",text:this._getLocaleValue("featureChooserSubmenuText"),iconClass:"ui-iggrid-featurechooser-li-iconcontainer ui-icon ui-iggrid-icon-move",methodRenderSubmenu:n.proxy(this._renderSubmenuFC,this),order:1,groupName:"dropdown",groupOrder:4,type:"dropdown",state:"hide"})},_moveColumn:function(n,t,i,r,u,f){var o=!0,e;return(u===!1&&(e={columnKey:this._cKey,columnIndex:this._cIdx,targetIndex:this._tIdx,owner:this},o=this._trigger(this.events.columnMoving,null,e)),o)?(this._movingDirty=!0,this.grid.moveColumn(n,t,i,r,f),u===!1&&(delete e.columnIndex,delete e.targetIndex,e.oldIndex=this._cIdx,e.newIndex=this._tIdx,this._triggerColumnMovedAsync(e)),!0):!1},_moveColumnOverwrite:function(t,i,r,u,f){var e,s,c,o,h;if(this._oldColsSave=this.grid._oldCols?n.extend(!0,[],this.grid._oldCols):null,this._colsSave=this.grid.options.columns?n.extend(!0,[],this.grid.options.columns):null,e=this._gridMoveColumn.apply(this.grid,[t,i,r,u,f]),e){for(this.grid._oldCols=this._oldColsSave,this.grid._oldCols?(h=n.extend(!0,{},this.grid._hiddenColumns),this.grid._generateColumnFlatStructure(this.grid._oldCols),this.grid._hiddenColumns=h,this.grid._preserveColspans(this.grid._oldCols)):this.grid.options.columns=this._colsSave,s=this.grid.element.data("igGridColumnFixing"),c=!!this.grid._getMultiHeaderColumnById(e.column),this.grid._columnMovingResets(),e.columnFixed&&s._unfixColumnInternal(e.column,e.target,e.after),e.targetFixed&&s._fixColumnInternal(e.column,e.target,e.after),this.grid._fixedColumns=[],o=0;o<this.grid.options.columns.length;o++)this.grid.options.columns[o].fixed&&!this.grid.options.columns[o].hidden&&this.grid._fixedColumns.push(this.grid.options.columns[o]);this._updateLayout(),f&&n.ig.util.invokeCallback(f,[this.grid.options.columns])}},_getAllSiblings:function(n){var r=this.grid.hasFixedColumns(),u=this.grid.fixingDirection(),i=this._cache.siblings[n],t=r?this._cache.fixedSiblings[n]:null;return r&&t&&t.length>0?u==="left"?t.concat(i):i.concat(t):i},_fixingFilter:function(t,i){return i?n.grep(t,this._isColFixed):n.grep(t,this._isColUnfixed)},_isColFixed:function(n){return n.fixed},_isColUnfixed:function(n){return!n.fixed},_thRendered:function(n){var t=this._getIdOfTh(n),i=this.grid.getVisibleIndexByKey(t,!1);this._isColumnMovable(t,i)===!0&&(this._markForMoving(n),this.options.addMovingDropdown===!0&&this._renderFeatureChooser(t,n))},_thsRendered:function(){this.options.mode==="deferred"&&this._renderHelpers(),this.options.addMovingDropdown===!0&&((!this._movingDialog||this._movingDialog instanceof n&&this._movingDialog.length===0)&&this._renderMovingDialog(),n("div[data-moving-inddropdown='"+this.grid.id()+"']").length===0&&this._renderDropDown())},_thPicked:function(n,t){this._cKey=t,this._cIdx=n.index(),this._currentlyDraggedFixed=this.grid._isFixedElement(n),this._updateLayout(),this.options.mode==="immediate"&&(this.options.hideHeaderContentsDuringDrag===!0&&n.children().not("div[data-hiddencolindicator]").hide(),this._oTh=n)},_thDragedDeferred:function(n,t,i){var s=this._moArrays[this._cKey],r,u,f,h=0,e,o;if(this._hscroller.length>0&&(h=this._hscroller.scrollLeft()),e=i===!0?t.left:t.left+n.width(),e+=this._getAbsoluteScroll(this.grid.headersTable()),this._gridReady()&&!this._movingDirty){for(o=0;o<s.length;o++)if((r=s[o],!this._movingOptionNotVisible(r))&&(u=r.position,e>u-this.options.movingAcceptanceTolerance&&e<u+this.options.movingAcceptanceTolerance)){this._activeMO=r,e-u>0?(this._tKey=r.after||r.before,this._aft=r.after?!1:!0,f=this._cache.columns[this._tKey],this._showIndicators(u-this._getAbsoluteScroll(this.grid.headersTable()),f.element.igOffset().top,f.dimensions,r.fixing?"right":null)):(this._tKey=r.before||r.after,this._aft=r.before?!0:!1,f=this._cache.columns[this._tKey],this._showIndicators(u-this._getAbsoluteScroll(this.grid.headersTable()),f.element.igOffset().top,f.dimensions,r.fixing?"left":null));break}return this._hscroller.length>0&&this._checkScroll(h,e,i),!1}},_thDragged:function(n,t,i){var s=this._moArrays[this._cKey],r,f,h=0,u,o,e,c=!1;if(this._hscroller.length>0&&(h=this._hscroller.scrollLeft()),u=i===!0?t.left:t.left+n.width(),this._gridReady()&&!this._movingDirty){for(o=0;o<s.length;o++)if(r=s[o],f=r.scrollAdded?r.position-this._hscroller.scrollLeft():r.position,u>f-this.options.movingAcceptanceTolerance&&u<f+this.options.movingAcceptanceTolerance){if(this._activeMO=r,e=u-f<=0&&r.before!==null,!r.fixing&&(r.after===this._cKey&&e||r.before===this._cKey&&!e))continue;if(this._tKey=e?r.before:r.after,this._cKey!==this._tKey&&this._cKey!==this._activeMO.after||this._activeMO.fixing===!0&&this._tKey!==this._cKey){if(r.fixing&&(r.after===this._cKey||r.before===this._cKey)&&Math.abs(u-f)<this._cache.columns[this._tKey].dimensions.width/3)continue;this._cKey&&this._tKey&&(this._tIdx=this.grid.getVisibleIndexByKey(this._tKey),this._moveColumn(this._cKey,this._tKey,e,!0,!1)),c=!0;break}}return this._hscroller.length>0&&this._checkScroll(h,u+this._getAbsoluteScroll(this.grid.headersTable()),i),c}},_thDropped:function(){if(this.options.mode==="immediate"){this.options.hideHeaderContentsDuringDrag===!0&&this._oTh.children().show(),this._scroller.on=!1;return}this._hideIndicators(),this._activeMO&&(this._cKey!==this._tKey&&this._cKey!==this._activeMO.after||this._activeMO.fixing===!0&&this._tKey!==this._cKey)&&this._moveColumn(this._cKey,this._tKey,this._aft,this.options.moveType==="dom",!1),delete this._cKey,delete this._tKey,delete this._aft,delete this._activeMO,n(".ui-draggable-dragging").hide(),this._scroller.on=!1},_isColumnMovable:function(n,t){for(var i,r=0;r<this.options.columnSettings.length;r++)if((i=this.options.columnSettings[r],i.columnIndex!==undefined&&i.columnIndex!==null&&i.columnIndex===t)||i.columnKey&&n===i.columnKey)return i.allowMoving;return!0},_isColumnGroupable:function(n){var t=this._groupBy._getColumnSettingByKey(this._getIdOfTh(n));return t&&t.allowGrouping},_getIdOfTh:function(n){var t=n.attr("data-mch-id");return t?t:n.attr("id").replace(this.grid.id()+"_","")},_getThById:function(t){return n("th[data-mch-id='"+t+"'],th[id='"+this.grid.id()+"_"+t+"']")},_adjustIndicators:function(t,i){var f=parseInt(this._cmib.css("left"),10)-t,r,u;this._cmib.css("left",f),this._cmit.css("left",f),i&&(r=this.grid.headersTable().find("tr").first(),u=r.igOffset().top,this._cmib.css("top",u-16-n.ig.util.getRelativeOffset(this._cmib).top),this._cmit.css("top",u+r.height()-n.ig.util.getRelativeOffset(this._cmit).top))},_showIndicators:function(t,i,r,u){u==="left"?(this._cmib.removeClass(this.css.dragIndicatorRight).addClass(this.css.dragIndicatorLeft),this._cmit.removeClass(this.css.dragIndicatorRight).addClass(this.css.dragIndicatorLeft),this._cmit.css("left",t-12-n.ig.util.getRelativeOffset(this._cmib).left).show(),this._cmit.css("top",i-14-n.ig.util.getRelativeOffset(this._cmib).top),this._cmib.css("left",t-12-n.ig.util.getRelativeOffset(this._cmit).left).show(),this._cmib.css("top",i+r.height-2-n.ig.util.getRelativeOffset(this._cmit).top)):u==="right"?(this._cmib.removeClass(this.css.dragIndicatorLeft).addClass(this.css.dragIndicatorRight),this._cmit.removeClass(this.css.dragIndicatorLeft).addClass(this.css.dragIndicatorRight),this._cmit.css("left",t-4-n.ig.util.getRelativeOffset(this._cmib).left).show(),this._cmit.css("top",i-14-n.ig.util.getRelativeOffset(this._cmib).top),this._cmib.css("left",t-4-n.ig.util.getRelativeOffset(this._cmit).left).show(),this._cmib.css("top",i+r.height-2-n.ig.util.getRelativeOffset(this._cmit).top)):(this._cmib.removeClass(this.css.dragIndicatorRight).removeClass(this.css.dragIndicatorLeft),this._cmit.removeClass(this.css.dragIndicatorRight).removeClass(this.css.dragIndicatorLeft),this._cmit.css("left",t-8-n.ig.util.getRelativeOffset(this._cmib).left).show(),this._cmit.css("top",i-16-n.ig.util.getRelativeOffset(this._cmib).top),this._cmib.css("left",t-8-n.ig.util.getRelativeOffset(this._cmit).left).show(),this._cmib.css("top",i+r.height-n.ig.util.getRelativeOffset(this._cmit).top))},_hideIndicators:function(){this._cmib.hide(),this._cmit.hide()},_markForMoving:function(t){if(t.data("draggable")||this._groupBy){if(this._isColumnGroupable(t)){t.bind("drag",this._moveHandler),t.bind("dragstop",this._dropHandler),t.bind("dragstart",this._dragHandler);return}t.attr("groupby-disabled","true")}t.draggable({containment:this.grid._rootContainer(),appendTo:this.grid.container(),distance:5,scroll:!1,revert:"valid",helper:function(t){var i,r;return i=n(t.target).closest("th"),r=i.clone().css("overflow","hidden").css("z-index",1e4).width(i.width()).height(i.height()).attr("data-mch-id",null).attr("id",null).addClass("ui-widget ui-iggrid").wrap(n('<div class="ui-iggrid-dragMarkup"><\/div>').width(i.outerWidth()).height(i.outerHeight())).parent(),r.find("div[data-hiddencolindicator]").remove(),r},opacity:this.options.dragHelperOpacity,drag:this._moveHandler,stop:this._dropHandler,start:this._dragHandler}),t.unbind("mouseover.moving").bind("mouseover.moving",this._headerMouseOverHandler),t.unbind("mouseout.moving").bind("mouseout.moving",this._headerMouseOutHandler)},_updateLayout:function(){var t,i=this;if(!this._gridReady()){setTimeout(function(){i._updateLayout()},50);return}t=this.grid._oldCols?n.grep(this.grid._oldCols,this.grid._columnVisible):this.grid._visibleColumns(),this._hscroller=this.grid._hscrollbarcontent(),this._hscroller=this._hscroller.length>0?this._hscroller:this.grid.scrollContainer(),this._cache.columns={},this._cache.siblings={},this._cache.fixedSiblings={},this._updateLayoutPerLevel(t,!0),this._createMovingOptions(),delete this._movingDirty},_updateLayoutPerLevel:function(t,i){for(var u,e,f,r=0;r<t.length;r++)u=t[r].key||t[r].identifier,e=this._getThById(u),f=e.igOffset(),f&&n.type(f.left)==="number"||(f={left:0,top:0}),f.left=f.left+this._getAbsoluteScroll(e),this._cache.columns[u]={},this._cache.columns[u].element=e,this._cache.columns[u].offset=f,this._cache.columns[u].dimensions={width:e.outerWidth(),height:e.outerHeight()},this._cache.columns[u].isFixed=!!t[r].fixed,i?(this._cache.fixedSiblings[u]=this._fixingFilter(t,!0),this._cache.siblings[u]=this._fixingFilter(t,!1)):this._cache.siblings[u]=t;for(r=0;r<t.length;r++)t[r].group&&t[r].hidden!==!0&&this._updateLayoutPerLevel(n.grep(t[r].group,this.grid._columnVisible))},_createMovingOptions:function(){var n,u=this._cache.siblings,i=this._cache.fixedSiblings,e=this.grid.fixingDirection(),r,t,f;this._moArrays={};for(n in u)u.hasOwnProperty(n)&&(r=this._movingOptsForSiblings(u[n]),t=i.hasOwnProperty(n)?this._movingOptsForSiblings(i[n]):[],r.length&&t.length?f=this._combineMovingOptions(r,t,e):r.length&&(f=r),this._moArrays[n]=f);for(n in i)i.hasOwnProperty(n)&&!this._moArrays[n]&&(t=this._movingOptsForSiblings(i[n]),this._moArrays[n]=t)},_movingOptsForSiblings:function(n){var u=[],t,i,r,f=this._cache.columns;if(n&&n.length){for(t=n[0].key||n[0].identifier,u.push({before:null,after:t,position:this._cache.columns[t].offset.left,fixing:!1,scrollAdded:!f[t].isFixed}),r=1;r<n.length;r++)i=n[r].key||n[r].identifier,u.push({before:t,after:i,position:this._cache.columns[i].offset.left,fixing:!1,scrollAdded:!(f[t].isFixed&&f[i].isFixed)}),t=i;u.push({before:t,after:null,position:this._cache.columns[t].offset.left+this._cache.columns[t].dimensions.width,fixing:!1,scrollAdded:!f[t].isFixed})}return u},_combineMovingOptions:function(n,t,i){var f,r,u;return i==="left"?(r=t,u=n):(r=n,u=t),f=r.slice(0,r.length-1),f.push({before:r[r.length-1].before,after:u[0].after,position:u[0].position,fixing:!0}),f=f.concat(u.slice(1,u.length))},_getAbsoluteScroll:function(n){for(var t=n,i=0;t.length>0&&t.attr("id")!==this.grid._rootContainer().attr("id");)i+=t.scrollLeft(),t=t.parent();return i},_openMovingDialog:function(){this._movingDialog[this.options.dialogWidget]("openModalDialog")},_closeMovingDialog:function(n){this._movingDialog[this.options.dialogWidget]("closeModalDialog",null,n),n&&n.preventDefault()},_triggerColumnMovedAsync:function(n){var t=this;if(!this._gridReady()){setTimeout(function(){t._triggerColumnMovedAsync(n)},50);return}this._trigger(this.events.columnMoved,null,n)},_gridReady:function(){return!(this.grid._loadingIndicator&&this.grid._loadingIndicator._indicator.is(":visible"))},_bindUpDownDialogButtons:function(n){n.find("span[class='"+this.css.movingDialogListItemArrowDown+"']").unbind("mousedown",this._dialogDownHandler).bind("mousedown",this._dialogDownHandler),n.find("span[class='"+this.css.movingDialogListItemArrowUp+"']").unbind("mousedown",this._dialogUpHandler).bind("mousedown",this._dialogUpHandler)},_checkScroll:function(n,t,i){var r=this._verticalScrollBarWidth();this._currentlyDraggedFixed||(t-=this._hscroller.igOffset().left,n>0&&i===!0&&Math.abs(t-n)<this.options.movingScrollTolerance?this._updateScroller(!0,t-n+1):n<this._hscroller[0].scrollWidth+r-this._hscroller.outerWidth()&&i===!1&&t-n>this._hscroller.outerWidth()-this.options.movingScrollTolerance&&t-n<this._hscroller.outerWidth()+this.options.movingScrollTolerance?this._updateScroller(!1,this._hscroller.outerWidth()-t+n):this._stopScroller())},_startScroller:function(n,t){this._scroller.on=!0,this._scroller.delay=t*this.options.scrollSpeedMultiplier,this._scroller.direction=n===!0?"left":"right",this._autoScroll()},_updateScroller:function(n,t){if(this._scroller.on===!1){this._startScroller(n,t);return}this._scroller.delay=t},_stopScroller:function(){this._scroller.on=!1},_scrollGrid:function(){var r=this._hscroller.scrollLeft(),n,t,i;n=this._scroller.direction==="left"?this.options.scrollDelta*-1:this.options.scrollDelta,t=r+n,i=this._verticalScrollBarWidth(),this._hscroller.scrollLeft(t),(t<=0&&n<0||t>=this._hscroller[0].scrollWidth+i-this._hscroller.outerWidth()&&n>0)&&this._stopScroller(),this._hscroller[0].id.indexOf("_hscroller")>0&&this.grid._synchronizeHScroll(),this.options.mode==="deferred"&&(this._activeMO&&this._movingOptionNotVisible(this._activeMO)?this._hideIndicators():this._adjustIndicators(n)),this._scroller.on===!0&&setTimeout(this._autoScroll,this._scroller.delay)},_cancelEvent:function(n){n.stopPropagation(),n.preventDefault()},_columnMap:function(){return n.map(this.grid.options.columns,function(n){return{columnKey:n.key,enabled:!0}})},_movingOptionNotVisible:function(n){var r,t,f,e,o,u,i;return!this.grid.hasFixedColumns()||this.grid.isFixedColumn(n.before)||this.grid.isFixedColumn(n.after)||!this._hscroller.is(":visible")?!1:(r=this.grid.fixingDirection(),o=this._hscroller.scrollLeft(),t=n.position-o,f=this.grid.fixedBodyContainer().igOffset().left,e=this.grid.fixedBodyContainer().outerWidth(),i=this._hscroller.igOffset().left,u=this._hscroller.outerWidth(),r==="left"&&(t-f<e||t>u+i)||r==="right"&&(t<i||t-i>u))},_verticalScrollBarWidth:function(){return this.grid._hasVerticalScrollbar===!0?this.grid._scrollbarWidth():0},_checkForColumnVirtualization:function(){return this.grid.options.virtualizationMode!=="continuous"&&(this.grid.options.virtualization===!0&&this.grid.options.width||this.grid.options.columnVirtualization===!0)},_removeMoving:function(){var e=this.grid.headersTable().find(">thead th"),r,t,i,u,f;for(this._cmit&&this._cmit.length>0&&(this._cmit.data("users")===1?this._cmit.remove():this._cmit.data("users",this._cmit.data("users")-1)),this._cmib&&this._cmib.length>0&&(this._cmib.data("users")===1?this._cmib.remove():this._cmib.data("users",this._cmib.data("users")-1)),this.options.addMovingDropdown===!0&&(i=this._movingDialog,i&&i instanceof n&&(i[this.options.dialogWidget]("destroy"),i.remove()),n("div[data-moving-inddropdown='"+this.grid.id()+"']").remove()),f=this.grid.element.data("igGridFeatureChooser"),u=!0,this.renderInFeatureChooser&&f&&(f._removeFeature("ColumnMovingDropDown",!0),u=!1),r=0;r<e.length;++r)t=n(e[r]),u&&(t.find(">div").find("span").unbind("mousedown",this._dropDownButtonHandler),t.find(">div").remove()),t.unbind("mouseover.moving",this._headerMouseOverHandler),t.unbind("mouseout.moving",this._headerMouseOutHandler),this._grpByEnabled?(t.unbind("draggabledrag",this._moveHandler),t.unbind("draggablestop",this._dropHandler),t.unbind("draggablestart",this._dragHandler)):t.data&&t.data("draggable")&&t.draggable("destroy")},_unregisterEvents:function(){this.grid.element.unbind("iggridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.unbind("iggridheaderrendering",this._headerRenderingHandler),this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this.grid.element.unbind("iggridrendered",this._gridFullyRenderedHandler),this.grid.element.unbind("iggridresizingcolumnresized",this._columnStateChanged),this.grid.element.unbind("iggridcolumnscollectionmodified",this._columnStateChanged),this.grid.element.unbind("iggridpagingpagingdropdownrendered",this._columnStateChanged),this.grid.element.unbind("iggrid_columnsmoved",this._columnStateChanged),this.grid.headersTable().find("th").unbind("moving")},_registerEvents:function(){this.grid.element.bind("iggridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.bind("iggridheaderrendering",this._headerRenderingHandler),this.grid.element.bind("iggridheaderrendered",this._headerRenderedHandler),this.grid.element.bind("iggridrendered",this._gridFullyRenderedHandler),this.grid.element.bind("iggridresizingcolumnresized",this._columnStateChanged),this.grid.element.bind("iggridcolumnscollectionmodified",this._columnStateChanged),this.grid.element.bind("iggridpagingpagingdropdownrendered",this._columnStateChanged),this.grid.element.bind("iggrid_columnsmoved",this._columnStateChanged)},_createHandlers:function(){this._headerCellRenderedHandler=n.proxy(this._headerCellRendered,this),this._headerRenderingHandler=n.proxy(this._headerRendering,this),this._headerRenderedHandler=n.proxy(this._headerRendered,this),this._gridFullyRenderedHandler=n.proxy(this._gridFullyRendered,this),this._dragHandler=n.proxy(this._headerPicked,this),this._moveHandler=n.proxy(this._headerDragged,this),this._dropHandler=n.proxy(this._headerDropped,this),this._headerMouseOverHandler=n.proxy(this._headerMouseOver,this),this._headerMouseOutHandler=n.proxy(this._headerMouseOut,this),this._dropDownButtonHandler=n.proxy(this._dropDownMouseDown,this),this._dropDownKeyHandler=n.proxy(this._dropDownKeyDown,this),this._openMovingDialogHandler=n.proxy(this._openMovingDialog,this),this._dropDownButtonMouseOverHandler=n.proxy(this._dropDownButtonMouseOver,this),this._dropDownButtonMouseOutHandler=n.proxy(this._dropDownButtonMouseOut,this),this._dialogOpeningHandler=n.proxy(this._dialogOpening,this),this._dialogDraggedHandler=n.proxy(this._dialogDragged,this),this._dialogClosingHandler=n.proxy(this._dialogClosing,this),this._dialogClosedHandler=n.proxy(this._dialogClosed,this),this._dialogCloseButtonHandler=n.proxy(this._closeMovingDialog,this),this._dialogUpHandler=n.proxy(this._dialogUpPressed,this),this._dialogDownHandler=n.proxy(this._dialogDownPressed,this),this._dialogRearrangingHandler=n.proxy(this._dialogRearranging,this),this._dialogRearrangedHandler=n.proxy(this._dialogRearranged,this),this._columnStateChanged=n.proxy(this._updateLayout,this),this._cancelEventHandler=n.proxy(this._cancelEvent,this),this._autoScroll=n.proxy(this._scrollGrid,this),this._containerScrolledHandler=n.proxy(this._containerScrolled,this)},_injectGrid:function(t,i){if(this.grid=t,i!==!0){if(this.grid.element.igGridFeatureChooser!==undefined)this.grid.element.igGridFeatureChooser();else throw new Error(this._getLocaleValue("featureChooserNotReferenced"));if(this._checkForColumnVirtualization())throw new Error(this._getLocaleValue("columnVirtualizationEnabled"));this._gridMoveColumn=this.grid.moveColumn,this.grid.moveColumn=n.proxy(this._moveColumnOverwrite,this),this._createHandlers(),this._unregisterEvents(),this._registerEvents()}}}),n.extend(n.ui.igGridColumnMoving,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridFeatureChooserPopover",n.ui.igPopover,{options:{gridId:"",targetButton:null,closeOnBlur:!0,containment:null},_create:function(){n.extend(n.ui.igGridFeatureChooserPopover.prototype.options,n.ui.igPopover.prototype.options),n.extend(n.ui.igGridFeatureChooserPopover.prototype.css,n.ui.igPopover.prototype.css),n.ui.igPopover.prototype._create.apply(this)},isShown:function(){return this.container().is(":visible")},_setFCElementFocus:function(n,t){(t===undefined||t===null)&&(t=this.options.targetButton),this.options.targetButton.data("onFocus",n),n&&t.focus()},registerElements:function(n){var r,i=this.options.targetButton,t=this;r={focus:function(){i.data("onFocus",!0)},blur:function(){i.data("onFocus",!1),t._timeoutId&&clearTimeout(t._timeoutId),t._timeoutId=setTimeout(function(){!i.data("onFocus")&&t.isShown()&&t._closePopover()},1)}},n.bind(r)},_createWidget:function(){var t=this,i;this._attachedToBody=!0,this.options.content="",n.Widget.prototype._createWidget.apply(this,arguments),n.ui.igPopover.prototype._createWidget.apply(this,arguments),this._detachEventsFromTarget(),i=this.options.targetButton,this.options.closeOnBlur&&(i.attr("tabindex","0"),this._eventsFC={iggridfeaturechooserpopovershown:function(){t._setFCElementFocus(!0)},iggridfeaturechooserpopoverhidden:function(){t._setFCElementFocus(!1),t.popover.width(""),t.popover.css({left:""})},mousedown:function(){setTimeout(function(){t._setFCElementFocus(!0)},1)},touchstart:function(){setTimeout(function(){t._setFCElementFocus(!0)},1)}},this.element.bind(this._eventsFC),this.registerElements(i))},_removeOriginalTitle:function(){},_positionPopover:function(){var u,i,t=this.options.maxWidth,f=this.options.containment,r=n(window);t&&n.type(t)==="string"&&(t=parseInt(t,10)),u=this.popover,u&&(i=f.igOffset().left>=r.scrollLeft()?r.width()+r.scrollLeft()-f.igOffset().left:r.width(),t&&n.type(t)==="number"&&t<i&&(i=t),this.popover.css("max-width",i)),n.ui.igPopover.prototype._positionPopover.apply(this,arguments)},destroy:function(){var t;this._eventsFCTargetButton&&(t=this.options.targetButton,t.unbind(this._eventsFCTargetButton)),this._eventsFC&&this.element.unbind(this._eventsFC),n.ui.igPopover.prototype.destroy.apply(this,arguments)}}),n.extend(n.ui.igGridFeatureChooserPopover,{version:"19.2.25"}),n.ig=n.ig||{},n.ig.GridFeatureChooserSections=n.ig.GridFeatureChooserSections||{click:"click",toggle:"toggle",modalDialog:"modalDialog"},n.widget("ui.igGridFeatureChooser",n.ui.igWidget,{css:{featureChooserDropDown:"",headerButtonIcon:"ui-iggrid-featurechooserbutton ui-icon ui-icon-gear",headerButtonIconMouseOver:"ui-iggrid-header-icon-mouseover",headerButtonIconSelected:"ui-iggrid-header-icon-selected",listClass:"ui-iggrid-featurechooser-list ui-menu ui-widget ui-widget-content ui-corner-all",listItemClass:"ui-iggrid-featurechooserddlistitemicons ui-state-default",listItemContainer:"ui-iggrid-featurechooser-li-container",listItemIconContainer:"ui-iggrid-featurechooser-li-iconcontainer",itemSecondaryIconContainer:"ui-iggrid-featurechooser-secondaryicon-container",separator:"ui-iggrid-featurechooser-separator",listItemText:"ui-iggrid-featurechooserddlistitemtext",itemSelected:"item-selected",dropDownListItemHover:"ui-iggrid-featurechooser-listitem-hover ui-state-active ui-state-hover",dropDownButtonClasses:"ui-igbutton",dropDownButtonHoverClasses:"",dropDownButtonActiveClasses:"",dropDownButtonFocusClasses:"",dropDownButtonLabelClass:"",containerDelimiter:"ui-iggrid-featurechooser-container-delimiter",containerSection:"ui-iggrid-featurechooser-container-section",itemNoIcon:"ui-iggrid-featurechooserbutton ui-icon ui-icon-close",submenu:"ui-iggrid-featurechooser-submenu ui-widget-content ui-corner-all",submenuIcon:"ui-iggrid-featurechooser-submenuicon ui-icon ui-icon-triangle-1-s"},options:{dropDownWidth:null,animationDuration:400},events:{featureChooserRendering:"featureChooserRendering",featureChooserRendered:"featureChooserRendered",featureChooserDropDownOpening:"featureChooserDropDownOpening",featureChooserDropDownOpened:"featureChooserDropDownOpened",menuToggling:"menuToggling",featureToggling:"featureToggling",featureToggled:"featureToggled"},_createWidget:function(){n.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var t;for(this.analyzedData={},this.data={},this._features=[],this._isFeaturesAnalyzed=!1,this.isInitialized=!1,this.grid=this.element.data("igGrid"),this.gridId=this.element[0].id,this.grid._internalFeatures=this.grid._internalFeatures||[],t=0;t<this.grid._internalFeatures.length;t++)if(this.grid._internalFeatures[t].name==="FeatureChooser")break;t===this.grid._internalFeatures.length&&this.grid._internalFeatures.push({name:"FeatureChooser"}),this._analyzeGridFeaturesOptions(),this._countRenderedFeatures=0,this._headerRenderedHandler&&this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this._headerRenderedHandler=n.proxy(this._headerRendered,this),this.grid.element.bind("iggridheaderrendered",this._headerRenderedHandler),this._gridDestroyedHandler&&this.grid.element.unbind("igcontroldestroyed",this._gridDestroyedHandler),this._gridDestroyedHandler=n.proxy(this.destroy,this),this.grid.element.bind("igcontroldestroyed",this._gridDestroyedHandler),this._virtualHorizontalScrollHandler&&this.grid.element.unbind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),this._virtualHorizontalScrollHandler=n.proxy(this._virtualHorizontalScroll,this),this.grid.element.bind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler)},_analyzeGridFeaturesOptions:function(){for(var t=this.grid.options.features,i=t.length,n=0;n<i;n++)this._features.push(t[n].name)},shouldShowFeatureIcon:function(n){return this.analyzedData[n]!==undefined&&this.analyzedData[n]!==null?this.analyzedData[n].length<=1:!0},changeLocale:function(){var t=this;this.grid.container().find("[data-fc-button]").each(function(){t._changeLocaleForElement(n(this))}),this._renderFCForAllColumns()},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(){this._superApply(arguments)},_id:function(t,i){var r=this.gridId+"_"+t;return i!==undefined&&i!==null&&n.type(i)==="string"&&(r+="_"+i),r},_isMetroIE:function(){return!n.ig.util.isIEOld&&n.ig.util.isIE&&(window.hasOwnProperty("ontouchstart")||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)},_isTouchDevice:function(){var t;return this._isTouch===undefined&&(t=this.grid.options.featureChooserIconDisplay,this._isTouch=t==="none"?!0:t==="always"?!1:n.ig.util.isTouch||this._isMetroIE()),this._isTouch},_callFeatureMethod:function(t,i,r,u){var f,o=!0,s=n.type(t.method),e=this.grid.element.data("igGrid"+t.name);if(s==="string"){if(e===undefined||e===null)return!1;f=e[t.method]}else s==="function"&&(f=t.method);return f===undefined||f===null?!1:o=n.type(t.method)==="string"?e[t.method](u,r,i,t.methodData):t.method(u,r,i,t.methodData)},_getFeatureByKeyName:function(n,t){var i,u=null,r=this.data[n],f;if(!r)return u;for(f=r.length,i=0;i<f;i++)if(r[i].name===t){u=r[i];break}return u},_clickFeature:function(t){var s,e,l=n(t.target).data("data")!==undefined?n(t.target):n(t.currentTarget),c=l.data("data"),o=this,r=null,a=c.type,u=c.columnKey,h=c.featureName,f=this.data[u],v=f.length,i=null;(i=this._getFeatureByKeyName(u,h),i!==null&&i!==undefined)&&(a==="toggle"&&(r=!i.isSelected),this._trigger(this.events.featureToggling,null,{target:l,columnKey:u,isToSelect:r,featureName:"igGrid"+i.name})!==!1)&&this._callFeatureMethod(i,r,u,t)!==!1&&a==="toggle"&&(i.isSelected=r,o._setSelectedItem(u,r,n("#"+o._id("featurechooser_dd_li_"+u,h))),i.updateOnClickAll===!0&&n.each(o.data,function(t,i){if(t!==u){for(e=0;e<i.length;e++)if(i[e].name===h)break;if(e===i.length||(f=o.data[t],f===null||f===undefined))return!0;for(v=f.length,s=0;s<v;s++)if(f[s].name===h){f[s].isSelected=r;break}o._setSelectedItem(t,r,n("#"+o._id("featurechooser_dd_li_"+t,i[e].name)))}}))},_setListItemText:function(t,i,r){n("#"+this._id("featurechooser_dd_li_"+t,i)+" span.ui-iggrid-featurechooserddlistitemtext").text(r)},_analyzeFeatures:function(){if(this._isFeaturesAnalyzed!==!0){for(var t,o=this.grid.options.columns,h=o.length,r,c=this._features.length,l=this._features,s=[],u,e,i,n,f=0;f<c;f++)if((r=l[f],i=this.grid.element.data("igGrid"+r),i!==undefined&&i!==null)&&i.renderInFeatureChooser===!0&&i._columnMap!==undefined&&i._columnMap!==null&&(u=i._columnMap(),u!==!1&&u!==null&&u!==undefined)){if(e=u.length,e===0)for(t=0;t<h;t++)(n=o[t].key,(this.analyzedData[n]===undefined||this.analyzedData[n]===null)&&(this.analyzedData[n]=[]),this._isFeatureExistByColumnKey(r,n)!==!0)&&this.analyzedData[n].push({name:r,method:null,text:null,iconClass:null,isSelected:!1,columnCell:null,isActive:!1});else for(t=0;t<e;t++)(n=u[t].columnKey,(this.analyzedData[n]===undefined||this.analyzedData[n]===null)&&(this.analyzedData[n]=[]),u[t].enabled===!0&&this._isFeatureExistByColumnKey(r,n)!==!0)&&this.analyzedData[n].push({name:r,method:null,text:null,iconClass:null,isSelected:!1,columnCell:null,isActive:!1});s.push({name:r,instance:i})}this._features=s,this._isFeaturesAnalyzed=!0}},_isFeatureExistByColumnKey:function(t,i){var r=this.analyzedData[i],u=!1;return r===null||r===undefined?!0:(n.each(r,function(n,i){if(i.name===t)return u=!0,!1}),u)},_shouldRenderInFeatureChooser:function(n){return(this._analyzeFeatures(),this.analyzedData[n]!==undefined&&this.analyzedData[n]!==null)?this.analyzedData[n].length>1:!1},_headerRendered:function(n,t){t.owner.element.attr("id")===this.grid.element.attr("id")&&n.target.id===this.grid.element[0].id&&this._renderFCForAllColumns()},_renderFCForAllColumns:function(){var t=this;n.each(this.data,function(n,i){t._initFC(n,i)})},_touchStart:function(t,i){if(n(t.target).attr("data-skip-event"))return t;this.toggleDropDown(i),t.preventDefault(),t.stopPropagation()},_initFC:function(t,i){var r=this,c=this.grid.container().find("thead"),u,o,h,f,e,s;if(u=this.grid.container().find("#"+r.grid.element[0].id+"_"+t),h=r._id("featureChooser_headerButton",t),u.length){if(u.find("[ data-fc-button ]").remove(),this.grid.container().find("#"+h).remove(),f=function(n){n.preventDefault(),n.stopPropagation()},i.isCancelledRendering!==!1&&r._trigger(r.events.featureChooserRendering,null,{owner:r.grid,columnKey:t,columnCell:u})===!1){i.isCancelledRendering=!0;return}i.isCancelledRendering=!1,this._isTouchDevice()?u.bind({click:function(n){r._touchStart(n,t)}}):(o=c.find("#"+r.grid.element[0].id+"_"+t),this.grid._enableHeaderCellFeature(o),s=o.find(".ui-iggrid-indicatorcontainer"),s.length===0&&(s=n("<div><\/div>").appendTo(o).addClass("ui-iggrid-indicatorcontainer")),e=n("<span><\/span>").prependTo(s).addClass(r.css.headerButtonIcon),e.wrap("<a id='"+h+"' role='button' tabindex='"+r.grid.options.tabIndex+"' data-fc-button='"+t+"' href='#' title='"+this._getLocaleValue("featureChooserTooltip")+"' data-localeattr='title' data-localeid='featureChooserTooltip'><\/a>"),e.parent().attr("th-remove-focus","").bind({keydown:function(i){var u,e,o=n("#"+r._id("featureChooser_dd",t));i.keyCode===n.ui.keyCode.ENTER||i.keyCode===n.ui.keyCode.SPACE?(u=o.find("ul li.ui-iggrid-featurechooser-listitem-hover"),o.is(":visible")&&u.length>0&&(i.target=u.find("*[ role='button' ]").length?u.find("*[ role='button' ]:eq(0)"):u[0],r._clickFeature(i)),r.toggleDropDown(t),f(i)):(i.keyCode===n.ui.keyCode.DOWN||i.keyCode===n.ui.keyCode.UP)&&o.is(":visible")&&(u=o.find("ul li.ui-iggrid-featurechooser-listitem-hover"),u.length>1&&n.each(u,function(t,i){r._removeCssSelectionListItem(n(i))}),e=i.keyCode===n.ui.keyCode.DOWN?u.next():u.prev(),e.attr("data-fc-separator")&&(e=i.keyCode===n.ui.keyCode.DOWN?e.next():e.prev()),u.length===0?r._addCssSelectionListItem(o.find("ul li:eq(0)")):e.length>0&&e.is("li")&&(r._removeCssSelectionListItem(u),r._addCssSelectionListItem(e)),f(i))},mousedown:function(n){r.toggleDropDown(t),f(n)},mouseover:function(){e.hasClass(r.css.headerButtonIconSelected)===!1&&e.addClass(r.css.headerButtonIconMouseOver)},mouseout:function(){e.removeClass(r.css.headerButtonIconMouseOver)},mouseup:f,click:f}),this.grid.container().find("#"+this._id("featureChooser_dd",t)).remove()),r._trigger(r.events.featureChooserRendered,null,{owner:r.grid,columnKey:t,columnCell:u})}},_renderInFeatureChooser:function(t,i){var r,u=this.analyzedData[t],f;if(u!==undefined&&u!==null&&(f=u.length,u.isCancelledRendering!==!0)){for(r=0;r<f;r++)if(u[r].name.toLowerCase()===i.name.toLowerCase()){this.analyzedData[t][r]=i;break}for(r===f&&this.analyzedData[t].push(i),(this.data[t]===null||this.data[t]===undefined)&&(this.data[t]=[]),n.type(this.data[t].order)!=="number"&&(this.data[t].order=0),r=0;r<this.data[t].length;r++)if(this.data[t][r].name===i.name&&i.name!==undefined)return;this.data[t].push(i)}},_renderMenu:function(t){var e,o,f=this,s,i,u,l=n("#"+this.grid.id()+"_"+t),h=this._id("featureChooser_dd",t),r=n("#"+h),c=this.grid._rootContainer();if(!(r.length>0)){if(r=n("<div tabindex='0'><\/div>").attr("id",h).appendTo(c),u=n("#"+this._id("featureChooser_headerButton",t)).find("span"),u.length===0&&(u=l),r.igGridFeatureChooserPopover({position:"auto",targetButton:u,maxWidth:this.grid.container().width(),direction:"bottom",maxHeight:null,containment:c,appendTo:c}),i=r.data("igGridFeatureChooserPopover"),r.bind("iggridfeaturechooserpopovershown",function(){f._visiblePopover=h}),r.bind("iggridfeaturechooserpopoverhiding",function(){f._activeSubmenuId&&(n("#"+f._activeSubmenuId).hide(),f._activeSubmenuId=null)}),o=this.data[t],o){for(e=0;e<o.length;e++)this._renderDropDownItem(t,o[e]);s=i.container().find("li[ data-fc-order ]"),r.igGridFeatureChooserPopover("registerElements",s),u.bind({keydown:function(t){t.keyCode===n.ui.keyCode.ESCAPE?(i._closePopover(),t.stopPropagation()):t.keyCode===n.ui.keyCode.TAB&&!t.shiftKey&&i.isShown()&&(i.popover.find("li[ data-fc-order ]:first").focus(),t.stopPropagation(),t.preventDefault())}}),s.bind({keydown:function(t){var r,f=t.keyCode;switch(f){case n.ui.keyCode.ESCAPE:u.data("onFocus",!1).focus(),i._closePopover();break;case n.ui.keyCode.TAB:r=n(this),t.shiftKey?r.is(":first-child")&&(r.closest("ul").find("li:last-child").focus(),t.preventDefault()):r.is(":last-child")&&(r.closest("ul").find("li:first-child").focus(),t.preventDefault());break;case n.ui.keyCode.RIGHT:r=n(this),r=r.nextAll("li[ data-fc-order ]").eq(0),r.length===0&&(r=n(this).closest("ul").find("li:first-child")),r.focus(),t.preventDefault();break;case n.ui.keyCode.LEFT:r=n(this),r=r.prevAll("li[ data-fc-order ]").eq(0),r.length===0&&(r=n(this).closest("ul").find("li:last-child")),r.focus(),t.preventDefault()}}})}r.bind({keydown:function(r){r.keyCode===n.ui.keyCode.ESCAPE&&i.container().is(":visible")&&(f.toggleDropDown(t),i.container().blur())}})}},_removeFeature:function(t,i){var r=this,u=this.grid.options.columns;n.each(u,function(u,f){r._removeDropDownItem(f.key,t),i&&n("#"+r._id("featurechooser_submenu_"+f.key,t)).remove()})},_removeDropDownItem:function(t,i){var u=-1,r,e=n("#"+this._id("featureChooser_dd",t)),o=n("#"+this._id("featurechooser_dd_list",t)),f=n("#"+this._id("featurechooser_dd_li_"+t,i));r=this.data[t],r&&(n.each(r,function(n,t){if(t.name===i)return u=n,!1}),u>-1&&(r.splice(u,1),r.length===0&&this._removeFC(t))),e.length!==0&&f.length>0&&(f.remove(),o.find("li:not([ data-fc-separator ])").length===0?this._removeFC(t):this._removeSeparatorItem(t))},_removeFC:function(t){var i=n("#"+this._id("featureChooser_dd",t));i.igGridFeatureChooserPopover("destroy"),i.remove(),n("#"+this._id("featureChooser_headerButton",t)).remove()},_removeSeparatorItem:function(t){var i=n("#"+this._id("featurechooser_dd_list",t)).find("[ data-fc-separator ]");i.each(function(){var t=n(this),i=t.prev(),r=t.next();if(i.length===0||i.attr("data-fc-separator")!==undefined||r.length===0||r.attr("data-fc-separator")!==undefined)return t.remove(),!1})},_renderDropDownItem:function(t,i){var nt=this._id("featureChooser_dd",t),b=n("#"+nt).igGridFeatureChooserPopover("container"),r,s,h,y,a,p,v="",u=this,w=i.isSelected,e=i.name,k,d=this._id("featurechooser_dd_li_"+t,e),f=i.groupName,c=i.groupOrder,o,l,g;n("#"+d).length>0||((f===undefined||f===null)&&(f="click"),s=this._id("featurechooser_dd_list",t),h=n("#"+s),h.length===0&&(b.html(""),h=n("<ul><\/ul>").attr("id",s).addClass(this.css.listClass).appendTo(b)),(w===undefined||w===null)&&(w=!1),r=n("<li tabindex='0'><\/li>").addClass(this.css.listItemClass).attr("id",d).attr("data-fc-order",i.order),f!==undefined&&f!==null&&r.attr("data-fc-groupname",f),c!==undefined&&c!==null&&r.attr("data-fc-grouporder",c),k={columnKey:t,featureName:e,updateOnClickAll:i.updateOnClickAll,iconClass:i.iconClass,iconClassOff:i.iconClassOff,groupName:f,groupOrder:c,type:i.type,textHide:i.textHide,state:i.state,text:i.text},r.data("data",k),y=function(r){var h=u._id("featurechooser_submenu_"+t,e),c=r,s,o,f=r.keyCode;i.type!=="dropdown"&&(f&&f!==n.ui.keyCode.ENTER&&f!==n.ui.keyCode.SPACE||(r.target===undefined&&(c.target=r.srcElement),u._clickFeature(r),u.hideDropDown(t))),u._visiblePopover&&(f?f===n.ui.keyCode.DOWN?(o=n("#"+h),o.is(":visible")?o.find("[ data-fc-item ]:first").focus():u._toggleSubmenu(t,e,i)):f===n.ui.keyCode.ENTER||f===n.ui.keyCode.SPACE?u._toggleSubmenu(t,e,i):f===n.ui.keyCode.UP&&(o=n("#"+h),o.is(":visible")&&u._toggleSubmenu(t,e,i)):(u._toggleSubmenu(t,e,i),setTimeout(function(){s=n("#"+u._visiblePopover).data("igGridFeatureChooserPopover"),s&&s._setFCElementFocus(!0)},5))),r.preventDefault&&r.preventDefault()},r.bind({keydown:y,mousedown:y}),i.iconClass!==null&&i.iconClass!==undefined&&i.iconClass!==""&&(v=i.iconClassOff&&i.isSelected===!1?i.iconClassOff:i.iconClass),a=n("<div><\/div>").addClass(this.css.listItemContainer).appendTo(r),p=n("<span><\/span>").addClass(this.css.listItemIconContainer).appendTo(a),v!==""?p.addClass(v):p.addClass(this.css.itemNoIcon),g=i.text,r.attr("title",g),n("<span><\/span>").text(i.text).addClass(this.css.listItemText).appendTo(a),o=n("#"+s+" li[ data-fc-groupName = "+f+" ]"),o.length===0?(o=n("#"+s+" li[ data-fc-groupName ]"),l=this._getInsertElement(o,c,"data-fc-grouporder"),l.item!==null&&(h=o),this._insertElement(l,h,r,f)):(l=this._getInsertElement(o,i.order,"data-fc-order"),this._insertElement(l,o,r,f)),i.type==="toggle"&&this._setSelectedItem(t,i.isSelected,r),i.type==="dropdown"&&(n("<span class='"+this.css.submenuIcon+"' data-submenu-arrow='true'><\/span>").appendTo(a),u._renderSubmenu(t,e,i)))},_renderSubmenu:function(t,i,r){var f=this._id("featurechooser_submenu_"+t,i),u;n("#"+f).length>0&&n("#"+f).remove(),(this._submenus===null||this._submenus===undefined)&&(this._submenus=[]),this._submenus.push(f),u=n("<div id='"+f+"' style='position:absolute' class='"+this.css.submenu+"'><\/div>").appendTo(this.grid._rootContainer()),u.data("buttonId",this._id("featurechooser_dd_li_"+t,i)),u.hide(),r.methodRenderSubmenu&&(r.methodRenderSubmenu(t,u),n("#"+this._id("featureChooser_dd",t)).igGridFeatureChooserPopover("registerElements",u.find("[ data-fc-item ]")))},_toggleSubmenu:function(t,i,r){var e,s=n("#"+this._id("featurechooser_dd_li_"+t,i)),f=s.find("div:nth-child(1)"),h=f.outerWidth(),c=f.igOffset().left,o=this._id("featurechooser_submenu_"+t,i),u=n("#"+o),l=c-Math.abs(u.outerWidth()-h)/2,a=f.igOffset().top+f.outerHeight();e=n.ig.util.getRelativeOffset(u),u.css({left:l-e.left,top:a-e.top}),r.methodToggleSubmenu&&r.methodToggleSubmenu(t,!u.is(":visible"),u),this._activeSubmenuId&&this._activeSubmenuId!==o&&n("#"+this._activeSubmenuId).hide(),this._activeSubmenuId=o,u.toggle("slide",{duration:150,direction:"up"})},_getSeparatorItem:function(){return n("<li data-fc-separator='1' class='"+this.css.separator+"'><\/li>")},_insertElement:function(n,t,i,r){var u=n.item,e=n.position,f;u===null?(i.appendTo(t),f=i.prev(),f!==undefined&&f.length>0&&f.attr("data-fc-separator")!=="1"&&f.attr("data-fc-groupname")!==undefined&&f.attr("data-fc-groupname")!==r&&this._getSeparatorItem().insertBefore(i)):e==="after"?(i.insertAfter(u),u!==undefined&&u.length>0&&u.attr("data-fc-separator")!=="1"&&u.attr("data-fc-groupname")!==undefined&&u.attr("data-fc-groupname")!==r&&this._getSeparatorItem().insertBefore(i)):(i.insertBefore(u),f=i.prev(),f!==undefined&&f.length>0&&f.attr("data-fc-separator")!=="1"&&f.attr("data-fc-groupname")!==undefined&&f.attr("data-fc-groupname")!==r?this._getSeparatorItem().insertBefore(i):u!==undefined&&u.length>0&&u.attr("data-fc-separator")!=="1"&&u.attr("data-fc-groupname")!==undefined&&u.attr("data-fc-groupname")!==r&&this._getSeparatorItem().insertAfter(i))},_getInsertElement:function(t,i,r){for(var u=null,o,e,f=0;f<t.length;f++)if((u=n(t[f]),e=u.attr(r),e!==undefined)&&(o=parseInt(e,10),o>i))return{item:u,position:"before"};return{item:u,position:"after"}},_setSelectedState:function(t,i,r,u){var e=this.data[i],o,f=this;if(e===undefined||e===null)return!1;n.each(e,function(e,s){if(s.name.toLowerCase()===t.toLowerCase())return o=n("#"+f._id("featurechooser_dd_li_"+i,s.name)),f._setSelectedItem(i,r,o),f.data[i][e].isSelected=!r,u===!0&&f._callFeatureMethod(s,r,i,null),s.isSelected=r,!1})},_setSelectedItem:function(n,t,i){if(i!==null&&i!==undefined&&i.length!==0){var r=i.data("data"),e,o,u,f=null;r!==undefined&&r!==null&&(e=r.text,o=r.textHide,f=i.find("span.ui-iggrid-featurechooserddlistitemtext")),i.attr("data-fc-selected",t),t===!0?(i.addClass(this.css.itemSelected),u=e,f!==null&&e!==null&&e!==undefined&&f.text(u),r.iconClassOff&&i.find("span.ui-iggrid-featurechooser-li-iconcontainer").removeClass(r.iconClassOff).addClass(r.iconClass)):(i.removeClass(this.css.itemSelected),u=o,f!==null&&o!==null&&o!==undefined&&f.text(u),r.iconClassOff&&i.find("span.ui-iggrid-featurechooser-li-iconcontainer").removeClass(r.iconClass).addClass(r.iconClassOff)),i.attr("title",u)}},_toggleSelectedItems:function(t,i){var f,e,r,s=this.grid.options.columns,h=s.length,u,o;for(i!==undefined&&(u=i),f=0;f<h;f++){if(r=s[f].key,n("#"+this._id("featureChooser_dd",r)).length===0){if(o=this._getFeatureByKeyName(r,t),o===null||o===undefined)continue;u===undefined&&(u=o.isSelected)}else{if(e=n("#"+this._id("featurechooser_dd_li_"+r,t)),e.data("data")===null||e.data("data")===undefined)continue;i===undefined&&(u=e.attr("data-fc-selected")==="true")}this._setSelectedState(t,r,!u)}},showDropDown:function(t){var i,f=this._id("featureChooser_dd",t),u=this.getDropDownByColumnKey(t),r;this.grid._focusedElement=n("#"+this._id("featureChooser_headerButton",t)).find("span"),i=n("#"+this._id("featureChooser_headerButton",t)).find("span"),i.length===0&&(i=n("#"+this.grid.id()+"_"+t)),this._visiblePopover&&f!==this._visiblePopover?(r=n("#"+this._visiblePopover).data("igGridFeatureChooserPopover"),r&&r._closePopover(),setTimeout(function(){u.data("igGridFeatureChooserPopover")._openPopover(i,!1)},100)):u.data("igGridFeatureChooserPopover")._openPopover(i,!1)},hideDropDown:function(n){var t=this.getDropDownByColumnKey(n);t.igGridFeatureChooserPopover("hide"),this.grid._focusedElement=null},getDropDownByColumnKey:function(t){var r=this._id("featureChooser_dd",t),i=n("#"+r);return i.length===0&&(this._renderMenu(t),i=n("#"+r)),i},toggleDropDown:function(n){var i=this.getDropDownByColumnKey(n),t=i.igGridFeatureChooserPopover("isShown");this._trigger(this.events.menuToggling,null,{isVisible:t,columnKey:n,owner:this}),t?this.hideDropDown(n):this.showDropDown(n)},_mouseOverDropDownItem:function(t){this._addCssSelectionListItem(n(t.currentTarget))},_mouseOutDropDownItem:function(t){this._removeCssSelectionListItem(n(t.currentTarget))},_addCssSelectionListItem:function(n){n.addClass(this.css.dropDownListItemHover)},_removeCssSelectionListItem:function(n){n.removeClass(this.css.dropDownListItemHover)},_virtualHorizontalScroll:function(){this._renderFCForAllColumns()},destroy:function(t,i){var r,e,o=this,u=this._submenus,f;if(!i||!i.owner||(f=i.owner,!f||f.id()===this.gridId)){if(this.data=null,n.each(this.grid.options.columns,function(t,i){var r=n("#"+o._id("featureChooser_dd",i.key));r.length>0&&(r.igGridFeatureChooserPopover("destroy"),r.remove())}),u)for(e=u.length,r=0;r<e;r++)n("#"+u[r]).remove();return this._headerRenderedHandler&&this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this._gridDestroyedHandler&&this.grid.element.unbind("igcontroldestroyed",this._gridDestroyedHandler),this._gridRenderedHandler&&this.grid.element.unbind("iggridrendered",this._gridRenderedHandler),this._virtualHorizontalScrollHandler&&this.grid.element.unbind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),delete this._gridRenderedHandler,delete this._headerRenderedHandler,delete this._gridDestroyedHandler,delete this._virtualHorizontalScrollHandler,this._superApply(arguments),this}}}),n.extend(n.ui.igGridFeatureChooser,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridFiltering",n.ui.igWidget,{renderInFeatureChooser:!0,options:{caseSensitive:!1,filterSummaryAlwaysVisible:!0,renderFC:!0,filterSummaryTemplate:undefined,filterDropDownAnimations:"linear",filterDropDownAnimationDuration:500,filterDropDownWidth:0,filterDropDownHeight:0,filterExprUrlKey:null,filterDropDownItemIcons:!0,columnSettings:[{columnKey:null,editorType:null,editorProvider:null,editorOptions:null,columnIndex:null,allowFiltering:!0,condition:null,conditionList:[],defaultExpressions:[],customConditions:null}],type:null,filterDelay:500,mode:null,advancedModeEditorsVisible:!1,advancedModeHeaderButtonLocation:"left",filterDialogWidth:500,filterDialogHeight:340,filterDialogFilterDropDownDefaultWidth:150,filterDialogExprInputDefaultWidth:100,filterDialogColumnDropDownDefaultWidth:null,renderFilterButton:!0,filterButtonLocation:"left",nullTexts:{startsWith:undefined,endsWith:undefined,contains:undefined,doesNotContain:undefined,equals:undefined,doesNotEqual:undefined,greaterThan:undefined,lessThan:undefined,greaterThanOrEqualTo:undefined,lessThanOrEqualTo:undefined,on:undefined,notOn:undefined,after:undefined,before:undefined,thisMonth:undefined,lastMonth:undefined,nextMonth:undefined,thisYear:undefined,lastYear:undefined,nextYear:undefined,empty:undefined,notEmpty:undefined,"null":undefined,notNull:undefined},labels:{noFilter:undefined,clear:undefined,startsWith:undefined,endsWith:undefined,contains:undefined,doesNotContain:undefined,equals:undefined,doesNotEqual:undefined,greaterThan:undefined,lessThan:undefined,greaterThanOrEqualTo:undefined,lessThanOrEqualTo:undefined,trueLabel:undefined,falseLabel:undefined,after:undefined,before:undefined,today:undefined,yesterday:undefined,thisMonth:undefined,lastMonth:undefined,nextMonth:undefined,thisYear:undefined,lastYear:undefined,nextYear:undefined,on:undefined,notOn:undefined,advancedButtonLabel:undefined,filterDialogCaptionLabel:undefined,filterDialogConditionLabel1:undefined,filterDialogConditionLabel2:undefined,filterDialogOkLabel:undefined,filterDialogCancelLabel:undefined,filterDialogAnyLabel:undefined,filterDialogAllLabel:undefined,filterDialogAddLabel:undefined,filterDialogErrorLabel:undefined,filterSummaryTitleLabel:undefined,filterDialogClearAllLabel:undefined,empty:undefined,notEmpty:undefined,nullLabel:undefined,notNull:undefined,"true":undefined,"false":undefined},tooltipTemplate:undefined,featureChooserText:undefined,featureChooserTextHide:undefined,featureChooserTextAdvancedFilter:undefined,locale:{startsWithNullText:undefined,endsWithNullText:undefined,containsNullText:undefined,doesNotContainNullText:undefined,equalsNullText:undefined,doesNotEqualNullText:undefined,greaterThanNullText:undefined,lessThanNullText:undefined,greaterThanOrEqualToNullText:undefined,lessThanOrEqualToNullText:undefined,onNullText:undefined,notOnNullText:undefined,afterNullText:undefined,beforeNullText:undefined,emptyNullText:undefined,notEmptyNullText:undefined,nullNullText:undefined,notNullNullText:undefined,startsWithLabel:undefined,endsWithLabel:undefined,containsLabel:undefined,doesNotContainLabel:undefined,equalsLabel:undefined,doesNotEqualLabel:undefined,greaterThanLabel:undefined,lessThanLabel:undefined,greaterThanOrEqualToLabel:undefined,lessThanOrEqualToLabel:undefined,trueLabel:undefined,falseLabel:undefined,afterLabel:undefined,beforeLabel:undefined,todayLabel:undefined,yesterdayLabel:undefined,thisMonthLabel:undefined,lastMonthLabel:undefined,nextMonthLabel:undefined,thisYearLabel:undefined,lastYearLabel:undefined,nextYearLabel:undefined,atLabel:undefined,notAtLabel:undefined,atBeforeLabel:undefined,atAfterLabel:undefined,clearLabel:undefined,noFilterLabel:undefined,onLabel:undefined,notOnLabel:undefined,advancedButtonLabel:undefined,filterDialogCaptionLabel:undefined,filterDialogConditionLabel1:undefined,filterDialogConditionLabel2:undefined,filterDialogConditionDropDownLabel:undefined,filterDialogOkLabel:undefined,filterDialogCancelLabel:undefined,filterDialogAnyLabel:undefined,filterDialogAllLabel:undefined,filterDialogAddLabel:undefined,filterDialogErrorLabel:undefined,filterDialogCloseLabel:undefined,filterSummaryTitleLabel:undefined,filterSummaryTemplate:undefined,filterDialogClearAllLabel:undefined,tooltipTemplate:undefined,featureChooserText:undefined,featureChooserTextHide:undefined,featureChooserTextAdvancedFilter:undefined},filterDialogAddConditionTemplate:null,filterDialogAddConditionDropDownTemplate:null,filterDialogFilterTemplate:null,filterDialogFilterConditionTemplate:null,filterDialogAddButtonWidth:100,filterDialogOkCancelButtonWidth:120,filterDialogMaxFilterCount:5,filterDialogContainment:"owner",showEmptyConditions:!1,showNullConditions:!1,dialogWidget:"igGridModalDialog",persist:!0,inherit:!1},css:{filterRow:"ui-iggrid-filterrow ui-widget",filterCell:"ui-iggrid-filtercell",filterCellEditor:"ui-iggrid-filtereditor",filterDropDownList:"ui-menu ui-widget ui-widget-content ui-iggrid-filterddlist ui-corner-all",filterDropDown:"ui-iggrid-filterdd",filterDropDownListItemTextContainer:"ui-iggrid-filterddlistitemcontainer",filterDropDownListItem:"ui-iggrid-filterddlistitem",filterDropDownListItemAdvanced:"ui-iggrid-filterddlistitemadvanced",filterDropDownListItemWithIcons:"ui-iggrid-filterddlistitemicons ui-state-default",filterDropDownListItemClear:"ui-iggrid-filterddlistitemclear",filterDropDownListItemHover:"ui-iggrid-filterddlistitemhover ui-state-hover",filterDropDownListItemActive:"ui-iggrid-filterddlistitemactive ui-state-active",filterDateCell:"",filterTextCell:"",filterNumberCell:"",filterBoolCell:"",filterButton:"ui-iggrid-filterbutton ui-corner-all ui-icon ui-icon-triangle-1-s",filterButtonAdvanced:"ui-iggrid-filterbutton ui-iggrid-filterbuttonadvanced ui-icon ui-icon-search",filterButtonAdvancedRight:"ui-iggrid-filterbuttonright ui-iggrid-filterbuttonadvanced ui-icon ui-icon-search",filterButtonSimpleRight:"ui-iggrid-filterbuttonright",filterButtonHover:"ui-iggrid-filterbuttonhover ui-state-hover",filterButtonActive:"ui-iggrid-filterbuttonactive ui-state-active",filterButtonFocus:"ui-iggrid-filterbuttonfocus ui-state-focus",filterButtonDisabled:"ui-iggrid-filterbuttondisabled ui-state-disabled",filterButtonDate:"ui-iggrid-filterbuttondate",filterButtonString:"ui-iggrid-filterbuttonstring",filterButtonNumber:"ui-iggrid-filterbuttonnumber",filterButtonBoolean:"ui-iggrid-filterbuttonbool",filterButtonAdvancedHover:"ui-iggrid-filterbuttonadvancedhover ui-state-hover",filterButtonAdvancedActive:"ui-iggrid-filterbuttonadvancedactive ui-state-active",filterButtonAdvancedFocus:"ui-iggrid-filterbuttonadvancedfocus ui-state-focus",filterButtonAdvancedDisabled:"ui-iggrid-filterbuttonadvanceddisabled ui-state-disabled",filterItemIcon:"ui-iggrid-filtericon",filterItemIconContainer:"ui-iggrid-filtericoncontainer",filterItemIconStartsWith:"ui-iggrid-filtericonstartswith",filterItemIconEndsWith:"ui-iggrid-filtericonendswith",filterItemIconContains:"ui-iggrid-filtericoncontains",filterItemIconEquals:"ui-iggrid-filtericonequals",filterItemIconDoesNotEqual:"ui-iggrid-filtericondoesnotequal",filterItemIconDoesNotContain:"ui-iggrid-filtericondoesnotcontain",filterItemIconGreaterThan:"ui-iggrid-filtericongreaterthan",filterItemIconLessThan:"ui-iggrid-filtericonlessthan",filterItemIconGreaterThanOrEqualTo:"ui-iggrid-filtericongreaterthanorequalto",filterItemIconLessThanOrEqualTo:"ui-iggrid-filtericonlessthanorequalto",filterItemIconTrue:"ui-iggrid-filtericontrue",filterItemIconFalse:"ui-iggrid-filtericonfalse",filterItemIconAfter:"ui-iggrid-filtericonafter",filterItemIconBefore:"ui-iggrid-filtericonbefore",filterItemIconToday:"ui-iggrid-filtericontoday",filterItemIconYesterday:"ui-iggrid-filtericonyesterday",filterItemIconThisMonth:"ui-iggrid-filtericonthismonth",filterItemIconLastMonth:"ui-iggrid-filtericonlastmonth",filterItemIconNextMonth:"ui-iggrid-filtericonnextmonth",filterItemIconThisYear:"ui-iggrid-filtericonthisyear",filterItemIconLastYear:"ui-iggrid-filtericonlastyear",filterItemIconNextYear:"ui-iggrid-filtericonnextyear",filterItemIconOn:"ui-iggrid-filtericonon",filterItemIconNotOn:"ui-iggrid-filtericonnoton",filterItemIconClear:"ui-iggrid-filtericonclear",blockArea:"ui-widget-overlay ui-iggrid-blockarea",filterDialog:"ui-dialog ui-draggable ui-resizable ui-iggrid-dialog ui-widget ui-widget-content ui-corner-all",filterDialogHeaderCaption:"ui-dialog-titlebar ui-iggrid-filterdialogcaption ui-widget-header ui-corner-all ui-helper-reset ui-helper-clearfix",filterDialogHeaderCaptionTitle:"ui-dialog-title",filterDialogAddCondition:"ui-iggrid-filterdialogaddcondition",filterDialogAddConditionDropDown:"ui-iggrid-filterdialogaddconditionlist",filterDialogAddButton:"ui-iggrid-filterdialogaddbuttoncontainer ui-helper-reset",filterDialogOkCancelButton:"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix ui-iggrid-filterdialogokcancelbuttoncontainer",filterDialogFiltersTable:"ui-iggrid-filtertable ui-helper-reset",filterDialogFilterRemoveButton:"ui-icon ui-icon-closethick",filterDialogClearAllButton:"ui-iggrid-filterdialogclearall",featureChooserModalDialogIcon:"ui-icon ui-iggrid-icon-advanced-filter",customEditorInputContainerDiv:"ui-igeditor-input-container ui-corner-all",customEditorParentDiv:"ui-igedit ui-igedit-container ui-widget ui-corner-all ui-state-default"},events:{dataFiltering:"dataFiltering",dataFiltered:"dataFiltered",dropDownOpening:"dropDownOpening",dropDownOpened:"dropDownOpened",dropDownClosing:"dropDownClosing",dropDownClosed:"dropDownClosed",filterDialogOpening:"filterDialogOpening",filterDialogOpened:"filterDialogOpened",filterDialogMoving:"filterDialogMoving",filterDialogFilterAdding:"filterDialogFilterAdding",filterDialogFilterAdded:"filterDialogFilterAdded",filterDialogClosing:"filterDialogClosing",filterDialogClosed:"filterDialogClosed",filterDialogContentsRendering:"filterDialogContentsRendering",filterDialogContentsRendered:"filterDialogContentsRendered",filterDialogFiltering:"filterDialogFiltering"},_createWidget:function(){this.options.columnSettings=[],n.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){this._editorProviders=[],this._filteringRequestCount=0,n.fn.fadeToggle||(n.fn.fadeToggle=n.fn.toggle),this._fcData={},this._isInitFC=!1,this._dsTransformedCustomConditions=null,this.options.filterDropDownAnimations==="none"&&(this.options.filterDropDownAnimationDuration=1,this.options.filterDropDownAnimations="linear")},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},_getLabelTextByCondition:function(n){return this._getLocaleValue(n+"Label")},_getNullTextByCondition:function(n){var t=this._getLocaleValue(n+"NullText");return t===""?this._getLabelTextByCondition(n):t},_changeLocaleForFeatureChooser:function(){var n=this.grid.element.data("igGridFeatureChooser");n&&this.renderInFeatureChooser&&(n._removeFeature("Filtering"),n._removeFeature("AdvancedFiltering")),this._initFC()},_changeLocaleForFilterDialog:function(){var i=this._getFilterDialog(),u,r,f,e,t=this;n.ui.igWidget.prototype.changeLocale.call(this,i),i[this.options.dialogWidget]("option",{locale:{modalDialogCaptionText:this._getLocaleValue("filterDialogCaptionLabel"),buttonApplyText:this._getLocaleValue("filterDialogOkLabel"),buttonCancelText:this._getLocaleValue("filterDialogCancelLabel")}}),i.find("[data-af-clear-all-button]").igButton("option","labelText",this._getLocaleValue("filterDialogClearAllLabel")),u=i.find("[data-af-row]"),u.each(function(){r=n(this),f=t._getDialogColSelByRow(r),e=t._getDialogExprSelByRow(r).data("provider"),f.data("igTextEditor").option("language",t.grid.options.language),t._setEditorOption(e.getEditor(),"language",t.grid.options.language)})},changeLocale:function(){var u=this,r=this.grid._rootContainer(),i=r.find("[data-filter-summary-template]"),f=this._getFilterDialog(),t;if(this._setNullTextsInFilteringEditors(),this._changeLocaleForFeatureChooser(),r.find("[data-filter-dropdown]").each(function(){u._super(n(this))}),this._updateTooltips(this.grid.dataSource.settings.filtering.expressions),f.length&&this._changeLocaleForFilterDialog(),this._editorProviders&&this._editorProviders.length>0)for(t=0;t<this._editorProviders.length;t++)this._hasEditor(this._editorProviders[t])&&this._setEditorOption(this._editorProviders[t].getEditor(),"language",this.grid.options.language);i.length&&(this._changeLocaleForElement(i),i.text(this._getLocaleValue("filterSummaryTemplate").replace("${matches}",i.attr("data-filter-summary-template"))))},changeRegional:function(){var i=this.grid.options.regional,t,n;if(this._editorProviders&&this._editorProviders.length>0)for(n=0;n<this._editorProviders.length;n++)this._hasEditor(this._editorProviders[n])&&(t=this._editorProviders[n].getEditor().element.data("colKey"),this.grid.columnByKey(t).regional||this._setEditorOption(this._editorProviders[n].getEditor(),"regional",i))},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(n,t){if(this._super(n,t),n==="mode"||n==="renderFilterButton"||n==="filterButtonLocation"||n==="type")throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",n));n==="filterDropDownWidth"?this.grid._rootContainer().find("div ul").parent().css("width",t):n==="filterDropDownHeight"?this.grid._rootContainer().find("div ul").parent().css("height",t):n==="filterDialogWidth"?this._getFilterDialog().css("width",t):n==="filterDialogHeight"?this._getFilterDialog().css("height",t):n==="columnSettings"&&this._initDefaultSettings()},_isBool:function(n){return n==="bool"||n==="boolean"?!0:!1},_setEditorOption:function(n,t,i){n._setOption?n._setOption(t,i):t==="width"?n.element.width(i):t==="readOnly"&&n.element.prop("readonly",i)},destroy:function(){var t,i=this.grid.id(),u=this.grid.options.columns,r,n=this.grid._rootContainer(),f=n.find("#"+i+"_container_block"),e=n.find("#"+i+"_container_dialog");if(this._destroyAllEditors(),this.grid.container().find(".ui-iggrid-filterrow, .ui-iggrid-filterdd").remove(),this.element.closest(".ui-iggrid-root").length&&n.find("#"+i+"filtering_dd").remove(),this.options.advancedModeEditorsVisible===!1&&this.options.mode==="advanced"&&this.options.renderFilterButton===!0)for(r=0;r<u.length;r++)n.find("#"+i+"_dd_"+u[r].key+"_button").remove();return f.remove(),e.remove(),n.unbind("keydown.focusChecker"),this.grid.element.unbind("iggridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this.grid.element.unbind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),this.grid.element.unbind("iggridresizingcolumnresized",this._columnResizedHandler),this.grid.element.unbind("iggridheaderextracellsmodified",this._headerInitHandler),this.grid.element.unbind("iggriddatabound",this._dataBoundHandler),this.grid.element.unbind("iggrid_columnsmoved",this._columnsAlteredHandler),this.grid.element.unbind("iggriduidirty",this._onUIDirtyHandler),delete this._headerRenderedHandler,delete this._virtualHorizontalScrollHandler,delete this._columnResizedHandler,delete this._headerInitHandler,delete this._onUIDirtyHandler,delete this._columnsAlteredHandler,this._fcData=null,this.options.columnSettings=null,this.options=null,this._loadingIndicator&&delete this._loadingIndicator,this._filterInternal&&delete this._filterInternal,this._toggleFilterRowHandler&&delete this._toggleFilterRowHandler,this._openFilterDialogFromFCHandler&&delete this._openFilterDialogFromFCHandler,t=this.grid.element.data("igGridFeatureChooser"),t&&this.renderInFeatureChooser&&(t._removeFeature("Filtering"),t._removeFeature("AdvancedFiltering")),this._superApply(arguments),this},_destroyAllEditors:function(){var n;for(n in this._editorProviders)this._editorProviders.hasOwnProperty(n)&&this._editorProviders[n].destroy&&this._editorProviders[n].getEditor().element.remove();this._editorProviders=null},_initLoadingIndicator:function(){this._loadingIndicator=this.grid._rootContainer().length>0?this.grid._rootContainer().igLoading().data("igLoading"):this.grid.element.igLoading().data("igLoading").indicator()},_setNullTextsInFilteringEditors:function(){var n,t,r=this.options.columnSettings,i=this._editorProviders,u=this.grid.options.columns;if(i)for(n=0;n<i.length;n++)r[n]&&r[n].allowFiltering!==!1&&(i[n].getValue()===null&&i[n].setValue(null),t=this._getNullTextByCondition(this._findColumnSetting(r[n].columnKey).condition),(t===null||t===undefined)&&(t=this._getNullTextByCondition(this._getDefaultCondition(this._getColType(u[n].key)))),this._setEditorOption(i[n].getEditor(),"placeHolder",t))},_onUIDirty:function(t,i){if(!this.options.persist||this.options.type!=="remote"){var r,u=this.grid.options.columns;if(i.owner!==this&&i.owner.element[0].id===this.element[0].id){for(this._filterDialogClearAll(),this._setNullTextsInFilteringEditors(),r=0;r<u.length;r++)this.grid._rootContainer().find("#"+this.grid.id()+"filtering_dd").find("li").removeClass("ui-iggrid-filterddlistitemactive ui-state-active");n(".ui-iggrid-filterbutton",this.grid._rootContainer()).parent().attr("title",this._getLocaleValue("tooltipTemplate").replace("${condition}",this._getLocaleValue("noFilterLabel"))),this.grid.dataSource.settings.filtering.expressions=[]}}},getFilteringMatchesCount:function(){var i=this.options,n=this.grid.dataSource,t;return t=i.type==="local"||i.type==="remote"&&n.hasTotalRecordsCount()===!1?n._filter?n._filteredData.length:n._data.length:n.totalRecordsCount()},_dataRendered:function(){var o,r,l,a,s=0,t=this.grid,i=t.container().find(".ui-iggrid-footer .ui-iggrid-results").eq(0),u=i.parent(),f=!1,v=!1,e,h=!1,y,p=!1,c=t.element.data("igGridPaging");if(this._loadingIndicator||this._initLoadingIndicator(),this._hiddenCells&&this._hiddenCells.length>0){for(e=0;e<this._hiddenCells.length;e++)this._hiddenCells[e].show();this._hiddenCells=undefined}this._defaultExpressions&&this._defaultExpressions.length>0&&(l=this._defaultExpressions,this._defaultExpressions=[],this._updateFiltersUI(l,!1),v=!0,this._filteringRequestCount++),this._shouldFireDataFiltered&&(y=this._getDataColumnFilteringExpressions(t.dataSource.settings.filtering.expressions),this._shouldFireDataFiltered=!1,this._trigger(this.events.dataFiltered,null,{columnKey:this._curColKey,columnIndex:this._curColIndex,owner:this,expressions:y})),i.is(":visible")||(f=!0),this._filteringRequestCount>0?(this.options.filterSummaryAlwaysVisible===!0&&i.length===0&&(u=n("<div><\/div>").appendTo(t.container()).addClass("ui-widget ui-helper-clearfix ui-corner-bottom ui-widget-header ui-iggrid-footer"),t.hasFixedColumns()&&(u.css("clear","both"),p=n.ig.util.isChrome&&u.height()>t._rootContainer().height()),i=n("<span><\/span>").appendTo(u).addClass("ui-iggrid-results"),v&&c&&(u.attr("id",t.element[0].id+"_pager").addClass("ui-iggrid-pager"),i.attr("id",t.element[0].id+"_pager_label").addClass("ui-iggrid-pagerrecordslabel")),f=!0),s=this.getFilteringMatchesCount(),i.parent().is(":visible")||(i.parent().show(),f=!0),i.text(this._getLocaleValue("filterSummaryTemplate").replace("${matches}",s)).attr({title:this._getLocaleValue("filterSummaryTitleLabel"),"data-filter-summary-template":s,"data-localeid":"filterSummaryTitleLabel","data-localeattr":"title"}),i.show(),h=!0,this._filteringRequestCount--):this._filteringRequestCount<=0&&(a=t.dataSource.settings.filtering.expressions||[],i.data("hideflag")===!1||a.length!==0||c&&c._plabel()?i.data("hideflag",!0):(h=!0,i.hide(),i.parent().children().length===1&&i.parent().hide()),f=!0),this._loadingIndicator.hide(),f&&(t.hasFixedColumns()&&(r=t.fixedContainer()[0],r&&(o=r.style.width,r.style.width="")),t._initializeHeights(),o&&(r.style.width=o),p&&t._initializeHeights(),h&&(t.options.virtualization||t.options.rowVirtualization)&&(t._updateVirtualScrollContainer(),t._virtualDom=null,t._renderVirtualRecords())),this._setEditorsWidth()},_initFC:function(){var t,i,u=this.grid.element.data("igGridFeatureChooser"),r=this.options,f=this.options.columnSettings,o=r.mode==="advanced"&&r.advancedModeEditorsVisible===!0,e=r.mode!=="simple"&&r.advancedModeEditorsVisible===!1;if((this._isInitFC=!0,r.renderFC!==!1)&&u&&this.renderInFeatureChooser)for((this._toggleFilterRowHandler===null||this._toggleFilterRowHandler===undefined)&&(this._toggleFilterRowHandler=n.proxy(this.toggleFilterRowByFeatureChooser,this)),(this._openFilterDialogFromFCHandler===null||this._openFilterDialogFromFCHandler===undefined)&&(this._openFilterDialogFromFCHandler=n.proxy(this._openFilterDialogFromFC,this)),i=0;i<f.length;i++)t=f[i].columnKey,t&&f[i].allowFiltering===!0&&u._shouldRenderInFeatureChooser(t)===!0&&(this._filterRowShown=!0,this._fcData[t]=!0,(e||o)&&u._renderInFeatureChooser(t,{name:"AdvancedFiltering",text:this._getLocaleValue("featureChooserTextAdvancedFilter"),iconClass:this.css.featureChooserModalDialogIcon,isSelected:!0,method:this._openFilterDialogFromFCHandler,updateOnClickAll:!0,groupName:"modaldialog",groupOrder:3,order:3}),e||u._renderInFeatureChooser(t,{name:"Filtering",text:this._getLocaleValue("featureChooserText"),textHide:this._getLocaleValue("featureChooserTextHide"),iconClass:this.css.featureChooserModalDialogIcon,isSelected:!0,method:this._toggleFilterRowHandler,updateOnClickAll:!0,groupName:"toggle",groupOrder:1,order:2,type:"toggle",state:"hide"}))},_columnResized:function(){this._filterRowShown!==!1&&this._setEditorsWidth()},_setEditorsWidth:function(){if(this.options.mode==="simple"||this.options.advancedModeEditorsVisible===!0)for(var e=this.options.columnSettings,s=this.grid._visibleColumns(),u=this.grid.headersTable().find("thead tr[data-role=filterrow]").first().find("td").not("[data-skip=true]"),f,r,o,i,t=0;t<s.length;t++){for(r=0;r<e.length;r++)if(e[r].columnKey===s[t].key&&e[r].allowFiltering===!1){o=!0;break}if(o){o=!1;continue}f=!n.ig.util.isOpera&&(this.grid.options.height&&this.grid.options.fixedHeaders===!0||n.ig.util.isWebKit)?u.eq(t).innerWidth():u.eq(t).width(),f-=u.eq(t).data("buttonWidth"),i=u.eq(t).find("span[data-filter-editor]").first().data("provider"),i||(i=this._editorProviders[t]),i.getEditor&&(this._setEditorOption(i.getEditor(),"width",f),this._setEditorInputWidth(i))}},_setEditorInputWidth:function(n){if(n.getEditor()._editorContainer){var r,t,u,f=2,i=n.getEditor()._editorContainer.find("div.ui-igedit-button-common");i.length>0&&(t=n.getEditor()._editorContainer.find("div.ui-igeditor-input-container").first(),t.length>0&&(r=n.getEditor()._editorContainer.width(),u=i.first().outerWidth(),t.width(r-i.length*u-f)))}},_headerRendered:function(t){var l,s,i=0,r,o,f,u=this.grid.options.columns,h,w,e,b=this.options.columnSettings,k=!1,a,v=!1,y,d,g,p,tt=this.options.mode==="simple"||this.options.advancedModeEditorsVisible===!0,it=this.grid._initialHiddenColumns&&this.grid._initialHiddenColumns.length>0,nt,c;if(t.target.id===this.grid.element[0].id){for(l=this.grid.container().find("thead"),this.options.mode==="simple"||this.options.advancedModeEditorsVisible===!0?(s=n("<tr><\/tr>").appendTo(l).addClass(this.css.filterRow).attr("data-role","filterrow"),this.grid._headerInit(s)):s=l.find("tr:first"),d=function(n){n.preventDefault(),n.stopPropagation()},it&&(this._hiddenCells=[]),g=i+s.find("[data-skip=true]").length,(this.options.advancedModeEditorsVisible===!0||this.options.mode!=="advanced")&&this._renderDropDownElement(this.grid.id()+"_filtering_dd",u[0].key),i=0;i<u.length;i++,g++){if(c=this._findColumnSetting(u[i].key),nt=c.defaultExpressions?c.defaultExpressions[0].cond:c.condition,c.condition=nt?nt:this._getDefaultCondition(this._getColType(u[i].key)),tt===!0){if(r=n("<td><\/td>").appendTo(s).addClass(this.css.filterCell),it&&this._hiddenCells.length<this.grid._initialHiddenColumns.length)for(e=this.grid._initialHiddenColumns.length-1;e>=0;e--)if(this.grid._initialHiddenColumns[e].key===u[i].key){r.hide(),this._hiddenCells.push(r);break}r.attr("aria-describedBy",this.grid.id()+"_"+u[i].key)}else r=this.grid.container().find("#"+this.grid.id()+"_"+u[i].key),r.children().first().is("a")&&(r.children().first().css("display","inline"),r.css("cursor","pointer")),r.data("colName",u[i].key),r.attr("aria-describedBy",this.grid.id()+"_"+u[i].key);for((this.grid._isMultiColumnGrid!==!0||tt===!0)&&(i===u.length-1&&this.grid.options.height&&parseInt(this.grid.options.height,10)>0?r.css("width",parseInt(u[i].width,10)+this.grid._scrollbarWidth()):r.css("width",u[i].width)),e=0;e<b.length;e++)if(b[e].columnKey===u[i].key&&b[e].allowFiltering===!1){(this.options.advancedModeEditorsVisible===!0||this.options.mode!=="advanced")&&this._editorProviders.push({}),k=!0;break}if(k){k=!1;continue}h=l.children().first().find("th:nth-child("+(g+1)+")"),o=n.ig.util.isWebKit&&h.length>0?h[0].offsetWidth:this.grid.options.height&&this.grid.options.fixedHeaders===!0||n.ig.util.isWebKit?h.innerWidth():h.width(),v=this.options.advancedModeEditorsVisible===!1&&this.options.mode==="advanced"&&this.options.renderFilterButton===!0,(this.options.renderFilterButton===!0&&!v||v&&this._renderFCFor(u[i].key)===!1)&&(w=this.grid.element.attr("id")+"_dd_"+u[i].key,a=this.options.mode==="advanced"?this.css.filterButtonAdvanced:this.css.filterButton,v&&this.options.advancedModeHeaderButtonLocation==="right"?(a=this.css.filterButtonAdvancedRight,f=n("<span><\/span>").appendTo(r).addClass(a).data("colIndex",i)):f=n("<span><\/span>").prependTo(r).addClass(a).data("colIndex",i),this.options.mode==="advanced"&&(r.hasClass(this.grid.css.headerCellFeatureEnabledClass)||r.addClass(this.grid.css.headerCellFeatureEnabledClass)),this.options.mode==="simple"||this.options.mode==="advanced"&&this.options.advancedModeEditorsVisible===!0?f.wrap('<a id="'+w+'_button" data-col-key="'+u[i].key+'" href="#" title="'+this._getLocaleValue("tooltipTemplate").replace("${condition}",this._getLocaleValue("noFilterLabel"))+'" ><\/a>'):f.wrap('<a id="'+w+'_button" data-col-key="'+u[i].key+'" href="#" title="'+this._getLocaleValue("tooltipTemplate").replace("${condition}",this._getLocaleValue("noFilterLabel"))+'" style="display:inline;"><\/a>'),y=r.find(".ui-iggrid-indicatorcontainer"),y.length===0&&(y=n("<div><\/div>").appendTo(r).addClass("ui-iggrid-indicatorcontainer")),y.append(f.parent()),o=parseInt(o,10),p=this.grid.options.height===null&&n.ig.util.isFF?f.outerWidth(!0):f.outerWidth(!1),o-=p,r.data("buttonWidth",p)),this.options.renderFilterButton===!0&&(this.options.advancedModeEditorsVisible===!0||this.options.mode!=="advanced"?(f.parent().bind({mousedown:n.proxy(this._toggleDropDown,this),mouseup:d,click:d,blur:n.proxy(this._deactivateButton,this),keydown:n.proxy(this._toggleDropDownKeyboard,this),mouseover:n.proxy(this._hoverButton,this),mouseout:n.proxy(this._unhoverButton,this),focus:n.proxy(this._activateButton,this)}),n.ig.util.isIE&&f.parent().bind({focusout:n.proxy(this._deactivateButton,this)})):this._renderFCFor(u[i].key)===!1&&f.parent().bind({click:n.proxy(this._openFilterDialog,this),keydown:n.proxy(this._openFilterDialogFromKeyboard,this),focus:n.proxy(this._activateButton,this),blur:n.proxy(this._deactivateButton,this)})),(this.options.advancedModeEditorsVisible===!0||this.options.mode!=="advanced")&&this._createEditor(r,o,i,u[i])}this._getFilterDialog().length>0&&this._getFilterDialog().remove(),this._renderFilterDialog()}},_renderFCFor:function(n){return!(this._fcData===null||this._fcData===undefined||this.options.renderFC===!1||this._fcData[n]!==!0)},_columnMap:function(){var r=this.options,n,t,i=r.columnSettings,f=i.length,u=[];if(r.renderFC===!1)return!1;for(n=0;n<f;n++)t={columnKey:i[n].columnKey,enabled:!0},i[n].allowFiltering===!1&&(t.enabled=!1),u.push(t);return u},_headerCellRendered:function(){this._isInitFC!==!0&&this._initFC()},_dataBound:function(){for(var r,t,i=0;i<this._editorProviders.length||0;i++)r=this._editorProviders[i],t=r.getEditor?r.getEditor():null,t&&t.widgetName&&(t.widgetName==="igDateEditor"||t.widgetName==="igDatePicker"||t.widgetName==="igTimePicker")&&n.contains(document.documentElement,t.element)&&this._setEditorOption(t,"displayTimeOffset",this.grid._calcOffsetForCol(null,this.grid.getColumnByTD(t.element.closest("td")).column))},_openFilterDialogFromFC:function(n,t){this._openFilterDialog(n,t)},toggleFilterRowByFeatureChooser:function(t){var u,r,f=this.options,i=this._filterRowShown,o=this.grid._rootContainer().find("thead"),e=!(f.mode==="simple"||f.advancedModeEditorsVisible===!0);(i===null||i===undefined)&&(this._filterRowShown=!0,i=this._filterRowShown),(e===!1||e&&f.advancedModeEditorsVisible)&&(r=o.find('tr[data-role="filterrow"]'),i===!0?(r.hide(),(document.documentMode===7||n.ig.util.isIE7)&&r.children().hide(),i=!1):(r.show(),(document.documentMode===7||n.ig.util.isIE7)&&r.children().show(),this._setEditorsWidth(),i=!0),(t===null||t===undefined)&&(u=this.grid.element.data("igGridFeatureChooser"),u&&u._toggleSelectedItems("Filtering")),this._filterRowShown=i,this.grid._initializeHeights(),this.grid.options.autofitLastColumn&&this.grid.options.height&&this.grid.hasVerticalScrollbar()!==this.grid._hasVerticalScrollbar&&this.grid._adjustLastColumnWidth())},_getEditorVal:function(n){var t=n.getEditor(),i;return t._focused&&t.widgetName!=="igDatePicker"&&(i=t._editorInput.val(),i===t._maskWithPrompts&&(i=""),t._processInternalValueChanging(i)),n.getValue()},_createEditor:function(t,i,r,u){var o,s,a,h=this,w,b,e,k=!1,v,c,f,g,y,p={keyDown:n.noop,textChanged:n.noop};if(s=u.dataType,a=u.key,s==="object"&&(s=this._getColType(a)),e=this._findColumnSetting(a),v=e.condition,y=this._getNullTextByCondition(v),f=e?e.editorOptions||{}:{},w=e?this._getEditorProviderType(s,e.editorType):null,c=e?e.editorProvider:null,!c){try{c=n.ig.GetEditorProvider(this.grid,u,w)}catch(it){this._editorProviders.push({});return}o=n("<span />").attr("data-filter-editor",!0),this.options.filterButtonLocation==="left"?o.appendTo(t):o.prependTo(t)}if(this._isBool(s)&&(k=!0,y=""),e.defaultExpressions&&e.defaultExpressions.length>0&&n(e.defaultExpressions).each(function(){e.customConditions&&e.customConditions.hasOwnProperty(this.cond)?(v=a+"_"+this.cond,y=this.cond):(v=this.cond,y=h._getNullTextByCondition(v)),k=!h.requiresFilteringExpression(v)}),b=w==="datepicker"?"dropdown,clear":f.buttonType?f.buttonType:w==="timepicker"||s==="time"?"spin,clear":"clear",f=n.extend({},{width:i,language:this.grid.options.language,regional:u.regional||this.grid.options.regional,preventSubmitOnEnter:f.preventSubmitOnEnter||!0,suppressNotifications:f.suppressNotifications||!0,readOnly:k,textAlign:f.textAlign||"left",buttonType:b,displayTimeOffset:this.grid._calcOffsetForCol(null,u),revertIfNotValid:f.revertIfNotValid||!1,placeHolder:y,allowNullValue:f.allowNullValue||!0,tabIndex:this.grid.options.tabIndex,rendered:function(i,r){var f=r.owner,u,e;if(u=f.editorContainer?f.editorContainer():f.element,u&&(e=t.find(".ui-iggrid-indicatorcontainer"),h.options.filterButtonLocation==="left"?e.prependTo(u):e.appendTo(u)),!h.options.renderFilterButton)r.owner.element.on({mousedown:function(n){f.options.readOnly&&h._toggleDropDown(n)},blur:n.proxy(h._closeDropDown,h),keydown:n.proxy(h._toggleDropDownKeyboard,h)})}},f),s==="date"||s==="datetime"||s==="time"?(f=n.extend({},f,{enableUTCDates:this.options.type==="remote"?!0:this.grid.options.enableUTCDates,displayTimeOffset:this.options.type==="remote"?0:this.grid._calcOffsetForCol(null,u),valueChanged:n.proxy(this._filter,this),revertIfNotValid:!1}),p=n.extend(p,{valueChanged:n.proxy(this._filter,this)}),u.format&&(f.dateInputFormat=u.format)):p=n.extend(p,{textChanged:n.proxy(this._filter,this)}),this._isBool(s)&&(f=n.extend({},f,{isLimitedToListValues:!1,allowNullValue:!0})),g=c.createEditor(p,a,f,this.grid.options.tabIndex,u.format,o,this.options.type==="remote"?0:this.grid._calcOffsetForCol(null,u)),!o){o=g;var nt=t.find(".ui-iggrid-indicatorcontainer"),l=n("<div />").addClass(this.css.customEditorParentDiv),d=n("<div />").addClass(this.css.customEditorInputContainerDiv),tt=n("<span />").attr("data-filter-editor",!0);o.appendTo(tt),tt.appendTo(d),h.options.filterButtonLocation==="left"?(d.appendTo(l),nt.prependTo(l)):(d.prependTo(l),nt.appendTo(l)),l.appendTo(t),c.setSize(l.width(),l.height())}o.data("colIndex",r).data("colKey",a).data("provider",c),this._editorProviders.push(c),o.is("input")?o.addClass(this.css.filterCellEditor):o.find("input").addClass(this.css.filterCellEditor)},_fixedColumnsChanged:function(t){var i,u=t.start,r,f=t.length,e=t.at;for(this.grid._rearrangeArray(this.options.columnSettings,u,f,e),this.grid._rearrangeArray(this._editorProviders,u,f,e),i=0;i<this._editorProviders.length;i++)this._hasEditor(this._editorProviders[i])&&(r=n(this._editorProviders[i].getEditor().element),r.data("colIndex",i),r.closest("td").find("span.ui-iggrid-filterbutton").data("colIndex",i))},_columnsAltered:function(t,i){var r,o,u=i.start,f=i.len,e=i.index;if(i.owner.id()===this.grid.id()&&(u||f||e)){for(r=0;r<this.options.columnSettings.length;r++)o=this.options.columnSettings[r],this.grid._isColumnHidden(o.columnKey)===!0&&(u+=r<=u?1:0,f+=r>=u&&r<u+f?1:0,e+=r<=e?1:0);for(this.grid._rearrangeArray(this.options.columnSettings,u,f,e),this.grid._rearrangeArray(this._editorProviders,u,f,e),r=0;r<this._editorProviders.length;r++)this._hasEditor(this._editorProviders[r])&&(n(this._editorProviders[r].getEditor().element).data("colIndex",r),n(this._editorProviders[r].getEditor().element).closest("td").find("span.ui-iggrid-filterbutton").data("colIndex",r))}},_findColumnSetting:function(n){for(var t=0;t<this.options.columnSettings.length;t++)if(this.options.columnSettings[t].columnKey===n)return this.options.columnSettings[t]},filter:function(n,t,i){var r,u;if(this._loadingIndicator.show(),n===undefined||n===null||n.length===0)for(r=0;r<this.options.columnSettings.length;r++)u=this.options.columnSettings[r].condition,this.requiresFilteringExpression(u)||(this.options.columnSettings[r].condition=null);i?this._filterDataSource(n):(this._filterDataSource(n,!0),this._updateFiltersUI([],!1)),(t===undefined||t===!0)&&this._updateFiltersUI(n===undefined?this._generateExpressions():n,i)},_filter:function(t,i){clearTimeout(this._timeoutId),this._ui=t,this._args=i,parseInt(this.options.filterDelay,10)===0?this._filterInternal():this._timeoutId=setTimeout(n.proxy(this._filterInternal,this),this.options.filterDelay)},_filterInternal:function(t,i){var f=this._args,r,u,s,e,o;f!==undefined?(r=n(f.owner.element).data("colIndex"),u=n(f.owner.element).data("colKey")):(r=t,u=i),o=this._generateExpressions(!0),s=this._trigger(this.events.dataFiltering,null,{columnKey:u,columnIndex:r,owner:this,newExpressions:o}),s&&(this._loadingIndicator.show(),e=this._editorProviders?this._editorProviders[r]:null,e&&(e._addedFromAdvanced=!1),this._curColKey=u,this._curColIndex=r,this._filterDataSource(o,!1,!0))},_filterDataSource:function(t,i,r){var u,f,e,o,s,h,c=this.grid.options.columns,l=!1,a,v;if(a=this._getLocaleValue("tooltipTemplate").replace("${condition}",this._getLocaleValue("noFilterLabel")),i&&n.type(t)==="array"&&t.length)for(f=0;f<t.length;f++)(o=t[f],o.dataType)||(s=this.grid.columnByKey(o.fieldName),s&&(o.dataType=s.dataType?s.dataType:"string"));if(t===undefined||r){for(u=t!==undefined&&r?t:this._generateExpressions(!0),f=0;f<c.length;f++){for(l=!1,h=this.grid._rootContainer().find("#"+this.grid.element[0].id+"_dd_"+c[f].key+"_button"),e=0;e<u.length;e++)if(c[f].key===u[e].fieldName){l=!0,(u[e].expr===undefined||u[e].expr===null||u[e].expr==="")&&this.requiresFilteringExpression(u[e].cond)?h.attr("title",a):h.attr("title",this._getLocaleValue("tooltipTemplate").replace("${condition}",this._getLabelTextByCondition(u[e].cond)));break}l||h.attr("title",a)}this.grid.dataSource.settings.filtering.expressions=u}else if(i===!0){if(this.grid.dataSource.settings.filtering.expressions=t,this.options.mode==="advanced")for(this._filterDialogClearAll(),f=0;f<t.length;f++)this._addFilterFromDialog(null,t[f])}else this.grid.dataSource.settings.filtering.expressions=t;this.options.persist&&this._saveFilteringExpressions(),this.grid._hasUnboundColumns&&(this.grid._rebindUnboundColumns=!0),this.grid.element.trigger("iggriduisoftdirty",{owner:this}),v=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),v&&(u=this.grid.dataSource.settings.filtering.expressions,this.options.type==="remote"?(this.grid.dataSource.settings.paging.pageIndex=0,this.grid._shouldResetPaging=!0):this.grid.container().find(".ui-iggrid-footer .ui-iggrid-results").length>0&&this.grid.container().find(".ui-iggrid-footer .ui-iggrid-results").data("overrideLabel",u.length),this._filteringRequestCount++,this._preserveSorting(),u.length===0?(i||(this._shouldFireDataFiltered=!0),this.options.type==="remote"?(this._filteringRequestCount=0,this.grid.dataSource.dataBind()):(this.grid.dataSource.settings.filtering.type="local",this._filteringRequestCount=0,this.grid.dataSource.clearLocalFilter(),this.grid._renderData())):this.options.type==="remote"?(i||(this._shouldFireDataFiltered=!0),this.grid.dataSource.dataBind()):(this.grid.dataSource.settings.filtering.type="local",this.grid.dataSource.filter(u),this.grid._renderData(),i||this._trigger(this.events.dataFiltered,null,{columnKey:this._curColKey,columnIndex:this._curColIndex,owner:this,expressions:u})))},_filterDataSourceClear:function(t,i){for(var r=this.grid.dataSource.settings.filtering.expressions,f,e,o=!1,u=0;u<r.length;u++)if(r[u].fieldName===t){o=!0,n.ig.removeFromArray(r,u);break}o&&(this.grid.dataSource.settings.filtering.expressions=r,this.options.persist&&this._saveFilteringExpressions(),(!this._curColKey||t)&&(this._curColKey=t,this._curColIndex=i),e=this._trigger(this.events.dataFiltering,null,{columnKey:this._curColKey,columnIndex:this._curColIndex,owner:this,newExpressions:r}),e&&(f=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),f&&(this.grid.dataSource.settings.paging.pageIndex=0,this._preserveSorting(),this.grid._shouldResetPaging=!0,this._loadingIndicator.show(),this.options.type==="remote"?(r.length>0?(this._shouldFireDataFiltered=!0,this._filteringRequestCount++):(this._filteringRequestCount=0,this._shouldFireDataFiltered=!0),this.grid.dataSource.dataBind()):(this.grid.dataSource.settings.filtering.type="local",this.grid.container().find(".ui-iggrid-footer .ui-iggrid-results").length>0&&this.grid.container().find(".ui-iggrid-footer .ui-iggrid-results").data("overrideLabel",r.length),r.length>0?(this._filteringRequestCount++,this.grid.dataSource.filter(r)):(this._filteringRequestCount=0,this.grid.dataSource.clearLocalFilter()),this.grid._renderData(),this._trigger(this.events.dataFiltered,null,{columnKey:this._curColKey,columnIndex:this._curColIndex,owner:this,expressions:r})))))},_preserveSorting:function(){var i=!1,n=this.grid.element.data("igGridGroupBy"),t=this.grid.dataSource.settings.sorting;n&&n.options&&n.options.groupedColumns&&n.options.groupedColumns.length>0&&(i=!0),t.expressions.length>0&&i&&(t.defaultFields=t.expressions)},_getDataColumnFilteringExpressions:function(t){if(!this.grid._hasUnboundColumns)return t;var r=this.grid,i;return i=n.grep(t,function(n){var t=r.columnByKey(n.fieldName);return!t||t.unbound!==!0})},_saveFilteringExpressions:function(){var n=this._getDataColumnFilteringExpressions(this.grid.dataSource.settings.filtering.expressions);this.element.closest(".ui-iggrid-root").data("igGrid")&&this.grid._savePersistenceData(n,"filtering",this.grid.element[0].id),this._filteringExpressions=n},_preserveFiltering:function(){var n=this._filteringExpressions||this.grid._getPersistenceData("filtering",this.grid.element[0].id);n&&(this.grid._hasUnboundColumns&&this._updateFiltersUI([],!1),this.grid.dataSource.settings.filtering.expressions=n,this.grid.dataSource.settings.filtering.defaultFields=n,this._defaultExpressions=n)},_updateFiltersUI:function(n){var t,i,r,f,e=n.length,u;if(this._editorProviders)for(t=0;t<this._editorProviders.length;t++)this.options.columnSettings[t].allowFiltering!==!1&&this._editorProviders[t].setValue&&this._editorProviders[t].setValue(null);if(this.options.showEmptyConditions&&!e)for(t=0;t<this.options.columnSettings.length;t++)r=this.options.columnSettings[t].condition,(r==="empty"||r==="notEmpty"||r==="null"||r==="notNull")&&(f=this.grid._rootContainer().find("#"+this.grid.element[0].id+"_filtering_dd").find("ul").children().first(),f.length&&this._selectDropDownItem({currentTarget:f},null));for(this._updateFilterSelectionUI(n),t=0;t<e;t++)r=this._resolveConditionNameFromExpression(n[t]),i=this._editorProviders[this._columnIndexFromKey(n[t].fieldName)],i!==undefined&&i!==null&&i.getEditor&&(this.requiresFilteringExpression(r)?i.setValue(n[t].expr):(this._editorValueForCondition(r,i),i.renderFormat!=="checkbox"&&(u=i.editor.clearButton(),u!==undefined&&u.attr("id")&&u.attr("id").indexOf("clearButton")!==-1&&u.hide())),i._addedFromAdvanced=!0);this._updateTooltips(n)},_updateFilterSelectionUI:function(t){var i,u,f,r;for(f=this.grid._rootContainer().find("#"+this.grid.element[0].id+"_filtering_dd").find("ul"),r=f.children(),u=this._resolveConditionNameFromExpression(t),i=0;i<r.length;i++)if(n(r[i]).attr("data-cond")===u||n(r[i]).attr("data-cond")===""&&u===undefined){this._selectDropDownItem({currentTarget:r[i]},null,t);break}},_updateTooltips:function(t){var f,h,c,l,r,a,s,i,u,e,o=this.grid.options.columns,v=o.length,y=this.options.mode==="simple"||this.options.advancedModeEditorsVisible===!0;for(l=this._getLocaleValue("tooltipTemplate").replace("${condition}",this._getLocaleValue("noFilterLabel")),h="",i=0;i<t.length;i++){for(f=this.grid._rootContainer().find("#"+this.grid.element[0].id+"_dd_"+t[i].fieldName+"_button"),this.requiresFilteringExpression(t[i].cond)&&t[i].expr!==undefined&&t[i].expr!==null?(r=t[i].expr,(t[i].type==="date"||t[i].type==="time")&&(n.type(r)==="number"&&(r=new Date(r)),t[i].type==="time"?r=r.toTimeString?r.toTimeString():r:this.grid.options.enableUTCDates&&n.type(r)==="date"&&r.toUTCString&&(r=r.toUTCString()))):r="",e=t[i].fieldName,u=0;u<v;u++)if(o[u].key===e){e=o[u].headerText;break}if(a=this._resolveConditionNameFromExpression(t[i]),s=this._getLabelTextByCondition(a),y){f.attr("title",this._getLocaleValue("tooltipTemplate").replace("${condition}",s));continue}i===0?f.attr("title",e+" "+s+" "+r+" "):f.attr("title",h+t[i].logic+" "+e+" "+s+" "+r+" "),h=f.attr("title")}for(i=0;i<v;i++){for(c=!1,u=0;u<t.length;u++)if(t[u].fieldName===o[i].key){c=!0;break}c||this.grid._rootContainer().find("#"+this.grid.element[0].id+"_dd_"+o[i].key+"_button").attr("title",l)}},_resolveConditionNameFromExpression:function(n){var t,i=this._dsTransformedCustomConditions;return t=n.fieldName,i&&i[t+"_"+n.cond]?t+"_"+n.cond:n.cond},_columnIndexFromKey:function(n){for(var i=this.grid.options.columns,t=0;t<i.length;t++)if(i[t].key===n)return t},_generateExpressions:function(t){for(var f=[],o=this.grid.options.columns,i,r,y,c,e,l,a,v,s,h,u=0;u<o.length;u++)if(!this._editorProviders||!this._editorProviders[u]||!this._editorProviders[u]._addedFromAdvanced||t){if(this.options.columnSettings[u].allowFiltering!==!0)if(a=this.options.columnSettings[u].defaultExpressions,a&&a.length)i=a[0].expr,r=a[0].cond;else continue;else i=this._getEditorVal(this._editorProviders[u]),r=this.options.columnSettings[u].condition;(y=this.requiresFilteringExpression(r),r!==undefined&&r!==null&&r!=="")&&((i===undefined||i===null||i==="")&&y||(v="",e=o[u].dataType,l=e==="date"||e==="time",l&&i&&(this.options.type==="remote"&&this.options.filterExprUrlKey!==null&&this.options.filterExprUrlKey!==undefined?i=Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes()):(s=o[u].format,s&&s.indexOf&&(h=s.toLowerCase().indexOf("h"),h===-1&&(h=s.indexOf("m")),h===-1&&(h=s.indexOf("s")),h>-1&&(v=s.substr(h))),n.type(i)==="date"&&(i=new Date(i.valueOf()),v===""&&r==="after"&&(i.setHours(23),i.setMinutes(59),i.setSeconds(59),i.setMilliseconds(999))))),c=!1,(!l||l&&i!==null&&i!==undefined&&r!=="empty"&&r!=="notEmpty"&&r!=="null"&&r!=="notNull"||l&&!this.requiresFilteringExpression(r))&&(i===""||this._isBool(e)||this.options.filterExprUrlKey?this._isBool(e)&&i!==""&&i!==null||!this._isBool(e)&&(this.options.filterExprUrlKey!==undefined&&this.options.filterExprUrlKey!==null||this.options.type==="local")?(c=!0,this._addExpressions(f,o[u].key,r,i)):this._isBool(e)&&(i===""||i===null)&&(r==="null"||r==="notNull"||r==="empty"||r==="notEmpty")&&(c=!0,this._addExpressions(f,o[u].key,r,i)):(c=!0,this._addExpressions(f,o[u].key,r,i)),c&&(e===undefined&&n.type(i)==="string"&&(f[f.length-1].dataType="string"),o[u].unbound&&(f[f.length-1].dataType=e),v&&(f[f.length-1].preciseDateFormat=v)))))}return f},_addExpressions:function(t,i,r,u){if(n.type(u)==="array")for(var f=0;f<u.length;f++)t.push({fieldName:i,cond:r,expr:u[f],logic:"OR"});else t.push({fieldName:i,cond:r,expr:u})},_getDefaultCondition:function(n){var t="equals";return n===undefined||n===null||n==="string"?t="contains":n==="number"?t="equals":n==="date"?t="on":n==="time"?t="at":this._isBool(n)?t="true":n==="object"&&(t=""),t},_initDefaultSettings:function(){var s=[],f,l,i=this.options.columnSettings,t,h,r,e,v=this.grid.options.columns,y,u,p=this.grid._hasUnboundColumns===!0&&this.options.type==="remote",o,c,a;if(this._defaultExpressions=this.grid.dataSource.settings.filtering.expressions||[],v&&v.length>0)for(t=0;t<v.length;t++)y=!0,p&&this.grid.getUnboundColumnByKey(v[t].key)!==null&&(y=!1),s[t]={columnIndex:t,columnKey:v[t].key,allowFiltering:y};if(s.length===0&&this.grid.options.autoGenerateColumns&&i.length>0){for(t=0;t<i.length;t++)if(i[t].columnKey&&(c=this._populateConditionsList(i[t].columnKey,this._getColType(i[t].columnKey)),u=i[t].defaultExpressions,a=i[t].customConditions,u&&u.length>0))for(r=0;r<u.length;r++){for(o=!1,e=0;e<c.length;++e){for(f in a)if(a.hasOwnProperty(f)&&c[e].condition===i[t].columnKey+"_"+u[r].cond){o=!0;break}if(o)break;if(c[e].condition===u[r].cond){o=!0;break}}if(!o)throw new Error(n.ig.util.stringFormat(this._getLocaleValue("defaultConditionContainsInvalidCondition"),i[t].columnKey));l={fieldName:i[t].columnKey,expr:u[r].expr,cond:u[r].cond},u[r].logic&&(l.logic=u[r].logic),this._defaultExpressions.push(l)}}else for(t=0;t<i.length;t++){for(h=0;h<s.length;h++)if(s[h].columnKey===i[t].columnKey||i[t].columnKey===undefined&&s[h].columnIndex===i[t].columnIndex){i[t].columnKey=s[h].columnKey;break}if(h!==s.length){c=this._populateConditionsList(i[t].columnKey,this._getColType(i[t].columnKey));for(f in i[t])if(i[t].hasOwnProperty(f)&&(f!=="columnKey"&&f!=="columnIndex"&&(s[h][f]=i[t][f]),f==="defaultExpressions"&&i[t][f]))for(u=i[t][f],a=i[t].customConditions,r=0;r<u.length;r++){for(o=!1,e=0;e<c.length;++e){for(f in a)if(a.hasOwnProperty(f)&&c[e].condition===i[t].columnKey+"_"+u[r].cond){o=!0;break}if(o)break;if(c[e].condition===u[r].cond){o=!0;break}}if(!o)throw new Error(n.ig.util.stringFormat(this._getLocaleValue("defaultConditionContainsInvalidCondition"),i[t].columnKey));l={fieldName:i[t].columnKey,expr:u[r].expr,cond:u[r].cond},u[r].logic&&(l.logic=u[r].logic),this._defaultExpressions.push(l)}}}this.options.columnSettings=s,this.grid.dataSource.settings.filtering.expressions=this._defaultExpressions,this.grid.dataSource.settings.filtering.defaultFields=this._defaultExpressions},_transformCustomConditionsForDataSource:function(){for(var e=this.options.columnSettings,f,t,n,o,i,r,u=0;u<e.length;++u)if(f=e[u],t=f.customConditions,t){this._dsTransformedCustomConditions=this._dsTransformedCustomConditions||{};for(i in t)t.hasOwnProperty(i)&&(n=t[i],r=f.columnKey+"_"+i,o={requireExpr:!!n.requireExpr,filterFunc:n.filterFunc,expressionText:n.expressionText||i},this._getLabelTextByCondition(r)||(this.options.locale=this.options.locale||{},this.options.locale[r+"Label"]=n.labelText,this.options.locale[r+"NullText"]=n.labelText),this._dsTransformedCustomConditions[r]=o)}this.grid.dataSource.settings.filtering.customConditions=this._dsTransformedCustomConditions},_renderDropDown:function(t,i,r){var f,u,o,c,e,s=this.options.columnSettings,a=this,l="",h;if(f=n("#"+this.grid.id()+"_filtering_dd").length?n("#"+this.grid.id()+"_filtering_dd").find("ul"):this._renderDropDownElement(i,r),e=this._populateConditionsList(r,this._getColType(r)),this.options.filterDropDownItemIcons!==!0&&e.length>0){for(l+="<li tabindex='"+this.grid.options.tabIndex+"' class='"+this.css.filterDropDownListItem+" "+this.css.filterDropDownListItemClear+"'> <a  class='ui-corner-all'>"+this._getLocaleValue("clearLabel")+"<\/a> <\/li>",u=0;u<e.length;++u)l+="<li tabindex='"+this.grid.options.tabIndex+"' class='"+this.css.filterDropDownListItem+"' data-cond='"+(e[u].condition===undefined?"":e[u].condition)+"' ><a  class='ui-corner-all'>"+e[u].text+"<\/a> <\/li>";f.append(l)}else this.options.filterDropDownItemIcons===!0&&e.length>0&&(c={itemClass:this.css.filterDropDownListItemWithIcons,imgContainerClass:this.css.filterItemIconContainer,textClass:this.css.filterDropDownListItemTextContainer},this._renderDropDownToList(c,[{text:this._getLocaleValue("clearLabel"),localeId:"clearLabel",imgClass:this.css.filterItemIconClear,itemClass:this.css.filterDropDownListItemClear}],f),this._renderDropDownToList(c,e,f));for(f.parent().bind({mousedown:function(){a._cancelNextBlur=!0}}),f.children().bind({focus:function(t){n(t.target).parent().data("focussed",!0)},blur:function(t){n(t.target).parent().data("focussed",!1),setTimeout(function(){a._checkCloseDropDown(t)},10)},keydown:n.proxy(this._changeSelectionKeyboard,this)}),this.options.mode==="advanced"&&this._renderAdvancedButton(f),u=0;u<this.grid.dataSource.settings.filtering.expressions.length;u++)this.grid.dataSource.settings.filtering.expressions[u].fieldName===r&&(h=this.grid.dataSource.settings.filtering.expressions[u]);for(u=0;u<s.length;u++)if(s[u].columnKey===r){if(s[u].condition==="null")o=f.find(':contains("'+this._getLabelTextByCondition("null")+'")');else if(this.requiresFilteringExpression(s[u].condition)||h)o=f.find(':contains("'+this._getLabelTextByCondition(s[u].condition)+'")');else continue;o=o.children().first().closest("li"),o.addClass(this.css.filterDropDownListItemActive).parent().data("selectedItem",n("li",o.parent()).index(o))}h&&this._updateFilterSelectionUI(h)},_renderAdvancedButton:function(t){var i;i=n("<li><\/li>").appendTo(t).addClass(this.css.filterDropDownListItemAdvanced),this._currentButton=n(toStaticHTML('<input type="button"><\/input>')),this._currentButton.igButton({labelText:this._getLocaleValue("advancedButtonLabel")}).attr({"data-localeid":"advancedButtonLabel","data-localeattr":"value"}).bind({mousedown:n.proxy(this._openFilterDialog,this)}),i.append(this._currentButton)},_openFilterDialogFromKeyboard:function(t){t.keyCode===n.ui.keyCode.ENTER&&this._openFilterDialog(t)},_checkModalDialogFocus:function(){var i=this._getFilterDialog(),t=this.grid._rootContainer();t.unbind("keydown.focusChecker"),t.bind("keydown.focusChecker",function(r){var e,u,f=t[0];if(r.keyCode===n.ui.keyCode.TAB){if(u=document.activeElement,!u||!f)return;if(u===f||n.contains(f,u)&&!n.contains(i[0],u)){e=n(":tabbable",i),e.first().focus();return}}})},_removeFilterDialog:function(){this._getFilterDialog().remove(),this._filterDialog=null},_getFilterDialog:function(){return this._filterDialog=this._filterDialog&&this._filterDialog.length?this._filterDialog:this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog")},_filterDialogOkClicked:function(n,t){var i=this._trigger(this.events.filterDialogFiltering,null,{dialog:this._getFilterDialog(),owner:this});i&&(t.toClose=!0)},_openFilterDialog:function(t,i){var r=n(t.target),u=this._getFilterDialog();this._dialogCurrentColumn=r.closest("ul").data("colName"),(this._dialogCurrentColumn===undefined||this._dialogCurrentColumn===null)&&(this._dialogCurrentColumn=i!==null&&i!==undefined?i:r.closest("th").data("colName")),(this._dialogCurrentColumn===undefined||this._dialogCurrentColumn===null)&&(this._dialogCurrentColumn=r.attr("data-col-key")),u[this.options.dialogWidget]("openModalDialog"),t.preventDefault(),t.stopPropagation()},_filterDialogOpening:function(t){var p,r,u,h,f,e,w,c,l,b,v=!0,k=!0,o=this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_block"),i=this._getFilterDialog(),y,a,s=this.grid.dataSource.settings.filtering.expressions;if(this._checkModalDialogFocus(),p=n.ig.getMaxZIndex(this.grid.container().attr("id")+"_dialog"),o.css("zIndex",p+1),i.css("zIndex",p+2),this.options.filterDialogContainment==="owner"?i.draggable("option","containment",this.grid._rootContainer()):i.draggable("option","containment","document"),i.find(".ui-iggrid-filtertable tbody tr").remove(),this._dialogCurrentType=this.grid.columnByKey(this._dialogCurrentColumn).dataType,i.find(".ui-iggrd-filtertable tbody tr").remove(),s&&s.length>0){for(v=!0,a=0;a<s.length;a++)v&&s[a].fieldName!==this._dialogCurrentColumn||(v=!1),this._addFilterFromDialog(null,s[a]);v&&this._addFilterFromDialog(),this._setFilteringConditions(s,i)}else this._addFilterFromDialog();k=this._trigger(this.events.filterDialogOpening,null,{dialog:i,owner:this}),k?(h=n.ig.util.offset(this.grid._rootContainer()),r=h.left,u=h.top,o.outerWidth()!==this.grid._rootContainer().outerWidth()&&o.css("width",this.grid._rootContainer().outerWidth()),o.outerHeight()!==this.grid._rootContainer().outerHeight()&&o.css("height",this.grid._rootContainer().outerHeight()),this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog_error").hide(),y=n.ig.util.getRelativeOffset(o),o.css({left:r-y.left,top:u-y.top}).fadeToggle(),e=this.grid._rootContainer().outerWidth(),f=this.grid._rootContainer().outerHeight(),b=n(window).width(),w=n(window).height(),e+r>b&&(e=e-(e+r-b)),e<=0&&(e=this.grid._rootContainer().outerWidth()),f+u>w&&(f=f-(f+u-w)),f<=0&&(f=this.grid._rootContainer().outerHeight()),c=parseInt(this.options.filterDialogHeight,10),l=parseInt(this.options.filterDialogWidth,10),(isNaN(c)||c<=0)&&(c=i.outerHeight()),(isNaN(l)||l<=0)&&(l=i.outerWidth()),u=u+parseInt(f/2,10)-c/2,r=r+parseInt(e/2,10)-l/2,u=u<0?h.top:u,r=r<0?h.left:r,y=n.ig.util.getRelativeOffset(i),i.focus(),this.options.mode==="advanced"&&this.options.advancedModeEditorsVisible===!1||this._currentTarget===null||this._currentTarget===undefined||this._toggleDropDown({currentTarget:this._currentTarget},!0)):(t.preventDefault(),t.stopPropagation())},_filterDialogOpened:function(){var n=this._getFilterDialog();this._trigger(this.events.filterDialogOpened,null,{dialog:n,owner:this})},_closeFilterDialog:function(n){var t=this._getFilterDialog();t[this.options.dialogWidget]("closeModalDialog",!1,n),n.preventDefault(),n.stopPropagation()},_setFilteringConditions:function(n,t){var i=t.find("div."+this.css.filterDialogAddConditionDropDown+" input:first");n.length>0&&(n[0].logic==="AND"?i.val(this._getLocaleValue("filterDialogAllLabel")):i.val(this._getLocaleValue("filterDialogAnyLabel")))},_filterDialogClosing:function(n,t){var i=this._trigger(this.events.filterDialogClosing,null,{owner:this});i?t.toClose=!0:(t.toClose=!1,n.preventDefault(),n.stopPropagation())},_filterDialogClosed:function(n,t){this._trigger(this.events.filterDialogClosed,null,{owner:this}),t.accepted&&this._searchFilterDialog()},_getColumnCondByText:function(n,t){var r=this._populateConditionsList(t,this._getColType(t)),i=r.filter(function(t){return t.text===n});return i.length!==0?i[0].condition:""},_searchFilterDialog:function(){var o=[],f,a,k,s,u,h,c,v,t,d=!0,y,i,p,r,e,w,b,l;for(f=this._getFilterDialog().find("[data-af-row]"),f.length||(f=this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog table tbody").children()),a="and",k=this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog input:first"),k.length>0&&(a=this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog input:first")[0].value===this._getLocaleValue("filterDialogAllLabel")?"AND":"OR"),s=0;s<f.length;s++)(c=n(f[s]),p=this._getDialogColSelByRow(c),v=p.data("igTextEditor").getSelectedListItem().data("colKey"),v!==undefined&&(i=this.grid.columnByKey(v)),i||(i=this.grid.columnByText(p[0].value)),i)&&(u=i.dataType,l=this._getDialogExprSelByRow(c).data("provider"),t=l.getValue(),t=!t&&u==="string"?"":t,y=this._getColumnCondByText(this._getDialogCondSelByRow(c)[0].value,i.key),n.type(t)==="date"&&(this.options.type!=="local"||i.format&&i.format!=="date"||(y==="after"?(r=23,e=59,w=59,b=999):(r=0,e=0,w=0,b=0)),l.editor&&l.editor.options.enableUTCDates?(r===undefined&&(r=t.getUTCHours(),e=t.getUTCMinutes()),t=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),r,e)):r!==undefined&&(t.setHours(r),t.setMinutes(e),t.setSeconds(w),t.setMilliseconds(b))),h={fieldName:i.key,cond:y,expr:t,logic:a,type:u},i.unbound&&u?h.dataType=u:u===undefined&&n.type(t)==="string"&&(h.dataType="string"),o.push(h));this._currentAdvancedExpressions=o,d=this._trigger(this.events.dataFiltering,null,{owner:this,newExpressions:o}),d&&this.filter(o,!0,!0)},_filterDialogStartMove:function(){this._isFilterDialogMouseDown=!0},_filterDialogStopMove:function(){this._isFilterDialogMouseDown=!1,this._dialogClientX=undefined,this._dialogClientY=undefined},_filterDialogMove:function(t,i){n(t.target).find(".ui-igedit-fieldincontainer").igTextEditor("hideDropDown"),this._trigger(this.events.filterDialogMoving,null,{dialog:t.target,owner:this,originalPosition:i.originalPosition,position:i.position})},_renderFilterDialog:function(){var t,f,i,r,s,p,w=this,h=this.options,c=this.grid.container().attr("id"),l,u,a=!0,e,v,y,o,b=this._getLocaleValue("filterDialogCaptionLabel"),k=this._getLocaleValue("filterDialogOkLabel"),d=this._getLocaleValue("filterDialogCancelLabel");y=this.grid._rootContainer(),o=this.options.filterDialogContainment==="owner"?this.grid._rootContainer():"window",t=n("<div><\/div>").appendTo(y).attr("id",c+"_dialog"),t[this.options.dialogWidget]({containment:o,locale:{modalDialogCaptionText:b,buttonApplyText:k,buttonCancelText:d},modalDialogWidth:h.filterDialogWidth,modalDialogHeight:h.filterDialogHeight,gridContainer:this.grid._rootContainer(),modalDialogOpening:n.proxy(this._filterDialogOpening,this),modalDialogOpened:n.proxy(this._filterDialogOpened,this),modalDialogMoving:n.proxy(this._filterDialogMove,this),modalDialogClosing:n.proxy(this._filterDialogClosing,this),modalDialogClosed:n.proxy(this._filterDialogClosed,this),buttonOKClick:n.proxy(this._filterDialogOkClicked,this),tabIndex:this._getNextTabIndex()}),l=t[this.options.dialogWidget]("getCaptionButtonContainer"),p=n("<span><\/span>").appendTo(n("<a><\/a>").appendTo(l).attr({href:"#",role:"button","data-localeid":"filterDialogCloseLabel","data-localeattr":"title",title:this._getLocaleValue("filterDialogCloseLabel"),tabindex:this._getNextTabIndex()}).bind({click:n.proxy(this._closeFilterDialog,this)}).addClass("ui-dialog-titlebar-close ui-corner-all")).addClass("ui-icon ui-icon-closethick"),a=this._trigger(this.events.filterDialogContentsRendering,null,{dialogElement:t,owner:this}),a&&(u=t[this.options.dialogWidget]("getContent"),f={label1:this._getLocaleValue("filterDialogConditionLabel1"),label2:this._getLocaleValue("filterDialogConditionLabel2")},i=[{text:this._getLocaleValue("filterDialogAllLabel"),dataLocale:"filterDialogAllLabel",value:"all"},{text:this._getLocaleValue("filterDialogAnyLabel"),dataLocale:"filterDialogAnyLabel",value:"any"}],r=this.options.filterDialogAddConditionTemplate&&typeof this.options.filterDialogAddConditionTemplate=="string"?n(this._fTmplWrappers[this.grid.id()+"_filterDialogAddConditionTemplate"](f)):n("<div><span data-localeid='filterDialogConditionLabel1'>"+f.label1+"<\/span><div><input tabindex='"+this._getNextTabIndex()+"' data-localeattr='title' data-localeid='filterDialogConditionDropDownLabel'  title='"+this._getLocaleValue("filterDialogConditionDropDownLabel")+"'/><\/div><span data-localeid='filterDialogConditionLabel2'>"+f.label2+"<\/span><\/div>"),r.appendTo(u).addClass(this.css.filterDialogAddCondition),this.options.filterDialogAddConditionDropDownTemplate&&typeof this.options.filterDialogAddConditionDropDownTemplate=="string"?(s=n(this._fTmplWrappers[this.grid.id()+"_filterDialogAddConditionDropDownTemplate"](i)),s.appendTo(r.find("div").addClass(this.css.filterDialogAddConditionDropDown).find("select"))):r.find("div").addClass(this.css.filterDialogAddConditionDropDown).find("input").igTextEditor({language:this.grid.options.language,preventSubmitOnEnter:!0,listItems:[i[0].text,i[1].text],button:"dropdown",isLimitedToListValues:!0,allowNullValue:!1,buttonType:"dropdown",height:24,width:"80px",value:i[0].text,dropDownAttachedToBody:!0}),e=n("<div><\/div>").appendTo(u),n(toStaticHTML('<input type="button"><\/input>')).attr({tabindex:this._getNextTabIndex(),"data-af-add-button":!0,"data-localeid":"filterDialogAddLabel","data-localeattr":"value"}).appendTo(n("<span><\/span>").appendTo(e).addClass(this.css.filterDialogAddButton)).igButton({labelText:this._getLocaleValue("filterDialogAddLabel"),width:this.options.filterDialogAddButtonWidth,tabindex:this._getNextTabIndex()}).bind({click:n.proxy(this._addFilterFromDialog,this)}),n("<button type='button' />").attr({id:c+"_afd_clearall",tabindex:this._getNextTabIndex(),"data-af-clear-all-button":!0}).appendTo(e).css("float","right").igButton({labelText:this._getLocaleValue("filterDialogClearAllLabel"),click:n.proxy(this._filterDialogClearAll,this),css:{buttonClasses:this.css.filterDialogClearAllButton,buttonHoverClasses:"",buttonActiveClasses:"",buttonFocusClasses:"",buttonLabelClass:""}}),n("<label><\/label>").appendTo(u).attr("id",t.attr("id")+"_error").hide().text(this._getLocaleValue("filterDialogErrorLabel")).addClass("ui-widget ui-state-error ui-igvalidator-label"),n("<table><tbody><\/tbody><\/table>").appendTo(u).addClass(this.css.filterDialogFiltersTable).css("width","100%").css("border-collapse","collapse").css("border-spacing",0),v=this._hc===!0?this.grid._rootContainer().find("#"+this.grid.element[0].id.split("_")[0]+"_container"):this.grid._rootContainer(),t.bind({keydown:function(i){var r,u,f;if(i.keyCode===n.ui.keyCode.ESCAPE&&w._closeFilterDialog(i),i.keyCode===n.ui.keyCode.TAB)return(r=n(":tabbable",t),u=r.first(),f=r.last(),i.target===f[0]&&!i.shiftKey)?(u.focus(),!1):i.target===u[0]&&i.shiftKey?(f.focus(),!1):void 0},drag:function(){t.find("input[data-af-col]").igTextEditor("hideDropDown")}}),t.find(".ui-dialog-content").bind({scroll:function(){t.find("input[data-af-col]").igTextEditor("hideDropDown")}}),this._trigger(this.events.filterDialogContentsRendered,null,{dialogElement:t,owner:this}))},_setResizableEnv:function(){var i,n=this._getFilterDialog(),t=n.find(">.ui-dialog-content"),r=n.find(">.ui-dialog-titlebar"),u=n.find(">.ui-dialog-buttonpane");this._resizeCont||(this._resizeCont=t,i=n.height()-r.outerHeight()-(t.outerHeight()-t.height())-u.outerHeight(),this._setFilterDialogContentHeight(i)),this._resizeCont=t,n[0].style.height===""&&n.css("height",n.height()),this._trigger(this.events.filterDialogOpened,null,{dialog:n,owner:this})},_resizeHandler:function(n,t){var f=t.originalElement,r,i=this._getFilterDialog(),u=i.find(">.ui-dialog-content"),e=i.find(">.ui-dialog-titlebar"),o=i.find(">.ui-dialog-buttonpane"),s=u.outerHeight()-u.height();r=e.outerHeight(!0)+o.outerHeight(!0)+s,this._setFilterDialogContentHeight(f.height()-r)},_setFilterDialogContentHeight:function(n){this._resizeCont.css({height:n+"px"})},_changeFilterCondition:function(t){var r,u,f=n(t.target),i=f.closest("[data-af-row]");i.length||(i=f.closest("tr")),u=this._getColumnCondByText(t.target.value,this._dialogCurrentColumn),r=this._getDialogExprSelByRow(i),this._setFilterDialogInput(r,u)},_setFilterDialogInput:function(n,t){var i=n.data("provider"),r=this.requiresFilteringExpression(t);i&&(this._setEditorOption(i.getEditor(),"readOnly",!r),r||this._editorValueForCondition(t,i))},_getDialogColSelByRow:function(n){var t=n.find("[data-af-col]");return t.length||(t=n.find("td:first").find("input").first()),t},_getDialogCondSelByRow:function(n){var t=n.find("[data-af-cond]");return t.length||(t=n.find("td:nth-child(2)").find("input").first()),t},_getDialogExprSelByRow:function(n){var t=n.find("[data-af-expr]");return t.length||(t=n.find("td:nth-child(3)").find("input").first()),t},_getDialogRmvBtnByRow:function(n){var t=n.find("[data-af-rmv]");return t.length||(t=n.find("td:last").find("span")),t},_getNextTabIndex:function(){var n=this.grid.options.tabIndex;return n+1},_getIntialConditionForCol:function(t,i){var f=t.filter(function(n){return n.columnKey===i})[0],r=f.condition,u=f.conditionList||this._populateConditionsList(i,this._getColType(i)).map(function(n){return n.condition});if(f.customConditions&&f.customConditions.hasOwnProperty(r)&&(r=i+"_"+r),u&&r){if(u.indexOf(r)!==-1)return u[u.indexOf(r)];if(r===this._getDefaultCondition(this._getColType(i)))return u[0];throw new Error(n.ig.util.stringFormat(this._getLocaleValue("initialConditionIsNotInTheConditionsListArrayOrIsNotInTheDefaultConditions"),i));}return this._getDefaultCondition(this._getColType(i))},_addFilterFromDialog:function(t,i){var y=this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog table tbody"),u=this.options.columnSettings,a,tt={},f,v,p,e,g=!0,w,s,o,c,h,r,b,l=!1,k,d,it=this,nt=this.options.filterDialogFilterDropDownDefaultWidth||120;if(g=this._trigger(this.events.filterDialogFilterAdding,null,{filtersTableBody:y,owner:this}),g){if(a=this._getFilterDialog().find("[data-af-row]"),a.length||(a=y.children()),a.length>=this.options.filterDialogMaxFilterCount){this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog_error").show();return}for(i===undefined?(r=this.grid.columnByKey(this._dialogCurrentColumn),w=r.headerText,this._dialogCurrentType==="object"&&(this._dialogCurrentType=this._getColType(this._dialogCurrentColumn)),s=this._dialogCurrentType):(r=this.grid.columnByKey(i.fieldName),r!==null&&(w=r.headerText,s=r.dataType==="object"?this._getColType(i.fieldName):r.dataType),h=this._resolveConditionNameFromExpression(i),c=i.expr,(s==="date"||s==="time")&&n.type(c)==="number"&&this.grid.options.enableUTCDates&&(c=new Date(c))),f=this.options.filterDialogFilterTemplate&&typeof this.options.filterDialogFilterTemplate=="string"?n(this._fTmplWrappers[this.grid.id()+"_filterDialogFilterTemplate"](tt)):n("<tr data-af-row><td><input data-af-col/><\/td><td><input data-af-cond tabindex='"+this._getNextTabIndex()+"' title='"+this._getLocaleValue("filterDialogConditionDropDownLabel")+"' data-localeid='filterDialogConditionDropDownLabel' data-localeattr='title' /><\/td><td><input data-af-expr /> <\/td><td><span data-af-rmv><\/span><\/td><\/tr>"),f.appendTo(y),v=[],p=[],e=0;e<u.length;e++)u[e].columnKey===r.key&&u[e].allowFiltering===!1?l=!0:u[e].allowFiltering===!0&&(p.push(this.grid.columnByKey(u[e].columnKey).headerText),v.push(u[e].columnKey));o=this._getDialogCondSelByRow(f),this._getDialogColSelByRow(f).igTextEditor({language:this.grid.options.language,preventSubmitOnEnter:!0,listItems:p,disabled:l,button:"dropdown",isLimitedToListValues:!0,allowNullValue:!1,buttonType:"dropdown",width:nt,valueChanged:n.proxy(this._polulateFilterConditionDropDown,this),dropDownAttachedToBody:!0,value:w,tabIndex:this._getNextTabIndex(),validatorOptions:{notificationOptions:{appendTo:"#"+this.grid.container().attr("id")+"_dialog",maxWidth:nt}},rendering:function(t,i){i.owner._updateDropdownSelection=n.proxy(it._updateDropdownSelection,i.owner,i.owner._updateDropdownSelection)},rendered:function(t,i){n.each(i.owner._listItems(),function(t,u){n(u).data("colKey",v[t]),v[t]===r.key&&i.owner._setSelectedItemByIndex(t)})}}),b=this._populateConditionsList(r.key,this._getColType(r.key)),this._renderAdvancedConditionsDropDown(o,b,this._getIntialConditionForCol(u,r.key)),h!==undefined&&o.length>0&&(d=b.filter(function(n){return n.condition===h}),o.igTextEditor("value",d.length>0?d[0].text:h)),o.attr("disabled",l),o.bind("igtexteditordropdownitemselected",n.proxy(this._changeFilterCondition,this)),k=this._getDialogExprSelByRow(f),this._populateFilterDialogInput(k,s,c,r,h,l),k.attr("disabled",l),o.length&&!this.requiresFilteringExpression(h)&&(this._dialogCurrentColumn=this._dialogCurrentColumn||r.key,this._changeFilterCondition({target:o[0],initCond:this._getIntialConditionForCol(u,r.key)})),this._getDialogRmvBtnByRow(f).attr("tabindex",this._getNextTabIndex()).addClass(this.css.filterDialogFilterRemoveButton).bind({mousedown:n.proxy(this._removeFilterFromDialog,this)}),this._trigger(this.events.filterDialogFilterAdded,null,{filter:f,owner:this})}},_updateDropdownSelection:function(n,t){var r=this.getSelectedListItem(),i=r.text();i!==""&&i!==t&&n.call(this,t)},_filterDialogClearAll:function(n){var t=this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog table tbody");t.empty(),this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog_error").hide(),n&&n.preventDefault()},_polulateFilterConditionDropDown:function(t,i){var a=i.newValue,h,o=this.grid.options.columns,r,c,u,f,s,e,l=n(t.target),v=this.options.columnSettings;for(e=l.closest("[data-af-row]"),e.length||(e=l.closest("tr")),h=this._getDialogCondSelByRow(e),c=this._getDialogExprSelByRow(e),u=0;u<o.length;u++)if(o[u].headerText===a){r=o[u].dataType,f=o[u];break}(r==="object"&&(r=this._getColType(f.key)),r!==undefined)&&(s=this._populateConditionsList(f.key,r),this._renderAdvancedConditionsDropDown(h,s,this._getIntialConditionForCol(v,f.key)),this._populateFilterDialogInput(c,r,undefined,f,s[0].condition))},_populateFilterDialogInput:function(t,i,r,u,f){var s,e,h,c=!0,l={keyDown:n.noop,textChanged:n.noop,valueChanged:n.noop},o=this._findColumnSetting(u.key),a=o?o.editorOptions||{}:{},v=o?this._getEditorProviderType(u.dataType,o.editorType):null;e=o?o.editorProvider:null,e||(e=n.ig.GetEditorProvider(this.grid,u,v),c=!1),s=n.extend({},a,{language:this.grid.options.language,regional:u.regional||this.grid.options.regional,preventSubmitOnEnter:!0,suppressNotifications:!0,tabIndex:this._getNextTabIndex(),buttonHidden:i!=="date",button:"dropdown",readOnly:this._isBool(i),maxDecimals:12,textAlign:i==="number"?"right":"left",width:this.options.filterDialogExprInputDefaultWidth,value:r,enableUTCDates:this.options.type==="remote"?!0:this.grid.options.enableUTCDates}),(i==="date"||i==="time")&&(u&&u.format&&(s.dateInputFormat=u.format),s.displayTimeOffset=this.options.type==="remote"?0:this.grid._calcOffsetForCol(null,u)),t.is("input")||(t=t.find("INPUT").eq(0)),h=t.data("provider"),h&&h.destroy(),e.createEditor(l,u.key,s,this._getNextTabIndex(),u.format,t,this.options.type==="remote"?0:this.grid._calcOffsetForCol(null,u)),t.data("provider",e),t.data("colKey",u.key),c&&e.setValue(r),f&&this._setFilterDialogInput(t,f)},_getEditorProviderType:function(n,t){return t||n!=="date"||(t="datepicker"),n==="time"&&t!=="timepicker"&&t!=="date"&&(t="timepicker"),t||n!=="bool"&&n!=="boolean"||(t="text"),t},_populateConditionsList:function(t,i){var l=[],f,o,e=this.options.columnSettings,u=this.css,r=[],s,h,a,v,c;for(i==="number"?(r.push({condition:"equals",text:this._getLocaleValue("equalsLabel"),imgClass:u.filterItemIconEquals}),r.push({condition:"doesNotEqual",text:this._getLocaleValue("doesNotEqualLabel"),imgClass:u.filterItemIconDoesNotEqual}),r.push({condition:"greaterThan",text:this._getLocaleValue("greaterThanLabel"),imgClass:u.filterItemIconGreaterThan}),r.push({condition:"lessThan",text:this._getLocaleValue("lessThanLabel"),imgClass:u.filterItemIconLessThan}),r.push({condition:"greaterThanOrEqualTo",text:this._getLocaleValue("greaterThanOrEqualToLabel"),imgClass:u.filterItemIconGreaterThanOrEqualTo}),r.push({condition:"lessThanOrEqualTo",text:this._getLocaleValue("lessThanOrEqualToLabel"),imgClass:u.filterItemIconLessThanOrEqualTo})):this._isBool(i)?(r.push({condition:"true",text:this._getLocaleValue("trueLabel"),imgClass:u.filterItemIconTrue}),r.push({condition:"false",text:this._getLocaleValue("falseLabel"),imgClass:u.filterItemIconFalse})):i==="date"?(r.push({condition:"on",text:this._getLocaleValue("onLabel"),imgClass:u.filterItemIconOn}),r.push({condition:"notOn",text:this._getLocaleValue("notOnLabel"),imgClass:u.filterItemIconNotOn}),r.push({condition:"after",text:this._getLocaleValue("afterLabel"),imgClass:u.filterItemIconAfter}),r.push({condition:"before",text:this._getLocaleValue("beforeLabel"),imgClass:u.filterItemIconBefore}),r.push({condition:"today",text:this._getLocaleValue("todayLabel"),imgClass:u.filterItemIconToday}),r.push({condition:"yesterday",text:this._getLocaleValue("yesterdayLabel"),imgClass:u.filterItemIconYesterday}),r.push({condition:"thisMonth",text:this._getLocaleValue("thisMonthLabel"),imgClass:u.filterItemIconThisMonth}),r.push({condition:"lastMonth",text:this._getLocaleValue("lastMonthLabel"),imgClass:u.filterItemIconLastMonth}),r.push({condition:"nextMonth",text:this._getLocaleValue("nextMonthLabel"),imgClass:u.filterItemIconNextMonth}),r.push({condition:"thisYear",text:this._getLocaleValue("thisYearLabel"),imgClass:u.filterItemIconThisYear}),r.push({condition:"lastYear",text:this._getLocaleValue("lastYearLabel"),imgClass:u.filterItemIconLastYear}),r.push({condition:"nextYear",text:this._getLocaleValue("nextYearLabel"),imgClass:u.filterItemIconNextYear})):i==="time"?(r.push({condition:"at",text:this._getLocaleValue("atLabel"),imgClass:u.filterItemIconOn}),r.push({condition:"notAt",text:this._getLocaleValue("notAtLabel"),imgClass:u.filterItemIconNotOn}),r.push({condition:"before",text:this._getLocaleValue("beforeLabel"),imgClass:u.filterItemIconBefore}),r.push({condition:"after",text:this._getLocaleValue("afterLabel"),imgClass:u.filterItemIconAfter}),r.push({condition:"atBefore",text:this._getLocaleValue("atBeforeLabel"),imgClass:u.filterItemIconToday}),r.push({condition:"atAfter",text:this._getLocaleValue("atAfterLabel"),imgClass:u.filterItemIconYesterday})):i==="string"&&(r.push({condition:"startsWith",text:this._getLocaleValue("startsWithLabel"),imgClass:u.filterItemIconStartsWith}),r.push({condition:"endsWith",text:this._getLocaleValue("endsWithLabel"),imgClass:u.filterItemIconEndsWith}),r.push({condition:"contains",text:this._getLocaleValue("containsLabel"),imgClass:u.filterItemIconContains}),r.push({condition:"doesNotContain",text:this._getLocaleValue("doesNotContainLabel"),imgClass:u.filterItemIconDoesNotContain}),r.push({condition:"equals",text:this._getLocaleValue("equalsLabel"),imgClass:u.filterItemIconEquals}),r.push({condition:"doesNotEqual",text:this._getLocaleValue("doesNotEqualLabel"),imgClass:u.filterItemIconDoesNotEqual})),this.options.showEmptyConditions&&(r.push({condition:"empty",text:this._getLocaleValue("emptyLabel"),imgClass:u.filterItemIcon}),r.push({condition:"notEmpty",text:this._getLocaleValue("notEmptyLabel"),imgClass:u.filterItemIcon})),this.options.showNullConditions&&(r.push({condition:"null",text:this._getLocaleValue("nullLabel"),imgClass:u.filterItemIcon}),r.push({condition:"notNull",text:this._getLocaleValue("notNullLabel"),imgClass:u.filterItemIcon})),f=0;f<e.length;++f)if(e[f].columnKey===t){e=e[f];break}h=e.customConditions;for(c in h)h.hasOwnProperty(c)&&(a=h[c],v={condition:e.columnKey+"_"+c,text:a.labelText,imgClass:a.filterImgIcon},r.push(v));if(e.conditionList&&e.conditionList.length>0)for(f=0;f<e.conditionList.length;++f){for(s=null,o=0;o<r.length;++o)if(r[o].condition===e.conditionList[f]||r[o].condition===e.columnKey+"_"+e.conditionList[f]){s=r[o];break}if(!s)throw new Error(n.ig.util.stringFormat(this._getLocaleValue("conditionNotValidForColumnType"),e.conditionList[f],i));l.push(s)}else for(f=0;f<r.length;++f)l.push(r[f]);return l},_renderAdvancedConditionsDropDown:function(t,i,r){var f,e=[],o=this.options.filterDialogFilterDropDownDefaultWidth||120,u=i.filter(function(n){return n.condition===r});if(u=u.length!==0?u[0].text:i[0].text,t.empty(),this.options.filterDialogFilterConditionTemplate&&typeof this.options.filterDialogFilterConditionTemplate=="string")e=n(this._fTmplWrappers[this.grid.id()+"_filterDialogFilterConditionTemplate"](i)),e.appendTo(t);else{for(f=0;f<i.length;f++)e.push(i[f].text);t.igTextEditor({language:this.grid.options.language,preventSubmitOnEnter:!0,listItems:e,button:"dropdown",isLimitedToListValues:!0,allowNullValue:!1,buttonType:"dropdown",width:o,dropDownAttachedToBody:!0,value:u,validatorOptions:{notificationOptions:{appendTo:"#"+this.grid.container().attr("id")+"_dialog",maxWidth:o}}})}},_removeFilterFromDialog:function(t){var i,r=n(t.target),u=r.closest("[data-af-row]");u.length?(u.remove(),i=this._getFilterDialog().find("[data-af-row]")):(r.closest("tr").remove(),i=this._getFilterDialog().find("tr")),i.length<this.options.filterDialogMaxFilterCount&&this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_dialog_error").hide()},_renderDropDownToList:function(n,t,i){for(var f,e,o="",u,r=0;r<t.length;r++)e=t[r].itemClass!==undefined?n.itemClass+" "+t[r].itemClass:n.itemClass,u=t[r].condition,f="<li class='"+e+"' tabindex='"+this.grid.options.tabIndex+"' data-cond='"+(u||"")+"'><span class='"+n.imgContainerClass+"'><span class='"+this.css.filterItemIcon+" "+t[r].imgClass+"'><\/span><\/span><span class='"+n.textClass+"' data-localeid='"+(u?u+"Label":t[r].localeId)+"'>"+t[r].text+"<\/span><\/li>",o+=f;i.append(o)},_checkCloseDropDown:function(t){var r=n(t.target).closest("ul").parent().attr("aria-describedby"),i;n(t.target).closest("ul").data("focussed")||this._cancelNextBlur||!this.options?this._cancelNextBlur&&(this.grid._rootContainer().find("#"+this.grid.id()+"_dd_"+r+"_button").focus(),this._cancelNextBlur=!1):(n.each(this.options.columnSettings,function(n,t){if(t.columnKey===r)return i=n,!1}),this._closeDropDown({target:this._editorProviders[i].getEditor().element,currentTarget:this._editorProviders[i].getEditor().element}))},_renderDropDownElement:function(t,i){var r,u;return r=n("<ul><\/ul>").appendTo(this.grid._rootContainer()).addClass(this.css.filterDropDownList),u=n("<div><\/div>").appendTo(this.grid._rootContainer()).attr({id:t,"data-filter-dropdown":!0,"aria-describedBy":i}).addClass(this.css.filterDropDown).css("overflow","hidden").css("position","absolute").hide(),n.ig.util.isIE||u.css("overflow-y","auto"),u.remove(),this.options.filterDropDownWidth>0&&r.css("width",this.options.filterDropDownWidth),this.options.filterDropDownHeight>0&&u.css("height",this.options.filterDropDownHeight),r.data("colName",i),r.wrap(u),r.parent().data("efh","1"),this.grid._rootContainer().find("#"+t).delegate("li",{mousedown:n.proxy(this._selectDropDownItem,this),mouseover:n.proxy(this._hoverDropDownItem,this),mouseout:n.proxy(this._unhoverDropDownItem,this)}),r},_hoverButton:function(t){var i=n(t.currentTarget).find("span");this.options.mode==="advanced"?i.addClass(this.css.filterButtonAdvancedHover):i.addClass(this.css.filterButtonHover)},_unhoverButton:function(t){var i=n(t.currentTarget).find("span");this.options.mode==="advanced"?i.removeClass(this.css.filterButtonAdvancedHover):i.removeClass(this.css.filterButtonHover)},_activateButton:function(t){var i=n(t.currentTarget).find("span"),r=this.grid._rootContainer().find("#"+this.grid.id()+"_filtering_dd");if(r.data("focussed",!0),this._dontApplyStyles){this._dontApplyStyles=!1;return}this.options.mode==="advanced"?i.addClass(this.css.filterButtonAdvancedActive):i.addClass(this.css.filterButtonActive)},_deactivateButton:function(t){var u=n(t.target).find("span"),h=this,f=n(t.target).attr("id")||n(t.currentTarget).attr("id"),e,i,o,r,s;this.options.mode!=="advanced"||this.options.advancedModeEditorsVisible?(e=this.grid.id()+"_filtering_dd",i=this.grid._rootContainer().find("#"+e).find("ul"),s=(this.grid.id()+"_dd_").length,r=f.substring(s,f.lastIndexOf("_button")),i.data("focussed",!1),o=this._animating&&r===this._animatingId?this.options.filterDropDownAnimationDuration:0,r===this._animatingId&&setTimeout(function(){h._checkCloseDropDown({target:i,currentTarget:i})},o),u.removeClass(this.css.filterButtonActive)):u.removeClass(this.css.filterButtonAdvancedActive)},_toggleDropDown:function(t,i,r){var o=n(t.currentTarget),f=this.grid.getColumnByTD(o.closest("td")).column.key,v=this.grid.id()+"_filtering_dd",s,u,h,c,e=!0,l=o,a,y=this.grid._rootContainer().find("#"+this.grid.container().attr("id")+"_block"),p=this._getFilterDialog();if((!this._animating||v!==this._animatingId&&f!==this._animatingId)&&(s=n.ig.getMaxZIndex(this.grid.container().attr("id")+"_dialog"),y.css("zIndex",s+1),p.css("zIndex",s+2),u=this.grid._rootContainer().find("#"+v),this._isClosing=!1,u.attr("aria-describedby")===f&&u.is(":visible")&&(this._isClosing=!0),u.attr("aria-describedby",f),!this._isClosing&&e&&(n(u.children()[0]).empty(),this._renderDropDown(this._getColType(f),this.grid.id()+"_dd_filtering",f),i||(e=this._trigger(this.events.dropDownOpening,null,{dropDown:u,owner:this}))),u.is(":visible")&&(e=this._trigger(this.events.dropDownClosing,null,{dropDown:u,owner:this})),u.css("zIndex",s+3),!u.is(":visible")&&i===!0||(this._animating=!0,this._animatingId=f),this._dontFocus=this._openingAnimation!==!0?r:null,u.find("ul > li").length!==0)){if(e)if(h=n.ig.util.offset(l).left,c=n.ig.util.offset(l).top+l.outerHeight(),(u.igOffset().left!==h||u.igOffset().top!==c)&&(a=n.ig.util.getRelativeOffset(u),h-=a.left,c-=a.top,u.css("left",h).css("top",c)),this._currentTarget=o,this._dd=u,this._isClosing||(this._opendd=u),n.ig.util.isIE&&(u.css("overflow-x","hidden"),u.css("overflow-y","hidden")),i!==undefined&&i===!0)u.is(":visible")&&(this.options.filterDropDownAnimations!=="none"?u.hide(this.options.filterDropDownAnimationDuration,n.proxy(this._animationEnd,this)):(u.hide(),this._trigger(this.events.dropDownClosed,null,{dropDown:u,owner:this})));else if(this.options.filterDropDownAnimations!=="none"){if(u.is(":visible")&&!this._isClosing)if(e)u.hide(),this._trigger(this.events.dropDownClosed,null,{dropDown:u,owner:this});else return;this._openingTarget=this._currentTarget,this._openingAnimation=!0,u.toggle(this.options.filterDropDownAnimationDuration,n.proxy(this._animationEnd,this))}else u.toggle(),this._isClosing?this._trigger(this.events.dropDownClosed,null,{dropDown:u,owner:this}):(this._trigger(this.events.dropDownOpened,null,{dropDown:u,owner:this}),u.scrollTop(0)),r!==!0&&(this._dontApplyStyles=!0,o.focus());n.type(t.stopPropagation)==="function"&&t.stopPropagation()}},_animationEnd:function(){this.options!==null&&(this._isClosing===!0?this._trigger(this.events.dropDownClosed,null,{dropDown:this._dd,owner:this}):(this._trigger(this.events.dropDownOpened,null,{dropDown:this._opendd,owner:this}),this._openingAnimation=!1,this._dd.scrollTop(0)),this._dd&&n.ig.util.isIE&&this._dd.css("overflow-y","auto"),this._isClosing=null,this._dontFocus!==!0&&(this._dontApplyStyles=!0),this._animating=!1)},_toggleDropDownKeyboard:function(t){var i,r,f=n(t.target),u,e=n("#"+this.grid.id()+"_filtering_dd").find("ul");t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE?(f.is("input")||(t.stopPropagation(),t.preventDefault()),i=e,(i.data("selectedItem")||i.data("selectedItem")===0)&&(r=i.find("li:nth-child("+(i.data("selectedItem")+1)+")"),u=n("#"+this.grid.id()+"_filtering_dd").find("ul").is(":visible"),n(r).hasClass("ui-iggrid-filterddlistitemadvanced")&&u&&this._openFilterDialog(t)),r&&u?(t.currentTarget=r,this._selectDropDownItem(t)):this._toggleDropDown(t)):t.keyCode===n.ui.keyCode.DOWN||t.keyCode===n.ui.keyCode.UP?this._handleKeyboardNavigation(t):n.ui.keyCode.TAB&&this._toggleDropDown(t,!0)},_handleKeyboardNavigation:function(t){var i=n(t.target),r,u;(i.is("a")||i.is("input"))&&(u=this.grid.getColumnByTD(i.closest("td")).column.key,r=n("#"+this.grid.id()+"_filtering_dd").find("ul"),i=r.find("li.ui-iggrid-filterddlistitemactive").length>0?r.find("li.ui-iggrid-filterddlistitemactive"):r),t.stopPropagation(),t.preventDefault(),t.keyCode===n.ui.keyCode.DOWN?this._selectDropDownItem({currentTarget:i},"next"):t.keyCode===n.ui.keyCode.UP&&this._selectDropDownItem({currentTarget:i},"prev")},_changeSelectionKeyboard:function(t){var u,i,r;t.keyCode===n.ui.keyCode.DOWN||t.keyCode===n.ui.keyCode.UP?this._handleKeyboardNavigation(t):t.keyCode===n.ui.keyCode.ENTER?(t.stopPropagation(),t.preventDefault(),this._selectDropDownItem(t)):t.keyCode===n.ui.keyCode.TAB&&(t.stopPropagation(),t.preventDefault(),u=this.grid.id()+"_dd_"+n(t.target).closest("div").attr("aria-describedby")+"_button",i=this.grid.container().find("#"+u),t.shiftKey?(r=i.closest("td").prev("td"),r.length===0&&(r=i.closest("tr").prev()),r.find(":tabbable").last().focus()):i.closest("td").find("input:tabbable").focus())},_closeDropDown:function(t){var u=n(t.currentTarget),e=this.grid.id()+"_filtering_dd",f=u.closest("ul"),i=u.find("span"),r;if(!this._openingTarget||t.target.id!==this._openingTarget.attr("id")||this._openingAnimation!==!0){if(r=f.length!==0?f.closest("ul"):this.grid._rootContainer().find("#"+e),r&&!r.is(":visible")){i.removeClass(this.css.filterButtonActive);return}if(this._toggleDropDown({currentTarget:t.currentTarget},!0,!0),this._dontApplyStyles){this._dontApplyStyles=!1;return}this.options.mode==="advanced"?i.removeClass(this.css.filterButtonAdvancedActive):i.removeClass(this.css.filterButtonActive)}},_getColType:function(n){var t=this.grid.dataSource._getFieldTypeFromSchema(n);return t===undefined&&(t=this.grid.columnByKey(n).dataType),t},_hasEditor:function(t){return n.type(t.getEditor)==="function"},_selectDropDownItem:function(t,i,r){var u=n(t.currentTarget),s,f,c,o,y,a,l,h,g,p,w,d,nt,v,e,b,k,tt;u.find("input").length>0&&this.options.mode==="advanced"&&!this.options.advancedModeEditorsVisible||((i==="next"||i==="prev")&&(o=u.parent()),i==="next"&&(o.data("selectedItem")===undefined?u=o.find("li:first"):(u=o.find("li:nth-child("+(o.data("selectedItem")+1)+")"),u=u.next().length===0?o.find("li:first"):u.next())),i==="prev"&&(o.data("selectedItem")===undefined?u=o.find("li:last"):(u=o.find("li:nth-child("+(o.data("selectedItem")+1)+")"),u=u.prev().length===0?o.find("li:last"):u.prev())),s=u.attr("data-cond"),d=u.closest("div").attr("aria-describedBy"),a=this.grid._rootContainer().find("#"+this.grid.id()+"_dd_"+d+"_button"),a.attr("title",this._getLocaleValue("tooltipTemplate").replace("${condition}",this._getLocaleValue("noFilterLabel"))),u.attr("data-cond")===""&&a.attr("title",this._getLocaleValue("tooltipTemplate").replace("${condition}",this._getLocaleValue("noFilterLabel"))),n.each(this.options.columnSettings,function(n,t){if(t.columnKey===d)return f=n,!1}),!f&&r&&n.each(this.options.columnSettings,function(n,t){if(t.columnKey===r.fieldName)return f=n,!1}),l=this.options.columnSettings[parseInt(f,10)].condition,h=u.parent(),c=h.data("selectedItem"),w=this._getColType(this.grid.options.columns[f].key),y=this.requiresFilteringExpression(s),u[0]!==document.activeElement&&(u.parent().data("focussed",!0),u.focus()),s!==undefined&&s!==""?(this.options.columnSettings[parseInt(f,10)].condition=s,c!==undefined&&h.find("li:nth-child("+(c+1)+")").removeClass(this.css.filterDropDownListItemActive),u.addClass(this.css.filterDropDownListItemActive),h.data("selectedItem",n("li",h).index(u)),this._setEditorOption(this._editorProviders[f].getEditor(),"placeHolder",this._getNullTextByCondition(s))):l!=="empty"&&l!=="notEmpty"&&l!=="null"&&l!=="notNull"&&this.requiresFilteringExpression(l)||(this.options.columnSettings[parseInt(f,10)].condition=this._getDefaultCondition(w),c!==undefined&&(h.find("li:nth-child("+(c+1)+")").removeClass(this.css.filterDropDownListItemActive),h.data("selectedItem",null),this._isBool(this.grid.options.columns[f].dataType)?this._setEditorOption(this._editorProviders[f].getEditor(),"placeHolder",""):this._setEditorOption(this._editorProviders[f].getEditor(),"placeHolder",this._getNullTextByCondition(this._getDefaultCondition(w)))),(l==="null"||this.grid.options.columns[f].dataType==="date"||this.grid.options.columns[f].dataType==="time")&&this._setEditorOption(this._editorProviders[f].getEditor(),"placeHolder",this._getNullTextByCondition(this._getDefaultCondition(w)))),u.hasClass("ui-iggrid-filterddlistitemclear")&&(c!==undefined&&h.find("li:nth-child("+(c+1)+")").removeClass(this.css.filterDropDownListItemActive),u.addClass(this.css.filterDropDownListItemActive),h.data("selectedItem",n("li",h).index(u))),v=this._editorProviders[f],e=v.getEditor(),(i===undefined||t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(u.hasClass("ui-iggrid-filterddlistitemclear")||this.options.filterDropDownItemIcons===!0&&u.find(".ui-iggrid-filtericonclear").length>0?(y&&s!==undefined&&s!==""||(nt=this._getColType(this.grid.options.columns[f].key),this._setEditorOption(e,"readOnly",this._isBool(nt))),v.setValue(null),this._filterDataSourceClear(this.grid.options.columns[f].key,f),this._toggleDropDown({currentTarget:e.element},!0),a.focus()):(y||r?(k=this._getEditorVal(v),k!==""&&k!==null&&(e.setFocus?e.setFocus(!0):e.element.focus&&e.element.focus(),tt=e.displayValue?e.displayValue():k,g={owner:e,text:tt},this._filter(t,g))):(this._setEditorOption(e,"readOnly",!0),this._editorValueForCondition(s,v),b=this._editorProviders[f].editor.clearButton(),b.attr("id")&&b.attr("id").indexOf("clearButton")!==-1&&b.hide(),this._args=undefined,this._filterInternal(f,this.grid.options.columns[f].key),a.focus()),y&&(this._setEditorOption(e,"readOnly",!1),i===undefined&&s!==undefined&&(p=n.ig.util.isTouchDevice()?this.options.filterDropDownAnimationDuration:-1,e.setFocus?e.setFocus(p):e.element.focus&&(p>0?setTimeout(function(){e.element.focus()},p):e.element.focus())))),this._toggleDropDown({currentTarget:e.element},!0),u.parent().data("focussed",!1)))},requiresFilteringExpression:function(n){var t=this._dsTransformedCustomConditions;return this.grid.dataSource._isFilteringExprNotReq(n)?!1:t&&t[n]?t[n].requireExpr:n===undefined||n===null?!1:!0},_editorValueForCondition:function(n,t){var i=new Date,u=this._dsTransformedCustomConditions,r;n==="true"?t.setValue(this._getLocaleValue("trueLabel")):n==="false"?t.setValue(this._getLocaleValue("falseLabel")):n==="today"?(r=t.getEditor().element.data("colKey"),this.grid.columnByKey(r).dateDisplayType==="utc"?t.setValue(new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0))):t.setValue(i)):n==="yesterday"?(r=t.getEditor().element.data("colKey"),this.grid.columnByKey(r).dateDisplayType==="utc"?t.setValue(new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()-1,0,0,0,0))):t.setValue(new Date(i.getFullYear(),i.getMonth(),i.getDate()-1,0,0,0,0))):u&&u[n]?t.setValue(u[n].expressionText):t.setValue(null)},_assignTemplates:function(){var r=this,t=r.options,i=this.grid.id();this._fTmplWrappers={},this._fTmplWrappers[i+"_filterDialogFilterTemplate"]=function(i){return n.ig.tmpl(t.filterDialogFilterTemplate,i)},this._fTmplWrappers[i+"_filterDialogAddConditionTemplate"]=function(i){return n.ig.tmpl(t.filterDialogAddConditionTemplate,i)},this._fTmplWrappers[i+"_filterDialogAddConditionDropDownTemplate"]=function(i){return n.ig.tmpl(t.filterDialogAddConditionDropDownTemplate,i)},this._fTmplWrappers[i+"_filterDialogFilterConditionTemplate"]=function(i){return n.ig.tmpl(t.filterDialogFilterConditionTemplate,i)},String(this.grid.options.templatingEngine).toLowerCase()==="jsrender"&&(this._jsr=!0,n.templates(i+"_filterDialogFilterTemplate",t.filterDialogFilterTemplate),n.templates(i+"_filterDialogAddConditionTemplate",t.filterDialogAddConditionTemplate),n.templates(i+"_filterDialogAddConditionDropDownTemplate",t.filterDialogAddConditionDropDownTemplate),n.templates(i+"_filterDialogFilterConditionTemplate",t.filterDialogFilterConditionTemplate),this._fTmplWrappers=n.render)},_hoverDropDownItem:function(t){n(t.currentTarget).find("input").length===0&&n(t.currentTarget).addClass(this.css.filterDropDownListItemHover)},_unhoverDropDownItem:function(t){n(t.currentTarget).removeClass(this.css.filterDropDownListItemHover)},_virtualHorizontalScroll:function(t,i){var e=i.startColIndex,r,f=this.grid.headersTable().find("th"),u;if(this._currentTarget&&this._toggleDropDown({currentTarget:this._currentTarget},!0),this.options.mode==="advanced"&&this.options.advancedModeEditorsVisible!==!0){for(r=0;r<this.grid._virtualColumnCount;r++)(u=this.grid.options.columns[r+e].key,n(f[r]).data("colName",u),this._fcData[u]!==!0)&&n(f[r]).find("a").attr("data-col-key",u).attr("id",this.grid.element[0].id+"_dd_"+u+"_button");this._updateTooltips(this._currentAdvancedExpressions||[])}else throw new Error(this._getLocaleValue("virtualizationSimpleFilteringNotAllowed"));},_headerInit:function(n,t){var i;(this.options.mode==="simple"||this.options.advancedModeEditorsVisible===!0)&&this.grid.element.attr("id")===t.owner.element.attr("id")&&(i=this.grid.headersTable().children("thead").find("[data-role=filterrow]"),i.find("[data-skip=true]").remove(),this.grid._headerInit(i,null,!0))},_injectGrid:function(t){var i=null;if(this.grid=t,this.options.type===null&&(this.options.type=this.grid._inferOpType()),this.options.persist&&this.options.type==="remote"&&(i=this.element.closest(".ui-iggrid-root").data("igGrid"),i&&i.element.attr("id")!==this.grid.element[0].id&&i.options.initialDataBindDepth===-1&&(this.options.persist=!1)),this.grid.dataSource.settings.filtering.type=this.options.type?this.options.type:"remote",this.options.filterExprUrlKey&&(this.grid.dataSource.settings.filtering.filterExprUrlKey=this.options.filterExprUrlKey),this.grid.dataSource.settings.filtering.caseSensitive=this.options.caseSensitive,this._headerCellRenderedHandler!==null&&this._headerCellRenderedHandler!==undefined&&this.grid.element.unbind("iggridheadercellrendered",this._headerCellRenderedHandler),this._headerCellRenderedHandler=n.proxy(this._headerCellRendered,this),this.grid.element.bind("iggridheadercellrendered",this._headerCellRenderedHandler),this._headerRenderedHandler!==null&&this._headerRenderedHandler!==undefined&&this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this._headerRenderedHandler=n.proxy(this._headerRendered,this),this.grid.element.bind("iggridheaderrendered",this._headerRenderedHandler),this._columnResizedHandler!==null&&this._columnResizedHandler!==undefined&&this.grid.element.unbind("iggridresizingcolumnresized",this._columnResizedHandler),this._columnResizedHandler=n.proxy(this._columnResized,this),this.grid.element.bind("iggridresizingcolumnresized",this._columnResizedHandler),this._columnsAlteredHandler!==null&&this._columnsAlteredHandler!==undefined&&this.grid.element.unbind("iggrid_columnsmoved",this._columnsAlteredHandler),this._columnsAlteredHandler=n.proxy(this._columnsAltered,this),this.grid.element.bind("iggrid_columnsmoved",this._columnsAlteredHandler),this._transformCustomConditionsForDataSource(),this._initDefaultSettings(),this._onUIDirtyHandler!==null&&this._onUIDirtyHandler!==undefined&&this.grid.element.unbind("iggriduidirty",this._onUIDirtyHandler),this._onUIDirtyHandler=n.proxy(this._onUIDirty,this),this.grid.element.bind("iggriduidirty",this._onUIDirtyHandler),this._virtualHorizontalScrollHandler!==null&&this._virtualHorizontalScrollHandler!==undefined&&this.grid.element.unbind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),this._virtualHorizontalScrollHandler=n.proxy(this._virtualHorizontalScroll,this),this.grid.element.bind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),(this.grid.options.virtualization===!0&&this.grid.options.width!==null||this.grid.options.columnVirtualization===!0)&&this.options.mode===null)this.options.mode="advanced";else if(this.grid.options.virtualization!==!1&&(this.grid.options.virtualization!==!0||this.grid._isColumnVirtualizationEnabled())||this.options.mode!==null&&this.options.mode!=="simple"){if(this.options.mode==="simple"&&(this.grid.options.virtualization===!0||this.grid.options.columnVirtualization===!0))throw new Error(this._getLocaleValue("virtualizationSimpleFilteringNotAllowed"));}else this.options.mode="simple";if(this.grid._rlp&&(this.options.mode==="simple"||!this.options.mode))throw new Error(this._getLocaleValue("multiRowLayoutSimpleFilteringNotAllowed"));if(this._headerInitHandler!==null&&this._headerInitHandler!==undefined&&this.grid.element.unbind("iggridheaderextracellsmodified",this._headerInitHandler),this._headerInitHandler=n.proxy(this._headerInit,this),this.grid.element.bind("iggridheaderextracellsmodified",this._headerInitHandler),this._dataBoundHandler!==null&&this._dataBoundHandler!==undefined&&this.grid.element.unbind("iggriddatabound",this._dataBoundHandler),this._dataBoundHandler=n.proxy(this._dataBound,this),this.grid.element.bind("iggriddatabound",this._dataBoundHandler),this.grid.element.igGridFeatureChooser!==undefined)this.grid.element.igGridFeatureChooser();else throw new Error(this._getLocaleValue("featureChooserNotReferenced"));this._assignTemplates(),this.options.persist&&this._preserveFiltering()}}),n.extend(n.ui.igGridFiltering,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridGroupBy",n.ui.igWidget,{css:{dragMarkup:"ui-iggrid-dragMarkup",groupByArea:"ui-iggrid-groupbyarea",groupByAreaText:"ui-iggrid-groupbyareatext",groupedRow:"ui-iggrid-groupedrow",summaryRow:"ui-iggrid-summaryrow",expandHeaderCellGroupBy:"ui-iggrid-header ui-widget-header",groupByExpandCellExpanded:"ui-icon ui-iggrid-expandbutton ui-iggrid-expandbuttonexpanded ui-icon-minus",groupBySummaryIcon:"ui-icon ui-icon-calculator ui-iggrid-groupsummary-icon",groupByExpandCellCollapsed:"ui-icon ui-iggrid-expandbutton ui-icon-plus",groupByAreaDropHover:"ui-iggrid-groupbyareahover",groupByExpandColumn:"ui-iggrid-expandcolumn",groupBySummaryColumn:"ui-iggrid-summarycolumn",groupBySummaryIconColumn:"ui-iggrid-summaryiconcolumn",groupBySummaryEmptyCellColumn:"ui-iggrid-summaryemptycellcolumn",nonGroupRowEmptyCell:"ui-iggrid-nongrouprowemptycell",groupedColumnLabel:"ui-iggrid-groupedcolumnlabel ui-state-default",groupedColumnLabelText:"ui-iggrid-groupedcolumnlabeltext",groupByRemoveButton:"ui-icon ui-icon-circle-close ui-iggrid-groupbyremovebutton",groupedColumnLabelRightEdgeEnd:"ui-iggrid-groupbylabelrightedgeend",groupedColumnLabelRightEdge:"ui-iggrid-groupbylabelrightedge",groupedColumnLayoutLabel:"ui-iggrid-groupbylayoutlabel",headerExtraCell:"ui-iggrid-expandheadercellgb",footerExtraCell:"ui-widget-content ui-iggrid-footerextracell",featureChooserIconClass:"ui-icon ui-iggrid-icon-groupby",dialogGroupedColumns:"ui-iggrid-groupby-dialog-groupedcolumns",dialogUnroupedColumns:"ui-iggrid-groupby-dialog-ungroupedcolumns",dialogGroupedItem:"ui-widget-content",dialogUngroupedItem:"ui-widget-content",dialogUngroupedColumnsGroupByButton:"ui-iggrid-dialog-groupby-button",dialogUngroupedColumnsText:"ui-iggrid-dialog-text",dialogButtonAsc:"ui-button ui-corner-all ui-button-icon-only ig-sorting-indicator",dialogButtonAscIcon:"ui-button-icon-primary ui-icon ui-icon-arrowthick-1-n",dialogButtonDesc:"ui-button ui-corner-all ui-button-icon-only ig-sorting-indicator",dialogButtonDescIcon:"ui-button-icon-primary ui-icon ui-icon-arrowthick-1-s",dialogButtonUngroup:"ui-iggrid-dialog-groupedbuttons ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-igbutton ui-widget-content ui-igbutton-remove",dialogButtonUngroupContainer:"ui-button-icon-primary ui-icon ui-icon-circle-close",dialogGroupedColumnTextContainer:"ui-iggrid-dialog-text",dialogListGroupedColumns:"ui-iggrid-dialog-list-groupedcolumns",dialogListUngroupedColumns:"ui-iggrid-dialog-list-ungroupedcolumns",dialogLayoutsDDButton:"ui-icon ui-icon-triangle-1-s ui-iggrid-dialog-layouts-dd-button",dropDownLayoutsContainer:"ui-iggrid-featurechooser-dropdown-dialog ui-widget ui-widget-content ui-corner-all",dialogLayoutsDDField:"ui-iggrid-dialog-layouts-dd-field",dialogLayoutsDD:"ui-iggrid-dialog-layouts-dd ui-widget-content ui-corner-all ig-combo-icon-container",modalDialogTreeContainer:"ui-iggrid-groupby-dialog-tree",modalDialogLayoutsContainer:"ui-iggrid-groupby-dialog-layoutscontainer",dialogButtonsHover:"ui-state-hover",groupByLastEmptyCell:"ui-iggrid-last-emptycell"},renderInFeatureChooser:!1,options:{groupByAreaVisibility:"top",initialExpand:!0,pagingMode:"allRecords",expansionIndicatorVisibility:!0,groupByLabelWidth:null,labelDragHelperOpacity:.5,indentation:30,defaultSortingDirection:"asc",groupedColumns:[{key:null,dir:"asc",layout:null,col:null}],resultResponseKey:null,groupedRowTextTemplate:"${key}: ${val} (${count})",type:null,groupByUrlKey:null,groupByUrlKeyAscValue:null,groupByUrlKeyDescValue:null,summarySettings:{multiSummaryDelimiter:",",summaryFormat:"#.00"},columnSettings:[{allowGrouping:!0,isGroupBy:!1,compareFunc:null,groupComparerFunction:null,groupLabelFormatter:null,dir:"asc",summaries:[{summaryFunction:"avg",text:null,customSummary:null}],groupSummaries:[{summaryFunction:null,label:"",summaryTemplate:"{label}{result}",format:null}]}],expandTooltip:undefined,collapseTooltip:undefined,removeButtonTooltip:undefined,modalDialogGroupByButtonText:undefined,modalDialogCaptionButtonDesc:undefined,modalDialogCaptionButtonAsc:undefined,modalDialogCaptionButtonUngroup:undefined,modalDialogCaptionText:undefined,modalDialogDropDownLabel:undefined,modalDialogRootLevelHierarchicalGrid:undefined,modalDialogDropDownButtonCaption:undefined,modalDialogClearAllButtonLabel:undefined,emptyGroupByAreaContentSelectColumnsCaption:undefined,modalDialogButtonApplyText:undefined,modalDialogButtonCancelText:undefined,locale:{emptyGroupByAreaContent:undefined,emptyGroupByAreaContentSelectColumns:undefined,emptyGroupByAreaContentSelectColumnsCaption:undefined,expandTooltip:undefined,collapseTooltip:undefined,removeButtonTooltip:undefined,modalDialogCaptionButtonDesc:undefined,modalDialogCaptionButtonAsc:undefined,modalDialogCaptionButtonUngroup:undefined,modalDialogGroupByButtonText:undefined,modalDialogCaptionText:undefined,modalDialogDropDownLabel:undefined,modalDialogClearAllButtonLabel:undefined,modalDialogRootLevelHierarchicalGrid:undefined,modalDialogDropDownButtonCaption:undefined,modalDialogButtonApplyText:undefined,modalDialogButtonCancelText:undefined,summaryRowTitle:undefined,summaryIconTitle:undefined},modalDialogGroupByOnClick:!1,modalDialogDropDownWidth:200,modalDialogDropDownAreaWidth:null,modalDialogAnimationDuration:200,modalDialogWidth:400,modalDialogHeight:"",useGridColumnFormatter:!0,persist:!0,groupByDialogContainment:"owner",dialogWidget:"igGridModalDialog",inherit:!1,groupSummaries:[{summaryFunction:"",label:"",summaryTemplate:"{label}{value}",format:null}],groupSummariesPosition:"bottom"},events:{groupedColumnsChanging:"groupedColumnsChanging",groupedColumnsChanged:"groupedColumnsChanged",modalDialogMoving:"modalDialogMoving",modalDialogClosing:"modalDialogClosing",modalDialogClosed:"modalDialogClosed",modalDialogOpening:"modalDialogOpening",modalDialogOpened:"modalDialogOpened",modalDialogContentsRendering:"modalDialogContentsRendering",modalDialogContentsRendered:"modalDialogContentsRendered",modalDialogButtonApplyClick:"modalDialogButtonApplyClick",modalDialogButtonResetClick:"modalDialogButtonResetClick",modalDialogGroupingColumn:"modalDialogGroupingColumn",modalDialogGroupColumn:"modalDialogGroupColumn",modalDialogUngroupingColumn:"modalDialogUngroupingColumn",modalDialogUngroupColumn:"modalDialogUngroupColumn",modalDialogSortGroupedColumn:"modalDialogSortGroupedColumn"},_create:function(){this._orderedGroupedCols=[]},_createWidget:function(){this.options.columnSettings=[],this.options.groupedColumns=[],this.options.groupSummaries=!1,this._tempSortingExpr=[],this._tempGroupedColumns=[],this._tempOrderedGroupedCols=[],this._tempOptions={},this._currentTreeLayer=null,this._isInitFC=!1,this._modalSelectedLayout=null,n.Widget.prototype._createWidget.apply(this,arguments)},_getModalDialog:function(){return this.grid._rootContainer().find("#"+this.grid.id()+"_groupby_modalDialog")},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},changeLocale:function(){var t=this._getModalDialog(),r=this,i;this._setGroupAreaTextContent(n(".ui-iggrid-groupbyarea .ui-iggrid-groupbyareatext",this.grid.container())),this._super(n(".ui-iggrid-grouparealist",this.grid.container())),this._super(n("tbody>tr.ui-iggrid-groupedrow",this.grid.container())),this.grid.container().find("tr.ui-iggrid-summaryrow>td[gbsummaryiconcell]").each(function(){n(this).attr("title",r._getSummaryIconTitle(n(this).data("colheader"),n(this).data("groupval")))}),t.length&&(t[this.options.dialogWidget]("option","locale",{modalDialogCaptionText:this._getLocaleValue("modalDialogCaptionText"),buttonApplyText:this._getLocaleValue("modalDialogButtonApplyText"),buttonCancelText:this._getLocaleValue("modalDialogButtonCancelText")}),this._super(t),t.find("a[data-localeid='modalDialogGroupByButtonText']").each(function(){i=n(this).parent().next("span.ui-iggrid-dialog-text").text(),n(this).attr("aria-label",r._getLocaleValue("modalDialogGroupByButtonText")+" "+i)}),t.find("button[data-localeid='modalDialogCaptionButtonUngroup']").each(function(){i=n(this).prev("span.ui-iggrid-dialog-text").text(),n(this).attr("aria-label",r._getLocaleValue("modalDialogCaptionButtonUngroup")+" "+i)}))},_registerWidget:n.noop,_unregisterWidget:n.noop,changeRegional:function(){var n;this.options.groupedColumns.length>0&&(n=this._generateGroupByRowsMarkup(this._getDataView(),this._startRowIndex,this._endRowIndex),this.grid.element.find(">tbody").empty().html(n))},_setOption:function(n,t){var i=this._getModalDialog();if(this._super(n,t),n==="expansionIndicatorVisibility")throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",n));switch(n){case"modalDialogGroupByOnClick":this._getModalDialog().remove(),this._renderGroupByDialog();break;case"modalDialogAnimationDuration":i[this.options.dialogWidget]("option","animationDuration",t);break;case"modalDialogWidth":i[this.options.dialogWidget]("option","modalDialogWidth",t);break;case"modalDialogHeight":i[this.options.dialogWidget]("option","modalDialogHeight",t);break;case"groupByAreaVisibility":this._setGroupByAreaVisibility(t)}},_setGroupByAreaVisibility:function(t){var r=this,u,f,i=n("#"+this.grid.element.attr("id")+"_groupbyarea"),e=this.grid._initialized,o=this.grid.container();if(i.remove(),t==="top")f=this.grid._caption(),i=f.length?n("<div><\/div>").insertAfter(f):n("<div><\/div>").prependTo(o);else if(t==="bottom")u=o.find(".ui-iggrid-footer").last(),i=e&&u.length&&u.is(":visible")?n("<div><\/div>").insertBefore(u):n("<div><\/div>").appendTo(o);else if(t==="hidden"){e&&this.grid._initializeHeights();return}i.attr("id",this.grid.element.attr("id")+"_groupbyarea").addClass(this.css.groupByArea),this._setGroupAreaTextContent(n("<span><\/span>").appendTo(i).addClass(this.css.groupByAreaText)),i.droppable({accept:"th:not([ groupby-disabled ])",hoverClass:r.css.groupByAreaDropHover,drop:function(n,t){var u,i;i=t.draggable.closest(".ui-iggrid-root").attr("id")===r.grid.id()||t.draggable.closest(".ui-iggrid").find(".ui-iggrid-root").length>0,r.grid.element.hasClass("ui-iggrid-root")||(i=!0),u=t.draggable.hasClass("ui-iggrid-header")&&i,u&&r._groupBy(n,t.draggable)}}),this.grid._isMultiColumnGrid&&i.droppable("option","tolerance","touch"),e&&(this.grid._initializeHeights(),this._groupAreaList())},_headerRendered:function(n,t){t.owner.id()===this.grid.id()&&(t.owner.element.attr("data-childgrid")||(this._renderGroupByDialog(),this._setGroupByAreaVisibility(this.options.groupByAreaVisibility)))},_renderGroupByDialog:function(){var e,u,t=this,r=this.options,f,i;u=this.options.groupByDialogContainment==="owner"?this.grid.container():"window",i=n("<div><\/div>").appendTo(this.grid._rootContainer()).attr("id",this.grid.id()+"_groupby_modalDialog"),i[this.options.dialogWidget]({renderFooterButtons:!r.modalDialogGroupByOnClick,modalDialogWidth:r.modalDialogWidth,modalDialogHeight:r.modalDialogHeight,animationDuration:r.modalDialogAnimationDuration,locale:{modalDialogCaptionText:t._getLocaleValue("modalDialogCaptionText"),buttonApplyText:t._getLocaleValue("modalDialogButtonApplyText"),buttonCancelText:t._getLocaleValue("modalDialogButtonCancelText")},containment:u,gridContainer:this.grid.container(),modalDialogOpening:function(n,i){return t._groupByDialogOpening(n,i)},modalDialogOpened:function(){t._trigger(t.events.modalDialogOpened,null,{modalDialogElement:i,owner:t})},modalDialogMoving:function(n,i){t._trigger(t.events.modalDialogMoving,null,{modalDialogElement:n.target,owner:t,originalPosition:i.originalPosition,position:i.position})},modalDialogClosing:function(){return t._trigger(t.events.modalDialogClosing,null,{modalDialogElement:i,owner:t})},modalDialogClosed:function(){t._trigger(t.events.modalDialogClosed,null,{modalDialogElement:i,owner:t})}}),r.modalDialogGroupByOnClick?(f=i[this.options.dialogWidget]("getCaptionButtonContainer"),n("<span><\/span>").addClass("ui-icon ui-icon-closethick").appendTo(n("<a><\/a>").appendTo(f).attr({title:this._getLocaleValue("columnChooserCloseButtonTooltip"),href:"#",role:"button","data-localeid":"columnChooserCloseButtonTooltip","data-localeattr":"title"}).bind("click.hiding",function(n){return i[r.dialogWidget]("closeModalDialog",!0,n),n.preventDefault(),n.stopPropagation(),!1}).addClass("ui-dialog-titlebar-close ui-corner-all"))):(f=i[this.options.dialogWidget]("getCaptionButtonContainer"),e=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_footer_buttonok"),e.bind("igbuttonclick",function(n){t._groupByDialogButtonOKClick(n)}))},openGroupByDialog:function(){var n=this._getModalDialog();n[this.options.dialogWidget]("openModalDialog")},closeGroupByDialog:function(){var n=this._getModalDialog();n[this.options.dialogWidget]("closeModalDialog")},_groupByDialogOpening:function(){var n,t=this._getModalDialog();return n=this._trigger(this.events.modalDialogOpening,null,{modalDialogElement:t,owner:this}),n&&this.renderGroupByModalDialog(),n},renderGroupByModalDialog:function(){var i,r,t=this,h=this.options,u=this.css,f=this._getModalDialog(),e,o,s;if(e=this._trigger(this.events.modalDialogContentsRendering,null,{modalDialogElement:f,owner:this}),e){if(i=f[this.options.dialogWidget]("getContent"),i.empty(),t._tempGroupedColumns=h.groupedColumns.slice(0),t._tempOrderedGroupedCols=t._orderedGroupedCols.slice(0),t._tempSortingExpr=t.grid.dataSource.settings.sorting.expressions.slice(0),t._tempOptions={columnLayouts:[]},this.grid.options.columnLayouts&&this.grid.options.columnLayouts.length>0){for(r=0;r<this.grid.options.columnLayouts.length;r++)t._tempOptions.columnLayouts.push(n.extend(!0,{},this.grid.options.columnLayouts[r]));this._renderLayoutsDropDown()}o=n("<div><\/div>").attr("id",this.grid.id()+"_groupby_modalDialog_groupedcolumns").addClass(u.dialogGroupedColumns).appendTo(i),s=n("<div><\/div>").attr("id",this.grid.id()+"_groupby_modalDialog_ungroupedcolumns").addClass(u.dialogUnroupedColumns).appendTo(i),n("<ul><\/ul>").addClass(u.dialogListGroupedColumns).appendTo(o),n("<ul><\/ul>").addClass(u.dialogListUngroupedColumns).appendTo(s),this._renderColumnsDialog(this.grid.options.columns),this._currentTreeLayer=null,this._isToRenderClearAllButton()?this._renderDialogButtonClearAll():this.grid.container().find("#"+this.grid.id()+"_groupbydialog_reset_button").remove(),this._trigger(this.events.modalDialogContentsRendered,null,{modalDialogElement:f,owner:this})}},_renderLayoutsDropDown:function(){var r=this.options,c,e,l,h,t=this,o=this.css,b=this._getModalDialog(),k=b[this.options.dialogWidget]("getContent"),a,v,i,u,s,y=this.grid.id()+"_groupby_modalDialog_layoutsDD",p=r.modalDialogDropDownAreaWidth||r.modalDialogDropDownWidth,f=this.grid.options.columnLayouts.slice(0),w;w=n("<div><\/div>").attr("id",this.grid.id()+"_groupby_modalDialog_layoutsContainer").addClass(o.modalDialogLayoutsContainer).appendTo(k),v="<div style='float: left;'>"+this._getLocaleValue("modalDialogDropDownLabel")+"<\/div><div class='"+o.dialogLayoutsDD+"'>\t<div id='"+this.grid.id()+"_groupby_modalDialog_layoutsDDField' class='"+o.dialogLayoutsDDField+"'>"+this._getLocaleValue("modalDialogRootLevelHierarchicalGrid")+"<\/div>\t<span id='"+this.grid.id()+"_groupby_modalDialog_layoutsDDButton' style='float:right;'>^<\/span>\t<div style='clear: both;'><\/div><\/div><div style='clear: both;'><\/div>",w.html(v),i=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_layoutsDDButton"),i.wrap("<a href='#' title='"+this._getLocaleValue("modalDialogDropDownButtonCaption")+" '><\/a>"),a=function(n){n.preventDefault(),n.stopPropagation()},i.closest("div").bind({mousedown:function(n){t._toggleDropDown(n,!1)},mouseup:a,click:a}),i.addClass(o.dialogLayoutsDDButton),this._checkIsGroupByInherit(this.grid.options)===!1&&(f=this._getEnabledGroupByLayouts(f)),(f.length>0||this._checkIsGroupByEnabled(this.grid.options))&&(u=this.grid.container().find("#"+y),u.remove(),u=n("<div><\/div>"),u.attr("id",y).css({position:"absolute",display:"none","z-index":"1000"}).addClass(this.css.dropDownLayoutsContainer).appendTo(this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_content")).bind({mousedown:function(){clearTimeout(t._dropDownTimeout),setTimeout(function(){i.closest("a").focus()},10)}}),r.modalDialogDropDownWidth&&i.closest("div").width(r.modalDialogDropDownWidth),p&&u.width(p),r.modalDialogDropDownWidth&&(!r.modalDialogDropDownWidth.indexOf||r.modalDialogDropDownWidth.indexOf("%")===-1)&&(e=i.closest("div").width()-i.outerWidth(),h=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_layoutsDDField"),h.width(e),l=h.outerWidth()-e,l>0&&(e-=l,h.width(e-2))),s=n("<div><\/div>").attr("id",this.grid.id()+"_groupby_modal_treeLayouts").addClass(o.modalDialogTreeContainer),s.appendTo(u),f=[{key:"Root",columnLayouts:f,isRoot:!0}],s.igTree({dataSourceType:"json",pathSeparator:"/",dataSource:f,initialExpandDepth:1e6,bindings:{textKey:"key",childDataProperty:"columnLayouts"},nodeClick:function(n,i){var r=i.node.data,u=r.key,f=t.grid.container().find("#"+t.grid.id()+"_groupby_modalDialog_groupedcolumns ul"),e=t.grid.container().find("#"+t.grid.id()+"_groupby_modalDialog_ungroupedcolumns ul");r.dislabledGroupBy!==!0&&(f.empty(),e.empty(),t.grid.container().find("#"+t.grid.id()+"_groupby_modalDialog_layoutsDDField").text(u),i.node.path.length===1?(t._renderColumnsDialog(t.grid.options.columns),t._currentTreeLayer=null):(t._currentTreeLayer=u,t._renderColumnsDialog(r.columns,u)),t._toggleDropDown())}}),c=function(){t._dropDownTimeout=setTimeout(function(){t.closeDropDown()},200)},i.closest("a").bind({focus:function(){t._igTreeHasFocus=!0,clearTimeout(t._dropDownTimeout)},blur:function(){t._igTreeHasFocus=!1,c()}}),s.find("a").bind({focus:function(){clearTimeout(t._dropDownTimeout)},blur:function(){c()}}),s.find("span.ui-igtree-expander.ui-icon").bind({click:function(){clearTimeout(t._dropDownTimeout),setTimeout(function(){i.closest("a").focus()},10)}}))},openDropDown:function(){var n=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_layoutsDD");n.is(":visible")===!1&&this._toggleDropDown()},closeDropDown:function(){var n=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_layoutsDD");n.is(":visible")===!0&&this._toggleDropDown()},_getEnabledGroupByLayouts:function(t){var f=[],u,r,i;if(t)for(u=0;u<t.length;u++)r=null,i=n.extend(!0,{},t[u]),i.columnLayouts&&this._checkIsGroupByInherit(i)===!1&&(r=this._getEnabledGroupByLayouts(i.columnLayouts),i.columnLayouts=r&&r.length>0?r:null),this._checkIsGroupByEnabled(i)?f.push(i):i.columnLayouts!==null&&i.columnLayouts!==undefined&&(i.dislabledGroupBy=!0,f.push(i));return f},_checkIsGroupByInherit:function(n){var t;if(n&&n.features)for(t=0;t<n.features.length;t++)if(n.features[t].name==="GroupBy"&&n.features[t].inherit===!0)return!0;return!1},_checkIsGroupByEnabled:function(n){var t;if(n&&n.features)for(t=0;t<n.features.length;t++)if(n.features[t].name==="GroupBy")return!0;return!1},_toggleDropDown:function(){var e=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_layoutsDDButton").parent(),r=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_content"),i=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_layoutsDDField").parent(),u=0,f=0,n=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_layoutsDD"),o=n.is(":visible")===!0,t=this;n.data("isAnimating")!==!0&&(o||(f=i.igOffset().top-r.igOffset().top+i.height()+1,u=i.igOffset().left-r.igOffset().left,n.css({top:f,left:u})),n.data("isAnimating",!0),n.slideToggle(400,function(){var i=t.grid.container().find("#"+t.grid.id()+"_groupby_modalDialog_layoutsDD"),r=t.grid.container().find("#"+t.grid.id()+"_groupby_modal_treeLayouts");n.is(":visible")===!0?(e.focus(),t._activeDropdown=n,t.options.modalDialogDropDownAreaWidth||t.options.modalDialogDropDownWidth||i.width()!==r.width()&&i.width(r.width())):t._activeDropdown=null,n.data("isAnimating",!1)}))},_groupByDialogButtonOKClick:function(t){var h,c,u,r,f,o,l,e=this.options,i,a=this._getModalDialog(),s=!1;if(this._tempGroupedColumns=this._tempGroupedColumns||[],h=this._trigger(this.events.modalDialogButtonApplyClick,null,{modalDialogElement:a,owner:this,groupedColumns:this._tempGroupedColumns,groupedColumnLayouts:this._tempOptions.columnLayouts,sortingExpr:this._tempSortingExpr}),h){if(c=this._trigger(this.events.groupedColumnsChanging,t,{owner:this,groupedColumns:e.groupedColumns,newGroupedColumns:{columns:this._tempGroupedColumns,layouts:this._tempOptions.columnLayouts},triggeredBy:"modalDialog"}),c){if(this._orderedGroupedCols.length!==this._tempOrderedGroupedCols.length)s=!0;else for(f=this._orderedGroupedCols.length,u=0;u<f;u++){for(o=this._tempOrderedGroupedCols[u],r=0;r<f;r++)if(o.key===this._orderedGroupedCols[r].key&&o.layout===this._orderedGroupedCols[r].layout)break;if(r===f){s=!0;break}}this._orderedGroupedCols=this._tempOrderedGroupedCols,e.groupedColumns&&(e.groupedColumns=this._tempGroupedColumns),this.grid.options.columnLayouts&&(this.grid.options.columnLayouts=this._tempOptions.columnLayouts),this.grid.dataSource.settings.sorting.expressions&&(this.grid.dataSource.settings.sorting.expressions=!this.grid._isHierarchicalGrid||this.options.type==="remote"&&!this.grid.options.odata?this._tempSortingExpr:this._filterExpressionsByLayout(this._tempSortingExpr)),this._setExprFormatter(this.grid.dataSource.settings.sorting.expressions),this._isgroup=this._isToRenderClearAllButton()===!1?n(".ui-iggrid-groupbyarea",this.grid.container()).find("ul li").length===0?null:!1:!0,i=this.grid.headersTable(),e.groupedColumns.length===0&&i.find("thead tr").children().first().hasClass("ui-iggrid-expandheadercellgb")&&(n.ig.util.isIE&&(this.grid.element.children("tbody").hide(),i.hide()),this.grid.element.find("colgroup").children().first().remove(),this.grid.options.fixedHeaders&&i.find("colgroup").children().first().remove(),this.grid.options.fixedFooters&&this.grid.options.height!==null&&this.grid.footersTable().find("colgroup").children().first().remove(),i.find("thead tr").children("[ data-skip ]").first().remove()),l=this._orderedGroupedCols.slice(0),this._orderedGroupedCols=[],this._ensureLabelsOrder(l,this._orderedGroupedCols,this.grid.options),this._rebind(),this._clearSortingSettings(this._tempGroupedColumns),n.ig.util.isIE&&!i.is(":visible")&&i.show(),this.grid.options.width!==null&&this.grid.options.width!==undefined&&this.grid._updateGridContentWidth(),this.grid._trigger("headerExtraCellsModified",null,{owner:this}),s===!0&&(this.grid._onGroupedColumnsChanged(this._tempGroupedColumns),this._trigger(this.events.groupedColumnsChanged,t,{owner:this,groupedColumns:this._tempGroupedColumns,triggeredBy:"modalDialog"}))}t.preventDefault(),t.stopPropagation(),a[this.options.dialogWidget]("closeModalDialog",null,t)}},_clearSortingSettings:function(t){if(t&&t.length){var i,u,r=this.grid.element.data("igGridSorting");if(r){for(i=0;i<t.length;i++)u=n.type(t[i])!=="object"?t[i]:t[i].key,r._clearSortStateByColKey(u,!0);r._clearActiveHeader(),r._curColKey=null,r._currentActiveHeader=null,r._saveSortingExpressions()}}},_setSortingTempExpr:function(n,t,i){for(var u,c,e=-1,a=this._tempGroupedColumns,l,f=this._tempSortingExpr,s,o,h={fieldName:n,dir:t,layout:i,isGroupBy:!0},r=0;r<f.length;r++)if(f[r].fieldName===n&&(f[r].layout===i||!i&&!f[r].layout)){e=r;break}if(t===""){e>-1&&f.splice(e,1);return}for(e>-1?f[e].isGroupBy?f[e]=h:(f.splice(e,1),this._addSortingExpression(f,h)):this._addSortingExpression(f,h),a.length!==0||i||(l=this._tempGroupedColumns.slice(0),this._allGroupedCols(l),a=l.slice(0)),u=0;u<this._tempOrderedGroupedCols.length;u++)if(this._tempOrderedGroupedCols[u].key===n&&(this._tempOrderedGroupedCols.layout&&this._tempOrderedGroupedCols.layout===i||!this._tempOrderedGroupedCols.layout&&!i)){this._tempOrderedGroupedCols[u].dir=t;break}if(i)for(c=[],this._findLayout(i,this._tempOptions,c),o=c[0],u=0;o.features&&u<o.features.length;u++)if(o.features[u].name==="GroupBy"){for(s=o.features[u].columnSettings,r=0;r<s.length;r++)if(s[r].columnKey===n){s[r].dir=t;break}break}},_setGroupByTempExpr:function(t,i,r,u){var f,c,s,e,l,o,h,a;if(u?(a=[],this._findLayout(u,this._tempOptions,a),e=a[0],l=this._getColumnByLayoutKey(t,e.columns)):(e=this.grid.options,l=this.grid.columnByKey(t)),u){if(e.features){for(f=0;f<e.features.length;f++)if(e.features[f].name==="GroupBy"){o=e.features[f].columnSettings,o||(e.features[f].columnSettings=[],o=e.features[f].columnSettings);break}}else e.features=[],e.features.push({name:"GroupBy",columnSettings:[]}),o=e.features[0].columnSettings;for(f=0;f<o.length;f++)if(o[f].columnKey===t){i?h=o[f]:o.splice(f,1);break}i&&(h?(h.isGroupBy=i,h.dir=r):o.push({columnKey:t,isGroupBy:i,dir:r}))}if(c={key:t,dir:r,layout:u,col:l,isGroupBy:i},!u){for(s=this._tempGroupedColumns,f=0;f<s.length;f++)if(s[f].key===t){s.splice(f,1);break}i&&(s=s.concat(c)),this._tempGroupedColumns=s}if(i)this._tempOrderedGroupedCols.push(c);else for(f=0;f<this._tempOrderedGroupedCols.length;f++)if(this._tempOrderedGroupedCols[f].key===t&&(this._tempOrderedGroupedCols.layout&&this._tempOrderedGroupedCols.layout===u||!this._tempOrderedGroupedCols.layout)){n.ig.removeFromArray(this._tempOrderedGroupedCols,f);break}this._setSortingTempExpr(t,r,u)},_checkColumnIsGroupedInternal:function(n,t,i,r){var s=!1,u,e,h,f,o;if(t){if(h=[],this._findLayout(t,r,h),f=h[0],f&&f.features)for(u=0;u<f.features.length;u++)if(f.features[u].name==="GroupBy"){if(o=f.features[u].columnSettings,o)for(e=0;e<o.length;e++)if(o[e].columnKey===n){o[e].isGroupBy&&(s=!0);break}break}}else for(u=0;u<i.length;u++)if(i[u].key===n){s=!0;break}return s},checkColumnIsGrouped:function(n,t){return this._checkColumnIsGroupedInternal(n,t,this.options.groupedColumns,this.grid.options)},_getAllColumns:function(n,t){for(var r=n.length,i=0;i<r;i++)n[i].group?this._getAllColumns(n[i].group,t):t.push(n[i])},_renderColumnsDialog:function(n,t){var i=this,r=[],u;this.grid._isMultiColumnGrid?this._getAllColumns(n,r):r=n,u=(i._tempOrderedGroupedCols||[]).filter(function(n){if(n.layout===t||!n.layout&&!t)return i._renderDialogGroupedColumn(n.col,t),!0}),r.forEach(function(n){for(var f,e=n.key,o=u.length,r=0;r<o;r++)if(u[r].key===e)return!0;if(i.options.type==="remote"&&(n.unboundDS===!0||n.unbound===!0))return!0;f=i._getColumnSettingByKey(n.key),(!f||f.allowGrouping)&&i._renderDialogUngroupedColumn(n,t)})},_clearAllGroupedColumns:function(){this._tempGroupedColumns=[],this._clearAllGroupedColumnsLayout(this._tempOptions)},_clearAllGroupedColumnsLayout:function(n){var t,i;if(n!==null&&n.features)for(t=0;t<n.features.length;t++)n.features[t].name==="GroupBy"&&(i=n.features[t].columnSettings,i&&(n.features[t].columnSettings=[]));for(t=0;n.columnLayouts&&t<n.columnLayouts.length;t++)this._clearAllGroupedColumnsLayout(n.columnLayouts[t])},_isToRenderClearAllButton:function(){return this.options.modalDialogGroupByOnClick||this._tempGroupedColumns.length>0||this._checkRenderLayoutsClearAll(this.grid.options)?!0:!1},_checkRenderLayoutsClearAll:function(n){var t,i,r;if(n!==null&&n.features)for(t=0;t<n.features.length;t++)if(n.features[t].name==="GroupBy"&&(r=n.features[t].columnSettings,r))for(i=0;i<r.length;i++)if(r[i].isGroupBy)return!0;for(t=0;n.columnLayouts&&t<n.columnLayouts.length;t++)if(this._checkRenderLayoutsClearAll(n.columnLayouts[t])===!0)return!0;return!1},_renderDialogGroupedColumn:function(t,i){var h,e,s,o,l,a,p=this.options,r=this,f=this.css,u=t.key,w=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_groupedcolumns ul"),b=this.grid.id()+"_"+u+"_groupbydialog_groupedcolumns_buttonascdesc",v=this.grid.id()+"_"+u+"_groupbydialog_groupedcolumns_buttonungroup",c="asc",y=null;if(this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog").css("width"),i){for(s=r._tempSortingExpr,e=0;e<s.length;e++)if(s[e].fieldName===u&&(s[e].layout===i||!i&&!s[e].layout)){c=s[e].dir;break}}else for(h=0;h<r._tempGroupedColumns.length;h++)if(r._tempGroupedColumns[h].key===u){y=r._tempGroupedColumns[h],c=y.dir;break}return o=n("<li tabIndex='0'><\/li>").attr("id",r.grid.id()+"_"+u+"_groupbydialog_grouped_li").addClass(f.dialogGroupedItem),o.appendTo(w),l="<span id='"+b+"' class='"+f.dialogButtonAsc+"' role='button' title='"+r._getLocaleValue("modalDialogCaptionButtonAsc")+"' data-localeid='modalDialogCaptionButtonAsc' data-localeattr='title'>\t<span class='"+f.dialogButtonAscIcon+"'><\/span><\/span><span class='"+f.dialogGroupedColumnTextContainer+"'>"+t.headerText+"<\/span><button type='button' id='"+v+"' class='"+f.dialogButtonUngroup+"' role='button' title='"+r._getLocaleValue("modalDialogCaptionButtonUngroup")+"' data-localeid='modalDialogCaptionButtonUngroup' data-localeattr='title' aria-label='"+r._getLocaleValue("modalDialogCaptionButtonUngroup")+" "+t.headerText+"' >\t<span class='"+f.dialogButtonUngroupContainer+"'><\/span>\t<span class='ui-button-text' data-localeid='modalDialogCaptionButtonUngroup'>"+r._getLocaleValue("modalDialogCaptionButtonUngroup")+"<\/span><\/button>",o.html(l),a=this.grid.container().find("#"+v),r._setDialogButtonAscDesc(c==="asc",u),o.bind({keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(o.click(),t.preventDefault(),t.stopPropagation())},click:function(){r._dialogButtonAscDescClick(u,i)}}),a.bind({keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(t.target.click(),t.preventDefault(),t.stopPropagation())},click:function(n){var f,e;f=r._trigger(r.events.modalDialogUngroupingColumn,n,{key:u,layout:i,owner:r}),f&&(o.remove(),p.modalDialogGroupByOnClick===!0?r.ungroupByColumn(u,i):r._setGroupByTempExpr(u,!1,"",i),e=r._renderDialogUngroupedColumn(t,i),e.find(":focusable").first().focus(),r.grid.container().find("#"+r.grid.id()+"_groupby_modalDialog_groupedcolumns ul li").length===0&&r._isToRenderClearAllButton()===!1&&r.grid.container().find("#"+r.grid.id()+"_groupbydialog_reset_button").remove(),r._trigger(r.events.modalDialogUngroupColumn,n,{key:u,layout:i,owner:r,groupedColumns:r._tempGroupedColumns})),n.preventDefault(),n.stopPropagation()},mouseover:function(){n(this).hasClass(f.dialogButtonsHover)||n(this).addClass(f.dialogButtonsHover)},mouseout:function(){n(this).hasClass(f.dialogButtonsHover)&&n(this).removeClass(f.dialogButtonsHover)}}),o},_dialogButtonAscDescClick:function(n,t){var f=this.options,r,e=this.grid.container().find("#"+this.grid.id()+"_"+n+"_groupbydialog_groupedcolumns_buttonascdesc"),o=this._getModalDialog(),i=e.data("isAsc"),u=i?"desc":"asc";r=this._trigger(this.events.modalDialogSortGroupedColumn,null,{modalDialogElement:o,owner:this,key:n,isAsc:!i,layout:t}),r&&(f.modalDialogGroupByOnClick===!0?(this._setSortingTempExpr(n,u,t),this.grid.dataSource.settings.sorting.expressions=this._filterExpressionsByLayout(this._tempSortingExpr),this._setExprFormatter(this.grid.dataSource.settings.sorting.expressions),this._rebind()):this._setSortingTempExpr(n,u,t),this._setDialogButtonAscDesc(!i,n))},_setDialogButtonAscDesc:function(n,t){var i=this.css,r=this.grid.container().find("#"+this.grid.id()+"_"+t+"_groupbydialog_groupedcolumns_buttonascdesc"),e=r.find("span:eq(0)"),u,f;n===!0?(r.removeClass(i.dialogButtonDesc).addClass(i.dialogButtonAsc),e.removeClass(i.dialogButtonDescIcon).addClass(i.dialogButtonAscIcon),u=this._getLocaleValue("modalDialogCaptionButtonAsc"),f="modalDialogCaptionButtonAsc"):(r.removeClass(i.dialogButtonAsc).addClass(i.dialogButtonDesc),e.removeClass(i.dialogButtonAscIcon).addClass(i.dialogButtonDescIcon),u=this._getLocaleValue("modalDialogCaptionButtonDesc"),f="modalDialogCaptionButtonDesc"),r.data("isAsc",n).attr("title",u).attr("data-localeid",f)},_renderDialogButtonClearAll:function(){if(this.options.modalDialogGroupByOnClick!==!0){var t=this,i=t.grid.id()+"_groupbydialog_reset_button",r=this._getModalDialog(),u,f;this.grid.container().find("#"+i).length===0&&(u=r[this.options.dialogWidget]("getCaptionButtonContainer"),f=n("<button type='button'><\/button>").attr("id",i).attr("data-localeid","modalDialogClearAllButtonLabel").appendTo(u),f.igButton({labelText:t._getLocaleValue("modalDialogClearAllButtonLabel"),click:function(i){var f,e,o,u=[];f=t._trigger(t.events.modalDialogButtonResetClick,i,{modalDialogElement:r,owner:t}),f&&(t._clearAllGroupedColumns(),t._tempSortingExpr=t.grid.dataSource.settings.sorting.expressions.slice(0),e=t.grid.container().find("#"+t.grid.id()+"_groupby_modalDialog_groupedcolumns ul"),o=t.grid.container().find("#"+t.grid.id()+"_groupby_modalDialog_ungroupedcolumns ul"),e.empty(),o.empty(),t._tempSortingExpr=[],t._tempOrderedGroupedCols=[],t._currentTreeLayer?(t._findLayout(t._currentTreeLayer,t._tempOptions,u),u.length>0&&t._renderColumnsDialog(u[0].columns,t._currentTreeLayer)):t._renderColumnsDialog(t.grid.options.columns),n(this).remove())}}))}},_renderDialogUngroupedColumn:function(t,i){var r=this,u,f,e=t.key,s=this.options,o=this.css,h=this.grid.container().find("#"+this.grid.id()+"_groupby_modalDialog_ungroupedcolumns ul");return u=n("<li><\/li>").attr("id",r.grid.id()+"_"+e+"_groupbydialog_grouped_li").addClass(o.dialogUngroupedItem).append("<span class='"+o.dialogUngroupedColumnsGroupByButton+"'><a href='#'><\/a><\/span> <span class='"+o.dialogUngroupedColumnsText+"'>"+t.headerText+"<\/span>"),u.appendTo(h),f=u.find("a:first"),f.addClass(o.modalDialogSortByColumn),f.html(r._getLocaleValue("modalDialogGroupByButtonText")),f.attr("data-localeid","modalDialogGroupByButtonText"),f.attr("aria-label",r._getLocaleValue("modalDialogGroupByButtonText")+" "+t.headerText),u.bind({click:function(n){var f,o;f=r._trigger(r.events.modalDialogGroupingColumn,n,{key:e,layout:i,owner:r}),f&&(u.remove(),s.modalDialogGroupByOnClick?r.groupByColumn(e,i):r._setGroupByTempExpr(e,!0,s.defaultSortingDirection,i),r._renderDialogButtonClearAll(),o=r._renderDialogGroupedColumn(t,i),o.find(":focusable").first().focus(),r._renderDialogButtonClearAll(),r._trigger(r.events.modalDialogGroupColumn,n,{key:e,layout:i,owner:r,groupedColumns:r._tempGroupedColumns})),n.preventDefault(),n.stopPropagation()}}),u},_setGroupAreaTextContent:function(n){var t=this._getLocaleValue("emptyGroupByAreaContent"),r=this._getLocaleValue("emptyGroupByAreaContentSelectColumns"),u=this._getLocaleValue("emptyGroupByAreaContentSelectColumnsCaption"),i,f=this;t=t.replace("{0}","<a href='#' id='"+this.grid.id()+"_link_selectcolumns' title='"+u+"' data-localeid='emptyGroupByAreaContentSelectColumns' data-localeattr='title'>"+r+"<\/a>"),n.html(t),i=this.grid.container().find("#"+this.grid.id()+"_link_selectcolumns"),i.bind({click:function(n){f.openGroupByDialog(),n.preventDefault(),n.stopPropagation()}})},_headerCellDragCancel:function(){return!1},_headerCellRendered:function(t,i){var r=this,f,u,e,o=this.grid._isMultiColumnGrid;i.owner.id()===this.grid.id()&&i.isMultiColumnHeader!==!0&&(u=r.grid.element.hasClass("ui-iggrid-root")?r.grid.container():r.grid.element.closest(".ui-iggrid-root"),u.length===0?u=r.grid.container():(e=u.closest(".ui-widget"),e.length>0&&(u=e)),f=this._getColumnSettingByKey(i.columnKey),(!n.ig.util.isIE||n.ig.util.browserVersion>=9)&&i.th.find(".ui-iggrid-headertext").css("width","100%"),(f&&f.allowGrouping||!f)&&(i.th.draggable({containment:u,appendTo:u,distance:5,revert:"invalid",scroll:!1,cancel:"div.ui-iggrid-indicatorcontainer",helper:function(t){var i,u;return r._spanDragging=n(t.target).is("span")?!0:!1,i=n(t.target).closest("th"),u=i.clone().css("overflow","hidden").width(i.width()).addClass("ui-widget ui-iggrid").wrap(n("<div class='"+r.css.dragMarkup+"'/>").width(i.outerWidth())),o&&u.height(i.height()),u.parent()},opacity:r.options.labelDragHelperOpacity,drag:function(t,i){var f;r._isDragging=!0,f=n(".ui-iggrid-groupbyarea",u),f.hasClass("ui-iggrid-groupbyareahover")||r._movingEnabled?r._spanDragging?i.helper.find("span").css("cursor","move"):i.helper.css("cursor","move"):r._spanDragging?i.helper.find("span").css("cursor","no-drop"):i.helper.css("cursor","no-drop")},stop:function(){r._isDragging=!1}}).bind({mouseover:r._headerMouseOverHandler,mouseout:r._headerMouseOutHandler}),i.owner.element.attr("data-childgrid")&&i.th.attr("data-layout",i.owner.options.key).attr("data-grid-id",i.owner.element.attr("id"))))},_getColumnSettingByKey:function(n){for(var t=0;t<this.options.columnSettings.length;t++)if(this.options.columnSettings[t].columnKey===n)return this.options.columnSettings[t]},_renderRecords:function(n,t){if(t.owner.id()===this.grid.id()){if(this.options.groupedColumns.length>0)this._renderRecordsInternal(t);else return!0;return!1}},_recordsRendered:function(t,i){var r=n(window).scrollTop();i.tbody.is(":visible")||i.tbody.css("display",""),this._scrolltop!==0&&r!==0&&this._scrolltop!==r&&n(window).scrollTop(this._scrolltop)},_generateGroupByRowsMarkup:function(n,t,i){for(var f="",r,e,o,s,h,l=this.grid,c=0,u=t;u<=i;u++)r=n[u],r.__gbRecord||r.__gbSummaryRecord?f+=r.__gbRecord?this._renderGroupRow(r,u):this._renderSummaryRecord(r,u):(e=l._renderRecord(r,u,!1,c),c++,o=e.indexOf(">")+1,s=e.substring(0,o),h=e.substring(o),f+=s+'<td class="'+this.css.nonGroupRowEmptyCell+'" data-skip="true" tabindex="'+this.grid.options.tabIndex+'"><\/td>'+h);return f},_renderRecordsInternal:function(t){var i=this.grid,f,c=!0,l=0,o,r,u,s,e=i.element.children("tbody"),h,a;c=i._trigger(i.events.rowsRendering,null,t),c&&(f=this._getDataView(),(this._colspan===undefined||this._colspan===null)&&this._determineColspan(),i.headersTable().find("thead tr th").hasClass("ui-iggrid-expandheadercellgb")||(a=n("<th><\/th>").prependTo(i.headersTable().find("thead tr:nth-child(1)")).addClass(this.css.expandHeaderCellGroupBy).addClass(this.css.headerExtraCell).attr("data-skip",!0),i._isMultiColumnGrid&&a.attr("rowspan",i._maxLevel+1)),e.show(),this.grid.options.virtualization?(s=t.vrtWnd,r=s.start,u=s.end,r===undefined&&(r=0,u=f.length-1),r!==undefined&&u===undefined&&(u=r,u>f.length-1&&(u=f.length-1),r=0),(r<0||r>f.length-1)&&(r=0,i._startRowIndex=0),r?r>=u&&(i._virtualRowCount=i._determineVirtualRowCount(),u=r+i._virtualRowCount):(i._virtualRowCount=i._determineVirtualRowCount(),i._virtualRowCount>f.length&&(i._virtualRowCount=f.length),u=i._virtualRowCount),u>f.length-1&&(u=f.length-1),r||u||!f.length||(i._virtualRowCount=i._determineVirtualRowCount(),i._totalRowCount=i._getTotalRowCount(),i._virtualRowCount>i._totalRowCount&&(i._virtualRowCount=i._totalRowCount),u=i._virtualRowCount-1)):(r=0,u=f.length-1),this._startRowIndex=r,this._endRowIndex=u,h=this._generateGroupByRowsMarkup(f,r,u),this._expandedRowCount=0,window.MSApp===undefined?e.html(h):MSApp.execUnsafeLocalFunction(function(){e.html(h)}),i.options.width===null?i._setContainerWidth(i.container()):i._updateGridContentWidth(),i._persistVirtualScrollTop&&i._prevFirstVisibleTROffset&&i.options.virtualization!==!0&&i.options.rowVirtualization!==!0&&(i.scrollContainer()[0].scrollTop=i._prevFirstVisibleTROffset),o=i._virtualcontainer().length>0?i._virtualcontainer():i.scrollContainer(),this.options.groupedColumns.length>0&&o.length>0&&i.element.width()>o.width()&&(i.options.virtualization===!0||i.options.rowVirtualization===!0)&&(n(i.element).find(">colgroup>col[ data-skip=true ]").each(function(){l+=parseInt(this.style.width,10)}),i._setGridContentWidth(i._calculateContainerWidth(!1)+l)),e.find("[data-id='"+this._focusCellId+"']").find(">td[gbexpandcell]").focus(),this._focusCellId=null,i._buildVirtualDomForContinuousVirtualization(),this.grid._trigger(this.grid.events.rowsRendered,null,{owner:this.grid,tbody:e}))},_encodeSummaryParams:function(n,t){for(var r=this.options.columnSettings,u,f,i=0;i<r.length;i++)if(r[i].summaries&&r[i].summaries.length>0)for(u=0;u<r[i].summaries.length;u++)f="gs("+r[i].columnKey+")",t.extraParams[f]=t.extraParams[f]?t.extraParams[f]+","+r[i].summaries[u].summaryFunction:r[i].summaries[u].summaryFunction},_getCountFromMetadata:function(t,i,r){var u,o=this.grid.dataSource.metadata(this.options.resultResponseKey),e,f,h=1,s;if(o&&o[i]){e=o[i];for(u in e)e.hasOwnProperty(u)&&(s=this.grid.columnByKey(i).dataType,f=u,n.type(u)==="string"&&(s==="bool"?f=u.toLowerCase()==="true"?!0:!1:s==="number"&&(f=h*u)),(r===null||r===undefined||r.length||r!==f*h)&&f!==r||(t=t.replace(new RegExp("__sum__","g"),e[u])))}return t},_calcRealSummary:function(t,i,r,u,f){var p,s,e,o,h,w=this.grid.dataSource.metadata(this.options.resultResponseKey),a,c=t,v,k=!1,b=1,y,l;if(p=this.grid.dataSource.data(),w)for(c=this._getCountFromMetadata(c,i,r),o=this.options.columnSettings,e=0;e<o.length;e++)for(h=0;h<o[e].summaries.length;h++){a=w[o[e].columnKey+"_"+o[e].summaries[h].summaryFunction];for(s in a)a.hasOwnProperty(s)&&(y=this.grid.columnByKey(i).dataType,l=y==="bool"&&n.type(s)==="string"?s.toLowerCase()==="true"?!0:!1:y==="number"&&n.type(s)==="string"?b*s:s,(r===null||r.length||r!==l*b)&&l!==r||(v=a[s],v=n.ig.formatter(v,"number",this.options.summarySettings.summaryFormat),(o[e].summaries[h].customSummary===undefined||o[e].summaries[h].customSummary===null)&&(c=c.replace(o[e].columnKey+o[e].summaries[h].summaryFunction+"$$value$$",v))))}if(!k||this.grid._getDataView().length<p.length)return this._summaries(c,u,i,f)},getGroupedData:function(n,t,i){var u,e,r,f=this.grid.dataSource,o=f.groupByData(),s=f.visibleGroupByData();if(r=f._generateGroupByData(n,[{fieldName:t,isGroupBy:!0}]),i!==undefined)for(e=r.length,u=0;u<e;u++)if(r[u].val===i){r=r[u].recs;break}return this._gbData=o,this._vgbData=s,r},_settingFromKey:function(n){for(var i,t=0;t<this.options.columnSettings.length;t++)this.options.columnSettings[t].columnKey===n&&(i=this.options.columnSettings[t]);return i},_renderGroupRow:function(n,t){var v,tt,s,e,u=n.val,y=this.grid._addCellStyle(n),c=n.collapsed,p=n.fieldName,l=n.level,o=this._settingFromKey(p),it=o.customGroupName,rt=l>0?parseInt(this.options.indentation,10)*l:0,w,b,a,k,d,i,r=this.options.columnSettings,g="",h,nt,f,ut=!1;for(c?(d=this.css.groupByExpandCellCollapsed,nt=this._getLocaleValue("expandTooltip"),l>0&&!this.grid.options.virtualization&&(ut=!0)):(d=this.css.groupByExpandCellExpanded,nt=this._getLocaleValue("collapseTooltip")),v=this.options.expansionIndicatorVisibility?"<td class='"+this.css.groupByExpandColumn+y.replace(/class=\"/,"").replace(/\"/,"")+"' gbexpandcell='1' tabindex='"+this.grid.options.tabIndex+"'><span class='ui-iggrid-expandbuttoncontainer-group-by' style='margin-left:"+rt+"px;'><span class='"+d+"' title='"+nt+"'data-localeid='"+(c?"expandTooltip":"collapseTooltip")+"'data-localeattr='title'><\/span><\/span><\/td>":"<td class='"+this.css.groupByExpandColumn+y.replace(/class=\"/,"").replace(/\"/,"")+"' gbexpandcell='1'><\/td>",h=this.options.groupedRowTextTemplate,s=this.grid.columnByKey(p),o&&o.groupLabelFormatter?u=typeof o.groupLabelFormatter=="function"?o.groupLabelFormatter(u):window[o.groupLabelFormatter](u):this.options.useGridColumnFormatter===!0&&(u=this.grid._renderCell(u,s,n.recs&&n.recs.length?n.recs[0]:null," ")),h=h.replace(new RegExp("\\$\\{key\\}","g"),s.headerText),a=it?h.replace(new RegExp("\\$\\{val\\}","g"),it).replace(new RegExp("\\$\\{count\\}","g"),"__sum__"):h.replace(new RegExp("\\$\\{val\\}","g"),u).replace(new RegExp("\\$\\{count\\}","g"),"__sum__"),k=c?"collapsed":"expanded",i=0;i<r.length;i++)for(r[i].columnKey!==p?(w=this.grid.columnByKey(r[i].columnKey),b=w?w.headerText:r[i].columnKey):b=s.headerText,f=0;f<r[i].summaries.length;f++)g+=" "+b+" "+(r[i].summaries[f].text||r[i].summaries[f].summaryFunction)+" "+r[i].columnKey+r[i].summaries[f].summaryFunction+"$$value$$",f!==r[i].summaries.length-1&&(g+=this.options.summarySettings.multiSummaryDelimiter);return a+=g,tt="<td data-gbsummary='true' colspan='"+this._colspan+"' tabindex='"+this.grid.options.tabIndex+"'"+y+">"+a+"<\/td>",e="<tr class='"+this.grid.css.recordClass+" "+this.css.groupedRow+"' data-grouprow='true' data-state='"+k+"' data-glevel='"+l+"' aria-expanded='"+(c?"false":"true")+"' aria-describedby='"+this.grid.id()+"_"+s.key+"' title='"+this._getLocaleValue("summaryRowTitle")+"' data-localeid='summaryRowTitle' data-localeattr='title' data-id='"+n.id+"' data-row-idx='"+t+"' tabindex='"+this.grid.options.tabIndex+"' >"+v+tt+"<\/tr>",e=this._calcRealSummary(e,n.fieldName,n.val,n.recs,n.recs),e=e.replace(new RegExp("__sum__","g"),n.recs.length)},_getSummaryIconTitle:function(n,t){return this._getLocaleValue("summaryIconTitle").replace("{0}",n).replace("{1}",t)},_renderSummaryRecord:function(t,i){var a=this.grid,v=a.options.columns,l=t.level-1,nt=l>0?parseInt(this.options.indentation,10)*l:0,f="",h=t.groupValue,c,r,b,o,e,y,k,d,u,s,p,w,g;for(f+="<tr class='"+this.grid.css.recordClass+" "+this.css.summaryRow+"' role='row' aria-describedby='"+this.grid.id()+"_"+t.id.split(":")[l*2]+"' aria-label='summaryrow' data-summaryrow='true'  data-glevel='"+(t.level-1)+"' data-id='"+t.id+"_"+t.position+"Summary' data-row-idx='"+i+"' tabindex='"+a.options.tabIndex+"'>",p=t.id.split(":")[l*2],s=this.grid.columnByKey(p),w=s?s.headerText:p,s&&(s.dataType==="date"||s.dataType==="time")&&(h=new Date(parseInt(h,10))),h=this.grid._renderCell(h,s),g=this._getSummaryIconTitle(w,h),f+="<td class='"+this.css.groupBySummaryIconColumn+"' gbsummaryiconcell='1' tabindex='"+this.grid.options.tabIndex+"' title='"+g+"' data-skip='true' data-colheader='"+w+"' data-groupval='"+h+"'><span class='ui-iggrid-summaryiconcontainer-group-by'><span class='"+this.css.groupBySummaryIcon+"' style='margin-left:"+nt+"px;'><\/span><\/span><\/td>",k=this.grid.headersTable().find("colgroup").children("[ data-skip ]").length-1,y=0;y<k;y++)f+="<td class='"+this.css.groupBySummaryEmptyCellColumn+"' gbsummaryemptycell='1' tabindex='"+this.grid.options.tabIndex+"'><\/td>";for(d=function(n){return n.columnKey===u.key},c=0;c<v.length;c++)if(u=v[c],!u.hidden){if(f+="<td class='"+this.css.groupBySummaryColumn+"' role='gridcell' aria-describedby='"+this.grid.id()+"_"+v[c].key+"' gbsummarycell='1' tabindex='"+a.options.tabIndex+"'>",!t.summaries[u.key]){f+="<\/td>";continue}for(r=0;r<t.summaries[u.key].length;r++)e=this.options.columnSettings.filter(d),o=t.summaries[u.key][r],b=e[0].groupSummaries[r].label,(u.dataType==="date"||u.dataType==="time")&&e[0].groupSummaries[r].applyFormat&&(o=new Date(parseInt(o,10))),e[0].groupSummaries[r].applyFormat&&!e[0].groupSummaries[r].format?o=this.grid._renderCell(o,u):e[0].groupSummaries[r].applyFormat&&e[0].groupSummaries[r].format&&(o=n.ig.formatter(o,u.dataType,e[0].groupSummaries[r].format)),f+="<div style='margin: 0'>"+e[0].groupSummaries[r].summaryTemplate.replace("{label}",b).replace("{value}",o)+"<\/div>";f+="<\/td>"}return f+="<\/tr>"},_renderNewRow:function(t){var r=this.grid.element.children("tbody"),u=r.children("tr:not([ data-container='true' ],[ data-grouprow='true' ])"),f=u.length,i;i=n(this.grid._renderRecord(t,f)),u.last().find("td."+this.css.nonGroupRowEmptyCell).removeClass(this.css.groupByLastEmptyCell),this.groupByColumns().length>0&&n("<td><\/td>").addClass(this.css.nonGroupRowEmptyCell).addClass(this.css.groupByLastEmptyCell).attr("tabindex",this.grid.options.tabIndex).attr("data-skip",!0).prependTo(i),this.grid.options.virtualization&&this.grid._buildVirtualDomForContinuousVirtualization(),MSApp.execUnsafeLocalFunction(function(){r.append(i)})},_summaries:function(t,i,r,u){var o,f,h=this.options.columnSettings,e,l=t,a,s,v,y,c;if(t&&t.indexOf&&t.indexOf("$$value$$")===-1)return t;for(o=0;o<h.length;o++)if(e=h[o].summaries,e.length>0)for(a=this._arr(h[o].columnKey,i),f=0;f<e.length;f++)v=e[f].summaryFunction==="custom"?{dataRecords:i,array:a,key:r,allGroupData:u}:a,s=n.ig.calcSummaries(e[f].summaryFunction,v,e[f].customSummary),c=this.grid.columnByKey(r).dataType,(c==="date"||c==="time")&&(e[f].summaryFunction==="min"||e[f].summaryFunction==="max")?(y=c==="date"?n.ig.regional.defaults.datePattern:n.ig.regional.defaults.timePattern,s=n.ig.formatter(new Date(s),"date",y)):s=n.ig.formatter(s,"number",this.options.summarySettings.summaryFormat),l=l.replace(h[o].columnKey+e[f].summaryFunction+"$$value$$",s);return l},_arr:function(n,t){for(var r=[],i=0;i<t.length;i++)r.push(t[i][n]);return r},_dataEmpty:function(n,t){var u=0,r=parseInt(this.options.indentation,10),i,f=this.options.groupedColumns;t.owner.id()===this.grid.id()&&(f.length>0&&(u+=r*this.options.groupedColumns.length,this.options.indentation&&this.options.indentation.indexOf&&this.options.indentation.indexOf("%")>=0&&(u=this.options.indentation),this._indent=u,this._addOrUpdateDataSkipCol(u)),i=this.grid.container(),this._isgroup!==null&&this._isgroup!==undefined&&i.length&&i[0].style.width&&!this.grid.options.width&&(this._isgroup===!0?this.grid.options.virtualization!==!0&&i.width(parseInt(i.width(),10)+r):(i.width(parseInt(i.width(),10)-r),r*=-1),this.grid.options.virtualization===!0&&this.grid.options.virtualizationMode==="continuous"&&(this.grid._setDisplayContainerWidth(this.grid._getDisplayContainerWidth()+r),this.grid._setVHeadersWidth(this.grid._getVHeadersWidth()+r)),this._isgroup=null),this._tbody=t.tbody,!this._isgroup&&this.groupByColumns().length>0&&this._groupAreaList(),n.stopPropagation())},_checkGroupExists:function(n){for(var i=!1,t=0;t<this.options.groupedColumns.length;t++)if(this.options.groupedColumns[t].key===n){i=!0;break}return i},_groupBy:function(n,t){var e,i,r,u,f,o=!1;if(r=t.attr("data-layout"),r)u=this.grid.container().find("#"+t.attr("data-grid-id")).data("igGrid"),i=u.options.columns[t.data("columnIndex")].key;else{if(t.data("columnIndex")===null||t.data("columnIndex")===undefined)return;i=this.grid.options.columns[t.data("columnIndex")].key,u=this.grid}(r||(o=this._checkGroupExists(i)),o)||(f={owner:this,groupedColumns:this.options.groupedColumns,key:i,layout:r,grid:u,triggeredBy:"dragAndDrop"},e=this._trigger(this.events.groupedColumnsChanging,n,f),e&&(this.groupByColumn(i,r),this._trigger(this.events.groupedColumnsChanged,n,f)))},groupByColumns:function(){var n=[];return n=this._hierarchical?this._orderedGroupedCols:this.options.groupedColumns},_ensureLabelsOrder:function(n,t,i){for(var u=i?i.key:null,r=0;r<n.length;r++)n[r].layout!==u&&(n[r].layout||u)||this._exists(t,n[r])||t.push(n[r]);for(r=0;i.columnLayouts&&r<i.columnLayouts.length;r++)this._ensureLabelsOrder(n,t,i.columnLayouts[r])},_exists:function(n,t){for(var i=0;i<n.length;i++)if((n[i].layout===t.layout||!n[i].layout&&!t.layout)&&n[i].key===t.key)return!0;return!1},_findLayout:function(n,t,i){var r;if(t.key===n)i.push(t);else if(n)for(r=0;t.columnLayouts&&r<t.columnLayouts.length;r++)this._findLayout(n,t.columnLayouts[r],i);else i.push(this.grid.options)},_isGroupColumn:function(n,t,i){for(var u=i.length,r=0;r<u;r++)if(i[r].key===n&&i[r].layout===t)return!0;return!1},_allGroupedCols:function(n){for(var i,u,f,r,t=0;t<this.options.groupedColumns.length;t++){for(u=this.options.groupedColumns[t].key,f=this.options.groupedColumns[t].layout,r=!0,i=0;i<n.length;i++)if(u===n[i].key&&f===n[i].layout){this.options.groupedColumns[t]=n[i],r=!1;break}r&&n.push(this.options.groupedColumns[t])}this._addGroupsRecursive(n,this.grid.options.columnLayouts)},_addGroupsRecursive:function(n,t){var u,i,r,e,f,o;if(t)for(u=0;u<t.length;u++){for(i=0;t[u].features&&i<t[u].features.length;i++)if(t[u].features[i].name==="GroupBy"){r=t[u].features[i];break}if(r)for(o=r.persist||this.options.persist,i=0;r.columnSettings&&r.columnSettings.length&&i<r.columnSettings.length;i++)if(r.columnSettings[i].isGroupBy){if(o&&r.columnSettings[i].columnKey&&this._isGroupColumn(r.columnSettings[i].columnKey,t[u].key,n))continue;for(f=0;f<t[u].columns.length;f++)if(t[u].columns[f].key===r.columnSettings[i].columnKey||r.columnSettings[i].columnIndex===f){e=t[u].columns[f];break}n.push({key:r.columnSettings[i].columnKey||e.key,layout:t[u].key,dir:r.columnSettings[i].dir,col:e})}r=null,this._addGroupsRecursive(n,t[u].columnLayouts)}},_getColumnByLayoutKey:function(n,t){var r,i;if(this.grid._isMultiColumnGrid)for(i=0;i<t.length;i++){if(t[i].key===n){r=t[i];break}if(t[i].group!==undefined&&t[i].group!==null&&(r=this._getColumnByLayoutKey(n,t[i].group),r!==undefined&&r!==null))break}else for(i=0;i<t.length;i++)if(t[i].key===n){r=t[i];break}return r},groupByColumn:function(n,t,i){var r,l,o,u,s,f,h,c,v=this._checkGroupExists(n),a,e="asc";if(this.grid._onGroupedColumnsChanging(this.options.groupedColumns),i!==undefined&&i!==null?e=i:this.options.defaultSortingDirection!==undefined&&(e=this.options.defaultSortingDirection),t||!v){if(t?(c=[],this._findLayout(t,this.grid.options,c),u=c[0],s=this._getColumnByLayoutKey(n,u.columns)):(u=this.grid.options,s=this.grid.columnByKey(n)),t){if(u.features){for(r=0;r<u.features.length;r++)if(u.features[r].name==="GroupBy"){f=u.features[r].columnSettings,f||(u.features[r].columnSettings=[],f=u.features[r].columnSettings);break}}else u.features=[],u.features.push({name:"GroupBy",columnSettings:[]}),f=u.features[0].columnSettings;for(r=0;r<f.length;r++)if(f[r].columnKey===n){if(f[r].isGroupBy)return;h=f[r];break}h?h.isGroupBy=!0:f.push({columnKey:n,isGroupBy:!0,dir:e})}l={fieldName:n,dir:e,layout:t,isGroupBy:!0},o={key:n,dir:e,layout:t,col:s},t||this.options.groupedColumns.push(o),this._orderedGroupedCols.push(o),a=this._orderedGroupedCols.slice(0),this._orderedGroupedCols=[],this._ensureLabelsOrder(a,this._orderedGroupedCols,this.grid.options),this.grid._trigger("headerExtraCellsModified",null,{owner:this}),t&&(this.options.type!=="remote"||this.grid.options.odata)||this._addSortingExpression(this.grid.dataSource.settings.sorting.expressions,l),t||(this._clearSortingSettings([n]),this._isgroup=!0),this._setExprFormatter(this.grid.dataSource.settings.sorting.expressions),this._rebind(),this.grid._onGroupedColumnsChanged(this.options.groupedColumns)}},_setExprFormatter:function(n){this.grid._getSortingExpressionsManager().setFormattersForSortingExprs(n,this.grid)},_addSortingExpression:function(n,t){return this.grid._getSortingExpressionsManager().addSortingExpression(n,t,this)},ungroupByColumn:function(t,i){var r,e,s=this,o,u,h=[],f=this.grid.dataSource.settings.sorting.expressions,l=this._checkGroupExists(t),c;if(i||l){if(this.grid._onGroupedColumnsChanging(this.options.groupedColumns),i){if(this._findLayout(i,this.grid.options,h),u=h[0],u)for(u.features=u.features||[],r=0;r<u.features.length;r++)if(u.features[r].name==="GroupBy"){for(o=u.features[r].columnSettings||[],e=0;e<o.length;e++)if(o[e].columnKey===t){n.ig.removeFromArray(o,e);break}break}}else for(r=0;r<this.options.groupedColumns.length;r++)if(this.options.groupedColumns[r].key===t){n.ig.removeFromArray(this.options.groupedColumns,r);break}for(r=0;r<this._orderedGroupedCols.length;r++)if(this._orderedGroupedCols[r].key===t&&(this._orderedGroupedCols[r].layout&&this._orderedGroupedCols[r].layout===i||!this._orderedGroupedCols[r].layout&&(i===""||i===undefined))){n.ig.removeFromArray(this._orderedGroupedCols,r);break}for(r=0;r<f.length;r++)f[r].fieldName===t&&(!i||i&&i===f[r].layout)&&(f[r].isSorting?f[r].isGroupBy=undefined:n.ig.removeFromArray(f,r));c=this._orderedGroupedCols.slice(0),this._orderedGroupedCols=[],this._ensureLabelsOrder(c,this._orderedGroupedCols,this.grid.options),this.grid._trigger("headerExtraCellsModified",null,{owner:this}),this.grid.element.children("tbody").hide(),document.documentMode===8&&(this.grid.element.hide(),this.grid.headersTable().hide()),i||this.options.groupedColumns.length!==0||(this.grid.element.find("colgroup").children().first().remove(),this.grid.options.fixedHeaders&&this.grid.headersTable().find("colgroup").children().first().remove(),this.grid.options.fixedFooters&&this.grid.options.height!==null&&this.grid.footersTable().find("colgroup").children().first().remove(),this.grid.headersTable().find("thead tr").children("[ data-skip ]").first().remove()),i||(this._isgroup=!1),this._rebind(),document.documentMode===8&&(this.grid.headersTable().show(),this.grid.element.show()),this.options.groupedColumns.length===0&&(window.mozInnerScreenX!==undefined&&s.grid.options.fixedFooters===!0&&(s.grid.footersTable().hide(),setTimeout(function(){s.grid.footersTable().show()},0)),this._setGroupAreaTextContent(n(".ui-iggrid-groupbyarea .ui-iggrid-groupbyareatext",this.grid.container())),this.grid.options.width!==null&&this.grid.options.width!==undefined&&this.grid._updateGridContentWidth()),this.grid._onGroupedColumnsChanged(this.options.groupedColumns)}},_clearSettings:function(n){for(var i,r,u,t=0;t<n.length;t++){if(n[t].features&&n[t].features.length)for(i=0;i<n[t].features.length;i++)if(n[t].features[i].name==="GroupBy"&&(r=n[t].features[i].columnSettings,r))for(u=0;u<r.length;u++)r[u].isGroupBy=!1;n[t].columnLayouts&&this._clearSettings(n[t].columnLayouts)}},expand:function(n){this._expandCollapseRow(n,!0)},collapse:function(n){this._expandCollapseRow(n,!1)},ungroupAll:function(){var r=0,t,u=this.grid.options.columnLayouts,i=this.groupByColumns(),f=!1;if(i.length!==0){for(this.grid._onGroupedColumnsChanging(this.options.groupedColumns),t=1;t<this.options.groupedColumns.length;t++)r+=parseInt(this.options.indentation,10);if(parseInt(this.grid.container().width(),10)>0&&!this.grid.options.width&&this.grid.container().width(parseInt(this.grid.container().width(),10)-r),this.grid.dataSource.settings.sorting.expressions=[],this.options.groupedColumns=[],this._orderedGroupedCols=[],this._hierarchical){for(t=0;t<i.length;t++)if(!i[t].layout){f=!0;break}f&&(i=[])}else i=[];u&&this._clearSettings(u),this.options.groupedColumns.length===0&&i.length===0&&(this.grid.element.find("colgroup").children().first().remove(),this.grid.options.fixedHeaders&&this.grid.headersTable().find("colgroup").each(function(){n(this).children("[ data-skip ]").first().remove()}),this.grid.options.fixedFooters&&this.grid.footersTable().find("colgroup").each(function(){n(this).children("[ data-skip ]").first().remove()}),this.grid.headersTable().find("thead tr").each(function(){n(this).children("[ data-skip ]").first().remove()}),this.grid.footersTable().find("tfoot tr").each(function(){n(this).children("[ data-skip ]").first().remove()})),this._isgroup=!1,this._rebind(),this.options.groupedColumns.length===0&&this.grid.options.width!==null&&this.grid.options.width!==undefined&&this.grid._updateGridContentWidth(),this.grid._onGroupedColumnsChanged([])}},_regroup:function(){var h=n(".ui-iggrid-groupbyarea",this.grid.container()).find("ul li"),t=this,i,f,e,u,o,s=[],r=[];if(this.options.groupedColumns=[],this.grid.dataSource.settings.sorting.expressions=[],f=this._orderedGroupedCols.slice(0),this._orderedGroupedCols=[],h.each(function(){var h,f,u,c,o,a=[],l;if(f=n(this).attr("data-key"),u=n(this).attr("data-layout"),h=n(this).find(".ui-iggrid-asc").length>0?"asc":"desc",u){for(t._findLayout(u,t.grid.options,a),o=a[0],i=0;o&&i<o.columns.length;i++)if(o.columns[i].key===f){c=o.columns[i];break}}else c=t.grid.columnByKey(f);e={key:f,dir:h,col:c,layout:u},l={fieldName:f,dir:h,isGroupBy:!0},u&&(l.layout=u),r.push(e),s.push(l)}),u={owner:this,groupedColumns:r,triggeredBy:"regroup"},o=this._trigger(this.events.groupedColumnsChanging,null,u),o){for(i=0;i<r.length;i++)t._addSortingExpression(t.grid.dataSource.settings.sorting.expressions,s[i]),t._orderedGroupedCols.push(r[i]),r[i].layout||t.options.groupedColumns.push(r[i]);t._setExprFormatter(t.grid.dataSource.settings.sorting.expressions),t._ensureLabelsOrder(f,t._orderedGroupedCols,t.grid.options),this.grid._loadingIndicator.show(),this._saveSortingExpressions(),this._rebindDataSource(),this._trigger(this.events.groupedColumnsChanged,null,u)}},_rebind:function(){this._scrolltop=n(window).scrollTop(),this.grid._loadingIndicator.show(),this._saveSortingExpressions(),this._rebindDataSource(),this._groupAreaList()},_rebindDataSource:function(){var t=this.grid.dataSource,i,r,u,f=this.grid.options.key;if(this.options.groupedColumns&&this.options.groupedColumns.length&&(t.settings.groupby.defaultCollapseState=!this.options.initialExpand),this.options.type==="remote")t.dataBind();else if(t.settings.sorting.expressions.length===0){if(f&&(i=this.element.closest(".ui-iggrid-root"),i&&i.data("igGridGroupBy")&&(r=i.data("igGridGroupBy"),u=n.map(r._orderedGroupedCols||[],function(n){return n.layout===f}),u.length)))return;t._resetGroupByCollapseStates(),this._saveCollapseStates(),this.grid.dataBind()}else t.sort(t.settings.sorting.expressions),this.grid._renderData()},_onKeyDownGroup:function(t){var i;(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(i=n(t.target),this._toggleGroup(t),t.preventDefault(),t.stopPropagation(),i.focus())},_expandCollapseRow:function(t,i,r,u){r=r||this.grid;var f,o,e;this._scrolltop=n(window).scrollTop(),u&&u.length&&(i?u.attr("data-state","expanded").attr("aria-expanded","true").find(".ui-iggrid-expandbutton").attr("title",this._getLocaleValue("collapseTooltip")).removeClass(this.css.groupByExpandCellCollapsed).addClass(this.css.groupByExpandCellExpanded):u.attr("data-state","collapsed").attr("aria-expanded","false").find(".ui-iggrid-expandbutton").attr("title",this._getLocaleValue("expandTooltip")).removeClass(this.css.groupByExpandCellExpanded).addClass(this.css.groupByExpandCellCollapsed)),r.container().find(".ui-iggrid-footer .ui-iggrid-results").data("overrideLabel",0),r.dataSource.toggleGroupByRecord(t,!i),r.options.virtualization?(e=r._avgRowHeight,r._avgRowHeight=null,r._rerenderVirtualRecordsContinuous(),r._updateVirtualScrollContainer(),r._oldScrollTop=r._scrollContainer().scrollTop(),e>r._avgRowHeight&&(r._avgRowHeight=e,r._updateVirtualScrollContainer())):(f=r.scrollContainer(),o=f.scrollTop(),r._renderData(),f.scrollTop(o)),this.grid._adjustLastColumnWidth(!1),this._saveCollapseStates(r)},_toggleGroup:function(t){var i=n(t.target).closest("tr"),r,u=i.attr("data-state")!=="expanded";r=this._hierarchical?i.closest(".ui-iggrid-table").data("igGrid"):this.grid,this._focusCellId=i.attr("data-id"),this._expandCollapseRow(i.attr("data-id"),u,r,i),t.stopPropagation()},_groupAreaList:function(){var h=n(".ui-iggrid-groupbyarea",this.grid.container()),e,u=[],c,l,f=h.find("ul"),r,i=this,o,a,t,v,y,p,w,s;for(u=this.groupByColumns(),f.length>0?f.empty():f=n("<ul><\/ul>").appendTo(h).addClass("ui-iggrid-grouparealist"),y=function(t){var i=null;return i=n(t.target).is("li")?n(t.target):n(t.target).closest("li"),i=i.clone(),i.find(".ui-iggrid-groupbylabelrightedgeend").remove(),i.find(".ui-iggrid-groupbylabelrightedge").remove(),i.find(".ui-iggrid-groupbyremovebutton").remove(),i.attr("data-dragging",!0),i},p=function(t,r){var u;if(!r.draggable.hasClass("ui-iggrid-groupedcolumnlabel")||r.draggable.attr("data-key")===n(this).attr("data-key"))return!1;i._thOver&&(u=r.draggable.closest("ul").find("li[ data-key="+i._thOver+" ]"),u.length>0&&u.hasClass("ui-iggrid-groupbydroppableedge")&&u.removeClass("ui-iggrid-groupbydroppableedge")),i._thOver=n(t.target).attr("data-key"),n(t.target).addClass("ui-iggrid-groupbydroppableedge")},w=function(t,i){if(!i.draggable.hasClass("ui-iggrid-groupedcolumnlabel")||i.draggable.attr("data-key")===n(this).attr("data-key"))return!1;n(t.target).removeClass("ui-iggrid-groupbydroppableedge")},c=function(t,r){var e,u,f;if(n(this).removeClass("ui-iggrid-groupbydroppableedge"),r.draggable.hasClass("ui-iggrid-groupedcolumnlabel"))return r.draggable.attr("data-key")!==n(this).attr("data-key")?(e=n(this).closest("ul"),f=n(this),u=r.draggable,u.index()>f.index()?u.insertBefore(f):u.insertAfter(f),e.find("li[ data-dragging=true ]").remove(),e.find("li").removeClass("ui-iggrid-groupbydroppableedge"),i._regroup(),i._groupAreaList(),t.preventDefault(),t.stopPropagation(),!1):void 0},l=function(n){return n.preventDefault(),n.stopPropagation(),!1},r=0;r<u.length;r++)a=u[r].key,e=u[r].layout,s=u[r].col.headerText,o=u[r].dir==="asc"?"ui-iggrid-asc ui-icon ui-icon-arrowthick-1-n":"ui-iggrid-desc ui-icon ui-icon-arrowthick-1-s",t=n("<li><\/li>").appendTo(f).addClass(this.css.groupedColumnLabel).css("float","left").attr("data-key",a).attr("data-layout",e||"").bind({mouseup:n.proxy(this._changeSortState,this)}).draggable({containment:"body",appendTo:"parent",distance:5,revert:"invalid",helper:y}).droppable({accept:"li",tolerance:"touch",over:p,out:w,drop:c}),this.options.groupByLabelWidth!==null&&t.width(this.options.groupByLabelWidth),v=n("<span><\/span>").appendTo(t).css({float:"right"}).addClass(this.css.groupedColumnLabel).addClass(this.css.groupedColumnLabelRightEdgeEnd),v.attr("data-marker","edge"),t.prev().find("span[ data-marker ]").removeClass(this.css.groupedColumnLabelRightEdgeEnd).addClass(this.css.groupedColumnLabelRightEdge),e?(n("<span>"+s+"<\/span>").appendTo(t).addClass(this.css.groupedColumnLabelText),n("<span>"+e+"<\/span>").prependTo(t).addClass(this.css.groupedColumnLayoutLabel)):n("<span>"+s+"<\/span>").appendTo(t),n("<span><\/span>").appendTo(t).addClass(o),n.ig.util.isTouch||n("<span><\/span>").appendTo(t).addClass("ui-iggrid-groupbyremovebutton").attr("data-localeid","removeButtonTooltip").attr("data-localeattr","title").attr("title",i._getLocaleValue("removeButtonTooltip")).bind({mouseup:n.proxy(i._removeButtonClick,i),mousedown:l}),n.ig.util.isIE7&&t.width()>300?t.width(260):t.width(Math.ceil(t.width())+22);f.children().bind({mouseover:n.proxy(this._showRemoveButton,this),mouseout:n.proxy(this._hideRemoveButton,this)})},_changeSortState:function(t){for(var a=n(t.target).closest("li"),h=a.attr("data-key"),f=a.attr("data-layout"),c,l,r,u=this._orderedGroupedCols,s=this.grid.dataSource.settings.sorting.expressions,e,o,v,i=0;i<u.length;i++)if(u[i].key===h&&(f&&f===u[i].layout||!f)){for(u[i].dir=u[i].dir==="asc"?"desc":"asc",r=0;r<s.length;r++)if(s[r].fieldName===h&&(f&&f===s[r].layout||!f)){s[r].dir=u[i].dir;break}l={owner:this,groupedColumns:u,key:u[i].key,triggeredBy:"sortStateChanged"},v=this._trigger(this.events.groupedColumnsChanging,t,l),v&&(this._rebind(),this._trigger(this.events.groupedColumnsChanged,t,l));break}if(f)for(c=[],this._findLayout(f,this.grid.options,c),o=c[0],i=0;o.features&&i<o.features.length;i++)if(o.features[i].name==="GroupBy"){for(e=o.features[i].columnSettings,r=0;r<e.length;r++)if(e[r].columnKey===h){e[r].dir=e[r].dir==="asc"?"desc":"asc";break}break}},_showRemoveButton:function(t){var r=n(t.target).closest("li").find(".ui-iggrid-groupbyremovebutton"),i=n(t.target).closest("li").attr("data-key"),u=n(t.target).closest("li").attr("data-layout");i&&r.attr("data-key",i).attr("data-layout",u).addClass("ui-icon ui-icon-circle-close")},_hideRemoveButton:function(t){var i=n(t.target).closest("li").find(".ui-iggrid-groupbyremovebutton");i.removeClass("ui-icon ui-icon-circle-close"),n(t.target).closest("li").removeClass("ui-state-hover")},_removeButtonClick:function(t){var r=n(t.target).attr("data-key"),u,f,i;if(!this._isDragging)return i={owner:this,groupedColumns:this.options.groupedColumns,key:r,triggeredBy:"removeButton"},u=this._trigger(this.events.groupedColumnsChanging,t,i),u&&(f=n(t.target).attr("data-layout"),this.ungroupByColumn(r,f),this._trigger(this.events.groupedColumnsChanged,t,i)),t.preventDefault(),t.stopPropagation(),!1},destroy:function(){var n=this._getModalDialog();return this.grid.container().find(".ui-iggrid-groupbyarea").remove(),this._removeInitCallbacks(),this.grid._initialized&&!this.grid._destroyed&&this.ungroupAll(),this._detachEvents(!0),n[this.options.dialogWidget]("getCaptionButtonContainer"),n.remove(),this._removeOverridenFunctions(),this._superApply(arguments),this},_detachEvents:function(t){var r=this.grid.headersTable().find("th"),i;if(t===!0)for(i=0;i<r.length;++i)n(r[i]).data().draggable&&n(r[i]).draggable("destroy");r.unbind("mouseover",this._headerMouseOverHandler).unbind("mouseout",this._headerMouseOutHandler),n(document).undelegate("#"+this.grid.id()+"_container td[ gbexpandcell=1 ]","mouseup",this._toggleGroupHandler),n(document).undelegate("#"+this.grid.id()+"_container td[ gbexpandcell=1 ]","keydown",this._onKeyDownGroupHandler),this.grid.element.unbind("iggridheaderrenderedinternal",this._headerRenderedHandler),this.grid.element.unbind("iggriddataempty",this._dataRenderingHandler),this.grid.element.unbind("iggrid_rowsrendering",this._rowsRenderingHandler),this.grid.element.unbind("iggridrowsrendered",this._rowsRenderedHandler),this.grid.element.unbind("iggridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.unbind("iggridheadercelldragcancel",this._headerDragCancelHandler),this.grid.element.unbind("iggriduidirty",this._uiDirtyHandler),this.grid.element.unbind("iggriddatabound",this._dataBoundHandler),this._columnsCollectionModifiedHandler&&this.grid.element.unbind("iggridcolumnscollectionmodified",this._columnsCollectionModifiedHandler),t===!0&&(delete this._dataRenderingHandler,delete this._rowsRenderingHandler,delete this._rowsRenderedHandler,delete this._headerCellRenderedHandler,delete this._headerDragCancelHandler,delete this._uiDirtyHandler,delete this._columnsCollectionModifiedHandler)},_initDefaultSettings:function(){var i=[],u,t=this.options.columnSettings,n,r,f,e=this.grid._hasUnboundColumns===!0&&this.options.type==="remote";if(this._orderedColumnSettings=[],this.grid.options.columns&&this.grid.options.columns.length>0)for(n=0;n<this.grid.options.columns.length;n++)f=!0,e&&this.grid.getUnboundColumnByKey(this.grid.options.columns[n].key)!==null&&(f=!1),i[n]={columnIndex:n,columnKey:this.grid.options.columns[n].key,allowGrouping:f,summaries:[],groupSummaries:null,isGroupBy:!1};if(i.length===0&&this.grid.options.autoGenerateColumns&&t.length>0)for(n=0;n<t.length;n++)t[n].columnKey&&(t[n].dir||(t[n].dir=this.options.defaultSortingDirection||"asc"),this._orderedColumnSettings.push(t[n]));else for(n=0;n<t.length;n++){for(r=0;r<i.length;r++)if(i[r].columnKey===t[n].columnKey||i[r].columnIndex===t[n].columnIndex)break;if(r!==i.length){for(u in t[n])t[n].hasOwnProperty(u)&&u!=="columnKey"&&u!=="columnIndex"&&(i[r][u]=t[n][u]);i[r].dir===undefined&&this.options.defaultSortingDirection&&(i[r].dir=this.options.defaultSortingDirection),this._orderedColumnSettings.push(i[r])}}this.options.columnSettings=i},_renderExtraFooterCells:function(t,i,r){this.options.groupedColumns.length>0&&(r===!0?n("<td><\/td>").addClass(this.css.footerExtraCell).prependTo(t).attr("data-skip",!0):n("<td><\/td>").addClass(this.css.footerExtraCell).appendTo(t).attr("data-skip",!0))},_renderExtraHeaderCells:function(t,i,r){this.options.groupedColumns.length>0&&(r===!0?(n("<td><\/td>").prependTo(t).addClass(this.css.headerExtraCell).attr("data-skip",!0),i&&n("<col />").prependTo(i).attr("data-skip",!0).css("width",this.options.indentation)):(n("<td><\/td>").appendTo(t).addClass(this.css.headerExtraCell).attr("data-skip",!0),i&&n("<col />").appendTo(i).attr("data-skip",!0).css("width",this.options.indentation)))},_addOrUpdateDataSkipCol:function(t){var r,i,u,f=this.grid.headersTable(),e=this.grid.footersTable();r=this.grid.element.children("colgroup"),u=r.children("[data-groupby-col]"),u.length?(u.width(t),f.find(">colgroup>col[data-groupby-col]").width(t),e.find(">colgroup>col[data-groupby-col]").width(t)):(i={"data-skip":"true","data-groupby-col":"true"},n("<col />").prependTo(r).attr(i).width(t),f.attr("id")!==this.grid.element.attr("id")&&n("<col />").prependTo(f.children("colgroup")).attr(i).width(t),e.attr("id")!==this.grid.element.attr("id")&&n("<col />").prependTo(e.children("colgroup")).attr(i).width(t))},_columnsCollectionModified:function(n,t){t.owner.id()===this.grid.id()&&(t.tbody=this.grid.element.children("tbody"),this.options.groupedColumns.length>0&&(this._addOrUpdateDataSkipCol(this._indent),this.grid.options.width===null?this.grid._setContainerWidth(this.grid.container()):this.grid._updateGridContentWidth()),this._dataEmpty(n,t))},_onUIDirty:function(){this.options.persist||this.ungroupAll()},_saveSortingExpressions:function(){this.options.persist&&(this.grid._savePersistenceData(this.grid.dataSource.settings.sorting.expressions,"sorting"),this._groupedColumns=this._orderedGroupedCols,this._optionsGC=this.options.groupedColumns),this.grid._fireInternalEvent("_sortedColumnsChanging",this.grid.dataSource.settings.sorting.expressions)},_saveCollapseStates:function(n){n=n||this.grid,n._savePersistenceData(n.dataSource._gbCollapsed,"gbCollapsed",n.element[0].id)},_getSortingExpressions:function(){return this.grid._getPersistenceData("sorting")},_restoreGroupBy:function(){var t=this._getSortingExpressions(),i,r,u,n,f,e=[];if(this.grid.dataSource._gbCollapsed=this.grid._getPersistenceData("gbCollapsed",this.grid.element[0].id),this._groupedColumns&&(this._orderedGroupedCols=this._groupedColumns),this._optionsGC&&(this.grid.dataSource.settings.sorting.expressions=t,this.grid.dataSource.settings.sorting.defaultFields=t,this.options.groupedColumns=this._optionsGC,this.grid._hasUnboundColumns&&this.options.type==="local")){for(e=[],n=0;n<t.length;n++)t[n].layout?(r=[],this._findLayout(t[n].layout,this.grid.options,r),u=r[0],i=this._getColumnByLayoutKey(t[n].fieldName,u.columns)):i=this.grid.columnByKey(t[n].fieldName),i&&!i.unbound&&e.push(t[n]);for(t=e,this.grid.dataSource.settings.sorting.expressions=t,this.grid.dataSource.settings.sorting.defaultFields=t,n=0;n<this._optionsGC.length;n++)f=this._optionsGC[n].key,this._optionsGC[n].layout?(r=[],this._findLayout(this._optionsGC[n].layout,this.grid.options,r),u=r[0],i=this._getColumnByLayoutKey(f,u.columns)):i=this.grid.columnByKey(f),i&&i.unbound&&this.ungroupByColumn(f,this._optionsGC[n].layout)}t&&(this.grid.dataSource.settings.sorting.expressions=t,this.grid.dataSource.settings.sorting.defaultFields=t)},_onDataBound:function(){this.options.groupedColumns.length>0&&this.grid._isDataBoundCalled&&this.grid._trigger("headerExtraCellsModified",null,{owner:this})},_filterExpressionsByLayout:function(n,t){n=n||[],t=!t||t===""?null:t;for(var u=n.length,r=[],i=0;i<u;i++)n[i].layout=n[i].layout===""?null:n[i].layout,n[i].layout!==t&&(t||n[i].layout)||r.push(n[i]);return r},_determineColspan:function(){this._colspan=this.grid._isMultiColumnGrid?this.grid.container().find("#"+this.grid.id()+" colgroup:first>col:not([ data-hiding ])").length-1:this.grid.options.showHeader?this.grid.headersTable().find("thead > tr:first").children("th:not(.ui-iggrid-expandheadercellgb)").length:this.grid.container().find("#"+this.grid.id()+" colgroup:first>col").length-1},_removeOverridenFunctions:function(){this._getDataViewHandler&&(this.grid._getDataView=this._getDataViewHandler),this._renderRecordsForVirtRowCountHandler&&(this.grid._renderRecordsForVirtRowCount=this._renderRecordsForVirtRowCountHandler),this._renderNewRowHandler&&(this.grid.renderNewRow=this._renderNewRowHandler)},_overrideFunctions:function(){this._getDataViewHandler||(this._getDataViewHandler=n.proxy(this.grid._getDataView,this.grid),this.grid._getDataView=n.proxy(this._getDataView,this)),this._renderRecordsForVirtRowCountHandler||(this._renderRecordsForVirtRowCountHandler=n.proxy(this.grid._renderRecordsForVirtRowCount,this.grid),this.grid._renderRecordsForVirtRowCount=n.proxy(this._renderRecordsForVirtRowCount,this)),this._renderNewRowHandler||(this._renderNewRowHandler=n.proxy(this.grid.renderNewRow,this.grid),this.grid.renderNewRow=n.proxy(this._renderNewRow,this))},_renderRecordsForVirtRowCount:function(n,t,i){var u=n.slice(0,t),r;return this.options.groupedColumns.length>0?((this._colspan===undefined||this._colspan===null)&&this._determineColspan(),r=this._generateGroupByRowsMarkup(u,0,u.length-1)):r=this._renderRecordsForVirtRowCountHandler.call(this,n,t,i),r},_getDataView:function(){return this.options.groupedColumns.length>0?this.grid.dataSource.groupByDataView():this._getDataViewHandler()},_removeInitCallbacks:function(){for(var t=0;this.grid._headerInitCallbacks&&t<this.grid._headerInitCallbacks.length;t++)if(this.grid._headerInitCallbacks[t].type==="GroupBy"){n.ig.removeFromArray(this.grid._headerInitCallbacks,t);break}for(t=0;this.grid._footerInitCallbacks&&t<this.grid._footerInitCallbacks.length;t++)if(this.grid._footerInitCallbacks[t].type==="GroupBy"){n.ig.removeFromArray(this.grid._footerInitCallbacks,t);break}},_addInitCallbacks:function(){this._removeInitCallbacks(),this.grid._headerInitCallbacks.push({type:"GroupBy",func:n.proxy(this._renderExtraHeaderCells,this)}),this.grid._footerInitCallbacks.push({type:"GroupBy",func:n.proxy(this._renderExtraFooterCells,this)})},_getDefaultSummaries:function(n,t){for(var r=[],i=0;i<t.length;i++)t[i].active&&(t[i].dataType==="any"||t[i].dataType.indexOf(n)!==-1)&&r.push({summaryFunction:t[i].summaryFunction,label:t[i].label,summaryTemplate:"{label}{value}",applyFormat:t[i].applyFormat});return r},_getApplicableSummaries:function(t,i,r){for(var f,o,e,s=[],h=function(n){return r.filter(function(t){return t.name.toLowerCase()===n.toLowerCase()})},u=0;u<i.length;u++)typeof i[u].summaryFunction=="function"?(e={summaryFunction:i[u].summaryFunction,label:"Custom = ",summaryTemplate:"{label}{value}",applyFormat:!1},s.push(n.extend(e,i[u]))):typeof i[u].summaryFunction=="string"&&(f=h(i[u].summaryFunction),f.length?(f[0].dataType==="any"||f[0].dataType.indexOf(t)!==-1)&&(o={label:f[0].label,summaryTemplate:"{label}{value}",applyFormat:f[0].applyFormat},o=n.extend(o,i[u]),o.summaryFunction=f[0].summaryFunction,s.push(o)):(e={label:"Custom = ",summaryTemplate:"{label}{value}",applyFormat:!1},e=n.extend(e,i[u]),e.summaryFunction=window[i[u].summaryFunction],s.push(e)));return s},_generateSummariesSettings:function(){var t,e,r,u,f,h,o=!0,i=this.grid.options.columns,c=this.options.columnSettings?this.options.columnSettings:[],s=n.ig.util.defaultSummaryMethods;for(s.sort(function(n,t){return n.order-t.order}),f={},t=0;t<i.length;t++)e={groupSummaries:[]},this.options.groupSummaries===!0?(o=!1,u=this._getDefaultSummaries(i[t].dataType,s),e.groupSummaries=u):n.isArray(this.options.groupSummaries)&&this.options.groupSummaries.length>0&&(o=!1,u=this._getApplicableSummaries(i[t].dataType,this.options.groupSummaries,s),e.groupSummaries.push.apply(e.groupSummaries,u)),f[i[t].key]=e;for(h=function(n){return c.filter(function(t){return t.columnKey===n})},t=0;t<i.length;t++)(r=h(i[t].key),r.length)&&(r=r[0],r.groupSummaries===!0?(o=!1,u=this._getDefaultSummaries(i[t].dataType,s),f[i[t].key].groupSummaries=u):r.groupSummaries===!1?f[i[t].key].groupSummaries=[]:n.isArray(r.groupSummaries)&&r.groupSummaries.length>0?(o=!1,u=this._getApplicableSummaries(i[t].dataType,r.groupSummaries,s),f[i[t].key].groupSummaries=u):n.isArray(r.groupSummaries)&&(f[i[t].key].groupSummaries=[]));for(t=0;t<this.options.columnSettings.length;t++)this.options.columnSettings[t].groupSummaries=f[this.options.columnSettings[t].columnKey].groupSummaries;return o},_initGroupSummaries:function(){var n,r,f,u,t,e=[],i=this.grid.dataSource;if(f=this._generateSummariesSettings(),!f){for(t=this.options.columnSettings,n=0;n<t.length;n++){if(u={field:t[n].columnKey,summaryFunctions:[]},t[n].groupSummaries&&t[n].groupSummaries.length>0)for(r=0;r<t[n].groupSummaries.length;r++)typeof t[n].groupSummaries[r].summaryFunction=="string"?u.summaryFunctions.push(t[n].groupSummaries[r].summaryFunction):u.summaryFunctions.push(t[n].groupSummaries[r].summaryFunction);e.push(u)}i.settings.groupby.summaries=e,i.settings.groupby.summariesPosition=this.options.groupSummariesPosition,this.grid.options.autoGenerateColumns&&i._generateGroupByData(i._filter?i._filteredData:i._data,i.settings.sorting.expressions)}},_injectGrid:function(t){var i,s,f,e,r=null,o=null,u=null;if(this.grid=t,this._checkGridNotSupportedFeatures(),this.options.type===null&&(this.options.type=this.grid._inferOpType()),r=this.element.closest(".ui-iggrid-root"),this.options.persist&&this.options.type==="remote"&&r.data("igGrid")&&(this.options.persist=!1),r.is("div")&&(r=r.find("#"+r.attr("id")+"_table")),r=r.data("igGridGroupBy"),r&&(o=r._orderedGroupedCols,o&&o.length>0&&this.grid.options.key))for(u=[],i=0;i<o.length;i++)this.grid.options.key===o[i].layout&&u.push(o[i]);for(i=0;i<this.grid.options.features.length;i++)if(this.grid.options.features[i].name==="ColumnMoving"){this._movingEnabled=!0;break}if(this._dataBoundHandler=n.proxy(this._onDataBound,this),this._headerRenderedHandler=n.proxy(this._headerRendered,this),this._dataRenderingHandler=n.proxy(this._dataEmpty,this),this._toggleGroupHandler=n.proxy(this._toggleGroup,this),this._onKeyDownGroupHandler=n.proxy(this._onKeyDownGroup,this),this._rowsRenderingHandler=n.proxy(this._renderRecords,this),this._rowsRenderedHandler=n.proxy(this._recordsRendered,this),this._headerCellRenderedHandler=n.proxy(this._headerCellRendered,this),this._headerDragCancelHandler=n.proxy(this._headerCellDragCancel,this),this._detachEvents(),this.grid.element.bind("iggridheaderrenderedinternal",this._headerRenderedHandler),this.grid.element.bind("iggriddataempty",this._dataRenderingHandler),this.grid.element.bind("iggrid_rowsrendering",this._rowsRenderingHandler),this.grid.element.bind("iggridrowsrendered",this._rowsRenderedHandler),this.grid.element.bind("iggridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.bind("iggriddatabound",this._dataBoundHandler),this.grid.element.bind("iggridheadercelldragcancel",this._headerDragCancelHandler),this._headerMouseOverHandler=function(t){n(t.currentTarget).addClass("ui-state-hover")},this._headerMouseOutHandler=function(t){n(t.currentTarget).removeClass("ui-state-hover")},this._overrideFunctions(),this.grid.dataSource.settings.sorting.sortUrlKey=this.options.groupByUrlKey,this.grid.dataSource.settings.sorting.sortUrlAscValueKey=this.options.groupByUrlKeyAscValue,this.grid.dataSource.settings.sorting.sortUrlDescValueKey=this.options.groupByUrlKeyDescValue,this.grid.dataSource.settings.sorting.enabled=!0,this.grid.dataSource.settings.sorting.type=this.options.type||"remote",this.grid.dataSource.settings.encodeExtraParams=n.proxy(this._encodeSummaryParams,this),this.grid.dataSource.settings.groupby.defaultCollapseState=!this.options.initialExpand,this.grid.dataSource.settings.groupby.pagingMode=this.options.pagingMode,!this.grid._initialized){if(this._addInitCallbacks(),this._initDefaultSettings(),this.options.groupedColumns=[],this.grid.options.key||u!==null&&u.length!==0)for(i=0;u!==null&&i<u.length;i++)this.options.groupedColumns.push(u[i]),f={fieldName:u[i].key,dir:u[i].dir||"asc",layout:this.grid.options.key||null,isGroupBy:!0},this.options.type==="local"&&this._addSortingExpression(this.grid.dataSource.settings.sorting.defaultFields,f),this._addSortingExpression(this.grid.dataSource.settings.sorting.expressions,f);else for(i=0;i<this._orderedColumnSettings.length;i++)this._orderedColumnSettings[i].isGroupBy&&(e=this._orderedColumnSettings[i],s={key:e.columnKey,dir:e.dir||"asc",col:this.grid.columnByKey(e.columnKey)},this.options.groupedColumns.push(s),f={fieldName:e.columnKey,dir:e.dir||"asc",layout:this.grid.options.key||null,isGroupBy:!0},this.options.type==="local"&&this._addSortingExpression(this.grid.dataSource.settings.sorting.defaultFields,f),this._addSortingExpression(this.grid.dataSource.settings.sorting.expressions,f));this._saveSortingExpressions()}this._initGroupSummaries(),this.options.expansionIndicatorVisibility&&(this.grid.element.closest(".ui-iggrid-root").length===0||this.grid.element.hasClass("ui-iggrid-root")||this.grid._isWrapped)&&(n(document).delegate("#"+this.grid.id()+"_container td[ gbexpandcell=1 ]","mouseup",this._toggleGroupHandler),n(document).delegate("#"+this.grid.id()+"_container td[ gbexpandcell=1 ]","keydown",this._onKeyDownGroupHandler)),this._columnsCollectionModifiedHandler=n.proxy(this._columnsCollectionModified,this),this.grid.element.bind("iggridcolumnscollectionmodified",this._columnsCollectionModifiedHandler),this._uiDirtyHandler=n.proxy(this._onUIDirty,this),this.grid.element.bind("iggriduidirty",this._uiDirtyHandler),this.grid.element.igGridFeatureChooser!==undefined&&this.grid.element.igGridFeatureChooser(),this._hierarchical=this.grid._isHierarchicalGrid,this.options.persist&&this._restoreGroupBy(),this._indent=this.options.indentation,this._allGroupedCols(this._orderedGroupedCols)},_colgroupsRerendered:function(){this.options.groupedColumns.length>0&&this._addOrUpdateDataSkipCol(this._indent)},_checkGridNotSupportedFeatures:function(){var n=this.grid.options;if((n.virtualization===!0||n.rowVirtualization===!0||n.columnVirtualization===!0)&&n.virtualizationMode==="fixed")throw new Error(this._getLocaleValue("fixedVirualizationNotSupported"));}}),n.extend(n.ui.igGridGroupBy,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridHiding",n.ui.igWidget,{options:{columnSettings:[{columnKey:null,columnIndex:null,allowHiding:!0,hidden:!1}],hiddenColumnIndicatorHeaderWidth:7,columnChooserContainment:"owner",columnChooserWidth:350,columnChooserHeight:"",dropDownAnimationDuration:500,columnChooserCaptionText:undefined,columnChooserDisplayText:undefined,hiddenColumnIndicatorTooltipText:undefined,columnHideText:undefined,columnChooserShowText:undefined,columnChooserHideText:undefined,columnChooserResetButtonLabel:undefined,columnChooserButtonApplyText:undefined,columnChooserButtonCancelText:undefined,locale:{columnChooserDisplayText:undefined,hiddenColumnIndicatorTooltipText:undefined,columnHideText:undefined,columnChooserCaptionLabel:undefined,columnChooserCloseButtonTooltip:undefined,hideColumnIconTooltip:undefined,columnChooserShowText:undefined,columnChooserHideText:undefined,columnChooserResetButtonLabel:undefined,columnChooserButtonApplyText:undefined,columnChooserButtonCancelText:undefined},columnChooserHideOnClick:!1,columnChooserAnimationDuration:200,dialogWidget:"igGridModalDialog",inherit:!1},css:{columnChooser:"ui-dialog ui-draggable ui-resizable ui-iggrid-dialog ui-widget ui-widget-content ui-corner-all",columnChooserHeaderCaption:"ui-dialog-titlebar ui-iggrid-columnchooser-caption ui-widget-header ui-corner-top ui-helper-reset ui-helper-clearfix",columnChooserHeaderCaptionTitle:"ui-dialog-title ui-iggrid-columnchooser-caption-title",columnChooserContent:"ui-dialog-content ui-iggrid-columnchooser-content",hidingHeaderIndicator:"ui-iggrid-hiding-indicator",columnChooserHandleBar:"ui-iggrid-columnchooser-handlebar",hiddenColumnIndicator:"ui-iggrid-hiding-hiddencolumnindicator",hiddenColumnIndicatorSelected:"ui-iggrid-hiding-indicator-selected",hiddenColumnIndicatorMouseOver:"ui-iggrid-hiding-indicator-mouseover",hiddenColumnsDropDown:"ui-iggrid-hiding-dropdown-dialog ui-widget ui-widget-content ui-corner-all",hiddenColumnsDropDownList:"ui-iggrid-hiding-dropdown-list ui-menu",hiddenColumnsDropDownItem:"ui-iggrid-hiding-dropdown-ddlistitemicons ui-state-default",hiddenColumnsDropDownItemHover:"ui-iggrid-hiding-dropdown-listitem-hover ui-state-active ui-state-hover",hiddenColumnsDropDownItemText:"ui-iggrid-hiding-dropdown-ddlistitemtext",columnChooserListItems:"ui-iggrid-columnchooser-listitems",columnChooserItem:"ui-iggrid-columnchooser-item ui-widget-content",columnChooserItemHidden:"ui-iggrid-columnchooser-itemhidden",columnChooserHideButton:"ui-iggrid-columnchooser-hidebutton",columnChooserItemText:"ui-iggrid-dialog-text",featureChooserHidingIcon:"ui-icon ui-iggrid-icon-hide",featureChooserModalDialogIcon:"ui-icon ui-iggrid-icon-column-chooser"},events:{columnHiding:"columnHiding",columnHidingRefused:"columnHidingRefused",columnShowingRefused:"columnShowingRefused",multiColumnHiding:"multiColumnHiding",columnHidden:"columnHidden",columnShowing:"columnShowing",columnShown:"columnShown",columnChooserOpening:"columnChooserOpening",columnChooserOpened:"columnChooserOpened",columnChooserMoving:"columnChooserMoving",columnChooserClosing:"columnChooserClosing",columnChooserClosed:"columnChooserClosed",columnChooserContentsRendering:"columnChooserContentsRendering",columnChooserContentsRendered:"columnChooserContentsRendered",columnChooserButtonApplyClick:"columnChooserButtonApplyClick",columnChooserButtonResetClick:"columnChooserButtonResetClick"},renderInFeatureChooser:!0,_headerHashDataKey:"igGrid-hiding-hash",_createWidget:function(){this.options.columnSettings=[],n.Widget.prototype._createWidget.apply(this,arguments)},_getModalDialog:function(){return this.grid._rootContainer().find("#"+this.grid.id()+"_hiding_modalDialog")},_changeLocaleForHidingDialog:function(){var t=this._getModalDialog(),i;t.length&&(t[this.options.dialogWidget]("option",{locale:{modalDialogCaptionText:this._getLocaleValue("columnChooserCaptionLabel"),buttonApplyText:this._getLocaleValue("columnChooserButtonApplyText"),buttonCancelText:this._getLocaleValue("columnChooserButtonCancelText")}}),n.ui.igWidget.prototype.changeLocale.call(this,t),i=n("#"+this.grid.id()+"_hiding_modalDialog_reset_button"),i.igButton("option","labelText",this._getLocaleValue("columnChooserResetButtonLabel")))},_changeLocaleForFeatureChooser:function(){var n=this.grid.element.data("igGridFeatureChooser");n&&this.renderInFeatureChooser&&(n._removeFeature("Hiding"),n._removeFeature("ColumnChooser"),this._initFeatureChooser())},changeLocale:function(){var t=this._getLocaleValue("columnChooserDisplayText"),i=this.grid.container(),r=this;this._changeLocaleForHidingDialog(),this._changeLocaleForFeatureChooser(),i.find("[data-hiddencolumn-indicator-container],[data-hiddencolumn-indicator],[data-hiding-indicator]").each(function(){r._changeLocaleForElement(n(this))}),t=this._getLocaleValue("columnChooserDisplayText"),i.children("div[data-hiding-inddropdown='"+this.grid.id()+"']").find("[data-button-show-column-chooser]").each(function(){n(this).igButton("option","labelText",t)})},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(n){switch(n){case"language":case"locale":case"regional":this._superApply(arguments);break;default:throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",n));}},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},destroy:function(){var t,i=this,r=this._getModalDialog();return this.grid.element.unbind(".hiding"),this.grid.headersTable().find("> thead > tr > th").not("[data-skip=true]").each(function(){var t=n(this);t.find("a[data-hiding-indicator=true]").remove(),i._clearHiddenColumnIndicator(!0,t),i._clearHiddenColumnIndicator(!1,t)}),n("div[data-hiding-inddropdown='"+this.grid.id()+"']").remove(),this._detachEvents(),r[this.options.dialogWidget]("getCaptionButtonContainer"),r.remove(),t=this.grid.element.data("igGridFeatureChooser"),t&&this.renderInFeatureChooser&&(t._removeFeature("Hiding"),t._removeFeature("ColumnChooser")),this._superApply(arguments),this},showColumnChooser:function(){this._openColumnChooser(!1)},hideColumnChooser:function(){this._closeColumnChooser(!1)},showColumn:function(n,t){this.grid.showColumn(n,t)},hideColumn:function(n,t){this.grid.hideColumn(n,t)},hideMultiColumns:function(n,t){n=this._getDataColumns(n),this.grid._setHiddenMultipleColumns([],n,t)},showMultiColumns:function(n,t){n=this._getDataColumns(n),this.grid._setHiddenMultipleColumns(n,[],t)},_getDataColumns:function(n){for(var u=[],i,r,f,e=this.grid,t=0;t<n.length;t++)if(i=n[t],e.isGroupHeader(i)){if(r=e._getMultiHeaderColumnById(i),r===null)return;for(f=r.children.length,t=0;t<f;t++)u.push(r.children[t].key)}else u.push(i);return u},_showColumnFromUI:function(n){var i,r,u,t=this;return(typeof n=="number"?r=n:i=n,u=this._trigger(this.events.columnShowing,null,{owner:this,columnKey:i,columnIndex:r}),!this.grid._isShowingAllowed([n]))?(this._trigger(this.events.columnShowingRefused,null,{owner:this,columnKeys:[i]}),!1):(u&&(t.grid._loadingIndicator.show(),setTimeout(function(){t.grid._setHidden(n,!1),t._trigger(t.events.columnShown,null,{owner:t,columnKey:i,columnIndex:r}),t.grid._loadingIndicator.hide()},0)),u)},_setHiddenMultipleColumns:function(t,i,r,u){var f=this,e=f.grid,o,s;e._loadingIndicator.show(),setTimeout(function(){for(var h,l,v=[],a,c=0;c<t.length;c++)h=t[c],typeof h=="number"?s=h:o=h,l=!0,r&&(l=f._trigger(f.events.columnShowing,null,{owner:f,columnKey:o,columnIndex:s})),l&&(a=f.grid._setHidden(h,!1),r&&f._trigger(f.events.columnShown,null,{owner:f,columnKey:o,columnIndex:s}),a&&v.push(a));for(c=0;c<i.length;c++){if(h=i[c],e._visibleColumns().length===1)break;typeof h=="number"?s=h:o=h,l=!0,r&&(l=f._trigger(f.events.columnHiding,null,{owner:f,columnKey:o,columnIndex:s})),l&&(a=e._setHidden(h,!0),r&&f._trigger(f.events.columnHidden,null,{owner:f,columnKey:o,columnIndex:s}),a&&v.push(a))}!e._allColumnWidthsInPixels&&n.ig.util.isFF&&e._refreshUI(),e._loadingIndicator.hide(),u&&n.ig.util.invokeCallback(u,[v,t.length===0])},0)},_hideMultiColumnFromUI:function(t){var i,r=this,u=this.grid,e,f,o,h,c,l=0,s=[],a=[];if(u._visibleColumns().length===1)return!1;if(e=u._getMultiHeaderColumnById(t),e!==null){for(f=e.children,h=f.length,i=0;i<h;i++)f[i].hidden||l++;if(u._visibleColumns().length-l<1)return!1;for(i=0;i<h;i++)s.push(f[i].key);if(!u._isHidingAllowed(s))return this._trigger(this.events.columnHidingRefused,null,{owner:this,columnKeys:s}),!1;c=this._trigger(this.events.multiColumnHiding,null,{owner:this,columnKeys:s}),c&&(u._loadingIndicator.show(),setTimeout(function(){for(i=0;i<h;i++)o=s[i],c=r._trigger(r.events.columnHiding,null,{owner:r,columnKey:o,columnIndex:undefined}),c&&f[i].allowHiding&&!f[i].hidden&&(u._setHidden(o,!0),a.push(o),r._trigger(r.events.columnHidden,null,{owner:r,columnKey:o,columnIndex:undefined}));!u._allColumnWidthsInPixels&&n.ig.util.isFF&&u._refreshUI(),e.hidden=!0,e.colspan=0,u._loadingIndicator.hide(),r._trigger(r.events.multiColumnHidden,null,{owner:r,columnKeys:a})},0))}},_fixedColumnsChanged:function(){this._renderHiddenColumnIndicators()},_hideColumnFromUI:function(t){var i=this,r,u,f;if(i.grid._visibleColumns().length===1)return!1;if(typeof t=="number"?u=t:r=t,!this.grid._isHidingAllowed([t])){this._trigger(this.events.columnHidingRefused,null,{owner:this,columnKeys:[r]});return}return f=this._trigger(this.events.columnHiding,null,{owner:this,columnKey:r,columnIndex:u}),f&&(i.grid._loadingIndicator.show(),setTimeout(function(){i.grid._setHidden(t,!0),i._trigger(i.events.columnHidden,null,{owner:i,columnKey:r,columnIndex:u}),!i.grid._allColumnWidthsInPixels&&n.ig.util.isFF&&i.grid._refreshUI(),i.grid._loadingIndicator.hide()},0)),f},_initFeatureChooser:function(){var t,i,u=this.grid.options.columns,f=this._getLocaleValue("columnHideText"),e=this._getLocaleValue("columnChooserDisplayText"),r=this.grid.element.data("igGridFeatureChooser");if(!this._featureChooserInitialized||r)for(this._featureChooserInitialized=!0,this._hidingIconColumnKeys=[],t=0;t<u.length;t++)i=u[t],this._getColumnSettingsByIndex(t).allowHiding&&(r._shouldRenderInFeatureChooser(i.key)===!0?(r._renderInFeatureChooser(i.key,{name:"Hiding",text:f,iconClass:this.css.featureChooserHidingIcon,isSelectable:!1,isSelected:!1,method:n.proxy(this._featureChooserHide,this),updateOnClickAll:!1,groupName:"click",groupOrder:2,order:2}),r._renderInFeatureChooser(i.key,{name:"ColumnChooser",text:e,iconClass:this.css.featureChooserModalDialogIcon,method:n.proxy(this._featureChooserColumnChooser,this),groupName:"modaldialog",groupOrder:3,order:1})):this._hidingIconColumnKeys.push(i.key))},_headerCellRendered:function(n,t){t.owner.element.attr("id")===this.grid.element.attr("id")&&!t.isMultiColumnHeader&&this.renderInFeatureChooser&&this._initFeatureChooser()},_featureChooserHide:function(n,t){this._closeColumnChooser(n),this._hideColumnFromUI(t)},_featureChooserColumnChooser:function(){this._openColumnChooser(!0)},_columnMap:function(){var t=this;return n.map(this.grid.options.columns,function(n,i){return{columnKey:n.key,enabled:t._getColumnSettingsByIndex(i).allowHiding}})},_renderHidingColumnIcon:function(t,i,r){var u=this,e,f=t.find(".ui-iggrid-indicatorcontainer");f.length===0&&(f=n("<div><\/div>").addClass("ui-iggrid-indicatorcontainer").appendTo(t)),e=n("<a><\/a>").css("display","inline").attr({"data-hiding-indicator":"true",href:"#","data-localeid":"hideColumnIconTooltip","data-localeattr":"title",title:this._getLocaleValue("hideColumnIconTooltip")}).bind("keydown.hiding",function(f){(f.keyCode===n.ui.keyCode.ENTER||f.keyCode===n.ui.keyCode.SPACE)&&(r?u._hideMultiColumnFromUI(t.attr("data-mch-id")):u._hideColumnFromUI(i),f.preventDefault(),f.stopPropagation())}).appendTo(f),n("<span>&laquo;<\/span>").addClass(this.css.hidingHeaderIndicator).appendTo(e).bind("click.hiding",function(f){n(this).parent().mouseout(),u._closeColumnChooser(f),r?u._hideMultiColumnFromUI(t.attr("data-mch-id")):u._hideColumnFromUI(i),f.preventDefault(),f.stopPropagation()}),this.grid._enableHeaderCellFeature(t)},_populateMultiColumnHeadersLevel0:function(){for(var u,e=this,r=this.grid._oldCols,o=r.length,s=n(this.grid._headerCells),i=[],f,h=this.grid._visibleColumns(),t=0;t<o;t++)if(r[t].level===0)i.push(r[t]);else for(u=0;u<r[t].children.length;u++)i.push(r[t].children[u]);f=i.length,s.each(function(r){var s=n(this),u=h[r],o;if(u===null||u===undefined)return!0;if(o=e._getColumnSettingsByKey(u.key),o.allowHiding){for(t=0;t<i.length;t++)if(i[t].key===u.key)break;t<f&&(i[t].allowHiding=!0,i[t].visibleIndex=r,i[t].settings=o),s.col=i[t]}})},_renderHidingIcons:function(){var r,t=this,i;t.grid._isMultiColumnGrid===!0?(r=this.grid.headersTable().find("> thead > tr th").not("[data-skip=true]").not("[data-isheadercell=true]"),this._populateMultiColumnHeadersLevel0(),r.each(function(){var u=n(this),i=u.attr("id"),r,f=!0;i&&(i=i.replace(t.grid.id()+"_",""),i&&(r=t._getColumnSettings(null,i),r&&r.allowHiding===!1&&(f=!1))),f&&t._renderHidingColumnIcon(u,null,!0)}),i=n(this.grid._headerCells)):i=this.grid.headersTable().find("> thead > tr > th").not("[data-skip=true]"),i.find("a[data-hiding-indicator=true]").remove(),i.each(function(i){var f=n(this),e=t.grid._visibleColumns(),r,u;r=t.grid.options.virtualizationMode==="fixed"&&(t.grid.options.virtualization===!0||t.grid.options.columnVirtualization===!0)?(t.grid._startColIndex||0)+i:i,u=e[r].key,n.inArray(u,t._hidingIconColumnKeys)!==-1&&t._renderHidingColumnIcon(f,u)})},_headerRendered:function(n,t){t.owner.element.attr("id")===this.grid.element.attr("id")&&(this._renderHidingIcons(),this._renderColumnChooser())},_columnChooserButtonOKClick:function(){var r=this,f=r._columnsToHide,t=[],i=[],u,e=this._getModalDialog();if(n.each(this.grid.options.columns,function(n,u){var e,o,s;(e=r._getColumnSettingsByIndex(n),e.allowHiding)&&(o=e.columnKey||e.columnIndex||u.key,s=f[o],s!==null&&s!==undefined&&(s?u.hidden===!1&&t.push(o):u.hidden===!0&&i.push(o)))}),u=this._trigger(this.events.columnChooserButtonApplyClick,null,{columnChooserElement:e,owner:this,columnsToHide:t,columnsToShow:i}),!this.grid._isHidingAllowed(t)){this._trigger(this.events.columnHidingRefused,null,{owner:this,columnKeys:t});return}if(!this.grid._isShowingAllowed(i)){this._trigger(this.events.columnShowingRefused,null,{owner:this,columnKeys:i});return}u&&(r._setHiddenMultipleColumns(i,t,!0),r._getModalDialog()[this.options.dialogWidget]("closeModalDialog",!0))},isToRenderButtonReset:function(){var t=this,r=t._columnsToHide,i=!1;return n.each(this.grid.options.columns,function(n,u){var f,s,e,o;return(f=t._getColumnSettingsByIndex(n),f&&!f.allowHiding)?!0:(s=f.columnKey||f.columnIndex||u.key,e=r[s],o=u._initiallyHidden===!0?!0:f.hidden,e!==null&&e!==undefined&&e!==o?(i=!0,!1):void 0)}),i},_isVisibleColumnsNotAllowHiding:function(){var i=this,t=!1;return n.each(this.grid.options.columns,function(n,r){var u;return u=i._getColumnSettingsByIndex(n),u&&!u.allowHiding&&!r.hidden?(t=!0,!1):void 0}),t},_columnChooserOpening:function(){var f,i,e,t=this,o=this.options,u=this.css,s=0,r=this._getModalDialog();return i=this._trigger(this.events.columnChooserOpening,null,{columnChooserElement:r,owner:this}),i&&(i=this._trigger(this.events.columnChooserContentsRendering,null,{columnChooserElement:r,owner:this}),i&&(this.removeColumnChooserResetButton(),e=r[this.options.dialogWidget]("getContent"),e.empty(),f=n("<ul><\/ul>").addClass(u.columnChooserListItems).appendTo(e),this._columnsToHide={},n.each(this.grid.options.columns,function(r,e){var a,h,c,l;(a=t._getColumnSettingsByIndex(r),a.allowHiding)&&(s++,h=a.columnKey||a.columnIndex||e.key,l=n("<li><\/li>").attr("id",t.grid.element[0].id+"_"+h+"_columnchooser_li").addClass(u.columnChooserItem).append("<span class='"+u.columnChooserHideButton+"'><a href='#'><\/a><\/span><span class='"+u.columnChooserItemText+"'>"+e.headerText+"<\/span>"),l.appendTo(f),c=l.find("a:first"),o.columnChooserHideOnClick===!0?l.bind("click.hiding",function(n){var r;return c.attr("ishidden")==="1"?(i=t._showColumnFromUI(h),r=!1):(i=t._hideColumnFromUI(h),r=!0),i&&t._renderColumnChooserHideButton(c,r),n.preventDefault(),n.stopPropagation(),!1}):l.bind("click.hiding",function(n){var i,r,u;if(n.preventDefault(),n.stopPropagation(),i=c.attr("ishidden")==="1"?!1:!0,i&&t.grid.hasFixedColumns()){u=[];for(r in t._columnsToHide)t._columnsToHide.hasOwnProperty(r)&&t._columnsToHide[r]&&u.push(r);if(u.push(h),!t.grid._isHidingAllowed(u))return}if(!i||t._isVisibleColumnsNotAllowHiding()||f.find("a[ishidden=1]").length!==s-1)return t._columnsToHide[h]=i,t._renderColumnChooserHideButton(c,i),t.isToRenderButtonReset()?t.renderColumnChooserResetButton():t.removeColumnChooserResetButton(),!1}),t._columnsToHide[h]=e.hidden,t._renderColumnChooserHideButton(c,e.hidden))}),this._trigger(this.events.columnChooserContentsRendered,null,{columnChooserElement:r,owner:this}),o.columnChooserHideOnClick===!1&&t.isToRenderButtonReset()&&t.renderColumnChooserResetButton()),this._trigger(this.events.columnChooserOpened,null,{columnChooserElement:r,owner:this})),i},resetHidingColumnChooser:function(){var t=this;n.each(this.grid.options.columns,function(n,i){var r,f,u;if((r=t._getColumnSettingsByIndex(n),!r)||!r.allowHiding)return!0;u=r.hidden,i._initiallyHidden===!0&&(u=!0),f=r.columnKey||r.columnIndex||i.key,t._columnsToHide[f]=u,t._renderColumnChooserHideButton(t.grid._rootContainer().find("#"+t.grid.id()+"_"+f+"_columnchooser_li a:first"),u)}),t.removeColumnChooserResetButton()},renderColumnChooserResetButton:function(){var t=this,i=this.grid.id()+"_hiding_modalDialog_reset_button",r=this.grid._rootContainer().find("#"+this.grid.id()+"_hiding_modalDialog"),u,f;this.grid._rootContainer().find("#"+i).length===0&&(u=r[this.options.dialogWidget]("getCaptionButtonContainer"),f=n("<button type='button'><\/button>").attr("id",i).appendTo(u),f.igButton({labelText:this._getLocaleValue("columnChooserResetButtonLabel"),click:function(n){t._trigger(t.events.columnChooserButtonResetClick,n,{columnChooserElement:r,owner:t}),t.resetHidingColumnChooser()}}))},removeColumnChooserResetButton:function(){this.grid._rootContainer().find("#"+this.grid.id()+"_hiding_modalDialog_reset_button").remove()},_renderColumnChooserHideButton:function(n,t){var r,u=this.css,f=n.closest("li"),i;t===!1?(r="0",i="columnChooserHideText",f.removeClass(u.columnChooserItemHidden)):(r="1",i="columnChooserShowText",f.addClass(u.columnChooserItemHidden)),n.attr({ishidden:r,"data-localeid":i}).text(this._getLocaleValue(i))},_renderColumnChooser:function(){this._getModalDialog().remove();var u,t=this,r=this.options,f,e=this.grid._rootContainer(),i;this.options.columnChooserContainment!=="owner"&&(e="window"),i=n("<div><\/div>").appendTo(this.grid._rootContainer()).attr("id",this.grid.id()+"_hiding_modalDialog"),i[this.options.dialogWidget]({modalDialogWidth:r.columnChooserWidth,modalDialogHeight:r.columnChooserHeight,locale:{modalDialogCaptionText:this._getLocaleValue("columnChooserCaptionLabel"),buttonApplyText:this._getLocaleValue("columnChooserButtonApplyText"),buttonCancelText:this._getLocaleValue("columnChooserButtonCancelText")},containment:e,gridContainer:this.grid.container(),renderFooterButtons:!r.columnChooserHideOnClick,animationDuration:r.columnChooserAnimationDuration,modalDialogOpening:function(n,i){return t._columnChooserOpening(n,i)},modalDialogMoving:function(i,r){t._trigger(t.events.columnChooserMoving,null,{columnChooserElement:n(i.target),owner:t,originalPosition:r.originalPosition,position:r.position})},modalDialogClosing:function(){return t._trigger(t.events.columnChooserClosing,null,{columnChooserElement:i,owner:t})},modalDialogClosed:function(){t._trigger(t.events.columnChooserClosed,null,{columnChooserElement:i,owner:t})}}),r.columnChooserHideOnClick?(f=i[this.options.dialogWidget]("getCaptionButtonContainer"),n("<span><\/span>").addClass("ui-icon ui-icon-closethick").appendTo(n("<a><\/a>").appendTo(f).attr("title",this._getLocaleValue("columnChooserCloseButtonTooltip")).attr("href","#").attr("role","button").addClass("ui-dialog-titlebar-close ui-corner-all").bind("click.hiding",function(n){return i[t.options.dialogWidget]("closeModalDialog",!0),n.preventDefault(),n.stopPropagation(),!1}))):(u=this.grid._rootContainer().find("#"+this.grid.id()+"_hiding_modalDialog_footer_buttonok"),u.bind("igbuttonclick",function(n){t._columnChooserButtonOKClick(n),n.preventDefault()}))},_hidingFinished:function(){(this.options.virtualization!==!0||this.options.virtualizationMode!=="fixed")&&this.options.columnVirtualization!==!0&&this._renderHiddenColumnIndicators()},_virtualHorizontalScroll:function(){this._renderHiddenColumnIndicators(),this._renderHidingIcons()},_getIndicators:function(n,t){for(var u,f=this.grid.options.columns,o=f.length,i=0,e,r=0;r<o;r++)(u=f[r],e=u.fixed===!0,e===t)&&(u.hidden?this._getColumnSettingsByIndex(r).allowHiding&&(n[i]===undefined&&(n[i]=[]),n[i].push(u.key)):i++);return i},_renderHiddenColumnIndicators:function(){var r=this,t,s=0,i=[],u,f,e,h=this.grid.hasFixedColumns(),o=[];s=this._getIndicators(i,!1),h&&this._getIndicators(o,!0),u=this.grid.container().children("div[data-hiding-inddropdown='"+r.grid.id()+"']"),u.length&&setTimeout(function(){u.remove()},this.options.dropDownAnimationDuration*2+1),s===0?this.grid.headersTable().find("> thead > tr > th[data-hiddenreplacement=true]").each(function(){var t=r._renderHiddenColumnIndicator(!0,n(this));r._bindDropDownToIndicator(t.find("span"),i[0])}):(t=this.grid._isMultiColumnGrid?n(this.grid._headerCells):this.grid.headersTable().find("> thead > tr > th").not("[data-skip=true]"),h?this.grid._isMultiColumnGrid?(f=n(),e=n(),n.each(this.grid._headerCells,function(n,t){r.grid._isFixedElement(t)?f.push(t):e.push(t)}),this._renderHiddenColumnIndicatorsHelper(e,i,!1),this._renderHiddenColumnIndicatorsHelper(f,o,!0)):(this._renderHiddenColumnIndicatorsHelper(t,i,!1),t=this.grid.fixedHeadersTable().find("thead > tr > th").not("[data-skip=true]"),this._renderHiddenColumnIndicatorsHelper(t,o,!0)):this._renderHiddenColumnIndicatorsHelper(t,i))},_renderHiddenColumnIndicatorsHelper:function(t,i,r){var u=this;t.each(function(t){var e=n(this),o,f;f=u.grid.options.virtualization===!0&&u.grid.options.virtualizationMode==="fixed"||u.grid.options.columnVirtualization===!0?u.grid._startColIndex+t:t,u._clearHiddenColumnIndicator(!0,e),u._clearHiddenColumnIndicator(!1,e),i[f]!==undefined&&(o=u._renderHiddenColumnIndicator(!0,e),u._bindDropDownToIndicator(o.find("span"),i[f])),f===u.grid._visibleColumns(r).length-1&&i[f+1]!==undefined&&(o=u._renderHiddenColumnIndicator(!1,e),u._bindDropDownToIndicator(o.find("span"),i[f+1]))}),this.grid._fireInternalEvent("_hiddenColumnIndicatorsRendered",t)},_renderHiddenColumnIndicator:function(t,i){var r,u,e,o,s,h,f,c,l;return t?(r="padding-left",u="margin-left",o="left",s="<div data-hiddencolindicator='left' />",h="<span data-nonpaddedindicator='left'><\/span>",e="[data-nonpaddedindicator=left]"):(r="padding-right",u="margin-right",o="right",s="<div data-hiddencolindicator='right' />",h="<span data-nonpaddedindicator='right'><\/span>",e="[data-nonpaddedindicator=right]"),f=parseInt(i.css(r),10)+this.options.hiddenColumnIndicatorHeaderWidth,i.css(r,f+"px"),i.find(e).css(u,-f+"px"),c=n(s).attr({"data-hiddencolumn-indicator-container":!0,"data-localeid":"hiddenColumnIndicatorTooltipText","data-localeattr":"title",tabindex:this.grid.options.tabIndex,title:this._getLocaleValue("hiddenColumnIndicatorTooltipText")}).css("position","relative").css("width","100%").css("height","0px").css("top","0px").css("left","0px").prependTo(i),l=n(h).attr({"data-hiddencolumn-indicator":!0,"data-localeid":"hiddenColumnIndicatorTooltipText","data-localeattr":"title",title:this._getLocaleValue("hiddenColumnIndicatorTooltipText"),"data-skip-event":"true"}).css("position","absolute").css(u,-f+"px").css(o,"0px").css("width",this.options.hiddenColumnIndicatorHeaderWidth+"px").addClass(this.css.hiddenColumnIndicator).appendTo(c),n.ig.util.isIE7&&l.css({top:-parseInt(i.css("padding-top"),10),height:i.innerHeight()}),c},_clearHiddenColumnIndicator:function(n,t){var i,f,r,u;n?(i="padding-left",r="div[data-hiddencolindicator=left]"):(i="padding-right",r="div[data-hiddencolindicator=right]"),u=t.find(r),u.length!==0&&(u.remove(),f=parseInt(t.css(i),10),t.css(i,f-this.options.hiddenColumnIndicatorHeaderWidth+"px"))},_onBlurDDElement:function(n,t,i){var r=this;r._activeDD=null,clearTimeout(r._blurTimeout),r._blurTimeout=setTimeout(function(){r._activeDD&&r._activeDD===i||r._toggleDropDown(t,i,!0)},1)},_onFocusDDElement:function(n,t,i){this._activeDD=i},_bindDropDownToIndicator:function(t,i){var r=this,f=t.closest("[data-hiddencolindicator]"),u=this._renderDropDown(t,i);u.find("ul,[tabindex],a").bind({blur:function(n){r._onBlurDDElement(n,t,u)},focus:function(n){r._onFocusDDElement(n,t,u)}}),u.bind({keydown:function(i){var e,s=i.keyCode,o=n(i.target);switch(s){case n.ui.keyCode.ESCAPE:r._toggleDropDown(t,u,!0),f.focus();break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:o.is("li")&&(o.mousedown(),i.preventDefault());break;case n.ui.keyCode.TAB:e=o,e.is("li")||(e=o.closest("li")),i.shiftKey?e.is(":first-child")&&(e.closest("ul").find("li:last-child").focus(),i.preventDefault()):e.is(":last-child")&&(e.closest("ul").find("li:first-child").focus(),i.preventDefault())}}}),f.bind({keydown:function(i){(i.keyCode===n.ui.keyCode.ENTER||i.keyCode===n.ui.keyCode.SPACE)&&(r._toggleDropDown(t,u,!1),i.preventDefault(),i.stopPropagation())}}),t.parent().bind({mousedown:function(n){r._toggleDropDown(t,u,!1),n.preventDefault(),n.stopPropagation()},mouseover:function(){t.attr("data-indicator-selected")!=="true"&&t.addClass(r.css.hiddenColumnIndicatorMouseOver)},mouseout:function(){t.removeClass(r.css.hiddenColumnIndicatorMouseOver)},mouseup:function(n){n.preventDefault(),n.stopPropagation()},click:function(n){n.preventDefault(),n.stopPropagation()}})},_renderDropDown:function(t,i){var r=this,u,f;return u=n("<div data-hiding-inddropdown='"+this.grid.id()+"'><\/div>").css("position","absolute").css("display","none").addClass(this.css.hiddenColumnsDropDown).appendTo(this.grid._rootContainer()),f=n("<ul tabindex='0'><\/ul>").addClass(this.css.hiddenColumnsDropDownList).appendTo(u),n.each(i,function(i,e){n("<li tabindex='0'><\/li>").addClass(r.css.hiddenColumnsDropDownItem).bind({mouseover:function(t){n(t.currentTarget).addClass(r.css.hiddenColumnsDropDownItemHover)},mouseout:function(t){n(t.currentTarget).removeClass(r.css.hiddenColumnsDropDownItemHover)},mousedown:function(n){r._closeColumnChooser(n),r._showColumnFromUI(e),r._toggleDropDown(t,u,!0)}}).append(n("<span><\/span>").addClass(r.css.hiddenColumnsDropDownItemText).html(r.grid.columnByKey(e).headerText)).appendTo(f)}),n("<a tabindex='0' data-button-show-column-chooser><\/a>").appendTo(n("<li><\/li>").appendTo(f)).igButton({labelText:this._getLocaleValue("columnChooserDisplayText"),mousedown:function(i){i.target&&setTimeout(function(){n(i.target).removeClass("ui-state-active")},0),r._openColumnChooser(!0),r._toggleDropDown(t,u,!0)},keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(n(t.target).mousedown(),t.preventDefault())}}),u},_toggleDropDown:function(t,i,r){var u,o,s,f,e,h=this,c=i.is(":visible")===!0;i.data("isAnimating")!==!0&&(c!==!1||r!==!0)&&(c||(u=t.closest("th"),s=t.closest("div").attr("data-hiddencolindicator")==="right",f=n.ig.util.offset(u),e=s?f.left+u.outerWidth()-i.outerWidth():u.closest("div").outerWidth()-u.igPosition().left<i.outerWidth()?t.outerWidth()+f.left-i.outerWidth():f.left,e=Math.max(0,e),o=n.ig.util.getRelativeOffset(i),i.css("top",f.top+u.outerHeight()-o.top),i.css("left",e-o.left)),i.data("isAnimating",!0),i.toggle(this.options.dropDownAnimationDuration,function(){i.is(":visible")===!0?(i.find("ul").focus(),t.addClass(h.css.hiddenColumnIndicatorSelected),t.attr("data-indicator-selected","true")):(t.removeClass(h.css.hiddenColumnIndicatorSelected),t.removeAttr("data-indicator-selected")),i.data("isAnimating",!1)}))},_openColumnChooser:function(){this._getModalDialog()[this.options.dialogWidget]("openModalDialog")},_closeColumnChooser:function(n){this._getModalDialog()[this.options.dialogWidget]("closeModalDialog",null,n||null)},_columnChooserMove:function(n,t){this._trigger(this.events.columnChooserMoving,null,{columnChooserElement:n.target,owner:this,originalPosition:t.originalPosition,position:t.position})},_getColumnSettings:function(n,t){for(var r,i=0;i<this.options.columnSettings.length;i++){if(this.options.columnSettings[i].columnKey===t)return this._mergeColumnSettingsDefaults(this.options.columnSettings[i]);this.options.columnSettings[i].columnIndex===n&&(r=this.options.columnSettings[i])}return this._mergeColumnSettingsDefaults(r)},_getColumnSettingsByIndex:function(n){var t=this.grid.options.columns[n].key;return this._getColumnSettings(n,t)},_getColumnSettingsByKey:function(n){for(var t=0;t<this.grid.options.columns.length;t++)if(this.grid.options.columns[t].key===n)return this._getColumnSettings(t,n)},_mergeColumnSettingsDefaults:function(t){var r={allowHiding:!0,hidden:!1},u=n.extend({},t),i;for(i in r)r.hasOwnProperty(i)&&typeof u[i]!="boolean"&&(u[i]=r[i]);return u},_columnsMoved:function(){var t=this;this.grid.headersTable().find("> thead > tr > th").not("[data-skip=true]").each(function(){var i=n(this);t._clearHiddenColumnIndicator(!0,i),t._clearHiddenColumnIndicator(!1,i)}),this._renderHiddenColumnIndicators()},_detachEvents:function(){this._headerCellRenderedHandler!==null&&this._headerCellRenderedHandler!==undefined&&this.grid.element.unbind("iggridheadercellrendered",this._headerCellRenderedHandler),this._headerRenderedHandler!==null&&this._headerRenderedHandler!==undefined&&this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this._virtualHorizontalScrollHandler!==null&&this._virtualHorizontalScrollHandler!==undefined&&this.grid.element.unbind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),this._columnsMovedHandler!==null&&this._columnsMovedHandler!==undefined&&this.grid.element.unbind("iggrid_columnsmoved",this._columnsMovedHandler)},_injectGrid:function(t){var e,u,r,i,f;if(this.grid=t,this._detachEvents(),this._headerRenderedHandler=n.proxy(this._headerRendered,this),this._headerCellRenderedHandler=n.proxy(this._headerCellRendered,this),this._virtualHorizontalScrollHandler=n.proxy(this._virtualHorizontalScroll,this),this._columnsMovedHandler=n.proxy(this._columnsMoved,this),this.grid.element.bind("iggridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.bind("iggridheaderrendered",this._headerRenderedHandler),this.grid.element.bind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),this.grid.element.bind("iggrid_columnsmoved",this._columnsMovedHandler),this.grid.element.igGridFeatureChooser!==undefined)this.grid.element.igGridFeatureChooser();else throw new Error(this._getLocaleValue("featureChooserNotReferenced"));for(e=0;e<this.options.columnSettings.length;e++)if(r=this.options.columnSettings[e],typeof r.hidden=="boolean")if(typeof r.columnKey=="string"?i=this.grid.columnByKey(r.columnKey):typeof r.columnIndex=="number"&&(i=this.grid.options.columns[r.columnIndex]),i!==undefined&&i!==null)(i.hidden===undefined||r.hidden===!0&&i.hidden!==i._initiallyHidden&&i._initiallyHidden!==!0)&&(i.hidden=r.hidden);else if(this.grid._isMultiColumnGrid===!0&&r.columnKey!==null&&r.columnKey!==undefined&&(i=this.grid._getMultiHeaderColumnById(r.columnKey),i!==undefined&&i!==null&&i.children))for(f=i.children,u=0;u<f.length;u++)(f[u].hidden===undefined||r.hidden===!0&&f[u].hidden!==f[u]._initiallyHidden&&f[u]._initiallyHidden!==!0)&&(f[u].hidden=r.hidden)}}),n.extend(n.ui.igGridHiding,{version:"19.2.25"})}(n),function(n){n.widget("ui.igHierarchicalGrid",n.ui.igWidget,{css:{expandColumn:"ui-iggrid-expandcolumn",expandColumnExpanded:"ui-iggrid-expandcolumn-expanded",expandButton:"ui-iggrid-expandbutton ui-icon-plus",expandButtonHover:"ui-iggrid-expandbuttonhover ui-icon-plus ui-state-hover",expandButtonExpandedHover:"ui-iggrid-expandbuttonexpandedhover ui-icon-plus ui-state-hover",expandButtonExpanded:"ui-iggrid-expandbutton ui-iggrid-expandbuttonexpanded ui-icon-minus",expandButtonClick:"ui-iggrid-expandbuttonclick ui-icon-plus",childGridArea:"ui-iggrid-childarea",childGridAreaCollapsed:"ui-iggrid-childarea-collapsed",expandHeaderCell:"ui-iggrid-expandheadercell ui-iggrid-header ui-widget-header",expandHeaderCellTriangle:"ui-icon ui-icon-triangle-1-se",root:"ui-iggrid-root",childGridSeparator:"ui-iggrid-childgridseparator"},options:{initialDataBindDepth:-1,initialExpandDepth:-1,odata:!1,rest:!1,maxDataBindDepth:-1,defaultChildrenDataProperty:"children",autoGenerateLayouts:!1,expandCollapseAnimations:!0,expandColWidth:30,pathSeparator:"/",animationDuration:500,expandTooltip:undefined,collapseTooltip:undefined,locale:{expandTooltip:undefined,collapseTooltip:undefined},columnLayouts:[{key:null,primaryKey:null,foreignKey:null}],width:null,height:null,autoAdjustHeight:!0,avgRowHeight:25,avgColumnWidth:null,defaultColumnWidth:null,autoGenerateColumns:!0,virtualization:!1,virtualizationMode:"fixed",rowVirtualization:!1,columnVirtualization:!1,virtualizationMouseWheelStep:null,adjustVirtualHeights:!1,templatingEngine:"infragistics",columns:[{headerText:null,key:null,formatter:null,format:null,dataType:"string",width:null,hidden:!1,template:null,unbound:!1,groupOptions:{expanded:!0,allowGroupCollapsing:!1,hidden:"never"},group:[],dateDisplayType:"local",rowspan:0,formula:null,unboundValues:null,headerCssClass:null,columnCssClass:null,mapper:null,rowIndex:null,columnIndex:null,navigationIndex:null,colSpan:1,rowSpan:1}],dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseTotalRecCountKey:null,requestType:"GET",responseContentType:"application/json; charset=utf-8",showHeader:!0,showFooter:!0,fixedHeaders:!0,fixedFooters:!0,caption:null,features:[{name:null}],tabIndex:0,localSchemaTransform:!0,primaryKey:null,serializeTransactionLog:!0,autoCommit:!1,aggregateTransactions:!1,autoFormat:"date",renderCheckboxes:!1,updateUrl:null,restSettings:{create:{url:null,template:null,batch:!1},update:{url:null,template:null,batch:!1},remove:{url:null,template:null,batch:!1},encodeRemoveInRequestUri:!0,contentSerializer:null,contentType:"application/json; charset=utf-8"},alternateRowStyles:!0,autofitLastColumn:!0,enableHoverStyles:!0,enableUTCDates:!1,mergeUnboundColumns:!1,jsonpRequest:!1,enableResizeContainerCheck:!0,featureChooserIconDisplay:"desktopOnly",scrollSettings:{scrollTop:0,scrollLeft:0,wheelStep:50,smoothing:!1,smoothingStep:1,smoothingDuration:1,inertiaStep:1,inertiaDuration:1}},events:{rowExpanding:"rowExpanding",rowExpanded:"rowExpanded",rowCollapsing:"rowCollapsing",rowCollapsed:"rowCollapsed",childrenPopulating:"childrenPopulating",childrenPopulated:"childrenPopulated",childGridRendered:"childGridRendered",childGridCreating:"igchildgridcreating",childGridCreated:"igchildgridcreated",cellClick:"cellClick",cellRightClick:"cellRightClick",dataBinding:"dataBinding",dataBound:"dataBound",rendering:"rendering",rendered:"rendered",dataRendering:"dataRendering",dataRendered:"dataRendered",headerRendering:"headerRendering",headerRendered:"headerRendered",captionRendering:"captionRendering",captionRendered:"captionRendered",footerRendering:"footerRendering",footerRendered:"footerRendered",headerCellRendered:"headerCellRendered",rowsRendering:"rowsRendering",rowsRendered:"rowsRendered",schemaGenerated:"schemaGenerated",columnsCollectionModified:"columnsCollectionModified",requestError:"requestError",created:"igcontrolcreated",destroyed:"igcontroldestroyed"},_changeLanguage:function(t){var i=this.rootWidget();i&&(i._setOption("language",t),this.allChildren().each(function(){n(this).igGrid("option","language",t)}))},changeLocale:function(){var i=this,t=this.rootWidget();t&&t.container().find("[data-toggle-button]").each(function(){i._changeLocaleForElement(n(this))})},changeRegional:function(){var t=this.rootWidget(),i=this.options.regional;t&&(t._setOption("regional",i),this.allChildren().each(function(){n(this).igGrid("option","regional",i)}))},_setOption:function(n,t){var i=this.rootWidget();switch(n){case"dataSource":this.options.dataSource=t,this.dataBind();break;case"initialDataBindDepth":case"initialExpandDepth":case"expandColWidth":throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",n));case"odata":case"defaultChildrenDataProperty":case"autoGenerateLayouts":case"expandCollapseAnimations":case"animationDuration":this._superApply(arguments);break;case"regional":this._superApply(arguments);break;case"locale":i._setOption(n,t),this._superApply(arguments);break;case"language":this.options.language!==t&&(this._superApply(arguments),this._changeLanguage(t));break;default:i&&i._setOption(n,t)}},_create:function(){this._regevents(this.element,this),n.ui.igGrid.prototype.options.columns=[],n.ui.igGrid.prototype.options.features=[],this.options=n.extend(!0,{},n.ui.igGrid.prototype.options,this.options),this.tmpDataSource!==null&&this.tmpDataSource!==undefined&&(this.options.dataSource=this.tmpDataSource,this._originalOptions.dataSource=this.tmpDataSource),(this.options.virtualization===!0||this.options.rowVirtualization===!0)&&(this.options.virtualizationMode="continuous"),this._eventQueue=[],this._animationQueue=[],this._firstBind=!0,this.dataBind(),this.rootWidget()._isMultiColumnGrid=this._checkIsMultiColumnHeader(this.options)},_createWidget:function(t){this.options.columns=[],this.options.features=[],this.options.columnLayouts=[],t.dataSource&&(n.type(t.dataSource)==="array"||n.type(t.dataSource)==="object")&&(this.tmpDataSource=t.dataSource,t.dataSource=null,this._originalOptions=t),this._superApply(arguments)},dataBind:function(){var r,i,u,t;this.options.autoGenerateLayouts&&this._generateLayouts(),i=this._hdsoptions(),r=new n.ig.HierarchicalDataSource(i),this._hds=r,u=this._hds.root(),this._tmpds=this.options.dataSource,this.options.dataSource=null,t=n.extend(!0,{},this.options),this.options.dataSource=this._tmpds,this._tmpds=null,t.dataSource=u,n.type(i.dataSource)==="string"&&(t.dataSourceUrl=i.dataSource),this._columnsGeneratedHandler?this.element.unbind("iggridcolumnsgenerated.hierarchicalgrid",this._columnsGeneratedHandler):this._columnsGeneratedHandler=n.proxy(this._columnsGenerated,this),this.element.bind("iggridcolumnsgenerated.hierarchicalgrid",this._columnsGeneratedHandler),this.options.autoGenerateLayouts===!0&&(this._databoundHandler?this.element.unbind("iggridcolumnsgenerated.hierarchicalgrid",this._databoundHandler):this._databoundHandler=n.proxy(this._layouts,this),this.element.bind("iggriddatarendering.hierarchicalgrid",this._databoundHandler)),this.element.addClass(this.css.root),this.element.attr("data-level",0),t._isHierarchicalGrid=!0,this._root?this._root.igGrid("option","dataSource",t.dataSource):(this.options.autoGenerateLayouts===!0&&(t._recurseSchema=!0),this._root=this.element,this.element.igGrid(t),this.options.dataSourceUrl!==null&&this._firstBind&&(this.options.dataSource=this.options.dataSourceUrl,this._firstBind=!1)),this.indicator=this.rootWidget().container().data("igLoading")?this.rootWidget().container().data("igLoading").indicator():this.rootWidget().container().igLoading().data("igLoading").indicator(),this._regToggleEvent(this.element,this)},_generateLayouts:function(){var r,i,t=this.options.dataSource;if((n.type(t)==="array"||n.type(t)==="object")&&t.length!==0)for(n.type(t)==="object"&&this.options.responseDataKey&&(t=t[this.options.responseDataKey]||t),i=0;i<t.length;i++)r=t[i],this._generateLayout(r,this.options)},_generateLayout:function(t,i){var r,f,o,e,u,s=!1;for(r in t)if(t.hasOwnProperty(r)&&(n.type(t[r])==="array"||n.type(t[r])==="object"&&i.responseDataKey&&n.type(t[r][i.responseDataKey])==="array")){if(u=t[r],i.responseDataKey&&n.type(u)==="object")if(u[i.responseDataKey]&&n.type(u[i.responseDataKey])==="array")u=u[i.responseDataKey],s=!0;else continue;if(f={key:r,childrenDataProperty:r,columnLayouts:[]},s&&(f.responseDataKey=i.responseDataKey),o=this._layoutExistsRecursive(this.options,r),o?f=o:((i.columnLayouts===undefined||i.columnLayouts===null)&&(i.columnLayouts=[]),i.columnLayouts.push(f)),u.length>0)for(e=0;e<u.length;e++)this._generateLayout(u[e],f)}},_layoutExistsRecursive:function(n,t){var r,i=null;if(i=n.key===t?n:i,!i)for(r=0;n.columnLayouts&&r<n.columnLayouts.length;r++)if(i=this._layoutExistsRecursive(n.columnLayouts[r],t),i)break;return i},root:function(){return this._root},rootWidget:function(){return this.root().data("igGrid")},allChildrenWidgets:function(){return this.root().find(".ui-iggrid-table").map(function(){return n(this).data("igGrid")})},allChildren:function(){return this.root().find("table[data-childgrid='true']")},toggle:function(t,i){this._toggleInternal({target:n(t).find(".ui-iggrid-expandcolumn")},!0,i)},expand:function(t,i){this.populated(t)?this._expand(t,!0,i):this._toggleInternal({target:n(t).find(".ui-iggrid-expandcolumn")},!0,i)},_expand:function(t,i,r){var u=n(t),o,s=!0,f,e;if(!this.expanded(u)&&(i||(s=this._trigger(this.events.rowExpanding,null,{owner:this,parentrow:u})),!this.expanded(u))&&(e=this._rootgrid||this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid"),s)){if(this.options.expandCollapseAnimations){if(e._animationQueue[u.attr("data-id")+"_"+u.index()]===!0)return;e._animationQueue[u.attr("data-id")+"_"+u.index()]=!0}o=u.find(".ui-iggrid-expandcolumn"),u.next().css("display","").css("visibility","visible"),this.options.expandCollapseAnimations?(f=i?this._expandendnoevents:this._expandend,u.next().find("> td > div").slideDown(this.options.animationDuration,function(n){f.apply(this,[n,r])})):(u.next().find("> td > div").show(),o.addClass(this.css.expandColumnExpanded).find(".ui-iggrid-expandbutton").removeClass(this.css.expandButton).addClass(this.css.expandButtonExpanded).attr({title:this._getLocaleValue("collapseTooltip"),"data-localeid":"collapseTooltip","data-localeattr":"title"})),u.attr("state","e"),u.attr("aria-expanded",!0),u.next().children().first().removeClass(this.css.childGridAreaCollapsed).addClass(this.css.childGridArea),this.options.expandCollapseAnimations||(this._rowExpanded({owner:this,parentrow:u}),i?r&&n.ig.util.invokeCallback(r,[this,u]):this._trigger(this.events.rowExpanded,null,{owner:this,parentrow:u}))}},expanded:function(t){var i=t.length!==undefined?t:n(t);return i===null||i===undefined?!1:i.attr("state")!=="e"||i.attr("state")===undefined?!1:!0},_expandendnoevents:function(t,i){var f,o,r,e=t?n(t):n(this),u=e.closest("tr[data-container]").prev();r=this._rootgrid||e.closest(".ui-iggrid-root").data("igHierarchicalGrid"),f=e.closest("[data-container=true]").prev().find(".ui-iggrid-expandcolumn"),o=f.find(".ui-iggrid-expandbutton"),f.addClass(r.css.expandColumnExpanded),o.removeClass(r.css.expandButton).addClass(r.css.expandButtonExpanded).attr({title:r._getLocaleValue("collapseTooltip"),"data-localeid":"collapseTooltip","data-localeattr":"title"}),r._rowExpanded({owner:r,parentrow:u}),r._animationQueue[u.attr("data-id")+"_"+u.index()]===!0&&delete r._animationQueue[u.attr("data-id")+"_"+u.index()],i&&n.ig.util.invokeCallback(i,[r,u])},_expandend:function(){var i=n(this),t,r=i.closest("tr[data-container]").prev(),u=r.closest(".ui-iggrid-table").data("igGrid");t=this._rootgrid||i.closest(".ui-iggrid-root").data("igHierarchicalGrid"),t._expandendnoevents(this),u._adjustLastColumnWidth(!1),t._trigger(t.events.rowExpanded,null,{owner:t,parentrow:r})},_collapseendnoevents:function(t,i){var e,o,r,f=t?n(t):n(this),s=f.closest(".ui-iggrid-childarea"),u=f.closest("tr[data-container]").prev();r=this._rootgrid||f.closest(".ui-iggrid-root").data("igHierarchicalGrid"),s.removeClass(r.css.childGridArea).addClass(r.css.childGridAreaCollapsed),s.closest("tr").css("display","none").css("visibility","hidden"),e=f.closest("[data-container=true]").prev().find(".ui-iggrid-expandcolumn"),o=e.find(".ui-iggrid-expandbutton"),e.removeClass(r.css.expandColumnExpanded),o.removeClass(r.css.expandButtonExpanded).addClass(r.css.expandButton).attr({title:r._getLocaleValue("expandTooltip"),"data-localeid":"expandTooltip","data-localeattr":"title"}),r._animationQueue[u.attr("data-id")+"_"+u.index()]===!0&&delete r._animationQueue[u.attr("data-id")+"_"+u.index()],i&&n.ig.util.invokeCallback(i,[r,u])},_collapseend:function(){var i=n(this),t,r=i.closest("tr[data-container]").prev(),u=r.closest(".ui-iggrid-table").data("igGrid");t=this._rootgrid||i.closest(".ui-iggrid-root").data("igHierarchicalGrid"),t._collapseendnoevents(this),u._adjustLastColumnWidth(!1),t._trigger(t.events.rowCollapsed,null,{owner:t,parentrow:r})},collapse:function(n,t){this._collapse(n,!0,t)},_collapse:function(t,i,r){var u=n(t),o,s=!0,f,e;if(!this.collapsed(u)&&(i||(s=this._trigger(this.events.rowCollapsing,null,{owner:this,parentrow:u})),e=this._rootgrid||this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid"),s)){if(this.options.expandCollapseAnimations){if(e._animationQueue[u.attr("data-id")+"_"+u.index()]===!0)return;e._animationQueue[u.attr("data-id")+"_"+u.index()]=!0}o=u.find(".ui-iggrid-expandcolumn"),this.options.expandCollapseAnimations?(f=i?this._collapseendnoevents:this._collapseend,this._rowCollapsed({owner:this,parentrow:u}),u.next().find("> td > div").slideUp(this.options.animationDuration,function(n){f.apply(this,[n,r])})):(this._rowCollapsed({owner:this,parentrow:u}),u.next().find("> td > div").hide(),u.next().children().first().removeClass(this.css.childGridArea).addClass(this.css.childGridAreaCollapsed),u.next().css("display","none").css("visibility","hidden"),o.find(".ui-iggrid-expandbutton").removeClass(this.css.expandButtonExpanded).addClass(this.css.expandButton).attr({title:this._getLocaleValue("expandTooltip"),"data-localeid":"expandTooltip","data-localeattr":"title"}),i?r&&n.ig.util.invokeCallback(r,[this,u]):this._trigger(this.events.rowCollapsed,null,{owner:this,parentrow:u})),u.attr("state","c"),u.attr("aria-expanded",!1)}},collapsed:function(t){var i=t.length!==undefined?t:n(t);return i===null||i===undefined?!0:i.attr("state")==="c"||i.attr("state")===undefined?!0:!1},populated:function(t){var i=t.length!==undefined?t:n(t);return i===null||i===undefined?!1:i.attr("c")==="true"?!0:!1},_mouseOver:function(t){n(t.target).addClass(this.css.expandButtonHover)},_mouseOut:function(t){n(t.target).removeClass(this.css.expandButtonHover).addClass(this.css.expandButton)},_toggleInternalWithDelay:function(n){var t=this;setTimeout(function(){t._toggleInternal(n)},0),n.stopImmediatePropagation()},_toggleInternal:function(t,i,r){var e=n(t.target).closest("tr").attr("c"),o=n(t.target).closest("tr"),s=o.find(".ui-iggrid-expandcolumn"),u=this,f,h=this.options.virtualization===!0?50:0;f=n(t.target).hasClass("ui-iggrid-expandbutton")||n(t.target).children(".ui-iggrid-expandbutton").length>0,!e&&this.options.initialDataBindDepth===-1&&f?(this.indicator.refreshPos(),n.ig.util.isWebKit?this.indicator.show(!1):(s.find(".ui-iggrid-expandbutton").css("visibility","hidden"),this.indicator.show(!1)),setTimeout(function(){u._toggleInternalAsync(t,i,r)},h)):u._toggleInternalAsync(t,i,r),i||(t.originalEvent&&typeof t.originalEvent.cancelBubble=="unknown"&&(t.originalEvent={}),t.stopImmediatePropagation())},_toggleInternalAsync:function(t,i,r){var ut=n(t.target),e=ut.closest("tr"),s="",v="",h="",p,wt=-1,ct=!1,ft,l,ii=e.attr("c"),lt,o=[],c,f=[],d,at,w,et,a,bt,k,kt,g,u,nt,tt,dt=0,b,it=e.attr("state"),ot,gt=!0,y=!0,vt,ni,st,rt,yt,ti,pt,ht=[];if((!ut.is("td")||ut.attr("data-parent")==="true")&&ut.closest("td").attr("data-parent")==="true"){if(it===undefined&&(it="c"),ft=this.options.restSettings.update.url!==null||this.options.restSettings.update.template!==null||this.options.restSettings.create.url!==null||this.options.restSettings.create.template!==null||this.options.restSettings.remove.url!==null||this.options.restSettings.remove.template!==null,ii||it!=="c")it==="e"?this._collapse(e,i,r):it==="c"&&this._expand(e,i,r);else{for(e.after("<tr><\/tr>"),lt=e.next(),lt.attr("data-container",!0),g=e.closest("table").data("igGrid").options,f=this._optsFor(g),p=e.closest(".ui-iggrid-table"),v+=p.attr("data-path")||"",s+=p.attr("data-ids")||"",at=e.closest("table").data("igGrid").options.primaryKey,s===""?s=at+":"+e.attr("data-id"):s+=this.options.pathSeparator+at+":"+e.attr("data-id"),kt=e.find("td,th").length,ot=n("<div><\/div>").appendTo(n("<td><\/td>").appendTo(lt).addClass(this.css.childGridArea).attr("colspan",kt)),u=0;u<f.length;u++)if(h="",o.push(n("<table><\/table>").appendTo(ot).attr("data-childgrid",!0)),bt=f[u].key!==undefined?f[u].key:f[u].childrenDataProperty,o[u].attr("id",this.root()[0].id+"_"+e.attr("data-id")+"_"+bt+"_child"),dt=parseInt(e.closest("table").attr("data-level"),10),o[u].attr("id",o[u].attr("id").replace(",","-")).attr("data-level",dt+1),h=v===""?f[u].childrenDataProperty===undefined?f[u].key:f[u].childrenDataProperty:this.options.pathSeparator+(f[u].childrenDataProperty===undefined?f[u].key:f[u].childrenDataProperty),l=this._hds.dataAt(s,v+h),l===null||l===undefined?l=[]:n.type(l)==="array"||f[u].responseDataKey||l===undefined||(l=[l]),w=!1,f[u].columnLayouts&&f[u].columnLayouts.length>0&&(w=!0),w&&this._regevents(o[u],this),wt=s.split(this.options.pathSeparator).length,wt>this.options.initialDataBindDepth&&this.options.initialDataBindDepth!==-1&&(ct=!0),c=this._hdsoptions().dataSource,st={owner:this,options:f[u],element:o[u],id:s,path:v+h},ct)if(ni=c&&typeof c._xmlToArray=="function"&&typeof c._encodePkParams=="function",this.options.odata)f[u].dataSource=this._getOdataChildUrl(e,h,f[u]),ft===!0&&this._inheritRestSettings(null,e.attr("data-id"),h.toLowerCase(),g,f[u]);else if(this.options.rest===!0){if(c.substr(c.length-1)!=="/"&&(c+="/"),rt=h,rt.substr(0,1)!=="/"&&(rt="/"+rt),p.attr("data-path")!==undefined&&p.attr("data-ids")!==undefined)for(yt=p.attr("data-path").split(this.options.pathSeparator),ti=p.attr("data-ids").split(this.options.pathSeparator),nt=0;nt<yt.length;nt++)c+=ti[nt].split(":")[1]+"/"+yt[nt]+"/";vt=e.attr("data-id"),f[u].dataSource=c+vt+rt.toLowerCase(),ft===!0&&this._inheritRestSettings(f[u].dataSource,vt,h.toLowerCase(),g,f[u])}else ni?f[u].dataSource=c.settings.dataSource+this._hds._encodeUrlPath(s,f[u].key):(f[u].dataSource?(f[u].dataSource=n.ig.util.appendToQueryString(f[u].dataSource,this._hds._encodeUrlPath(s,f[u].key)),f[u].dataSourceType="remoteUrl"):n.type(c)!=="string"?n.type(f[u].dataSource)==="string"?(f[u].dataSource=n.ig.util.appendToQueryString(f[u].dataSource,this._hds._encodeUrlPath(s,f[u].key)),f[u].dataSourceType="remoteUrl"):n.type(l)==="array"&&(f[u].dataSource=l):f[u].dataSource=n.ig.util.appendToQueryString(c,this._hds._encodeUrlPath(s,f[u].key)),n.type(f[u].dataSource)==="string"&&(f[u].dataSourceUrl=f[u].dataSource));else if(f[u].dataSource=l,n.type(c)!=="string"||this.options.rest===!0||f[u].dataSourceUrl||(f[u].dataSourceUrl=c),f[u].dataSourceUrl&&n.type(f[u].dataSourceUrl)==="string"&&(f[u].dataSourceUrl=this.options.odata?this._getOdataChildUrl(e,h,f[u]):n.ig.util.appendToQueryString(f[u].dataSourceUrl,this._hds._encodeUrlPath(s,f[u].key))),this.options.autoGenerateLayouts===!0&&(f[u]._recurseSchema=!0),y=n.event.trigger(this.events.childGridCreating,st,o[u][0]),y=o[u].attr("data-create")!=="false"&&y!==!1,y&&((this.options.rest||this.options.odata)&&ft===!0&&this._inheritRestSettings(null,e.attr("data-id"),h.toLowerCase(),g,f[u]),w&&(f[u]._isHierarchicalGrid=!0),f[u].layoutPath=v+h,k=e.closest(".ui-iggrid-table").data("igGrid"),f[u].foreignKeyValue=k?k._fixPKValue(e.data("id")):e.data("id"),tt=n.proxy(this._childRendered,this),o[u].bind("iggridrendered.hierarchicalgrid",tt),o[u].igGrid(f[u]),o[u].attr("data-path",v+h),o[u].attr("data-ids",s),f[u].dataSourceUrl&&n.type(f[u].dataSourceUrl)==="string"&&this.options.odata&&(pt=o[u].data("igGrid"),pt.options.responseDataKey=this.options.responseDataKey,pt.dataSource.schema().schema.searchField=this.options.responseDataKey),w&&this._regToggleEvent(o[u],this),o[u].trigger(this.events.childGridCreated,{owner:this,element:o[u]}),ht.push(o[u])),f[u].primaryKey===null||f[u].primaryKey===undefined){if(f[u].dataSource&&typeof f[u].dataSource._xmlToArray=="function"&&typeof f[u].dataSource._encodePkParams=="function")throw new Error(this._getLocaleValue("noPrimaryKey"));if(b=o[u].data("igGrid"),et=b.dataSource.schema().schema.searchField,et!==null)for(a=0;a<f[u].dataSource[et].length;a++)f[u].dataSource[et][a].ig_pk=b.dataSource.data()[a].ig_pk;else for(a=0;a<f[u].dataSource.length;a++)f[u].dataSource[a]&&(f[u].dataSource[a].ig_pk=b.dataSource.data()[a].ig_pk)}if(ct&&(gt=this._trigger(this.events.childrenPopulating,null,{owner:this,parentrow:e,id:s}),gt))for(u=0;u<f.length;u++)d=e.attr("data-id"),this._eventQueue["id"+d]&&this._eventQueue["id"+d].length||(this._eventQueue["id"+d]=[]),tt=n.proxy(this._childRendered,this),this._eventQueue["id"+d].push({grid:o[u],handler:tt,parentrow:e,id:s}),o[u].bind("iggridrendered",tt),this.options.autoGenerateLayouts===!0&&(f[u]._recurseSchema=!0),w&&(f[u]._isHierarchicalGrid=!0),k=e.closest(".ui-iggrid-table").data("igGrid"),f[u].foreignKeyValue=k?k._fixPKValue(e.data("id")):e.data("id"),st={owner:this,options:f[u],element:o[u],id:s,path:v+h},y=n.event.trigger(this.events.childGridCreating,st,o[u][0]),y=o[u].attr("data-create")!=="false"&&y!==!1,y&&(o[u].igGrid(f[u]),o[u].attr("data-path",v+h),o[u].attr("data-ids",s),o[u].trigger(this.events.childGridCreated,{owner:this,element:o[u]}),ht.push(o[u]),w&&this._regToggleEvent(o[u],this));ot.attr("id","ac_"+e.attr("data-id")),e.attr("c",!0),e.next().hide(),ot.hide(),this._expand(e,i,r)}for(this.indicator&&this.indicator.hide(),e.find(".ui-iggrid-expandbutton").css("visibility","visible"),u=1;u<ht.length;u++)b=ht[u].data("igGrid"),b&&n("<div><\/div>").insertBefore(b.container()).addClass(this.css.childGridSeparator)}},_getOdataChildUrl:function(t,i,r){var s=t.closest("table").data("igGrid").options,l=this._hdsoptions().dataSource,y=l&&typeof l._xmlToArray=="function"&&typeof l._encodePkParams=="function",e=y?l.settings.dataSource:l,u=s.dataSource&&typeof s.dataSource._xmlToArray=="function"&&typeof s.dataSource._encodePkParams=="function"?s.dataSource.settings.dataSource:s.dataSource,o=t.closest("table").data("igGrid").dataSource.data(),h=t.attr("data-id"),p=s.primaryKey,f,a,v,c;for(t.closest("table").data("igGrid").columnByKey(p).dataType==="number"&&(h=parseInt(h,10)),v=typeof h=="string"?"'"+h+"'":h,a=0;a<o.length;a++)if(o[a][t.closest("table").data("igGrid").options.primaryKey]===h){o=o[a][r.key];break}return o?o.__deferred&&o.__deferred.uri?(f=o.__deferred.uri,e.indexOf("$callback=?")!==-1&&(f=n.ig.util.appendToQueryString(e,"$callback=?")),e.indexOf("$format=")!==-1&&f.indexOf("$format=json")===-1&&(f=e.indexOf("$format=json")!==-1?n.ig.util.appendToQueryString(f,"$format=json"):n.ig.util.appendToQueryString(f,"$format=atom"))):f=n.ig.util.prependToQueryString(r.dataSourceUrl,"("+v+")/"+i):(u.substr(u.length-1)==="/"&&(u=u.substring(0,u.length-1)),c=i,c.charAt(0)!=="/"&&(c="/"+c),n.type(e)==="string"&&e!==u&&(u=e.substring(0,e.lastIndexOf("/"))+u.substring(u.lastIndexOf("/"))),f=u.indexOf("?")!==-1?n.ig.util.prependToQueryString(u,"("+v+")"+c):u+"("+v+")"+c),f},_layouts:function(){this.element.unbind("iggriddatarendering",this._databoundHandler)},_columnsGenerated:function(n,t){var r=t.key,i;r&&((i=this._findLayout(this.rootWidget().options.columnLayouts,r),i.columns&&i.columns.length&&i.columns.length>0)||(i.columns=t.owner.options.columns))},_findLayout:function(n,t){for(var r,i=0;n&&i<n.length;i++){if(n[i].key===t){r=n[i];break}!r&&n[i].columnLayouts&&(r=this._findLayout(n[i].columnLayouts,t))}return r},_hdsoptions:function(){var t,r,i;return t={responseDataKey:this.options.responseDataKey,responseTotalRecCountKey:this.options.responseTotalRecCountKey,dataSource:this.options.dataSource,primaryKey:this.options.primaryKey,localSchemaTransform:this.options.localSchemaTransform,autoCommit:this.options.autoCommit,odata:this.options.odata,serializeTransactionLog:this.options.serializeTransactionLog,updateUrl:this.options.updateUrl,restSettings:this.options.restSettings,initialDataBindDepth:this.options.initialDataBindDepth},this.options.dataSourceType!==null&&(t.type=this.options.dataSourceType),r=this._hschema(),i=this.options.dataSource&&typeof this.options.dataSource._encodeHierarchicalUrlParams=="function"&&this.options.dataSource.settings&&this.options.dataSource.settings.hasOwnProperty&&this.options.dataSource.settings.hasOwnProperty("initialDataBindDepth"),(i&&this.options.dataSource.settings.schema===null||!i)&&(t=n.extend(t,{schema:r})),t},_getDataColumns:function(n){for(var i,r=[],f=n.length,u,t=0;t<f;t++)if(n[t].group!==undefined&&n[t].group!==null)for(u=this._getDataColumns(this._getDataColumns(n[t].group)),i=0;i<u.length;i++)r.push(u[i]);else r.push(n[t]);return r},_hschema:function(){var t,u,i,s,f,r=this._getDataColumns(this.options.columns),h=[],e,o;if(r.length>0&&!this.options.autoGenerateColumns){for(t={},t.fields=[],i=0,u=0;u<r.length;u++)r[u].unbound!==!0&&(t.fields[i]={},t.fields[i].name=r[u].key,t.fields[i].type=r[u].dataType,i++);t.searchField=this.options.responseDataKey}else if(this.options.autoGenerateColumns&&(t={},t.fields=[],this.options.dataSource&&this.options.dataSource.length&&this.options.dataSource.length>0&&n.type(this.options.dataSource)==="array")){s=this.options.dataSource[0];for(f in s)if(s.hasOwnProperty(f)){for(e=0;e<r;e++)if(r[e].key===f){o=r[e];break}if(o===null||o===undefined)t.fields.push({name:f,type:n.ig.getColType(s[f])});else{if(o.unbound===!0)continue;t.fields.push({name:f,type:o.dataType})}}}if(this.options.columnLayouts&&this.options.columnLayouts.length>0)for(i=0;i<this.options.columnLayouts.length;i++)t.fields.push({name:this.options.columnLayouts[i].childrenDataProperty===undefined?this.options.columnLayouts[i].key:this.options.columnLayouts[i].childrenDataProperty});return this._parseLayouts(h,"",this.options),t.layouts=h,t},_parseLayouts:function(n,t,i){var u,r,e,f=null;if(i.columnLayouts&&i.columnLayouts.length!==undefined&&i.columnLayouts.length>0)for(u=0;u<i.columnLayouts.length;u++)r=i.columnLayouts[u],f=r.childrenDataProperty===undefined?r.key:r.childrenDataProperty,f||(f=this.options.defaultChildrenDataProperty),e=t+this.options.pathSeparator+f+":"+r.primaryKey,n[e]=r,this._parseLayouts(n,e,r)},_batchExpand:function(){var t=[],i,n;n=this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid"),n||(n=this.element.data("igHierarchicalGrid")),i=n.options.expandCollapseAnimations,n.options.expandCollapseAnimations=!1,t=this.element.find("tr[data-id]"),n._batchExpandLevel(t),n.options.expandCollapseAnimations=i},_batchExpandLevel:function(n){for(var t=0;t<n.length;t++)this.toggle(n[t])},_renderExtraHeaderCell:function(t,i,r){r===!0?n("<td><\/td>").prependTo(t).css("border-width",0).attr("data-skip",!0):n("<td><\/td>").appendTo(t).css("border-width",0).attr("data-skip",!0)},_renderExtraFooterCell:function(t,i,r,u){r===!0?n("<td><\/td>").addClass(u).prependTo(t).attr("data-skip",!0):n("<td><\/td>").addClass(u).appendTo(t).attr("data-skip",!0)},_dataBound:function(n,t){var r=n.currentTarget.id,u=t.owner.element[0].id,i=t.owner.options;(u===r||u===r+"_table")&&(i.primaryKey===null||i.primaryKey===undefined)&&(this._generatePrimaryKeyValues(t.dataSource.data()),i.primaryKey="ig_pk")},_headerrenderedinternal:function(t,i){if(i.owner.element[0].id===t.currentTarget.id||i.owner.element[0].id===t.currentTarget.id+"_table"){var f=this,e=i.owner._renderColgroup,r,u;i.owner._cleanupTBody=function(){var n=this.element.children("tbody");return this._fireInternalEvent("_cleanupTBody"),n.children("tr").remove(),n},i.owner._renderRecord=n.proxy(this._hierarchicalRenderRecord,i.owner),i.owner._getFirstVisibleTR=n.proxy(this._hierarchicalGetFirstVisibleTR,i.owner),i.owner._getLastVisibleTR=n.proxy(this._hierarchicalGetLastVisibleTR,i.owner),i.owner._renderColgroup=function(){f._hierarchicalRenderColgroup.apply(i.owner,n.merge([e,f],arguments))},i.owner._headerInitCallbacks.push({type:"HierarchicalGrid",func:n.proxy(this._renderExtraHeaderCell,this)}),i.owner._footerInitCallbacks.push({type:"HierarchicalGrid",func:n.proxy(this._renderExtraFooterCell,this)}),i.owner._trigger("headerextracellsmodified",null,{owner:i.owner}),i.table.attr("id")!==i.owner.element.attr("id")&&n(i.table).find("colgroup col[data-expander]").length===0&&n("<col><\/col>").attr("data-skip","true").attr("data-expander",!0).prependTo(i.table.find("colgroup")).width(this.options.expandColWidth),u=n("<th><\/th>"),n("<span><\/span>").appendTo(u.prependTo(i.table.find("thead tr:first")).addClass(this.css.expandHeaderCell).attr("data-skip",!0)).addClass(this.css.expandHeaderCellTriangle),i.owner._isMultiColumnGrid&&u.attr("rowspan",i.owner._maxLevel+1),i.owner._isWrapped?(r=i.owner.element.attr("id").substring(0,i.owner.element.attr("id").indexOf("_table")),i.owner.container().find("#"+r).unbind("iggridheaderrenderedinternal",i.owner.element.data("hr")),i.owner.container().find("#"+r).removeData("hr")):(i.owner.element.unbind("iggridheaderrenderedinternal",i.owner.element.data("hr")),i.owner.element.removeData("hr"))}},_checkIsMultiColumnHeader:function(n){var t,i=n.columns,r;if(i)for(r=i.length,t=0;t<r;t++)if(i[t].group!==undefined&&i[t].group!==null)return!0;return!1},_hierarchicalRenderRecord:function(t,i){var h,f=this,p,e,u,r="",s,w="",c,l,y,a,o,v;if(r+=i%2!=0&&this.options.alternateRowStyles?"<tr class='"+f.css.recordAltClass+"'":"<tr",r+=" data-row-idx='"+i+"'",this._hg?e=this._hg:(e=this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid"),e||(e=this.element.hasClass(".ui-iggrid-root")?this.element:undefined),this._hg=e),this.options.foreignKey?r+=" data-id-fk='"+this._kval_from_key(this.options.foreignKey,t)+"'":this.options.primaryKey===null||this.options.primaryKey===undefined?(this.options.primaryKey="ig_pk",s=e._getVal(t),r+=" data-id-fk='"+s+"'"):this.options.primaryKey==="ig_pk"?(s=e._getVal(t),r+=" data-id-fk='"+s+"'"):r+=" data-id-fk='"+this._kval_from_key(this.options.primaryKey,t)+"'",this.options.primaryKey===null||this.options.primaryKey===undefined?(this.options.primaryKey="ig_pk",s=e._getVal(t),r+=" data-id='"+s+"'"):this.options.primaryKey==="ig_pk"?(s=e._getVal(t),r+=" data-id='"+s+"'"):r+=" data-id='"+this._kval_from_key(this.options.primaryKey,t)+"'",r+=" role='row' aria-expanded='false' tabindex='"+this.options.tabIndex+"'>",c=this.options.columnLayouts,l=!1,p=e?e.options.initialDataBindDepth>-1:!1,p)l=!0;else for(h=0;c&&h<c.length;h++)if(t[c[h].key]?(u=c[h].key,a=c[h]):u=c[h].childrenDataProperty,u=u||this.options.defaultChildrenDataProperty,u)if(a&&a.responseDataKey){if(t[u]&&t[u][a.responseDataKey]&&t[u][a.responseDataKey].length!==undefined&&(t[u][a.responseDataKey].length>0||this._shouldAlwaysRenderChildIndicator)){l=!0;break}}else if(t[u]){if(t[u].length!==undefined&&(t[u].length>0||this._shouldAlwaysRenderChildIndicator)){l=!0;break}if(this.options.responseDataKey&&t[u][this.options.responseDataKey]&&t[u][this.options.responseDataKey].length!==undefined&&(t[u][this.options.responseDataKey].length>0||this._shouldAlwaysRenderChildIndicator)){l=!0;break}}return l&&(w="<span class='ui-iggrid-expandbuttoncontainer'><span class='ui-iggrid-expandbutton ui-icon ui-icon-plus' data-toggle-button='true' data-localeid='expandTooltip' data-localeattr='title' title='"+e._getLocaleValue("expandTooltip")+"'><\/span><\/span>"),r+="<td tabindex='0' class='ui-iggrid-expandcolumn"+f._addCellStyle(t,-1).replace(/class=\"/,"").replace(/\"/,"")+"' data-parent='"+l+"'>"+w+"<\/td>",y=!0,n(this.options.columns).each(function(n){var i=f.options.columns[n];(v=!1,i.hidden)||(y=!1,r+="<td role='gridcell'  aria-readonly="+!!this.readOnly+" aria-describedby='"+f.id()+"_"+this.key+"' tabindex='"+f.options.tabIndex+"'",t[this.key]===undefined?(this.template&&this.template.length?(o=i.unbound?f._renderTemplatedCell(t,this):f._renderTemplatedCell(t[n],this),o.indexOf("<td")===0?r+=o.substring(3):(r+=">"+o,v=!0),r=f._editCellStyle(r,t,n,i,v)):r+=f._addCellStyle(t,n,i)+">"+f._renderCell(t[n],this,t),r+="<\/td>"):(this.template&&this.template.length?(o=f._renderTemplatedCell(t,this),o.indexOf("<td")===0?r+=o.substring(3):(r+=">"+o,v=!0),r=f._editCellStyle(r,t,this.key,i,v)):r+=f._addCellStyle(t,this.key,i)+">"+f._renderCell(t[this.key],this,t),r+="<\/td>"))}),y&&(r+="<td role='gridcell'><\/td>"),r+="<\/tr>"},_generatePrimaryKeyValues:function(t){t=t||[];for(var r=t.length,i=0;i<r;i++)t[i].ig_pk=t[i].ig_pk||n.ig.util.getCheckSumForObject(t[i])},_getVal:function(t){return t.ig_pk=t.ig_pk||n.ig.util.getCheckSumForObject(t)},_hierarchicalRenderColgroup:function(t,i,r,u,f,e){var o;(t.apply(this,[r,u,f,e]),o=n(r).find(">colgroup"),o.find(">col[data-expander]").length>0)||n("<col><\/col>").prependTo(o).css("width",i.options.expandColWidth).attr("data-skip","true").attr("data-expander",!0)},_schemaGenerated:function(t,i){var f,o,u,h=i.schema,e=i.dataSource,s=i.owner,r;if(f=s.element.closest(".ui-iggrid-root").data("igHierarchicalGrid"),f||(f=s.element.hasClass(".ui-iggrid-root")?s.element:undefined),f&&!(f.options.initialDataBindDepth>-1))for(o=0;e&&e.length&&n.type(e)==="array"&&o<e.length;o++){u=e[o];for(r in u)u.hasOwnProperty(r)&&(s._fieldExists(r,h)||n.type(u[r])!=="array"&&n.type(u[r])!=="object"||h.fields.push({name:r,type:n.ig.getColType(u[r])}))}},_childRendered:function(n,t){var u=t.owner.element.closest("tr").prev(),f="id"+u.attr("data-id"),i=this._eventQueue[f],r,e=!0;if(this._trigger(this.events.childGridRendered,null,{owner:this,parentrow:u,childgrid:t.owner}),!i){t.owner.element.unbind("iggridrendered.hierarchicalgrid");return}for(r=0;i.length!==undefined&&r<i.length;r++)if(i[r].grid.attr("id")===t.owner.element.attr("id")){i[r].done=!0,i[r].grid.unbind("iggridrendered",i[r].handler);break}for(r=0;i.length!==undefined&&r<i.length;r++)if(!i[r].done){e=!1;break}e&&(this._trigger(this.events.childrenPopulated,null,{owner:this,parentrow:u,id:i[0].id}),delete this._eventQueue[f])},_optsFor:function(t){var i,u,r=[],f;if(t.columnLayouts&&t.columnLayouts.length>0&&n.type(t.columnLayouts)==="array")for(f=t.columnLayouts,u=0;u<f.length;u++)this._inherit(t,f[u]),r.push(n.extend(!0,{},n.ui.igGrid.prototype.options,{language:t.language,locale:t.locale,regional:t.regional},f[u]));for(i=0;i<r.length;i++)r[i].dataSource?(String(t.initialDataBindDepth)==="-1"||t.initialDataBindDepth===undefined)&&(r[i].dataSourceUrl=r[i].dataSource):r[i].dataSourceUrl=t.dataSourceUrl;return r},_inherit:function(t,i){var u,f,r,e;if(t.dataSourceType&&(i.dataSourceType=t.dataSourceType),t.features&&t.features.length!==undefined&&t.features.length!==0)for(i.features&&i.features.length!==undefined||(i.features=[]),u=0;u<t.features.length;u++)if(t.features[u].inherit===!0){for(f=null,r=0;r<i.features.length;r++)if(i.features[r].name===t.features[u].name){f=i.features[r];break}f===null||f===undefined?(i.features.push(n.extend(!0,{},t.features[u])),i.features[i.features.length-1].columnSettings=[]):(e=!1,i.features[r].columnSettings&&i.features[r].columnSettings.length>0&&(e=!0),i.features[r]=n.extend(!0,{},t.features[u],f),e||(i.features[r].columnSettings=[]))}},_regevents:function(t,i){var r,u,f,e;r=n.proxy(i._headerrenderedinternal,i),u=n.proxy(this._handleBatchExpandRender,i),f=n.proxy(this._schemaGenerated,i),e=n.proxy(this._columnStateChanged,i),t.bind("iggridheaderrenderedinternal.hierarchicalgrid",r),t.bind("iggriddatarendered.hierarchicalgrid",u),t.bind("iggridschemagenerated.hierarchicalgrid",f),t.bind("iggriddatabound.hierarchicalgrid",n.proxy(this._dataBound,this)),t.bind("iggridcolumnscollectionmodified.hierarchicalgrid",e),t.data("hr",r)},_regToggleEvent:function(t,i){var r;r=n.proxy(i._toggleInternalWithDelay,i),t.undelegate(".ui-iggrid-expandcolumn > .ui-iggrid-expandbuttoncontainer","mousedown"),t.delegate(".ui-iggrid-expandcolumn > .ui-iggrid-expandbuttoncontainer","mousedown",r)},commit:function(){var t=this.element;t.find(".ui-iggrid-table").each(function(){n(this).igGrid("commit")}),t.igGrid("commit")},rollback:function(t){var i=this.element;i.find(".ui-iggrid-table").each(function(){n(this).igGrid("rollback",null,t)}),i.igGrid("rollback",null,t)},_addToLog:function(t,i,r){var f=t.data("igGrid"),e=f?f.dataSource:null,o=e?e.allTransactions():[],u;if(o.length)for(this._dsLog=this._dsLog||[],this._dsLog.push(e),u=0;u<o.length;u++)i.push(n.extend(!0,r?{layoutKey:f.options.key}:{},o[u]))},saveChanges:function(t,i){var r=this,f,e=r.element,o=r.options.updateUrl,u=[];if((this.options.rest||this.options.odata)&&this.options.restSettings){this._saveChangesForEachGrid();return}o&&e&&(delete r._dsLog,r._addToLog(e,u),r.allChildren().each(function(){r._addToLog(n(this),u,!0)}),f={type:"POST",url:o,data:{ig_transactions:JSON.stringify(u)},success:function(n,i,u){for(var f=r._dsLog,e=f?f.length:0;e-->0;)f[e]._saveChangesSuccess(n,i,u);t&&t(n,i,u)},error:function(n,t,u){for(var f=r._dsLog,e=f?f.length:0;e-->0;)f[e]._saveChangesError(n,t,u);i&&i(n,t,u)}},n.ajax(f))},_saveChangesForEachGrid:function(t,i){this.rootWidget().saveChanges(t,i),n.each(this.allChildrenWidgets(),function(){this.saveChanges(t,i)})},_handleBatchExpandRender:function(t,i){var f=0,r=i.owner,o,l,s,e,u,h,c,a,v=r.element[0].id,y=t.currentTarget.id;(v===y||v===y+"_table")&&((f=parseInt(r.element.attr("data-level"),10),isNaN(f)&&(f=0,r.element.attr("data-level",f)),f>0&&this.options.initialDataBindDepth===-1&&this._hds.settings.type==="json"&&n.type(r.options.dataSource)==="string"&&(o="",e="",u=r.options,c=r.element.closest("tr[data-container]").prev("tr"),h=c.closest(".ui-iggrid-table"),o+=h.attr("data-path")||"",e+=h.attr("data-ids")||"",a=h.data("igGrid").options.primaryKey,e===""?e=a+":"+c.attr("data-id"):e+=this.options.pathSeparator+a+":"+c.attr("data-id"),u.childrenDataProperty===undefined?u.key&&(o+=u.key):o+=u.childrenDataProperty,s=this._hds.dataAt(e,o),l=r.dataSource,s[u.responseDataKey]&&(s[u.responseDataKey]=l._dataView,s.Metadata=l.metadata())),f>this.options.initialExpandDepth)||(this.options.initialDataBindDepth===-1||this.options.initialDataBindDepth>=this.options.initialExpandDepth)&&this.options.initialExpandDepth!==-1&&setTimeout(n.proxy(this._batchExpand,i.owner),1))},_columnStateChanged:function(n,t){t.owner._initialized&&this._handleBatchExpandRender(n,t)},_inheritRestSettings:function(t,i,r,u,f){var o=f.restSettings,e=u.restSettings,c,s,h;t?h=t:(e.update.template||e.remove.template?(t=e.update.template||e.remove.template,t=t.replace("${id}",i)):(t=e.create.url||e.update.url||e.remove.url,t.substr(t.length-1)!=="/"&&(t+="/"),t+=i),r.substr(0,1)==="/"&&(r=r.substr(1)),t.substr(t.length-1)!=="/"&&(t+="/"),h=t+r),c={update:{url:h},create:{url:h},remove:{url:h}},o.create.template&&e.create.template&&(s=e.create.template.replace("${id}",i),o.create.template=s+"/"+o.create.template),o.remove.template&&e.remove.template&&(s=e.remove.template.replace("${id}",i),o.remove.template=s+"/"+o.remove.template),o.update.template&&e.update.template&&(s=e.update.template.replace("${id}",i),o.update.template=s+"/"+o.update.template),o=n.extend(!0,o,c)},_rowExpanded:function(n){var r,f,t,u,i;(r=n.parentrow.next(),r.length!==0&&r.is("tr[data-container='true']"))&&(f=r.outerHeight(),t=n.parentrow.closest(".ui-iggrid-table").data("igGrid"),(t.options.virtualization||t.options.rowVirtualization)&&t.options.virtualizationMode==="continuous"&&(u=t._getScrollContainerHeight(),t._setScrollContainerHeight(u+f)),i=this.element.closest(".ui-iggrid-root").data("igGrid"),i.options.rowVirtualization&&!t.options.height&&i.options.height&&(u=i._getScrollContainerHeight(),i._setScrollContainerHeight(u+f)))},_rowCollapsed:function(n){var u=n.parentrow.next(),f,t,r,i;u.length!==0&&u.is("tr[data-container='true']")&&(f=u.outerHeight(),t=n.parentrow.closest(".ui-iggrid-table").data("igGrid"),(t.options.virtualization||t.options.rowVirtualization)&&t.options.virtualizationMode==="continuous"&&(r=t._getScrollContainerHeight(),t._setScrollContainerHeight(r-f)),i=this.element.closest(".ui-iggrid-root").data("igGrid"),i.options.rowVirtualization&&!t.options.height&&i.options.height&&(r=i._getScrollContainerHeight(),i._setScrollContainerHeight(r-f)))},_hierarchicalGetFirstVisibleTR:function(t){var r="#"+this.element[0].id,i;return i=n(r+" > tbody > tr:not([data-container='true'])").filter(function(){return this.offsetTop+n(this).height()>t.top}).first()},_hierarchicalGetLastVisibleTR:function(t){var r="#"+this.element[0].id,i;return i=n(r+" > tbody > tr:not([data-container='true'])").filter(function(){return this.offsetTop<t.bottom}).last()},_clearVariablesAndEvents:function(){this.tmpDataSource=null,this._rootgrid=null,this.element.unbind(".hierarchicalgrid")},destroy:function(){this._clearVariablesAndEvents(),this.rootWidget().destroy(),this._superApply(arguments)}}),n.extend(n.ui.igHierarchicalGrid,{version:"19.2.25"})}(n),function(n){"use strict";n.widget("ui.igGridCellMerging",n.ui.igWidget,{localeWidgetName:"CellMerging",css:{mergedCellsTop:"ui-iggrid-mergedcellstop",mergedCellsBottom:"ui-iggrid-mergedcellsbottom",mergedCell:"ui-iggrid-mergedcell",physicallyMergedCell:"ui-iggrid-physicalmergedcell"},options:{mergeType:"visual",mergeOn:"sorting",mergeStrategy:"duplicate",rowMergeStrategy:"duplicate",mergeRows:!1,columnSettings:[{columnIndex:-1,columnKey:null,mergeOn:"sorting",mergeStrategy:"duplicate"}],inherit:!1},events:{cellsMerging:"cellsMerging",cellsMerged:"cellsMerged"},_createWidget:function(){this.options.columnSettings=[],n.Widget.prototype._createWidget.apply(this,arguments)},_setOption:function(t){if(t==="mergeType")throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",t));n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"mergeOn":case"mergeStrategy":case"columnSettings":this._unmergeColumns(),this._initColumnSettings(),this._createModel(),this._mergeColumns();break;case"mergeRows":this._createRowMergeModel(),this.grid.dataBind()}},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},destroy:function(){return this._unmergeRows(),this._unmergeColumns(),this._unregisterEvents(),this._superApply(arguments),this},mergeColumn:function(n,t){var i=this._normalizeColumnId(n);return this.isMerged(i)||this._mergeColumn(i,t),this.element},unmergeColumn:function(n){var t=this._normalizeColumnId(n);return this.isMerged(t)&&(this._unmergeColumn(t),this._mergingModel[t].merged=!1),this.element},isMerged:function(n){return this._mergingModel[this._normalizeColumnId(n)].merged},mergeRow:function(n,t){var o=this.grid.options.primaryKey,s=this.grid._getDataView(),h=this.grid._startRowIndex||0,u=this.grid.element.children("tbody"),f,i,e,r;if(u||(u=this.grid.fixedTable().children("tbody")),o===null&&(i=parseInt(n),!isNaN(i))){i-h>=0&&(f=u.find("tr").eq(i-h),this._mergeRow(i,f,t)),this._rowMergingModel[i]=!0;return}for(e=-1,r=0;r<s.length;r++)if(s[r][o]===n){e=r;break}f=u.find("tr[data-id='"+n+"']").eq(0),this._mergeRow(e,f,t),this._rowMergingModel[e]=!0},unmergeRow:function(n,t){var o=this.grid.options.primaryKey,f=this.grid._getDataView(),e=this.grid._startRowIndex||0,u=this.grid.element.children("tbody"),i,r;if(u||(u=this.grid.fixedTable().children("tbody")),i=null,n===null&&t!==null&&!isNaN(parseInt(t))){t-e>=0&&(i=u.find("tr").eq(t-e),this._unmergeRow(i)),this._rowMergingModel[t]=!1;return}for(i=u.find("tr[data-id='"+n+"']").eq(0),this._unmergeRow(i),r=0;r<f.length;r++)if(f[r][o]===n){this._rowMergingModel[r]=!1;break}},_gridRendered:function(){this._mergeColumns(),this._rowMergingModel=null,this._mergeRows()},_rrn:function(){this._mergeColumns(),this._unmergeRows(),this._mergeRows()},_rcn:function(){this._mergeColumns(),this._unmergeRows(),this._mergeRows()},_columnsCollectionModified:function(){this._mergeColumns(),this._mergeRows()},_sortedColumnsChanging:function(n){var t,u=this._columnSettings,f=this._mergingModel,r=this._prevSortedColumns,i=this._getSortedColumns(n);for(t in i)i.hasOwnProperty(t)&&!r[t]&&u[t].mergeOn==="sorting"&&(f[t].merged=!0);for(t in r)r.hasOwnProperty(t)&&!i[t]&&u[t].mergeOn==="sorting"&&(f[t].merged=!1);this._prevSortedColumns=i},_internalRowAdded:function(){this._unmergeRows(),this._unmergeColumns(),this._mergeColumns(),this._mergeRows()},_internalRowDeleted:function(){this._unmergeRows(),this._unmergeColumns(),this._mergeColumns(),this._mergeRows()},_internalCellUpdated:function(n){var t=this.grid.getColumnByTD(n.cell);t&&t.column&&(this._unmergeColumn(t.column.key),this._mergingModel[t.column.key].merged&&this._mergeColumn(t.column.key,!0))},_internalRowUpdated:function(){this._unmergeRows(),this._unmergeColumns(),this._mergeColumns(),this._mergeRows()},_rowExpanded:function(){this._unmergeRows(),this._unmergeColumns(),this._mergeColumns(),this._mergeRows()},_rowCollapsed:function(){this._unmergeRows(),this._unmergeColumns(),this._mergeColumns(),this._mergeRows()},_createModel:function(){for(var f=this.grid.options.columns,r,t,i,e=this._mergingModel={},o=this._getSortedColumns(),u=0;u<f.length;u++)if(r=f[u].key,i=e[r]={},t=this._columnSettings[r],i.merged=t.mergeOn==="always"||t.mergeOn==="sorting"&&o[r]?!0:!1,n.type(t.mergeStrategy)==="function")i.fn=t.mergeStrategy;else switch(t.mergeStrategy){case"duplicate":i.fn=this._mergeDuplicate;break;case"null":i.fn=this._mergeNull;break;default:if(n.type(window[t.mergeStrategy])==="function"){i.fn=n.proxy(window[t.mergeStrategy],this);break}throw new Error(this._getLocaleValue("mergeStrategyNotAFunction"));}},_createRowMergeModel:function(){var t=this.grid._getDataView(),n;for(this._rowMergingModel=[],n=0;n<t.length;n++)this._rowMergingModel[n]=this.options.mergeRows},_initColumnSettings:function(){var t,u,e,i,f,r,o=this.options;for(u=this.grid.options.columns,e=o.columnSettings,f=this._columnSettings={},t=0;t<u.length;t++)f[u[t].key]={mergeStrategy:o.mergeStrategy,mergeOn:o.mergeOn};for(t=0;t<e.length;t++){if(i=e[t],i.columnKey)r=f[i.columnKey];else if(n.type(i.columnIndex))r=f[u[i.columnIndex].key];else continue;r.mergeOn=i.mergeOn||r.mergeOn,r.mergeStrategy=i.mergeStrategy||r.mergeStrategy}},_getSortedColumns:function(n){for(var i=n||this.grid.dataSource.settings.sorting.expressions,r={},t=0;t<i.length;t++)r[i[t].fieldName]=!0;return r},_normalizeColumnId:function(t){return n.type(t)==="number"?this.grid.options.columns[t].key:t},_hasVirtualization:function(){return this.grid.options.virtualization||this.grid.options.rowVirtualization||this.grid.options.columnVirtualization},_hasGroupedColumns:function(){var n=this.grid.element.data("igGridGroupBy");return n&&n.options&&n.options.groupedColumns&&n.options.groupedColumns.length>0},_dataRows:function(n,t){var i;return i=t?this.grid.element.add(this.grid.fixedTable()):n?this.grid.fixedTable():this.grid.element,i.children("tbody").children("tr:not([data-container='true'],[data-grouprow='true'],[data-summaryrow='true'])")},_addDummyGroupElements:function(t,i){for(var f=this.grid._startRowIndex||0,e=f+this.grid._virtualRowCount||t.length,u=t.slice(f,e),r=0;r<u.length;r++)(u[r].__gbRecord||u[r].__gbSummaryRecord)&&i.splice(r,0,n())},_addDummyChildGridElements:function(t,i,r){for(var e=t.children("tr[data-container]:visible"),o,f,s=t.children("tr:visible"),u=0;u<e.length;u++)o=e.eq(u),f=s.index(o),r.splice(f,0,n()),i.splice(f,0,n())},_mergeDuplicate:function(t,i,r){if(n.type(t[r])==="string"&&n.type(i[r])==="string"&&this.grid.dataSource.settings.sorting.caseSensitive===!1)return t[r].toLowerCase()===i[r].toLowerCase();var u=this.grid.columnByKey(r);return u.dataType==="time"?this._mergeDuplicateTime(t,i,r):t[r]===i[r]},_mergeDuplicateTime:function(n,t,i){var r=this.grid.options.primaryKey,u=this.grid.getCellText(n[r],i),f=this.grid.getCellText(t[r],i);return u===f},_mergeNull:function(n,t,i){return t[i]===null},_rowMergeDuplicate:function(t,i,r){return r?n.type(r[t])==="string"&&n.type(r[i])==="string"&&this.grid.dataSource.settings.sorting.caseSensitive===!1?r[t].toLowerCase()===r[i].toLowerCase():r[t]===r[i]:!1},_rowMergeNull:function(n,t,i){return i[t]===null},_isCellVerticallyMerged:function(n){return n.hasClass(this.css.mergedCellsTop)||n.hasClass(this.css.mergedCellsBottom)||n.hasClass(this.css.mergedCell)||n.hasClass(this.css.physicallyMergedCell)},_mergeRows:function(){var r=this.grid._startRowIndex||0,t,i,n;if(this.options.mergeRows)for(this._rowMergingModel||this._createRowMergeModel(),i=this._dataRows(!1),t=this._dataRows(!0),n=0;n<i.length;n++)this._rowMergingModel[n+r]&&(this._mergeRow(n,i.eq(n),!0),t.length&&this._mergeRow(n,t.eq(n),!0))},_mergeRow:function(t,i,r){var h,p,c,w=this.grid.options.primaryKey,b=this.grid._getDataView(),k=this.grid._startRowIndex||0,e=this.grid._visibleColumns(),f,l,a,u,s,o,y,v;switch(this.options.rowMergeStrategy){case"duplicate":c=this._rowMergeDuplicate;break;case"null":c=this._rowMergeNull;break;default:if(typeof this.options.rowMergeStrategy=="function"){c=this.options.rowMergeStrategy;break}throw new Error(this._getLocaleValue("mergeStrategyNotAFunction"));}for(a=n(i).find("td:not([data-skip='true'],td[data-parent])"),u=0;u<a.length-1;u++)if(s=a.eq(u),o=a.eq(u+1),f=1,l=[],h=b[t+k],c.apply(this,[e[u].key,e[u+f].key,h])&&o.css("display")!=="none"&&!this._isCellVerticallyMerged(s)&&!this._isCellVerticallyMerged(o)){while(u+f<e.length&&c.apply(this,[e[u].key,e[u+f].key,h])&&s.css("display")!=="none"&&o.css("display")!=="none"&&!this._isCellVerticallyMerged(s)&&!this._isCellVerticallyMerged(o))l.push(o),f++,o=a.eq(u+f);if(y={orientation:"horizontal",owner:this,row:s.parent(),rowIndex:t,rowId:w?h[w]:null,firstColumnKey:e[u].key,columnKey:e[u+f-1].key,record:h},r&&(p=this._trigger(this.events.cellsMerging,null,y)),p===!1)continue;for(v=0;v<l.length;v++)l[v].attr("aria-rowmerged","true"),l[v].css("display","none");s.attr("colspan",f),r&&(y.count=f,this._trigger(this.events.cellsMerged,null,y))}},_unmergeRows:function(){for(var t=this._dataRows(null,!0),n=0;n<t.length;n++)this._unmergeRow(t.eq(n))},_unmergeRow:function(t){var i=t.find("td");i.each(function(t,i){var r=n(i);if(typeof r.attr("colspan")!="undefined"){r.removeAttr("colspan");return}typeof r.attr("aria-rowmerged")!="undefined"&&(r.removeAttr("aria-rowmerged"),r.css("display","table-cell"))})},_mergeColumns:function(){var n,t,i=this.grid._visibleColumns();for(this.options.mergeType==="physical"&&this._hasVirtualization()&&this.grid.options.virtualizationMode==="fixed"&&this._unmergeColumns(),n=0;n<i.length;n++)t=i[n].key,this._mergingModel[t].merged&&this._mergeColumn(t,!0)},_mergeColumn:function(t,i){var d=this.grid.id()+"_"+t,f=this.grid._getDataView(),h,v,y=!1,l=0,r,p,a,w,e,c,u,s,b=this.grid.options.primaryKey,o=this.grid._startRowIndex||0,k=this.grid._virtualRowCount||f.length;for(p=this.grid.hasFixedColumns()&&this.grid.isFixedColumn(t)?this.grid.fixedTable().children("tbody"):this.grid.element.children("tbody"),h=p.find("tr>td[aria-describedby='"+d+"']:not([gbsummarycell])"),this._hasGroupedColumns()&&this._addDummyGroupElements(f,h),this.grid._isHierarchicalGrid&&(f=f.slice(0),this._addDummyChildGridElements(p,f,h)),r=o>0?o-1:0,u=this.options.mergeType==="visual"?r-o<0?n():h.eq(r-o):h.eq(0),e=f[r++],r;r<f.length&&r<o+k+1;r++){if(c=f[r],s=h.eq(r-o),this._mergingModel[t].fn.apply(this,[e,c,t])){if(!y){if(a={orientation:"vertical",owner:this,row:u.parent(),rowIndex:r-o,rowId:b?e[b]:null,columnKey:t,firstRecord:e,record:c},i&&(w=this._trigger(this.events.cellsMerging,null,a)),w===!1){u=s,e=c;continue}this.options.mergeType==="visual"&&u.length&&u.addClass(this.css.mergedCellsTop),l=u[0]===s[0]?0:1,v=u}if(u=s,e=c,l++,y=!0,this.options.mergeType==="visual"?s.addClass(this.css.mergedCell):this.options.mergeType==="physical"&&s.css("display","none"),r<f.length-1&&r<o+k)continue}y&&(a.count=l,a.record=e,i&&this._trigger(this.events.cellsMerged,null,a),this.options.mergeType==="visual"?u.addClass(this.css.mergedCellsBottom):this.options.mergeType==="physical"&&(v.css("display",""),v.attr("rowspan",l),v.addClass(this.css.physicallyMergedCell)),y=!1),e=c,u=s}},_unmergeColumn:function(n){var t,i;t=this._dataRows(this.grid.hasFixedColumns()&&this.grid.isFixedColumn(n)),i=t.children("td[aria-describedby='"+this.grid.id()+"_"+n+"']:not([gbsummarycell])"),this._removeMergingFromCells(i)},_unmergeColumns:function(){var n,t;n=this._dataRows(null,!0),t=n.children("td:not([gbsummarycell])"),this._removeMergingFromCells(t)},_removeMergingFromCells:function(n){this.options.mergeType==="physical"?n.removeAttr("rowspan").removeClass(this.css.physicallyMergedCell).css("display","table-cell"):n.removeClass(this.css.mergedCellsTop).removeClass(this.css.mergedCell).removeClass(this.css.mergedCellsBottom)},_createHandlers:function(){this._virtualRowsHandler=n.proxy(this._rrn,this),this._virtualColumnsHandler=n.proxy(this._rcn,this),this._columnsCollectionModifiedHandler=n.proxy(this._columnsCollectionModified,this),this._rowExpandedHandler=n.proxy(this._rowExpanded,this),this._rowCollapsedHandler=n.proxy(this._rowCollapsed,this)},_registerEvents:function(){this.grid.element.on({"iggridvirtualrecordsrender.cellmerging":this._virtualRowsHandler,"iggridvirtualhorizontalscroll.cellmerging":this._virtualColumnsHandler,"iggridcolumnscollectionmodified.cellmerging":this._columnsCollectionModifiedHandler,"ighierarchicalgridrowexpanded.cellmerging":this._rowExpandedHandler,"ighierarchicalgridrowcollapsed.cellmerging":this._rowCollapsedHandler})},_unregisterEvents:function(){this.grid.element.off(".cellmerging")},_injectGrid:function(n){this.grid=n,this._v=this.grid.options.virtualization===!0||this.grid.options.rowVirtualization===!0,this._createHandlers(),this._unregisterEvents(),this._registerEvents(),this._initColumnSettings(),this._createModel(),this._prevSortedColumns=this._getSortedColumns()}}),n.extend(n.ui.igGridCellMerging,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridAppendRowsOnDemand",n.ui.igWidget,{options:{type:null,chunkSize:25,recordCountKey:null,chunkSizeUrlKey:null,chunkIndexUrlKey:null,defaultChunkIndex:0,currentChunkIndex:0,loadTrigger:"auto",loadMoreDataButtonText:undefined,locale:{loadMoreDataButtonText:undefined}},events:{rowsRequesting:"rowsRequesting",rowsRequested:"rowsRequested"},_loadingIndicator:null,_persistLocalSorting:!0,_persistLocalFiltering:!0,_recalcLocalSummaries:!0,_keepCurrentChunkIndex:!0,_callDataRendered:!0,_initialProbeForChunkIndex:!0,_injectGrid:function(t){this.grid=t,this._checkNotSupportedScenarios(),this.options.currentChunkIndex=this.options.defaultChunkIndex,this.options.type===null&&(this.options.type=this.grid._inferOpType()),this.grid.dataSource.settings.paging.type=this.options.type||"remote",this._defaultChunkSize=parseInt(this.options.chunkSize,10)*(this.options.defaultChunkIndex+1),this.grid.dataSource.settings.paging.pageSize=this._defaultChunkSize,this.options.chunkSizeUrlKey!==null&&this.options.chunkIndexUrlKey&&(this.grid.dataSource.settings.paging.pageSizeUrlKey=this.options.chunkSizeUrlKey,this.grid.dataSource.settings.paging.pageIndexUrlKey=this.options.chunkIndexUrlKey),this.options.recordCountKey!==null&&(this.grid.dataSource.settings.responseTotalRecCountKey=this.options.recordCountKey),this.grid.dataSource.settings.paging.enabled=!0,this.options.loadTrigger==="auto"&&(this._verticalScrollHandler=n.proxy(this._probeForNextChunk,this)),this._appendRecordsHandler=n.proxy(this._appendRecords,this),this._columnSortingHandler=n.proxy(this._columnSorting,this),this._syncCurrentChunkIndexHandler=n.proxy(this._syncCurrentChunkIndex,this),this.grid.element.bind("iggridsortinginternalcolumnsorting",this._columnSortingHandler),this.grid.element.bind("iggriduisoftdirty iggriduidirty",this._syncCurrentChunkIndexHandler)},_dataRendered:function(){var t,i;if(this._callDataRendered){if(this._keepCurrentChunkIndex=!1,this.grid.scrollContainer().css("background-color","white"),this.grid.dataSource.settings.paging.pageSize=this.options.chunkSize,this._originalDataSourceCallback=this.grid.dataSource.settings.callback,this._initLoadingIndicator(),this.options.loadTrigger==="auto"&&(this.grid.scrollContainer().unbind("scroll",this._verticalScrollHandler),this.grid.scrollContainer().bind("scroll",this._verticalScrollHandler),this.grid.scrollContainer().bind("igscrollscrolling",this._verticalScrollHandler),(this._initialProbeForChunkIndex||this.options.type==="local")&&this._probeForNextChunk()),this._requestPending=!1,this._triggerEvents=!0,this.options.loadTrigger==="button"&&!this._buttonRow)if(t=this.grid.id()+"_loadMoreButton",i=this.grid.options.height?this.grid.scrollContainer():this.grid.container(),this._buttonRow=i.append("<div class='ui-iggrid-loadmorebutton'><input type='button' id='"+t+"'><\/input><\/div>"),this.grid.container().find("#"+t).attr({"data-localeid":"loadMoreDataButtonText","data-localeattr":"value"}).igButton({labelText:this._getLocaleValue("loadMoreDataButtonText"),click:n.proxy(this._nextChunk,this),width:"100%"}),this.grid.scrollContainer().data("igScroll")!==undefined)this._onIgScrollRendered();else{this._onIgScrollRenderedHandler=n.proxy(this._onIgScrollRendered,this);this.grid.scrollContainer().on("igscrollrendered",this._onIgScrollRenderedHandler)}this._loadingIndicator&&this._hideLoading()}},_onIgScrollRendered:function(){var t=n(".ui-iggrid-loadmorebutton",this.grid.scrollContainer());t.length>0&&(this.grid.scrollContainer().igScroll("option","syncedElemsV",[t]),this._igScrollUpdateHeightWithButton())},_igScrollUpdateHeightWithButton:function(){var t=n(".ui-iggrid-loadmorebutton",this.grid.scrollContainer()),i=this.grid.element.outerHeight()+t.outerHeight();this.grid.scrollContainer().igScroll("option","scrollHeight",i),this.grid.scrollContainer().igScroll("refresh"),!n.ig.util.isSafari&&n.ig.util.getScrollWidth()===0&&this.grid.scrollContainer().data("igScroll")._vBarContainer&&this.grid.scrollContainer().data("igScroll")._vBarContainer.css("z-index",2)},_checkNotSupportedScenarios:function(){if(this.options.loadTrigger==="auto"&&!this.grid.options.height)throw new Error(this._getLocaleValue("appendRowsOnDemandRequiresHeight"));if(this.grid.options.virtualization||this.grid.options.rowVirtualization||this.grid.options.columnVirtualization)throw new Error(this._getLocaleValue("virtualizationNotSupported"));var t,n,i=this.grid.options.features,r=i.length;if(r!==1)for(t=0;t<r;t++)if(n=i[t].name,n){n=n.toLowerCase();switch(n){case"groupby":throw new Error(this._getLocaleValue("groupByNotSupported"));case"paging":throw new Error(this._getLocaleValue("pagingNotSupported"));case"cellmerging":throw new Error(this._getLocaleValue("cellMergingNotSupported"));}}},_setOption:function(n,t){if(this._super(n,t),n==="defaultChunkIndex")throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",n));(n==="currentChunkIndex"||n==="chunkSize")&&(this._keepCurrentChunkIndex=!0,this.grid.dataSource.settings.paging.pageSize=(this.options.currentChunkIndex+1)*this.options.chunkSize,this.grid.dataSource.dataBind())},_registerWidget:n.noop,_unregisterWidget:n.noop,_initLoadingIndicator:function(){this._loadingIndicator=this.grid.container().igLoading().data("igLoading").indicator()},_nextChunk:function(){var n=!0;this.options.currentChunkIndex>=this.grid.dataSource.pageCount()-1||(this._triggerEvents&&(n=this._trigger(this.events.rowsRequesting,null,{owner:this,chunkIndex:this.options.currentChunkIndex+1,chunkSize:this.options.chunkSize})),n&&(this._showLoading(),this.grid.dataSource.settings.paging.pageSize=this.options.chunkSize,this.grid.dataSource.settings.paging.pageIndex=this.options.currentChunkIndex,this.grid.dataSource.settings.paging.appendPage=!0,this._originalDataSourceCallback=this.grid.dataSource.settings.callback,this.grid.dataSource.settings.callback=this._appendRecordsHandler,this._requestPending=!0,this.grid.dataSource.nextPage()))},_showLoading:function(){this._loadingIndicator.show()},_hideLoading:function(){this._loadingIndicator.hide()},destroy:function(){var t=this.grid.id()+"_loadMoreButton",i=this.grid.options.height?this.grid.scrollContainer():this.grid.container(),n=i.find("div.ui-iggrid-loadmorebutton");return this.grid.container().find("#"+t).igButton("destroy"),n&&n.remove(),this.grid.element.unbind("iggridsortinginternalcolumnsorting",this._columnSortingHandler),this.grid.element.unbind("iggriduisoftdirty iggriduidirty",this._syncCurrentChunkIndexHandler),this.grid.scrollContainer().unbind("scroll",this._verticalScrollHandler),this.grid.scrollContainer().unbind("igscrollscrolling",this._verticalScrollHandler),this._onIgScrollRenderedHandler&&this.grid.scrollContainer().unbind("igscrollrendered",this._onIgScrollRenderedHandler),this._superApply(arguments),this},_appendRecords:function(n,t){var i,r=[],e,u=this.grid.element.data("igGridSorting"),o=this.grid.element.data("igGridFiltering"),s=this.grid.element.data("igGridSummaries"),f=this.grid.element.data("igGridSelection");for(n===!0&&(r=this.grid.dataSource.dataView().slice(this.grid.allRows().length-this.grid.pendingTransactions().length)),this._requestPending=!1,this.grid.dataSource.settings.paging.pageIndex=0,this.grid.dataSource.settings.paging.appendPage=!1,this.grid.dataSource.settings.callback=this._originalDataSourceCallback,i=0;i<r.length;i++)f&&!this.grid.options.primaryKey&&f.options.persist&&f._createUidForData(),this.grid.renderNewRow(r[i]);if(u&&(this._keepCurrentChunkIndex=!0,this.options.type==="remote"&&this.grid.dataSource.settings.sorting.type==="local"?this._persistLocalSorting?this.grid.dataSource.settings.sorting.expressions.length>0&&(this._callDataRendered=!1,u.sortMultiple(),this._callDataRendered=!0):this.grid.dataSource.settings.sorting.expressions=[]:u._dataRendered(),this._keepCurrentChunkIndex=!1),o&&(this._keepCurrentChunkIndex=!0,this.options.type==="remote"&&this.grid.dataSource.settings.filtering.type==="local"&&(this._persistLocalFiltering||(this.grid.dataSource.settings.filtering.expressions=[]),this._callDataRendered=!1,o.filter(this.grid.dataSource.settings.filtering.expressions,!0),this._callDataRendered=!0),this._keepCurrentChunkIndex=!1),s&&this.options.type==="remote"&&this.grid.dataSource.settings.summaries.type==="local"&&this._recalcLocalSummaries&&s.calculateSummaries(),this.grid.scrollContainer().data("igScroll")!==undefined&&(this.options.loadTrigger==="auto"?this.grid.scrollContainer().igScroll("refresh"):this._igScrollUpdateHeightWithButton()),this._hideLoading(),n===!1&&(e=this._trigger(this.grid.events.requestError,null,{owner:this,message:t}),e))throw new Error(t);this.options.currentChunkIndex++,this._keepCurrentChunkIndex=!1,this._triggerEvents&&this._trigger(this.events.rowsRequested,null,{owner:this,chunkIndex:this.options.currentChunkIndex,chunkSize:this.options.chunkSize,rows:r}),this._triggerEvents=!0,(this._initialProbeForChunkIndex||this.options.type==="local")&&this._probeForNextChunk()},_probeForNextChunk:function(){if(this.options.loadTrigger==="auto"){var i,t;t=this.grid.scrollContainer().data("igScroll")!==undefined?this.grid.scrollContainer().igScroll("option","scrollTop"):this.grid.scrollContainer().scrollTop(),i=Math.ceil(t+this.grid.scrollContainer().height())/n(this.grid.element).height(),i>=1&&!this._requestPending?this._nextChunk():this._initialProbeForChunkIndex=!1}},_columnSorting:function(){this.grid.dataSource.settings.paging.pageSize=this.options.chunkSize*(this.options.currentChunkIndex+1),this._keepCurrentChunkIndex=!0},_hidingFinishing:function(){this._keepCurrentChunkIndex=!0},_gridCommit:function(){this._keepCurrentChunkIndex=!0,this.grid.dataSource._dataView=this.grid.dataSource.data().slice(0,(this.options.currentChunkIndex+1)*this.options.chunkSize)},_internalRowDeleted:function(){var n=this.grid.dataSource.data()[this.grid.dataSource.dataView().length];this.options.type!=="remote"&&(n&&this._pushRecordIntoView(n),this.options.currentChunkIndex=Math.min(this.options.currentChunkIndex,Math.max(Math.ceil(this.grid.dataSource.data().length/this.options.chunkSize)-1,0)))},_internalRowAdded:function(n){var t=this.grid.element.data("igGridUpdating");this.grid.options.autoCommit===!0&&this.grid.dataSource.dataView().length>this.options.chunkSize&&this.grid.dataSource.dataView().length%this.options.chunkSize!=0&&(this.grid.dataSource.dataView().pop(),n=t._combineRowElements(n.row),n.remove())},_syncCurrentChunkIndex:function(){(this.options.type!=="remote"||this.grid.dataSource.settings.filtering.type!=="local")&&(this._keepCurrentChunkIndex||(this.grid.dataSource.settings.paging.pageIndex!==this.options.currentChunkIndex&&(this.options.currentChunkIndex=this.grid.dataSource.settings.paging.pageIndex),this._keepCurrentChunkIndex=!0))},_pushRecordIntoView:function(n){this.grid.renderNewRow(n),this.grid.dataSource.dataView().push(n)},nextChunk:function(){this._triggerEvents=!1,this._nextChunk()}}),n.extend(n.ui.igGridAppendRowsOnDemand,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridMultiColumnHeaders",n.ui.igWidget,{localeWidgetName:"igGridMultiColumnHeaders",css:{multiHeaderCell:"ui-iggrid-multiheader-cell",expandedHeaderIndicator:"ui-iggrid-multiheader-expanded",collapsedHeaderIndicator:"ui-iggrid-multiheader-collapsed",collapsibleIndicatorContainer:"ui-iggrid-indicatorcontainer ui-iggrid-collapsibleindicatorcontainer"},options:{inherit:!1},events:{groupCollapsing:"groupCollapsing",groupCollapsed:"groupCollapsed",groupExpanding:"groupExpanding",groupExpanded:"groupExpanded"},_createWidget:function(){n.Widget.prototype._createWidget.apply(this,arguments)},changeLocale:function(){var t=this;this.grid.container().find("[data-expanded-state]").each(function(){t._changeLocaleForElement(n(this))})},_registerWidget:n.noop,_unregisterWidget:n.noop,_renderingMultiColumnHeader:function(){this._renderHeaderColumns(this.grid._headerParent),this.grid._trigger(this.grid.events.headerRendered,null,{owner:this.grid,table:this.grid.headersTable()}),this.grid._headerRenderCancel=!1},_analyzeRowspanRows:function(t,i){for(var r,e=[],f=this.grid._maxLevel-i,o,u=0;u<t.length;u++)o=1,r=t[u],r.rowspan=r.rowspan||r.rowSpan,n.type(r.rowspan)==="string"&&(r.rowspan=parseInt(r.rowspan,10)),r.rowspan>0&&(o=r.rowspan),r.group!==undefined&&r.group!==null?e.push({group:r.group,level:i+o}):r.level===0&&(r.rowspan===null||r.rowspan===undefined||isNaN(r.rowspan))&&f+1-r.level>0&&(r.rowspan=f+1-r.level),(this._rows[f]===undefined||this._rows[f]===null)&&(this._rows[f]=[]),this._rows[f].push(r);for(u=0;u<e.length;u++)this._analyzeRowspanRows(e[u].group,e[u].level)},_renderRow:function(t,i,r){for(var f,e,o=n('<tr data-mch-level="'+r+'" role="row"><\/tr>').appendTo(t),u=0;u<i.length;u++)f=i[u],e=this._createHeaderColumnMarkup(f),e.appendTo(o)},_renderHeaderColumns:function(t){var r,i,o,u,w,c,s,l,h,f,b,k=this.grid.options.columns,e,a,d=k.length,v=this.grid._initialHiddenColumns,y=this.grid.id(),p;for(this._arrayTargetRowspan=[],this._totalColumnsLength=t.find("colgroup col").length,p=t.find("thead"),t=p.length>0?p.empty().attr("role","rowgroup"):n('<thead role="rowgroup"><\/thead>').appendTo(t),this._tr={},w=this.grid._oldCols,this._rows={},this._analyzeRowspanRows(w,0),i=this.grid._maxLevel;i>=0;i--)this._rows[i]!==null&&this._rows[i]!==undefined&&this._renderRow(t,this._rows[i],i);for(i=0;i<d;i++)r=this.grid.container().find("#"+y+"_"+k[i].key).data("columnIndex",i),r.data("data-mch-order",i),this.grid._headerCells.push(r);if(v)for(l=this.grid.headersTable().find("thead"),i=0;i<v.length;i++)for(s=v[i].key,this.grid.container().find("#"+y+"_"+s).css("display","none"),b=this.grid.headersTable().find(">colgroup>col").eq(this.grid.getVisibleIndexByKey(s,!0)),b.remove(),c=this.grid._getParentsMultiHeader(s),o=0;o<c.length;o++)if(h=c[o],h.level>0&&(f=this.grid._getMultiHeaderColumnById(h.identifier),f&&f.children)){if(e=f.children,a=!0,f.hidden!==!0)for(u=0;u<e.length;u++)if(r=e[u].level===0?this.grid.container().find("#"+y+"_"+e[u].key):l.find("th[data-mch-id="+e[u].identifier+"]"),!r.is(":visible")){a=!1;break}a&&l.find("th[data-mch-id="+h.identifier+"]").css("display","none")}},_createHeaderColumnMarkup:function(t){var r=this.grid,f,h=!0,c=r.css.headerClass,l=t.headerCssClass||"",e=n("<th><\/th>"),i,o="",u,s;if(t.group)for(s=t.group.length,u=0;u<s;u++)o+=this.grid.element[0].id+"_"+t.group[u].key+(u===s-1?"":" ");else t.headerText===undefined&&(t.headerText=t.key);return this._renderCollapsibleHeaderIndicator(e,t),i=e.append('<span class="'+r.css.headerTextClass+'">'+t.headerText+"<\/span>").attr({role:"columnheader","aria-label":t.headerText,tabIndex:r.options.tabIndex}).addClass(c).addClass(l),t.colspan>1&&e.attr("colspan",t.colspan),t.rowspan>1&&i.attr("rowspan",t.rowspan),t.key&&i.attr("id",this.grid.element[0].id+"_"+t.key),t.level===0?(f=t.key,h=!1,i.attr("data-isheadercell",!0)):(f=t.identifier,i.addClass(this.css.multiHeaderCell),i.attr("data-mch-id",t.identifier),o&&i.attr("aria-owns",o)),r._trigger(r.events.headerCellRendered,null,{owner:r,th:i,columnKey:f,isMultiColumnHeader:h}),i},_renderCollapsibleHeaderIndicator:function(t,i){var u,f,s,e=this,r=!1,o;i&&i.groupOptions&&i.groupOptions.allowGroupCollapsing===!0&&(r=i.groupOptions.expanded===!0,u=n("<div><\/div>").addClass(e.css.collapsibleIndicatorContainer),o=r?this._getLocaleValue("expandedColumnIconTooltip"):this._getLocaleValue("collapsedColumnIconTooltip"),f=n("<a><\/a>").attr("href","#").attr({title:o,"data-expanded-state":r,"data-localeid":r?"expandedColumnIconTooltip":"collapsedColumnIconTooltip","data-localeattr":"title"}).attr("tabindex",0).on({keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&e._headerIndicatorClick(t)}}).appendTo(u),s=n("<span><\/span>").addClass(r?this.css.expandedHeaderIndicator:this.css.collapsedHeaderIndicator).on({click:this._headerIndicatorClickHandler}).appendTo(f),u.appendTo(t))},expandGroup:function(n,t){this._setExpanded(n,!0,null,!1,t)},collapseGroup:function(n,t){this._setExpanded(n,!1,null,!1,t)},toggleGroup:function(n,t){this._setExpanded(n,null,null,!1,t)},_setToggleButtonTooltip:function(n,t){var i=t?"expandedColumnIconTooltip":"collapsedColumnIconTooltip";n.attr({title:this._getLocaleValue(i),"data-localeid":i,"data-expanded-state":t})},_setExpanded:function(t,i,r,u,f){var e=this,s,o,c,h,p=e.grid.headersTable().find("thead > tr"),l,a,v=0,y=!1,w=this.grid.container().width(),b=this.grid.element.data("igGridColumnFixing");if((o=e.grid._getMultiHeaderColumnById(t),o&&o.groupOptions&&o.groupOptions.allowGroupCollapsing!==!1&&o.group)&&(c=o.groupOptions.expanded===!0,c!==i)){if(this.grid.hasFixedColumns()){for(y=this.grid.fixedTable().find("th[data-mch-id='"+t+"']").length?!0:!1,s=0;s<o.group.length;s++)v+=parseInt(o.group[s].width,10);if(y&&v>w-b.options.minimalVisibleAreaWidth)throw new Error(this._getLocaleValue("cannotExpandMultiColumnHeader"));}(i!==!0&&i!==!1&&(i=!c),h=p.find("th[data-mch-id="+t+"]"),u!==!0||(a=e._trigger(i?e.events.groupExpanding:e.events.groupCollapsing,r,{owner:e,column:o,element:h}),a!==!1))&&(l=o.group.length,e.grid._loadingIndicator.show(),setTimeout(function(){for(o.groupOptions.expanded=!o.groupOptions.expanded,s=0;s<l;s++)e._refreshMultiColumnHierarchyVisibility(o.group[s],o);o.groupOptions.expanded?(h.find("."+e.css.collapsedHeaderIndicator).removeClass(e.css.collapsedHeaderIndicator).addClass(e.css.expandedHeaderIndicator),e._setToggleButtonTooltip(h.find("[data-expanded-state]"),!0)):(h.find("."+e.css.expandedHeaderIndicator).removeClass(e.css.expandedHeaderIndicator).addClass(e.css.collapsedHeaderIndicator),e._setToggleButtonTooltip(h.find("[data-expanded-state]"),!1)),e._updateHiddenColumns(),u===!0&&e._trigger(o.groupOptions.expanded?e.events.groupExpanded:e.events.groupCollapsed,r,{owner:e,column:o,element:h}),e.grid._loadingIndicator.hide(),f&&n.ig.util.invokeCallback(f)},0))}},_headerIndicatorClick:function(t){var i=n(t.target),r=i.closest("th").attr("data-mch-id");this._setExpanded(r,null,t,!0),t.preventDefault(),t.stopPropagation()},_refreshMultiColumnHierarchyVisibility:function(n,t){var i,u=!1,r=!1,f=!1;if(t&&(u=t.groupOptions&&t.groupOptions.allowGroupCollapsing===!0,r=t.groupOptions&&t.groupOptions.expanded===!1?!1:!0),f=n.groupOptions&&(r===!0&&(n.groupOptions.hidden==="always"||n.groupOptions.hidden==="parentexpanded")||r===!1&&(n.groupOptions.hidden==="always"||n.groupOptions.hidden==="parentcollapsed")),t&&u&&f)if(n.group)for(i=0;i<n.children.length;i++)n.children[i].hidden||this._colsToHide.push(n.children[i]);else n.hidden||this._colsToHide.push(n);else if(n.group)for(i=0;i<n.group.length;i++)this._refreshMultiColumnHierarchyVisibility(n.group[i],n);else u&&n.hidden&&this._colsToShow.push(n)},_validateGroup:function(n){var t,i,r;if(n.group){if(n.groupOptions&&n.groupOptions.allowGroupCollapsing===!0){for(i=r=0,t=0;t<n.group.length;t++)n.group[t].groupOptions&&(n.group[t].groupOptions.hidden==="always"||n.group[t].groupOptions.hidden==="parentexpanded")||i++,n.group[t].groupOptions&&(n.group[t].groupOptions.hidden==="always"||n.group[t].groupOptions.hidden==="parentcollapsed")||r++;if(r===0||i===0)throw new Error(this._getLocaleValue("atLeastOneColumnShouldBeShownWhenCollapseOrExpand"));}for(t=0;t<n.group.length;t++)this._validateGroup(n.group[t],n)}},_updateHiddenColumns:function(){this.grid._setHiddenColumns(this._colsToHide,!0,!1),this.grid._setHiddenColumns(this._colsToShow,!1,!1),this._colsToHide=[],this._colsToShow=[]},_gridRendered:function(){var n;if(this.grid._oldCols){for(n=0;n<this.grid._oldCols.length;n++)this._validateGroup(this.grid._oldCols[n]);for(n=0;n<this.grid._oldCols.length;n++)this._refreshMultiColumnHierarchyVisibility(this.grid._oldCols[n],null);this._updateHiddenColumns()}},getMultiColumnHeaders:function(){return this.grid._oldCols},_createHandlers:function(){this._headerIndicatorClickHandler=n.proxy(this._headerIndicatorClick,this)},_injectGrid:function(n){if(this.grid=n,this._createHandlers(),this._colsToHide=this._colsToHide||[],this._colsToShow=this._colsToShow||[],this.grid.options.virtualizationMode!=="continuous"&&(this.grid.options.virtualization===!0&&this.grid.options.width||this.grid.options.columnVirtualization===!0))throw new Error(this._getLocaleValue("multiColumnHeadersNotSupportedWithColumnVirtualization"));},destroy:function(){var n=this.grid.headersTable().find("div."+this.css.collapsibleIndicatorContainer.split(" ").join("."));return n.length>0&&(n.find("> a").off("keydown").find("> span").off("click"),n.remove()),this._superApply(arguments),this}}),n.extend(n.ui.igGridMultiColumnHeaders,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridPaging",n.ui.igWidget,{css:{pagerClass:"ui-widget ui-iggrid-pager ui-helper-clearfix ui-corner-bottom ui-widget-header ui-iggrid-footer",pageLink:"ui-iggrid-pagelink ui-helper-reset",page:"ui-iggrid-page ui-state-default ui-corner-all",pageHover:"ui-iggrid-page-hover ui-state-hover",pageList:"ui-helper-reset ui-iggrid-pagelist ui-iggrid-paging-item",pageLinkCurrent:"ui-iggrid-pagelinkcurrent",pageCurrent:"ui-iggrid-pagecurrent ui-state-active ui-corner-all",pageFocused:"ui-iggrid-pagefocused ui-state-focus",nextPage:"ui-iggrid-nextpage ui-iggrid-paging-item ui-state-default",prevPage:"ui-iggrid-prevpage ui-iggrid-paging-item ui-state-default",firstPage:"ui-iggrid-firstpage ui-iggrid-paging-item ui-state-default ui-corner-left",lastPage:"ui-iggrid-lastpage ui-iggrid-paging-item ui-state-default ui-corner-right",nextPageLabel:"ui-iggrid-nextpagelabel",prevPageLabel:"ui-iggrid-prevpagelabel",firstPageLabel:"ui-iggrid-firstpagelabel",lastPageLabel:"ui-iggrid-lastpagelabel",nextPageLabelDisabled:"ui-iggrid-nextpagelabeldisabled ui-state-disabled",prevPageLabelDisabled:"ui-iggrid-prevpagelabeldisabled ui-state-disabled",firstPageLabelDisabled:"ui-iggrid-firstpagelabeldisabled ui-state-disabled",lastPageLabelDisabled:"ui-iggrid-lastpagelabeldisabled ui-state-disabled",nextPageImage:"ui-iggrid-pageimg ui-iggrid-nextpageimg ui-icon ui-icon-triangle-1-e",prevPageImage:"ui-iggrid-pageimg ui-iggrid-prevpageimg ui-icon ui-icon-triangle-1-w",firstPageImage:"ui-iggrid-pageimg ui-iggrid-firstpageimg ui-icon ui-icon-arrowstop-1-w",lastPageImage:"ui-iggrid-pageimg ui-iggrid-lastpageimg ui-icon ui-icon-arrowstop-1-e",nextPageImageDisabled:"ui-iggrid-pageimg ui-iggrid-nextpageimgdisabled ui-icon ui-state-disabled ui-icon-triangle-1-e",prevPageImageDisabled:"ui-iggrid-pageimg ui-iggrid-prevpageimgdisabled ui-icon ui-state-disabled ui-icon-triangle-1-w",firstPageImageDisabled:"ui-iggrid-pageimg ui-iggrid-firstpageimgdisabled ui-icon ui-state-disabled ui-icon-arrowstop-1-w",lastPageImageDisabled:"ui-iggrid-pageimg ui-iggrid-lastpageimgdisabled ui-icon ui-state-disabled ui-icon-arrowstop-1-e",pagerRecordsLabel:"ui-iggrid-pagerrecordslabel ui-iggrid-results",pageSizeLabel:"ui-iggrid-pagesizelabel",pageSizeDropDown:"ui-iggrid-pagesizedropdown",pageSizeDropDownContainer:"ui-helper-clearfix ui-iggrid-pagesizedropdowncontainer",pageSizeDropDownContainerAbove:"ui-widget ui-helper-clearfix ui-iggrid-pagesizedropdowncontainerabove ui-iggrid-toolbar ui-widget-header and ui-corner-top",pageDropDownContainer:"ui-iggrid-pagedropdowncontainer",pageDropDownLabels:"ui-iggrid-pagedropdownlabels",pageDropDown:"ui-iggrid-pagedropdown",pagerRightAreaContainer:"ui-iggrid-paging",pagingResults:"ui-iggrid-results"},options:{pageSize:25,recordCountKey:null,pageSizeUrlKey:null,pageIndexUrlKey:null,currentPageIndex:0,type:null,showPageSizeDropDown:!0,pageSizeDropDownLabel:undefined,pageSizeDropDownTrailingLabel:undefined,pagerRecordsLabelTemplate:undefined,nextPageLabelText:undefined,prevPageLabelText:undefined,firstPageLabelText:undefined,lastPageLabelText:undefined,currentPageDropDownLeadingLabel:undefined,currentPageDropDownTrailingLabel:undefined,currentPageDropDownTooltip:undefined,pageSizeDropDownTooltip:undefined,pagerRecordsLabelTooltip:undefined,prevPageTooltip:undefined,nextPageTooltip:undefined,firstPageTooltip:undefined,lastPageTooltip:undefined,pageTooltipFormat:undefined,locale:{pageSizeDropDownLabel:undefined,pageSizeDropDownTrailingLabel:undefined,nextPageLabelText:undefined,prevPageLabelText:undefined,firstPageLabelText:undefined,lastPageLabelText:undefined,currentPageDropDownLeadingLabel:undefined,currentPageDropDownTrailingLabel:undefined,currentPageDropDownTooltip:undefined,pageSizeDropDownTooltip:undefined,pagerRecordsLabelTooltip:undefined,prevPageTooltip:undefined,nextPageTooltip:undefined,firstPageTooltip:undefined,lastPageTooltip:undefined,pageTooltipFormat:undefined,pagerRecordsLabelTemplate:undefined},pageSizeDropDownLocation:"above",showPagerRecordsLabel:!0,showFirstLastPages:!0,showPrevNextPages:!0,pageSizeList:[5,10,20,25,50,75,100],pageCountLimit:10,visiblePageCount:5,defaultDropDownWidth:70,delayOnPageChanged:350,persist:!0,inherit:!1},events:{pageIndexChanging:"pageIndexChanging",pageIndexChanged:"pageIndexChanged",pageSizeChanging:"pageSizeChanging",pageSizeChanged:"pageSizeChanged",pagerRendering:"pagerRendering",pagerRendered:"pagerRendered"},dropDownVisibleItemsCount:10,_loadingIndicator:null,_isPaging:!1,_onVirtRecordsRender:function(){this._dataRendered()},_create:function(){this._oPageIndex=this.options.currentPageIndex,this._oPageSize=this.options.pageSize},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},_changeLocaleForPager:function(){var r=this._pager(),i,u=this,t=this._plabel(),f=this.grid.container(),e=this.grid.id();n.ui.igWidget.prototype.changeLocale.call(this,r),r.find("[data-page-list-item]").each(function(){var t=n(this);t.attr("title",u._getLocaleValue("pageTooltipFormat").replace("${index}",t.attr("data-pageTooltipFormat")))}),i=f.find("[data-dd-container-label='"+e+"']"),i.length&&i.text(this._getLocaleValue("currentPageDropDownTrailingLabel").replace("${count}",i.attr("data-currentPageDropDownTrailingLabel"))),t.length&&t.text(this._getLocaleValue("pagerRecordsLabelTemplate").replace("${startRecord}",t.attr("data-startRecord")).replace("${endRecord}",t.attr("data-endRecord")).replace("${recordCount}",t.attr("data-recordCount")))},changeLocale:function(){this._changeLocaleForPager(),this._super(this.grid.container().find("[data-pagesize-dd-container='"+this.grid.id()+"']")),this._superApply(arguments)},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(t,i){var u,r;if(r=this._pager(),this._super(t,i),t==="type"||t==="showPageSizeDropDown"||t==="pageSizeDropDownLocation"||t==="showPagerRecordsLabel"||t==="visiblePageCount")throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",t));t==="pageSize"?this.pageSize(i):t==="currentPageIndex"?this.pageIndex(i):t==="showFirstLastPages"?i===!0?(r.find(".ui-iggrid-firstpage").show(),r.find(".ui-iggrid-lastpage").show()):(r.find(".ui-iggrid-firstpage").hide(),r.find(".ui-iggrid-lastpage").hide()):t==="showPrevNextPages"?i===!0?(r.find(".ui-iggrid-prevpage").show(),r.find(".ui-iggrid-nextpage").show()):(r.find(".ui-iggrid-prevpage").hide(),r.find(".ui-iggrid-nextpage").hide()):t==="pageSizeList"&&(u=n.type(i)==="string"?i.split(","):i,this._pageSizeDD&&this._pageSizeDD.igNumericEditor("option","listItems",u))},pageIndex:function(n){if(n!==null&&n!==undefined){if(n<0||n>=this.grid.dataSource.pageCount())throw new Error(this._getLocaleValue("invalidPageIndex"));this._overrideLabel=!0,this.options.currentPageIndex=n,this.grid.element.trigger("iggriduisoftdirty",{owner:this})}return this.grid._hasUnboundColumns&&this.options.type==="remote"&&(this.grid._rebindUnboundColumns=!0),this._savePagingData(),this.grid.dataSource.pageIndex(n)},pageSize:function(n){var t=!0;if(n)this.grid.dataSource.settings.paging.pageIndex=0,this.options.currentPageIndex=0,t=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),t&&(this._showLoading(),this.grid._hasUnboundColumns&&this.options.type==="remote"&&(this.grid._rebindUnboundColumns=!0),this._overrideLabel=!0,this.options.pageSize=n,this._savePagingData(),this.grid.dataSource.pageSize(n)),this._pageSizeDD&&this._pageSizeDD.igNumericEditor("value",n);else return this.grid.dataSource.pageSize()},_savePagingData:function(){if(this.options.persist){var n;this.element.closest(".ui-iggrid-root").data("igGrid")&&(n={pageIndex:this.options.currentPageIndex,pageSize:this.options.pageSize},this.grid._savePersistenceData(n,"paging",this.grid.element[0].id))}},_loadPagingData:function(){var n;if(this.element.closest(".ui-iggrid-root").data("igGrid")){if(n=this.grid._getPersistenceData("paging",this.grid.element[0].id),!n)return;this.grid.dataSource.settings.paging.pageIndex=n.pageIndex,this.options.currentPageIndex=n.pageIndex,this.options.pageSize=n.pageSize}},_initLoadingIndicator:function(){this._loadingIndicator=this.grid.container().igLoading().data("igLoading").indicator()},_nextPage:function(n){var t=!0,i=!0;if(t=this._trigger(this.events.pageIndexChanging,null,{newPageIndex:this.options.currentPageIndex+1,currentPageIndex:this.options.currentPageIndex,owner:this}),t){if(this.options.currentPageIndex>=this.grid.dataSource.pageCount()-1)return;this.options.currentPageIndex=this.options.currentPageIndex+1,i=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),this._shouldFirePageIndexChanged=!0,i&&(this._showLoading(),this._overrideLabel=!0,this.grid.element.trigger("iggriduisoftdirty",{owner:this}),this.grid._hasUnboundColumns&&this.options.type==="remote"&&(this.grid._rebindUnboundColumns=!0),this._savePagingData(),this.grid.dataSource.nextPage())}n&&(n.stopPropagation(),n.preventDefault())},_prevPage:function(n){var t=!0,i=!0;if(t=this._trigger(this.events.pageIndexChanging,null,{newPageIndex:this.options.currentPageIndex-1,currentPageIndex:this.options.currentPageIndex,owner:this}),t){if(this.options.currentPageIndex===0)return;this.options.currentPageIndex=this.options.currentPageIndex-1,i=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),this._shouldFirePageIndexChanged=!0,i&&(this._showLoading(),this._overrideLabel=!0,this.grid.element.trigger("iggriduisoftdirty",{owner:this}),this.grid._hasUnboundColumns&&this.options.type==="remote"&&(this.grid._rebindUnboundColumns=!0),this._savePagingData(),this.grid.dataSource.prevPage())}n&&(n.stopPropagation(),n.preventDefault())},_firstPage:function(n){var t=!0,i=!0;t=this._trigger(this.events.pageIndexChanging,null,{newPageIndex:0,currentPageIndex:this.options.currentPageIndex,owner:this}),t&&(i=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),this._shouldFirePageIndexChanged=!0,i&&(this._showLoading(),this.pageIndex(0))),n&&(n.stopPropagation(),n.preventDefault())},_lastPage:function(n){var t=!0,i=!0;t=this._trigger(this.events.pageIndexChanging,null,{newPageIndex:this.grid.dataSource.pageCount()-1,currentPageIndex:this.options.currentPageIndex,owner:this}),t&&(i=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),this._shouldFirePageIndexChanged=!0,i&&(this._showLoading(),this.pageIndex(this.grid.dataSource.pageCount()-1))),n&&(n.stopPropagation(),n.preventDefault())},_showLoading:function(){this._loadingIndicator.show()},_hideLoading:function(){this._loadingIndicator.hide()},_bindEvents:function(){var t=this,r=this.grid,u=!0,i,f=!0;i="#"+r.element[0].id+"_pager",n(i+" li").bind({mousedown:function(i){var o=n(i.target),e=o.data("pageIndex");e===undefined&&(e=o.parent().data("pageIndex")),n.type(e)==="number"&&e!==t.options.currentPageIndex&&(u=t._trigger(t.events.pageIndexChanging,i,{newPageIndex:e,currentPageIndex:t.options.currentPageIndex,owner:t}),t._shouldFirePageIndexChanged=!0,u&&(f=t.grid._trigger(t.grid.events.dataBinding,null,{owner:t.grid,dataSource:t.grid.dataSource}),f&&(t._showLoading(r.element.children("tbody")),t.pageIndex(e))))}}),n(i+" li, "+i+" div.ui-iggrid-paging-item").bind({mouseover:function(i){n(i.currentTarget).find("span").first().hasClass("ui-state-disabled")||n(i.currentTarget).addClass(t.css.pageHover)},mouseout:function(i){n(i.currentTarget).removeClass(t.css.pageHover)}})},_fixedColumnsChanged:function(n){n.isInit&&this._pager().css("clear","both")},_gridRendered:function(t){var r=this,i=this.grid._caption();this.options.showPageSizeDropDown!==!0||this.options.pageSizeDropDownLocation!=="above"||this._pageSizeDropDownRendered||(i.length?r._renderPageSizeDropDown(i,null,!0):r._renderPageSizeDropDown(t,!0)),this.grid.options.autoAdjustHeight&&(this.grid._initializeHeights(),this.grid._adjustLastColumnWidth()),this.grid.options.caption===null||n.ig.util.isIE&&n.ig.util.browserVersion>=8||i.removeClass("ui-corner-top")},_rowDeleted:function(){if(this.options.type!=="remote"){var n=this.options.currentPageIndex,t=this.grid.dataSource.pageCount();n>0&&n+1>t&&n--,this.pageIndex(n)}},_rowAdded:function(){if(this.options.type!=="remote"){var t=this.options.currentPageIndex,n=this.grid.dataSource.pageCount();t<n-1&&this.grid.options.autoCommit?this.pageIndex(n-1):this._dataRendered()}},_gridCommit:function(){if(this.options.type!=="remote")return this.options.currentPageIndex>this.grid.dataSource.pageCount()-1?this.pageIndex(this.grid.dataSource.pageCount()-1):this.pageIndex(this.options.currentPageIndex),!0},_plabel:function(){return this._pager().find(".ui-iggrid-pagerrecordslabel")},_pager:function(){return this.grid.container().find(".ui-iggrid-pager")},_getDSLocalRecordsCount:function(){var n=this.grid.dataSource;return n._filter?n.isGroupByApplied()&&n.settings.groupby.pagingMode==="allRecords"?n.totalLocalRecordsCount():n._filteredData.length:n.totalLocalRecordsCount()},_dataRendered:function(){var g=this.grid.element[0].id,nt,v,tt,y,i,p,u=null,it,a,w,rt,f=0,c=0,e=0,b=0,ut=!0,t=0,s=0,ft=toStaticHTML('<div id="'+g+'_pager"><\/div>'),et=toStaticHTML('<li class="${pageClass}" tabIndex="0"><a class="${pageLinkClass}" href="javascript:void(0);" tabIndex="-1">${page}<\/a><\/li>'),k=this._getLocaleValue("pagerRecordsLabelTemplate"),r=this,o=null,l=this.options.visiblePageCount,h=0,d=null;if(this._deleteOld(),this._initLoadingIndicator(),ut=this._trigger(this.events.pagerRendering,null,{dataSource:this.grid.dataSource,owner:this}),ut){if(this.grid._shouldResetPaging&&(this.options.currentPageIndex=0,this.grid._shouldResetPaging=!1),this._plabel().length>0?this._pager().find(".ui-iggrid-paging").remove():this._pager().empty(),this.grid.dataSource.pageSizeDirty()&&(this.options.currentPageIndex=this.grid.dataSource.pageIndex(),this.grid.dataSource.pageSizeDirty(!1)),this._pager().length===0?(g=this.grid.element[0].id,u=n(ft).appendTo(this.grid.container())):u=this._pager(),this.grid.hasFixedColumns()&&u.css("clear","both"),u.addClass(this.css.pagerClass),this.options.showPagerRecordsLabel&&(e=this.grid.dataSource.totalRecordsCount()>0?this.grid.dataSource.totalRecordsCount():this.grid.dataSource.totalLocalRecordsCount(),f=this.options.currentPageIndex===0?1:this.options.currentPageIndex*this.pageSize()+1,b=this._getDSLocalRecordsCount(),this.grid.dataSource._filter&&(e=b,nt=this.grid.element.data("igTreeGridFiltering"),nt&&(v=nt._getFilterSummaryPagerTemplate(),v!==undefined&&v!==null&&(k=v))),f>e&&(f=this.grid.dataSource.pageIndex()*this.pageSize()+1,this.options.currentPageIndex=this.grid.dataSource.pageIndex()),c=this.options.currentPageIndex===0&&this.pageSize()<=e?this.pageSize():f+this.pageSize()>e?e:f-1+this.pageSize(),this.grid.dataSource.totalLocalRecordsCount()===0&&(f=0,c=0),c>b&&this.options.type==="local"&&(c=b),this.grid.container().find(".ui-iggrid-footer .ui-iggrid-results").data("overrideLabel")===0||this._overrideLabel||!this.grid.dataSource._filter?(this._plabel().remove(),k=k.replace("${startRecord}",f).replace("${endRecord}",c).replace("${recordCount}",e),d=n("<span>"+k+"<\/span>").appendTo(u).attr({id:u[0].id+"_label",title:this._getLocaleValue("pagerRecordsLabelTooltip"),"data-localeid":"pagerRecordsLabelTooltip","data-localeattr":"title","data-startRecord":f,"data-endRecord":c,"data-recordCount":e}).addClass(this.css.pagerRecordsLabel).show()):this._plabel().length===0&&(d=n("<span><\/span>").appendTo(u).attr("id",u[0].id+"_label").addClass(this.css.pagerRecordsLabel).attr({title:this._getLocaleValue("pagerRecordsLabelTooltip"),"data-localeid":"pagerRecordsLabelTooltip","data-localeattr":"title"}).show()),d&&d.data("hideflag",!1),this._plabel().show(),this._overrideLabel=!1),rt=this.grid.dataSource.pageCount(),o=n("<div><\/div>").appendTo(u).addClass(this.css.pagerRightAreaContainer),this.options.showFirstLastPages===!0&&this._renderFirstPage(o),this.options.showPrevNextPages===!0&&this._renderPrevPage(o),this.grid.dataSource.pageCount()<=this.options.pageCountLimit)for(it=n("<ul><\/ul>").appendTo(o).addClass(this.css.pageList),this._pagerEvents?this._pager().undelegate("li",this._pagerEvents):this._pagerEvents={keydown:function(t){if(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE){var u=!0,f=!0,i=n(t.currentTarget).closest("li").data("pageIndex");i!==r.options.currentPageIndex&&(u=r._trigger(r.events.pageIndexChanging,null,{newPageIndex:i,currentPageIndex:r.options.currentPageIndex,owner:r}),r._shouldFirePageIndexChanged=!0,u&&(f=r.grid._trigger(r.grid.events.dataBinding,null,{owner:r.grid,dataSource:r.grid.dataSource}),f&&(r._showLoading(),r.pageIndex(i)))),t.stopPropagation(),t.preventDefault()}},focus:function(t){n(t.currentTarget).closest("li").addClass(r.css.pageFocused)},blur:function(t){n(t.currentTarget).closest("li").removeClass(r.css.pageFocused)}},this._pager().delegate("li",this._pagerEvents),h=Math.floor(parseInt(l,10)/2),t=this.options.currentPageIndex-h,t<0&&(t=0),s=this.options.currentPageIndex+h,this.options.currentPageIndex-t<h&&(s+=h-(this.options.currentPageIndex-t)),this.grid.dataSource.pageCount()-(this.options.currentPageIndex+1)<h&&l%2!=0&&(t=t-(h-(this.grid.dataSource.pageCount()-(this.options.currentPageIndex+1)))),s>=this.grid.dataSource.pageCount()&&(s=this.grid.dataSource.pageCount()-1),t<0&&(t=0),l%2==0&&s-t<l-1&&(t-=l-1-(s-t)),t<0&&(t=0),i=t;i<=s&&i-t<l;i++)p=et.replace("${page}",i+1).replace("${pageLinkClass}",i===this.options.currentPageIndex?this.css.pageLinkCurrent:this.css.pageLink),p=p.replace("${pageClass}",i===this.options.currentPageIndex?this.css.pageCurrent:this.css.page),n(p).appendTo(it).attr({"data-page-list-item":!0,title:this._getLocaleValue("pageTooltipFormat").replace("${index}",i+1),"data-pageTooltipFormat":i+1}).data("pageIndex",i);else{for(a=[],i=1;i<=rt;i++)a.push(i.toString());w=n("<div><\/div>").appendTo(o).addClass(this.css.pageDropDownContainer).attr({title:this._getLocaleValue("currentPageDropDownTooltip"),"data-localeid":"currentPageDropDownTooltip","data-localeattr":"title"}),n("<span><\/span>").appendTo(w).text(this._getLocaleValue("currentPageDropDownLeadingLabel")).attr("data-localeid","currentPageDropDownLeadingLabel").addClass(this.css.pageDropDownLabels),tt=this._getEditorKeyboardNavigation(),y={language:this.grid.options.language,listItems:a,dropDownAttachedToBody:!0,visibleItemsCount:this.dropDownVisibleItemsCount,suppressNotifications:!0,isLimitedToListValues:!0,width:this.options.defaultDropDownWidth,allowNullValue:!1,buttonType:"dropdown",value:this.options.currentPageIndex+1,minValue:1,maxValue:a[a.length-1],dropDownListOpened:n.proxy(this._onSelectDropDownOpened,this),textChanged:n.proxy(this._onSelectDropDownPageIndex,this)},y=n.extend(y,tt),this._curPageDD=n("<span />").appendTo(w).addClass(this.css.pageDropDownContainer).igNumericEditor(y),this._curPageDD.igNumericEditor("selectedListIndex",this.options.currentPageIndex),n("<span><\/span>").appendTo(w).attr({"data-dd-container-label":g,"data-currentPageDropDownTrailingLabel":this.grid.dataSource.pageCount()}).text(this._getLocaleValue("currentPageDropDownTrailingLabel").replace("${count}",this.grid.dataSource.pageCount())).addClass(this.css.pageDropDownLabels)}this.options.showPrevNextPages===!0&&this._renderNextPage(o),this.options.showFirstLastPages===!0&&this._renderLastPage(o),this.options.showPageSizeDropDown&&this.options.pageSizeDropDownLocation==="inpager"&&this._renderPageSizeDropDown(o),this._bindEvents(u),this._hideLoading(this.grid.element.children("tbody")),u.show(),this._shouldFirePageSizeChanged&&(this._shouldFirePageSizeChanged=!1,this._trigger(this.events.pageSizeChanged,null,{pageSize:this.pageSize(),owner:this})),this._trigger(this.events.pagerRendered,null,{dataSource:this.grid.dataSource,owner:this}),this._shouldFirePageIndexChanged&&(this._shouldFirePageIndexChanged=!1,this._trigger(this.events.pageIndexChanged,null,{pageIndex:this.options.currentPageIndex,owner:this}))}},_getEditorKeyboardNavigation:function(){return{focus:function(n,t){var i=t.owner;i._dropDownList&&!i._dropDownList.is(":visible")&&i.showDropDown()},keydown:function(t,i){var r=i.owner,u;r._dropDownList&&r._dropDownList.is(":visible")&&(t.keyCode===n.ui.keyCode.DOWN?(r._hoverNextDropDownListItem(),t.preventDefault()):t.keyCode===n.ui.keyCode.UP?(r._hoverPreviousDropDownListItem(),t.preventDefault()):t.keyCode===n.ui.keyCode.ENTER&&(u=r._dropDownList.children(".ui-igedit-listitem").filter('[data-active="true"]'),u.length&&u.is(r.getSelectedListItem())&&u.text()!==r.field().val()&&(r.selectedListIndex(parseInt(r.field().val())-1),t.preventDefault())))}}},_onSelectDropDownOpened:function(n,t){var r=t.owner,u=r.dropDownContainer(),i=r.getSelectedListItem();i.length&&u.scrollTop(i.igPosition().top-(this.dropDownVisibleItemsCount-1)*i.outerHeight())},_onSelectDropDownPageIndex:function(n,t){var i=this;this._timeoutId!==undefined&&clearTimeout(this._timeoutId),parseInt(this.options.delayOnPageChanged,10)===0||n&&n.originalEvent&&n.originalEvent.type!=="keypress"?this._dropDownPageIndex(n,t):this._timeoutId=setTimeout(function(){i._dropDownPageIndex(n,t)},this.options.delayOnPageChanged)},_dropDownPageIndex:function(t,i){var o=!0,s=!0,f,u=i.owner,e=i.text,r=parseInt(e,10),h={"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0"};if(e!==""){if(isNaN(r)&&(f=e,n.each(h,function(n,t){f=f.replace(new RegExp(n,"g"),t)}),r=parseInt(f,10),isNaN(r))){u.value(this.options.currentPageIndex+1);return}if(r<=0||r>this.grid.dataSource.pageCount()){u.hideDropDown(),u.value(this.options.currentPageIndex+1);return}if(r-1===this.options.currentPageIndex){u.hideDropDown();return}o=this._trigger(this.events.pageIndexChanging,null,{newPageIndex:r-1,currentPageIndex:this.options.currentPageIndex,owner:this}),o&&(s=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),s&&(u.selectedListIndex(r-1),this._shouldFirePageIndexChanged=!0,isNaN(r)||(this._showLoading(),this.pageIndex(r-1))))}},_renderPrevPage:function(t){var i,u=this,r;i=n("<div><\/div>").appendTo(t).addClass(this.css.prevPage).attr({title:this._getLocaleValue("prevPageTooltip"),"data-localeid":"prevPageTooltip","data-localeattr":"title"}),this.options.currentPageIndex===0?(n("<span><\/span>").appendTo(i).addClass(this.css.prevPageImageDisabled),n("<span><\/span>").appendTo(i).addClass(this.css.prevPageLabelDisabled).attr("data-localeid","prevPageLabelText").append(this._getLocaleValue("prevPageLabelText"))):(i.bind("mousedown",n.proxy(this._prevPage,this)),r=n("<span><\/span>").appendTo(i).addClass(this.css.prevPageImage),n("<span><\/span>").appendTo(i).addClass(this.css.prevPageLabel).attr("data-localeid","prevPageLabelText").append(this._getLocaleValue("prevPageLabelText")),r.wrap(toStaticHTML('<a href="javascript:void(0);" tabIndex="-1"><\/a>')),i.attr("tabIndex","0").bind({keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(u._prevPage(),t.stopPropagation(),t.preventDefault())},focus:function(t){n(t.currentTarget).closest("div").removeClass("ui-state-default").addClass("ui-state-focus")},blur:function(t){n(t.currentTarget).closest("div").removeClass("ui-state-focus").addClass("ui-state-default")}}))},_renderNextPage:function(t){var i,u=this,r;i=n("<div><\/div>").appendTo(t).addClass(this.css.nextPage).attr({title:this._getLocaleValue("nextPageTooltip"),"data-localeid":"nextPageTooltip","data-localeattr":"title"}),this.options.currentPageIndex===this.grid.dataSource.pageCount()-1?(n("<span><\/span>").appendTo(i).addClass(this.css.nextPageLabelDisabled).attr("data-localeid","nextPageLabelText").append(this._getLocaleValue("nextPageLabelText")),n("<span><\/span>").appendTo(i).addClass(this.css.nextPageImageDisabled)):(i.bind("mousedown",n.proxy(this._nextPage,this)),n("<span><\/span>").appendTo(i).addClass(this.css.nextPageLabel).attr("data-localeid","nextPageLabelText").append(this._getLocaleValue("nextPageLabelText")),r=n("<span><\/span>").appendTo(i).addClass(this.css.nextPageImage),r.wrap(toStaticHTML('<a href="javascript:void(0);" tabIndex="-1"><\/a>')),i.attr("tabIndex","0").bind({keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(u._nextPage(),t.stopPropagation(),t.preventDefault())},focus:function(t){n(t.currentTarget).closest("div").removeClass("ui-state-default").addClass("ui-state-focus")},blur:function(t){n(t.currentTarget).closest("div").removeClass("ui-state-focus").addClass("ui-state-default")}}))},_renderFirstPage:function(t){var i,u=this,r;i=n("<div><\/div>").appendTo(t).addClass(this.css.firstPage).attr({title:this._getLocaleValue("firstPageTooltip"),"data-localeid":"firstPageTooltip","data-localeattr":"title"}),this.options.currentPageIndex===0?(n("<span><\/span>").appendTo(i).addClass(this.css.firstPageImageDisabled),n("<span><\/span>").appendTo(i).addClass(this.css.firstPageLabelDisabled).attr("data-localeid","firstPageLabelText").append(this._getLocaleValue("firstPageLabelText"))):(i.bind("mousedown",n.proxy(this._firstPage,this)),r=n("<span><\/span>").appendTo(i).addClass(this.css.firstPageImage),n("<span><\/span>").appendTo(i).addClass(this.css.firstPageLabel).attr("data-localeid","firstPageLabelText").append(this._getLocaleValue("firstPageLabelText")),r.wrap(toStaticHTML('<a href="javascript:void(0);" tabIndex="-1"><\/a>')),i.attr("tabIndex","0").bind({keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(u._firstPage(),t.stopPropagation(),t.preventDefault())},focus:function(t){n(t.currentTarget).closest("div").removeClass("ui-state-default").addClass("ui-state-focus")},blur:function(t){n(t.currentTarget).closest("div").removeClass("ui-state-focus").addClass("ui-state-default")}}))},_renderLastPage:function(t){var i,u=this,r;i=n("<div><\/div>").appendTo(t).addClass(this.css.lastPage).attr({title:this._getLocaleValue("lastPageTooltip"),"data-localeid":"lastPageTooltip","data-localeattr":"title"}),this.options.currentPageIndex===this.grid.dataSource.pageCount()-1?(n("<span><\/span>").appendTo(i).addClass(this.css.lastPageLabelDisabled).attr("data-localeid","lastPageLabelText").append(this._getLocaleValue("lastPageLabelText")),n("<span><\/span>").appendTo(i).addClass(this.css.lastPageImageDisabled)):(i.bind("mousedown",n.proxy(this._lastPage,this)),n("<span><\/span>").appendTo(i).addClass(this.css.lastPageLabel).attr("data-localeid","lastPageLabelText").append(this._getLocaleValue("lastPageLabelText")),r=n("<span><\/span>").appendTo(i).addClass(this.css.lastPageImage),r.wrap(toStaticHTML('<a href="javascript:void(0);" tabIndex="-1"><\/a>')),i.attr("tabIndex","0").bind({keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(u._lastPage(),t.stopPropagation(),t.preventDefault())},focus:function(t){n(t.currentTarget).closest("div").removeClass("ui-state-default").addClass("ui-state-focus")},blur:function(t){n(t.currentTarget).closest("div").removeClass("ui-state-focus").addClass("ui-state-default")}}))},_renderPageSizeDropDown:function(t,i,r){var f,h,c=this.grid.id()+"_editor",e,u,o=this,s,l;for(e=this.options.pageSizeDropDownLocation==="above"?this.css.pageSizeDropDownContainerAbove:this.css.pageSizeDropDownContainer,t=r?n("<div><\/div>").insertAfter(t).addClass(e):i?n("<div><\/div>").prependTo(t).addClass(e):n("<div><\/div>").appendTo(t).addClass(e),t.attr({"data-pagesize-dd-container":this.grid.id(),title:this._getLocaleValue("pageSizeDropDownTooltip"),"data-localeid":"pageSizeDropDownTooltip","data-localeattr":"title"}),t=n("<div><\/div>").appendTo(t).addClass(this.css.pagingResults),i?(n("<span>"+this._getLocaleValue("pageSizeDropDownTrailingLabel")+"<\/span>").attr("data-localeid","pageSizeDropDownTrailingLabel").prependTo(t).addClass(this.css.pageSizeLabel),n("<span><\/span>").prependTo(t).attr("id",c),n("<span>"+this._getLocaleValue("pageSizeDropDownLabel")+"<\/span>").attr("data-localeid","pageSizeDropDownLabel").prependTo(t).addClass(this.css.pageSizeLabel)):(n("<span>"+this._getLocaleValue("pageSizeDropDownLabel")+"<\/span>").attr("data-localeid","pageSizeDropDownLabel").appendTo(t).addClass(this.css.pageSizeLabel),n("<span><\/span>").appendTo(t).attr("id",c).addClass(this.css.pageSizeDropDown),n("<span>"+this._getLocaleValue("pageSizeDropDownTrailingLabel")+"<\/span>").attr("data-localeid","pageSizeDropDownTrailingLabel").appendTo(t).addClass(this.css.pageSizeLabel)),u=this.options.pageSizeList===null||this.options.pageSizeList.length===0?[5,10,20,25,50,75,100]:this.options.pageSizeList,n.type(u)==="string"&&(u=u.split(",")),h=this.pageSize(),l=this._getEditorKeyboardNavigation(),s={language:this.grid.options.language,width:this.options.defaultDropDownWidth,dropDownAttachedToBody:!0,suppressNotifications:!0,buttonType:"dropdown",dropDownOnReadOnly:!0,listItems:u,allowNullValue:!1,readOnly:!0,textAlign:"left",value:h,valueChanged:function(n,t){o.options.pageSizeDropDownLocation==="inpager"?setTimeout(function(){o._changePageSize(n,t)},0):o._changePageSize(n,t)},rendered:function(n,t){var i=t.owner;i.editorContainer().addClass(o.css.pageSizeDropDown),i.field().removeClass("ui-state-disabled"),i.editorContainer().removeClass("ui-state-disabled")}},s=n.extend(s,l),this._pageSizeDD=this.grid.container().find("#"+c).igNumericEditor(s),f=0;f<u.length;f++)if(u[f]===h){this._pageSizeDD.igNumericEditor("selectedListIndex",f);break}n.ig.util.isIE8===!0&&this.grid.options._isHierarchicalGrid&&this.grid.options.fixedHeaders&&n("<col><\/col>").appendTo(this.grid.headersTable().find("colgroup")).remove(),this._pageSizeDropDownRendered=!0,this._trigger("pagingdropdownrendered")},_changePageSize:function(n,t){var r=!0,i=t.owner.value();r=this._trigger(this.events.pageSizeChanging,null,{currentPageSize:this.pageSize(),newPageSize:i,owner:this}),r?(this.options.type==="remote"?this.grid.element.trigger("iggriduidirty",{owner:this}):this.grid.element.trigger("iggriduisoftdirty",{owner:this}),this.pageSize(i),this.options.type==="remote"?this._shouldFirePageSizeChanged=!0:this._trigger(this.events.pageSizeChanged,null,{pageSize:i,owner:this})):t.owner.value(this.pageSize())},_deleteOld:function(n){this._curPageDD&&(this._curPageDD.igNumericEditor("destroy"),delete this._curPageDD),n&&this._pageSizeDD&&this._pageSizeDD.data("igNumericEditor")&&this._pageSizeDD.closest("body").length>0&&(this._pageSizeDD.igNumericEditor("destroy"),delete this._pageSizeDD)},destroy:function(){var t=this._pager();return this.pageSize(0),this._deleteOld(!0),this.grid.element.off(".paging"),this.options.showPageSizeDropDown===!0&&this.options.pageSizeDropDownLocation==="above"&&n("#"+this.grid.container()[0].id+" .ui-iggrid-pagesizedropdowncontainerabove").remove(),t.remove(),this._loadingIndicator&&delete this._loadingIndicator,this._superApply(arguments),this},_injectGrid:function(t,i){this.grid=t,this.options.type===null&&(this.options.type=this.grid._inferOpType()),this.options.persist?this._loadPagingData():i&&(this.options.currentPageIndex=this._oPageIndex,this.options.pageSize=this._oPageSize),this.grid.dataSource.settings.paging.type=this.options.type||"remote",this.grid.dataSource.settings.paging.pageIndex=this.options.currentPageIndex,this.options.type==="local"&&this.grid.dataSource.persistedPageIndex(this.grid.dataSource.settings.paging.pageIndex),this.grid.dataSource.settings.paging.pageSize=parseInt(this.options.pageSize,10),this.options.pageSizeUrlKey!==null&&this.options.pageIndexUrlKey&&(this.grid.dataSource.settings.paging.pageSizeUrlKey=this.options.pageSizeUrlKey,this.grid.dataSource.settings.paging.pageIndexUrlKey=this.options.pageIndexUrlKey),this.options.recordCountKey!==null&&(this.grid.dataSource.settings.responseTotalRecCountKey=this.options.recordCountKey),this.grid.dataSource.settings.paging.enabled=!0,this._pageSizeDD&&this._pageSizeDD.igNumericEditor("option","value",this.options.pageSize);this.grid.element.off(".paging").on("iggridvirtualrecordsrender.paging",n.proxy(this._onVirtRecordsRender,this))}}),n.extend(n.ui.igGridPaging,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridResizing",n.ui.igWidget,{options:{allowDoubleClickToResize:!0,deferredResizing:!1,columnSettings:[{columnKey:null,columnIndex:null,allowResizing:!0,minimumWidth:20,maximumWidth:null}],handleThreshold:5,inherit:!1},css:{columnResizeLine:"ui-iggrid-resize-line",resizingHandleCursor:"ui-iggrid-resizing-handle-cursor",resizingHandle:"ui-iggrid-resizing-handle"},events:{columnResizing:"columnResizing",columnResizingRefused:"columnResizingRefused",columnResized:"columnResized"},_createWidget:function(){this.options.columnSettings=[],n.Widget.prototype._createWidget.apply(this,arguments)},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(n,t){switch(n){case"locale":case"language":case"regional":this._super(n,t);break;default:throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",n));}},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},destroy:function(){return this._clearResizingHandles(),this.grid.element.unbind(".resizing"),this._superApply(arguments),this},resize:function(t,i){var r,u;if(typeof t=="number")r=t;else if(n.each(this.grid._visibleColumns(),function(n,i){i.key===t&&(r=n)}),r===undefined)throw new Error(this._getLocaleValue("noSuchVisibleColumn"));i===undefined||i===null||i==="*"?this._autoResize(r,!1,null):(n.type(i)==="string"&&i.indexOf("%")>0&&(u=this.grid.element.width(),i=parseInt(i,10)*u/100),this._resizeColumn(r,i,!1,null))},_headerRendered:function(){this.grid.element.igGridColumnFixing!==undefined&&(this._columnFixing=this.grid.element.data("igGridColumnFixing")),this._renderResizingHandles()},_columnsCollectionModified:function(){this._renderResizingHandles()},_columnsMoved:function(t,i){function l(t){r&&r[t]&&(h=n(r[t]),h.find('span[data-nonpaddedindicator="right"]').css("margin-right",-parseInt(h.css("padding-right"),10)+"px"))}var r,u=this.grid,e=i.len,o=i.start,f=i.index,s,c=f-o>0,h;i.owner.id()===this.grid.id()&&(o||e||f)&&(this._populateMultiColumnHeadersLevel0(),c&&(f-=e),r=u._isMultiColumnGrid?n(u._headerCells):u.options.virtualization===!0||u.options.rowVirtualization===!0?u.headersTable().find("> thead > tr").eq(0).children("th").not("[data-skip=true]"):u.headersTable().find("> thead > tr[data-header-row]").eq(0).children("th").not("[data-skip=true]"),s=c?f-1:o+e-1,l(s),l(f+e-1))},_hiddenColumnIndicatorsRendered:function(t){this.grid._isMultiColumnGrid&&t.length&&(t=t[0].closest("thead").find(">tr>th").not("[data-skip=true]")),t.find('span[data-nonpaddedindicator="right"]').each(function(t,i){var r=n(i),u=r.closest("th");r.css("margin-right",-parseInt(u.css("padding-right"),10)+"px")})},_fixedColumnsChanged:function(){this._renderResizingHandles()},_renderResizingHandles:function(){var r=this,t,i,u=this.grid._visibleColumns(),f,o=this.grid.element.attr("id"),e=this.grid.hasFixedColumns();if(this._clearResizingHandles(),u.length!==0){if(this.grid._isMultiColumnGrid)f=this.grid.headersTable().find("> thead > tr th").not("[data-skip=true]").not("[data-isheadercell=true]"),e&&n.each(this.grid.fixedHeadersTable().find("> thead > tr th").not("[data-skip=true]").not("[data-isheadercell=true]"),function(t,i){f.push(n(i))}),this._populateMultiColumnHeadersLevel0(),f.each(function(){for(var f,i=n(this),e=i.data("mchId"),u=r._oColumnSettings,t=0;t<u.length;t++)if(u[t].columnKey===e&&u[t].allowResizing===!1)return!0;f=r._renderResizingHandle(i),r._bindMultipleResizingHandle(i,f.find("span"))}),i=n(this.grid._headerCells);else if(this.grid.options.virtualization===!0||this.grid.options.rowVirtualization===!0)if(e)for(i=n(),t=0;t<u.length;t++)i.push(n("#"+o+"_"+u[t].key));else i=this.grid.headersTable().find("> thead > tr").eq(0).children("th").not("[data-skip=true]");else if(e)for(i=n(),t=0;t<u.length;t++)i.push(n("#"+o+"_"+u[t].key));else i=this.grid.headersTable().find("> thead > tr[data-header-row]").eq(0).children("th").not("[data-skip=true]");i.each(function(t){var f,e,o=n(this),i=u[t];if(i===null||i===undefined)return!0;e=r._findColumnSettingsByKey(i.key),e.allowResizing&&(f=r._renderResizingHandle(o),r._bindResizingHandle(o,f.find("span"),i))})}},_renderResizingHandle:function(t){var r,i;return this._resizingHandles||(this._resizingHandles=[]),r=n('<div data-resizinghandle="true" />').css("position","relative").css("width","100%").css("height","0px").css("top","0px").css("left","0px").prependTo(t),i=n("<a />").attr("title","").prependTo(r),n.ig.util.isIE9&&i.addClass(this.css.resizingHandleCursor),n('<span data-nonpaddedindicator="right"><\/span>').attr("title","").css("position","absolute").css("margin-right",-parseInt(t.css("padding-right"),10)+"px").css("right","0px").css("width",this.options.handleThreshold+"px").addClass(this.css.resizingHandleCursor).addClass(this.css.resizingHandle).appendTo(i),this._resizingHandles.push(r),i},_populateMultiColumnHeadersLevel0:function(){for(var u,e=this,r=this.grid._oldCols||[],o=r.length,s=n(this.grid._headerCells),i=[],f,h=this.grid._visibleColumns(),t=0;t<o;t++)if(r[t].level===0)i.push(r[t]);else for(u=0;u<r[t].children.length;u++)i.push(r[t].children[u]);f=i.length,s.each(function(r){var s=n(this),u=h[r],o;if(u===null||u===undefined)return!0;if(o=e._findColumnSettingsByKey(u.key),o.allowResizing){for(t=0;t<i.length;t++)if(i[t].key===u.key)break;t<f&&(i[t].allowResizing=!0,i[t].visibleIndex=r,i[t].settings=o),s.col=i[t]}})},_bindMultipleResizingHandle:function(n,t){var i=this,u=n.attr("data-mch-id"),r;r=this.grid._getMultiHeaderColumnById(u),t.mouseWrapper({distance:5,start:function(){return i._startResizing(n)},drag:function(t){return i._doResizingMultiColumnHeader(t.originalEvent,n,r)},stop:function(t){return i._stopResizingMiltiColumnHeader(t.originalEvent,n,r)}}).bind("dblclick.resizing",function(t){i._handleMouseMultiColumnHeaderDbClick(t,n,r)}).bind("click.resizing",function(n){n.preventDefault(),n.stopPropagation()})},_bindResizingHandle:function(n,t,i){var r=this;t.mouseWrapper({distance:5,start:function(){return r._startResizing(n)},drag:function(t){return r._doResizing(t.originalEvent,n,i)},stop:function(t){return r._stopResizing(t.originalEvent,n,i)}}).bind("dblclick.resizing",function(t){r._handleMouseDbClick(t,n,i)}).bind("click.resizing",function(n){n.preventDefault(),n.stopPropagation()})},_clearResizingHandles:function(){var n;if(this._resizingHandles){for(n=0;n<this._resizingHandles.length;n++)this._resizingHandles[n].remove();this._resizingHandles=[]}},_handleMouseDbClick:function(t,i,r){this.options.allowDoubleClickToResize&&this._autoResize(n.inArray(r,this.grid._visibleColumns()),!0,t)},_handleMouseMultiColumnHeaderDbClick:function(n,t,i){var r,u=i.children,f=u.length;if(this.options.allowDoubleClickToResize)for(r=0;r<f;r++)u[r].allowResizing===!0&&this._autoResize(u[r].visibleIndex,!0,n)},_autoResize:function(n,t,i){var r=this.grid.calculateAutoFitColumnWidth(n);if(r>-1)return this._resizeColumn(n,r,t,i)},_cancelHoveringEffects:function(n){var t=this.grid.element.closest(".ui-iggrid-root").data("igGrid");(t===undefined||t===null)&&(t=this.grid),t._cancelHoveringEffects=n},_startResizing:function(t){var r=n(document.body),i,u;return this._resizing=!0,this._cancelHoveringEffects(!0),n.ig.util.isIE10?r.focus():n(document.activeElement).blur(),r.addClass(this.css.resizingHandleCursor),this.grid._isMultiColumnGrid&&(u=t.igOffset().top-this._gridContainerPositioningOffset().top),i=t.igOffset().top+this._gridContainerPositioningOffset().top,this.grid.options.height!==null&&this.grid.options.showHeader===!0&&this.grid.options.fixedHeaders===!1&&(i+=this.grid.scrollContainer().scrollTop()),this._resizeLine=n("<div><\/div>").addClass(this.css.columnResizeLine).data("efh","1").css({height:this._calculateGridResizableHeight(u),top:i,visibility:"hidden"}).appendTo(this.grid.container()),n.ig.util.isIE8&&this.grid.container().attr("tabIndex",this.grid.container().attr("tabIndex")),!0},_doResizingMultiColumnHeader:function(t,i,r){var f,o,h,c,e,l,a,v,s=r.children,y=s.length,u=null,p;if(o=t.pageX-i.igOffset().left,o<0&&(o=0),v=i.igOffset().top-this.grid.headersTable().igOffset().top,this.options.deferredResizing){for(a=i.igOffset().left,e={min:a,max:a},f=0;f<y;f++)(u=s[f],u.hidden)||(u.allowResizing?(h=this._getRange(this.options.columnSettings[u.visibleIndex]),e.min+=h.min,h.max===Infinity?e.max=Infinity:e.max!==Infinity&&(e.max+=h.max)):e.min+=n("#"+this.grid.element[0].id+"_"+u.key)[0].offsetWidth);this._resizeLine.css("height",this._calculateGridResizableHeight(v)),this._resizeLine.css({left:this._coerceRange(e,t.pageX)+this._gridContainerPositioningOffset().left,visibility:"visible"})}else{for(f=y-1;f>=0;f--)if(s[f].allowResizing&&!s[f].hidden&&(u=s[f],u.resized=!u.resized,u.resized))break;if(u===null||u.hidden||(p=n("#"+this.grid.element[0].id+"_"+u.key),l=n.inArray(u,this.grid._visibleColumns()),o=p[0].offsetWidth-i[0].offsetWidth+o,c=this._resizeColumn(l,o,!0,t,l)),!c)return!0;c.canceled||(this._resizeLine.css("height",this._calculateGridResizableHeight(v)),this._resizeLine.css({left:i.igOffset().left+i.outerWidth()+this._gridContainerPositioningOffset().left,visibility:"visible"}))}return!0},_doResizing:function(t,i,r){var u,o,s=n.inArray(r,this.grid._visibleColumns()),f,e,h;return this.options.deferredResizing?(f=this._getRange(this.options.columnSettings[s]),e=i.igOffset().left,f.min+=e,f.max+=e,this._resizeLine.css({left:this._coerceRange(f,t.pageX)+this._gridContainerPositioningOffset().left,visibility:"visible"})):(u=t.pageX-i.igOffset().left,u<0&&(u=0),this.grid._isMultiColumnGrid&&(h=i.igOffset().top-this.grid.headersTable().igOffset().top),o=this._resizeColumn(s,u,!0,t),o.canceled||(this._resizeLine.css("height",this._calculateGridResizableHeight(h)),this._resizeLine.css({left:i.igOffset().left+i.outerWidth()+this._gridContainerPositioningOffset().left,visibility:"visible"}))),!0},_stopResizingMiltiColumnHeader:function(t,i,r){var u,e,o,s,a=this,f,c,l=0,h;if(this.options.deferredResizing){for(e=t.pageX-i.igOffset().left,f=r.children,c=f.length,h=[],u=0;u<c;u++){if(s=f[u].key,o=this._findColumnSettingsByKey(s),f[u].allowResizing===!1||o&&o.allowResizing===!1){e-=n("#"+this.grid.element[0].id+"_"+s)[0].offsetWidth;continue}h.push(f[u]),l++}l>0&&this._resizeMCHDeffered(e,h)}return n("body").removeClass(this.css.resizingHandleCursor),setTimeout(function(){a._resizing=!1},0),this._cancelHoveringEffects(!1),this._resizeLine.remove(),this._resizeLine=undefined,!0},_resizeMCHDeffered:function(t,i){var r,s,u,f=i.length,e=[],a=this.grid._visibleColumns(),h,o=t,c=[],l;if(f!==0){for(r=0;r<f;r++)(u=n.inArray(i[r],a),u!==-1&&this.options.columnSettings[u].allowResizing!==!1)&&e.push({column:s,columnIndex:u});if(f=e.length,f>0)for(l=parseInt(t/f,10),r=0;r<f;r++)s=e[r].column,u=e[r].columnIndex,h=this._resizeColumn(u,l,!0),h.newWidth!==l?o-=h.newWidth:c.push(s);o>5&&o!==t&&c.length>0&&this._resizeMCHDeffered(o,c)}},_stopResizing:function(t,i,r){var u,e=this,f=n.inArray(r,this.grid._visibleColumns());return this.options.deferredResizing&&(u=t.pageX-i.igOffset().left,u=this._coerceRange(this._getRange(this.options.columnSettings[f]),u),this._resizeColumn(f,u,!0,t)),n("body").removeClass(this.css.resizingHandleCursor),setTimeout(function(){e._resizing=!1},0),this._cancelHoveringEffects(!1),this._resizeLine.remove(),this._resizeLine=undefined,!0},_resizeColumn:function(t,i,r,u,f){var ut,ii=0,at,c=this.grid._visibleColumns(),k=c[t].key,ft,ri,tt,v,et=t,d=this.grid.options.showHeader?this.grid.headersTable():this.grid.element,vt,y,o,p,w,yt=this.options.columnSettings,pt=this.grid.hasFixedColumns(),a,wt,it,bt=[],s=[],ui=[],b=[],e,h,ot,kt,g,st,dt,nt,rt,gt,ht,ct,lt,fi,l,ei=!0,ni,ti;if(delete c[t].oWidth,pt&&(et=this.grid.getVisibleIndexByKey(k),y=c[t].fixed===!0,y&&(d=this.grid.fixedHeadersTable())),this.grid._isMultiColumnGrid?(o=n(this.grid._headerCells),p=o.length>0?n(o[t])[0].offsetWidth:p):(o=this.grid.options.virtualization===!0||this.grid.options.rowVirtualization===!0?d.find("> thead > tr").first().children("th").not("[data-skip=true]"):d.find("> thead > tr[data-header-row]").first().children("th").not("[data-skip=true]"),this.grid.options.showHeader||(o=d.find("tbody>tr:not([data-container='true'],[data-grouprow='true']):first").children("td").not("[data-skip=true]")),p=o.length>0?o.get(et).offsetWidth:p),w=d.find("> colgroup > col").not("[data-skip=true]"),yt=this.options.columnSettings,a=w.length,ni=w.length,wt=w[et].style.width,it=/%$/.test(wt),n(w).each(function(n){yt[n].allowResizing||ni--}),wt===""&&(it=!0,w.each(function(n,t){if(t.style.width!=="")return it=!1,!1})),r&&(fi=this._trigger(this.events.columnResizing,u,{owner:this,columnIndex:t,columnKey:k,desiredWidth:i}),!fi))return{canceled:!0,originalWidth:i,newWidth:i};if(this.grid._fireInternalEvent("_internalColumnResized"),vt=k!==undefined?this._findColumnSettingsByKey(k):yt[t],nt=this._getRange(vt),i=this._coerceRange(nt,i),i=Math.floor(i),(i===nt.min||i===nt.max)&&(ei=!1),y&&(h=p-i,ut=parseInt(this.grid.options.width,10),(isNaN(ut)||this.grid._gridHasWidthInPercent())&&(ut=this.grid.container().outerWidth()),h<0&&(ii=this._columnFixing.options.minimalVisibleAreaWidth,at=this._columnFixing._isVirtualGrid()?this.grid._virtualcontainer().find("colgroup:first>col[data-fixed-col]").width():this.grid.fixedContainer().outerWidth(),at-h>ut-this.grid._scrollbarWidth()-ii)))return r&&this._trigger(this.events.columnResizingRefused,u,{owner:this,columnIndex:t,columnKey:k,desiredWidth:i}),{canceled:!0,originalWidth:i,newWidth:i};if(n.ig.util.isWebKit&&it)for(rt=d[0].offsetWidth,e=0;e<a;e++)tt=w[e].style.width,s[e]=tt===""?parseFloat(this.grid._isMultiColumnGrid?o[e][0].offsetWidth:o[e].offsetWidth):tt.indexOf("%")>0?parseFloat(tt)/100*rt:parseFloat(tt);else if(o.length>0)for(e=0;e<a;e++)bt[e]=w[e].style.width,s[e]=this.grid._isMultiColumnGrid?o[e][0].offsetWidth:o[e].offsetWidth;if(it){for(h=p-i,ot=h<0,gt=[],ht=0,kt=0,(f===undefined||f===null)&&(f=0);ht<a-1-f&&(ot&&h<-.05||!ot&&h>.05);)for(dt=h/(ni-1),e=f;e<a;e++)if(e!==t&&!gt[e]){if(ti=this._findColumnSettingsByKey(this.grid._visibleColumns()[e].key),!ti.allowResizing){ht++;continue}g=ot?Math.max(dt,h):Math.min(dt,h),s[e]+=g,nt=this._getRange(ti),st=this._coerceRange(nt,s[e]),Math.abs(s[e]-st)>5e-6&&(g-=s[e]-st,s[e]=st,gt[e]=!0,ht++),kt+=g,h-=g}for(s[t]-=kt,rt=0,e=0;e<a;e++)rt+=s[e];for(e=0;e<a;e++)ui[e]=100*s[e]/rt;for(e=0;e<a;e++)b[e]=ui[e]+"%",c[e].width=b[e];ct=s[t],this._applyToEachGridCOL(function(n,t){t.css("width",b[n])},y)}else{for(lt=!0,e=0;e<a;e++)e===et?(b[e]=i+"px",ct=i,ft=n.type(c[t].width),ri=ft==="string"&&c[t].width.indexOf("px")>0,c[t].width=ft==="number"?i:ft==="string"?ri?b[e]:String(i):b[e]):(b[e]=bt[e],lt=lt&&parseInt(bt[e],10)>=0);this._applyToEachGridCOL(function(n,t){t.css("width",b[n])},y),l=this.grid._calculateContainerWidth(!1),lt&&(this.grid.options.width&&parseInt(this.grid.options.width,10)>0?(y||this.grid._updateGridContentWidth(),(this.grid.options.virtualization===!0||this.grid.options.rowVirtualization===!0)&&(this.grid._oldScrollLeft=n("#"+this.grid.id()+"_horizontalScrollContainer").scrollLeft()),(this.grid.options.rowVirtualization||this.grid.options.virtualization===!0)&&(v=l-this.grid._scrollbarWidth(),n("#"+this.grid.element[0].id+"_headers").css("width",l).css("max-width",l),this.grid.element.css("width",v).css("max-width",v),n("#"+this.grid.id()+"_footers").css("width",l).css("max-width",l))):(pt&&!y&&this.grid._updateGridContentWidth(),this.grid._setContainerWidth(n("#"+this.grid.id()+"_container")),(this.grid.options.rowVirtualization||this.grid.options.virtualization===!0)&&(v=l+this.grid._scrollbarWidth(),n("#"+this.grid.element[0].id+"_headers_v").css("width",v).css("max-width",v),n("#"+this.grid.element[0].id+"_displayContainer").css("width",l).css("max-width",l),n("#"+this.grid.element[0].id+"_virtualContainer > colgroup > col").first().attr("width",l),n("#"+this.grid.id()+"_footer_container").css("width",v).css("max-width",v))))}return pt&&this._columnFixing._containerResized(y,h),r&&this._trigger(this.events.columnResized,u,{owner:this,columnIndex:t,columnKey:k,originalWidth:p,newWidth:ct}),{canceled:!1,originalWidth:p,newWidth:ct,isResized:ei}},_applyToEachGridCOL:function(t,i){var r,u;this.grid.options.showHeader&&(r=i?this.grid.fixedHeadersTable():this.grid.headersTable(),r.find("> colgroup > col").not("[data-skip=true]").each(function(i){t(i,n(this))})),(this.grid.options.fixedHeaders===!0&&this.grid.options.height!==null||this.grid.options.showHeader===!1)&&(i?n("#"+this.grid.id()+"_fixed").find("> colgroup > col").not("[data-skip=true]").each(function(i){t(i,n(this))}):this.grid.element.find("> colgroup > col").not("[data-skip=true]").each(function(i){t(i,n(this))})),this.grid.options.fixedFooters===!0&&this.grid.options.height!==null&&(u=i?this.grid.fixedFootersTable():this.grid.footersTable(),u.find("> colgroup > col").not("[data-skip=true]").each(function(i){t(i,n(this))}))},_getRange:function(t){var i=t.minimumWidth,r=t.maximumWidth,u;return n.type(i)==="string"&&i.indexOf("%")>0&&(u=this.grid.element.width(),i=parseInt(i,10)*u/100),n.type(r)==="string"&&r.indexOf("%")>0&&(u=this.grid.element.width(),r=parseInt(r,10)*u/100),i=isNaN(i)?0:i,i=Math.max(0,i),r=isNaN(r)?Infinity:r,{min:i,max:r}},_coerceRange:function(n,t){return t=Math.max(n.min,t),t=Math.min(n.max,t)},_gridContainerPositioningOffset:function(){var n=this.grid.container(),f=n.css("position"),i=n.offsetParent(),e=n.igPosition(),t=n.igOffset(),r,u;return f==="relative"||f==="absolute"?{top:-t.top,left:-t.left}:(i.is("body")?(r=0,u=0):(r=i.scrollTop(),u=i.scrollLeft()),{top:r+e.top-t.top,left:u+e.left-t.left})},_calculateGridResizableHeight:function(t){var i,f,r,u,e,o=this.grid.options.virtualization===!0||this.grid.options.rowVirtualization===!0||this.grid.options.columnVirtualization===!0,s=this.grid.options.height!==null||this.grid.options.width!==null;return i=o?n("#"+this.grid.element[0].id+"_displayContainer").height():s?this.grid.scrollContainer().height():this.grid.element.height(),(o||s)&&(r=this.grid.headersTable(),u=this.grid.footersTable(),this.grid.options.fixedHeaders===!0&&this.grid.options.showHeader===!0&&(r.length!==0&&this.grid.element[0].id!==r[0].id&&(i+=r.height()),f=r.children("#"+this.grid.element[0].id+"_caption"),f.length!==0&&(n.ig.util.isFF||(i-=f.outerHeight(!0)))),e=n("#"+this.element[0].id+"_hscroller_container"),e.is(":visible")&&(i+=e.height()),this.grid.options.fixedFooters===!0&&this.grid.options.showFooter===!0&&u.length!==0&&this.grid.element[0].id!==u[0].id&&(i+=u.height())),t&&(i-=t),i},_findColumnSettingsByKey:function(n,t){var i;for(t||(t=this.options.columnSettings),i=0;i<t.length;i++)if(t[i].columnKey===n)return t[i]},_initDefaultSettings:function(){var i=[],f,r=this.options.columnSettings,n,t,u,e;if(this.grid.options.columns&&this.grid.options.columns.length>0)for(n=0;n<this.grid.options.columns.length;n++)i[n]={columnIndex:n,columnKey:this.grid.options.columns[n].key,allowResizing:!0,minimumWidth:20};for(n=0;n<r.length;n++){for(t=0;t<i.length;t++)if(i[t].columnKey===r[n].columnKey||i[t].columnIndex===r[n].columnIndex)break;if(t===i.length){if(this.grid._isMultiColumnGrid&&r[n].allowResizing===!1&&(u=this.grid._getMultiHeaderColumnById(r[n].columnKey),u&&u.children))for(u.allowResizing=!1,t=0;t<u.children.length;t++)e=this._findColumnSettingsByKey(u.children[t].key,i),e&&(e.allowResizing=!1),u.children[t].allowResizing=!1;continue}for(f in r[n])r[n].hasOwnProperty(f)&&f!=="columnIndex"&&f!=="columnKey"&&(i[t][f]=r[n][f])}this._oColumnSettings=this.options.columnSettings,this.options.columnSettings=i},_injectGrid:function(t){this.grid=t,this._checkGridNotSupportedFeatures(),this.grid.element.unbind(".resizing"),this._initDefaultSettings(),this.grid.element.bind("iggridheaderrendered.resizing",n.proxy(this._headerRendered,this)),this.grid.element.bind("iggridcolumnscollectionmodified.resizing",n.proxy(this._columnsCollectionModified,this)),this.grid.element.bind("iggrid_columnsmoved.resizing",n.proxy(this._columnsMoved,this))},_checkGridNotSupportedFeatures:function(){var n=this.grid.options;if((n.virtualization===!0||n.columnVirtualization===!0)&&n.virtualizationMode==="fixed")throw new Error(this._getLocaleValue("resizingAndFixedVirtualizationNotSupported"));}}),n.extend(n.ui.igGridResizing,{version:"19.2.25"})}(n),function(n){"use strict";n.widget("ui.igGridResponsive",n.ui.igWidget,{localeWidgetName:"igGridResponsive",options:{columnSettings:[{columnKey:null,columnIndex:null,classes:"",configuration:null}],reactOnContainerWidthChanges:!0,forceResponsiveGridWidth:!0,responsiveSensitivity:20,responsiveModes:null,enableVerticalRendering:!0,windowWidthToRenderVertically:null,propertiesColumnWidth:"50%",valuesColumnWidth:"50%",allowedColumnWidthPerType:{string:120,number:50,bool:50,date:80,object:150},singleColumnTemplate:null,inherit:!1},events:{responsiveColumnHiding:"responsiveColumnHiding",responsiveColumnHidden:"responsiveColumnHidden",responsiveColumnShowing:"responsiveColumnShowing",responsiveColumnShown:"responsiveColumnShown",responsiveModeChanged:"responsiveModeChanged"},css:{verticalContainerCssClass:"ui-iggrid-responsive-vertical"},_createWidget:function(){this.options.columnSettings=[],n.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){this._callBackId=null,this._responsive=null,this._exclusiveContainer=!1,this._mode="",this._modes=this.options.responsiveModes||{desktop:"infragistics",tablet:"infragistics",phone:"infragistics"},this._modes=this._initializeModeRecognizers(this._modes),this._hiddenByClass=this._flagClassConfiguration(),this._defaultColumnTemplates=null,this._defaultColumnFormatters=null,this._footersDisplacement=.1,this._originalRenderRecord=null,this._newRenderRecord=null,this._vrw=typeof this.options.windowWidthToRenderVertically=="string"?parseInt(this.options.windowWidthToRenderVertically,10):this.options.windowWidthToRenderVertically,this._vr=null},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(t,i){switch(t){case"propertiesColumnWidth":case"valuesColumnWidth":throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",t));case"responsiveModes":this._modes=i,this._modes=this._initializeModeRecognizers(this._modes);break;case"reactOnContainerWidthChanges":i===!0?this._activateContainer():this._deactivateContainer();break;case"enableVerticalRendering":this.options.enableVerticalRendering=i,this._shouldRenderVertically()?this._vr||this._enableNoHeaderLayout(!0,!1):this._vr&&this._disableNoHeaderLayout();break;case"windowWidthToRenderVertically":this._vrw=typeof i=="string"?parseInt(i,10):i}n.Widget.prototype._setOption.apply(this,arguments),this._hiddenByClass=this._flagClassConfiguration()},destroy:function(){return this._deactivateContainer(),this._initialGridRenderedHandler&&(this.grid.element.unbind("iggridrendered",this._initialGridRenderedHandler),this.grid.element.unbind("iggridheaderrendering",this._gridHeaderRenderingHandler)),this.grid.element.unbind("iggrid_heightchanged",this._gridContainerHeightHandler),n("#"+this.grid.element[0].id+"_responsive_test_container").remove(),this.grid._renderRecord=this._originalRenderRecord,this.grid._renderColgroup=this._originalRenderColgroup,this.grid._renderCell=this._originalRenderCell,this.grid.renderNewRow=this._originalRenderNewRow,this._superApply(arguments),this},getCurrentResponsiveMode:function(){return this._mode},_activateContainer:function(){this._responsive&&typeof this._responsive.addCallback=="function"||(this._responsive=this.grid.element.closest(".ui-widget").igResponsiveContainer().data("igResponsiveContainer"),this._exclusiveContainer=!0),this._callBackId=this._responsive.addCallback(this._containerResized,this,this.options.responsiveSensitivity,"x")},_deactivateContainer:function(){typeof this._callBackId=="number"&&(this._responsive.removeCallback(this._callBackId),this._callBackId=null),this._exclusiveContainer===!0&&(this._responsive.destroy(),delete this._responsive,this._exclusiveContainer=!1)},_renderTestElement:function(){n("<div><\/div>").attr("id",this.grid.element[0].id+"_responsive_test_container").css("position","fixed").css("height","0px").css("top","-100px").text("&nbsp;").appendTo(this.grid.container())},_initializeModeRecognizers:function(){var i=this,r={},t;return n.each(this._modes,function(u,f){typeof f=="string"?(t=f.substring(0,1).toUpperCase()+f.substring(1),t=new n.ig[t+"Mode"]({key:u,visibilityTester:n.proxy(i._checkVisibilityByClass,i)})):t=typeof f!="object"||f.isActive?f:new n.ig.ResponsiveMode({minWidth:f.minWidth||-1,maxWidth:f.maxWidth||Number.MAX_VALUE,minHeight:f.minHeight||-1,maxHeight:f.maxHeight||Number.MAX_VALUE}),r[u]=t}),r},_flagClassConfiguration:function(){var t=!1;return n.each(this.options.columnSettings,function(){if(this.classes)return t=!0,!1}),t},_getDefaultColumnTemplates:function(){for(var i={},n,t=0;t<this.grid.options.columns.length;t++)n=this.grid.options.columns[t],n.template&&(n.key?i[n.key]=n.template:i[t]=n.template);return i},_getDefaultColumnFormatters:function(){for(var i={},n,t=0;t<this.grid.options.columns.length;t++)n=this.grid.options.columns[t],n.formatter&&(n.key?i[n.key]=n.formatter:i[t]=n.formatter);return i},_checkVisibilityByClass:function(t){var i=n("#"+this.grid.element[0].id+"_responsive_test_container");return i.removeClass(),i.addClass(t),i.is(":visible")},_gridReady:function(){return!(this.grid._loadingIndicator&&this.grid._loadingIndicator._indicator.is(":visible"))},_shouldRenderVertically:function(){return this.options.enableVerticalRendering?this._vrw===null||this._vrw===undefined?this._shouldRenderVerticallyByDefault():n(window).width()<this._vrw?!0:(n(window).width()>=this._vrw,!1):!1},_shouldRenderVerticallyByDefault:function(){for(var u=this.grid.element.width(),f=100,r,i=[],t,e=0,o,s,n=0;n<this.grid._visibleColumns().length;n++){if(t=this.grid._visibleColumns()[n],t.width){r=-1,typeof t.width=="string"?t.width.endsWith("%")?(r=parseInt(t.width,10),f-=r):u-=parseInt(t.width,10):u-=t.width,r!==-1&&i.push({key:t.key||n,width:r,type:t.dataType});continue}e++,i.push({key:t.key||n,width:-1,type:t.dataType})}for(n=0;n<i.length;n++)if(o=i[n].width===-1?f/e:i[n].width,s=o/100*u,s<=this.options.allowedColumnWidthPerType[i[n].type])return!0;return!1},_isSingleColumn:function(){if(this.options.singleColumnTemplate&&this.options.singleColumnTemplate[this._mode])return!0},_updateGridSync:function(n,t){var i=this;if(!this._gridReady()){setTimeout(function(){i._updateGridSync(n,t)},50);return}return i._updateGrid(n,t)},_updateGrid:function(t,i){var o=[],s=!1,f,e,r=this,u;if(this._vr=this._vr===null?this._shouldRenderVertically():this._vr,delete this.grid._visibleColumnsArray,this._vr&&this.grid.element.addClass(this.css.verticalContainerCssClass),this._hiddenByClass===!0&&(o=this._updateColumnsByClass()),i===!0&&(this._hiddenByClass===!1&&(o=this._updateColumns()),s=this._updateTemplatesFormatters()),f=o[0]||[],e=o[1]||[],f.length===0&&e.length===0)return s===!0&&t===!1?!0:void 0;t===!1?(this.grid._loadingIndicator.show(),setTimeout(function(){for(r.grid._setHiddenColumns(f,!1,t),u=0;u<f.length;u++)r._trigger(r.events.responsiveColumnShown,null,r._getArgsByColumn(f[u]));for(r.grid._setHiddenColumns(e,!0,t),u=0;u<e.length;u++)r._trigger(r.events.responsiveColumnHidden,null,r._getArgsByColumn(e[u]));t===!1&&r.grid._loadingIndicator.hide(),r._setMaxWidthOnGrid()},0)):(n.each(f,function(){this.hidden=!1}),n.each(e,function(){this.hidden=!0}))},_updateColumnsByClass:function(){for(var t=this.options.columnSettings,i,e=[],o=[],r,u,f,n=0;n<t.length;n++)if(t[n].classes){if(i=this._getGridColumnBySetting(t[n]),!i)continue;u=i.hidden||!1,f=this._checkVisibilityByClass(t[n].classes),u===!0&&f===!0&&(r=this._trigger(this.events.responsiveColumnShowing,null,this._getArgsByColumnSetting(t[n])),r&&o.push(i)),u===!1&&f===!1&&(r=this._trigger(this.events.responsiveColumnHiding,null,this._getArgsByColumnSetting(t[n])),r&&e.push(i))}return[o,e]},_updateColumns:function(){for(var t=this.options.columnSettings,i,e=[],o=[],r,s=this._mode,u,f,n=0;n<t.length;n++)if(t[n].configuration){if(i=this._getGridColumnBySetting(t[n]),!i)continue;u=i.hidden||!1,f=!(t[n].configuration[s]&&t[n].configuration[s].hidden),u===!0&&f===!0&&(r=this._trigger(this.events.responsiveColumnShowing,null,this._getArgsByColumnSetting(t[n])),r&&o.push(i)),u===!1&&f===!1&&(r=this._trigger(this.events.responsiveColumnHiding,null,this._getArgsByColumnSetting(t[n])),r&&e.push(i))}return[o,e]},_updateTemplatesFormatters:function(){for(var r=this.options.columnSettings,e,u,o=!1,t,f=this._mode,s=String(this.grid.options.templatingEngine).toLowerCase()==="jsrender",i=0;i<r.length;i++)(t=this._getGridColumnBySetting(r[i]),t)&&(e=r[i].configuration&&r[i].configuration[f]&&r[i].configuration[f].template?r[i].configuration[f].template:t.key?this._defaultColumnTemplates[t.key]:this._defaultColumnTemplates[n.inArray(t,this.grid.options.columns)],r[i].configuration&&r[i].configuration[f]&&r[i].configuration[f].formatter?(u=r[i].configuration[f].formatter,u=n.type(u)==="string"?window[u]:u):u=t.key?this._defaultColumnFormatters[t.key]:this._defaultColumnFormatters[n.inArray(t,this.grid.options.columns)],t.template!==e&&(t.template=e,o=!0),t.formatter!==u&&(t.formatter=u,o=!0));return o===!0&&(this.grid._tmplWrappers||(this.grid._tmplWrappers=s?n.render:{}),this.grid._setTemplateDefinition(s)),o},_executeTemplate:function(t){return this._jsr?n.render[this.grid.id()+"_responsiveSct_"+this._mode](t).replace("<td","").replace("<\/td>",""):n.ig.tmpl(this.options.singleColumnTemplate[this._mode],t).replace("<td","").replace("<\/td>","")},_renderRecord:function(n,t){return this._vr?this._renderRecordVerticalGrid(n,t):this._scr?this._renderRecordSingleColumnGrid(n,t):this._originalRenderRecord(n,t)},_renderRecordVerticalGrid:function(n,t){for(var r=0,i="",e,u=this.grid._visibleColumns(),f=this.grid.options.primaryKey,o=t%2!=0&&this.grid.options.alternateRowStyles,r=0;r<u.length;r++)i+="<tr",o&&(i+=' class="'+this.grid.css.recordAltClass+'"'),f!==undefined&&f!==null&&n[f]!==null&&n[f]!==undefined&&(i+=' data-id="'+n[f]+'"'),i+=' data-col-key="'+u[r].key+'"',i+="><td>",i+=u[r].headerText+"<\/td>",i+='<td aria-readonly="true"',u[r].template&&u[r].template.length?(e=this.grid._renderTemplatedCell(n,u[r]),i+=e.indexOf("<td")===0?e.substring(3):">"+e):i+=' aria-describedby="'+this.grid.id()+"_"+u[r].key+'">'+this.grid._renderCell(n[u[r].key],u[r]),i+="<\/td><\/tr>";return i},_renderRecordSingleColumnGrid:function(t,i){var r="<tr",e=this.grid.options.primaryKey,u,f,o,s;i%2!=0&&this.options.alternateRowStyles&&(r+=' class="'+this.grid.css.recordAltClass+'"'),e!==null&&e!==undefined?r+=' data-id="'+this.grid._kval_from_key(e,t)+'"':t.ig_pk!==null&&e!==undefined&&(r+=' data-id="'+t.ig_pk+'"'),r+='><td aria-readonly="true"',u=n.extend(!0,{},t);for(f in u)u.hasOwnProperty(f)&&(s=n.type(t[f]),u[f]=this.grid._renderCell(t[f],this.grid.columnByKey(f)||{},u,null,s==="object"||s==="array"));return o=this._executeTemplate(u),r+=o.indexOf("<td")===0?o.substring(3):">"+o,r+="<\/td><\/tr>"},_renderNewRow:function(n){var i,t,r,u;this._vr?(i=this.element.children("tbody"),t=this.grid.options,u=t.virtualization===!0||t.rowVirtualization===!0,u?(this._renderVirtualRecordsContinuous(),this._startRowIndex=0,this.virtualScrollTo(this._totalRowCount)):(r=this.grid._getDataView().length-1,i.append(this.grid._renderRecord(n,r)))):this._originalRenderNewRow(n)},_renderCell:function(t,i,r,u,f){var e=i.dataType,o=i.format,h=this.grid.options,s=h.autoFormat;return(r&&(t=this.grid.dataSource.getCellValue(i.key,r)),t=this.grid._fixDate(t,i),i.formatter)?i.formatter(t,r,this._mode):(!o&&e==="bool"&&h.renderCheckboxes&&(o="checkbox"),o==="checkbox"&&e!=="bool"&&(o=null),e=e==="date"||e==="number"?e:"",o||(s===!0||s==="dateandnumber")&&e||s&&s===e)?n.ig.formatter(t,e,o,!0,i.dateDisplayType==="utc",this.grid._getOffsetForCol(r,i),u,i.headerText,this.grid.options.tabIndex):f?t:t||t===0||t===!1?t.toString():"&nbsp;"},_renderColgroup:function(t,i,r,u){var f,e,o;if(this._vr=this._vr===null?this._shouldRenderVertically():this._vr,this._scr=this._scr===undefined||this._scr===null?this._isSingleColumn():this._scr,!this._vr&&!this._scr){this._originalRenderColgroup(t,i,r,u);return}f=n(t).find("colgroup"),f.length===0&&(f=n("<colgroup><\/colgroup>").prependTo(t)),f.empty(),this._vr?(e=typeof this.options.propertiesColumnWidth=="string"?parseInt(this.options.propertiesColumnWidth,10):this.options.propertiesColumnWidth,o=typeof this.options.valuesColumnWidth=="string"?parseInt(this.options.valuesColumnWidth,10):this.options.valuesColumnWidth,f.append('<col width="'+e+'%"><\/col><col width="'+o+'%"><\/col>')):this._scr&&f.append('<col width="100%"><\/col>')},_enableNoHeaderLayout:function(n,t){this.grid.element.addClass(this.css.verticalContainerCssClass),this.grid.options.showHeader&&this.grid.options.fixedHeaders&&this.grid.options.height!==null?(this.grid.headersTable().css("position","absolute"),this.grid.headersTable().css("top","-100px")):this.grid.headersTable().children("thead").css("display","none"),this._vr=n,this._scr=t,this._modifySortingStyles(),this._disableUpdating(),this.grid._rerenderColgroups(),this.grid._renderData()},_disableNoHeaderLayout:function(){this.grid.element.removeClass(this.css.verticalContainerCssClass),this.grid.options.showHeader&&this.grid.options.fixedHeaders&&this.grid.options.height!==null?(this.grid.headersTable().css("position",""),this.grid.headersTable().css("top","")):this.grid.headersTable().children("thead").css("display",""),this._scr=!1,this._vr=!1,this._modifySortingStyles(!0),this._enableUpdating(),this.grid._rerenderColgroups(),this.grid._renderData()},_disableUpdating:function(){this.grid.element.data("igGridUpdating")&&(this._em=this.grid.element.igGridUpdating("option","editMode"),this._dm=this.grid.element.igGridUpdating("option","enableDeleteRow"),this.grid.element.igGridUpdating("option","editMode","none"),this.grid.element.igGridUpdating("option","enableDeleteRow",!1))},_enableUpdating:function(){this.grid.element.data("igGridUpdating")&&(this._em&&this.grid.element.igGridUpdating("option","editMode",this._em),this._dm&&this.grid.element.igGridUpdating("option","enableDeleteRow",!0))},_getGridColumnBySetting:function(n){var t;return n.columnKey&&typeof n.columnKey=="string"?t=this.grid.columnByKey(n.columnKey):n.columnIndex!==null&&n.columnIndex!==undefined&&typeof n.columnIndex=="number"&&n.columnIndex>=0&&n.columnIndex<this.grid.options.columns.length&&(t=this.grid.options.columns[n.columnIndex]),t},_getArgsByColumnSetting:function(n){return{owner:this,columnIndex:n.columnIndex||null,columnKey:n.columnKey||null}},_getArgsByColumn:function(t){return{owner:this,columnIndex:n.inArray(t,this.grid.options.columns),columnKey:t.key||null}},_getCurrentMode:function(){var t;return n.each(this._modes,function(n){if(this.isActive()===!0)return t=n,!1}),t},_containerResized:function(n,t){var i=this._getCurrentMode(),f,r=!1,u=!1;n<=0&&t<=0||(this._setMaxWidthOnGrid(),i&&i!==this._mode&&(f=this._mode,this._mode=i,this._trigger(this.events.responsiveModeChanged,null,{owner:this,previousMode:f,mode:i}),r=!0),(r||this._hiddenByClass)&&(u=this._updateGridSync(!1,r)),this._isSingleColumn()?this._scr?r&&this.grid._renderData():this._enableNoHeaderLayout(!1,!0):this._scr?(this._disableNoHeaderLayout(),this._scr=!1):u&&this.grid._renderData(),this._shouldRenderVertically()?this._vr||this._enableNoHeaderLayout(!0,!1):this._vr?(this._disableNoHeaderLayout(),this._vr=!1):u&&this.grid._renderData())},_gridHeaderRendering:function(t,i){var r;if(i.owner.id()===this.grid.id()){if(this._renderTestElement(),this._mode=this._getCurrentMode(),this._defaultColumnTemplates=this._getDefaultColumnTemplates(),this._defaultColumnFormatters=this._getDefaultColumnFormatters(),n.isArray(this.grid._initialHiddenColumns))for(r=0;r<this.grid._initialHiddenColumns.length;r++)this.grid._initialHiddenColumns[r].hidden=!0;this._updateGrid(!0,!0),this.grid._captureInitiallyHiddenColumns()}},_initialGridRendered:function(){this.options.reactOnContainerWidthChanges&&this._activateContainer(),(this._vr||this._scr)&&(this.grid.options.showHeader&&this.grid.options.fixedHeaders&&this.grid.options.height!==null?(this.grid.headersTable().css("position","absolute"),this.grid.headersTable().css("top","-100px")):this.grid.headersTable().children("thead").css("display","none"),this._disableUpdating(),this._modifySortingStyles()),this._alreadyRendered=!0,this._setMaxWidthOnGrid()},_dataRendered:function(){this._setMaxWidthOnGrid()},_modifySortingStyles:function(n){var t=this.grid.element.data("igGridSorting");t&&(n?t.options.applySortedColumnCss=this._srs:(this._srs=t.options.applySortedColumnCss,t.options.applySortedColumnCss=!1))},_heightChanged:function(){var t=n("#"+this.grid.element[0].id+"_scroll").height();this._height!==t&&(this._height=t,this.grid._adjustLastColumnWidth(!1),this._setMaxWidthOnGrid())},_setMaxWidthOnGrid:function(){var t=this.grid._hasVerticalScrollbar===!0?this.grid._scrollbarWidth():0,n;this.options.forceResponsiveGridWidth&&(this.grid._gridContentWidth=0,this.grid.element.css("width","100%"),this.grid._allColumnWidthsInPercentage||(n=100-t/this.grid.container().width()*100,this.grid.options.fixedHeaders===!0&&this.grid.headersTable().css("width",n+"%"),this.grid.options.fixedFooters===!0&&this.grid.footersTable().css("width",n+this._footersDisplacement+"%")))},_createHandlers:function(){this._gridHeaderRenderingHandler=n.proxy(this._gridHeaderRendering,this),this._initialGridRenderedHandler=n.proxy(this._initialGridRendered,this),this._gridContainerHeightHandler=n.proxy(this._heightChanged,this)},_injectGrid:function(t,i){var u,r;if(i!==!0&&(this.grid=t,this._checkGridNotSupportedFeatures(),this._createHandlers(),this.options.forceResponsiveGridWidth===!0&&(this.grid.options.width=typeof this.grid.options.width=="string"&&this.grid.options.width.endsWith("%")?this.grid.options.width:"100%",this.grid.options.autoFitLastColumn=!1),this.grid.element.bind("iggridheaderrendering",this._gridHeaderRenderingHandler),this.grid.element.bind("iggridrendered",this._initialGridRenderedHandler),this.grid.options.height!==null&&this.grid.options.height.indexOf&&this.grid.options.height.indexOf("%")!==-1&&this.grid.element.bind("iggrid_heightchanged",this._gridContainerHeightHandler),this._originalRenderRecord=n.proxy(this.grid._renderRecord,this.grid),this._newRenderRecord=n.proxy(this._renderRecord,this),this._originalRenderColgroup=n.proxy(this.grid._renderColgroup,this.grid),this._newRenderColgroup=n.proxy(this._renderColgroup,this),this._originalRenderCell=this.grid._renderCell,this._newRenderCell=n.proxy(this._renderCell,this),this._originalRenderNewRow=n.proxy(this.grid.renderNewRow,this.grid),this._newRenderNewRow=n.proxy(this._renderNewRow,this),this.grid._renderRecord=this._newRenderRecord,this.grid._renderColgroup=this._newRenderColgroup,this.grid._renderCell=this._newRenderCell,this.grid.renderNewRow=this._newRenderNewRow,String(this.grid.options.templatingEngine).toLowerCase()==="jsrender"&&(this._jsr=!0,r=this.options.singleColumnTemplate,r&&typeof r=="object")))for(u in r)r.hasOwnProperty(u)&&n.templates(this.grid.id()+"_responsiveSct_"+u,r[u])},_checkGridNotSupportedFeatures:function(){var n=this.grid.options;if((n.virtualization===!0||n.rowVirtualization===!0||n.columnVirtualization===!0)&&n.virtualizationMode==="fixed")throw new Error(this._getLocaleValue("fixedVirualizationNotSupported"));}}),n.extend(n.ui.igGridResponsive,{version:"19.2.25"}),n.ig=n.ig||{},n.ig.ResponsiveMode=n.ig.ResponsiveMode||Class.extend({settings:{minWidth:-1,maxWidth:Number.MAX_VALUE,minHeight:-1,maxHeight:Number.MAX_VALUE},init:function(t){return t&&(this.settings=n.extend(!0,{},n.ig.ResponsiveMode.prototype.settings,t)),this},isActive:function(){return window.innerWidth>=this.settings.minWidth&&window.innerWidth<=this.settings.maxWidth&&window.innerHeight>=this.settings.minHeight&&window.innerHeight<=this.settings.maxHeight}}),n.ig.InfragisticsMode=n.ig.InfragisticsMode||n.ig.ResponsiveMode.extend({settings:{key:"",visibilityTester:null},init:function(n){return this._hc="ui-hidden-"+n.key,this._vc="ui-visible-"+n.key,this._super(n),this},isActive:function(){return typeof this.settings.visibilityTester=="function"?this.settings.visibilityTester(this._hc)===!1&&this.settings.visibilityTester(this._vc)===!0:this._super()}}),n.ig.BootstrapMode=n.ig.BootstrapMode||n.ig.ResponsiveMode.extend({settings:{key:"",visibilityTester:null},init:function(n){return this._hc="hidden-"+n.key,this._vc="visible-"+n.key,this._super(n),this},isActive:function(){return typeof this.settings.visibilityTester=="function"?this.settings.visibilityTester(this._hc)===!1&&this.settings.visibilityTester(this._vc)===!0:this._super()}})}(n),function(n){"use strict";n.widget("ui.igGridRowSelectors",n.ui.igWidget,{options:{enableRowNumbering:!0,enableCheckBoxes:!1,rowNumberingSeed:0,rowSelectorColumnWidth:null,requireSelection:!0,showCheckBoxesOnFocus:!1,inherit:!1,enableSelectAllForPaging:!0,selectAllForPagingTemplate:null,deselectAllForPagingTemplate:null,locale:{selectedRecordsText:undefined,deselectedRecordsText:undefined,selectAllText:undefined,deselectAllText:undefined}},css:{rowSelector:"ui-iggrid-rowselector-class",rowSelectorSelected:"ui-iggrid-selectedcell ui-state-active",rowSelectorActivated:"ui-iggrid-activecell ui-state-focus",headerRowSelector:"ui-iggrid-rowselector-header",footerRowSelector:"ui-iggrid-rowselector-footer",checkBox:"ui-state-default ui-corner-all ui-igcheckbox-normal",checkBoxOff:"ui-icon ui-icon-check ui-igcheckbox-normal-off",checkBoxOn:"ui-icon ui-icon-check ui-igcheckbox-normal-on",nodeHovered:"ui-state-hover"},events:{rowSelectorClicked:"rowSelectorClicked",checkBoxStateChanging:"checkBoxStateChanging",checkBoxStateChanged:"checkBoxStateChanged"},_createWidget:function(){n.Widget.prototype._createWidget.apply(this,arguments),this.options.rowSelectorColumnWidth===null&&(this.options.rowSelectorColumnWidth=55,this.options.enableCheckBoxes===!0&&this.options.enableRowNumbering===!0&&(this.options.rowSelectorColumnWidth+=15))},_create:function(){this._cIdx=0,this._functionsRedirected=!1,this._hovTR=null,this._gridRenderRecord=null,this._checkBoxesShown=!1,this._v=!1,this._ms=!1},destroy:function(){return this._unregisterEvents(),this._unregisterRowSelectorEvents(),this._unregisterSelectAllEvents(),this._gridRenderRecordHandler!==undefined&&(this.grid._renderRecord=this._gridRenderRecordHandler),this._gridRenderColgroupHandler&&this.grid._renderColgroup===this._renderColgroupHandler&&(this.grid._renderColgroup=this._gridRenderColgroupHandler),this._cleanInterface(!1),this.grid._selection&&this.grid._selection.removeSubscriber(this._subId,this.grid.id()),this._superApply(arguments),this},_shouldRenderHeaderCheckBoxes:function(){return this.options.enableCheckBoxes===!0&&this._ms},_renderHeaderRowSelectors:function(t){var r,i,f,u,e;if(t.id()===this.grid.id()&&(r=this.grid.headersTable().children("thead").children(),r.length>0))if(f=r.eq(0).find("th.ui-iggrid-expandheadercell").first(),this._index=f.length===0?0:f.index()+1,this.grid._isMultiColumnGrid)e=n("<th><\/th>").prependTo(this.grid.headersTable().find("thead tr:nth-child(1)")).addClass(this.css.headerRowSelector).addClass(this.grid.css.headerClass).attr("data-role","rs").attr("data-skip","true"),e.attr("rowspan",this.grid._maxLevel+1),this._shouldRenderHeaderCheckBoxes()&&n(this._getCheckBox(!0)).appendTo(e);else for(i=0;i<r.length;i++)u=r.eq(i).find("th[data-role='rs']"),r.eq(i).find("th[data-role='rs']").length||(u=n("<th>"+(n.ig.util.isIE7?"&nbsp;":"")+"<\/th>").addClass(this.css.headerRowSelector).addClass(i===0?this.grid.css.headerClass:"").attr("data-role","rs").attr("data-skip","true").insertBefore(r.eq(i).children().eq(this._index))),this._shouldRenderHeaderCheckBoxes()&&i===0&&!u.children().length&&n(this._getCheckBox(!0)).appendTo(u)},_renderFooterRowSelectors:function(t){var i,r;if(t.id()===this.grid.id()&&(i=this.grid.footersTable().children("tfoot").children(),i.length>0))for(r=0;r<i.length;r++)i.eq(r).find("td[data-role='rs']").length>0||n("<td>"+(n.ig.util.isIE7?"&nbsp;":"")+"<\/td>").addClass(this.css.footerRowSelector).attr("data-role","rs").attr("data-skip","true").insertBefore(i.eq(r).children().eq(this._index))},_headerRendered:function(n,t){this._ms=!this._skipRefresh&&this._getSelectionInstance().options.multipleSelection===!0,this._renderHeaderRowSelectors(t.owner),this._getColumnFixingInstance()},_footerRendered:function(n,t){this._renderFooterRowSelectors(t.owner)},_getColumnFixingInstance:function(){return!this._columnFixing&&this.grid.element.data("igGridColumnFixing")&&(this._columnFixing=this.grid.element.data("igGridColumnFixing")),this._columnFixing},_getSelectionInstance:function(){return!this._selection&&this.grid.element.data("igGridSelection")&&(this._selection=this.grid.element.data("igGridSelection")),this._selection},_recordsRendering:function(n,t){var u,i,r=this.grid.dataSource,e=r._filteredData||r.data(),o=r.isGroupByApplied(),f=r._gbData;if(this.grid.id()===t.owner.id()){if(i=t.vrtWnd.start&&t.vrtWnd.end?t.vrtWnd.start:0,i+=this.grid.dataSource.pageIndex()*this.grid.dataSource.pageSize(),o&&f&&f.length&&(r.settings.groupby.pagingMode==="allRecords"||r.settings.groupby.pagingMode==="dataRecordsOnly"&&!this.grid.element.data("igGridPaging"))){for(;i<f.length;i++)if(!f[i].__gbRecord)break;for(u=0;u<e.length;u++)if(e[u]===f[i]){i=u;break}}this._cIdx=this._pIdx=i,this._redirectFunctions(),this._bindToSelectionCollection()}},_virtRowCountDetermined:function(){this._cIdx=this._pIdx},_virtRowCountDetermining:function(){this._redirectFunctions()},_redirectFunctions:function(){this._functionsRedirected===!1&&(this._renderRecordHandler=n.proxy(this._rsRenderRecord,this),this._gridRenderRecordHandler=n.proxy(this.grid._renderRecord,this.grid),this._gridRenderRecord=this._gridRenderRecordHandler,this.grid._renderRecord=this._renderRecordHandler),this._functionsRedirected=!0},_recordsRendered:function(n,t){this.grid.id()===t.owner.id()&&this.options.enableCheckBoxes===!0&&this._updateHeader()},_gridRendered:function(n,t){t!==undefined&&this.grid.id()===t.owner.id()&&(this._ms=!this._skipRefresh&&this._getSelectionInstance().options.multipleSelection===!0,this._registerRowSelectorEvents())},_rsRenderColgroup:function(n,t,i,r,u,f,e){var s,h,o=i.id;n.apply(this,[i,r,u,f,e]),t.grid.hasFixedColumns()&&(s=this.fixingDirection()==="left",h=!!(e&&e.fixed),o=s&&h||!s&&!h?o:o+"_fixed",i=document.getElementById(o)),t._rsRenderColgroupHelper(i)},rsRenderColgroup:function(){this._rsRenderColgroup.apply(this.grid,n.merge([this._gridRenderColgroupHandler,this],arguments))},_rsRenderColgroupHelper:function(t){var i;i=n(t).find("colgroup"),i.find("col[data-role='rs']").length===0&&n("<col><\/col>").prependTo(i).css("width",this.options.rowSelectorColumnWidth).attr("data-skip","true").attr("data-role","rs")},_rsRenderRecord:function(n,t,i){var r=this._gridRenderRecord.apply(this,arguments),e,f,u,h=this.grid.hasFixedColumns(),o=this.grid.fixingDirection()==="left",s;return h&&!(i&&o||!i&&!o)?r:(s=this._getRowSelectorCellMarkup(i&&!this.grid._fixedColumns.length?this._rowHasSelection(n):r.indexOf("ui-iggrid-selectedcell")!==-1,n),u=r.indexOf("ui-iggrid-expandcolumn"),u>=0?(f=r.substr(u),u=u+f.indexOf("<\/td>")+4,e=r.substring(0,u+1),f=r.substring(u+1)):(u=r.indexOf(">")+1,e=r.substring(0,u),f=r.substring(u)),r=e+s+f)},_renderExtraHeaderCells:function(n,t,i){this._renderExtraCells(n,t,i,!0)},_renderExtraFooterCells:function(n,t,i,r){this._renderExtraCells(n,t,i,!1,r)},_renderExtraCells:function(t,i,r,u,f){var o,h,e,s;t.find("[data-role='rs']").length>0||(o=u===!0?n("<th>"+(n.ig.util.isIE7?"&nbsp;":"")+"<\/th>").addClass(this.css.headerRowSelector).attr("data-role","rs").attr("data-skip","true"):n("<td>"+(n.ig.util.isIE7?"&nbsp;":"")+"<\/td>").addClass(this.css.footerRowSelector).addClass(f).attr("data-role","rs").attr("data-skip","true"),s=t.find("th.ui-iggrid-expandheadercell,td.ui-iggrid-expandheadercellgb"),s.length===0?(s=t.children().first(),e=0):e=s.last().index()+1,e===0?o.prependTo(t):o.insertBefore(t.children().eq(e)),i&&(h=n("<col><\/col>").attr("data-skip","true").attr("data-role","rs").css("width",this.options.rowSelectorColumnWidth),h.insertBefore(i.children().eq(e))))},_registerRowSelectorEvents:function(){this._unregisterRowSelectorEvents();this._allTables().on("click.rowselectors","th."+this.css.rowSelector,this._rsClickHandler);this._allTables().on({"click.rowselectors":this._checkboxClickHandler,"keydown.rowselectors":this._checkboxClickHandler,"mouseover.rowselectors":this._checkboxMouseOverHandler,"mouseout.rowselectors":this._checkboxMouseOutHandler},"th."+this.css.rowSelector+" span[name='chk']");this._allHeaderTables().on({"click.rowselectors":this._hCheckboxClickHandler,"keydown.rowselectors":this._hCheckboxClickHandler,"mouseover.rowselectors":this._checkboxMouseOverHandler,"mouseout.rowselectors":this._checkboxMouseOutHandler},"th."+this.css.headerRowSelector+" span[name='hchk']")},_unregisterRowSelectorEvents:function(){this._allHeaderTables().off(".rowselectors"),this._allTables().off(".rowselectors")},_allTables:function(){var n=this.grid.fixedTable();return n.add(this.grid.element)},_allHeaderTables:function(){var n=this.grid.fixedHeadersTable();return n.add(this.grid.headersTable())},_checkboxMouseOver:function(t){n(t.target).closest("span[data-role='checkbox']").addClass(this.css.nodeHovered)},_checkboxMouseOut:function(t){n(t.target).closest("span[data-role='checkbox']").removeClass(this.css.nodeHovered)},_checkBoxClicked:function(t){if(t.type!=="keydown"||t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE){var u=n(t.target).closest("span[name='chk']"),e=u.parent(),f=e.parent(),i,o=this._getVisibleRowIndex(f),r=f.attr("data-id"),s,h=u.attr("data-chk");(r===""||r===null||r===undefined)&&(r=o),i={row:f,rowIndex:o,rowKey:r,rowSelector:e,owner:this,grid:this.grid,currentState:h,newState:h==="off"?"on":"off",isHeader:!1},s=this._triggerCheckingEvent(t,i),s===!0&&(this._handleCheck(u),delete i.currentState,i.state=i.newState,delete i.newState,this._triggerCheckedEvent(t,i)),t.preventDefault(),t.stopPropagation()}},_headerCheckBoxClicked:function(t){var r=n(t.target).closest("span[name='hchk']"),i,u,f=r.attr("data-chk");(t.type!=="keydown"||t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(i={owner:this,grid:this.grid,currentState:f,newState:f==="off"?"on":"off",isHeader:!0},u=this._triggerCheckingEvent(t,i),u===!0&&(this._handleHeaderCheck(r),delete i.currentState,i.state=i.newState,delete i.newState,this._triggerCheckedEvent(t,i)),t.stopPropagation(),t.preventDefault())},_handleCheck:function(n){var t,i,u,r,f;if(n&&(u=this.grid.element.data("igGridUpdating"),r=this._getSelectionInstance(),f=this._v?this.grid._startRowIndex:0,t=n.parent().parent(),this.grid.hasFixedColumns()&&r&&(t=t.add(r._getRowByIndex(t.index(),!this.grid._isFixedElement(t)))),i=this.grid._fixPKValue(t.attr("data-id")),(i===null||i===undefined)&&(i=t.closest("tbody").children("tr:not([data-container])").index(t)+f),this.grid._selection.settings.owner!==this.grid&&this.grid._selection.changeOwner(this.grid),n.attr("data-chk")==="off"?(r.options.activation&&this.grid._selection.activate(i,t),this.grid._selection.select(i,!0,{element:t,checkbox:n})):this.grid._selection.deselect(i,{element:t,checkbox:n}),r&&r._suspend))if(u){if(u.findInvalid())return;u._endEdit(null,!0)}else return},_handleHeaderCheck:function(n){var t,i=this.grid.options,r=i.virtualization||i.rowVirtualization,u=n.attr("data-chk")==="off";t=this._getSelectionInstance(),this.grid._selection.settings.owner!==this.grid&&this.grid._selection.changeOwner(this.grid),u?(r||this.grid.dataSource.isGroupByApplied()?this._selectAllVirtualRows(t):this._selectAllRows(t),this._alterCheckbox(n,!0)):(r||this.grid.dataSource.isGroupByApplied()?this._deselectAllVirtualRows(t):this._deselectAllRows(t),this._alterCheckbox(n,!1)),this.options.enableSelectAllForPaging&&this.grid.element.data("igGridPaging")&&this._renderOverlayByCheckstate(u)},changeLocale:function(){var n=this.grid.container().find("[data-rs-overlay]").first();n.length&&(n.remove(),this._renderOverlayByCheckstate(n.attr("data-rs-overlay")==="true"))},_registerWidget:n.noop,_unregisterWidget:n.noop,_renderOverlayByCheckstate:function(n){var t=this._getDataView().length,i=this._getSelectionInstance().selectedRows().length,r=[{checked:t,unchecked:t,allCheckedRecords:i,totalRecordsCount:this._getDSLocalRecords().length}];this._renderOverlay(r,n)},_getDSLocalRecords:function(){var n=this.grid.dataSource,t=n.totalLocalRecordsCount();return n._filteredData&&n._filteredData.length>=t?n._filteredData:this._getAllData()},_renderOverlay:function(n,t){var r=this.grid.headersTable(),i;i=t?this._getSelectAllOverlay(n):this._getDeselectAllOverlay(n),i&&(i.css({"z-index":"1000",width:"100%",position:"absolute",top:(this.grid.options.height||this.grid.options.width?r.parent().igPosition().top:r.igPosition().top)+r.find("thead:first").outerHeight()}),i.children("div:first").css("padding-left",this.options.rowSelectorColumnWidth),i.appendTo(this.grid.container()),this._registerSelectAllEvents(i))},_getSelectAllOverlay:function(t){var u=this.grid.options.tabIndex,i,r;return t[0].allCheckedRecords>=t[0].totalRecordsCount?null:(this.options.selectAllForPagingTemplate?i=this._jsr?n(n.render([this.grid.id()+"_selectAllForPagingTemplate"](t))):n(n.ig.tmpl(this.options.selectAllForPagingTemplate,t)):(r=this._getLocaleValue("selectedRecordsText").replace("${checked}",t[0].checked)+" <a href='#' data-rs-select-all tabindex='"+u+"'>"+this._getLocaleValue("selectAllText").replace("${totalRecordsCount}",t[0].totalRecordsCount)+"<\/a>",i=this._getDefaultOverlay(r,!0)),i)},_getDeselectAllOverlay:function(t){var u=this.grid.options.tabIndex,i,r;return t[0].allCheckedRecords===0?null:(this.options.deselectAllForPagingTemplate?i=this._jsr?n(n.render([this.grid.id()+"_deselectAllForPagingTemplate"](t))):n(n.ig.tmpl(this.options.deselectAllForPagingTemplate,t)):(r=this._getLocaleValue("deselectedRecordsText").replace("${unchecked}",t[0].unchecked)+" <a href='#' data-rs-deselect-all tabindex='"+u+"'>"+this._getLocaleValue("deselectAllText").replace("${totalRecordsCount}",t[0].totalRecordsCount)+"<\/a>",i=this._getDefaultOverlay(r,!1)),i)},_getDefaultOverlay:function(t,i){var r=this.grid.options.tabIndex;return n("<div>").attr({"class":"ui-widget-header ui-priority-secondary","data-rs-overlay":!!i,tabIndex:r,id:this.grid.id()+(i?"_":"_de")+"select_all_overlay"}).append(n("<div>").html(t).append(n("<div>").css("float","right").append(n("<span>").addClass("ui-icon-close").addClass("ui-icon").addClass("ui-button").attr("data-rs-close-all","").attr("tabindex",r))))},_registerSelectAllEvents:function(t){var i=this,r=t.attr("id");this.grid.container().bind("mouseup.containerselectall",function(i){i.type==="mouseup"&&n(i.target).closest("#"+r).length===0&&(n(this).unbind(".containerselectall"),n(t)&&t.remove())}),t.bind("blur.containerselectall",function(i){n(this).unbind(".containerselectall"),n(t)&&n(i.target).closest("#"+r).length===0&&t.remove()}),t.find("[data-rs-select-all]").bind("mouseup",function(n){i._selectAllFromOverlay(),n.stopPropagation(),t.remove()}),t.find("[data-rs-deselect-all]").bind("mouseup",function(n){i._deselectAllFromOverlay(),n.stopPropagation(),t.remove()}),t.find("[data-rs-select-all]").bind("keydown",function(r){(r.keyCode===n.ui.keyCode.ENTER||r.keyCode===n.ui.keyCode.SPACE)&&(i._selectAllFromOverlay(),t.remove())}),t.find("[data-rs-deselect-all]").bind("keydown",function(r){(r.keyCode===n.ui.keyCode.ENTER||r.keyCode===n.ui.keyCode.SPACE)&&(i._deselectAllFromOverlay(),t.remove())}),t.find("[data-rs-close-all]").bind("mouseup",function(n){n.stopPropagation(),t.remove()}),t.find("[data-rs-close-all]").bind("keydown",function(i){(i.keyCode===n.ui.keyCode.ENTER||i.keyCode===n.ui.keyCode.SPACE)&&t.remove()})},_selectAllFromOverlay:function(){this._changeCheckStateForAllRecords(this._getSelectionInstance(),!0)},_deselectAllFromOverlay:function(){this._changeCheckStateForAllRecords(this._getSelectionInstance(),!1)},_unregisterSelectAllEvents:function(){this.grid.element.data("igGridPaging")&&this.options.enableSelectAllForPaging&&(this.grid.container().unbind(".containerselectall"),n(this.grid.id()+"_select_all_overlay").remove(),n(this.grid.id()+"_deselect_all_overlay").remove())},_updateHeader:function(){var u=this._getDataView(),n=u.length,t,i,r=!!n,e=this._getSelectionInstance(),f=e._pkProp;if(this.grid.element.data("igGridPaging")){for(i=0;i<n;i++)if(!this.grid._selection.isSelected(f!==null?u[i][f]:i,this.grid)){r=!1;break}}else t=this.grid._selection?this.grid._selection.selectionLength():0,this.grid.dataSource.isGroupByApplied()?t<n?r=!1:(t=this.grid._selection.selectedDataRows().length,r=t===n):r=t===n&&this._isFirstRowSelected();this._alterCheckbox(this._headerCheckbox(),r)},_alterCheckbox:function(n,t){var i=n.children().first();n.length>0&&i.length>0&&(t===!0?(n.attr("data-chk","on"),i.removeClass(this.css.checkBoxOff).addClass(this.css.checkBoxOn)):(n.attr("data-chk","off"),i.removeClass(this.css.checkBoxOn).addClass(this.css.checkBoxOff)))},_getRowSelectorCellMarkup:function(n){var t="";return t+='<th role="rowheader" tabindex="'+this.grid.options.tabIndex+'" class="'+this.css.rowSelector,n&&(t+=" "+this.css.rowSelectorSelected),t+='"><span class="ui-icon ui-icon-triangle-1-e" style="margin-left: -5px"><\/span>',this.options.enableRowNumbering&&(t+=this._getCurrentNumber()),this.options.enableCheckBoxes&&(t+=this._getCheckBox(!1,n)),t+="<\/th>"},_getCheckBox:function(n,t){var i="";return i+='<span name="'+(n===!0?"hchk":"chk")+'" ',i+='data-chk="'+(t?"on":"off")+'" ',i+='data-role="checkbox" class="'+this.css.checkBox+' "',i+='tabindex="'+this.grid.options.tabIndex+' "',this.options.showCheckBoxesOnFocus===!0&&this._checkBoxesShown===!1&&(i+=' style="visibility: hidden;"'),i+='><span class="'+(t?this.css.checkBoxOn:this.css.checkBoxOff)+'">',i+="<\/span><\/span>"},_getCurrentNumber:function(){return'<span class="ui-iggrid-rowselector-row-number">'+(++this._cIdx+this.options.rowNumberingSeed)+"<\/span>"},_selectAllRows:function(n){var r=this._allCheckboxes(),i,u=[],t,f;if(r.length!==0){for(i=0;i<r.length;i++)t=r.eq(i).parent().parent(),this.grid.hasFixedColumns()&&(t=this.grid.fixedBodyContainer().attr("data-fixing-direction")==="left"?t.add(this.grid.element.find("tbody > tr").eq(t.index())):t.add(this.grid.fixedBodyContainer().find("tbody > tr").eq(t.index()))),f=n._pkProp?this.grid._fixPKValue(t.attr("data-id")):i,u.push({id:f,element:t,checkbox:r.eq(i)});this._suspendHeader=!0,this.grid._selection.rangeSelect(u,!0,null,!1,!1),this._suspendHeader=!1}},_selectAllVirtualRows:function(n){var t=this._getDataView(),i,r,u;t.length!==0&&(n._pkProp?(i=t[0].__gbRecord?t[0].id:t[0][n._pkProp],r=t[t.length-1].__gbRecord?t[t.length-1].id:t[t.length-1][n._pkProp]):(i=0,r=t.length-1),u=n._getRecordRange(i,r,t),this._suspendHeader=!0,this.grid._selection.rangeSelect(u.range,!0,null,!1,!1),this.grid.options.virtualizationMode==="continuous"&&this.grid._correctScrollPosition(this.grid._getTotalRowsCount()),this._suspendHeader=!1)},_changeCheckStateForAllRecords:function(n,t){var i=this._getDSLocalRecords(),u,f,r;i.length!==0&&(n._pkProp?(u=i[0][n._pkProp],f=i[i.length-1][n._pkProp]):(u=0,f=i.length-1),r=n._getRecordRange(u,f,i),this._suspendHeader=!0,t?this.grid._selection.rangeSelect(r.range,!0,null,r,!1):this.grid._selection.rangeDeselect(r.range,r,!1),this._suspendHeader=!1)},_deselectAllRows:function(n){var r=this._allCheckboxes(),t,i,u,f=[];if(r.length!==0)if(this.grid.element.data("igGridPaging")){for(t=0;t<r.length;t++)i=r.eq(t).parent().parent(),this.grid.hasFixedColumns()&&(i=i.add(this.grid.scrollContainer().find("tbody > tr").eq(t))),u=n._pkProp?this.grid._fixPKValue(i.attr("data-id")):t,f.push({id:u,element:i,checkbox:r.eq(t)});this._suspendHeader=!0,this.grid._selection.rangeDeselect(f,!1,!1),this._suspendHeader=!1}else this.grid._selection.deselectAll(!1)},_deselectAllVirtualRows:function(n){var t=this._getDataView(),u,i,r;t.length!==0&&(this.grid.element.data("igGridPaging")?(n._pkProp?(i=t[0][n._pkProp],r=t[t.length-1][n._pkProp]):(i=0,r=t.length-1),u=n._getRecordRange(i,r,t),this._suspendHeader=!0,this.grid._selection.rangeDeselect(u.range,!1,!1),this._suspendHeader=!1):this.grid._selection.deselectAll(!1))},_isFirstRowSelected:function(){var t=this.grid.element.find("tbody > tr:not([data-grouprow='true'],[data-summaryrow='true']):first"),n=t.attr("data-id");return n=n!==null&&n!==undefined?this.grid._fixPKValue(n):this.grid.dataSource.pageIndex()*this.grid.dataSource.pageSize(),this.grid._selection.isSelected(n,this.grid)},_rowHasSelection:function(n){var i=this._getSelectionInstance(),t=n[this.grid.options.primaryKey||"ig_pk"];return!i||t===null||t===undefined?!1:i.options.mode==="cell"?this.grid._selection.atLeastOneSelected(t,i):this.grid._selection.isSelected(t,this.grid)},_rsRenderVirtualRecords:function(t,i){var r=0,f,u,e;for(this._cIdx=0,u=this.grid.hasFixedColumns()&&this._getColumnFixingInstance().options.fixingDirection==="left"?i.fixedRows:i.rows,e=u.length,r;r<e;r++)f=n(this._getRowSelectorCellMarkup()),f.prependTo(u.eq(r));this._bindToSelectionCollection()},_rrn:function(){var i=this._allRowSelectorCells(),f=this._allCheckboxes(),u,t=0,s=this,e=this.grid._startRowIndex||0,o,r;if(this.grid.options.virtualizationMode==="fixed")for(t=0;t<i.length;t++)i.eq(t).removeClass(this.css.nodeHovered),this.options.enableRowNumbering===!0&&i.eq(t).children("span.ui-iggrid-rowselector-row-number").text(e+t+this.options.rowNumberingSeed+1);if(!this._skipRefresh)for(i.removeClass(this.css.rowSelectorSelected),f.map(function(){s._alterCheckbox(n(this),!1)}),t=0;t<i.length;t++)o=i.eq(t).closest("tr"),r=this.grid._fixPKValue(o.attr("data-id")),(r===null||r===undefined)&&(r=t+e),this.grid._selection.selection[r]!==undefined&&(i.eq(t).addClass(this.css.rowSelectorSelected),u=f.eq(t),u.length===1&&this._alterCheckbox(u,!0))},_bindToSelectionCollection:function(){this.grid._selection&&!this._subId&&(this._subId=this.grid._selection.addSubscriber(this,this.grid.id()))},_select:function(n){var t;(n.element=n.element||this.grid._selection.elementFromIdentifier(n.id),t=this._rowSelectorFromSelection(n),t)&&(t.rowSelector.addClass(this.css.rowSelectorSelected),this.options.enableCheckBoxes&&(this._alterCheckbox(t.checkbox,!0),this._ms&&!this._suspendHeader&&this._updateHeader()))},_deselect:function(t){var i,r;(t.element=t.element||this.grid._selection.elementFromIdentifier(t.id),i=this._rowSelectorFromSelection(t),i&&i.rowSelector.length)&&(r=this.grid._selection instanceof n.ig.SelectedRowsCollection||!this.grid._selection.atLeastOneSelected(this.grid._fixPKValue(t.element.parent().attr("data-id"))),r&&(i.rowSelector.removeClass(this.css.rowSelectorSelected),this.options.enableCheckBoxes&&(this._alterCheckbox(i.checkbox,!1),this._ms&&!this._suspendHeader&&this._updateHeader())))},_activate:function(n){n.is("th")&&n.addClass(this.css.rowSelectorActivated)},_deactivate:function(){this.grid.hasFixedColumns()&&this.grid.fixedBodyContainer().find("tbody").find("th.ui-iggrid-activecell").removeClass(this.css.rowSelectorActivated),this.grid.element.find("tbody").find("th.ui-iggrid-activecell").removeClass(this.css.rowSelectorActivated)},_clearSelection:function(){var t,i=this;t=this.grid.hasFixedColumns()&&this.grid.fixingDirection()==="left"?this.grid.fixedBodyContainer().find("tbody").find("th.ui-iggrid-selectedcell").removeClass(this.css.rowSelectorSelected):this.grid.element.children("tbody").find("th.ui-iggrid-selectedcell").removeClass(this.css.rowSelectorSelected),this.options.enableCheckBoxes&&(n.each(t,function(){i._alterCheckbox(n(this).children("span:last"),!1)}),this._alterCheckbox(this._headerCheckbox(),!1))},_cellClick:function(t){var c,f=n(t.target),r,e=f.closest("th"),i=e.parent(),l=this._getVisibleRowIndex(i),u=i.attr("data-id"),o,s,h=this._getSelectionInstance();(this.options.showCheckBoxesOnFocus===!0&&this._checkBoxesShown===!1&&this._animateCheckboxes(!0),h)&&(f.is("span")&&f.attr("unselectable")||((u===""||u===null||u===undefined)&&(u=l),this.grid.hasFixedColumns()&&(this.grid._isFixedElement(e)?(s=this.grid.options.virtualization||this.grid.options.rowVirtualization?this.grid._vdisplaycontainer():this.grid.scrollContainer(),r=i,i=s.find("tbody > tr").eq(r.index())):r=this.grid.fixedBodyContainer().find("tbody > tr").eq(i.index())),o=this._getFirstDataCell(i,r),t.shiftKey&&this._ms?h._shiftSelectChange(o):h._singleSelectChange(o,t.ctrlKey||t.metaKey),c={row:i,fixedRow:r,rowIndex:l,rowKey:u,rowSelector:e,owner:this,grid:this.grid},this._triggerClickEvent(t,c)))},_getFirstDataCell:function(n,t){return t&&t.length>0&&t.children("td").not("[data-skip='true'],[data-parent='true']").first(),n.children("td").not("[data-skip='true'],[data-parent='true']").first()},_mouseHoverRow:function(t){for(var r,u,i=t.target;i;){if(r=i.parentNode,u=i.nodeName,u==="TR"&&r.nodeName==="TBODY")break;i=u==="TABLE"?null:r}this._hovTR!==i&&(this._mouseHoverRowHelper(this._hovTR,i),this.grid.hasFixedColumns()&&this._mouseHoverFixedRow(n(this._hovTR),n(i)),this._hovTR=i)},_mouseHoverRowHelper:function(t,i){t&&n(t).attr("data-container")!=="true"&&n("th."+this.css.rowSelector,t).removeClass(this.css.nodeHovered),i&&n(i).attr("data-container")!=="true"&&n("th."+this.css.rowSelector,i).addClass(this.css.nodeHovered)},_mouseHoverFixedRow:function(n,t){var r,u,i;i=n.index(),r=this.grid.fixedBodyContainer().find("tr:nth-child("+(i+1)+")"),i=t.index(),u=this.grid.fixedBodyContainer().find("tr:nth-child("+(i+1)+")"),this._mouseHoverRowHelper(r,u)},_mouseLeaveRow:function(){var t,i;this._hovTR&&(n("th",this._hovTR).removeClass(this.css.nodeHovered),this.grid.hasFixedColumns()&&(t=n(this._hovTR).index(),i=this.grid.fixedBodyContainer().find("tr:nth-child("+(t+1)+")"),i.find("th").removeClass(this.css.nodeHovered)),this._hovTR=null)},_triggerClickEvent:function(n,t){this._trigger(this.events.rowSelectorClicked,n,t)},_triggerCheckingEvent:function(n,t){return this._trigger(this.events.checkBoxStateChanging,n,t)},_triggerCheckedEvent:function(n,t){this._trigger(this.events.checkBoxStateChanged,n,t)},_getVisibleRowIndex:function(n){return n.closest("tbody").children("tr:not([data-container='true'],[data-grouprow='true'],[data-summaryrow='true'])").index(n)},_getVisibleHRowIndex:function(n){return n.closest("tbody").children("tr:not([data-container='true'])").index(n)},_animateCheckboxes:function(t){var r=this._headerCheckbox(),u=this._allCheckboxes(),i=r.add(u);t===!0?i.css("visibility","visible").css("opacity",0).animate({opacity:1},1e3):i.css("opacity",1e3).animate({opacity:0},1e3,function(){n(this).css("visibility","hidden")}),this._checkBoxesShown=t},_cleanInterface:function(n){var r,u,t,f,i;if(n===!0){this._alterCheckbox(this._headerCheckbox(),!1);return}t=this.grid.element.children("colgroup").children("[data-role='rs']"),t=t.add(this.grid.fixedBodyContainer().find("colgroup").children("[data-role='rs']")),this.grid.options.fixedHeaders===!0&&(t=t.add(this.grid.headersTable().children("colgroup").children("[data-role='rs']")),t=t.add(this.grid.fixedHeadersTable().children("colgroup").children("[data-role='rs']"))),this.grid.options.fixedFooters===!0&&(t=t.add(this.grid.footersTable().children("colgroup").children("[data-role='rs']")),t=t.add(this.grid.fixedFootersTable().children("colgroup").children("[data-role='rs']"))),u=this._footerRowSelectorCells(),r=this._headerRowSelectorCells(),f=this._allRowSelectorCells(),!this.grid.options.width&&this._functionsRedirected&&(i=this.grid.container().css("width"),i&&!i.endsWith("%")&&this.grid.container().css("width",parseInt(i,10)-this.options.rowSelectorColumnWidth)),t.remove(),u.remove(),r.remove(),f.remove()},_allRowSelectorCells:function(){var t,n=this.grid;return t=n.hasFixedColumns()&&this._getColumnFixingInstance().options.fixingDirection==="left"?n.options.virtualization||n.options.rowVirtualization?n.fixedBodyContainer().find("tbody > tr > th."+this.css.rowSelector):n.fixedBodyContainer().find("tbody > tr > th."+this.css.rowSelector):n.element.children("tbody").children("tr").children("th."+this.css.rowSelector)},_headerRowSelectorCells:function(){var n=this.grid.headersTable().children("thead").find("th[data-role='rs']");return n.length===0&&this.grid.hasFixedColumns()&&(n=this.grid.fixedHeadersTable().children("thead").find("th[data-role='rs']")),n},_footerRowSelectorCells:function(){var n=this.grid.footersTable().children("tfoot").find("td[data-role='rs']");return n.length===0&&this.grid.hasFixedColumns()&&(n=this.grid.fixedFootersTable().children("tfoot").find("td[data-role='rs']")),n},_allCheckboxes:function(){var n=this.grid.element.children("tbody").children("tr").children("th").find("span[name='chk']");return n.length===0&&this.grid.hasFixedColumns()&&this._getColumnFixingInstance().options.fixingDirection==="left"&&(n=this.grid.fixedBodyContainer().find("tbody > tr > th span[name='chk']")),n},_headerCheckbox:function(){var n=this.grid.headersTable().children("thead").find("tr > th span[name='hchk']");return n.length===0&&this.grid.hasFixedColumns()&&this._getColumnFixingInstance().options.fixingDirection==="left"&&(n=this.grid.fixedHeadersTable().children("thead").find("tr > th span[name='hchk']")),n},_rowSelectorFromSelection:function(n){var t=n.element,i,r=n.checkbox,u;if(!t.is("th"))return r?i=r.parent():(t.is("tr")||t.length===2?i=t.children("th:first"):this.grid.hasFixedColumns()&&(u=this.grid.fixedBodyContainer().attr("data-fixing-direction"),u!=="left"||this.grid._isFixedElement(t)?u==="right"&&this.grid._isFixedElement(t)&&(i=this.grid.element.find("tbody > tr").eq(t.closest("tr").index()).children("th:first")):i=this.grid.fixedBodyContainer().find("tbody > tr").eq(t.closest("tr").index()).children("th:first")),i||(i=t.closest("tr").children("th:first")),r=this.options.enableCheckBoxes?i.children("span:last"):null),{rowSelector:i,checkbox:r}},_checkForSelection:function(){for(var t=!1,n=0;n<this.grid.options.features.length;n++)if(this.grid.options.features[n].name==="Selection"){t=!0,this.options.enableCheckBoxes===!0&&(this.grid.options.features[n].mode="row");break}if(t===!1){if(this.options.requireSelection===!0)throw new Error(this._getLocaleValue("selectionNotLoaded"));this._skipRefresh=!0}},_checkForColumnVirtualization:function(){return this.grid.options.virtualizationMode!=="continuous"&&(this.grid.options.virtualization===!0&&this.grid.options.width||this.grid.options.columnVirtualization===!0)},_checkForRequireSelectionWithCheckboxes:function(){return this.options.requireSelection===!1&&this.options.enableCheckBoxes===!0},_createHandlers:function(){this._headerRenderedHandler=n.proxy(this._headerRendered,this),this._footerRenderedHandler=n.proxy(this._footerRendered,this),this._recordsRenderingHandler=n.proxy(this._recordsRendering,this),this._recordsRenderedHandler=n.proxy(this._recordsRendered,this),this._gridRenderedHandler=n.proxy(this._gridRendered,this),this._virtualDomBuiltHandler=n.proxy(this._rsRenderVirtualRecords,this),this._virtualRowsHandler=n.proxy(this._rrn,this),this._renderExtraHeaderCellHandler=n.proxy(this._renderExtraHeaderCells,this),this._renderExtraFooterCellHandler=n.proxy(this._renderExtraFooterCells,this),this._rsClickHandler=n.proxy(this._cellClick,this),this._rrHoverHandler=n.proxy(this._mouseHoverRow,this),this._rrLeaveHandler=n.proxy(this._mouseLeaveRow,this),this._checkboxMouseOverHandler=n.proxy(this._checkboxMouseOver,this),this._checkboxMouseOutHandler=n.proxy(this._checkboxMouseOut,this),this._checkboxClickHandler=n.proxy(this._checkBoxClicked,this),this._hCheckboxClickHandler=n.proxy(this._headerCheckBoxClicked,this)},_registerEvents:function(){this.grid.element.bind("iggridheaderrendered",this._headerRenderedHandler),this.grid.element.bind("iggridfooterrendered",this._footerRenderedHandler),this.grid.element.bind("iggridrowsrendering ",this._recordsRenderingHandler),this.grid.element.bind("iggridrowsrendered",this._recordsRenderedHandler),this.grid.element.bind("iggriddatarendered",this._gridRenderedHandler),this.grid.element.bind("iggridvirtualdombuilt",this._virtualDomBuiltHandler),this.grid.element.bind("iggridvirtualrecordsrender",this._virtualRowsHandler)},_unregisterEvents:function(){this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this.grid.element.unbind("iggridfooterrendered",this._footerRenderedHandler),this.grid.element.unbind("iggridrowsrendering ",this._recordsRenderingHandler),this.grid.element.unbind("iggridrowsrendered",this._recordsRenderedHandler),this.grid.element.unbind("iggriddatarendered",this._gridRenderedHandler),this.grid.element.unbind("iggridvirtualdombuilt",this._virtualDomBuiltHandler),this.grid.element.unbind("iggridvirtualrecordsrender",this._virtualRowsHandler)},_injectGrid:function(t,i){if(i===!0){this._cleanInterface(!0);return}if(this.grid=t,this._v=this.grid.options.virtualization===!0||this.grid.options.rowVirtualization===!0,this._gridRenderColgroupHandler=n.proxy(this.grid._renderColgroup,this.grid),this._renderColgroupHandler=n.proxy(this.rsRenderColgroup,this),this._createHandlers(),this.grid._headerInitCallbacks.push({type:"RowSelectors",func:this._renderExtraHeaderCellHandler}),this.grid._footerInitCallbacks.push({type:"RowSelectors",func:this._renderExtraFooterCellHandler}),this._registerEvents(),this.grid._renderColgroup=this._renderColgroupHandler,this._checkForSelection(),this._checkForColumnVirtualization())throw new Error(this._getLocaleValue("columnVirtualizationEnabled"));if(this._checkForRequireSelectionWithCheckboxes())throw new Error(this._getLocaleValue("requireSelectionWithCheckboxes"));String(this.grid.options.templatingEngine).toLowerCase()==="jsrender"&&(this._jsr=!0,this.options.selectAllForPagingTemplate&&typeof this.options.selectAllForPagingTemplate=="string"&&n.templates(this.grid.id()+"_selectAllForPagingTemplate",this.options.selectAllForPagingTemplate),this.options.deselectAllForPagingTemplate&&typeof this.options.deselectAllForPagingTemplate=="string"&&n.templates(this.grid.id()+"_deselectAllForPagingTemplate",this.options.deselectAllForPagingTemplate))},_getAllData:function(){return this.grid.dataSource.data()},_getDataView:function(){return this.grid.dataSource.isGroupByApplied()?this.grid.dataSource.dataView():this.grid._getDataView()}}),n.extend(n.ui.igGridRowSelectors,{version:"19.2.25"})}(n),function(n){"use strict";n.widget("ui.igGridSelection",n.ui.igWidget,{css:{selectedCell:"ui-iggrid-selectedcell ui-state-active",selectedRow:"ui-iggrid-selectedrow ui-state-active",activeCell:"ui-iggrid-activecell ui-state-focus",activeRow:"ui-iggrid-activerow ui-state-focus"},options:{multipleSelection:!1,mouseDragSelect:!0,mode:"row",activation:!0,wrapAround:!0,skipChildren:!0,multipleCellSelectOnClick:!1,touchDragSelect:!0,persist:!0,allowMultipleRangeSelection:!0},events:{rowSelectionChanging:"rowSelectionChanging",rowSelectionChanged:"rowSelectionChanged",cellSelectionChanging:"cellSelectionChanging",cellSelectionChanged:"cellSelectionChanged",activeCellChanging:"activeCellChanging",activeCellChanged:"activeCellChanged",activeRowChanging:"activeRowChanging",activeRowChanged:"activeRowChanged"},_create:function(){this._isMouseDown=!1,this._pkProp=null,this._rsCellKey="##ROWSEL##",this._gbExpandCellKey="##GBXCEL##",this._gbSummaryCellKey="##GBSCEL##",this._gbEmptyCellKey="##GBECEL##",this._gbGroupSummaryIconCellKey="##GBGSICEL##",this._gbGroupSummaryEmptyCellKey="##GBGSECEL##",this._gbGroupSummaryCellKey="##GBGSCEL_{col}##",this._hgCellKey="##HIEGRD##",this._tgExpandKey="##TGXCEL##",this.element.attr("aria-multiselectable",this.options.multipleSelection)},destroy:function(){return this.grid.element.unbind({iggriddatarendering:this._dataRenderingHandler,iggridvirtualrendering:this._virtualRecordsRenderingHandler,igtreegridvirtualrendering:this._virtualRecordsRenderingHandler,iggridvirtualrecordsrender:this._virtualRecordsRendererHandler,igtreegridvirtualrecordsrender:this._virtualRecordsRendererHandler,iggridcolumnscollectionmodified:this._columnsCollectionModifiedHandler}),this.clearSelection(),this._unregisterEvents(),this._selection.removeSubscriber(this._subId,this.grid.id()),this._superApply(arguments),this},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(t,i){var r;if(n.Widget.prototype._setOption.apply(this,arguments),t==="mode")throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",t));t==="multipleSelection"&&(this._selection.settings.multipleSelection=i,r=this.grid.element.data("igGridRowSelectors"),r&&(i?r._renderHeaderRowSelectors(this.grid):r._headerCheckbox().remove()))},_dataRendering:function(n,t){var i;t.owner.id()===this.grid.id()&&(i=this.grid.element.find("tbody").add(this.grid.fixedBodyContainer().find("tbody")),this._tbodyBinding&&i.unbind(this._tbodyBinding),this._pkProp=this.grid.options.primaryKey,this.options.persist&&!this.grid.options.primaryKey&&(this._createUidForData(),this._pkProp="ig_pk"))},_dataRendered:function(){this._unregisterEvents(),this._registerEvents(),this._hc===undefined&&(this._hc=this.grid.container().closest(".ui-iggrid-root").length>0,this._hc===!1&&(this._hc=this.grid.element.hasClass("ui-iggrid-root"))),this.grid._startRowIndex=this.grid._startRowIndex||0,this._defaultAttributes(),this.options.persist?(this._paintActive(),this._renderAttributes(),this._selection.invalid=!0):this.clearSelection()},_fixedColumnsChanged:function(n){n.isToFix&&n.isInit&&(this._unregisterEvents(),this._registerEvents(),this._selection.invalid=!0)},_virtualRecordsRendering:function(){this._storedActiveElement=this.activeCell()||this.activeRow(),this._storedActiveElement&&this._storedActiveElement.element.blur()},_virtualRecordsRender:function(t,i){var r;i.owner.id()===this.grid.id()&&(this._selection.invalid=!0,n(document).unbind("keydown."+this.grid.id()),this.grid.options.virtualization===!0&&this.grid.options.virtualizationMode==="continuous"&&(this._unregisterEvents(),this._registerEvents()),this._paintActive(),this._renderAttributes(),r=this.options.mode==="cell"?this.activeCell():this.activeRow(),r&&r.element instanceof n?r.element.focus():this._storedActiveElement&&(this.options.mode==="cell"?this._getCellByIdentifier(this._storedActiveElement).focus():this._getRowsByIdentifier(this._storedActiveElement.id).focus()))},_columnsCollectionModified:function(n,t){t.owner.id()===this.grid.id()&&(this._unregisterEvents(),this._registerEvents(),this._selection.invalid=!0,this._paintActive())},_hidingFinished:function(){this.options.persist&&(this._paintActive(),this._selection.invalid=!0)},_rowDeleted:function(n){var t,i,r;if(this._selection.invalid=!0,this.options.mode==="cell"){if(this._selection.settings.owner===this.grid){this._selection.activeElement&&this._selection.activeElement.id===n&&this._selection.deactivate(),t=this._selection.selection[n];for(i in t)t.hasOwnProperty(i)&&(r={id:n,columnKey:i},this._selection.deselect(r,null,!1))}}else this._selection.isActive(n,this.grid)&&this._selection.deactivate(),this._selection.isSelected(n,this.grid)&&this._selection.deselect(n,null,!1)},_mouseDown:function(t){var i,r,u=this.grid.options,e=new RegExp("^"+this.grid.id()+"(_fixed)?$"),o=u.virtualization||u.rowVirtualization||u.columnVirtualization,f=o?this.grid._vdisplaycontainer():this.grid.scrollContainer();t&&t.which!==1||(i=t&&t.target?n(t.target):null,this._mouseDownTarget=i,this._mouseDownScroll=f.length?f.scrollTop():0,this._prevDragTar=i[0],this._previousRangeCache=t.ctrlKey||t.metaKey?[]:null,this.options.allowMultipleRangeSelection&&this.options.mode==="cell"&&this._selection._lockSelection(),r=i?i.closest(".ui-iggrid-table"):null,i&&i.hasClass("ui-iggrid-scrolldiv"))||r&&r.length>0&&!r.attr("id").match(e)||(this._isMouseDown=!0,this.options.mouseDragSelect!==!1&&this.options.multipleSelection!==!1&&this.options.mode!=="row")&&(this._firstDragCell=i)},_mouseMove:function(t){var i=t&&t.target?n(t.target):null,r=this._firstDragCell,u,f;t&&this._suspend||this.options.mode==="cell"&&this.options.mouseDragSelect&&this._isMouseDown&&(i=i.closest("td,th"),r&&r.length>0&&(f=r.closest(".ui-iggrid-table"),u=new RegExp("^"+this.grid.id()+"(_fixed)?$"),i[0]!==this._prevDragTar&&i.closest(".ui-iggrid-table").attr("id").match(u)&&f.length&&f.attr("id").match(u)&&!(i.is("th")||i.attr("data-skip"))&&(this._selection.rangeSelectStart=this._identifierForTarget(r),this._dragSelect=!0,this._prevDragTar=i[0],this._shiftSelectChange(i,!1),this._storedActiveIndex=i.closest("td").index())))},_mouseUp:function(t){var r=this.grid.options,s=r.virtualization||r.rowVirtualization||r.columnVirtualization,f=s?this.grid._vdisplaycontainer():this.grid.scrollContainer(),i=t&&t.target?n(t.target):null,u=i?i.closest(".ui-iggrid-table"):null,h=new RegExp("^"+this.grid.id()+"(_fixed)?$"),e,c=this,o;if(!u||!(u.length>0)||u.attr("id").match(h)){if(this._isMouseDown=!1,!i||this._dragSelect||this._suspend||!this._mouseDownTarget||this._mouseDownTarget[0]!==i[0]||t.which>1||n.ig.util.isTouch&&(f.length?f.scrollTop():0)!==this._mouseDownScroll){this._dragSelect=!1,this._prevDragTar=null,this._firstDragCell=null,this._mouseDownTarget=null;return}i.closest(".ui-iggrid-rowselector-class").length===1||i.hasClass("ui-iggrid-childarea")||i.parent().hasClass("ui-iggrid-childarea")||i.hasClass("ui-widget-header")||this._hc&&(i.parents("tr[data-container]").each(function(){if(n(this).closest(".ui-iggrid-table").attr("id")===c.grid.element.attr("id"))return e=!0,!1}),e)||(t.shiftKey&&this.options.multipleSelection?this._shiftSelectChange(i,!0):(o=t.ctrlKey||t.metaKey||this.options.mode==="cell"&&this.options.multipleCellSelectOnClick,this._singleSelectChange(i,o)),this._maxHistoryLength=this.grid.options.columns.length,this._selectionHistory=[{elem:i,elemIndex:i.index(),rowOfElem:i.closest("tr"),prevSelected:null,keyCode:null}])}},_touchStart:function(t){t.target=n(document.elementFromPoint(t.originalEvent.touches[0].clientX,t.originalEvent.touches[0].clientY)),t.which=1,this._canDrag=t.target.hasClass("ui-iggrid-selectedcell")&&t.target.hasClass("ui-state-focus")?!0:!1,this._mouseDown(t)},_touchEnd:function(t){t.target=n(document.elementFromPoint(t.originalEvent.changedTouches[0].clientX,t.originalEvent.changedTouches[0].clientY)),this._canDrag=!1,this._mouseUp(t)},_touchMove:function(t){if(!this._isMouseDown||!this._canDrag)return!0;t.preventDefault(),t.target=n(document.elementFromPoint(t.originalEvent.touches[0].clientX,t.originalEvent.touches[0].clientY)),this._mouseMove(t)},_pointerDown:function(n){this.grid.element.css("-ms-touch-action","none"),this._mouseDown(n)},_pointerMove:function(n){this._mouseMove(n)},_pointerUp:function(n){this.grid.element.css("-ms-touch-action","auto"),this._mouseUp(n)},_keyDown:function(t){var i,f,u,e=new RegExp("^"+this.grid.id()+"(_fixed)?$"),r;if((!t||!this._suspend)&&this.grid===this._selection.settings.owner&&this._isMouseDown!==!0&&this.options.activation===!0&&(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE||t.keyCode===n.ui.keyCode.UP||t.keyCode===n.ui.keyCode.DOWN||t.keyCode===n.ui.keyCode.LEFT||t.keyCode===n.ui.keyCode.RIGHT)&&(i=t&&t.target?n(t.target):null,f=i?this._identifierForTarget(i):null,u=i?i.closest(".ui-iggrid-table"):null,!u||!(u.length>0)||u.attr("id").match(e))){if(this._selection.activeElement===null||this._selection.activeElement===undefined){if(this.options.mode==="cell"){if(r=i.children("td:not([data-skip='true']):first"),!r.length)return;this._singleSelectChange(r,!1,!1),t.keyCode===n.ui.keyCode.SPACE&&t.preventDefault();return}if(r=i.closest("tr"),!r.length)return;this._selection.activate(this._identifierForRow(r),r)}if(t.preventDefault(),t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE){if(this._suppressKey(t.keyCode))return;this._isDataElement(this._selection.activeElement)&&this._canBeSelected(f,i)?this._selection.toggle():this._handleToggle(t.ctrlKey||t.metaKey);return}this._navigate(t.keyCode,t.ctrlKey||t.metaKey,t.shiftKey)}},_selectStart:function(t){var u=new RegExp("^"+this.grid.id()+"(_fixed)?$"),i=t.target?n(t.target):null,r=i?i.closest(".ui-iggrid-table"):n();if((!(r.length>0)||r.attr("id").match(u))&&(!t||!this._suspend)){if(this.options.mouseDragSelect===!1||this.options.multipleSelection===!1)return!1;t.preventDefault()}},_selectStartContainer:function(t){t.target&&n(t.target).hasClass("ui-iggrid-fixedcontainer")&&t.preventDefault()},_tbodyFocusIn:function(t){var i=t&&t.target?n(t.target):null,r=i?i.closest(".ui-iggrid-table"):null,f=new RegExp("^"+this.grid.id()+"(_fixed)?$"),u;if((i.is("[data-rs-select-all]")||i.is("[data-rs-deselect-all]"))&&(r=i?i.closest(".ui-iggrid").find(".ui-iggrid-table"):null),this._selection.settings.owner&&(u=new RegExp("^"+this._selection.settings.owner.id()+"(_fixed)?$")),r&&r.length>0){if(!r.attr("id").match(f))return;u&&!r.attr("id").match(u)&&this._selection.changeOwner(this.grid)}this.options.mode==="row"?i.is("tr")&&this._selection.activate(this._identifierForRow(i),i):i.is("td")&&(this._selection.activate(this._identifierForTarget(i),i),i.attr("data-gbsummary")||(this._storedActiveIndex=i.index()))},_tbodyFocusOut:function(t){var i=t&&t.target?n(t.target):null,u=i?i.closest(".ui-iggrid-table"):null,f=new RegExp("^"+this.grid.id()+"(_fixed)?$"),r;u&&u.length>0&&!u.attr("id").match(f)||(this.options.mode==="row"?i.is("tr")&&(r=this._identifierForRow(i),this._selection.isActive(r)&&this._selection.deactivate()):i.is("td")&&(r=this._identifierForTarget(i),this._selection.isActive(r)&&this._selection.deactivate()))},_preventDefault:function(t){n(t.target).is("td")&&t.preventDefault()},_releaseMouse:function(){this._dragSelect=!1,this._firstDragCell=null,this._isMouseDown=!1,this._mouseDownTarget=null},_applyCellStyle:function(n,t){var i={id:n[this._pkProp],columnKey:t};return this._selection.isSelected(i,this.grid)?this.css.selectedCell:""},_applyRowStyle:function(n){var t=n.__gbRecord?n.id:n[this._pkProp];return this._selection.isSelected(t,this.grid)?this.css.selectedCell:""},_paintActive:function(){this._selection.activeElement&&this._selection.settings.owner===this.grid&&(this.options.mode==="row"?this._getRowsByIdentifier(this._selection.activeElement).addClass(this.css.activeRow):this._getCellByIdentifier(this._selection.activeElement).addClass(this.css.activeCell))},_renderAttributes:function(){this._selection.selectionLength()?this.options.mode==="row"?(this.grid.element.children("tbody").find("td.ui-iggrid-selectedcell").closest("tr").attr("aria-selected",!0),this.grid.fixedBodyContainer().find("tbody").find("td.ui-iggrid-selectedcell").closest("tr").attr("aria-selected",!0)):(this.grid.element.children("tbody").find("td.ui-iggrid-selectedcell").attr("aria-selected",!0),this.grid.fixedBodyContainer().find("tbody").find("td.ui-iggrid-selectedcell").attr("aria-selected",!0)):this.options.mode==="row"?(this.grid.element.children("tbody").find("td:not('.ui-iggrid-selectedcell')").closest("tr").attr("aria-selected",!1),this.grid.fixedBodyContainer().find("tbody").find("td:not('.ui-iggrid-selectedcell')").closest("tr").attr("aria-selected",!1)):(this.grid.element.children("tbody").find("td:not('.ui-iggrid-selectedcell')").attr("aria-selected",!1),this.grid.fixedBodyContainer().find("tbody").find("td:not('.ui-iggrid-selectedcell')").attr("aria-selected",!1))},_defaultAttributes:function(){this.options.mode==="row"?(this.grid.element.children("tbody").children("tr").attr("aria-selected",!1),this.grid.fixedBodyContainer().find("tbody").children("tr").attr("aria-selected",!1)):(this.grid.element.children("tbody").find("td").attr("aria-selected",!1),this.grid.fixedBodyContainer().find("tbody").find("td").attr("aria-selected",!1))},clearSelection:function(){this._selection.cleanAll(this.grid)},selectCell:function(t,i,r){var e,u,f,o;if(this.options.mode!=="row"){if(this._isOutOfView(t,i)){if(o=this.grid._getDataView()[t],!o)return;if(this.grid._visibleColumns().length<i||i<0)return;u={id:this._pkProp?t[this._pkProp]:t,columnKey:this.grid._visibleColumns()[i].key},f=n()}else t-=this.grid._startRowIndex||0,i-=this.grid._startColIndex||0,e=this._getRowByIndex(t,r),u=this._identifierForCell(this._getCellByIndex(i,e)),f=this._getCellByIdentifier(u);this._selection.settings.owner!==this.grid&&this._selection.changeOwner(this.grid),this.options.activation&&(n.ig.util.isTouchDevice()&&this.grid._setIgScrollPositionTop(0),this._selection.activate(u,f)),this._selection.isSelected(u,this.grid)||this._selection.select(u,!0,{element:f},!0)}},selectCellById:function(n,t){var i={id:n,columnKey:t};this.options.mode!=="row"&&(this._selection.isSelected(i,this.grid)||(this._selection.settings.owner!==this.grid&&this._selection.changeOwner(this.grid),this._selection.select(i,!0,{element:this._getCellByIdentifier(i)},!0)))},deselectCell:function(n,t,i){var u,r,f;(n-=this.grid._startRowIndex||0,t-=this.grid._startColIndex||0,u=this._getRowByIndex(n,i),r=this._identifierForCell(this._getCellByIndex(t,u)),f=this._getCellByIdentifier(r),this.options.mode!=="row")&&this._selection.isSelected(r,this.grid)&&this._selection.deselect(r,{element:f},!0)},deselectCellById:function(n,t){var i={id:n,columnKey:t};this.options.mode!=="row"&&this._selection.isSelected(i,this.grid)&&this._selection.deselect(i,{element:this._getCellByIdentifier(i)},!0)},selectRow:function(t){var i,r;if(this.options.mode!=="cell"){if(this._isOutOfView(t)){if(i=this.grid._getDataView()[t],!i)return;r=this._pkProp?i[this._pkProp]:t,i=n()}else t-=this.grid._startRowIndex||0,i=this._getRowByIndex(t,!1).add(this._getRowByIndex(t,!0)),r=this._identifierForRow(i.eq(0));this._selection.settings.owner!==this.grid&&this._selection.changeOwner(this.grid),this.options.activation&&(n.ig.util.isTouchDevice()&&this.grid._setIgScrollPositionTop(0),this._selection.activate(r,i)),this._selection.isSelected(r,this.grid)||this._selection.select(r,!0,{element:i},!0)}},selectRowById:function(n){this.options.mode!=="cell"&&(this._selection.isSelected(n,this.grid)||(this._selection.settings.owner!==this.grid&&this._selection.changeOwner(this.grid),this._selection.select(n,!0,{element:this._getRowsByIdentifier(n)},!0)))},deselectRow:function(n){var t,i;(n-=this.grid._startRowIndex||0,t=this._getRowByIndex(n,!1).add(this._getRowByIndex(n,!0)),i=this._identifierForRow(t.eq(0)),this.options.mode!=="cell")&&this._selection.isSelected(i,this.grid)&&this._selection.deselect(i,{element:t},!0)},deselectRowById:function(n){this.options.mode!=="cell"&&this._selection.isSelected(n,this.grid)&&this._selection.deselect(n,{element:this._getRowsByIdentifier(n)},!0)},selectedCells:function(){return this._selection.settings.owner!==this.grid?[]:this.options.multipleSelection?this._selection.selectedCells():null},selectedRows:function(){return this._selection.settings.owner!==this.grid?[]:this.options.multipleSelection?this._selection.selectedRows():null},selectedCell:function(){var n;return this._selection.settings.owner!==this.grid?null:(n=this._selection.selectedCells(),this.options.multipleSelection?null:n.length===1?n[0]:null)},selectedRow:function(){var n;return this._selection.settings.owner!==this.grid?null:(n=this._selection.selectedRows(),this.options.multipleSelection?null:n.length===1?n[0]:null)},activeCell:function(){return this.options.mode==="row"?null:this._selection.settings.owner!==this.grid?null:this._selection.activeCell()},activeRow:function(){return this.options.mode==="cell"?null:this._selection.settings.owner!==this.grid?null:this._selection.activeRow()},_singleSelectChange:function(n,t){var i,r,u=n;this.options.mode==="row"?(n=n.closest("tr"),n.addClass("initially-focused"),this.grid.hasFixedColumns()&&(r=n.index(),n=n.add(this._getRowByIndex(r,!this.grid._isFixedElement(n))))):n=n.closest("td"),this._selection.settings.owner!==this.grid&&this._selection.changeOwner(this.grid),i=this._identifierForTarget(n),this.options.activation&&(u.is("tr")||u.is("td"))&&this._selection.activate(i,n),this._canBeSelected(i,n)&&this._selection.select(i,t,{element:n})},_shiftSelectChange:function(n){var i,t,r=this.options.mode==="cell"&&this.options.allowMultipleRangeSelection,u=this.grid.options.virtualization||this.grid.options.rowVirtualization||this.grid.options.columnVirtualization;if(n=this.options.mode==="row"?n.closest("tr"):n.closest("td"),this._selection.settings.owner!==this.grid&&this._selection.changeOwner(this.grid),i=this._identifierForTarget(n),this._canBeSelected(i,n)){if(this._selection.rangeSelectStart===null||this._selection.rangeSelectStart===undefined)this._selection.rangeSelectStart=i,this._selection.rangeSelectEnd=null;else{if(this._selection.rangeSelectEnd===i||this._selection.rangeSelectStart===this._selection.rangeSelectEnd&&this._selection.rangeSelectStart===i)return;this._selection.rangeSelectEnd=i}(t=u?this._getRecordRange(this._selection.rangeSelectStart,i):this._getElementRange(this._selection.rangeSelectStart,i),t.range&&t.range.length)&&(r?(this._selection.rangeSelect(t.range,!1,this._previousRangeCache,t,!1),this._previousRangeCache=t.range):this._selection.rangeSelect(t.range,!1,null,t,!1))}},_navigate:function(n,t,i,r){var o=r||this._selection.activeElement,f,e,u=this._getNextActiveElement(n,!i&&this.options.wrapAround,o);u&&u.length!==0&&(f=u.closest(".ui-iggrid-table"),f.attr("id")!==this.grid.id()&&u.closest(".ui-iggrid").attr("id")!==this.grid.container().attr("id")?(e=f.data("igGridSelection"),this._selection.changeOwner(e.grid),f.closest(".ui-iggrid").focus(),e._storedActiveIndex=null,e._navigateOwn(u,o,n,t,i)):this._navigateOwn(u,o,n,t,i))},_navigateOwn:function(n,t,i,r,u){var f=this._identifierForTarget(n),o=this._selection.elementFromIdentifier(t),e=o.is("tr")?this.grid.getElementInfo(o).rowIndex:0,h=n.is("tr")?this.grid.getElementInfo(n).rowIndex:0,s=!1;if(n.is("tr")&&this.grid.hasFixedColumns()&&(n.addClass("initially-focused"),n=n.add(this._getRowByIndex(n.index(),!this.grid._isFixedElement(n)))),!n.is("tr")&&f.columnKey.startsWith("##")&&u){this._navigate(i,r,u,f);return}if(this._selection.activate(f,n),r){this._setScroll(i,n);return}u?this.options.mode!=="row"&&this.options.multipleSelection?this._shiftSelectChange(n,!1):(this._rangeSelectionStartIndex||(this._rangeSelectionStartIndex=e),(h-e<0&&e>this._rangeSelectionStartIndex||h-e>0&&e<this._rangeSelectionStartIndex)&&(s=!0),s&&this._canBeSelected(t,o)&&(this._selection.isSelected(this._selection.activeElement,this.grid)||!this._canBeSelected(f,n))?this._selection.deselect(t):!s&&this._canBeSelected(f,n)&&this._selection.toggle(n)):f.columnKey&&f.columnKey.startsWith("##")||!this._canBeSelected(f,n)?this._selection.isSelected(t)&&this._selection.clearSelection():(this._rangeSelectionStartIndex=null,this._selection.select(f,!1,{element:n})),this._setScroll(i,n)},_handleToggle:function(n){var t=this._selection.elementFromIdentifier(this._selection.activeElement),i,r;t.is("th")?(i=this._getRowsByIdentifier(this._selection.activeElement.id),r=this.grid.hasFixedColumns()&&this.grid._isFixedElement(t)?this._firstDataCellForRow(i.first()):this._firstDataCellForRow(i.last()),this._singleSelectChange(r,n)):t.attr("data-parent")?t.closest(".ui-iggrid-root").igHierarchicalGrid("toggle",t.closest("tr")):t.hasClass("ui-igtreegrid-expansion-indicator-cell")&&t.attr("data-expand-cell")&&t.closest(".ui-iggrid-table").igTreeGrid("toggleRow",t.closest("tr"))},_getNextActiveElement:function(t,i,r){var v=r instanceof n?r:this._selection.elementFromIdentifier(r||this._selection.activeElement),o=v.closest("tr"),h=v.index(),l=this.grid.hasFixedColumns(),e=l?this.grid._isFixedElement(v):!1,a=this.grid.fixingDirection(),f,s,u,y,d=this.grid.options,c=d.virtualization||d.rowVirtualization,p=v.attr("rowspan")!==undefined,k=v.attr("colspan")!==undefined,w=parseInt(v.attr("colspan")),g=this.options.skipChildren?"[data-container=true]":"",b,nt;if(this._rowMergeOffset||(this._rowMergeOffset=0),this._selectionHistory&&this._selectionHistory.length===1&&(this._rowMergeOffset=0),t===n.ui.keyCode.UP){if(u=this._getPrevRow(o,i,e,!1,c),o=u,this.options.mode==="row"||!u)return u;if(s=h>=u.children().length?u.children().length-1:this._storedActiveIndex||h,f=u.children().eq(s),this._rowMergeOffset!==0&&(s+=this._rowMergeOffset,f=u.children().eq(s),this._rowMergeOffset=0),f.attr("aria-rowmerged")!==undefined)while(f.attr("aria-rowmerged")!==undefined)this._rowMergeOffset++,s--,f=u.children().eq(s);while(!f.is(":visible")&&f.attr("aria-rowmerged")===undefined){if(u=this._getPrevRow(o,i,e,!1,c),o=u,this.options.mode==="row"||!u)return u;f=u.children().eq(s)}}else if(t===n.ui.keyCode.DOWN){if(u=this._getNextRow(o,i,e,!1,c),p&&(nt=parseInt(v.attr("rowspan")),u=this._getRowByIndex(o.index()+nt,e),u.length?u.attr("data-container")&&(u=this._firstRow(u,e,g)):u=this._firstRow(null,e,g)),this.options.mode==="row"||!u)return u;if(s=h>=u.children().length?u.children().length-1:this._storedActiveIndex||h,f=u.children().eq(s),this._rowMergeOffset!==0&&(s+=this._rowMergeOffset,f=u.children().eq(s),this._rowMergeOffset=0),f.attr("aria-rowmerged")!==undefined)while(f.attr("aria-rowmerged")!==undefined)this._rowMergeOffset++,s--,f=u.children().eq(s)}else if(t===n.ui.keyCode.LEFT&&this.options.mode==="cell"){if(v.is(":first-child")?(l&&!e&&a==="left"?p&&this._selectionHistory.length>1?u=this._getNextRowByEndMergedCell(t,i,e,a):k?(h-=w-1,u=this._getRowByIndex(o.index(),!0)):u=this._getRowByIndex(o.index(),!0):l&&e&&a==="right"?p&&this._selectionHistory.length>1?u=this._getNextRowByEndMergedCell(t,i,e,a):k?(h-=w-1,u=this._getRowByIndex(o.index(),!1)):u=this._getRowByIndex(o.index(),!1):(p&&this._selectionHistory.length>1?u=this._getNextRowByEndMergedCell(t,i,e,a):k?(h-=w-1,u=this._getPrevRow(o,i,e,l,c)):u=this._getPrevRow(o,i,e,l,c),this._cleanHistorySavePrevRow(t,i,e,l,c)),y=!0):p&&this._selectionHistory.length>1?this._selectionHistory[0].keyCode===n.ui.keyCode.UP?(o=this._selectionHistory[1].rowOfElem,u=this._getPrevRow(o,i,e,!1,c)):this._selectionHistory[0].keyCode===n.ui.keyCode.DOWN?u=this._selectionHistory[0].rowOfElem:this._selectionHistory[0].keyCode===n.ui.keyCode.RIGHT?u=this._selectionHistory[1].rowOfElem:this._selectionHistory[0].keyCode===n.ui.keyCode.LEFT&&e?(b=this._findLastSmallestCellGroupSelected(),u=this._getRowByIndex(b.rowOfElem.index(),!0)):this._selectionHistory[0].keyCode===n.ui.keyCode.LEFT?(b=this._findLastSmallestCellGroupSelected(),u=this._getRowByIndex(b.rowOfElem.index(),!1)):u=o:u=o,!u||u.length===0)return null;for(s=y?u.children().length-1:h-1,f=u.children().eq(s),f.attr("colspan")===undefined&&(this._rowMergeOffset=0);!f.is(":visible");)if(f.attr("aria-rowmerged")!==undefined)while(f.attr("aria-rowmerged")!==undefined)this._rowMergeOffset++,s--,f=u.children().eq(s);else u=this._getPrevRow(u,i,e,!1,c),s=y?u.children().length-1:h-1,f=u.children().eq(s);this._revertH=y}else if(t===n.ui.keyCode.RIGHT&&this.options.mode==="cell"){if(v.is(":last-child")?(l&&e&&a==="left"?p&&this._selectionHistory.length>1?u=this._getNextRowByEndMergedCell(t,i,e,a):k?(h+=w-1,u=this._getRowByIndex(o.index(),!1)):u=this._getRowByIndex(o.index(),!1):l&&!e&&a==="right"?p&&this._selectionHistory.length>1?u=this._getNextRowByEndMergedCell(t,i,e,a):k?(h+=w-1,u=this._getRowByIndex(o.index(),!0)):u=this._getRowByIndex(o.index(),!0):(p&&this._selectionHistory.length>1?u=this._getNextRowByEndMergedCell(t,i,e,a):k?(h+=w-1,u=this._getNextRow(o,i,e,l,c)):u=this._getNextRow(o,i,e,l,c),this._cleanHistorySaveNextRow(t,i,e,l,c)),y=!0):p&&this._selectionHistory.length>1?this._selectionHistory[0].keyCode===n.ui.keyCode.UP?(o=this._selectionHistory[1].rowOfElem,u=this._getPrevRow(o,i,e,!1,c)):this._selectionHistory[0].keyCode===n.ui.keyCode.DOWN?u=this._selectionHistory[0].rowOfElem:this._selectionHistory[0].keyCode===n.ui.keyCode.LEFT?u=this._selectionHistory[1].rowOfElem:this._selectionHistory[0].keyCode===n.ui.keyCode.RIGHT&&e?(b=this._findLastSmallestCellGroupSelected(),u=this._getRowByIndex(b.rowOfElem.index(),!0)):this._selectionHistory[0].keyCode===n.ui.keyCode.RIGHT?(b=this._findLastSmallestCellGroupSelected(),u=this._getRowByIndex(b.rowOfElem.index(),!1)):u=o:k?this.grid.options.columns.length<=h+parseInt(w)?(h=-1,u=this._getNextRow(o,i,!e,l,c)):(h+=parseInt(w)-1,u=o):u=o,!u)return null;for(s=y?0:h+1,f=u.children().eq(s),f.attr("colspan")===undefined&&(this._rowMergeOffset=0);!f.is(":visible");)if(f.attr("aria-rowmerged")!==undefined)while(f.attr("aria-rowmerged")!==undefined)this._rowMergeOffset++,u=this._getPrevRow(u,i,e,!1,c),s=y?0:h+1,f=u.children().eq(s);else u=this._getPrevRow(u,i,e,!1,c),s=y?0:h+1,f=u.children().eq(s);this._revertH=y}return f&&!f.attr("data-gbsummary")&&(this._storedActiveIndex=s),this._selectionHistory?(this._selectionHistory.unshift({elem:f,elemIndex:s,rowOfElem:u,keyCode:t}),this._selectionHistory.length>this._maxHistoryLength&&this._selectionHistory.splice(this._maxHistoryLength)):(this._maxHistoryLength=this.grid.options.columns.length,this._selectionHistory=[{elem:f,elemIndex:s,rowOfElem:u,keyCode:null}]),f},_findLastSmallestCellGroupSelected:function(){for(var u,t,i=this._selectionHistory[0],f=i.elem&&i.elem.attr("rowspan")?parseInt(i.elem.attr("rowspan")):0,r=1;r<this._selectionHistory.length;r++){if(u=this._selectionHistory[r-1],t=this._selectionHistory[r],u.keyCode===n.ui.keyCode.UP||u.keyCode===n.ui.keyCode.DOWN)break;if(t.elem!==null&&t.elem.attr("rowspan"))parseInt(t.elem.attr("rowspan"))<f&&(i=t,f=parseInt(i.elem.attr("rowspan")));else return t}return i},_cleanHistorySaveNextRow:function(n,t,i,r,u){var f=this._findLastSmallestCellGroupSelected(),e=f.rowOfElem,o=this._getNextRow(e,t,i,r,u);this._selectionHistory=[{elem:null,elemIndex:f.elemIndex,rowOfElem:o?o:e,keyCode:n}]},_cleanHistorySavePrevRow:function(n,t,i,r,u){var f=this._findLastSmallestCellGroupSelected(),e=f.rowOfElem,o=this._getPrevRow(e,t,i,r,u);this._selectionHistory=[{elem:null,elemIndex:f.elemIndex,rowOfElem:o?o:e,keyCode:n}]},_getNextRowByEndMergedCell:function(t,i,r,u){var f,e=this.grid.hasFixedColumns(),o=this.grid.options.virtualization||this.grid.options.rowVirtualization,c=this._findLastSmallestCellGroupSelected(),s=c.rowOfElem,h=this._selectionHistory[1].rowOfElem;return t===n.ui.keyCode.RIGHT?f=this._selectionHistory[0].keyCode===n.ui.keyCode.UP?this._getRowByIndex(h.index(),e?!r:!1):r&&u==="left"||!r&&u==="right"?this._getRowByIndex(s.index(),!r):this._getNextRow(s,i,r,e,o):t===n.ui.keyCode.LEFT&&(this._selectionHistory[0].keyCode===n.ui.keyCode.UP?(f=this._getPrevRow(h,i,r,e,o),f=this._getPrevRow(f,i,r,e,o),this._selectionHistory.shift(),this._cleanHistorySavePrevRow(t,i,!1,e,o)):f=!r&&u==="left"||r&&u==="right"?this._getRowByIndex(s.index(),!r):this._getPrevRow(s,i,r,e,o)),f},_getNextRow:function(t,i,r,u,f){var o=this.options.skipChildren?"[data-container=true]":"",e,s;if(f&&(s=t.index(),s>=this.grid._virtualRowCount-1))return this._scrollVmanual(!0),null;if(t.first().parent().children((o.length>0?":not("+o+")":"")+":visible:last")[0]===t[0]){if(i)e=this._firstRow(null,u?!r:r,o);else return;this._revertV=!0}else r&&n.ig.util.isIE&&t.width(),e=u?this._getRowByIndex(t.index()+1,!r):t.nextAll("tr"+(o.length>0?":not("+o+")":"")+":visible").first(),this._revertV=!1;return e.attr("data-container")&&(e=this._firstRow(e,u?!r:r,o)),e},_getPrevRow:function(t,i,r,u,f){var o=this.options.skipChildren?"[data-container=true]":"",e,s;if(f&&(s=t.index(),s<=0))return this._scrollVmanual(!1),null;if(t.is(":first-child")){if(i)e=this._lastRow(null,u?!r:r,o);else return;this._revertV=!0}else r&&n.ig.util.isIE&&t.width(),e=u?this._getRowByIndex(t.index()-1,!r):t.prevAll("tr"+(o.length>0?":not("+o+")":"")+":visible").first(),this._revertV=!1;return e.attr("data-container")&&(e=this._lastRow(e,u?!r:r,o)),e},_lastRow:function(n,t,i){var r;return r=n?n.find("tbody"):t?this.grid.fixedBodyContainer().find("tbody"):this.grid.element.children("tbody"),r.children("tr"+(i.length>0?":not("+i+")":"")+":visible").last()},_firstRow:function(n,t,i){var r;return r=n?n.find("tbody"):t?this.grid.fixedBodyContainer().find("tbody"):this.grid.element.children("tbody"),r.children("tr"+(i.length>0?":not("+i+")":"")).first()},_createUidForData:function(){for(var t=0,i=this.grid.dataSource?this.grid.dataSource._data:[],t=0;t<i.length;t++)i[t].ig_pk||(i[t].ig_pk=n.ig.util.getCheckSumForObject(i[t]))},_initSelectionCollection:function(){var t,i;t=this.grid.element.closest(".ui-iggrid-root"),t=t.length>0?t.data("igGrid"):this.grid,i={multipleSelection:this.options.multipleSelection,byIndex:this._pkProp===null,owner:this.grid},t._selectionCollection=this.options.mode==="row"?t._selectionCollection||new n.ig.SelectedRowsCollection(i):t._selectionCollection||new n.ig.SelectedCellsCollection(i),this._selection=t._selectionCollection,this.grid._selection=this._selection,this._subId||(this._subId=this._selection.addSubscriber(this,this.grid.id()))},_setScroll:function(t,i){var r,u=this._revertV?t===n.ui.keyCode.DOWN||t===n.ui.keyCode.RIGHT?"up":"down":t===n.ui.keyCode.DOWN||t===n.ui.keyCode.RIGHT?"down":"up";this._setScrollTop(i,this.grid.element.parent(),i.closest("tr"),u,i.closest("tr").index()),this.options.mode!=="cell"||t!==n.ui.keyCode.LEFT&&t!==n.ui.keyCode.RIGHT||this.grid._isFixedElement(i)||(r=this._revertH?t===n.ui.keyCode.LEFT?"right":"left":t===n.ui.keyCode.LEFT?"left":"right",this._setScrollLeft(this.grid._hscrollbarcontent(),i,r,i.index()))},_setScrollTop:function(t,i,r,u,f){var e,l,a,s,o,h=i.igOffset(),c=r.igOffset();r&&r.length!==0&&(s=this.grid.options.virtualization||this.grid.options.rowVirtualization,o=s&&this.grid.options.virtualizationMode==="continuous",e=t.attr("rowspan")!==undefined?u==="down"?t.outerHeight()+r.outerHeight()-(n(i).outerHeight()-(c.top-h.top)):r.outerHeight()-(c.top-h.top):s&&!o?parseInt(this.grid.options.avgRowHeight,10):r.outerHeight(),(!s||o)&&(l=t.attr("rowspan")!==undefined?c.top+t.outerHeight()+this.grid._scrollbarWidth()>h.top+n(i).outerHeight():c.top+e+this.grid._scrollbarWidth()>h.top+n(i).outerHeight(),a=c.top-e/2<=h.top||o&&f<0),f===0&&(!s||o)?i[0].scrollTop=0:u==="down"?l&&o&&this.grid._onVirtualVerticalScroll({},e,u):a&&o&&this.grid._onVirtualVerticalScroll({},e,u))},_setScrollLeft:function(n,t,i,r){var u=n.igOffset(),f,o=t.igOffset(),e;t&&t.length&&n.length&&(f=this.grid.scrollContainer(),e=o.left+(f.length>0?f.scrollLeft():0),r===0?(n[0].scrollLeft=0,this.grid._synchronizeHScroll()):i==="right"?e+t.outerWidth()>u.left+n.outerWidth()&&(n[0].scrollLeft=e-(u.left+n.outerWidth())+t.outerWidth(),this.grid._synchronizeHScroll()):o.left<u.left&&(n[0].scrollLeft=n[0].scrollLeft-t.outerWidth(),this.grid._synchronizeHScroll()))},_scrollVmanual:function(t){var i=n("#"+this.grid.element[0].id+"_scrollContainer"),r=parseInt(this.grid.options.avgRowHeight,10);this.grid._ignoreScroll=!0,t?i.scrollTop(i.scrollTop()+r):i.scrollTop(i.scrollTop()-r),this.grid._onVirtualVerticalScroll(),this.grid._ignoreScroll=!1},_getRecordRange:function(n,t,i){var w,b,u,o,h,c,v=[],e,y,r,s,f=i?i:this.grid._getDataView(),l,a,p=this.grid._visibleColumns();if(this.options.mode==="row"?(l=n,a=t):(l=n.id,a=t.id),this._pkProp){for(r=0;r<f.length;r++)if(f[r][this._pkProp]===l&&(w=f[r],u=r),f[r][this._pkProp]===a&&(b=f[r],o=r),w&&b)break}else w=l>=0&&l<f.length?f[l]:null,u=l,b=a>=0&&a<f.length?f[a]:null,o=a;if(w&&b){if(e=u>o?f.slice(o,u+1):f.slice(u,o+1),u=Math.min(u,o),this.options.mode==="row"){if(this._pkProp)for(r=0;r<e.length;r++)e[r].__gbRecord||v.push({id:e[r][this._pkProp]});else for(r=0;r<e.length;r++)v.push({id:r+u});return{startIndex:u,endIndex:o,active:t,element:this._getRowsByIdentifier(t),range:v}}for(r=0;r<p.length;r++)if(p[r].key===n.columnKey&&(h=r),p[r].key===t.columnKey&&(c=r),h!==undefined&&c!==undefined)break;if(h!==undefined&&c!==undefined){if(y=h>c?p.slice(c,h+1):p.slice(h,c+1),this._pkProp)for(r=0;r<e.length;r++)for(s=0;s<y.length;s++)v.push({id:{id:e[r][this._pkProp],columnKey:y[s].key}});else for(r=0;r<e.length;r++)for(s=0;s<y.length;s++)v.push({id:{id:r+u,columnKey:y[s].key}});return{firstRowIndex:u,lastRowIndex:o,firstColumnIndex:h,lastColumnIndex:c,active:t,element:this._getCellByIdentifier(t),range:v}}}},_getElementRange:function(t,i){var e,f,r,u,p=[],o,w,s,h,c,a,v,y,b,l;if(e=this._selection.elementFromIdentifier(t),f=this._selection.elementFromIdentifier(i),r=this._getIndexForRow(e.closest("tr")),u=this._getIndexForRow(f.closest("tr")),w=r>u,w&&(r=r+u,u=r-u,r=r-u),s=this.grid.element.find("tbody").children("tr:not([data-container]):visible").slice(r,u+1),this.grid.hasFixedColumns()&&(h=this.grid.fixedBodyContainer().find("tbody").children("tr:not([data-container]):visible").slice(r,u+1)),this.options.mode==="row"){for(o=0;o<s.length;o++)a=o+r,b=this._identifierForRow(s.eq(o)),l=s.eq(o),this._canBeSelected(b,l)&&p.push({id:this._pkProp?this._identifierForRow(l):a,index:a,element:l.add(h?h.eq(o):null)});return{startIndex:r,endIndex:u,active:i,element:f,range:p}}return this.grid.hasFixedColumns()?(v=this.grid._isFixedElement(e),y=this.grid._isFixedElement(f),c=v&&y?this._getCellRangeFor(h,e,f,r):v!==y?this._getCrossCellRange(s,h,e,f,r):this._getCellRangeFor(s,e,f,r)):c=this._getCellRangeFor(s,e,f,r),n.extend(c,{firstRowIndex:r,lastRowIndex:u,active:i,element:f})},_getCrossCellRange:function(n,t,i,r,u){var y=this.grid.fixedBodyContainer().attr("data-fixing-direction"),h,c,l,a,f,e,o,s,p,v;return this.grid._isFixedElement(i)?(f=i.parent(),h=i,s=r.parent(),a=r,e=this._getRowByIndex(s.index(),!0),o=this._getRowByIndex(f.index(),!1),y==="left"?(c=e.children("td:not([data-skip=true])").last(),l=o.children("td:not([data-skip=true])").first()):(c=e.children("td:not([data-skip=true])").first(),l=o.children("td:not([data-skip=true])").last())):(o=i.parent(),l=i,e=r.parent(),c=r,s=this._getRowByIndex(e.index(),!1),f=this._getRowByIndex(o.index(),!0),y==="left"?(a=s.children("td:not([data-skip=true])").first(),h=f.children("td:not([data-skip=true])").last()):(a=s.children("td:not([data-skip=true])").last(),h=f.children("td:not([data-skip=true])").first())),v=this._getCellRangeFor(t,h,c,u),p=this._getCellRangeFor(n,l,a,u),{range:v.range.concat(p.range),firstColumnIndex:v.startCellIndex,lastColumnIndex:v.endCellIndex}},_getCellRangeFor:function(n,t,i,r){var u,f,y,h,o,c=[],l,a,s,p,v,e,w;if(u=t.parent().children("td").index(t),f=i.parent().children("td").index(i),y=u>f,y&&(u=u+f,f=u-f,u=u-f),h=f-u+1,o=n.find("td:nth-of-type(n+"+(u+1)+"):nth-of-type(-n+"+(f+1)+")"),!o.length)return{range:c};for(l=o.eq(0).parent(),a=r,w=t.index(),e=0;e<o.length;e++)s=o.eq(e),s.parent()[0]!==l[0]&&(l=s.parent(),a=r+Math.floor(e/h)),p=e%h+w,v=this._identifierForTarget(s),this._canBeSelected(v)&&c.push({id:v,element:s,rowIndex:a,index:p});return{firstColumnIndex:u,lastColumnIndex:f,range:c}},_isOutOfView:function(n,t){var r=this.grid.options.rowVirtualization||this.grid.options.virtualization,e=this.grid.options.columnVirtualization||this.grid.options.virtualization,i=this.grid._startRowIndex||0,u=this.grid._startColIndex||0,f=this.grid._virtualRowCount,o=this.grid._virtualColumnCount;return t===null||t===undefined?r?n<i||n>=i+f:!1:r||e?n<i||n>=i+f||t<u||t>=u+o:!1},_isDataElement:function(t){var i=n.type(t);return i==="number"||i==="string"||!t.columnKey.startsWith("##")},_suppressKey:function(t){var r=this.grid.element.data("igGridUpdating"),i;switch(t){case n.ui.keyCode.ENTER:i="enter";break;case n.ui.keyCode.SPACE:i="space"}return r?r.options.startEditTriggers.indexOf(i)>=0:!1},_firstDataCellForRow:function(n){return n.children("td:not([data-skip='true'],td[data-parent]):first")},_canBeSelected:function(n,t){return!n.columnKey&&t&&t.is("tr")&&!t.attr("data-grouprow")&&!t.attr("data-summaryrow")||n.columnKey&&!n.columnKey.startsWith("##")},_identifierForTarget:function(n){return n.is("tr")?this._identifierForRow(n):n.hasClass("ui-iggrid-nongrouprowemptycell")?this._identifierForDataSkipCell(n,this._gbEmptyCellKey):n.hasClass("ui-iggrid-expandcolumn")?n.attr("data-parent")?this._identifierForDataSkipCell(n,this._hgCellKey):this._identifierForDataSkipCell(n,this._gbExpandCellKey):n.attr("data-gbsummary")?this._identifierForDataSkipCell(n,this._gbSummaryCellKey):n.attr("gbsummaryiconcell")?this._identifierForDataSkipCell(n,this._gbGroupSummaryIconCellKey):n.attr("gbsummaryemptycell")?this._identifierForDataSkipCell(n,this._gbGroupSummaryEmptyCellKey):n.attr("gbsummarycell")?this._identifierForDataSkipCellPerColumn(n,this._gbGroupSummaryCellKey,"{col}"):n.hasClass("ui-igtreegrid-non-data-column")&&n.attr("data-skip")?this._identifierForDataSkipCell(n,this._tgExpandKey):n.is("td")?this._identifierForCell(n):n.is("th")?this._identifierForDataSkipCell(n,this._rsCellKey):null},_getRowId:function(n){var t=n.attr("data-id");return n.attr("data-grouprow")||n.attr("data-summaryrow")?this._pkProp?t:null:this.grid._fixPKValue(t)},_identifierForCell:function(n){var i=n.parent(),t=this._getRowId(i);return(t===null||t===undefined)&&(t=this._getIndexForRow(i)),{id:t,columnKey:this._getColKeyForCell(n)}},_identifierForRow:function(n){var t=this._getRowId(n);return t!==null&&t!==undefined?t:this._getIndexForRow(n)},_identifierForDataSkipCell:function(n,t){var r=n.parent(),i=this._getRowId(r);return(i===null||i===undefined)&&(i=this._getIndexForRow(r)),{id:i,columnKey:t}},_identifierForDataSkipCellPerColumn:function(n,t,i){var u=n.parent(),r=this._getRowId(u),f=this.grid.getColumnByTD(n);return(r===null||r===undefined)&&(r=this._getIndexForRow(u)),t=t.replace(i,f.column.key),{id:r,columnKey:t}},_getRowsByIdentifier:function(t){var i,r=n();return this._pkProp?(this.grid.hasFixedColumns()&&(r=this.grid.rowById(t,!0)),i=this.grid.rowById(t,!1)):(this.grid.hasFixedColumns()&&(r=this._getRowByIndex(t,!0)),i=this._getRowByIndex(t,!1)),i instanceof n?i.add(r):n()},_getCellByIdentifier:function(t){var r,u,e,o,i,f,s=this.grid._startColIndex||0;if(t.columnKey&&t.columnKey.startsWith("##"))return this._getNonDataCellByIdentifier(t);if(!this._pkProp){for(u=this.grid.isFixedColumn(t.columnKey),r=this._getRowByIndex(t.id,u),f=this.grid._visibleColumns(u),e=r.children("th,[data-skip=true],[data-parent]").length,i=0;i<f.length;i++)if(f[i].key===t.columnKey){o=i;break}return r.children("td:nth-child("+(o+1+e-s)+")")}return this.grid.cellById(t.id,t.columnKey)||n()},_getNonDataCellPerColumnByIdentifier:function(n,t){var i=t.columnKey.replace(/#/g,"").split("_")[1];return n.children("td[aria-describedby='"+this.grid.id()+"_"+i+"']")},_getNonDataCellByIdentifier:function(t){var i;if(i=this._pkProp?this._getRowsByIdentifier(t.id):this._getRowByIndex(t.id,this.grid.hasFixedColumns()),/##GBGSCEL_([^\s]+)##/.test(t.columnKey))return this._getNonDataCellPerColumnByIdentifier(i,t);switch(t.columnKey){case this._rsCellKey:return i.children("th:first");case this._gbEmptyCellKey:return i.children(".ui-iggrid-nongrouprowemptycell:first");case this._gbExpandCellKey:return i.children().first();case this._gbSummaryCellKey:return i.children().last();case this._gbGroupSummaryIconCellKey:return i.children().first();case this._gbGroupSummaryEmptyCellKey:return i.children(".ui-iggrid-summaryemptycellcolumn:first");case this._hgCellKey:return i.children("td[data-parent='true']");case this._tgExpandKey:return i.children(".ui-igtreegrid-non-data-column:first");default:return n()}},_getRecordByIdentifier:function(n){var i=this.grid._getDataView(),t,r=null,u=-1;if(this._pkProp){for(t=0;t<i.length;t++)if(i[t][this._pkProp]===n){r=i[t],u=t;break}}else n>=0&&n<i.length&&(r=i[n],u=n);return{record:r,index:u}},_getRowByIndex:function(n,t){var i=t?this.grid.fixedBodyContainer().find("tbody"):this.grid.element.find("tbody");return i.children("tr:not([data-container])").eq(n)},_getCellByIndex:function(n,t){return t.children("td").eq(n)},_getIndexForRow:function(n){return n.closest("tbody").children("tr:not([data-container])").index(n)+(this.grid._startRowIndex||0)},_getColKeyForCell:function(n){var t=this.grid.getColumnByTD(n);return t?t.column.key:null},_getColIndexByKey:function(n){for(var i=this.grid._visibleColumns(),t=0;t<i.length;t++)if(i[t].key===n)return t;return-1},_onRowSelectionChanging:function(t){var i={owner:this,selectedRows:this._selection.selectedRows()};return t.element&&t.element.length?(i.row={element:t.element,index:t.index!==undefined?t.index:this._getIndexForRow(t.element)},this._pkProp&&(i.row.id=t.id||this._identifierForRow(t.element))):(i.row={element:n(),index:-1},this._pkProp&&t.range&&t.range.length>0?i.row.id=t.range[t.range.length-1].id:this._pkProp&&(i.row.id=t.id)),t.startIndex!==undefined&&(i.startIndex=t.startIndex,i.endIndex=t.endIndex),this._trigger(this.events.rowSelectionChanging,null,i)},_onRowSelectionChanged:function(t){var i={owner:this,selectedRows:this._selection.selectedRows()};return t.element&&t.element.length?(i.row={element:t.element,index:t.index!==undefined?t.index:this._getIndexForRow(t.element)},this._pkProp&&(i.row.id=t.id||this._identifierForRow(t.element))):(i.row={element:n(),index:-1},this._pkProp&&(i.row.id=t.id)),this._trigger(this.events.rowSelectionChanged,null,i)},_onCellSelectionChanging:function(t){var i={owner:this,selectedCells:this._selection.selectedCells()};return t.element&&t.element.length?(i.cell={element:t.element,row:t.row||t.element.closest("tr"),columnKey:t.id?t.id.columnKey:this._getColKeyForCell(t.element)},i.cell.index=t.index!==undefined?t.index:this._getColIndexByKey(i.cell.columnKey),i.cell.rowIndex=t.rowIndex!==undefined?t.rowIndex:this._getIndexForRow(i.cell.row),this._pkProp&&(i.cell.rowId=t.id?t.id.id:this._identifierForRow(i.cell.row))):(i.cell={element:n(),row:n(),columnKey:t.id.columnKey},i.cell.index=-1,i.cell.rowIndex=-1,this._pkProp&&(i.cell.rowId=t.id?t.id.id:null)),t.firstColumnIndex!==undefined&&(i.firstColumnIndex=t.firstColumnIndex,i.firstRowIndex=t.firstRowIndex,i.lastColumnIndex=t.lastColumnIndex,i.lastRowIndex=t.lastRowIndex),this._trigger(this.events.cellSelectionChanging,null,i)},_onCellSelectionChanged:function(t){var i={owner:this,selectedCells:this._selection.selectedCells()};return t.element&&t.element.length?(i.cell={element:t.element,row:t.row||t.element.closest("tr"),columnKey:t.id?t.id.columnKey:this._getColKeyForCell(t.element)},i.cell.index=t.index!==undefined?t.index:this._getColIndexByKey(i.cell.columnKey),i.cell.rowIndex=t.rowIndex!==undefined?t.rowIndex:this._getIndexForRow(i.cell.row),this._pkProp&&(i.cell.rowId=t.rowId||this._identifierForRow(i.cell.row))):(i.cell={element:n(),row:n(),columnKey:t.id.columnKey},i.cell.index=-1,i.cell.rowIndex=-1,this._pkProp&&(i.cell.rowId=t.id?t.id.id:null)),this._trigger(this.events.cellSelectionChanged,null,i)},_onRowActivationChanging:function(n){var t={owner:this,row:n?{element:n.element,index:this._getIndexForRow(n.element)}:null};return this._pkProp&&n&&(t.row.id=n.id),this._trigger(this.events.activeRowChanging,null,t)},_onRowActivationChanged:function(n){var t={owner:this,row:n?{element:n.element,index:this._getIndexForRow(n.element)}:null};return this._pkProp&&n&&(t.row.id=n.id),this._trigger(this.events.activeRowChanged,null,t)},_onCellActivationChanging:function(n){var t={owner:this,cell:n?{element:n.element,row:n.element.closest("tr")}:null},i=!0;return n&&(t.cell.index=this._getColIndexByKey(n.id.columnKey),t.cell.rowIndex=this._getIndexForRow(t.cell.row),t.cell.columnKey=n.id.columnKey,this._pkProp&&(t.cell.rowId=n.id.id)),i=this._trigger(this.events.activeCellChanging,null,t),i||(this._storedActiveIndex=this._getCellByIdentifier(this._selection.activeElement).index()),i},_onCellActivationChanged:function(n){var t={owner:this,cell:n?{element:n.element,row:n.element.closest("tr")}:null};return n&&(t.cell.index=this._getColIndexByKey(n.id.columnKey),t.cell.rowIndex=this._getIndexForRow(t.cell.row),t.cell.columnKey=n.id.columnKey,this._pkProp&&(t.cell.rowId=n.id.id)),this._trigger(this.events.activeCellChanged,null,t)},_select:function(n){var t=n.element||this._selection.elementFromIdentifier(n.id);t.is("tr")?t.children("td").not("[data-skip=true]").addClass(this.css.selectedCell):t.addClass(this.css.selectedCell),t.attr("aria-selected",!0)},_deselect:function(n){var t=n.element||this._selection.elementFromIdentifier(n.id);t.is("tr")?t.children("td").removeClass(this.css.selectedCell):t.removeClass(this.css.selectedCell),t.attr("aria-selected",!1)},_resizeGridWidth:function(n){if((!n||!this._gridWidthDecreased)&&(n||this._gridWidthDecreased)){var t=this.grid,i,u=parseInt(t.element.find("tbody tr td:last-child").css(t._padding),10),r=t.element.find("colgroup:first>col:last");this._scrollbarWidth=this._scrollbarWidth||t._scrollbarWidth(),i=this._scrollbarWidth,this._gridWidthDecreased=!1,n&&(i=-i,this._gridWidthDecreased=!0),t.element.find("tbody tr td:last-child").css({"padding-right":u+i,"border-right":i>0?"1px":"0px"}),t.element.css("width",t.element.width()+i),r.width(r.width()+i)}},_isScrollbarOverLastCells:function(){if(this._isScrollbarOverLastCellsCache===undefined||this._isScrollbarOverLastCellsCache===null){var n=this.grid.options,t=n.showHeader&&n.fixedHeaders===!0&&n.height!==null,i=n.virtualization===!0||n.columnVirtualization===!0||n.rowVirtualization===!0,r=this.grid._lastColPixelWidth!==undefined&&this.grid._lastColPixelWidth!==null,u=this.grid._hscrollbar().length>0;this._isScrollbarOverLastCellsCache=this.grid._hasVerticalScrollbar&&t&&!i&&u&&r}return this._isScrollbarOverLastCellsCache},_activate:function(t){var i,r=this;if(t.is("tr")){if(t.addClass(this.css.activeRow),i=t.filter(".initially-focused"),i.length){i.focus(),i.removeClass("initially-focused");return}}else t.addClass(this.css.activeCell);this.options.mode==="cell"&&n.ig.util.isIE&&t.is(":last-child")&&this._isScrollbarOverLastCells()?(this._resizeGridWidth(!0),t.focus(),this._timeoutResizeGrid&&(clearTimeout(this._timeoutResizeGrid),this._timeoutResizeGrid=null),this._timeoutResizeGrid=setTimeout(function(){r._resizeGridWidth(!1)},100)):t.focus()},_deactivate:function(){this.grid.hasFixedColumns()&&(this.options.mode==="row"?this.grid.fixedBodyContainer().find("tbody").find("tr.ui-iggrid-activerow").removeClass(this.css.activeRow):this.grid.fixedBodyContainer().find("tbody").find("td.ui-iggrid-activecell").removeClass(this.css.activeCell)),this.options.mode==="row"?this.grid.element.find("tbody").find("tr.ui-iggrid-activerow").removeClass(this.css.activeRow):this.grid.element.find("tbody").find("td.ui-iggrid-activecell").removeClass(this.css.activeCell)},_clearSelection:function(){this.grid.fixedBodyContainer().find("tbody").find("td.ui-iggrid-selectedcell").removeClass(this.css.selectedCell).attr("aria-selected",!1),this.grid.fixedBodyContainer().find("tbody").find("tr[aria-selected]").attr("aria-selected",!1),this.grid.element.children("tbody").find("td.ui-iggrid-selectedcell").removeClass(this.css.selectedCell).attr("aria-selected",!1),this.grid.element.children("tbody").find("tr[aria-selected]").attr("aria-selected",!1)},_createHandlers:function(){this._dataRenderingHandler=n.proxy(this._dataRendering,this),this._virtualRecordsRenderingHandler=n.proxy(this._virtualRecordsRendering,this),this._virtualRecordsRendererHandler=n.proxy(this._virtualRecordsRender,this),this._columnsCollectionModifiedHandler=n.proxy(this._columnsCollectionModified,this),this._mouseDownHandler=n.proxy(this._mouseDown,this),this._mouseMoveHandler=n.proxy(this._mouseMove,this),this._mouseUpHandler=n.proxy(this._mouseUp,this),this._pointerDownHandler=n.proxy(this._pointerDown,this),this._pointerMoveHandler=n.proxy(this._pointerMove,this),this._pointerUpHandler=n.proxy(this._pointerUp,this),this._selectStartHandler=n.proxy(this._selectStart,this),this._selectStartContainerHandler=n.proxy(this._selectStartContainer,this),this._releaseMouseHandler=n.proxy(this._releaseMouse,this),this._touchStartHandler=n.proxy(this._touchStart,this),this._touchEndHandler=n.proxy(this._touchEnd,this),this._touchMoveHandler=n.proxy(this._touchMove,this),this._keyDownHandler=n.proxy(this._keyDown,this),this._containerFocusHandler=n.proxy(this._containerFocus,this),this._focusInHandler=n.proxy(this._tbodyFocusIn,this),this._focusOutHandler=n.proxy(this._tbodyFocusOut,this),this._preventDefaultHandler=n.proxy(this._preventDefault,this)},_unregisterEvents:function(){var t=this.grid.options,i=this.grid.element.find("tbody").add(this.grid.fixedBodyContainer().find("tbody")),r=t.virtualization||t.rowVirtualization||t.columnVirtualization,u=r?this.grid._vdisplaycontainer():this.grid.scrollContainer();this._tbodyBinding&&i.unbind(this._tbodyBinding),n(document).unbind("mouseup."+this.grid.id()+"_selection"),u.unbind("scroll",this._releaseMouseHandler),this.grid.container().unbind("selectstart",this._selectStartContainerHandler),this.grid.element.removeClass("ui-iggrid-canceltextselection"),this.options.mode==="row"&&this.grid.element.find("tbody td").unbind("mousedown",this._preventDefaultHandler)},_registerEvents:function(){var t=this.grid.options,r=this.grid.element.find("tbody").add(this.grid.fixedBodyContainer().find("tbody")),u=t.virtualization||t.rowVirtualization||t.columnVirtualization,i=u?this.grid._vdisplaycontainer():this.grid.scrollContainer();this._tbodyBinding=this._tbodyBinding||this._generateTbodyBinding(),r.unbind(this._tbodyBinding).bind(this._tbodyBinding),n(document).bind("mouseup."+this.grid.id()+"_selection",this._releaseMouseHandler),i.bind("scroll",this._releaseMouseHandler),i.bind("igscrollscrolling",this._releaseMouseHandler),this.grid.container().bind("selectstart",this._selectStartContainerHandler),this.options.multipleSelection===!0&&this.grid.element.addClass("ui-iggrid-canceltextselection"),this.options.mode==="row"&&this.grid.element.find("tbody td").bind("mousedown",this._preventDefaultHandler)},_generateTbodyBinding:function(){var t={};return t.selectstart=this._selectStartHandler,t.focusin=this._focusInHandler,t.focusout=this._focusOutHandler,t.keydown=this._keyDownHandler,n.ig.util.isTouch&&(t.touchstart=this._touchStartHandler,t.touchend=this._touchEndHandler,t.touchmove=this._touchMoveHandler),window.navigator.msPointerEnabled||window.navigator.pointerEnabled?(t.MSPointerDown=this._pointerDownHandler,t.MSPointerMove=this._pointerMoveHandler,t.MSPointerUp=this._pointerUpHandler,t.pointerdown=this._pointerDownHandler,t.pointermove=this._pointerMoveHandler,t.pointerup=this._pointerUpHandler):(t.mousedown=this._mouseDownHandler,t.mousemove=this._mouseMoveHandler,t.mouseup=this._mouseUpHandler),t},_injectGrid:function(t,i){var r;for(this.grid=t,r=0;r<this.grid.options.features.length;r++)this.grid.options.features[r].name==="Selection"&&(this.grid.options.features[r].inherit=!0),this.grid.options.features[r].name==="RowSelectors"&&this.grid.options.features[r].enableCheckBoxes===!0&&this.grid.options.features[r].checkBoxMode!=="triState"&&(this.options.mode="row");this._initSelectionCollection(i),i||this._createHandlers(),this.grid.element.unbind("iggriddatarendering",this._dataRenderingHandler).bind("iggriddatarendering",this._dataRenderingHandler),this.grid.element.unbind("iggridvirtualrendering",this._virtualRecordsRenderingHandler).bind("iggridvirtualrendering",this._virtualRecordsRenderingHandler),this.grid.element.unbind("igtreegridvirtualrendering",this._virtualRecordsRenderingHandler).bind("igtreegridvirtualrendering",this._virtualRecordsRenderingHandler),this.grid.element.unbind("iggridvirtualrecordsrender",this._virtualRecordsRendererHandler).bind("iggridvirtualrecordsrender",this._virtualRecordsRendererHandler),this.grid.element.unbind("igtreegridvirtualrecordsrender",this._virtualRecordsRendererHandler).bind("igtreegridvirtualrecordsrender",this._virtualRecordsRendererHandler),this.grid.element.unbind("iggridcolumnscollectionmodified",this._columnsCollectionModifiedHandler).bind("iggridcolumnscollectionmodified",this._columnsCollectionModifiedHandler),i||this.grid._cellStyleSubscribers.push(this.options.mode==="row"?n.proxy(this._applyRowStyle,this):n.proxy(this._applyCellStyle,this))}}),n.extend(n.ui.igGridSelection,{version:"19.2.25"}),n.ig.SelectionCollection=n.ig.SelectionCollection||Class.extend({settings:{multipleSelection:!1,subscribers:{},owner:null},init:function(t){return t&&(this.settings=n.extend(!0,{},n.ig.SelectionCollection.prototype.settings,t)),this.selection={},this},addSubscriber:function(t,i){var r=n.ig.uid();return this.settings.subscribers[i]||(this.settings.subscribers[i]={}),this.settings.subscribers[i][r]=t,r},removeSubscriber:function(n,t){delete this.settings.subscribers[t][n]},changeOwner:function(n){this.cleanAll(),this.settings.owner=n},isSelected:function(){return!1},isActive:function(){return!1},elementFromIdentifier:function(){return n()},toggle:function(n){this.activeElement!==null&&this.select(this.activeElement,!0,{element:n||this.elementFromIdentifier(this.activeElement)})},activate:function(n,t,i){var r={element:t,id:n};this.isActive(n)||this._requestTrigger("ActivationChanging",i,r)&&(this._notify("deactivate"),this.activeElement=n,this._notify("activate",t),this._requestTrigger("ActivationChanged",i,r))},deactivate:function(n){this._requestTrigger("ActivationChanging",n,null)&&(this._notify("deactivate"),this.activeElement=null,this._requestTrigger("ActivationChanged",n,null))},select:function(n,t,i,r){if(i=i||{},i.element=i.element||this.elementFromIdentifier(n),i.id=n,this.isSelected(n))if(t)this._requestTrigger("SelectionChanging",r,i)&&(this._markUnselected(n),this._notify("deselect",i),this._requestTrigger("SelectionChanged",r,i));else{if(this.onlyOneSelected())return;this._requestTrigger("SelectionChanging",r,i)&&(this.clearSelection(),this._markSelected(n,i),this._notify("select",i),this._requestTrigger("SelectionChanged",r,i))}else this._requestTrigger("SelectionChanging",r,i)&&(t&&this.settings.multipleSelection||this.clearSelection(),this._markSelected(n,i),this._notify("select",i),this._requestTrigger("SelectionChanged",r,i));this.rangeSelectStart=n,this.rangeSelectEnd=n},rangeSelect:function(n,t,i,r,u){var f;if(this._requestTrigger("SelectionChanging",u,r)){for(i&&this._rangeUnlock?this._rangeUnlock(i):t||this.clearSelection(),f=0;f<n.length;f++)this.isSelected(n[f].id)||(this._markSelected(n[f].id,n[f]),this._notify("select",n[f]));this.activate(r.active,r.element||this.elementFromIdentifier(r.active)),this._requestTrigger("SelectionChanged",u,r)}},rangeDeselect:function(n,t,i){var r;if(this._requestTrigger("SelectionChanging",i,t)){for(r=0;r<n.length;r++)this._markUnselected(n[r].id),this._notify("deselect",n[r]);this._requestTrigger("SelectionChanged",i,t)}},deselect:function(n,t,i){t=t||{},t.element=t.element||this.elementFromIdentifier(n),t.id=n,this.select(n,!0,t,i)},deselectAll:function(n){this._requestTrigger("SelectionChanging",n,{})&&(this.clearSelection(),this._requestTrigger("SelectionChanged",n,{}))},clearSelection:function(n){n&&n!==this.settings.owner||(this.selection={},this._notify("clearSelection"))},cleanAll:function(n){n&&n!==this.settings.owner||(this.deactivate(!0),this.clearSelection())},onlyOneSelected:function(){return!1},selectedCells:function(){return[]},selectedRows:function(){return[]},selectionLength:function(){return Object.keys(this.selection).length},_requestTrigger:function(n,t,i){var r=this.settings.subscribers[this.settings.owner.id()],e="_on"+this._selectionMode()+n,u,f=!0;if(t)return!0;for(u in r)r.hasOwnProperty(u)&&typeof r[u][e]=="function"&&(f=f&&r[u][e](i));return f},_notify:function(n,t){var i=this.settings.subscribers[this.settings.owner.id()],u="_"+n,r;for(r in i)i.hasOwnProperty(r)&&typeof i[r][u]=="function"&&i[r][u](t)}}),n.ig.SelectedRowsCollection=n.ig.SelectedRowsCollection||n.ig.SelectionCollection.extend({isSelected:function(n,t){return t&&this.settings.owner!==t?!1:this.selection[n]!==undefined},isActive:function(n,t){return t&&this.settings.owner!==t?!1:this.activeElement===n},selectedDataRows:function(){var t=this.selection,n,i=[];for(n in t)t.hasOwnProperty(n)&&n.indexOf(":")===-1&&t[n].element&&!t[n].element.attr("data-grouprow")&&!t[n].element.attr("data-summaryrow")&&i.push(t[n]);return i},selectedRows:function(){var i=this._rowscache||[],t,n;for(t in this.selection)this.selection.hasOwnProperty(t)&&(n=this.settings.owner._fixPKValue(t),n=isNaN(n)?t:n,i.push(this._selectedRowObject(n)));return this.invalid=!1,i},activeRow:function(){var n;return this.activeElement!==null&&this.activeElement!==undefined?(n=this.elementFromIdentifier(this.activeElement),{id:this.activeElement,index:this.elementPosition(this.activeElement,n),element:n}):null},elementFromIdentifier:function(n){return this.settings.owner.element.data("igGridSelection")._getRowsByIdentifier(n)},elementPosition:function(n,t){var i=this.settings.owner.element.data("igGridSelection");return t&&t.length>0?i._getIndexForRow(t):i._getRecordByIdentifier(n).index},onlyOneSelected:function(){return Object.keys(this.selection).length===1},_markSelected:function(n,t){this.selection[n]=t||!0},_markUnselected:function(n){delete this.selection[n]},_selectedRowObject:function(t){var i=this.selection[t];return n.type(i)!=="object"&&(i={},this.selection[t]=i),this.invalid?(i.element=this.elementFromIdentifier(t),i.index=this.elementPosition(t,i.element)):(i.element=i.element||this.elementFromIdentifier(t),i.index=i.index!==undefined&&i.index!==null?i.index:this.elementPosition(t,i.element)),n.extend(!0,{},i,{id:t})},_selectionMode:function(){return"Row"}}),n.ig.SelectedCellsCollection=n.ig.SelectedCellsCollection||n.ig.SelectionCollection.extend({isSelected:function(n,t){return t&&this.settings.owner!==t?!1:this.selection[n.id]!==undefined&&this.selection[n.id][n.columnKey]!==undefined},atLeastOneSelected:function(n,t){return t&&this.settings.owner!==t?!1:Object.keys(this.selection[n]).length>0},isActive:function(n,t){return t&&this.settings.owner!==t?!1:this.activeElement&&this.activeElement.id===n.id&&this.activeElement.columnKey===n.columnKey},selectedCells:function(){var r=[],u,n,i,t;for(n in this.selection)if(this.selection.hasOwnProperty(n))for(i in this.selection[n])this.selection[n].hasOwnProperty(i)&&(t=this.settings.owner._fixPKValue(n),t=isNaN(t)?n:t,u={id:t,columnKey:i},r.push(this._selectedCellObject(u)));return this.invalid=!1,r},activeCell:function(){var n,t;return this.activeElement?(n=this.elementFromIdentifier(this.activeElement),t=this.elementPosition(this.activeElement,n),{row:n.parent(),id:this.activeElement.id,columnKey:this.activeElement.columnKey,rowIndex:t.x,index:t.y,element:n}):null},elementFromIdentifier:function(n){return this.settings.owner.element.data("igGridSelection")._getCellByIdentifier(n)},elementPosition:function(n,t){var i=this.settings.owner.element.data("igGridSelection");return t&&t.length>0?{x:i._getIndexForRow(t.parent()),y:t.index()}:{x:i._getRecordByIdentifier(n.id).index,y:i._getColIndexByKey(n.columnKey)}},onlyOneSelected:function(){var n=Object.keys(this.selection);return n.length===1?Object.keys(this.selection[n[0]]).length===1:!1},_lockSelection:function(){var t,i;for(t in this.selection)if(this.selection.hasOwnProperty(t))for(i in this.selection[t])this.selection[t].hasOwnProperty(i)&&(n.type(this.selection[t][i]==="object")?this.selection[t][i].locked=!0:this.selection[t][i]={locked:!0})},_markSelected:function(n,t){this.selection[n.id]=this.selection[n.id]||{},this.selection[n.id][n.columnKey]=t||!0},_markUnselected:function(n){this.selection[n.id]&&delete this.selection[n.id][n.columnKey]},_unlockSelected:function(t){var i;return this.selection[t.id]?(i=this.selection[t.id][t.columnKey],n.type(i)==="object")?i.locked?!1:(delete this.selection[t.id][t.columnKey],!0):(delete this.selection[t.id][t.columnKey],!0):!1},_rangeUnlock:function(n){for(var t=0;t<n.length;t++)this._unlockSelected(n[t].id)&&this._notify("deselect",n[t])},_selectedCellObject:function(t){var i=this.selection[t.id][t.columnKey],r;return n.type(i)!=="object"&&(i={},this.selection[t.id][t.columnKey]=i),this.invalid?(i.element=this.elementFromIdentifier(t),i.row=i.element.parent(),r=this.elementPosition(t,i.element),i.rowIndex=r.x,i.index=r.y):(i.element=i.element||this.elementFromIdentifier(t),i.row=i.row||i.element.parent(),i.rowIndex!==undefined&&i.rowIndex!==null&&i.index!==undefined&&i.index!==null||(r=this.elementPosition(t,i.element),i.rowIndex=r.x,i.index=r.y)),n.extend(!0,{},i,{id:t.id,columnKey:t.columnKey})},_selectionMode:function(){return"Cell"}})}(n),function(n){n.widget("ui.igGridSorting",n.ui.igWidget,{css:{sortableColumnHeader:"ui-iggrid-sortableheader ui-state-default",sortableColumnHeaderActive:"ui-iggrid-sortableheaderactive ui-state-active",sortableColumnHeaderHover:"ui-iggrid-sortableheaderhover ui-state-hover",sortableColumnHeaderFocus:"ui-iggrid-sortableheaderfocus ui-state-focus",ascendingColumnHeader:"ui-iggrid-colheaderasc",descendingColumnHeader:"ui-iggrid-colheaderdesc",ascendingColumn:"ui-iggrid-colasc ui-state-highlight",descendingColumn:"ui-iggrid-coldesc ui-state-highlight",sortIndicator:"ui-iggrid-colindicator",fcSortIndicatorAscending:"ui-iggrid-featurechooser-li-iconcontainer ui-icon ui-iggrid-icon-sort-a-z",fcSortIndicatorDescending:"ui-iggrid-featurechooser-li-iconcontainer ui-icon ui-iggrid-icon-sort-z-a",sortIndicatorAscending:"ui-iggrid-colindicator-asc ui-icon ui-icon-arrowthick-1-n",sortIndicatorDescending:"ui-iggrid-colindicator-desc ui-icon ui-icon-arrowthick-1-s",dialogSortedColumns:"ui-iggrid-sorting-dialog-sortedcolumns",dialogUnsortedColumns:"ui-iggrid-sorting-dialog-unsortedcolumns",dialogUnsortedColumnsSortByButton:"ui-iggrid-sorting-dialog-unsortedcolumns-sortbybutton",dialogAsdDescButton:"ui-iggrid-sorting-dialog-ascdescbutton",modalDialogSortByColumn:"ui-iggrid-sorting-dialog-sortbybutton",dialogSortedColumnsItem:"ui-widget-content",dialogUnsortedColumnsItem:"ui-widget-content",dialogButtonAsc:"ui-button ui-corner-all ui-button-icon-only ig-sorting-indicator",dialogButtonAscIcon:"ui-button-icon-primary ui-icon ui-icon-arrowthick-1-n",dialogButtonDesc:"ui-button ui-corner-all ui-button-icon-only ig-sorting-indicator",dialogButtonDescIcon:"ui-button-icon-primary ui-icon ui-icon-arrowthick-1-s",dialogButtonUnsort:"ui-iggrid-sorting-dialog-sortbybuttons ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-igbutton ui-widget-content ui-igbutton-remove",dialogButtonUnsortContainer:"ui-button-icon-primary ui-icon ui-icon-circle-close",dialogSortedColumnTextContainer:"ui-iggrid-dialog-text",dialogItemText:"ui-iggrid-dialog-text",dialogButtonsHover:"ui-state-hover",featureChooserModalDialogIcon:"ui-icon ui-iggrid-icon-multiple-sorting"},options:{type:null,caseSensitive:!1,applySortedColumnCss:!0,sortUrlKey:null,sortUrlKeyAscValue:null,sortUrlKeyDescValue:null,mode:"single",customSortFunction:null,firstSortDirection:"ascending",modalDialogSortOnClick:!1,modalDialogSortByButtonText:undefined,modalDialogResetButtonLabel:undefined,modalDialogCaptionButtonDesc:undefined,modalDialogCaptionButtonAsc:undefined,modalDialogCaptionButtonUnsort:undefined,featureChooserText:undefined,unsortedColumnTooltip:undefined,modalDialogCaptionText:undefined,modalDialogButtonApplyText:undefined,modalDialogButtonCancelText:undefined,featureChooserSortAsc:undefined,featureChooserSortDesc:undefined,locale:{sortedColumnTooltip:undefined,unsortedColumnTooltip:undefined,ascending:undefined,descending:undefined,modalDialogSortByButtonText:undefined,modalDialogResetButton:undefined,modalDialogCaptionButtonDesc:undefined,modalDialogCaptionButtonAsc:undefined,modalDialogCaptionButtonUnsort:undefined,featureChooserText:undefined,modalDialogCaptionText:undefined,modalDialogButtonApplyText:undefined,modalDialogButtonCancelText:undefined,featureChooserSortAsc:undefined,featureChooserSortDesc:undefined},modalDialogWidth:350,modalDialogHeight:"",modalDialogAnimationDuration:200,columnSettings:[{columnKey:null,columnIndex:null,firstSortDirection:null,currentSortDirection:null,allowSorting:!0,compareFunc:null}],persist:!0,sortingDialogContainment:"owner",dialogWidget:"igGridModalDialog",inherit:!1},renderInFeatureChooser:!0,events:{columnSorting:"columnSorting",columnSorted:"columnSorted",modalDialogOpening:"modalDialogOpening",modalDialogOpened:"modalDialogOpened",modalDialogMoving:"modalDialogMoving",modalDialogClosing:"modalDialogClosing",modalDialogClosed:"modalDialogClosed",modalDialogContentsRendering:"modalDialogContentsRendering",modalDialogContentsRendered:"modalDialogContentsRendered",modalDialogSortingChanged:"modalDialogSortingChanged",modalDialogButtonUnsortClick:"modalDialogButtonUnsortClick",modalDialogSortClick:"modalDialogSortClick",modalDialogButtonApplyClick:"modalDialogButtonApplyClick",modalDialogButtonResetClick:"modalDialogButtonResetClick"},_createWidget:function(){this.options.columnSettings=[],this._superApply(arguments)},_create:function(){var t=this;this._headers=[],this._clickHandler=function(i){var u,e,r,f,o;if((e=n(i.target).closest(".ui-iggrid").attr("id").replace("_container",""),t.grid.element.attr("id")===e)&&(u=n(i.currentTarget).closest("th"),u.attr("data-skip")!=="true"&&(t.grid._isMultiColumnGrid!==!0||u.attr("data-isheadercell")==="true"))){if(o=u.attr("id").replace(t.grid.id()+"_",""),!t._checkSortingAllowed(o))return;t._handleSort(i),r=n("#"+t.grid.id()+"_hscroller").scrollLeft(),r>0&&(t.grid.options.fixedHeaders===!0&&t.grid.headersTable().parent().scrollLeft(r),t.grid.options.fixedFooters===!0&&t.grid.footersTable().parent().scrollLeft(r),f=t.grid.scrollContainer(),f.length||(f=t.grid._vdisplaycontainer()),f.scrollLeft(r))}},this._dragStartHandler=function(i){var r,u=!0;if(u=t.grid._trigger("headercelldragcancel",i,{}),u){if(r=n(i.target).closest(".ui-iggrid").attr("id").replace("_container",""),t.grid.element.attr("id")!==r)return;i.stopPropagation(),i.preventDefault()}else return!0;return!1},this._mouseOverHandler=function(i){var u,e=n(i.currentTarget),f,r;(u=n(i.target).closest(".ui-iggrid").attr("id").replace("_container",""),t.grid.element.attr("id")===u)&&(r=e.closest("th").attr("id"),r&&(r=r.replace(u+"_",""),f=t._getColumnSettingByKey(r),f&&f.allowSorting!==!1&&e.addClass(t.css.sortableColumnHeaderHover)))},this._mouseOutHandler=function(i){var r;(r=n(i.target).closest(".ui-iggrid").attr("id").replace("_container",""),t.grid.element.attr("id")===r)&&n(i.currentTarget).removeClass(t.css.sortableColumnHeaderHover)},n("#"+this.element[0].id).delegate("thead th",{click:this._clickHandler,mouseover:this._mouseOverHandler,mouseout:this._mouseOutHandler}),n("#"+this.element[0].id+" thead th").bind("dragstart",this._dragStartHandler),n("#"+this.element[0].id+"_headers thead th").bind("dragstart",this._dragStartHandler),n(document).delegate("#"+this.element[0].id+"_headers thead th",{click:this._clickHandler,mouseover:this._mouseOverHandler,mouseout:this._mouseOutHandler}),this._keyDownHandler=function(n){t._handleSortKb(n)},this._focusHandler=function(n){t._handleFocusKb(n)},this._blurHandler=function(n){t._handleBlurKb(n)},n("#"+this.element[0].id).delegate("thead th",{keydown:this._keyDownHandler,focus:this._focusHandler,blur:this._blurHandler}),n(document).delegate("#"+this.element[0].id+"_headers thead th",{keydown:this._keyDownHandler,focus:this._focusHandler,blur:this._blurHandler})},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},_changeLocaleForModalDialog:function(){var t,i=this._getModalDialog();i.length&&(i[this.options.dialogWidget]({locale:{buttonApplyText:this._getLocaleValue("modalDialogButtonApplyText"),buttonCancelText:this._getLocaleValue("modalDialogButtonCancelText"),modalDialogCaptionText:this._getLocaleValue("modalDialogCaptionText")}}),t=this._getDialogClearAllButton(),t.length&&t.igButton("option","labelText",this._getLocaleValue("modalDialogResetButton")),n.ui.igWidget.prototype.changeLocale.call(this,i))},_changeLocaleForFeatureChooser:function(){var n=this.grid.element.data("igGridFeatureChooser");n&&this.renderInFeatureChooser&&(n._removeFeature("SortingAscending"),n._removeFeature("SortingDescending"),n._removeFeature("MultipleSorting"),this._featureChooserInitialized=!1,this._initFC())},_changeLocaleForThs:function(){var t=this;this.grid.headersTable().find("th").each(function(){var i=n(this),r=i.attr("aria-sort");r?t._setHeaderAttributes(i,r):t._removeHeaderAttributes(i)})},changeLocale:function(){this._changeLocaleForModalDialog(),this._changeLocaleForFeatureChooser(),this._changeLocaleForThs()},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(n,t){var i=this._getModalDialog();this._super(n,t);switch(n){case"type":throw new Error(this._getLocaleValue("optionChangeNotSupported").replace("{optionName}",n));case"caseSensitive":this.grid.dataSource.settings.sorting.caseSensitive=this.options.caseSensitive;break;case"modalDialogSortOnClick":i.remove(),this._renderMultipleSortingDialog();break;case"modalDialogAnimationDuration":i[this.options.dialogWidget]("option","animationDuration",t);break;case"modalDialogWidth":i[this.options.dialogWidget]("option","modalDialogWidth",t);break;case"modalDialogHeight":i[this.options.dialogWidget]("option","modalDialogHeight",t)}},_handleSortKb:function(t){if(n(t.target).attr("id")!==undefined&&n(t.target).attr("id")!==null){var i=n(t.target),r=i.attr("id").replace(this.grid.element.attr("id")+"_",""),u;(u=i.closest(".ui-iggrid").attr("id").replace("_container",""),this.grid.element.attr("id")===u)&&(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(this._checkSortingAllowed(r)&&(t.shiftKey?this.unsortColumn(r,i):this.sortColumn(r,null,i)&&(this._clearActiveHeader(),i.addClass(this.css.sortableColumnHeaderActive),this._currentActiveHeader=i)),t.stopPropagation(),t.preventDefault())}},_handleFocusKb:function(t){if(!this._resizing||!this._resizing._resizing){var i=n(t.target),f=i.closest(".ui-iggrid").attr("id").replace("_container",""),r=i.closest("th").attr("id"),u;r&&(u=r.replace(this.grid.id()+"_",""),this.grid.element.attr("id")===f&&i.attr("data-fixing-indicator")===undefined&&this._checkSortingAllowed(u)&&i.is("th"))&&i.addClass(this.css.sortableColumnHeaderFocus)}},_handleBlurKb:function(t){var i=n(t.target).closest(".ui-iggrid").attr("id").replace("_container","");this.grid.element.attr("id")===i&&n(t.target).removeClass(this.css.sortableColumnHeaderFocus)},_handleSort:function(t){if(this._resizing&&this._resizing._resizing){this._resizing._resizing=!1;return}var i=n(t.currentTarget),r=i.closest("th"),u=r.attr("id").replace(this.grid.element.attr("id")+"_",""),f=!1;this._clearActiveHeader(),f=t.shiftKey,f?this.unsortColumn(u,r):this.sortColumn(u,null,i)&&(i.addClass(this.css.sortableColumnHeaderActive),this._currentActiveHeader=r),t.stopPropagation(),t.preventDefault()},_checkSortingAllowed:function(n){var t,i=this._getColumnSettingByKey(n);return!i||i.allowSorting===!1?!1:(t=this._findExpressionByColKey(n),t&&t.isGroupBy)?!1:!0},_initLoadingIndicator:function(){this._loadingIndicator=this.grid.container().length>0?this.grid.container().igLoading().data("igLoading").indicator():this.grid.element.igLoading().data("igLoading").indicator()},_getHeaderCellByIdentifier:function(t){var r,i;return i=n.type(t)==="number"?this.grid.options.columns[t].key:t,r=n("#"+this.grid.element[0].id+"_"+i)},_removeHeaderAttributes:function(n){n.attr({title:this._getLocaleValue("unsortedColumnTooltip"),"data-localeid":"unsortedColumnTooltip"}).removeAttr("aria-sort")},_setHeaderAttributes:function(n,t){t&&n.attr({title:t.startsWith("asc")?this._getLocaleValue("sortedColumnTooltip").replace("${direction}",this._getLocaleValue("ascending")):this._getLocaleValue("sortedColumnTooltip").replace("${direction}",this._getLocaleValue("descending")),"aria-sort":t,"data-localeid":"sortedColumnTooltip","data-localeattr":"title"})},sortColumn:function(t,i,r){var f,v,c=!0,u,e,s,h=!r,o,a,l;if((this._activeSortedCol=null,f=n.type(t)==="number"?this.grid.options.columns[t].key:t,r=r||n("#"+this.grid.element[0].id+"_"+f),this._curColKey=f,v=this.grid.dataSource.settings.sorting.expressions,u=this._getColumnSettingByKey(f),h&&this._clearActiveHeader(),u&&(h||this._checkSortingAllowed(f)))&&(s=i?i:u.currentSortDirection&&(u.currentSortDirection.startsWith("asc")||u.currentSortDirection.startsWith("desc"))?u.currentSortDirection&&u.currentSortDirection.indexOf("asc")!==-1?"descending":"ascending":u.firstSortDirection===undefined?this.options.firstSortDirection:u.firstSortDirection,l=null,u&&u.compareFunc&&(n.type(u.compareFunc)==="function"?l=u.compareFunc:typeof u.compareFunc=="string"&&window[u.compareFunc]&&typeof window[u.compareFunc]=="function"&&(l=window[u.compareFunc])),a={fieldName:f,isSorting:!0,dir:s.startsWith("asc")?"asc":"desc",compareFunc:l,layout:this.grid.options.key||null},o=this.grid._getSortingExpressionsManager().addSortingExpression(v.slice(),a,this),this._trigger("internalcolumnsorting",null,{owner:this}),o=this.grid._getSortingExpressionsManager().setFormattersForSortingExprs(o),h||(c=this._trigger(this.events.columnSorting,null,{columnKey:f,direction:s,owner:this,newExpressions:o})),this.grid._fireInternalEvent("_sortedColumnsChanging",o),c)){if(u.currentSortDirection=a.dir.startsWith("asc")?"ascending":"descending",this._loadingIndicator.show(),this._setHeaderAttributes(r,u.currentSortDirection),this.options.mode==="single")for(e=0;e<this.grid.options.columns.length;e++)this.options.columnSettings[e]&&this.options.columnSettings[e].columnKey!==f&&(delete this.options.columnSettings[e].currentSortDirection,this._clearSortStyles(this.options.columnSettings[e].columnKey));if(this.grid.dataSource.settings.sorting.expressions=o,c=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),this.grid._hasUnboundColumns&&this.options.type==="remote"&&(this.grid._rebindUnboundColumns=!0),c)return this._saveSortingExpressions(),this.grid.element.trigger("iggriduisoftdirty",{owner:this}),this._curColKey=f,this.options.type==="remote"?(h||(this._shouldFireColumnSorted=!0),this.grid.dataSource.dataBind()):(this.grid.dataSource.sort(this.grid.dataSource.settings.sorting.expressions,u.currentSortDirection),this.grid._renderData(),h||this._trigger(this.events.columnSorted,null,{columnKey:f,direction:u.currentSortDirection,owner:this,expressions:this.grid.dataSource.settings.sorting.expressions})),this._curSortDir=u.currentSortDirection,!0}},sortMultiple:function(t){t=t||this.grid.dataSource.settings.sorting.expressions;var i=this,r,u=t.length,f=this.grid.dataSource.settings.sorting.expressions.length;r=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource}),r&&(this.grid.dataSource.settings.sorting.expressions=t,this._curColKey=null,this._clearActiveHeader(),u&&(this._curColKey=t[u-1].fieldName),n.each(this.grid.options.columns,function(n,r){var u,e,f=r.key;u=i._getColumnSettingByKey(f),u&&(e=i._findExpressionByColKey(f,t),e?(u.currentSortDirection=e.dir,i._applySortStyles(f)):(u.currentSortDirection=undefined,i._clearSortStyles(f)))}),this._saveSortingExpressions(),this.options.type==="remote"?this.grid.dataSource.dataBind():(this.grid.dataSource.sort(t),this.grid.dataSource.settings.sorting.expressions.length===0&&f>0&&this.grid.dataSource.settings.sorting.defaultFields.length===0?this.grid.dataSource.dataBind():this.grid._renderData()))},clearSorting:function(){for(var t=[],i=this.grid.dataSource.settings.sorting.expressions,n=0;n<i.length;n++)t.push(i[n].fieldName);for(n=0;n<t.length;n++)this.unsortColumn(t[n],undefined)},unsortColumn:function(t,i){var r,e,o=!0,u,s,h,c,f=!i;(this._activeSortedCol=null,r=n.type(t)==="number"?this.grid.options.columns[t].key:t,h=this.grid.id()+"_"+r,c=i||n("#"+h),e=this.grid.dataSource.settings.sorting.expressions,s=e.length,u=this._getColumnSettingByKey(r),u&&(f||this._checkSortingAllowed(r)))&&(u.currentSortDirection=undefined,f||(o=this._trigger(this.events.columnSorting,null,{columnKey:r,direction:u.currentSortDirection,owner:this,expressions:this.grid.dataSource.settings.sorting.expressions})),o&&this._removeExprByKey(r,e))&&(f||this.grid.dataSource.settings.sorting.expressions.length===0&&this.options.type==="local"||(o=this.grid._trigger(this.grid.events.dataBinding,null,{owner:this.grid,dataSource:this.grid.dataSource})),o&&(this._curColKey=this._curColKey===r?null:this._curColKey,this._clearSortStyles(r),this.grid.element.trigger("iggriduisoftdirty",{owner:this}),this.grid._fireInternalEvent("_sortedColumnsChanging",e),c.removeClass(this.css.sortableColumnHeaderFocus).removeClass(this.css.sortableColumnHeaderActive),this._saveSortingExpressions(),this.options.type==="remote"?(this._loadingIndicator||this._initLoadingIndicator(),this._loadingIndicator.show(),f||(this._shouldFireColumnSorted=!0),this.grid.dataSource.dataBind()):(this.grid.dataSource.settings.sorting.expressions.length===0&&s>0&&this.grid.dataSource.settings.sorting.defaultFields.length===0?this.grid.dataBind():(this.grid.dataSource.sort(this.grid.dataSource.settings.sorting.expressions),this.grid._renderData()),f||this._trigger(this.events.columnSorted,null,{columnKey:r,direction:u.currentSortDirection,owner:this,expressions:this.grid.dataSource.settings.sorting.expressions})),this._curSortDir=u.currentSortDirection))},_excludeExpr:function(t){if(!this.options.persist||this._couldPreserveData())for(var r=this.grid.dataSource.settings.sorting.expressions,i=0;i<r.length;i++)r[i].fieldName===t&&n.ig.removeFromArray(r,i)},_applySortStyles:function(t,i){var s=null,u,e,o,r,f,h,c=this.grid.hasFixedColumns();this.grid.options.fixedHeaders&&(s=this.grid.headersTable().outerHeight()),r=n("#"+this.grid.id()+"_"+t),u=r.find(".ui-iggrid-colindicator"),u.length===0&&(u=n("<span><\/span>").addClass(this.css.sortIndicator)),o=r.find(".ui-iggrid-indicatorcontainer"),o.length===0&&(o=n("<div><\/div>").appendTo(r).addClass("ui-iggrid-indicatorcontainer")),o.append(u),f=this._getColumnSettingByKey(t),this.options.applySortedColumnCss!==!1&&i!==!0&&(h=c&&this.grid._isFixedElement(r)?this.grid.fixedTable().children("tbody"):this.grid.element.children("tbody"),e=this.grid._getCellsByColKey(h.find(">tr:not([data-grouprow],[data-summaryrow])"),t)),this._activeSortedCol=null,f&&f.currentSortDirection?f.currentSortDirection.indexOf("asc")!==-1?(u.removeClass(this.css.sortIndicatorDescending).addClass(this.css.sortIndicatorAscending),r.removeClass(this.css.descendingColumnHeader).addClass(this.css.ascendingColumnHeader),this._setHeaderAttributes(r,"ascending"),this.options.mode==="single"&&r.siblings("th").removeAttr("aria-sort"),e&&(this._activeSortedCol={key:f.columnKey,asc:!0},e.removeClass(this.css.descendingColumn).addClass(this.css.ascendingColumn))):(u.removeClass(this.css.sortIndicatorAscending).addClass(this.css.sortIndicatorDescending),r.removeClass(this.css.ascendingColumnHeader).addClass(this.css.descendingColumnHeader),this._setHeaderAttributes(r,"descending"),this.options.mode==="single"&&r.siblings("th").removeAttr("aria-sort"),e&&(this._activeSortedCol={key:f.columnKey,asc:!1},e.removeClass(this.css.ascendingColumn).addClass(this.css.descendingColumn))):(this._removeHeaderAttributes(r),this._clearHeaderCellSortStyles(r)),s!==null&&s!==this.grid.headersTable().outerHeight()&&this.grid._initializeHeights()},_clearSortStateByColKey:function(n){var t=this._getColumnSettingByKey(n);(this._clearSortStyles(n),t)&&(t.currentSortDirection=undefined)},_clearSortStyles:function(t){if(t!==undefined&&t!==null){for(var o=this.grid.id()+"_"+t,f,e,i,r,u=0;u<this.options.columnSettings.length;u++)if(r=this.options.columnSettings[u],r.columnKey===t){this.grid._detachedHeaderCells&&this.grid._detachedHeaderCells[t]&&(i=this.grid._detachedHeaderCells[t][0]),i=!i||!i.length?n("#"+o):i;break}this.options.applySortedColumnCss!==!1&&(e=this.grid.isFixedColumn(t)?n("#"+this.grid.id()+"_fixed"):this.grid.element,f=this.grid._getCellsByColKey(e,t),f.removeClass(this.css.descendingColumn).removeClass(this.css.ascendingColumn)),this._clearHeaderCellSortStyles(i),r&&r.allowSorting?this._removeHeaderAttributes(i):i.attr("title","")}},_clearHeaderCellSortStyles:function(n){var t=n.find(".ui-iggrid-colindicator");(t.hasClass("ui-iggrid-colindicator-desc")||t.hasClass("ui-iggrid-colindicator-asc"))&&(t.removeClass(this.css.sortIndicatorDescending).removeClass(this.css.sortIndicatorAscending),n.removeClass(this.css.ascendingColumnHeader).removeClass(this.css.descendingColumnHeader).removeClass(this.css.sortableColumnHeaderFocus))},_initDefaultSettings:function(t){var f=[],u,r=this.options.columnSettings,i,e,s,a=0,o=[],h,c=!1,v,l,y=this.grid._hasUnboundColumns===!0&&this.options.type==="remote";if(this.grid.dataSource.settings.sorting.expressions!==null&&this.grid.dataSource.settings.sorting.expressions!==undefined&&(o=this.grid.dataSource.settings.sorting.expressions),h=o.length,this.grid.options.columns&&this.grid.options.columns.length>0)for(i=0;i<this.grid.options.columns.length;i++)l=!0,y&&this.grid.getUnboundColumnByKey(this.grid.options.columns[i].key)!==null&&(l=!1),f[i]={columnIndex:a,columnKey:this.grid.options.columns[i].key,allowSorting:l},this.grid.options.columns[i].hidden!==!0&&a++;for(i=0;i<r.length;i++)for(u in r[i])r[i].hasOwnProperty(u)&&u!=="columnKey"&&u!=="columnIndex"&&(u==="userSet_currentSortDirection"?r[i].userSet_currentSortDirection!=="undefined"&&r[i].userSet_currentSortDirection?r[i].currentSortDirection=r[i].userSet_currentSortDirection:delete r[i].currentSortDirection:u==="userSet_allowSorting"&&(r[i].allowSorting=r[i][u],delete r[i][u]));if(f.length===0&&this.grid.options.autoGenerateColumns&&r.length>0)for(i=0;i<r.length;i++)r[i].columnKey&&typeof r[i].currentSortDirection=="string"&&(v=r[i].currentSortDirection.startsWith("asc")?"asc":"desc",o.push({fieldName:r[i].columnKey,isSorting:!0,dir:v}));else for(i=0;i<r.length;i++){for(e=0;e<f.length;e++)if(f[e].columnKey!==null&&f[e].columnKey!==undefined&&r[i].columnKey!==null&&r[i].columnKey!==undefined){if(f[e].columnKey===r[i].columnKey)break}else if(f[e].columnIndex===r[i].columnIndex)break;if(e!==f.length)for(u in r[i])if(r[i].hasOwnProperty(u)&&u!=="columnKey"&&u!=="columnIndex"&&!u.startsWith("userSet")&&(f[e][u]=r[i][u],t||(f[e]["userSet_"+u]=r[i][u]),u==="currentSortDirection"&&r[i][u]))if(n.type(f[e].columnKey)!=="number"){if(c=!1,h>0)for(s=0;s<h;s++)if(o[s].fieldName===f[e].columnKey){o[s].isGroupBy===!0?c=!0:o.splice(s,1);break}if(c===!0)continue;o.push({fieldName:f[e].columnKey,isSorting:!0,dir:r[i][u].startsWith("asc")?"asc":"desc",compareFunc:r[i].compareFunc})}else o.push({fieldIndex:f[e].columnKey,isSorting:!0,dir:r[i][u].startsWith("asc")?"asc":"desc",compareFunc:r[i].compareFunc})}for(i=0;i<f.length;i++)for(f[i].hasOwnProperty("currentSortDirection")||(f[i].userSet_currentSortDirection="undefined"),e=0;e<this.grid.dataSource.settings.sorting.expressions.length;e++)this.grid.dataSource.settings.sorting.expressions[e].fieldName===f[i].columnKey&&(f[i].currentSortDirection=this.grid.dataSource.settings.sorting.expressions[e].dir);this.options.columnSettings=f,o=this.grid._getSortingExpressionsManager().setFormattersForSortingExprs(o),this.grid.dataSource.settings.sorting.expressions=o,this.grid.dataSource.settings.sorting.defaultFields=o},_clearActiveHeader:function(){this._currentActiveHeader&&this._currentActiveHeader.removeClass(this.css.sortableColumnHeaderActive).removeClass(this.css.sortableColumnHeaderFocus)},_initFC:function(){var t,r,f,i,u=this.grid.element.data("igGridFeatureChooser");if(!this._featureChooserInitialized&&u&&this.renderInFeatureChooser){if(this._featureChooserMenuTogglingHandler&&this.grid.element.unbind("iggridfeaturechoosermenutoggling",this._featureChooserMenuTogglingHandler),this._featureChooserMenuTogglingHandler=n.proxy(this._featureChooserMenuToggling,this),this.grid.element.bind("iggridfeaturechoosermenutoggling",this._featureChooserMenuTogglingHandler),u._isTouchDevice())for(r=0;r<this.grid.options.columns.length;r++)t=this.grid.options.columns[r],f=this._getColumnSettingByKey(t.key),this._checkSortingAllowed(t.key)&&u&&u._shouldRenderInFeatureChooser(t.key)===!0&&(i=f?f.currentSortDirection:!1,i===null&&(i=!1),u._renderInFeatureChooser(t.key,{name:"SortingAscending",text:this._getLocaleValue("featureChooserSortAsc"),textHide:this._getLocaleValue("featureChooserSortAsc"),iconClass:this.css.fcSortIndicatorAscending,iconClassOff:this.css.fcSortIndicatorAscending,isSelected:i&&typeof i=="string"?i.toLowerCase().indexOf("asc")>-1:!1,method:n.proxy(this._sortAscFromFeatureChooser,this),updateOnClickAll:!1,groupName:"toggle",groupOrder:1,order:0,type:"toggle"}),u._renderInFeatureChooser(t.key,{name:"SortingDescending",text:this._getLocaleValue("featureChooserSortDesc"),textHide:this._getLocaleValue("featureChooserSortDesc"),iconClass:this.css.fcSortIndicatorDescending,iconClassOff:this.css.fcSortIndicatorDescending,isSelected:i&&typeof i=="string"?i.toLowerCase().indexOf("desc")>-1:!1,method:n.proxy(this._sortDescFromFeatureChooser,this),updateOnClickAll:!1,groupName:"toggle",groupOrder:1,order:0,type:"toggle"}));if(this.options.mode!=="single")for(r=0;r<this.grid.options.columns.length;r++)t=this.grid.options.columns[r],this._checkSortingAllowed(t.key)&&u._shouldRenderInFeatureChooser(t.key)===!0&&u._renderInFeatureChooser(t.key,{name:"MultipleSorting",text:this._getLocaleValue("featureChooserText"),iconClass:this.css.featureChooserModalDialogIcon,method:n.proxy(this.openMultipleSortingDialog,this),groupName:"modaldialog",groupOrder:3,order:2});this._featureChooserInitialized=!0}},_headerCellRendered:function(t,i){var r=this._getColumnSettingByKey(i.columnKey),u;t.target.id===this.grid.element[0].id&&i.isMultiColumnHeader!==!0&&(i.columnKey&&r&&(this._headers.push({header:i.th,index:r.columnIndex}),this._checkSortingAllowed(i.columnKey)!==!1&&(i.th.addClass(this.css.sortableColumnHeader),r.currentSortDirection===undefined||r.currentSortDirection===null?i.th.attr("title",this._getLocaleValue("unsortedColumnTooltip")):i.th.attr("title",r.currentSortDirection.startsWith("asc")?this._getLocaleValue("sortedColumnTooltip").replace("${direction}",this._getLocaleValue("ascending")):this._getLocaleValue("sortedColumnTooltip").replace("${direction}",this._getLocaleValue("descending"))),n("<span><\/span>").appendTo(i.th).addClass(this.css.sortIndicator),r.currentSortDirection!==undefined&&(u=this._findExpressionByColKey(r.columnKey),u&&!u.isGroupBy&&this._applySortStyles(r.columnKey)))),this._initFC())},_featureChooserMenuToggling:function(n,t){var r,u,f,o=!1,i=t.columnKey,e=this.grid.element.data("igGridFeatureChooser"),s=this.grid.dataSource.settings.sorting.expressions,h=s.length;if(!t.isVisible){for(r=0;r<h;r++)u=s[r],u.fieldName===i&&(o=!0,f=!1,u.dir&&u.dir.toLowerCase().indexOf("asc")>-1&&(f=!0),e._setSelectedState("SortingDescending",i,!f,!1),e._setSelectedState("SortingAscending",i,f,!1));o||(e._setSelectedState("SortingDescending",i,!1,!1),e._setSelectedState("SortingAscending",i,!1,!1))}},_sortAscFromFeatureChooser:function(t,i,r){var u=this.grid.element.data("igGridFeatureChooser"),e=this.grid.id(),f=n("#"+e+"_"+i);u&&(u._setSelectedState("SortingDescending",i,!1,!1),r?this.sortColumn(i,"asc",f):this.unsortColumn(i,f))},_sortDescFromFeatureChooser:function(t,i,r){var u=this.grid.element.data("igGridFeatureChooser"),e=this.grid.id(),f=n("#"+e+"_"+i);(u._setSelectedState("SortingAscending",i,!1,!1),u)&&(r?this.sortColumn(i,"desc",f):this.unsortColumn(i,f))},_fixedColumnsChanged:function(n){var t,u=this.grid,i=this.options.columnSettings,f=n.start,e=n.length,o=n.at,r=u.fixedHeadersTable(),s=r.data("attachedSortingHandlers");for(s!==!0&&(r.data("attachedSortingHandlers",!0),r.delegate("thead th",{click:this._clickHandler,mouseover:this._mouseOverHandler,mouseout:this._mouseOutHandler})),u._rearrangeArray(i,f,e,o),t=0;t<i.length;t++)i[t].columnIndex=t},_columnsRearranged:function(){this._initDefaultSettings(!0)},_columnMap:function(){var t=this,i=t.options.mode!=="single";return n.map(this.grid.options.columns,function(n){var r=t._getColumnSettingByKey(n.key),u=!!(i&&r&&r.allowSorting);return{columnKey:n.key,enabled:u}})},_findExpressionByColKey:function(n,t){t=t||this.grid.dataSource.settings.sorting.expressions;for(var u=t.length,f=null,r=this.grid.options.key||null,i=0;i<u;i++)if(t[i].fieldName===n&&(!t[i].layout&&!r||t[i].layout===r))return t[i];return f},_dataRendered:function(){var i,u,t,f,r,o=this.grid.element[0].id,e;if(this._loadingIndicator||this._initLoadingIndicator(),t=this._sortingExpressions,this._shouldFireColumnSorted&&(this._trigger(this.events.columnSorted,null,{columnKey:this._curColKey,direction:this._curSortDir,owner:this,expressions:this.grid.dataSource.settings.sorting.expressions}),this._shouldFireColumnSorted=!1),this._loadingIndicator.hide(),this._curColKey!==undefined&&this._curColKey!==null)this._applySortStyles(this._curColKey);else if(this.options.persist&&this._restoreSorting&&t&&t.length>0){for(i=0;i<t.length;i++)t[i].isGroupBy||(r=t[i].fieldName,u=this._getColumnSettingByKey(r),u&&(u.currentSortDirection=t[i].dir),e=!0,f=n("#"+o+"_"+r),this._curColKey=r,i===t.length-1&&(f.addClass(this.css.sortableColumnHeaderActive),this._currentActiveHeader=f,e=!1,this._curColKey=r),this._applySortStyles(r,e));this._restoreSorting=!1}},_onUIDirty:function(t,i){if(!this.options.persist||this.options.type!=="remote"){var r,u,f=this.grid.dataSource.settings.sorting.expressions,s=this.grid.dataSource.settings.sorting.defaultFields,e=this.options.columnSettings,o=!1;if(i.owner!==this&&i.owner.element[0].id===this.element[0].id)for(this._curColKey=null,this._clearUi(!0),r=0;r<f.length;r++){for(o=!1,u=0;u<e.length;u++)if(f[r].isGroupBy===!0||e[u].columnKey===f[r].fieldName&&e[u].userSet_currentSortDirection){o=!0;break}o||(f.length>r&&n.ig.removeFromArray(f,r),s.length>r&&n.ig.removeFromArray(s,r))}}},_clearUi:function(){for(var i,r,u=this.grid._isMultiColumnGrid,f=this.options.persist,t=0;this._headers&&t<this._headers.length;t++)r=this.options.columnSettings[t].userSet_currentSortDirection,i=(u||f)&&this.options.columnSettings[t].columnKey?n("#"+this.grid.element[0].id+"_"+this.options.columnSettings[t].columnKey):this._headers[t].header,r&&r!=="undefined"?this._applySortStyles(this.options.columnSettings[t].columnKey):(this._clearSortStyles(this.options.columnSettings[t].columnKey),this.options.mode!=="single"&&(delete this.options.columnSettings[t].currentSortDirection,this._excludeExpr(this.options.columnSettings[t].columnKey))),i.removeClass(this.css.sortableColumnHeaderActive).removeClass(this.css.sortableColumnHeaderHover).addClass(this.grid.css.headerClass),this._checkSortingAllowed(this.options.columnSettings[t].columnKey)&&i.addClass(this.css.sortableColumnHeader)},_virtualHorizontalScroll:function(n,t){for(var o=t.startColIndex,h=t.endColIndex,r,f=this.options.columnSettings,u,e=this.grid.headersTable().find("thead > tr").first().find("th").not("[ data-skip=true ]"),c=this.grid._visibleColumns(),s,i=0;i<e.length;i++)u=e.eq(i),s=u.attr("id").replace(this.grid.id()+"_",""),this._clearSortStyles(s),u.removeClass(this.css.sortableColumnHeaderActive).removeClass(this.css.sortableColumnHeaderHover).addClass(this.grid.css.headerClass).addClass(this.css.sortableColumnHeader);for(i=o;i<=h;i++)for(u=e.eq(i-o),u.data("columnIndex",i),r=0;r<f.length;r++)f[r].currentSortDirection&&f[r].columnKey===c[i].key&&this._applySortStyles(f[r].columnKey)},_columnsCollectionModified:function(t,i){if(i.owner.element.attr("id")===this.grid.element.attr("id")){for(var r,f,s,e,o=this.grid._visibleColumns(),u=0;u<this.options.columnSettings.length;u++){for(r=0,f=!1,r=0;r<o.length;r++)if(o[r].key===this.options.columnSettings[u].columnKey){f=!0,s=o[r].key;break}f&&(this.options.columnSettings[u].columnIndex=r,e=this.options.columnSettings[u],e&&e.currentSortDirection!==undefined&&this.options.applySortedColumnCss!==!1&&this._applySortStyles(s,!0))}this._curColKey&&this._applySortStyles(this._curColKey),n("#"+this.element[0].id+" thead th").removeClass(this.css.sortableColumnHeaderHover)}},_detachEvents:function(){this._headerCellRenderedHandler&&this.grid.element.unbind("iggridheadercellrendered",this._headerCellRenderedHandler),this._virtualHorizontalScrollHandler&&this.grid.element.unbind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),this._uiDirtyHandler&&this.grid.element.unbind("iggriduidirty",this._uiDirtyHandler),this._headerRenderedHandler&&this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this._columnsCollectionModifiedHandler&&this.grid.element.unbind("iggridcolumnscollectionmodified",this._columnsCollectionModifiedHandler),this._columnsRearangedHandler&&this.grid.element.unbind("iggrid_columnsmoved",this._columnsRearangedHandler),this._featureChooserMenuTogglingHandler&&this.grid.element.unbind("iggridfeaturechoosermenutoggling",this._featureChooserMenuTogglingHandler)},destroy:function(){var r,u,i,t,f,e,o=this._getModalDialog();if(this.grid){for(n("#"+this.element[0].id+" thead th").unbind("dragstart",this._dragStartHandler),n("#"+this.element[0].id+"_headers thead th").unbind("dragstart",this._dragStartHandler),n(document).undelegate("#"+this.element[0].id+"_headers thead th",{click:this._clickHandler,mouseover:this._mouseOverHandler,mouseout:this._mouseOutHandler}),n("#"+this.element[0].id).undelegate("thead th",{click:this._clickHandler,mouseover:this._mouseOverHandler,mouseout:this._mouseOutHandler}),n("#"+this.element[0].id).undelegate("thead th",{keydown:this._keyDownHandler,focus:this._focusHandler,blur:this._blurHandler}),n(document).undelegate("#"+this.element[0].id+"_headers thead th",{keydown:this._keyDownHandler,focus:this._focusHandler,blur:this._blurHandler}),this._detachEvents(),delete this._blurHandler,delete this._clickHandler,delete this._headerCellRenderedHandler,delete this._focusHandler,delete this._keyDownHandler,delete this._mouseOutHandler,delete this._mouseOverHandler,delete this._dragStartHandler,delete this._uiDirtyHandler,delete this._virtualHorizontalScrollHandler,delete this._headerRenderedHandler,delete this._columnsRearangedHandler,this.grid.element.find(".ui-iggrid-colasc").removeClass("ui-iggrid-colasc ui-state-highlight"),this.grid.element.find(".ui-iggrid-coldesc").removeClass("ui-iggrid-coldesc ui-state-highlight"),this._clearUi(!0),r=0;this._headers&&r<this._headers.length;r++)t=this._headers[r].header,t.removeClass("ui-iggrid-sortableheader ui-state-default ui-state-active ui-state-hover ui-state-focus"),t.attr("title",""),f=t.find("a span"),e=f.text(),u=t.find("a:not([ th-remove-focus ])"),n("<span>"+e+"<\/span>").appendTo(t).addClass("ui-iggrid-headertext"),u.remove();return i=this.grid.element.data("igGridFeatureChooser"),i&&this.renderInFeatureChooser&&(i._removeFeature("SortingAscending"),i._removeFeature("SortingDescending"),i._removeFeature("MultipleSorting")),this._headers=null,this._loadingIndicator&&delete this._loadingIndicator,o[this.options.dialogWidget]("getCaptionButtonContainer"),o.remove(),this._superApply(arguments),this}},_renderMultipleSortingDialog:function(){var f,r,e=this,t=this.options,o=this.grid.element[0].id+"_multiplesorting_modalDialog",u,i;r=this.options.sortingDialogContainment==="owner"?this.grid.container():"window",n("#"+o).remove(),i=n("<div><\/div>").appendTo(this.grid._rootContainer()).attr("id",o),i[this.options.dialogWidget]({containment:r,locale:{buttonApplyText:this._getLocaleValue("modalDialogButtonApplyText"),buttonCancelText:this._getLocaleValue("modalDialogButtonCancelText"),modalDialogCaptionText:this._getLocaleValue("modalDialogCaptionText")},renderFooterButtons:!t.modalDialogSortOnClick,modalDialogWidth:t.modalDialogWidth,modalDialogHeight:t.modalDialogHeight,animationDuration:t.modalDialogAnimationDuration,gridContainer:this.grid.container(),modalDialogOpening:n.proxy(this._onDialogOpening,this),modalDialogMoving:n.proxy(this._onDialogMoving,this),modalDialogClosing:n.proxy(this._onDialogClosing,this),modalDialogClosed:n.proxy(this._onDialogClosed,this)}),t.modalDialogSortOnClick?(u=i[this.options.dialogWidget]("getCaptionButtonContainer"),n("<span><\/span>").addClass("ui-icon ui-icon-closethick").appendTo(n("<a><\/a>").appendTo(u).attr("title",this._getLocaleValue("columnChooserCloseButtonTooltip")).attr("href","#").attr("role","button").addClass("ui-dialog-titlebar-close ui-corner-all").bind("click.hiding",function(n){return i[e.options.dialogWidget]("closeModalDialog",!0),n.preventDefault(),n.stopPropagation(),!1}))):(u=i[this.options.dialogWidget]("getCaptionButtonContainer"),f=n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog_footer_buttonok"),f.bind("igbuttonclick",function(n){e._multiplesortingDialogButtonOKClick(n),n.preventDefault()}))},openMultipleSortingDialog:function(){var t=n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog");t[this.options.dialogWidget]("openModalDialog")},closeMultipleSortingDialog:function(){var t=n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog");t[this.options.dialogWidget]("closeModalDialog")},_onDialogOpening:function(n,t){var i=this._trigger(this.events.modalDialogOpening,n,{modalDialogElement:t.modalDialog,owner:this});return i&&(this._tempExpr=this.grid.dataSource.settings.sorting.expressions.slice(0),this.renderMultipleSortingDialogContent(!0),this._trigger(this.events.modalDialogOpened,n,{modalDialogElement:t.modalDialog,owner:this})),i},_onDialogMoving:function(n,t){this._trigger(this.events.modalDialogMoving,n,{modalDialogElement:n.target,owner:this,originalPosition:t.originalPosition,position:t.position})},_onDialogClosing:function(n,t){return this._trigger(this.events.modalDialogClosing,n,{modalDialogElement:t.modalDialog,owner:this})},_onDialogClosed:function(n,t){this._trigger(this.events.modalDialogClosed,n,{modalDialogElement:t.modalDialog,owner:this})},renderMultipleSortingDialogContent:function(t){var u,h,c,f,l=!0,i=this,e,r=this.grid,a=r.options.columns,o=this.css,s=n("#"+r.element[0].id+"_multiplesorting_modalDialog");t&&(l=this._trigger(this.events.modalDialogContentsRendering,null,{modalDialogElement:s,owner:this})),l&&(this.removeDialogClearButton(),u=s[this.options.dialogWidget]("getContent"),u.empty(),h=n("<div><\/div>").attr("id",r.element[0].id+"_multiplesorting_modalDialog_sortedcolumns").addClass(o.dialogSortedColumns).appendTo(u),c=n("<div><\/div>").attr("id",r.element[0].id+"_multiplesorting_modalDialog_unsortedcolumns").addClass(o.dialogUnsortedColumns).appendTo(u),n("<ul><\/ul>").addClass(o.dialogSortedColumnsList).appendTo(h),n("<ul><\/ul>").addClass(o.dialogUnsortedColumnsList).appendTo(c),e=i._tempExpr||[],e.forEach(function(n){var t=n.fieldName,u=i._getColumnSettingByKey(t);u&&i._checkSortingAllowed(t)!==!1&&i._renderDialogSortedColumn(r.columnByKey(t),u.columnIndex,n.dir)}),n.each(a,function(n,t){var r,o,u=t.key;if(r=i._getColumnSettingByKey(u),!r||i._checkSortingAllowed(u)===!1)return!0;for(f=0;f<e.length;f++)if(e[f].fieldName===u)return!0;o=r.currentSortDirection||r.firstSortDirection||i.options.firstSortDirection,i._renderDialogUnsortedColumn(t,r.columnIndex,o)}),t&&this._trigger(this.events.modalDialogContentsRendered,null,{modalDialogElement:s,owner:this}),this._isToRenderButtonClearAll()&&this._renderDialogButtonClearAll())},_renderDialogSortedColumn:function(t,i,r){var u=this,o,e=this.css,s,h,a=this.options,f=t.key,v=this.grid.element[0].id+"_"+f+"_multiplesorting_modalDialog_sortedcolumns_buttonascdesc",c=this.grid.element[0].id+"_"+f+"_multiplesorting_modalDialog_sortedcolumns_buttonunsort",l=n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog_sortedcolumns ul");return l.css("width"),o=n("<li  tabIndex='0'><\/li>").attr("id",u.grid.element[0].id+"_"+f+"_multiplesorting_sorted_li").addClass(e.dialogSortedColumnsItem),o.appendTo(l),i!==null&&i!==undefined&&o.attr("li-order",i),h="<span id='"+v+"' class='"+e.dialogButtonAsc+"' role='button' title='"+this._getLocaleValue("modalDialogCaptionButtonDesc")+"' data-localeid='modalDialogCaptionButtonDesc' data-localeattr='title'>\t<span class='"+e.dialogButtonAscIcon+"'><\/span><\/span><span class='"+e.dialogSortedColumnTextContainer+"'>"+t.headerText+"<\/span><button type='button' id='"+c+"' class='"+e.dialogButtonUnsort+"' role='button' data-localeid='modalDialogCaptionButtonUnsort' data-localeattr='title' title='"+this._getLocaleValue("modalDialogCaptionButtonUnsort")+"' >\t<span class='"+e.dialogButtonUnsortContainer+"'><\/span>\t<span class='ui-button-text' data-localeid='modalDialogCaptionButtonUnsort'>"+this._getLocaleValue("modalDialogCaptionButtonUnsort")+"<\/span><\/button>",o.bind({click:function(n){u._curColKey=f,u._dialogButtonAscDescClick(f),u._isToRenderButtonClearAll()?u._renderDialogButtonClearAll():u.removeDialogClearButton(),n.preventDefault(),n.stopPropagation()}}),o.html(h),s=n("#"+c),r!==undefined?r.indexOf("asc")!==-1?u._setDialogButtonAscDesc(!0,f):u._setDialogButtonAscDesc(!1,f):u._setDialogButtonAscDesc(!0,f),s.bind({keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(t.target.click(),t.preventDefault(),t.stopPropagation())},click:function(e){var s,h=u.grid.element[0].id,c=n("#"+h+"_multiplesorting_modalDialog");s=u._trigger(u.events.modalDialogButtonUnsortClick,e,{modalDialogElement:c,owner:u,columnKey:f}),s&&(o.remove(),a.modalDialogSortOnClick===!0?u.unsortColumn(f,n("#"+h+"_"+f)):u._removeExprByKey(f,u._tempExpr),u._renderDialogUnsortedColumn(t,i,r),u._isToRenderButtonClearAll()?u._renderDialogButtonClearAll():u.removeDialogClearButton()),e.preventDefault(),e.stopPropagation()},mouseover:function(){n(this).hasClass(e.dialogButtonsHover)||n(this).addClass(e.dialogButtonsHover)},mouseout:function(){n(this).hasClass(e.dialogButtonsHover)&&n(this).removeClass(e.dialogButtonsHover)}}),o},_dialogButtonAscDescClick:function(t){var i=this.options,r,f=n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog"),e=n("#"+this.grid.element[0].id+"_"+t+"_multiplesorting_modalDialog_sortedcolumns_buttonascdesc"),u=e.data("isAsc");r=this._trigger(this.events.modalDialogSortingChanged,null,{modalDialogElement:f,owner:this,columnKey:t,isAsc:!u}),r&&(this._curColKey=t,this._isToRenderButtonClearAll()?this._renderDialogButtonClearAll():this.removeDialogClearButton(),u===!0?(i.modalDialogSortOnClick===!0?this.sortColumn(t,"descending",this._getHeaderCellByIdentifier(t)):this._sortTempExprs(t,"desc"),this._setDialogButtonAscDesc(!1,t)):(i.modalDialogSortOnClick===!0?this.sortColumn(t,"ascending",this._getHeaderCellByIdentifier(t)):this._sortTempExprs(t,"asc"),this._setDialogButtonAscDesc(!0,t)))},_setDialogButtonAscDesc:function(t,i){var r=this.css,e=this.grid.element[0].id+"_"+i+"_multiplesorting_modalDialog_sortedcolumns_buttonascdesc",u=n("#"+e),f=u.find("span:eq(0)");u.data("isAsc",t),t===!0?(u.attr({title:this._getLocaleValue("modalDialogCaptionButtonDesc"),"data-localeid":"modalDialogCaptionButtonDesc","data-localeattr":"title"}).removeClass(r.dialogButtonDesc).addClass(r.dialogButtonAsc),f.removeClass(r.dialogButtonDescIcon).addClass(r.dialogButtonAscIcon)):(u.attr({title:this._getLocaleValue("modalDialogCaptionButtonAsc"),"data-localeid":"modalDialogCaptionButtonAsc","data-localeattr":"title"}).removeClass(r.dialogButtonAsc).addClass(r.dialogButtonDesc),f.removeClass(r.dialogButtonAscIcon).addClass(r.dialogButtonDescIcon))},_removeExprByKey:function(n,t){for(var r=t.length,i=0;i<r;i++)if(t[i].fieldName===n)return t.splice(i,1),!0;return!1},_sortTempExprs:function(n,t){for(var r=this._tempExpr,u={fieldName:n,isSorting:!0,dir:t},i=0;i<r.length;i++)if(r[i].fieldName===n){r[i]=u;return}r.push(u)},_renderDialogUnsortedColumn:function(t,i,r){var u=this,f,s,e=t.key,c=this.options,o=this.css,h=n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog_unsortedcolumns ul");return h.css("width"),f=n("<li><\/li>").attr("id",u.grid.element[0].id+"_"+e+"_multiplesorting_unsorted_li").addClass(o.dialogUnsortedColumnsItem).append("<span class='"+o.dialogUnsortedColumnsSortByButton+"'><a href='#'><\/a><\/span> <span class='"+o.dialogItemText+"'>"+t.headerText+"<\/span>"),this._insertColumnModalDialog(h,f,i),i!==null&&i!==undefined&&f.attr("li-order",i),s=f.find("a:first"),s.addClass(o.modalDialogSortByColumn),s.attr({"data-localeid":"modalDialogSortByButtonText"}).html(this._getLocaleValue("modalDialogSortByButtonText")),f.bind({keydown:function(t){(event.keyCode===n.ui.keyCode.ENTER||event.keyCode===n.ui.keyCode.SPACE)&&(f.click(),t.preventDefault(),t.stopPropagation())},click:function(o){var s,h=n("#"+u.grid.element[0].id+"_multiplesorting_modalDialog");s=u._trigger(u.events.modalDialogSortClick,o,{modalDialogElement:h,owner:u,columnKey:e}),s&&(f.remove(),u._renderDialogSortedColumn(t,i,r),u._sortTempExprs(t.key,r),c.modalDialogSortOnClick?u.sortColumn(e,null,u._getHeaderCellByIdentifier(e)):u._isToRenderButtonClearAll()?u._renderDialogButtonClearAll():u.removeDialogClearButton()),o.preventDefault(),o.stopPropagation()}}),f},_isToRenderButtonClearAll:function(){for(var n,t,u,i=this._tempExpr,r=0;r<this.options.columnSettings.length;r++)if(t=this.options.columnSettings[r],this._checkSortingAllowed(t.columnKey)){for(u=t.columnKey,n=0;n<i.length;n++)if(i[n].fieldName===u){if(t.userSet_currentSortDirection!==i[n].dir)return!0;break}if(n===i.length&&t.userSet_currentSortDirection!=="undefined"&&t.userSet_currentSortDirection)return!0}return!1},_getDialogClearAllButton:function(){return n("#"+this.grid.element[0].id+"_sorting_modalDialog_reset_button")},_getModalDialog:function(){return n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog")},removeDialogClearButton:function(){this._getDialogClearAllButton().remove()},_onDialogButtonClearAllClick:function(t){var u,i,r=this.options.columnSettings;if(u=this._trigger(this.events.modalDialogButtonResetClick,t,{modalDialogElement:n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog"),owner:this}),u){for(this._tempExpr=[],i=0;i<r.length;i++)r[i].userSet_currentSortDirection&&r[i].userSet_currentSortDirection!=="undefined"&&this._checkSortingAllowed(r[i].columnKey)!==!1&&this._tempExpr.push({fieldName:r[i].columnKey,isSorting:!0,dir:r[i].userSet_currentSortDirection});this.renderMultipleSortingDialogContent(!1),this.removeDialogClearButton()}},_renderDialogButtonClearAll:function(){if(this.options.modalDialogSortOnClick!==!0){var t=this.grid.element[0].id+"_sorting_modalDialog_reset_button",u=n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog"),i,r;n("#"+t).length===0&&(i=u[this.options.dialogWidget]("getCaptionButtonContainer"),r=n("<button type='button'><\/button>").attr("id",t).appendTo(i),r.igButton({labelText:this._getLocaleValue("modalDialogResetButton"),click:n.proxy(this._onDialogButtonClearAllClick,this)}))}},_multiplesortingDialogButtonOKClick:function(t){var i,u=this.grid._getSortingExpressionsManager().setFormattersForSortingExprs(this._tempExpr),r=n("#"+this.grid.element[0].id+"_multiplesorting_modalDialog");i=this._trigger(this.events.modalDialogButtonApplyClick,t,{modalDialogElement:r,owner:this,columnsToSort:this._tempExpr}),i&&(this.sortMultiple(u),r[this.options.dialogWidget]("closeModalDialog"))},_insertColumnModalDialog:function(t,i,r){var u,f,o,s=t.find("li"),e=s.length;if(e===0||r===null||r===undefined){i.appendTo(t);return}for(u=0;u<e;u++)if(f=n(s[u]),o=f.attr("li-order"),o>=r){i.insertBefore(f);break}u===e&&i.appendTo(t)},_getColumnSettingByKey:function(n){for(var i=this.options.columnSettings,r=i.length,t=0;t<r;t++)if(i[t].columnKey===n)return i[t]},_headerRendered:function(n,t){t.owner.element.attr("id")===this.grid.element.attr("id")&&(this.grid.element.data("igGridResizing")&&(this._resizing=this.grid.element.data("igGridResizing")),!this._columnFixing&&this.grid.element.data("igGridColumnFixing")&&(this._columnFixing=this.grid.element.data("igGridColumnFixing")),this.options.mode!=="single"&&this._renderMultipleSortingDialog())},_saveSortingExpressions:function(){var i=this.grid,t;this.options.persist&&(t=n.grep(this.grid.dataSource.settings.sorting.expressions,function(n){var t=i.columnByKey(n.fieldName);return!t||t.unbound!==!0}),this.grid._savePersistenceData(t,"sorting",this.grid.element[0].id),this._sortingExpressions=t,this._restoreSorting=!1)},_preserveSorting:function(){var r=this.grid,u,o=[],i=r._getPersistenceData("sorting",r.element[0].id),f,s,t,h=r.options.key,e;if(i){if(f=this.element.closest(".ui-iggrid-root"),this._restoreSorting=!0,i!==this._sortingExpressions&&(this._sortingExpressions=i),f.length&&f.attr("id")!==r.id()&&(s=f.data("igGridGroupBy"),s)){if(r.element.data("igGridGroupBy"))for(u=r.dataSource.settings.sorting.defaultFields,t=0;t<u.length;t++)if(u[t].layout===h){if(u[t].isGroupBy){o.push(u[t]);continue}break}for(e=-1,t=0;t<i.length;t++)if(i[t].isGroupBy)e=t;else break;for(e>-1&&n.ig.removeFromArray(i,0,e),t=0;t<o.length;t++)i.unshift(o[t])}i=r._getSortingExpressionsManager().setFormattersForSortingExprs(i),r.dataSource.settings.sorting.expressions=i,r.dataSource.settings.sorting.defaultFields=i}},_applyActiveSortCellStyle:function(t,i){var r=!1;return(n(this.grid.dataSource.settings.sorting.expressions).each(function(){if(this.fieldName===i)return r=!0,!1}),this._activeSortedCol&&r&&i===this._activeSortedCol.key)?this._activeSortedCol.asc?this.css.ascendingColumn:this.css.descendingColumn:""},_couldPreserveData:function(){return!this.options.persist||this.grid.dataSource.settings.sorting.expressions!==this.grid._getPersistenceData("sorting",this.grid.element[0].id)},_injectGrid:function(t,i){var r,u,o,f,e,s;if(this.grid=t,s=this.grid._getSortingExpressionsManager(),this._detachEvents(),this.options.type===null&&(this.options.type=this.grid._inferOpType()),this.options.persist&&this.options.type==="remote"&&(e=this.element.closest(".ui-iggrid-root").data("igGrid"),e&&e.element.attr("id")!==this.grid.element[0].id&&e.options.initialDataBindDepth===-1&&(this.options.persist=!1)),this.grid.dataSource.settings.sorting.type=this.options.type?this.options.type:"remote",this.grid.dataSource.settings.sorting.caseSensitive=this.options.caseSensitive,this.grid.dataSource.settings.sorting.defaultFields=s.setFormattersForSortingExprs(this.grid.dataSource.settings.sorting.expressions),this.grid.dataSource.settings.sorting.enabled=!0,this.grid.dataSource.settings.sorting.sortUrlKey=this.options.sortUrlKey,this.grid.dataSource.settings.sorting.sortUrlAscValueKey=this.options.sortUrlKeyAscValue,this.grid.dataSource.settings.sorting.sortUrlDescValueKey=this.options.sortUrlKeyDescValue,n.type(this.options.customSortFunction)==="function"?this.grid.dataSource.settings.sorting.customFunc=this.options.customSortFunction:typeof this.options.customSortFunction=="string"&&window[this.options.customSortFunction]&&typeof window[this.options.customSortFunction]=="function"&&(this.grid.dataSource.settings.sorting.customFunc=window[this.options.customSortFunction]),this._headerCellRenderedHandler=n.proxy(this._headerCellRendered,this),this._columnsCollectionModifiedHandler=n.proxy(this._columnsCollectionModified,this),this._uiDirtyHandler=n.proxy(this._onUIDirty,this),this._headerRenderedHandler=n.proxy(this._headerRendered,this),this._columnsRearangedHandler=n.proxy(this._columnsRearranged,this),this.grid.element.bind("iggridheadercellrendered",this._headerCellRenderedHandler),this._virtualHorizontalScrollHandler=n.proxy(this._virtualHorizontalScroll,this),this.grid.element.bind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),this.grid.element.bind("iggriduidirty",this._uiDirtyHandler),this.grid.element.bind("iggridcolumnscollectionmodified",this._columnsCollectionModifiedHandler),this.grid.element.bind("iggridheaderrendered",this._headerRenderedHandler),this.grid.element.bind("iggrid_columnsmoved",this._columnsRearangedHandler),this.options.persist&&this.grid._hasUnboundColumns)for(u=this.options.columnSettings,r=0;r<u.length;r++)u[r].columnKey&&u[r].currentSortDirection&&(o=this.grid.columnByKey(u[r].columnKey),o&&o.unbound===!0&&delete u[r].currentSortDirection);this._initDefaultSettings(),f=null,this.options.persist&&this.grid.element.data("igGridGroupBy")&&this.options.mode!=="single"&&this.grid.element.data("igGridGroupBy")._getSortingExpressions()===this.grid.dataSource.settings.sorting.expressions&&(f=this.grid.dataSource.settings.sorting.expressions.slice(0)),this._clearUi(),f&&(this.grid.dataSource.settings.sorting.expressions=s.setFormattersForSortingExprs(f),this._saveSortingExpressions()),this._currentActiveHeader=null,this._curColKey=null,this.options.persist&&this._preserveSorting(),!i&&!this._cellStyleSubscriberAdded&&(this.grid.options.rowVirtualization||this.grid.options.virtualization)&&(this._cellStyleSubscriberAdded=!0,this.grid._cellStyleSubscribers.push(n.proxy(this._applyActiveSortCellStyle,this)))}}),n.extend(n.ui.igGridSorting,{version:"19.2.25"})}(n),function(n){n.widget("ui.igGridSummaries",n.ui.igWidget,{grid:null,css:{columnSummariesDropdown:"ui-iggrid-summaries-dialog",footerRowTextContainer:"ui-iggrid-summaries-footer-text-container",footerRowIconContainer:"ui-corner-all ui-iggrid-summaries-footer-icon-container",footerDropdownButtonsContainer:"ui-iggrid-summaries-footer-dialog-buttons-container",footerButtonIcon:"ui-icon ui-icon-calculator ui-iggrid-icon-summaries",footerButtonIconHover:"ui-iggrid-filterbuttonhover ui-state-hover",footerButtonIconActive:"ui-iggrid-filterbuttonactive ui-state-active",featureChooserIconClass:"ui-icon ui-iggrid-icon-summaries",dropDownListContainer:"ui-iggrid-summaries-dropdown-listcontainer ui-widget",dropDownListItem:"ui-iggrid-summaries-dialog-listitem",headerButtonContainer:"ui-iggrid-summaries-headerbuttoncontainer ui-corner-all",headerButtonIcon:"ui-iggrid-summaries-header-icon ui-corner-all ui-icon ui-icon-calculator ui-icon-summaries",headerButtonIconHover:"ui-iggrid-summaries-header-icon-hover ui-state-hover",footerRowCell:"ui-widget-footer ui-state-default",footerRowCellHover:"ui-state-hover",checkbox:"ui-state-default ui-corner-all ui-igcheckbox-normal",checkboxOff:"ui-icon ui-icon-check ui-igcheckbox-normal-off",checkboxOn:"ui-icon ui-icon-check ui-igcheckbox-normal-on",checkboxHovered:"ui-state-hover",footerRowIconContainerEmpty:"ui-iggrid-summaries-footer-icon-container-empty",footerRowTextContainerEmpty:"ui-iggrid-summaries-footer-text-container-empty",baseClassIE7:"ui-ie7"},defaultSummaryMethods:null,renderInFeatureChooser:!0,options:{type:null,dialogButtonOKText:null,dialogButtonCancelText:null,featureChooserText:null,featureChooserTextHide:null,emptyCellText:null,summariesHeaderButtonTooltip:null,calculateRenderMode:"okcancelbuttons",compactRenderingMode:!0,showSummariesButton:!0,summariesResponseKey:"summaries",summaryExprUrlKey:"summaries",callee:null,dropDownHeight:"",dropDownWidth:"",showDropDownButton:!0,summaryExecution:"afterfilteringbeforepaging",dropDownDialogAnimationDuration:400,resultTemplate:"{0} = {1}",renderSummaryCellFunc:null,columnSettings:[{allowSummaries:!0,columnKey:null,columnIndex:-1,summaryOperands:[{rowDisplayLabel:"",type:"custom",active:!0,summaryCalculator:null,order:5,format:undefined}]}],inherit:!1,locale:{dialogButtonOKText:undefined,dialogButtonCancelText:undefined,featureChooserText:undefined,featureChooserTextHide:undefined,emptyCellText:undefined,summariesHeaderButtonTooltip:undefined}},events:{dropDownOpening:"dropDownOpening",dropDownOpened:"dropDownOpened",dropDownClosing:"dropDownClosing",dropDownClosed:"dropDownClosed",summariesCalculating:"summariesCalculating",summariesCalculated:"summariesCalculated",summariesMethodSelectionChanged:"summariesMethodSelectionChanged",summariesToggling:"summariesToggling",summariesToggled:"summariesToggled",dropDownOKClicked:"dropDownOKClicked",dropDownCancelClicked:"dropDownCancelClicked"},_initDefaultSummaryMethods:function(){this.defaultSummaryMethods=this.defaultSummaryMethods||[{rowDisplayLabel:this._getLocaleValue("defaultSummaryRowDisplayLabelCount"),type:"count",allowed:"all",active:!0,order:0},{rowDisplayLabel:this._getLocaleValue("defaultSummaryRowDisplayLabelMin"),type:"min",allowed:["number","date","time","numeric"],active:!0,order:1},{rowDisplayLabel:this._getLocaleValue("defaultSummaryRowDisplayLabelMax"),type:"max",allowed:["number","date","time","numeric"],active:!0,order:2},{rowDisplayLabel:this._getLocaleValue("defaultSummaryRowDisplayLabelSum"),type:"sum",allowed:["number","numeric"],active:!0,order:3},{rowDisplayLabel:this._getLocaleValue("defaultSummaryRowDisplayLabelAvg"),type:"avg",allowed:["number","numeric"],active:!0,order:4},{rowDisplayLabel:this._getLocaleValue("defaultSummaryRowDisplayLabelCustom"),type:"custom",allowed:"all",active:!0,summaryCalculator:null,order:5}]},_createWidget:function(){this.options.columnSettings=[],this._summariesRows=[],this._data={},this._currentOpenedColumnKey=null,this._isRenderedSummariesRows=!1,this._footerInitialized=!1,this._currentRowShownIcons=null,this._customInitMethods=[],this._fcData={},this._isInitFC=!1,this._isSummariesRowsHidden=!1,this._disallowedSummaries=[],n.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){this._initDefaultSummaryMethods();var n=this.options.compactRenderingMode;this._setRenderSummaryCellFunction(this.options.renderSummaryCellFunc),n==="true"?n=!0:n==="false"&&(n=!1),this.options.compactRenderingMode=n},changeGlobalLanguage:function(){},changeGlobalRegional:function(){},_setRenderSummaryCellFunction:function(t){t&&n.type(t)!=="function"&&window[t]&&typeof window[t]=="function"&&(t=window[t]),this._renderCellHandler=t&&n.type(t)==="function"?t:n.proxy(this._renderCell,this)},_initColumnSettings:function(){var u=[],i,r,o,f,s=n.extend(!0,[],this.options.columnSettings),t,h=s.length,e=this.grid.options.columns?this.grid.options.columns.length:0;for(this.grid.dataSource.settings.summaries.calculateAll=!1,this.newColumnSettings=[],this._disallowedSummaries=[],i=0;i<e;i++)u.push({columnIndex:i,columnKey:this.grid.options.columns[i].key,dataType:this.grid.options.columns[i].dataType});if(h>0){for(i=0;i<h;i++)if((t=s[i],t.summaryOperands!==null&&t.summaryOperands!==undefined)&&(t.columnKey!==null&&t.columnKey!==undefined||t.columnIndex!==null&&t.columnIndex!==undefined))for(r=0;r<e;r++)for(f=0;f<t.summaryOperands.length;f++)if((t.summaryOperands[f].active===null||t.summaryOperands[f].active===undefined)&&(t.summaryOperands[f].active=!0),t.summaryOperands[f].type.startsWith("custom")===!0&&t.summaryOperands[f].type!=="custom"){for(o=0;o<this._customInitMethods.length;o++)if(t.summaryOperands[f].summaryCalculator===this._customInitMethods[o].summaryCalculator)break;this._customInitMethods.length===o&&this._customInitMethods.push({summaryCalculator:t.summaryOperands[f].summaryCalculator,type:t.summaryOperands[f].type,index:t.summaryOperands[f].type.replace("custom","")})}for(i=0;i<h;i++)if(t=s[i],t.columnKey!==null&&t.columnKey!==undefined||t.columnIndex!==null&&t.columnIndex!==undefined)for(r=0;r<e;r++)if(u[r].columnIndex===t.columnIndex&&t.columnIndex!==undefined&&t.columnIndex!==null||u[r].columnKey===t.columnKey&&t.columnKey!==undefined&&t.columnKey!==null){t.dataType=u[r].dataType,t.columnIndex=u[r].columnIndex,t.columnKey=u[r].columnKey,t.summaryOperands=this._initAllowedSummaryMethods(t),t.allowSummaries!==!1?this.newColumnSettings.push(t):this._disallowedSummaries[u[r].columnKey]=!0;break}for(i=0;i<e;i++){for(r=0;r<this.newColumnSettings.length;r++)if(this.newColumnSettings[r].columnKey===u[i].columnKey)break;r===this.newColumnSettings.length&&this._disallowedSummaries[u[i].columnKey]!==!0&&this.newColumnSettings.push({dataType:u[i].dataType,columnIndex:i,columnKey:u[i].columnKey,summaryOperands:this._initAllowedSummaryMethods(u[i],!1)})}}else{for(i=0;i<e;i++)this.newColumnSettings.push({dataType:u[i].dataType,columnIndex:i,columnKey:u[i].columnKey,summaryOperands:this._initAllowedSummaryMethods(u[i])});!e&&this.grid.options.autoGenerateColumns&&this.options.type==="remote"&&(this.grid.dataSource.settings.summaries.calculateAll=!0)}this.columnSettings=this.newColumnSettings},_initAllowedSummaryMethods:function(n,t){var i,u,f,s,e,o,a=this.defaultSummaryMethods.length,h,r=[],c=[],v,y,l,p;if(n!==null&&n!==undefined){if(h=n.dataType,h==="object"&&(h=this.grid.dataSource._getFieldTypeFromSchema(n.columnKey)),n!==null&&n!==undefined&&n.summaryOperands!==undefined&&n.summaryOperands!==null)for(i=0;i<n.summaryOperands.length;i++){if(n.summaryOperands[i].type===undefined||n.summaryOperands[i].type===null)return;if(v=n.summaryOperands[i].type.toLowerCase(),this._isAllowedMethodName(v)===!0){if(t===!0&&(n.summaryOperands[i].active=!1),n.summaryOperands[i].type==="custom"){if(n.summaryOperands[i].summaryCalculator===null||n.summaryOperands[i].summaryCalculator===undefined)continue;for(o=1,f=0;f<this._customInitMethods.length;f++){if(n.summaryOperands[i].summaryCalculator===this._customInitMethods[f].summaryCalculator){n.summaryOperands[i].type=this._customInitMethods[f].type;break}this._customInitMethods[f].index>o&&(o=this._customInitMethods[f].index)}this._customInitMethods.length===f&&(o++,n.summaryOperands[i].type="custom"+o,this._customInitMethods.push({summaryCalculator:n.summaryOperands[i].summaryCalculator,type:"custom"+o,index:o}))}r.push(n.summaryOperands[i])}}else for(i=0;i<a;i++)(e=this.defaultSummaryMethods[i],e.type.startsWith("custom"))||(l=e.active,t===!0&&(l=!1),r.push({rowDisplayLabel:e.rowDisplayLabel,type:e.type,allowed:e.allowed,active:l,order:e.order,format:e.format}));for(y=r.length,i=0;i<y;i++)for(u=0;u<a;u++)if(p=this.defaultSummaryMethods[u].type.toUpperCase(),p===r[i].type.toUpperCase()||r[i].type.startsWith("custom")){if(r[i].type.toLowerCase().startsWith("custom")?r[i].order<this.defaultSummaryMethods[u].order&&(r[i].order=this.defaultSummaryMethods[u].order):r[i].order!==this.defaultSummaryMethods[u].order&&(r[i].order=this.defaultSummaryMethods[u].order),(r[i].rowDisplayLabel===null||r[i].rowDisplayLabel===undefined)&&(r[i].rowDisplayLabel=this.defaultSummaryMethods[u].rowDisplayLabel),this.defaultSummaryMethods[u].allowed==="all")c.push(r[i]);else for(s=0;s<this.defaultSummaryMethods[u].allowed.length;s++)if(this.defaultSummaryMethods[u].allowed[s]===h){c.push(r[i]);break}break}return c}},changeLocale:function(){var t=this.grid.element.data("igGridFeatureChooser"),r=this,u=this.grid._rootContainer(),i;t&&this.renderInFeatureChooser&&(this._fcData={},t._removeFeature("Summaries"),this._initFC()),this.defaultSummaryMethods=null,this._initDefaultSummaryMethods(),u.find("[data-localeid=summariesHeaderButtonTooltip]").each(function(){r._changeLocaleForElement(n(this))}),i=this.grid.options.columns,i.forEach(function(n){this._updateColumnSettings(n.key),this._isSummariesRowsHidden||n.hidden||(this._updateDataLabels(n.key),this._renderFooterColumnInfo(n.key,this.summariesFor(n.key))),this._renderDropDown(n.key)},this)},changeRegional:function(){var n=this.grid._getAllFormattedColumns();n.forEach(function(n){this._renderFooterColumnInfo(n.key,this.summariesFor(n.key))},this)},_registerWidget:n.noop,_unregisterWidget:n.noop,_setOption:function(n,t){var r,i=this.options,u,f,o,h,s,e,c=this.grid.element[0].id;switch(n){case"calculateRenderMode":if(i.calculateRenderMode!==t)for(i.calculateRenderMode=t,u=this.grid.options.columns,f=u.length,r=0;r<f;r++)this._renderDropDown(u[r].key);break;case"compactRenderingMode":i.compactRenderingMode!==t&&(i.compactRenderingMode=t,this._clearAllRows(),this.calculateSummaries());break;case"showSummariesButton":if(i.showSummariesButton!==t)for(i.showSummariesButton=t,o=this.columnSettings,h=o.length,r=0;r<h;r++)e=o[r].columnKey,t===!0?(s=this.grid._rootContainer().find("#"+c+"_"+e),this._fcData!==null&&this._fcData!==undefined&&s.length>0&&this._fcData[e]!==!0&&this._renderHeaderCellButton(s,e)):this.grid._rootContainer().find("#"+this._id("summaries","header_column_icon",e)).remove();break;case"disabled":i.disabled!==t&&(i.disabled=t,t===!0?this._clearAllRows():this.calculateSummaries());break;case"type":i.type!==t&&(i.type=t,this._setDataSourceColumnSettingsOptions());break;case"summaryExprUrlKey":i.summaryExprUrlKey!==t&&(i.summaryExprUrlKey=t,this._setDataSourceColumnSettingsOptions());break;case"dropDownHeight":if(i.dropDownHeight!==t)for(i.dropDownHeight=t,u=this.grid.options.columns,f=u.length,r=0;r<f;r++)this.grid._rootContainer().find("#"+this._id("summaries","methods_dialog",u[r].key)).css("height",t);break;case"dropDownWidth":if(i.dropDownWidth!==t)for(i.dropDownWidth=t,u=this.grid.options.columns,f=u.length,r=0;r<f;r++)this.grid._rootContainer().find("#"+this._id("summaries","methods_dialog",u[r].key)).css("width",t);break;case"showDropDownButton":i.showDropDownButton!==t&&(i.showDropDownButton=t,t===!0?this._renderFooterIcons():this._clearFooterIcons());break;case"resultTemplate":i.resultTemplate!==t&&(i.resultTemplate=t,this._clearAllRows(),this.calculateSummaries());break;case"columnSettings":if(i.columnSettings!==t)for(i.columnSettings=t,this.columnSettings=[],this.newColumnSettings=[],this._data={},this._clearAllRows(),this._initColumnSettings(),u=this.grid.options.columns,f=u.length,this.grid.dataSource.dataBind(),r=0;r<f;r++)this._renderDropDown(u[r].key);break;case"renderSummaryCellFunc":i.renderSummaryCellFunc!==t&&this._setRenderSummaryCellFunction(t)}this._superApply(arguments)},_removeHeaderColumnIcons:function(){for(var t=this.columnSettings,i=t.length,n=0;n<i;n++)this.grid._rootContainer().find("#"+this._id("summaries","header_column_icon",t[n].columnKey)).remove()},destroy:function(){var n,t,r,i;for(this._detachEvents(),this._clearAllRows(),this.newColumnSettings=null,this.options.columnSettings=null,this.options=null,this._summariesRows.length=0,this._summariesRows=null,this._activeDialog&&(this._activeDialog.remove(),this._activeDialog=null),this._data=null,this._currentOpenedColumnKey=null,this._isRenderedSummariesRows=null,this._footerInitialized=null,this._currentRowShownIcons=null,this._customInitMethods=null,this._fcData=null,this._isInitFC=null,this._isSummariesRowsHidden=null,this._disallowedSummaries=null,this._activeDialog=null,this.defaultSummaryMethods=null,t=this.grid.options.columns,r=t.length,n=0;n<r;n++)this.grid._rootContainer().find("#"+this._id("summaries","methods_dialog",t[n].key)).remove();return i=this.grid.element.data("igGridFeatureChooser"),i&&this.renderInFeatureChooser&&i._removeFeature("Summaries"),this._superApply(arguments),this},_detachEvents:function(){this.grid.footersTable().find("tr:first td").unbind(".summaries"),this._headerRenderedHandler&&this.grid.element.unbind("iggridheaderrendered",this._headerRenderedHandler),this._footerRenderedHandler&&this.grid.element.unbind("iggridfooterrendered",this._footerRenderedHandler),this._headerCellRenderedHandler&&this.grid.element.unbind("iggridheadercellrendered",this._headerCellRenderedHandler),this._headerFooterInitHandler&&this.grid.element.unbind("iggridheaderextracellsmodified",this._headerFooterInitHandler),this._columnsCollectionModifiedHandler&&this.grid.element.unbind("iggridcolumnscollectionmodified",this._columnsCollectionModifiedHandler),this._virtualHorizontalScrollHandler&&this.grid.element.unbind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler)},_headerCellRendered:function(n,t){t.owner.element.attr("id")===this.grid.element.attr("id")&&this._isInitFC!==!0&&this._initFC()},_initFC:function(){var t,i,f=this.options,u=this.columnSettings,e=u.length,r;if(this._isInitFC=!0,i=this.grid.element.data("igGridFeatureChooser"),i!==null&&i!==undefined&&this.renderInFeatureChooser&&f.showSummariesButton)for(t=0;t<e;t++)u[t].allowSummaries!==!1&&(r=u[t].columnKey,i._shouldRenderInFeatureChooser(r)===!0&&(i._renderInFeatureChooser(r,{name:"Summaries",text:this._getLocaleValue("featureChooserText"),textHide:this._getLocaleValue("featureChooserTextHide"),iconClass:this.css.featureChooserIconClass,iconClassOff:this.css.featureChooserIconClass,isSelected:!this._isSummariesRowsHidden,method:n.proxy(this._togglefromfc,this),updateOnClickAll:!0,order:1,groupName:"toggle",groupOrder:1,type:"toggle",state:this._isSummariesRowsHidden?"show":"hide"}),this._fcData[r]=!0))},_footerRendered:function(n,t){if(t.owner.element.attr("id")===this.grid.element.attr("id")){this._initColumnSettings();for(var r=this.columnSettings,f=r.length,u,i=0;i<f;i++)r[i].allowSummaries!==!1&&(u=r[i].columnKey,this._renderDropDown(u))}},_headerRendered:function(n,t){if(t.owner.element.attr("id")===this.grid.element.attr("id"))for(var u=this.columnSettings,e=u.length,f,r,o=this.grid.element[0].id,i=0;i<e;i++)u[i].allowSummaries!==!1&&(r=u[i].columnKey,f=this.grid.headersTable().find("#"+o+"_"+r),f.length>0&&this._fcData[r]!==!0&&this.options.showSummariesButton!==!1&&this._renderHeaderCellButton(f,r))},_columnMap:function(){var u=this.options,t=this.newColumnSettings,n,f=t.length,i,r=[];if(u.showSummariesButton===!1)return!1;for(n=0;n<f;n++)i={columnKey:t[n].columnKey,enabled:!0},t[n].allowSummaries===!1&&(i.enabled=!1),r.push(i);return r},_dataRendered:function(){var n=this.grid,t;this.options.disabled!==!0&&this._isSummariesRowsHidden===!1&&(this._clearAllRows(),this.calculateSummaries(),n._initialized?this._isVirtualization()&&this.grid._synchronizeHScroll():(n.options.fixedFooters||(t=parseFloat(n.element.find("tbody > tr:first > :last-child").css(n._padding)),t&&n._increaseLastCellVScrollbarPadding(n.element,"tfoot","td",t)),this._isVirtualization()&&n.options.virtualizationMode==="fixed"&&(n._resetVirtualDom(),n._renderVirtualRecordsFixed())))},_updatingApplied:function(){this.grid.options.autoCommit&&this._isRenderedSummariesRows&&this.calculateSummaries()},_rowDeleted:function(){this._updatingApplied()},_rowAdded:function(){this._updatingApplied()},_internalRowUpdated:function(){this._updatingApplied()},_internalCellUpdated:function(){this._updatingApplied()},isSummariesRowsHidden:function(){return this._isSummariesRowsHidden},calculateSummaries:function(){var n=this.grid.footersTable().outerHeight();this._trigger(this.events.rowsInitialize,null,{}),this._calculateInternalSummaries(),this.options.showDropDownButton===!0&&this._renderFooterIcons(),this._adjustHeights(n)},_adjustHeights:function(n){var t=this.grid,i=t.options.height,r;i!==null&&i!==undefined&&(t._fireInternalEvent("_summariesHeightsAdjusting"),t.hasFixedColumns()&&this._syncFixedUnfixedRowHeights(),n&&n===this.grid.footersTable().outerHeight()||(t._initializeHeights(),this._isVirtualization()&&(r=this.grid._persistVirtualScrollTop,this.grid._persistVirtualScrollTop=!0,this.grid._saveFirstVisibleTRIndex(),t._resetVirtualDom(),t._renderVirtualRecords(),this.grid._persistVirtualScrollTop=r)),t.hasVerticalScrollbar()!==t._hasVerticalScrollbar&&t._adjustLastColumnWidth(!1))},_removeFooterRows:function(){for(var t=this._summariesRows,i=this.grid.hasFixedColumns(),r=t.length,n=0;n<r;n++)this.grid._rootContainer().find("#"+this._id("summaries","footer_row",t[n].type)).remove(),i&&this.grid._rootContainer().find("#"+this._id("summaries","footer_row",t[n].type,"fixed")).remove();this._isRenderedSummariesRows=!1,this._summariesRows=[]},_calculateSelectedSummaries:function(t){var i,f,s,v=this.grid.hasFixedColumns(),rt=[],ut,k,tt,d,ft=!1,it,b,h,e=null,y,r,o=this.options.compactRenderingMode,c,st=this.columnSettings.length,et=!1,g=!1,l,a=[],p=0,u=[],nt=!1,ot,w="";if(t!==undefined&&t!==null){for(r=0;r<st;r++)if(this.columnSettings[r].columnKey===t&&this._isVisibleColumn(t)){e=this.columnSettings[r],c=r;break}if(e!==null&&e!==undefined){for(s=e.summaryOperands,tt=s.length,i=0;i<tt;i++)k=this.grid._rootContainer().find("#"+this._id("summaries_footer_checkbox",s[i].type.toLowerCase(),t)),y=k.attr("data-chk").toLowerCase()==="on",y!==s[i].active&&(et=!0,this.newColumnSettings[c].summaryOperands[i].active=y,y===!0?(ft=!0,u.push(this.newColumnSettings[c].summaryOperands[i])):a.push(s[i]));if(this.columnSettings[c].summaryOperands=this.newColumnSettings[c].summaryOperands,this.isToCalculateInRemoteMode=!1,this.options.compactRenderingMode==="auto"){if(this._summariesRows.length===1&&this._analyzeAutoCompactRenderingMode()===!1){this.grid._rootContainer().find("#"+this._summariesRows[0].id).remove(),v&&this.grid._rootContainer().find("#"+this._summariesRows[0].id+"_fixed").remove(),this._summariesRows=[],this.calculateSummaries();return}if(this._summariesRows.length>1&&this._analyzeAutoCompactRenderingMode()===!0){for(i=0;i<this._summariesRows.length;i++)this.grid._rootContainer().find("#"+this._summariesRows[i].id).remove(),v&&this.grid._rootContainer().find("#"+this._summariesRows[i].id+"_fixed").remove();this._summariesRows=[],this.calculateSummaries();return}}if(ft===!0){if((o===!1||o==="auto"&&this._analyzeAutoCompactRenderingMode()===!1)&&this._summariesRows.length===1)for(w=this._summariesRows[0].type.toLowerCase(),nt=!0,r=0;r<this.columnSettings.length;r++)if(this._isVisibleColumn(this.columnSettings[r].columnKey)){for(f=0;f<this.columnSettings[r].summaryOperands.length;f++)if(this.columnSettings[r].summaryOperands[f].type.toLowerCase()===w&&this.columnSettings[r].summaryOperands[f].active!==!1){nt=!1;break}if(nt===!1)break}this.options.type==="remote"?this.options.calculateRenderMode==="onselect"?(this.isToCalculateInRemoteMode=!0,ot={type:u[0].type,result:"calculating",rowDisplayLabel:u[0].rowDisplayLabel,order:u[0].order,format:u[0].format,dataType:this.newColumnSettings[c].dataType},(this._data[t]===null||this._data[t]===undefined)&&(this._data[t]=[]),this._data[t].push(ot),this._renderFooterColumnInfo(t,this._data[t])):(this._setDataSourceColumnSettingsOptions(),this.grid.dataSource.dataBind()):(it=this._dataSummaries(),this._trigger(this.events.summariesCalculating,null,{owner:this})!==!1&&(rt=this.calculateSummaryColumn(t,u,it,this.newColumnSettings[c].dataType),(o===!1||o==="auto"&&this._analyzeAutoCompactRenderingMode()===!1)&&this._renderFooterColumnInfo(t,rt),this._trigger(this.events.summariesCalculated,null,{data:it,owner:this})))}if(p=a.length,o===!0||o==="auto"&&this._analyzeAutoCompactRenderingMode()===!0){if(e=this.newColumnSettings,ut=e.length,h=0,b=0,o==="auto"){for(a=[],i=0;i<tt;i++)k=this.grid._rootContainer().find("#"+this._id("summaries_footer_checkbox",s[i].type.toLowerCase(),t)),y=k.attr("data-chk").toLowerCase()==="on",y===!1&&a.push(s[i]);p=a.length}for(i=0;i<p;i++)this._removeDataResult(t,a[i].type.toLowerCase());if(p>u.length){for(i=0;i<ut;i++)if(this._isVisibleColumn(e[i].columnKey)){for(b=0,r=0;r<e[i].summaryOperands.length;r++)e[i].summaryOperands[r].active===!0&&b++;b>h&&(h=b)}if(d=this._summariesRows.length,h>d)return;for(i=0;i<h;i++)this.grid._rootContainer().find("#"+this._id("summaries","footer_row_text_container",this._summariesRows[i].type.toLowerCase(),t)).attr("data-localeid","emptyCellText").html(this._getLocaleValue("emptyCellText"));for(i=h;i<d;i++)this.grid._rootContainer().find("#"+this._summariesRows[i].id).remove(),v&&this.grid._rootContainer().find("#"+this._summariesRows[i].id+"_fixed").remove();for(i=h;i<d;i++)this._summariesRows.pop();v&&this.grid.options.height===null&&n.ig.util.isIE&&n.ig.util.browserVersion>=9&&this._getColumnFixingInstance()._syncTableHeights()}else u.length>p&&this._initCompactModeSummariesRows();this._renderFooterColumnInfo(t,this._data[t]),this._summariesRows.length===0&&(this._insertSummariesRows(this.defaultSummaryMethods[0].type.toLowerCase(),this.defaultSummaryMethods[0].order),this._renderFooterIcons()),this._adjustHeights()}if(et&&(o===!1||o==="auto"&&this._analyzeAutoCompactRenderingMode()===!1)){for(i=0;i<p;i++)if(l=a[i].type.toLowerCase(),this.grid._rootContainer().find("#"+this._id("summaries","footer_row_text_container",l,t)).attr("data-localeid","emptyCellText").html(this._getLocaleValue("emptyCellText")),this._removeDataResult(t,l),!(this._summariesRows.length<=1)){for(g=!0,r=0;r<this.columnSettings.length;r++)if(this._isVisibleColumn(this.columnSettings[r].columnKey)){for(f=0;f<this.columnSettings[r].summaryOperands.length;f++)if(this.columnSettings[r].summaryOperands[f].type.toLowerCase()===l&&this.columnSettings[r].summaryOperands[f].active!==!1){g=!1;break}if(g===!1)break}g===!0&&this._summariesRows.length>1&&(this._removeRowsDataByType(l),this.grid._rootContainer().find("#"+this._id("summaries","footer_row",l)).remove(),v&&this.grid._rootContainer().find("#"+this._id("summaries","footer_row",l,"fixed")).remove())}if(this._summariesRows.length>=1&&nt===!0){for(i=0;i<u.length;i++)if(u[i].type.toLowerCase()===w)break;i===u.length&&(this._removeRowsDataByType(w),this.grid._rootContainer().find("#"+this._id("summaries","footer_row",w)).remove(),v&&this.grid._rootContainer().find("#"+this._id("summaries","footer_row",w,"fixed")).remove())}this._summariesRows.length>0&&this.grid._rootContainer().find("#"+this._id("summaries","footer_row_button_dd",this._summariesRows[0].type,t)).length===0&&this._renderFooterIcons(),this._adjustHeights()}}}},_analyzeAutoCompactRenderingMode:function(){for(var n,i,r,u,f,e=this.columnSettings.length,t=0;t<e;t++)for(r=this.columnSettings[t],i=r.summaryOperands,u=i.length,f=0,n=0;n<u;n++)if(i[n].active===!0&&++f>1)return!1;return!0},_removeRowsDataByType:function(t){if(t!==undefined&&t!==null){var i=this.grid.hasFixedColumns(),r=this;this._summariesRows=n.grep(this._summariesRows,function(u){return u.type===t&&(n(u).remove(),i&&r.grid.container().find("#"+u.id+"_fixed").remove()),u.type!==t})}},_syncFixedUnfixedRowHeights:function(){var i=this.grid.footersTable().find("tfoot"),r=this.grid.fixedFootersTable().find("tfoot"),u=i.find("tr[ data-role ]"),f=r.find("tr[ data-role ]"),t;n.each(u,function(i,r){var u,e,o,s=n(r);if(t=f.eq(i),t.length===0)return!0;e=t.height(),o=s.height(),u=e>o?e:o,s.height(u),t.height(u)})},_clearFooterIcons:function(){var n,t=this._currentRowShownIcons,i,r;if(t!==null&&t!==undefined)for(i=this.grid.options.columns,r=i.length,n=0;n<r;n++)this.grid._rootContainer().find("#"+this._id("summaries","footer_row_button_dd",t.type,i[n].key)).remove()},clearAllFooterIcons:function(){for(var n,i=this._summariesRows,u=i.length,r=this.grid.options.columns,f=r.length,t=0;t<u;t++)for(n=0;n<f;n++)this.grid._rootContainer().find("#"+this._id("summaries","footer_row_button_dd",i[t].type,r[n].key)).remove()},_clearAllRows:function(){for(var i=this._summariesRows.length,r=this.grid.hasFixedColumns(),t,n=0;n<i;n++)t=this.grid._rootContainer().find("#"+this._summariesRows[n].id),t.remove(),r&&this.grid._rootContainer().find("#"+this._summariesRows[n].id+"_fixed").remove();this._summariesRows.length=0},_removeUnusedFooterRows:function(n){var t,i,f=this._summariesRows,r=this._summariesRows.length,e=this.grid.hasFixedColumns(),u=n.length;if(r===0){for(t=0;t<u;t++)this.grid._rootContainer().find("#"+n.id).remove();return}for(t=0;t<u;t++){for(i=0;i<r;i++)f[i].id===n[t].id;i===r&&(this.grid._rootContainer().find("#"+n[t].id).remove(),e&&this.grid._rootContainer().find("#"+n[t].id+"_fixed").remove())}},_renderFooterIcons:function(n,t){var r,u,f=this._summariesRows,i,o=!0,s=this.grid.options.columns,h=s.length,e;if((n===null||n===undefined)&&(n=0),(t===null||t===undefined)&&(t=h),f.length!==0){for(this._clearFooterIcons(),e=f[0].type,this._currentRowShownIcons=f[0],r=n;r<t;r++)(u=s[r].key,this._disallowedSummaries[u]!==!0)&&(i=this._getColumnSettingByKey(u),i!==null&&i!==undefined&&i.length!==0&&i.allowSummaries!==!1)&&(o=!1,this._renderFooterIconMarkup(e,u));o===!0&&this._removeRowsDataByType(e)}},_renderFooterIconMarkup:function(t,i){var r=this,f,u;u=n("<span><\/span>").appendTo(this.grid._rootContainer().find("#"+this._id("summaries","footer_row_icon_container",t,i))).addClass(r.css.footerButtonIcon),u.wrap("<a id='"+this._id("summaries","footer_row_button_dd",t,i)+"' href='#' title='' tabindex='"+this.grid.options.tabIndex+"'><\/a>"),u.data("columnKey",i),f=u.closest("td"),f.data("columnKey",i),f.unbind(".summaries"),f.bind({"mousedown.summaries":function(n){r.toggleDropDown(i,n),n.stopPropagation()}}),u.parent().bind({mousedown:n.proxy(r._onMouseDownFooterIcon,r),click:n.proxy(r._onClickFooterIcon,r),mouseover:n.proxy(r._onMouseOverFooterIcon,r),mouseout:n.proxy(r._onMouseOutFooterIcon,r),focus:n.proxy(r._onMouseOverFooterIcon,r),blur:n.proxy(r._onMouseOutFooterIcon,r),keydown:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(t.stopPropagation(),t.preventDefault(),r.toggleDropDown(null,t))}})},_onMouseOverFooterIcon:function(t){var i=n(t.target);i.closest("div").hasClass(this.css.footerButtonIconActive)===!1&&i.closest("div").addClass(this.css.footerButtonIconHover)},_onMouseOutFooterIcon:function(t){var i=n(t.target);i.closest("div").hasClass(this.css.footerButtonIconActive)===!1&&i.closest("div").removeClass(this.css.footerButtonIconHover)},_onClickFooterIcon:function(n){n.preventDefault()},_onMouseDownFooterIcon:function(n){this.toggleDropDown(null,n)},_isFirstRowEmpty:function(){var n,e=!0,t,i=this._summariesRows,r=null,u,f=this.grid.options.columns,o=f.length;if(i.length===0)return!1;for(u=i[0],n=0;n<o;n++)if(t=f[n].key,r=this._getDataByKeyMethodName(t,u.type),r!==null)return!1;return e},toggleDropDown:function(t,i){var r,u,e,l,f,o,s,h,c;if(i){if(c=n(i.target).closest("td"),t=c.data("columnKey"),r=c.find("a>span"),!r.length)return}else h=this.grid.isFixedColumn(t)?this.grid.fixedFootersTable():this.grid.footersTable(),r=h.find("tfoot tr:first-child td[ data-key="+t+" ] a>span");((t===null||t===undefined)&&(r=r.find("span"),t=r.data("columnKey")),u=this.grid._rootContainer().find("#"+this._id("summaries","methods_dialog",t)),e=n.ig.util.offset(r).top,l=n.ig.util.offset(r).left,f=this,o=u.is(":visible")===!0,u.length!==0&&u.data("isAnimating")!==!0)&&(e-=r.height()-2,r.is("span")===!0&&u.data("buttonId",r.parent().attr("id")),o||(s=n.ig.util.getRelativeOffset(u),u.css({top:e-u.height()-s.top,left:l-s.left})),f._activeDialog!==null&&f._activeDialog!==undefined&&u!==f._activeDialog&&t!==f._activeDialog.data("columnKey")&&f.showHideDialog(f._activeDialog),f._currentOpenedColumnKey=o===!0?null:t,f.showHideDialog(u))},showHideDialog:function(n){if(n!==null&&n!==undefined){var t=this,u=this.events,i=this.grid._rootContainer().find("#"+n.data("buttonId")),r=n.data("columnKey"),f=t.options.dropDownDialogAnimationDuration;if(n.data("isAnimating")!==!0||t._activeDialog!==n){if(n.is(":visible")===!0){if(this._trigger(u.dropDownClosing,null,{columnKey:r,owner:this})===!1)return;i!==null&&i!==undefined&&i.closest("div").removeClass(t.css.footerButtonIconActive)}else{if(this._trigger(u.dropDownOpening,null,{columnKey:r,owner:this})===!1)return;n.css("min-width",t._getMinWidthOfDropDown(n)),i!==null&&i!==undefined&&(i.closest("div").removeClass(t.css.footerButtonIconHover),i.closest("div").addClass(t.css.footerButtonIconActive),this._rollbackCheckboxState(r))}f<=0&&(f=1),n.data("isAnimating",!0),n.toggle("slide",{duration:f,direction:"down"},function(){n.data("isAnimating",!1),n.is(":visible")===!0?(n.focus(),t.grid._focusedElement=n,t._activeDialog=n,t._trigger(u.dropDownOpened,null,{columnKey:r,owner:this})):(t._trigger(u.dropDownClosed,null,{columnKey:r,owner:this}),t.grid._focusedElement=null,t.options.type==="remote"&&t.options.calculateRenderMode==="onselect"&&t.isToCalculateInRemoteMode===!0&&(t.isToCalculateInRemoteMode=!1,t._setDataSourceColumnSettingsOptions(),t.grid.dataSource.dataBind()),t._activeDialog!==null&&t._activeDialog!==undefined&&t._activeDialog.data("columnKey")===r&&(t._activeDialog=null))})}}},_getMinWidthOfDropDown:function(n){if(n.length){var i=n.attr("style"),t;return n.css({position:"absolute",display:"block",left:0,top:0,visibility:"hidden","min-width":""}),t=n[0].getBoundingClientRect().width,n.attr("style",i),Math.ceil(t)}},_closeDropDown:function(){var n=this._activeDialog;this.showHideDialog(n)},_setDataSourceColumnSettingsOptions:function(){var t=this.options;this.grid.dataSource.settings.summaries.columnSettings=this.newColumnSettings,this.grid.dataSource.settings.summaries.type=t.type,this.grid.dataSource.settings.summaries.summaryExecution=t.summaryExecution,this.grid.dataSource.settings.summaries.summaryExprUrlKey=t.summaryExprUrlKey,this.grid.dataSource.settings.summaries.summariesResponseKey=t.summariesResponseKey,this.grid.dataSource.type&&this.grid.dataSource.type()==="remoteUrl"&&this.grid._dataOptions&&n.type(this.grid._dataOptions.dataSource)==="string"&&(this.grid.dataSource.settings.dataSource=this.grid._dataOptions.dataSource)},_getColumnSettingByKey:function(n){var t,i=this.columnSettings.length;if(n===null||n===undefined)return null;for(t=0;t<i;t++)if(this.columnSettings[t].columnKey===n)return this.columnSettings[t];return null},_renderHeaderCellButton:function(t,i){var r,o=this,f=o.css,s=this._id("summaries","header_column_icon",i),u,e;r=t.find(".ui-iggrid-indicatorcontainer"),this.grid._enableHeaderCellFeature(t),r.length===0&&(r=n("<div><\/div>").appendTo(t),r.addClass("ui-iggrid-indicatorcontainer")),this.grid._rootContainer().find("#"+s).remove(),u=n("<a><\/a>").attr({href:"#",id:s,tabindex:this.grid.options.tabIndex,title:this._getLocaleValue("summariesHeaderButtonTooltip"),"data-localeid":"summariesHeaderButtonTooltip","data-localeattr":"title"}),e=r.find(".ui-iggrid-summaries-headerbuttoncontainer"),e.length===0&&(e=n("<div><\/div>").addClass(f.headerButtonContainer).appendTo(r)),u.appendTo(e),n("<span><\/span>").addClass(f.headerButtonIcon).appendTo(u),n.ig.util.isIE7===!0&&u.parent().addClass(this.css.baseClassIE7),u.hover(function(){n(this).parent().addClass(f.headerButtonIconHover)},function(){n(this).parent().removeClass(f.headerButtonIconHover)}),u.bind({click:function(n){n.preventDefault(),n.stopPropagation(),o._internalToggleSummariesRow(null,n)}})},_togglefromfc:function(n,t,i){this._internalToggleSummariesRow(i,n)},_internalToggleSummariesRow:function(n,t){((n===null||n===undefined)&&(n=!this._isRenderedSummariesRows),this._trigger(this.events.summariesToggling,t,{isToShow:n,owner:this})!==!1)&&(this.toggleSummariesRows(n,!0),this._trigger(this.events.summariesToggled,t,{isShown:n,owner:this}))},toggleSummariesRows:function(t,i){var e,o,h,u,f,s,r=this.grid;if(t===!0){if(f=this.grid._rootContainer().find("#"+r.id()+"_horizontalScrollContainer"),f.length>0&&(r.options.columnVirtualization||r._isColumnVirtualizationEnabled())&&(s=f.scrollLeft(),f.scrollLeft(0)),this.calculateSummaries(),s&&setTimeout(function(){f.scrollLeft(s)},0),r._synchronizeHScroll(),this._isSummariesRowsHidden=!1,this._summariesRows.length===0)for(o=this.newColumnSettings,h=o.length,this._insertSummariesRows(this.defaultSummaryMethods[0].type,this.defaultSummaryMethods[0].order),u=0;u<h;u++)this._isVisibleColumn(o[u].columnKey)&&this._renderFooterIconMarkup(this.defaultSummaryMethods[0].type,o[u].columnKey)}else this._removeFooterRows(),this._isSummariesRowsHidden=!0;this._isFixedFooters()&&r._fixedfooters().data("ignoreScroll",!t),this._adjustHeights(),(i===undefined||i===!1)&&(e=r.element.data("igGridFeatureChooser"),e!==null&&e!==undefined&&e._toggleSelectedItems("Summaries",!t)),r.hasFixedColumns()&&(n.ig.util.isIE&&n.ig.util.browserVersion>=9&&r.element.data("igGridColumnFixing")._syncTableHeights(),this._syncFixedUnfixedRowHeights())},_renderDropDown:function(t){var f,y,u,e,p,w,b,s,nt,c,tt=this._id("summaries","methods_dialog",t),l,k=this._getColumnSettingByKey(t),o=this.css,a,r,i=this,it=this.options,d=!1,g,rt,ut,v,ft,et,ot,st,ht,h,ct;if(k!==null&&k!==undefined&&(r=k.summaryOperands,r!==null&&r!==undefined)){for(this.grid._rootContainer().find("#"+tt).remove(),f=n("<div><\/div>").appendTo(this.grid._rootContainer()).attr("id",tt).css("position","absolute").css("width",this.options.dropDownWidth).css("height",this.options.dropDownHeight).addClass(this.css.columnSummariesDropdown).attr("tabindex",this.grid.options.tabIndex).hide(),f.data("methods",r),y=n("<ul><\/ul>").addClass(o.dropDownListContainer),y.appendTo(f),l=r.length,u=0;u<l;u++){for(s=u,e=u;e<l;e++)(r[e].order===null||r[e].order===undefined)&&(r[e].order=0),r[s].order>r[e].order&&(s=e);s!==u&&(nt=r[s],r[s]=r[u],r[u]=nt)}for(v=function(n,r){i.toggleCheckstate(n),i._trigger(i.events.summariesMethodSelectionChanged,r,{columnKey:t,isSelected:n.attr("data-chk").toLowerCase()==="on",methodName:n.data("methodName"),owner:this}),it.calculateRenderMode==="onselect"&&(i._calculateSelectedSummaries(t),i.grid.hasFixedColumns()&&i._syncFixedUnfixedRowHeights())},ct=function(t){v(n(t.currentTarget),t),i._activeDialog&&(i._activeDialog.data("focussed",!0),i._activeDialog.focus()),t.preventDefault(),t.stopPropagation()},ot=function(n){i._activeDialog&&(i._activeDialog.data("focussed",!0),i._activeDialog.focus()),n.preventDefault(),n.stopPropagation()},st=function(t){n(t.currentTarget).addClass(o.checkboxHovered)},ht=function(t){n(t.currentTarget).removeClass(o.checkboxHovered)},f.bind({blur:function(){f.data("focussed",!1),setTimeout(function(){i._checkCloseDropDown(f)},10)},focus:function(){f.data("focussed",!0)},keydown:function(r){(r.keyCode===n.ui.keyCode.ESCAPE||r.keyCode===n.ui.keyCode.SPACE||r.keyCode===n.ui.keyCode.ENTER)&&(r.stopPropagation(),r.preventDefault(),i.toggleDropDown(null,r),i._summariesRows.length>0&&i.grid.container().find("#"+i._id("summaries","footer_row_button_dd",i._summariesRows[0].type,t)).focus())}}),rt=function(){i._activeDialog&&i._activeDialog.data("focussed",!0)},ft=function(){i._activeDialog&&i._activeDialog.data("focussed",!1),setTimeout(n.proxy(i._checkCloseDropDown,i),300)},et=function(t){var u=n(this),r=t.keyCode;r===n.ui.keyCode.ENTER||r===n.ui.keyCode.SPACE?(v(i.grid.container().find("#"+u.data("checkboxId")),t),t.stopPropagation(),t.preventDefault()):r===n.ui.keyCode.ESCAPE&&f.blur()},ut=function(t){v(i.grid.container().find("#"+n(this).data("checkboxId")),t)},u=0;u<l;u++)a=this._id("summaries_footer_checkbox",r[u].type.toLowerCase(),t),r[u].active===!0||r[u].active===1?(d="on",g=o.checkboxOn):(d="off",g=o.checkboxOff),c=n("<li><\/li>").data("checkboxId",a).addClass(o.dropDownListItem).appendTo(y).attr("tabindex",this.grid.options.tabIndex),c.bind({focus:rt,blur:ft,keydown:et,mousedown:ut}),n("<span id='"+a+"' class='"+o.checkbox+"'><\/span>").appendTo(c),n("<label><\/label>").html(r[u].rowDisplayLabel).appendTo(c),h=this.grid._rootContainer().find("#"+a),n("<span class='"+g+"'><\/span>").appendTo(h),h.attr("data-chk",d).attr("data-role","checkbox"),h.data("methodName",r[u].type),h.bind({click:ct,mouseover:st,mouseout:ht,mousedown:ot});b=n("<div><\/div>").addClass(this.css.footerDropdownButtonsContainer).appendTo(f),it.calculateRenderMode==="okcancelbuttons"&&(p=n("<a href='http://localhost/'><\/a>"),p.attr({id:this._id("summaries","dialog_button_ok",t),tabindex:this.grid.options.tabIndex}).appendTo(b),p.igButton({link:{href:"#",title:""},labelText:this._getLocaleValue("dialogButtonOKText"),keydown:function(r){(r.keyCode===n.ui.keyCode.ENTER||r.keyCode===n.ui.keyCode.SPACE)&&i._clickOKButton(t),r.keyCode!==n.ui.keyCode.TAB&&(r.stopPropagation(),r.preventDefault())},click:function(n){i._clickOKButton(t),n.preventDefault(),n.stopPropagation()},mousedown:function(n){n.preventDefault(),n.stopPropagation()},focus:function(){i._activeDialog&&i._activeDialog.data("focussed",!0)},blur:function(){i._activeDialog&&i._activeDialog.data("focussed",!1),setTimeout(n.proxy(i._checkCloseDropDown,i),300)}}),w=n("<a><\/a>"),w.attr({id:this._id("summaries","dialog_button_cancel",t),tabindex:this.grid.options.tabIndex}).appendTo(b),w.igButton({link:{href:"#",title:""},labelText:this._getLocaleValue("dialogButtonCancelText"),click:function(n){i._clickCancelButton(t),n.preventDefault(),n.stopPropagation()},mousedown:function(n){n.preventDefault(),n.stopPropagation()},focus:function(){i._activeDialog&&i._activeDialog.data("focussed",!0)},blur:function(){i._activeDialog&&i._activeDialog.data("focussed",!1),setTimeout(n.proxy(i._checkCloseDropDown,i),300)}})),f.data("columnKey",t)}},_checkCloseDropDown:function(t){if(this._activeDialog!==null){if(this._activeDialog.data("focussed")===!1){setTimeout(n.proxy(this._closeDropDown,this),10);return}t&&t.is(":visible")&&t.attr("id")!==this._activeDialog.attr("id")&&this.showHideDialog(t)}},toggleCheckstate:function(n){var t;t=!0,t&&(n.attr("data-chk")==="on"?this.selectCheckBox(n,!1):this.selectCheckBox(n,!0))},selectCheckBox:function(n,t){var i=this.css,r=n.children("span");t===!0?(r.removeClass(i.checkboxOff).addClass(i.checkboxOn),n.attr("data-chk","on")):(r.removeClass(i.checkboxOn).addClass(i.checkboxOff),n.attr("data-chk","off"))},_clickOKButton:function(n){var t,i,r,f,h=this.columnSettings.length,u,o,s=[],e;if(n!==null&&n!==undefined){for(i=0;i<h;i++)if(this.columnSettings[i].columnKey===n){r=this.columnSettings[i];break}if(r!==null&&r!==undefined){for(u=r.summaryOperands,o=u.length,t=0;t<o;t++)f=this.grid._rootContainer().find("#"+this._id("summaries_footer_checkbox",u[t].type.toLowerCase(),n)),e={type:u[t].type.toLowerCase(),active:!1},f.attr("data-chk")!==undefined&&f.attr("data-chk").toLowerCase()==="on"&&(e.active=!0),s.push(e);this._trigger(this.events.dropDownOKClicked,null,{columnKey:n,eventData:s,owner:this}),this.showHideDialog(this.grid._rootContainer().find("#"+this._id("summaries","methods_dialog",n))),this._calculateSelectedSummaries(n),this.grid.hasFixedColumns()&&this._syncFixedUnfixedRowHeights()}}},_clickCancelButton:function(n){this._trigger(this.events.dropDownCancelClicked,null,{columnKey:n,owner:this}),this.showHideDialog(this.grid._rootContainer().find("#"+this._id("summaries","methods_dialog",n)))},_rollbackCheckboxState:function(n){var f,t,i,r,e,o,s=this.columnSettings.length,u;if(n!==undefined&&n!==null){for(i=0;i<s;i++)if(this.columnSettings[i].columnKey===n){f=this.columnSettings[i];break}if(f!==null&&f!==undefined)for(r=f.summaryOperands,o=r.length,t=0;t<o;t++)u=this.grid._rootContainer().find("#"+this._id("summaries_footer_checkbox",r[t].type.toLowerCase(),n)),u.attr("data-chk")!==undefined&&(e=u.attr("data-chk").toLowerCase()==="on",r[t].active!==e&&(r[t].active===!0?this.selectCheckBox(u,!0):this.selectCheckBox(u,!1)))}},_initCompactModeSummariesRows:function(){for(var r,c,t=this.newColumnSettings,a=t.length,u=t[0],e,l,o,s,f=-1,h,i,n=0;n<a;n++)if(this._isVisibleColumn(t[n].columnKey)&&(i=0,t[n].summaryOperands!==null&&t[n].summaryOperands!==undefined)){for(r=0;r<t[n].summaryOperands.length;r++)t[n].summaryOperands[r].active===!0&&i++;i=Math.max(i,1),i>f&&(f=i,u=t[n])}if(u!==undefined&&u!==null&&(e=u.summaryOperands,l=e.length,h=this._summariesRows.length,!(h>f))&&(o=f-h,o!==0))for(c=0,n=0;n<l;n++)if(s=e[n].type.toLowerCase(),this.grid._rootContainer().find("#"+this._id("summaries","footer_row",s)).length===0&&(this._insertSummariesRows(s,null),++c===o))break},_calculateInternalSummaries:function(){var r=this.newColumnSettings,o=r.length,t,u=this.options,i,f,e=this.events;if(this._trigger(e.summariesCalculating,null,{owner:this})!==!1){for(i=this._dataSummaries(),u.callee!==null&&u.callee!==undefined&&n.type(u.callee)==="function"&&(i=u.callee(i)),(i===null||i===undefined)&&(i=[]),(u.compactRenderingMode===!0||u.compactRenderingMode==="auto"&&this._analyzeAutoCompactRenderingMode()===!0)&&this._initCompactModeSummariesRows(),t=0;t<o;t++)this._isVisibleColumn(r[t].columnKey)&&(f=this.calculateSummaryColumn(r[t].columnKey,r[t].summaryOperands,i,r[t].dataType),this._renderFooterColumnInfo(r[t].columnKey,f));this._isRenderedSummariesRows=!0,this._trigger(e.summariesCalculated,null,{data:i,owner:this})}},_isVisibleColumn:function(t){var r=this.grid._visibleColumns(),i=!1;return n.each(r,function(n,r){if(r.key===t)return i=!0,!1}),i},calculateSummaryColumn:function(t,i,r,u){var f,e,c,g=this.options,b,s=[],h=0,p=[],o,k,d,y,l,a,w,v;if(t===null||t===undefined)throw new Error(this._getLocaleValue("calculateSummaryColumnKeyNotSpecified"));if(i!==undefined&&i!==null){if(b=i.length,g.type==="local"){if(h=r.length,a=u==="date",w=u==="time",a===!0||w===!0)for(f=0;f<h;f++)r[f][t]!==null&&r[f][t]!==undefined&&(r[f][t].getTime?(v=this.grid.dataSource.getCellValue(t,r[f]),s.push(a?v.getTime():n.ig.Date.prototype.resetDateToCurrentDate(v).getTime())):s.push(this.grid.dataSource.getCellValue(t,r[f])));else for(f=0;f<h;f++)r[f][t]===undefined&&(r[f][t]=null),s.push(this.grid.dataSource.getCellValue(t,r[f]));for(f=0;f<b;f++)y=i[f].type.toLowerCase(),y.startsWith("custom")&&(y="custom"),(i[f].active===!0||i[f].active===1)&&(o=i[f].order,o===undefined&&(o=null),k=y==="count"?h:n.ig.calcSummaries(y,s,i[f].summaryCalculator,u),d={type:i[f].type,result:k,rowDisplayLabel:i[f].rowDisplayLabel,order:o,format:i[f].format,dataType:u},p.push(d),this._addDataResult(t,d))}else if(g.type==="remote"){if(r[t]!==undefined&&r[t]!==null)for(f=0;f<b;f++)if(c=r[t][i[f].type],i[f].active===!0||i[f].active===1){if(o=i[f].order,o===undefined&&(o=null),c===null||c===undefined)if(i[f].summaryCalculator!==undefined){if(l=this.grid.dataSource._data,h=l.length,a=u==="date",w=u==="time",a===!0||w===!0)for(e=0;e<h;e++)l[e][t]!==null&&l[e][t]!==undefined&&(v=this.grid.dataSource.getCellValue(t,l[e]),s.push(a?v.getTime():n.ig.Date.prototype.resetDateToCurrentDate(v).getTime()));else for(e=0;e<h;e++)s.push(this.grid.dataSource.getCellValue(t,l[e]));c=n.ig.calcSummaries(i[f].type.toLowerCase(),s,i[f].summaryCalculator,u)}else c="";p.push({type:i[f].type,result:c,rowDisplayLabel:i[f].rowDisplayLabel,order:o,format:i[f].format,dataType:u})}this._data[t]=p}return p}},summaryCollection:function(){return this._data},summariesFor:function(n){return this._data[n]},_addDataResult:function(n,t){var r=this._data[n],i,u;if(r===null||r===undefined){this._data[n]=[],this._data[n].push(t);return}for(u=r.length,i=0;i<u;i++)if(r[i].type.toLowerCase()===t.type.toLowerCase()){r[i]=t;break}i===u&&this._data[n].push(t)},_removeDataResult:function(t,i){var r=this._data[t];r!==undefined&&r!==null&&(r=n.grep(r,function(n){return n.type.toLowerCase()!==i.toLowerCase()}),this._data[t]=r)},_getDataByKeyMethodName:function(n,t){var i,r=this._data[n],u,f=null;if(t=t.toLowerCase(),r===undefined||r===null)return null;for(u=r.length,i=0;i<u;i++)if(r[i].type.toLowerCase()===t)return r[i];return f},_updateDataLabels:function(n){for(var r=this._data[n],f=r.length,u=this.defaultSummaryMethods,e=u.length,t,i=0;i<f;i++)for(t=0;t<e;t++)u[t].type===r[i].type&&(r[i].rowDisplayLabel=u[t].rowDisplayLabel)},_updateColumnSettings:function(n){for(var r=this._getColumnSettingByKey(n),u=this.defaultSummaryMethods,f=u.length,t,i=0;i<r.summaryOperands.length;i++)for(t=0;t<f;t++)u[t].type===r.summaryOperands[i].type&&(r.summaryOperands[i].rowDisplayLabel=u[t].rowDisplayLabel)},_renderFooterColumnInfo:function(n,t){if(t!==null&&t!==undefined){var i,r,e,s,h,o,c=this.options.compactRenderingMode,u=t.length,f,l;if(c===!0||this.options.compactRenderingMode==="auto"&&this._analyzeAutoCompactRenderingMode()===!0){if(u>1)for(i=0;i<u;i++)for(f=i,r=i+1;r<u;r++)t[r].order<t[f].order&&(l=t[r],t[r]=t[f],t[f]=l,f=r);for(i=0;i<u;i++)this._summariesRows[i]!==undefined&&this._summariesRows[i]!==null&&t[i]!==undefined&&t[i]!==null&&this._renderCellHandler(this._summariesRows[i].type,n,t[i])}else if(c===!1||this.options.compactRenderingMode==="auto"&&this._analyzeAutoCompactRenderingMode()===!1)for(i=0;i<u;i++)e=t[i].type.toLowerCase(),s=this._id("summaries","footer_row",e),h=this.grid._rootContainer().find("#"+s),h.length===0&&(o=t[i].order,o===undefined&&(o=null),this._addDataResult(n,t[0]),this._insertSummariesRows(e,o)),this._renderCellHandler(e,n,t[i])}},_renderCell:function(t,i,r){var c=this.options.resultTemplate,f,u=r.result,o,l,a,v,s=r.type,w=r.rowDisplayLabel,y=r.format,e=r.dataType,p=this._isNumber(u),h=!0;p&&e==="bool"&&(h=!1),(e==="date"||e==="time")&&p&&(s==="min"||s==="max")&&(u=new Date(parseInt(u,10))),y===undefined&&h?(f=this._getGridColumnFor(i),f!==null&&(a=f.format,l=f.dataType,v=f.formatted,s==="count"&&(f.format="0",f.dataType="number"),u=this.grid._renderCell(u,f),f.format=a,f.dataType=l,f.formatted=v)):h&&(u=n.ig.formatter(u,e,y)),(u===null||u===undefined)&&(u=""),o=c?c.replace("{0}",w).replace("{1}",u):u,this.grid._rootContainer().find("#"+this._id("summaries","footer_row_text_container",t,i)).html(o)},_getGridColumnFor:function(n){for(var i=this.grid.options.columns?this.grid.options.columns.length:0,t=0;t<i;t++)if(this.grid.options.columns[t].key===n)return this.grid.options.columns[t];return null},_isNumber:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},_columnsCollectionModified:function(n,t){t.owner.element.attr("id")===this.grid.element.attr("id")&&this._isSummariesRowsHidden!==!0&&(this._clearAllRows(),this.calculateSummaries())},_insertSummariesRows:function(t,i){t=t.toLowerCase();var w,e,u,b,o=this.grid.hasFixedColumns(),y=this.css,h=this.grid,c=h._visibleColumns(),k=c.length,r=this._tfoot,a,p,f=h._footer,d,s,g=this._id("summaries","footer_row",t),l=n("<tr><\/tr>").attr("id",g).attr("data-role","summaryrow"),v={id:g,type:t,order:i},nt=function(){n(this).addClass(y.footerRowCellHover)},tt=function(){n(this).removeClass(y.footerRowCellHover)};if(o===!0&&(d=this._id("summaries","footer_row",t,"fixed"),s=n("<tr><\/tr>").attr("id",d).attr("data-role","summaryrow"),p=this.grid.fixedFootersTable().find("tfoot")),r===null||r===undefined){if((f===undefined||f===null||f.length===0)&&(h._renderFooter(),f=h._footer),f===undefined||f===null||f.length===0)return;f.css("display",""),r=this._isVirtualization()===!0?this.grid.footersTable().find("tfoot"):this._isFixedFooters()===!0?f.find("tfoot"):f,this._tfoot=r}if(r.attr("id")!==""&&r.attr("id")!==null&&r.attr("id")!==undefined&&(r=this.grid._rootContainer().find("#"+r.attr("id"))),i===null)v.order=this._summariesRows.length,this._summariesRows.push(v),l.appendTo(r),o&&s.appendTo(p);else if(w=this._summariesRows.length,w===0)this._summariesRows.push(v),l.appendTo(r),o&&s.appendTo(p);else if(this.options.compactRenderingMode===!0||this.options.compactRenderingMode==="auto"&&this._analyzeAutoCompactRenderingMode()===!0)l.appendTo(r),o&&s.appendTo(p),this._summariesRows.push(v);else if(this.options.compactRenderingMode===!1||this.options.compactRenderingMode==="auto"&&this._analyzeAutoCompactRenderingMode()===!1){for(e=0;e<w;e++)if((b=this._summariesRows[e].order,b!==undefined&&b!==null)&&i<=b){l.insertBefore(this.grid._rootContainer().find("#"+this._id("summaries","footer_row",this._summariesRows[e].type))),o&&s.insertBefore(this.grid._rootContainer().find("#"+this._id("summaries","footer_row",this._summariesRows[e].type,"fixed"))),this._summariesRows.splice(e,0,v);break}e===w&&(this._summariesRows.push(v),l.appendTo(r),o&&s.appendTo(p))}for(this._isVirtualization()&&this.grid.options.virtualizationMode==="fixed"&&!o&&(k=this.grid._virtualColumnCount),u=0;u<k;u++)a=n("<td><\/td>").attr("tabIndex",this.grid.options.tabIndex).attr("aria-describedby",this.grid.id()+"_"+c[u].key).addClass(y.footerRowCell).attr("data-key",c[u].key),c[u].fixed===!0?(a.appendTo(s),this.grid._rootContainer().find("#"+d+" td.ui-state-default").hover(nt,tt)):(a.appendTo(l),this.grid._rootContainer().find("#"+g+" td.ui-state-default").hover(nt,tt)),u===k-1&&h.options.height&&parseInt(h.options.height,10)>0?a.css("width",parseInt(c[u].width,10)+h._scrollbarWidth()):a.css("width",c[u].width),this._renderInnerCellMarkup(a,t,c[u].key);o&&this.grid.hasFixedDataSkippedColumns()&&this.grid.fixingDirection()==="left"?this.grid._footerInit(s,null,!0,y.footerRowCell):this.grid._footerInit(l,null,!0,y.footerRowCell)},_renderInnerCellMarkup:function(t,i,r){var u,f;u=n("<div><\/div>").attr("id",this._id("summaries","footer_row_text_container",i,r)).addClass(this.css.footerRowTextContainer).appendTo(t).attr("data-localeid","emptyCellText").html(this._getLocaleValue("emptyCellText")),f=n("<div><\/div>").attr("id",this._id("summaries","footer_row_icon_container",i,r)).addClass(this.css.footerRowIconContainer).insertBefore(u),n.ig.util.isIE7===!0&&f.addClass(this.css.baseClassIE7),this.options.showDropDownButton===!1&&(f.addClass(this.css.footerRowIconContainerEmpty),u.addClass(this.css.footerRowTextContainerEmpty))},_virtualHorizontalScroll:function(t,i){if(this._isRenderedSummariesRows!==!1){var s=i.startColIndex,c=i.endColIndex,r,f,l,h,a,o=this._summariesRows,y=o.length,v,u,e=this.grid._visibleColumns(),p=this;for(c=s+this.grid._virtualColumnCount,y>0&&(h=o[0],n.each(h,function(t,i){p.grid._rootContainer().find("#"+p._id("summaries","methods_dialog",n(i).attr("data-key"))).remove()})),r=0;r<y;r++)for(l=this.grid._rootContainer().find("#"+o[r].id),h=l.children(),h.html(""),f=s;f<=c;f++)(a=l.find("td:nth-child("+(f-s+1)+")"),a.html(""),e[f]!==null&&e[f]!==undefined)&&this._renderInnerCellMarkup(a,o[r].type,e[f].key);for(r=s;r<c;r++)if(e[r]!==null&&e[r]!==undefined){if(u=e[r].key,v=this._getColumnSettingByKey(u),u===undefined||u===null)continue;if(this._renderFooterIconMarkup(o[0].type,u),this._renderDropDown(u),v===null||v===undefined)continue;this._renderFooterColumnInfo(u,this._data[u])}this.grid.hasFixedColumns()&&this._syncFixedUnfixedRowHeights()}},_isFixedFooters:function(){return this.grid.options.fixedFooters===!0&&this.grid.options.height!==null},_isVirtualization:function(){var n=this.grid.options;return n.virtualization===!0||n.rowVirtualization===!0&&n.height!==null||n.columnVirtualization===!0&&n.width!==null},_id:function(){var n,t=this.grid.element[0].id,i=arguments.length;if(i===0)return null;for(n=0;n<i;n++)t+="_"+arguments[n];return t},_getColumnFixingInstance:function(){return this.grid.element.data("igGridColumnFixing")},_isAllowedMethodName:function(n){for(var t,r=!1,u=this.defaultSummaryMethods.length,i=0;i<u;i++)if(t=this.defaultSummaryMethods[i].type,t===n||t===n.substr(0,t.length)){r=!0;break}return r},_footerInit:function(t,i){if(i.owner.element.attr("id")===this.grid.element.attr("id")){var r,u;for(r=this.grid.footersTable().find("[ data-role=summaryrow ]"),r.find("[ data-skip=true ]").remove(),u=0;u<r.length;u++)this.grid._footerInit(n(r[u]),null,!0,this.css.footerRowCell)}},_dataSummaries:function(){var n=this.grid.dataSource;return n.dataSummaries()},_injectGrid:function(t){if(this.grid=t,this.options.type===null&&(this.options.type=this.grid._inferOpType()),this._detachEvents(),this._headerRenderedHandler=n.proxy(this._headerRendered,this),this._footerRenderedHandler=n.proxy(this._footerRendered,this),this._headerCellRenderedHandler=n.proxy(this._headerCellRendered,this),this._headerFooterInitHandler=n.proxy(this._footerInit,this),this._columnsCollectionModifiedHandler=n.proxy(this._columnsCollectionModified,this),this.grid.element.bind("iggridheaderrendered",this._headerRenderedHandler),this.grid.element.bind("iggridfooterrendered",this._footerRenderedHandler),this.grid.element.bind("iggridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.bind("iggridheaderextracellsmodified",this._headerFooterInitHandler),this.grid.element.bind("iggridcolumnscollectionmodified",this._columnsCollectionModifiedHandler),this._virtualHorizontalScrollHandler=n.proxy(this._virtualHorizontalScroll,this),this.grid.element.bind("iggridvirtualhorizontalscroll",this._virtualHorizontalScrollHandler),this._initColumnSettings(),this._setDataSourceColumnSettingsOptions(),this.grid.element.igGridFeatureChooser!==undefined)this.grid.element.igGridFeatureChooser();else throw new Error(this._getLocaleValue("featureChooserNotReferenced"));}}),n.extend(n.ui.igGridSummaries,{version:"19.2.25"})}(n),function(n){"use strict";n.widget("ui.igGridTooltips",{options:{visibility:"overflow",style:"tooltip",showDelay:500,hideDelay:300,columnSettings:[{columnKey:null,columnIndex:-1,allowTooltips:!0,maxWidth:null}],fadeTimespan:150,cursorLeftOffset:10,cursorTopOffset:15,inherit:!1},css:{tooltip:"ui-iggrid-tooltip",tooltipContent:"ui-iggrid-tooltip-content"},events:{tooltipShowing:"tooltipShowing",tooltipShown:"tooltipShown",tooltipHiding:"tooltipHiding",tooltipHidden:"tooltipHidden"},_createWidget:function(){this.visible=!1,this._canFadeIn=!0,this._canFadeOut=!0,n.Widget.prototype._createWidget.apply(this,arguments)},destroy:function(){return this.grid.element.unbind(".tooltip"),this.tooltip&&this._registered&&(this.tooltip.data("users")===1?this.tooltip.remove():(this.tooltip.data("users",this.tooltip.data("users")-1),this.tooltip.children("[id$='_content']").unbind("pointerenter."+this.grid.id()).unbind("MSPointerEnter."+this.grid.id()).unbind("pointerleave."+this.grid.id()).unbind("MSPointerLeave."+this.grid.id()).unbind("mouseenter."+this.grid.id()).unbind("mouseleave."+this.grid.id()))),this.ruler&&this._registered&&(this.ruler.data("users")===1?this.ruler.remove():this.ruler.data("users",this.ruler.data("users")-1)),this._registered=!1,this._superApply(arguments),this},id:function(){return this.tooltip[0].id},_injectGrid:function(n,t){t!==!0&&(this.grid=n,this._createHandlers(),this._unregisterGridEvents(),this._registerGridEvents())},_createTooltip:function(){var i=this.grid._rootContainer().children("[id$='_tooltips']"),t,r=n.ig.util.isTouch;i.length>0?(this.tooltip=i,this.tooltip.data("users",this.tooltip.data("users")+1)):(this.options.style==="tooltip"?(this.tooltip=n("<div><\/div>").attr("id",this.grid.id()+"_tooltips").attr("role","tooltip").addClass("ui-tooltip").addClass("ui-widget").addClass("ui-corner-all").addClass("ui-widget-content").addClass(this.css.tooltip).css({position:"absolute",display:"none","white-space":"normal","word-wrap":"break-word"}),n("<div><\/div>").attr("id",this.id()+"_content").addClass("ui-tooltip-content").addClass(this.css.tooltipContent).appendTo(this.tooltip)):this.options.style==="popover"&&(this.tooltip=n("<div><div>").attr("id",this.grid.id()+"_tooltips").igPopover({animationDuration:this.options.fadeTimespan,maxHeight:"auto",headerTemplate:{closeButton:r}})),this.tooltip.data("users",1)),this.options.style==="tooltip"&&(t=this.tooltip.children("[id$='_content']"),window.navigator.msPointerEnabled||window.navigator.pointerEnabled?t.bind("MSPointerEnter."+this.grid.id(),n.proxy(this._tooltipMouseEnter,this)).bind("pointerenter."+this.grid.id(),n.proxy(this._tooltipMouseEnter,this)).bind("MSPointerLeave."+this.grid.id(),n.proxy(this._tooltipMouseLeave,this)).bind("pointerleave."+this.grid.id(),n.proxy(this._tooltipMouseLeave,this)):t.bind("mouseenter."+this.grid.id(),n.proxy(this._tooltipMouseEnter,this)).bind("mouseleave."+this.grid.id(),n.proxy(this._tooltipMouseLeave,this))),this.tooltip.appendTo(this.grid._rootContainer())},_createRuler:function(){var t=this.grid._rootContainer().children("[id$='_ruler']");t.length>0?(this.ruler=t,this.ruler.data("users",this.ruler.data("users")+1)):(this.ruler=n("<div><\/div>").attr("id",this.id()+"_ruler").css({visibility:"hidden",position:"absolute"}).prependTo(this.grid._rootContainer()),this.ruler.data("users",1))},_displayOverflow:function(n){var t=this.ruler,r,i=n[0];return t.text(n.text()),t.css({"font-family":n.css("font-family"),"font-size":n.css("font-size"),"font-size-adjust":n.css("font-size-adjust"),"font-stretch":n.css("font-stretch"),"font-style":n.css("font-style"),"font-variant":n.css("font-variant"),"font-weight":n.css("font-weight"),"border-left":n.css("border-left"),"border-right":n.css("border-right"),"padding-left":n.css("padding-left"),"padding-top":n.css("padding-top"),"padding-right":n.css("padding-right"),"padding-bottom":n.css("padding-bottom"),overflow:n.css("overflow"),"white-space":n.css("white-space"),"word-break":n.css("word-break")}),t.width(n.width()),r=t.height(),t.css({overflow:"visible","white-space":"normal","word-break":"break-all"}),i.offsetWidth<i.scrollWidth||i.scrollWidth>i.clientWidth||r<t.height()},_gridHeaderRendering:function(n,t){t.owner.id()===this.grid.id()&&(this._createTooltip(),this._createRuler(),this._registered=!0)},_dataRendered:function(t,i){var r,u;(i===undefined||n(i.owner.element).attr("id")===this.grid.id())&&(this.tooltip||(this._createTooltip(),this._createRuler(),this._registered=!0),r=this.grid.element.children("tbody"),this._registerMouseEvents(r),this.grid.hasFixedColumns()&&(u=this.grid.fixedTable().find("tbody"),this._registerMouseEvents(u)),this._$thead=this.grid.options.fixedHeaders===!0?this.grid.headersTable().find("thead"):this.grid.container().find("#"+this.grid.id()+" thead"))},_rowsRendered:function(t,i){var r;(i===undefined||n(i.owner.element).attr("id")===this.grid.id())&&(r=this.grid.element.children("tbody"),this._registerMouseEvents(r),this.grid.hasFixedColumns()&&(r=this.grid.fixedTable().find("tbody"),this._registerMouseEvents(r)))},_registerMouseEvents:function(n){var t;window.navigator.msPointerEnabled||window.navigator.pointerEnabled?(t={"MSPointerLeave.tooltip":this._gridMouseLeaveHandler,"pointerleave.tooltip":this._gridMouseLeaveHandler,"MSPointerMove.tooltip":this._gridMouseMoveHandler,"pointermove.tooltip":this._gridMouseMoveHandler},n.unbind(t).bind(t)):(t={"mouseleave.tooltip":this._gridMouseLeaveHandler,"mousemove.tooltip":this._gridMouseMoveHandler},n.unbind(t).bind(t))},_gridMouseLeave:function(){clearTimeout(this.timeoutShowing),clearTimeout(this.timeoutHiding),this.tooltip.css("display")!=="none"&&this._hideTooltip(!0),this._currentlyHovered=null},_gridMouseMove:function(t){var i=n(t.target).closest("td,th"),r,u=!0,f,o=this.grid.hasFixedColumns(),e=this.grid._isFixedElement(i);if((i.closest("table").attr("id")===this.grid.id()||e)&&(!o||!e||i.closest("table").attr("id")===this.grid.id()+"_fixed")&&(this.mouseX=t.pageX!==undefined?t.pageX:t.originalEvent.pageX,this.mouseY=t.pageY!==undefined?t.pageY:t.originalEvent.pageY,i[0]!==this._currentlyHovered&&i.length!==0)){if(r=this._getElementValue(i),r===undefined&&(u=!0),i[0]===this._currentlyDisplayed&&this.visible===!0){u=!1,clearTimeout(this.timeoutHiding);return}this._currentlyHovered=i[0],this._previouslyHoveredData=this._currentlyHoveredData,this._currentlyHoveredData=r,clearTimeout(this.timeoutShowing),f=this._shouldShowForTarget(i)&&r!==undefined&&r!==""&&n(t.target).attr("unselectable")===undefined,this.visible===!0&&u===!0&&this._hideTooltip(!f),f===!0&&(this._currentlyDisplayed=this._currentlyHovered,this._showTooltip())}},_tooltipMouseEnter:function(){this.timeoutHiding!==null&&this.timeoutHiding!==undefined&&clearTimeout(this.timeoutHiding)},_tooltipMouseLeave:function(){this._hideTooltip()},_getColumnFixingInstance:function(){return!this._columnFixing&&this.grid.element.data("igGridColumnFixing")&&(this._columnFixing=this.grid.element.data("igGridColumnFixing")),this._columnFixing},_getRowIndex:function(n,t){return n.closest("tbody").children("tr:not([data-container='true'])").index(t)},_getElementValue:function(t){var i,f,u,r,s,l=t.closest("tr"),e,a=this.grid.hasFixedColumns(),h=0,c,o,v=this.grid._startRowIndex||0;if((this.grid.options.virtualization||this.grid.options.columnVirtualization)&&(h=this.grid._startColIndex||0),a?(c=this._getColumnFixingInstance(),t.is("th")||t.attr("data-skip")?i=-1:(i=t.index(),e=c._getKeyByVisibleIndex(i,this.grid._isFixedElement(t)))):i=this._$thead.length>0?t.index()-this._$thead.children(":first").children("th[data-skip='true']").length+h:t.index()-t.parent().find("td[data-parent='true'],td[data-skip='true'],th").length+h,i<0)return f;for(e||(e=this.grid._visibleColumns()[i].key),this._pRowIdx=this._rowIdx,this._rowIdx=this._getRowIndex(t,l),(this.grid.options.virtualization||this.grid.options.rowVirtualization)&&(this._rowIdx+=v),u=this.grid.dataSource.pendingTransactions(),s=parseInt(t.parent().attr("data-id"),10),r=u.length-1;r>=0;r--)if(u[r].type!=="deleterow")if(u[r].type==="cell"){if(u[r].rowId===s&&u[r].col===e){o=n.extend(!0,{},this.grid.dataSource.findRecordByKey(u[r].rowId)),o[e]=u[r].value,f=this.grid.dataSource.getCellValue(e,o);break}}else if(u[r].rowId===s){f=this.grid.dataSource.getCellValue(e,u[r].row);break}return f===undefined&&this.grid._getDataView()[this._rowIdx]!==undefined&&(f=this.grid.dataSource.getCellValue(e,this.grid._getDataView()[this._rowIdx])),n.type(f)==="date"&&(f=n.ig.formatter(f,"date","dateTime",!0,i?i.dateDisplayType==="utc":!1,i&&o?this.grid._getOffsetForCol(o,i):0)),f},_shouldShowForTarget:function(n){var i=!0,t,u=this.grid.hasFixedColumns(),r;switch(this.options.visibility){case"never":i=!1;break;case"overflow":i=this._displayOverflow(n)}return i===!1?!1:(t=n.parent().children("td:not([data-parent],[data-skip='true'])").index(n),this._pColumnIdx=this._columnIdx,this._columnIdx=this.grid._isMultiColumnGrid?t:u&&n.closest("[data-fixed-container]").length===1?this.grid.fixedHeadersTable().find("thead th[id]").not("[data-skip='true']").eq(t).data("columnIndex"):this._$thead.find("th[id]").not("[data-skip='true']").eq(t).data("columnIndex"),(this._columnIdx===undefined||this._columnIdx===null)&&(this._columnIdx=t),this._columnIdx<0||this._columnIdx>=this.grid.options.columns.length)?!1:(this._pColumnKey=this._columnKey,u?(r=this.grid.getColumnByTD(n),r&&(this._columnKey=r.column.key)):this._columnKey=this.grid._isMultiColumnGrid?this.grid._visibleColumns()[t].key:this.grid.options.columns[this._columnIdx].key,i&&this._shouldShowForColumn())},_shouldShowForColumn:function(){for(var t=this.options.columnSettings,n=0;n<t.length;n++)if(t[n].columnKey===this._columnKey||t[n].columnIndex===this._columnIdx)return t[n].allowTooltips!==undefined?t[n].allowTooltips:!0;return!0},_hideTooltip:function(t){var i=this,r,u;r={owner:this,tooltip:t===!0?String(this._currentlyHoveredData):String(this._previouslyHoveredData),value:t===!0?this._currentlyHoveredData:this._previouslyHoveredData,element:this._currentlyDisplayed,columnKey:t===!0?this._columnKey:this._pColumnKey,index:t===!0?this._rowIdx:this._pRowIdx,columnIndex:t===!0?this._columnIdx:this._pColumnIdx},u=function(){var n=i._trigger(i.events.tooltipHiding,i,r);n===!0&&(i._hideTooltipNoDelay(),i._trigger(i.events.tooltipHidden,i,r))},n.ig.util.isTouch?u():(clearTimeout(this.timeoutHiding),this.timeoutHiding=setTimeout(u,this.options.hideDelay))},_showTooltip:function(){var t=this,i,r;i={owner:this,tooltip:String(this._currentlyHoveredData),value:this._currentlyHoveredData,element:this._currentlyDisplayed,columnKey:this._columnKey,index:this._rowIdx,columnIndex:this._columnIdx},r=function(){var n=t._trigger(t.events.tooltipShowing,t,i);n===!0&&(t._showTooltipNoDelay(i.tooltip),t._trigger(t.events.tooltipShown,t,i))},n.ig.util.isTouch?r():this.timeoutShowing=setTimeout(r,this.options.showDelay)},_hideTooltipNoDelay:function(){this.options.style==="tooltip"?this._canFadeOut===!0&&(this._canFadeOut=!1,this.tooltip.fadeOut(this.options.fadeTimespan,n.proxy(this._fadeOutEnd,this))):this.options.style==="popover"&&this.tooltip.igPopover("hide"),this.visible=!1},_showTooltipNoDelay:function(t){var i;this._currentlyDisplayed!==null&&(clearTimeout(this.timeoutHiding),i=n("#"+this.id()),this.options.style==="tooltip"?(this._updateTooltip(t),this._canFadeIn===!0&&(this._canFadeIn=!1,i.fadeIn(this.options.fadeTimespan,n.proxy(this._fadeInEnd,this)))):this.options.style==="popover"&&i.igPopover("show",n(this._currentlyDisplayed),t),this.visible=!0)},_fadeOutEnd:function(){this._canFadeOut=!0},_fadeInEnd:function(){this._canFadeIn=!0},_updateTooltip:function(n){var t=this.tooltip.children("[id$='_content']");t.text(n),t.parent().css("max-width",this._getMaxWidth(this._columnKey,this._columnIdx,this._currentlyDisplayed)),this._positionTooltip(t.parent())},_getMaxWidth:function(t,i,r){for(var f=this.options.columnSettings,u=0;u<f.length;u++)if(f[u].columnKey===t||f[u].columnIndex===i){if(f[u].maxWidth!==null&&f[u].maxWidth!==undefined)return f[u].maxWidth;break}return n(r).width()},_positionTooltip:function(t){var i=n(window),u,f,r,e=t.outerWidth(),o=t.outerHeight();r=n.ig.util.getRelativeOffset(t),u=this.mouseX-r.left+this.options.cursorLeftOffset,f=this.mouseY-r.top+this.options.cursorTopOffset,u+e+r.left>i.width()+i.scrollLeft()&&(u=i.width()-r.left-e+i.scrollLeft()),f+o+r.top>i.height()+i.scrollTop()&&(f=i.height()-r.top-o+i.scrollTop()),t.css({top:f,left:u})},_fixedColumnsChanged:function(n){var t;n.isToFix&&n.isInit&&(t=this.grid.fixedTable().find("tbody"),this._registerMouseEvents(t))},_createHandlers:function(){this._rowsRenderedHandler=n.proxy(this._rowsRendered,this),this._gridMouseLeaveHandler=n.proxy(this._gridMouseLeave,this),this._gridMouseMoveHandler=n.proxy(this._gridMouseMove,this),this._gridHeaderRenderingHandler=n.proxy(this._gridHeaderRendering,this)},_registerGridEvents:function(){this.grid.element.bind("iggridrowsrendered.tooltip",this._rowsRenderedHandler),this.grid.element.bind("iggridheaderrendering.tooltip",this._gridHeaderRenderingHandler)},_unregisterGridEvents:function(){this.grid.element.unbind("iggridrendered.tooltip",this._dataRenderedHandler),this.grid.element.unbind("iggridheaderrendering.tooltip",this._gridHeaderRenderingHandler)}}),n.extend(n.ui.igGridTooltips,{version:"19.2.25"})}(n),function(n){"use strict";n.widget("ui.igGridUpdating",n.ui.igWidget,{options:{columnSettings:[{columnKey:null,editorType:null,editorProvider:null,editorOptions:null,required:null,readOnly:null,validation:null,defaultValue:null}],editMode:"row",enableDeleteRow:!0,enableAddRow:!0,validation:!1,doneLabel:null,doneTooltip:null,cancelLabel:null,cancelTooltip:null,addRowLabel:null,addRowTooltip:null,deleteRowLabel:null,deleteRowTooltip:null,showDoneCancelButtons:!0,enableDataDirtyException:!0,startEditTriggers:"click,F2,enter",horizontalMoveOnEnter:!1,excelNavigationMode:!1,saveChangesSuccessHandler:null,saveChangesErrorHandler:null,swipeDistance:"100px",wrapAround:!0,rowEditDialogOptions:{containment:"owner",width:"415px",height:"350px",animationDuration:200,showReadonlyEditors:!0,showEditorsForHiddenColumns:!1,namesColumnWidth:"150px",editorsColumnWidth:null,showDoneCancelButtons:!0,dialogTemplate:null,dialogTemplateSelector:null,editorsTemplate:null,editorsTemplateSelector:null},dialogWidget:"igGridModalDialog",inherit:!1,locale:{doneLabel:undefined,doneTooltip:undefined,cancelLabel:undefined,cancelTooltip:undefined,addRowLabel:undefined,addRowTooltip:undefined,deleteRowLabel:undefined,deleteRowTooltip:undefined}},events:{editRowStarting:"editRowStarting",editRowStarted:"editRowStarted",editRowEnding:"editRowEnding",editRowEnded:"editRowEnded",editCellStarting:"editCellStarting",editCellStarted:"editCellStarted",editCellEnding:"editCellEnding",editCellEnded:"editCellEnded",rowAdding:"rowAdding",rowAdded:"rowAdded",rowDeleting:"rowDeleting",rowDeleted:"rowDeleted",dataDirty:"dataDirty",generatePrimaryKeyValue:"generatePrimaryKeyValue",rowEditDialogBeforeOpen:"rowEditDialogBeforeOpen",rowEditDialogAfterOpen:"rowEditDialogAfterOpen",rowEditDialogBeforeClose:"rowEditDialogBeforeClose",rowEditDialogAfterClose:"rowEditDialogAfterClose",rowEditDialogContentsRendered:"rowEditDialogContentsRendered"},css:{buttonContainer:"ui-iggrid-buttoncontainer ui-widget-content ui-corner-all",button:"ui-iggrid-button ui-state-default ui-corner-all",doneButton:"ui-iggrid-donebutton ui-priority-primary ui-corner-all",cancelButton:"ui-iggrid-cancelbutton ui-corner-all",deleteButton:"ui-iggrid-deletebutton ui-state-default ui-corner-all",buttonHover:"ui-iggrid-buttonhover ui-state-hover",buttonDisabled:"ui-iggrid-buttondisabled ui-state-disabled",buttonActive:"ui-iggrid-buttonactive ui-state-active",doneIcon:"ui-iggrid-doneicon ui-icon ui-icon-check",cancelIcon:"ui-iggrid-cancelicon ui-icon ui-icon-cancel",buttonIconOnly:"ui-iggrid-button-icon-only",editingCell:"ui-iggrid-editingcell",addRow:"ui-iggrid-addrow ui-widget-header",addRowHover:"ui-iggrid-addrowhover ui-state-hover",addRowActive:"ui-iggrid-addrowactive ui-state-active",addRowIcon:"ui-iggrid-addrowicon ui-icon ui-icon-circle-plus",deleteIcon:"ui-iggrid-deleteicon ui-icon ui-icon-circle-close",editor:"ui-iggrid-editor",rowEditDialogHeaderCaptionTitle:"ui-dialog-title",rowEditDialogCloseButton:"ui-icon ui-icon-close",rowEditDialog:"ui-dialog ui-draggable ui-resizable ui-iggrid-dialog ui-widget ui-widget-content ui-corner-all",blockArea:"ui-widget-overlay ui-iggrid-blockarea",rowEditDialogButtonsContainer:"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix",rowEditDialogTable:"ui-iggrid-filtertable ui-helper-reset"},_createWidget:function(){this.options.columnSettings=[],n.Widget.prototype._createWidget.apply(this,arguments)},setCellValue:function(t,i,r){var f,u;if(t!==null&&t!==undefined&&n.type(i)==="string"){if(r===undefined)throw new Error(this._getLocaleValue("undefinedCellValue"));if(!this._recOrPropFound(t,i))throw new Error(this._getLocaleValue("recordOrPropertyNotFoundException"));if(this.isEditing()&&this._editingForRowId===t){if(u=this._providerForKey(i),this._originalValues.hasOwnProperty(i)&&u){f=u.igEditorFilter("option","provider"),f.setValue(r),this._editorTextChanged();return}this.endEdit(!1,!1)}this._updateCell(t,i,r)}},updateRow:function(t,i){var r,e,u,f=!1;if(t!==null&&t!==undefined&&n.type(i)==="object"){if(!this._recOrPropFound(t))throw new Error(this._getLocaleValue("recordOrPropertyNotFoundException"));if(this.isEditing()&&this._editingForRowId===t){for(r in i)if(u=this._providerForKey(r),i.hasOwnProperty(r)&&this._originalValues.hasOwnProperty(r)&&u)e=u.igEditorFilter("option","provider"),e.setValue(i[r]);else{this.endEdit(!1,!1),f=!0;break}this._editorTextChanged()}else f=!0;f&&this._updateRow(t,i,null,null)}},addRow:function(t){for(var i=this.options.columnSettings,u=i?i.length:0,f={},r,e;u-->0;)r=i[u].columnKey,e=i[u].defaultValue,e!==undefined&&r!==undefined&&r!==null&&(f[r]=e);this._addRow(null,n.extend(f,t),f,!0)},deleteRow:function(n){if(n!==null&&n!==undefined){if(!this._recOrPropFound(n))throw new Error(this._getLocaleValue("recordOrPropertyNotFoundException"));this.isEditing()&&this._editingForRowId===n&&this.endEdit(!1),this._deleteRow(null,n,!0)}},startEdit:function(t,i,r){var f,u,h=this.options.editMode,o=this.grid._visibleColumns(),e,s;if(this.isEditing())throw new Error(this._getLocaleValue("editingInProgress"));if(n.type(i)==="string"?(u=i,f=this._getVisibleIndexForKey(u)):n.type(i)==="number"&&i>=0&&i<o.length&&(u=o[i].key,f=i),!u||f===undefined||f===null){if(h==="cell")throw new Error(this._getLocaleValue("columnNotFound").replace("{key}",u));u=o[0].key,f=0}if(h==="cell"&&o[f].readOnly)return!1;switch(h){case"dialog":return this._startEditDialog(null,!r,t,!1,u,e);case"row":if(s=this.grid.rowById(t),!s||!s.length)throw new Error(this._getLocaleValue("rowOrColumnSpecifiedOutOfView"));return this._startEditForRow(null,!r,t,u,s);case"cell":if(e=this.grid.cellById(t,u),!e||!e.length)throw new Error(this._getLocaleValue("rowOrColumnSpecifiedOutOfView"));return this._startEditForCell(null,!r,t,u,e,!0,!1)}},startAddRowEdit:function(n){if(this.isEditing())throw new Error(this._getLocaleValue("editingInProgress"));return this.options.enableAddRow?this.options.editMode==="dialog"?this._startEditDialog(null,!n,null,!0,this.grid._visibleColumns()[0].key,null):this._startEditForRow(null,!n,null,null,this.grid.headersTable().children("thead").children("[data-add-row]").children(":not([data-skip='true'])").first()):!1},endEdit:function(t,i){var r;if(this.isEditing())if(this.options.editMode==="dialog")r=n("#"+this.grid.id()+"_updating_dialog_container"),r&&r.data()[this.options.dialogWidget]&&r[this.options.dialogWidget]("closeModalDialog",t,!!i);else return this._endEdit(null,!!t,!i)},findInvalid:function(){var n,t=this._editors,i;for(n in t)if(t.hasOwnProperty(n)&&t[n]&&(i=t[n].data("igEditorFilter").options.provider,i.refreshValue(),!t[n].data("igEditorFilter").options.provider.validate()))return n;return null},isEditing:function(){return!!this._originalValues},editorForKey:function(n){var t;return!this._editors||!this._editors[n]?null:(t=this._editors[n],t.igEditorFilter("option","provider").editor.element)},editorForCell:function(n,t){var i=this._getColumnKeyForCell(n);return this._editors||(this._editors={}),!this._editors[i]&&t&&(this._editors[i]=this._createEditor(n,i)),this.editorForKey(i)},destroy:function(){return this.options.enableAddRow&&this._removeAddRow(),this.options.enableDeleteRow&&this._removeDeleteButton(),this.options.showDoneCancelButtons&&this.options.editMode==="row"&&this._removeDoneCancelButtons(),this._destroyAllEditors(),this._unbindAllEvents(),delete this._stopEditingHandler,delete this._gridHandlers,delete this._handlers,delete this._buttonHandlers,delete this._addNewRowHandlers,delete this._validationHandlers,delete this._dialogHandlers,delete this._editorCallbacks,this._superApply(arguments),this},changeRegional:function(){var t=this.grid.options.regional,n;if(this._stopEditing(),this._editors)for(n in this._editors)this._editors.hasOwnProperty(n)&&this._editors[n].data("igEditorFilter")&&!this.grid.columnByKey(n).regional&&this._editors[n].data("igEditorFilter")._setRegional(t)},changeLocale:function(){var u=this,i=this.grid.id(),t=n(),r;if(t=t.add(this.grid.fixedHeadersTable().children("thead").children("tr[data-add-row='true']")),t=t.add(this.grid.headersTable().children("thead").children("tr[data-add-row='true']")),t=t.add(n("#"+i+"_updating_deletehover")),t=t.add(n("#"+i+"_updating_delete_touch")),t=t.add(n("#"+i+"_updating_done")),t=t.add(n("#"+i+"_updating_cancel")),t.each(function(){u._super(n(this))}),n("#"+i+"_updating_dialog_container").length&&this._changeLocaleUpdatingDialog(),this._editors)for(r in this._editors)this._editors.hasOwnProperty(r)&&this._editors[r].data("igEditorFilter")&&this._editors[r].data("igEditorFilter")._setLanguage(this.grid.options.language);this._superApply(arguments)},_registerWidget:n.noop,_unregisterWidget:n.noop,_changeLocaleUpdatingDialog:function(){var t=n("#"+this.grid.id()+"_updating_dialog_container");t.data(this.options.dialogWidget)&&t[this.options.dialogWidget]("option",{locale:{modalDialogCaptionText:this._getLocaleValue("rowEditDialogCaptionLabel"),buttonApplyText:this._getLocaleValue("doneLabel"),buttonApplyTitle:this._getLocaleValue("doneTooltip"),buttonCancelText:this._getLocaleValue("cancelLabel"),buttonCancelTitle:this._getLocaleValue("cancelTooltip")}})},_setOption:function(t,i){var r=this.options,u=n.type(i);if(r[t]===i&&u!=="object"&&u!=="array")return this;t==="editMode"&&(this.endEdit(!1,!1),this._dialogInvalid=!0,this._destroyAllEditors()),this._super(t,i);switch(t){case"rowEditDialogOptions":this._dialogInvalid=!0,r.rowEditDialogOptions=n.extend(r.rowEditDialogOptions,i);break;case"enableDeleteRow":i===!0?this._renderDeleteButton():this._removeDeleteButton();break;case"enableAddRow":i===!0&&this.grid.options.showHeader?this._updateAddNewRow():this._removeAddRow(),this._rebindEditTriggers();break;case"startEditTriggers":this._analyzeEditTriggers(),this._rebindEditTriggers();break;case"columnSettings":this.endEdit(!1,!1),this._destroyAllEditors(),this._processReadOnly(),this.options.enableAddRow&&this.grid.options.showHeader&&this._updateAddNewRow(),this.grid._renderData(),this._gridDirty=!0,this._dialogInvalid=!0}return t==="saveChangesSuccessHandler"?this._addDSSuccessHandler():t==="saveChangesErrorHandler"&&this._addDSErrorHandler(),this},_gridDataRendering:function(n,t){var i,r,u;if(!t||t.owner.id()===this.grid.id()){if(i=this.grid.dataSource,r=i.data()?i.data().length:0,this.grid.options.showHeader||this._processReadOnly(),this.isEditing()&&(this.endEdit(this.grid.options.autoCommit,!0)||this.endEdit(!1,!0)),this._pkVal=Math.max(this._pkVal||1,r+1),i.pendingTransactions().length&&this.options.enableDataDirtyException&&(u=this._trigger(this.events.dataDirty,null,{owner:this}),u))throw new Error(this._getLocaleValue("dataDirtyException"));if(r&&!this.grid.options.primaryKey)throw new Error(this._getLocaleValue("noPrimaryKeyDefined"));this.hideDeleteButton()}},_gridRendered:function(){this._rebindEditTriggers()},_rowsRendered:function(n,t){t&&t.owner&&t.owner.id()!==this.grid.id()||this._paintModifiedCells()},_virtPreRender:function(n,t){t&&t.owner&&t.owner.id()!==this.grid.id()||(this.isEditing()&&!this._vscrolled&&(this._endEdit(n,!0,!1,!0)||this._endEdit(n,!1,!1,!0)),delete this._vscrolled)},_virtPostRender:function(n,t){t&&t.owner&&t.owner.id()!==this.grid.id()||(this.hideDeleteButton(),this._paintModifiedCells())},_headerRendered:function(n,t){t.owner.id()===this.grid.id()&&this._updateAddNewRow()},_fixedColumnsChanged:function(){this._stopEditing(),this._editorsContainerInvalid=!0,this.options.enableAddRow&&this._updateAddNewRow(),this.options.enableDeleteRow&&(this._removeDeleteButton(),this._renderDeleteButton()),this.options.showDoneCancelButtons&&this.options.editMode==="row"&&this._removeDoneCancelButtons()},_groupedColumnsChanged:function(){this.options.enableAddRow&&this._updateAddNewRow()},_hidingFinishing:function(){this.isEditing()&&(this.endEdit(!0,!0)||this.endEdit(!1,!0))},_columnsModified:function(n,t){t.owner.id()===this.grid.id()&&(this._editorsContainerInvalid=!0,this.options.enableAddRow&&this._updateAddNewRow(),this._paintModifiedCells())},_columnsMoved:function(){this._hideValidatorMessages()},_scroll:function(){this.isEditing()&&(this._editingForRowId!==undefined&&this._editingForRowId!==null?this._positionDoneCancelButtons(this.grid.rowById(this._editingForRowId)):this._positionDoneCancelButtons(this.grid.headersTable().find("tr[data-new-row]")),this._hideValidatorMessages())},_internalColumnResized:function(){this._stopEditing()},_mouseDown:function(t){var i=n(t.target).closest("td"),r=i.closest(".ui-iggrid"),u=t.originalEvent.target instanceof n?t.originalEvent.target[0]:t.originalEvent.target,f=i.closest(this.grid._isMultiRowGrid()?".ui-iggrid-table-mrl":".ui-iggrid-table"),e=new RegExp("^"+this.grid.id()+"(_fixed)?$"),o=this.grid.element.data("igGridSelection");if(t.originalEvent&&t.originalEvent.type==="touchstart")this._cevt=u;else if(this._cevt===u){this._cevt=null;return}if(r.length&&r[0]===this.grid.container()[0]){if(this.isEditing()&&(i.hasClass(this.css.editingCell)||this.options.editMode!=="cell"&&this._getRowId(i.closest("tr"))===this._editingForRowId||this._endEdit(t,!0,!1,!0)),this.grid.headersTable().children("thead").has(i).length||this.grid.fixedHeadersTable().children("thead").has(i).length)return;f.length&&f.attr("id").match(e)&&(o&&!i.hasClass("ui-iggrid-selectedcell")?this._wait=!0:delete this._wait)}},_clickTrigger:function(t){var i=n(t.target),r=i.closest("td"),u=r.closest(".ui-iggrid");if(u.length&&u[0]===this.grid.container()[0]&&!i.is("a")){if(this._wait&&(delete this._wait,t.type!=="dblclick"))return;this._startEditForElement(t,r)}},_keyDown:function(t){var i=n(t.target),f=i.closest(".ui-iggrid"),r,u;f.length&&f[0]===this.grid.container()[0]&&i.is("td,tr")&&(t.keyCode===n.ui.keyCode.ENTER&&this._editTriggers.enter||t.keyCode===113&&this._editTriggers.f2?(this.options.editMode==="cell"&&i.is("tr")&&(i=this._getEditableCellsForRow(i).first()),this._startEditForElement(t,i)):t.keyCode===n.ui.keyCode.DELETE&&this.options.enableDeleteRow&&!this.isEditing()&&(r=this.grid.element.data("igGridSelection"),r&&r.options.mode==="row"&&r.options.multipleSelection?this._deleteMultipleRows(t):(u=i.closest("tr"),this._isEditableRow(u)&&this._deleteRow(t,this._getRowId(u),!1))))},_touchStart:function(t){this._firstTouchX=t.originalEvent.touches&&t.originalEvent.touches[0]?t.originalEvent.touches[0].pageX:t.originalEvent.clientX,this._firstTouchRow=t.originalEvent.touches?n(t.originalEvent.touches[0].target).closest("tr"):n(t.originalEvent.target).closest("tr"),this._storedScrollLeft=this.grid.scrollContainer().scrollLeft()||0,this._storedScrollWidth=this.grid.scrollContainer().width()||0,this.hideDeleteButton()},_touchEnd:function(t){var r=t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]?t.originalEvent.changedTouches[0].pageX:t.originalEvent.clientX,i=t.target?n(t.target).closest(".ui-iggrid-table"):null,u=new RegExp("^"+this.grid.id()+"(_fixed)?$");i&&i.length>0&&!i.attr("id").match(u)||(this._storedScrollLeft-=this.grid.scrollContainer().scrollLeft()||0,this._storedScrollWidth-=this.grid.scrollContainer().width()||0,this.options.enableDeleteRow&&Math.abs(r-this._firstTouchX)>parseInt(this.options.swipeDistance,10)&&this._firstTouchRow&&this._storedScrollLeft===0&&this._storedScrollWidth===0&&this._firstTouchRow.filter(":not([data-container],[data-grouprow],[data-summaryrow],.ui-iggrid-deletedrecord)").length&&this.showDeleteButtonFor(this._firstTouchRow),delete this._firstTouchX,delete this._firstTouchRow,delete this._storedScrollLeft,delete this._storedScrollWidth,delete this._firstTouchRow)},_pointerDown:function(t){var i=t.originalEvent;i.pointerType==="touch"&&(this._firstTouchX=i.pageX,this._firstTouchRow=n(i.target).closest("tr"),this._storedScrollLeft=this.grid.scrollContainer().scrollLeft()||0,this._storedScrollWidth=this.grid.scrollContainer().width()||0,this.hideDeleteButton())},_pointerUp:function(n){var t=n.originalEvent,i;t.pointerType==="touch"&&(i=t.pageX,this._storedScrollLeft-=this.grid.scrollContainer().scrollLeft()||0,this._storedScrollWidth-=this.grid.scrollContainer().width()||0,this.options.enableDeleteRow&&Math.abs(i-this._firstTouchX)>parseInt(this.options.swipeDistance,10)&&this._firstTouchRow&&this._storedScrollLeft===0&&this._storedScrollWidth===0&&this._firstTouchRow.filter(":not([data-container],[data-grouprow],[data-summaryrow],.ui-iggrid-deletedrecord)").length&&this.showDeleteButtonFor(this._firstTouchRow),delete this._firstTouchX,delete this._firstTouchRow,delete this._storedScrollLeft,delete this._storedScrollWidth,delete this._firstTouchRow)},_addRowFocus:function(t){n(t.target).closest("tr").addClass(this.css.addRowActive)},_addRowBlur:function(t){n(t.target).closest("tr").removeClass(this.css.addRowActive)},_rowMouseEnter:function(t){var i=n(t.target).closest("tr");!this.isEditing()&&this._isEditableRow(i)?this.showDeleteButtonFor(i):this.hideDeleteButton()},_rowPointerEnter:function(n){n.originalEvent.pointerType==="mouse"&&this._rowMouseEnter(n)},_containerMouseLeave:function(){this.hideDeleteButton()},_containerPointerLeave:function(n){n.originalEvent.pointerType!=="touch"&&this.hideDeleteButton()},_buttonMouseEnter:function(t){var i=n(t.target).closest(".ui-iggrid-button,.ui-iggrid-deletebutton");i.hasClass("ui-state-disabled")||i.addClass(this.css.buttonHover)},_buttonMouseLeave:function(t){var i=n(t.target).closest(".ui-iggrid-button,.ui-iggrid-deletebutton");i.removeClass(this.css.buttonHover)},_buttonFocus:function(t){var i=n(t.target).closest(".ui-iggrid-button,.ui-iggrid-deletebutton");i.hasClass("ui-state-disabled")||i.addClass(this.css.buttonActive)},_buttonBlur:function(t){n(t.target).removeClass(this.css.buttonActive)},_doneButtonClick:function(t){var i=n(t.target).closest(".ui-iggrid-button");i.length&&!i.hasClass(this.css.buttonDisabled)&&this._endEdit(t,!0)},_doneButtonKeyDown:function(t){var i=this._getColumnsOrderedByNavIndex();t.keyCode===n.ui.keyCode.TAB&&t.shiftKey&&this._activateEditor(this._providerForKey(i[i.length-1].key))},_doneButtonKeyUp:function(t){var i=n(t.target).closest(".ui-iggrid-button");i.length&&!i.hasClass(this.css.buttonDisabled)&&t.keyCode===n.ui.keyCode.ENTER&&this._endEdit(t,!0)},_cancelButtonKeyDown:function(t){var i=this._getColumnsOrderedByNavIndex();t.keyCode!==n.ui.keyCode.TAB||t.shiftKey||this._activateEditor(this._providerForKey(i[0].key))},_cancelButtonKeyUp:function(t){t.keyCode===n.ui.keyCode.ENTER&&this._stopEditing()},_deleteButtonClick:function(t){var i=n(t.target).closest(".ui-iggrid-deletebutton").data("button-for");this._deleteRow(t,i,!1)&&this.hideDeleteButton()},_touchDeleteButtonClick:function(t){var i=this._editingForRowId,r=n(t.target).closest(".ui-iggrid-button");this.isEditing()&&!r.hasClass(this.css.buttonDisabled)&&(this._endEdit(t,!1,!1),this._deleteRow(t,i,!1))},_touchDeleteButtonKeyUp:function(t){var i,r=n(t.target).closest(".ui-iggrid-button");t.keyCode===n.ui.keyCode.ENTER&&(i=this._editingForRowId,this.isEditing()&&!r.hasClass(this.css.buttonDisabled)&&(this._endEdit(t,!1,!1),this._deleteRow(t,i,!1)))},_dialogCloseClick:function(t){var i=n("#"+this.grid.id()+"_updating_dialog_container");i&&i.data()[this.options.dialogWidget]&&i[this.options.dialogWidget]("closeModalDialog",!1,t)},_dialogDone:function(n,t){t.toClose=!0},_dialogCancel:function(n,t){t.toClose=!0},_dialogClosing:function(n,t){var i=t.modalDialog;return t.raiseEvents&&this._trigger(this.events.rowEditDialogBeforeClose,n,{owner:this,dialogElement:i}),this._endEditDialog(n,t.accepted,t.owner.getContent(),!t.raiseEvents)},_dialogClosed:function(n,t){t.raiseEvents&&this._trigger(this.events.rowEditDialogAfterClose,n,{owner:this,dialogElement:t.modalDialog})},_dialogOpening:function(t,i){var r=i.modalDialog,y=this.options.rowEditDialogOptions,a=this.grid._fixPKValue(r.attr("data-for-rowid")),h=r.attr("data-isadding")==="true",u=r[this.options.dialogWidget]("getContent"),f,p=y.showEditorsForHiddenColumns,c=n.extend([],this.grid.options.columns),o=h?this._getDefaultValues():this._getLatestValues(a),e=u.find("[data-render-tmpl]").children(),v=!!this._editorsContainerInvalid,l=r.data("at"),s;e.length&&(v?(this._clearEditorsFromContainer(e),e.remove()):e.detach()),this._renderDialogContent(u,o),this._initDialogEditors(u,c,o),f=u.find("[data-render-tmpl]"),f.length&&!f.children().length&&(v?(this._renderDialogTemplate(f,c,!p),delete this._editorsContainerInvalid):e.appendTo(f)),this._initDialogEditors(u,c,o),h&&!this._anyEditorInvalid()?this._enableDoneButton():this._disableDoneButton(),this._originalValues=n.extend({},o,this._originalValues),s={owner:this,rowAdding:h,rowID:a},l!==null&&l!==undefined&&(s=n.extend({parentID:l},s)),this._trigger(this.events.rowEditDialogAfterOpen,t,{owner:this,dialogElement:r}),this._trigger(this.events.editRowStarted,t,s)},_dialogOpened:function(n,t){t.shouldFocus=!1,this._columnToFocus&&this._columnToFocus.data&&this._columnToFocus.data("igEditorFilter")&&this._columnToFocus.igEditorFilter("setFocus")},_editorErrorShowing:function(n,t){var i=this._getEditorKey(t.owner.element);if(this._errorShownFor&&this._errorShownFor!==i)return!1},_editorErrorShown:function(n,t){var i=this._getEditorKey(t.owner.element);this._errorShownFor=i,this._disableDoneButton()},_editorErrorHidden:function(){delete this._errorShownFor,this._enableDoneButton()},_editorTextChanged:function(){if(this._fromExitEditing){delete this._fromExitEditing;return}this.findInvalid()?this._disableDoneButton():this._enableDoneButton()},_editorKeyDown:function(t,i,r){var f=t.keyCode,e,c=this._editors[r],o=c.data("igEditorFilter"),s,u=i.owner.element.closest("tr"),h=u.hasClass("ui-iggrid-addrow")||u.attr("data-new-row");if(u.length){if(o&&(s=o.options.provider),f===n.ui.keyCode.ESCAPE&&this._revertValueForEditor(s,r)){t.stopPropagation();return}this.options.editMode!=="dialog"&&(e=h?null:this._getRowId(u),this._navigateElement(t,f,u,e,r,h))}},_stopEditing:function(){this.isEditing()&&this._endEdit(null,!1)},_paintModifiedCells:function(){for(var t=this.grid.pendingTransactions(),i,n=0;n<t.length;n++)i=t[n],this._updateUIForTransaction(i)},_removeAddRow:function(){this.grid.fixedHeadersTable().children("thead").children("tr[data-add-row='true'],tr[data-new-row='true']").remove(),this.grid.headersTable().children("thead").children("tr[data-add-row='true'],tr[data-new-row='true']").remove()},_updateAddNewRow:function(){this.grid.hasFixedColumns()&&this._updateAddNewRowForTable(!0),this._updateAddNewRowForTable(!1)},_updateAddNewRowForTable:function(t){var l,e,i,r,h,o,f,s,u,a,c;if(c=t?this.grid.fixedHeadersTable():this.grid.headersTable(),e=c.children("thead"),this._renderAddNewRow(e),f=n.extend([],this.grid._visibleColumns(t)),s=this.grid._initialHiddenColumns,s&&s.length)for(i=0;i<s.length;i++)for(r=0;r<f.length;r++)if(s[i].key===f[r].key){n.ig.removeFromArray(f,r,r);break}for(l=this.grid._isMultiRowGrid()?this.grid._recordHorizontalSize():f.length,h=e.children("tr[data-add-row='true']"),h.children("td:last").attr("colspan",l),u=this.grid._isMultiRowGrid()?this.grid._multiRowLayoutRenderingHelper(t):this._generateDummyLayout(f),(n.ig.util.isIE||n.ig.util.isEdge)&&!this.grid._allColumnWidthsInPercentage&&!this.grid._allColumnWidthsInPixels&&(a=c.find("colgroup").detach(),a.prependTo(c)),i=0;i<u.length;i++)for(o=e.children("tr[data-new-row='true']").eq(i).empty(),r=0;r<u[i].length;r++)n("<td><\/td>").attr("aria-readonly",!!u[i][r].col.readOnly).attr("aria-describedby",this.grid.id()+"_"+u[i][r].col.key).attr("colspan",u[i][r].cs||1).attr("rowspan",u[i][r].rs||1).appendTo(o);o=e.children("tr[data-new-row='true']"),(!t||this.grid.fixingDirection()!=="left")&&(t||this.grid.fixingDirection()==="left"&&this.grid.hasFixedColumns())||(h.find("th[data-skip='true'],td[data-skip='true']").remove(),o.find("th[data-skip='true'],td[data-skip='true']").remove(),this.grid._headerInit(h,null,!0),this.grid._headerInit(o,null,!0))},_toggleAddRow:function(){var n=this.grid.headersTable().find("tr[data-new-row]"),t=this.grid.headersTable().find("tr[data-add-row]"),i;this.grid.hasFixedColumns()&&(n=n.add(this.grid.fixedHeadersTable().find("tr[data-new-row]")),t=t.add(this.grid.fixedHeadersTable().find("tr[data-add-row]"))),n.eq(0).is(":visible")?(n.hide(),t.show()):(i=t.height(),t.hide(),n.show(),n.css("height",i))},_providerForKey:function(n){return this._editors?this._editors[n]||null:null},_startEditForElement:function(n,t){var o=this.options.editMode,i=t.is("td")?t:null,r=t.is("tr")?t:t.parent(),s=r.hasClass("ui-iggrid-addrow"),u=s?null:this._getRowId(r),f=!0,e;if(o==="dialog"){if(i||(i=r.children("td:not([data-skip='true'],[data-parent='true'])").first()),!this._isDataCell(i)||!this._isEditableRow(r))return!1;this._startEditDialog(n,!1,u,s,null,i)}else{if(o==="row"||r.hasClass("ui-iggrid-addrow")){if(i||(i=r.children("td:not([data-skip='true'],[data-parent='true'])").first()),!this._isDataCell(i)||!this._isEditableRow(r))return!1;if(this.isEditing()){if(this._editingForRowId===u)return!1;f=this._endEdit(n,!0,!1)}return f?this._startEditForRow(n,!1,u,null,i):!1}if(o==="cell"){if(!this._isEditableCell(i))return!1;if(this.isEditing()){if(e=this._getColumnKeyForCell(i),u===this._editingForRowId&&e&&this._originalValues.hasOwnProperty(e))return!1;f=this._endEdit(n,!0,!1)}return f?this._startEditForCell(n,!1,u,e,i,!0,s):!1}}return!1},_startEditDialog:function(t,i,r,u,f,e,o){var s=this._renderRowEditDialog(!!this._dialogInvalid),h;return(h={owner:this,rowAdding:u,rowID:r},o!==null&&o!==undefined&&(s.data("at",o),h=n.extend({parentID:o},h)),!i&&!this._trigger(this.events.editRowStarting,t,h))?!1:(s.attr({"data-for-rowid":r,"data-isadding":u}),i||this._trigger(this.events.rowEditDialogBeforeOpen,t,{owner:this,dialogElement:s}),this._disableDoneButton(),e&&e.is("td")&&!f&&(f=this._getColumnKeyForCell(e)),this._columnToFocus=this._chooseColumnToFocus(u,f),s[this.options.dialogWidget]("openModalDialog"),!0)},_startEditForRow:function(t,i,r,u,f){var e,h,v=!1,y,s,p=null,c,l,w,o,a;if((e=this._resolveRowElement(f,r),o=e.hasClass("ui-iggrid-addrow"),a=this.grid._normalizedKey(e.data("parent-id")),h={owner:this,rowAdding:o,rowID:r},a!==null&&a!==undefined&&(h=n.extend({parentID:a},h)),i||this._trigger(this.events.editRowStarting,t,h))&&(!this._gridDirty||(e=this._resolveRowElement(o?f:null,r),e&&e.length))){for(o&&(e=this._combineRowElements(e),e.attr("data-new-row")||(e=e.siblings("[data-new-row]"),this._toggleAddRow())),f&&f.is("td")&&!u&&(u=this._getColumnKeyForCell(f)),p=this.grid._isMultiRowGrid()?this._chooseColumnToFocusMrl(o,u):this._chooseColumnToFocus(o,u),y=this._getEditableElementsForRow(e),l=o?this._getDefaultValues():this._getLatestValues(r),c=0;c<y.length;c++)s=y[c],w=l[s.colKey]===undefined?null:l[s.colKey],v=this._startEditForCell(t,i,r,s.colKey,s.element,s.colKey===p,o,w)||v;if(v)this.options.showDoneCancelButtons&&(this._showDoneCancelButtons(),this._positionDoneCancelButtons(e),o&&!this._anyEditorInvalid()?this._enableDoneButton():this._disableDoneButton(),this._renderTouchUI&&this._updateTouchButtons(o)),i||this._trigger(this.events.editRowStarted,t,h),this._editingForRowId=o?null:r,this._originalValues=n.extend({},l,this._originalValues),(this._selectionMode()==="row"||o)&&this._selectionToggle(e);else return e.children().removeClass(this.css.editingCell),!1;return!0}},_startEditForCell:function(t,i,r,u,f,e,o,s){var h,c,w,v,l,y,a,p;if(u=u||this._getColumnKeyForCell(f),r=r===null?this._getRowId(f.closest("tr")):r,f){if(f.addClass(this.css.editingCell),l=this.editorForCell(f,!0),h=this._providerForKey(u),h)c=h.igEditorFilter("option","provider");else return!1;p=f.outerHeight(),a=f.outerWidth(),a=this._isLastScrollableCell(f)?a-this.grid._scrollbarWidth():a}return(s===undefined&&(s=this._getLatestValues(r,u),s=s===undefined?null:s),v={owner:this,rowID:r,columnIndex:this.grid.getVisibleIndexByKey(u),columnKey:u,editor:l,value:s,rowAdding:o},!i&&!this._trigger(this.events.editCellStarting,t,v))?(l&&c.setValue(null),f.removeClass(this.css.editingCell),!1):(l&&(h.css("z-index",n.ig.getZIndex(this.grid.container())+1),h.prependTo(f),c.setSize(Math.max(8,a),Math.max(10,p)),w=c.validator(),y=v.value,c.setValue(y,!1,this.grid._calcOffsetForCol(this._origRec,this.grid.columnByKey(u),!0))),this._originalValues=this._originalValues||{},this._originalValues[u]=l&&y===s?c.getValue():s,this._trigger(this.events.editCellStarted,t,v),e&&l&&this._activateEditor(h),this.hideDeleteButton(),this._editingForRowId=r,(this.options.editMode==="cell"||this._selectionMode()==="cell"&&e)&&!o&&this._selectionToggle(f),!0)},_endEditDialog:function(t,i,r,u){var f={},e=this._originalValues,c,s,l,o=r.parent().attr("data-isadding")==="true",a,v,y=this.grid._fixPKValue(r.parent().attr("data-for-rowid")),h=this.grid._fixPKValue(r.parent().data("at"));if(s=this._getEditedColumnElementsForDialog(r),i){if(l=this._handleInvalid(s,t),l)return!1;f=this._getNewValuesForRow(s),v=this._compareValues(e,f),o&&(f=n.extend({},e,f))}return(c={update:i&&(v||o)},!u&&(a=this._fireEndingEvents(t,e,f,s,y,o,c,h),!a))?!1:(delete this._originalValues,delete this._editingForRowId,c.update&&(this._compareValues(e,f)||o)&&(o?this._addRow(t,f,e,u,h):this._updateRow(e[this.grid.options.primaryKey],f,null,null)),u||this._fireEndedEvents(t,e,f,s,y,o,c,h),this._hideValidatorMessages(),h!==null&&h!==undefined&&r.parent().removeData("at"),delete this._fromExitEditing,!0)},_endEdit:function(t,i,r,u){var l,s,c,y,e,w,o,h=this._originalValues,f={},b,k=!0,a,d,p,v=this;if(l=this.grid.container().find("."+this.css.editingCell).filter(function(){var t=n(this).closest("table").attr("id");return t===v.grid.element.attr("id")||t===v.grid.headersTable().attr("id")||t===v.grid.fixedBodyContainer().children("table").attr("id")||t===v.grid.fixedHeadersTable().attr("id")}).first(),s=l.closest("tr"),p=s.data("parent-id"),c=this._getRowId(s),s=this._resolveRowElement(l,c),o=!!s.data("new-row"),e=this._getEditedColumnElementsForRow(s),i){if(w=this._handleInvalid(e,t),w)return!1;f=this._getNewValuesForRow(e),b=this._compareValues(h,f),o&&(f=n.extend({},h,f))}return(a={update:i&&(b||o)},!r&&(k=this._fireEndingEvents(t,h,f,e,c,o,a,this.grid._normalizedKey(p)),!k))?!1:(this._closeEditingForRow(e),delete this._originalValues,delete this._editingForRowId,o&&this._toggleAddRow(),a.update&&(this._compareValues(h,f)||o)&&(o?this._addRow(t,f,h,r,p):this.options.editMode==="cell"?(y=e[0].colKey,l=e[0].element,d=f[y],this._updateCell(c,y,d,l)):this._updateRow(c,f,h,s)),r||this._fireEndedEvents(t,h,f,e,c,o,a),this._hideDoneCancelButtons(),this._hideValidatorMessages(),this._selectionToggle(null,u),delete this._fromExitEditing,!0)},_handleInvalid:function(n,t){for(var e,i,f,r,u=0;u<n.length;u++)if(e=n[u].colKey,i=this._providerForKey(e),r=i.data("igEditorFilter"),r.options.provider.refreshValue(),this._fromExitEditing=!0,r.exitEditMode(),f=r.options.provider,i&&i.length&&i.is(":visible")&&(r.hasInvalidMessage()||!f.requestValidate(t)||!f.isValid()))return this._activateEditor(i),this._disableDoneButton(),!0;return!1},_fireEndingEvents:function(t,i,r,u,f,e,o,s){var a,h,p,c,l,v=this.options.editMode,y;if(v!=="cell"&&(c={owner:this,oldValues:i,values:o.update?r:i,rowID:f,update:o.update,rowAdding:e},s!==null&&s!==undefined&&(c=n.extend({parentID:s},c)),y=this._trigger(this.events.editRowEnding,t,c),o.update&&(o.update=c.update),!y))return!1;if(v!=="dialog")for(a=0;a<u.length;a++){if(h=u[a].colKey,p=this.editorForKey(h),l={owner:this,rowID:f,columnIndex:this.grid.getVisibleIndexByKey(h),columnKey:h,editor:p,value:r.hasOwnProperty(h)?r[h]:i[h],oldValue:i[h],update:o.update&&r[h]!==i[h],rowAdding:e},y=this._trigger(this.events.editCellEnding,t,l),!y&&v==="cell")return!1;r[h]=l.value,v!=="cell"||e?l.update||(r[h]=i[h]):o.update=l.update}return!0},_fireEndedEvents:function(t,i,r,u,f,e,o,s){var c,h,a,l,v,y=this.options.editMode;if(y!=="dialog")for(c=0;c<u.length;c++)h=u[c].colKey,a=this.editorForKey(h),v={owner:this,rowID:f,columnIndex:this.grid.getVisibleIndexByKey(h),columnKey:h,editor:a,value:r.hasOwnProperty(h)?r[h]:i[h],oldValue:i[h],update:o.update&&r[h]!==i[h],rowAdding:e},this._trigger(this.events.editCellEnded,t,v);y!=="cell"&&(l={owner:this,oldValues:i,values:o.update?r:i,rowID:f,update:o.update,rowAdding:e},s!==null&&s!==undefined&&(l=n.extend({parentID:s},l)),this._trigger(this.events.editRowEnded,t,l))},_getNewValuesForRow:function(n){for(var i,r,u,f,e={},t=0;t<n.length;t++)i=n[t].colKey,r=this._providerForKey(i),f=r.data("igEditorFilter"),u=f.options.provider,e[i]=u.getValue();return e},_compareValues:function(t,i){var r,u=!0;for(r in i)i.hasOwnProperty(r)&&(u=n.type(i[r])==="date"&&n.type(t[r])==="date"?u&&i[r].getTime()===t[r].getTime():u&&i[r]===t[r]);return!u},_closeEditingForRow:function(t){var i,u,f,e,r;for(n.ig.util.isIE&&document.activeElement&&document.activeElement.blur(),i=0;i<t.length;i++)u=t[i].colKey,f=this._providerForKey(u),r=f.data("igEditorFilter"),e=r.options.provider,r.remove(),t[i].element.closest("td").removeClass(this.css.editingCell)},_createEditor:function(t,i,r){var c=this._validationHandlers,f=this._getColSettingsForCol(i),s=this.grid.columnByKey(i),o=f?f.editorProvider:null,e=f?n.extend(!0,{},f.editorOptions)||{}:{},y=f?f.editorType:null,u,l,a,v,h,p=s.format,w=s.regional||this.grid.options.regional,b=this.grid.options.language;if(a=r?null:this._getEditorMargins(t),f&&(u=e.validatorOptions,l=f.required,!u&&(f.validation||l)&&(u={}),l&&(u.required=!0,e.required=!0)),!u&&this.options.validation&&(u={},e||(e={})),u){if(!this.grid.element.igValidator)throw new Error(this._getLocaleValue("igValidatorException"));f&&!f.editorOptions&&(f.editorOptions=e),e.validatorOptions=u,u.notificationOptions=u.notificationOptions||{},r||(u.notificationOptions.mode="popover",u.notificationOptions.containment=this.grid.container(),u.notificationOptions.appendTo=this.grid.container()),u.notificationOptions.mode==="popover"&&r&&(u.notificationOptions.containment=n(r.context),u.notificationOptions.appendTo=n(r.context))}return o||(o=n.ig.GetEditorProvider(this.grid,s,y)),e.language=b,e.regional=w,h=o.createEditor(this._editorCallbacks,i,e?e||null:null,this._getNextTabIndex(),p,r,this.grid._calcOffsetForCol(null,s,!0)),o.attachErrorEvents(c.errorShowing,c.errorShown,c.errorHidden),r||(h.addClass(this.css.editor).css({marginLeft:a.x+"px",marginTop:a.y+"px"}),h.css("position","absolute")),v=h.igEditorFilter({provider:o})},_getEditorKey:function(n){var t=n.attr("id"),i,r;return t&&t.length&&(r=t.indexOf("_editorfor_"),i=r>0?t.substring(r+10):null),i||(i=this._getColumnKeyForCell(n.closest("td"))),i},_getEditorMargins:function(n){if(!n||!n.length)return{x:0,y:0};if(!this._editorMargins){var t=parseInt(n.css("borderTopWidth"),10),i=parseInt(n.css("paddingTop"),10),r=parseInt(n.css("borderLeftWidth"),10),u=parseInt(n.css("paddingLeft"),10);this._editorMargins={x:-1*(u+r),y:-1*(i+t)}}return this._editorMargins},_getColSettingsForCol:function(n){var t,i=this.options.columnSettings;if(!i)return null;for(t=0;t<i.length;t++)if(i[t].columnKey===n)return i[t]},_destroyAllEditors:function(){var n;for(n in this._editors)this._editors.hasOwnProperty(n)&&this._editors[n].data("igEditorFilter")&&(this._editors[n].igEditorFilter("destroy"),this._editors[n].remove());delete this._editors},_navigateElement:function(t,i,r,u,f,e){if(i===n.ui.keyCode.TAB||this.options.horizontalMoveOnEnter&&i===n.ui.keyCode.ENTER)return t.shiftKey?this._navigateLeft(t,r,u,f,e):this._navigateRight(t,r,u,f,e);if(i===n.ui.keyCode.ENTER)return e?this._endEdit(t,!0,!1):t.shiftKey?this._navigateUp(t,u,f):this._navigateDown(t,u,f);if(i===n.ui.keyCode.ESCAPE)return this._stopEditing();if(this.options.excelNavigationMode)switch(i){case n.ui.keyCode.LEFT:return this._navigateLeft(t,r,u,f,e);case n.ui.keyCode.RIGHT:return this._navigateRight(t,r,u,f,e);case n.ui.keyCode.DOWN:if(!e)return this._navigateDown(t,u,f);break;case n.ui.keyCode.UP:if(!e)return this._navigateUp(t,u,f)}},_navigateLeft:function(n,t,i,r,u){return!u&&this.options.editMode==="cell"?this.grid._isMultiRowGrid()?this._navigateLeftForMultiCell(n,i,r):this._navigateLeftForCell(n,i,r):this.grid._isMultiRowGrid()?this._navigateLeftForMultiRow(n,t,i,r,u):this._navigateLeftForRow(n,t,i,r,u)},_navigateLeftForRow:function(t,i,r,u,f){for(var o,c,s=this._getEditedColumnElementsForRow(i),h,l=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization,e=0;e<s.length;e++)if(s[e].colKey===u)break;if(e===0){if(this.options.showDoneCancelButtons){h=n("#"+this.grid.id()+"_updating_done"),h.hasClass(this.css.buttonDisabled)?h.siblings().first().focus():h.focus();return}if(!this._endEdit(t,!0,!1)||f)return;if(i=this.grid.rowById(r),o=this._nextEditableDataRow(i,"prev"),!o.length&&l&&(o=this._lastEditableDataRow()),!o.length)return;c=this._getEditableCellsForRow(o).last(),this._startEditForRow(t,!1,this._getRowId(o),this._getColumnKeyForCell(c),c),t.preventDefault()}else this.grid.columnByKey(s[e].colKey).fixed!==this.grid.columnByKey(u).fixed?this._activateEditor(this._providerForKey(s[e-1].colKey)):this._scrollTo(s[e-1].element)},_navigateLeftForCell:function(t,i,r){var u,e=this.grid._visibleColumns(),o,f,s=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization;if(f=this.grid.rowById(i),this._endEdit(t,!0,!1,!0)){for(n.contains(document.documentElement,f[0])||(f=this.grid.rowById(i)),u=0;u<e.length;u++)if(e[u].key===r)break;while(f.length){for(i=this._getRowId(f);--u>=0;)if(!e[u].readOnly){if(o=this.grid.cellById(i,e[u].key),o.css("display")==="none")continue;this._startEditForCell(t,!1,i,e[u].key,o,!0,!1),t.preventDefault();return}f=this._nextEditableDataRow(f,"prev"),!f.length&&s&&(f=this._lastEditableDataRow()),u=e.length}}},_navigateLeftForMultiRow:function(t,i,r,u,f){var l=this.grid.columnByKey(u).navigationIndex,e,c,o,h,a=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization,s=this._getColumnsOrderedByNavIndex();for(t.preventDefault(),e=0;e<s.length;e++)if(s[e].navigationIndex===l)break;if(e===0){if(this.options.showDoneCancelButtons){c=n("#"+this.grid.id()+"_updating_cancel"),c.focus();return}if(!this._endEdit(t,!0,!1)||f)return;if(i.length&&(i=this._resolveRowElement(null,this._getRowId(i))),o=this._nextEditableDataRow(i,"prev"),!o.length&&a&&(o=this._lastEditableDataRow()),!o.length)return;h=o.children("td[data-navindex='"+s[s.length-1].navigationIndex+"']"),this._startEditForRow(t,!1,this._getRowId(o),this._getColumnKeyForCell(h),h)}else this._activateEditor(this._providerForKey(s[e-1].key))},_navigateLeftForMultiCell:function(t,i,r){var f,s=this._getColumnsOrderedByNavIndex(),h,u,e,o,c=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization;if(u=this.grid.rowById(i),this._endEdit(t,!0,!1,!0)){for(n.contains(document.documentElement,u[0])||(u=this.grid.rowById(i)),f=0;f<s.length;f++)if(s[f].key===r)break;for(e=s[f].navigationIndex;u.length;){for(i=this._getRowId(u);--e>=0;)if(o=this._getColumnByNavigationIndex(e),!o.readOnly){h=this.grid.cellById(i,o.key),this._startEditForCell(t,!1,i,o.key,h,!0,!1),t.preventDefault();return}u=this._nextEditableDataRow(u,"prev"),!u.length&&c&&(u=this._lastEditableDataRow()),e=this.grid.options.columns.length}}},_navigateRight:function(n,t,i,r,u){return!u&&this.options.editMode==="cell"?this.grid._isMultiRowGrid()?this._navigateRightForMultiCell(n,i,r):this._navigateRightForCell(n,i,r):this.grid._isMultiRowGrid()?this._navigateRightForMultiRow(n,t,i,r,u):this._navigateRightForRow(n,t,i,r,u)},_navigateRightForCell:function(t,i,r){var u,e=this.grid._visibleColumns(),o,f,s=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization;if(f=this.grid.rowById(i),this._endEdit(t,!0,!1,!0)){for(n.contains(document.documentElement,f[0])||(f=this.grid.rowById(i)),u=0;u<e.length;u++)if(e[u].key===r)break;while(f.length){for(i=this._getRowId(f);++u<e.length;)if(!e[u].readOnly){if(o=this.grid.cellById(i,e[u].key),o.css("display")==="none")continue;this._startEditForCell(t,!1,i,e[u].key,o,!0,!1),t.preventDefault();return}f=this._nextEditableDataRow(f,"next"),!f.length&&s&&(f=this._firstEditableDataRow()),u=-1}}},_navigateRightForRow:function(n,t,i,r,u){for(var e,s,o=this._getEditedColumnElementsForRow(t),h=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization,f=0;f<o.length;f++)if(o[f].colKey===r)break;if(f===o.length-1){if(this.options.showDoneCancelButtons)return;if(!this._endEdit(n,!0,!1)||u)return;if(t=this.grid.rowById(i),e=this._nextEditableDataRow(t,"next"),!e.length&&h&&(e=this._firstEditableDataRow()),!e.length)return;s=this._getEditableCellsForRow(e).first(),this._startEditForRow(n,!1,this._getRowId(e),this._getColumnKeyForCell(s),s),n.preventDefault()}else this.grid.columnByKey(o[f].colKey).fixed!==this.grid.columnByKey(r).fixed?this._activateEditor(this._providerForKey(o[f+1].colKey)):this._scrollTo(o[f+1].element)},_navigateRightForMultiRow:function(t,i,r,u,f){var l=this.grid.columnByKey(u).navigationIndex,e,h,o,c,a=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization,s=this._getColumnsOrderedByNavIndex();for(t.preventDefault(),e=0;e<s.length;e++)if(s[e].navigationIndex===l)break;if(t.preventDefault(),e===s.length-1){if(this.options.showDoneCancelButtons){h=n("#"+this.grid.id()+"_updating_done"),h.hasClass(this.css.buttonDisabled)?h.siblings().first().focus():h.focus();return}if(!this._endEdit(t,!0,!1)||f)return;if(i.length&&(i=this._resolveRowElement(null,this._getRowId(i))),o=this._nextEditableDataRow(i,"next"),!o.length&&a&&(o=this._firstEditableDataRow()),!o.length)return;c=o.children("td[data-navindex='"+s[0].navigationIndex+"']"),this._startEditForRow(t,!1,this._getRowId(o),this._getColumnKeyForCell(c),c)}else this._activateEditor(this._providerForKey(s[e+1].key))},_navigateRightForMultiCell:function(t,i,r){var f,s=this._getColumnsOrderedByNavIndex(),h,u,e,o,c=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization;if(u=this.grid.rowById(i),this._endEdit(t,!0,!1,!0)){for(n.contains(document.documentElement,u[0])||(u=this.grid.rowById(i)),f=0;f<s.length;f++)if(s[f].key===r)break;for(e=s[f].navigationIndex;u.length;){for(i=this._getRowId(u);++e<this.grid.options.columns.length;)if(o=this._getColumnByNavigationIndex(e),!o.readOnly){h=this.grid.cellById(i,o.key),this._startEditForCell(t,!1,i,o.key,h,!0,!1),t.preventDefault();return}u=this._nextEditableDataRow(u,"next"),!u.length&&c&&(u=this._firstEditableDataRow()),e=-1}}},_navigateUp:function(n,t,i){var u,r,f;(f=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization,n.preventDefault(),n.stopPropagation(),this._endEdit(n,!0,!1,!0))&&(r=this._nextEditableDataRow(this.grid.rowById(t),"prev"),!r.length&&f&&(r=this._lastEditableDataRow()),r.length&&(t=this._getRowId(r),u=this.grid.cellById(t,i),this.options.editMode==="row"&&u.css("display")!=="none"?this._startEditForRow(n,!1,t,i,u):this._startEditForCell(n,!1,t,i,u,!0,!1),n.originalEvent.stopPropagation(),n.originalEvent.preventDefault()))},_navigateDown:function(n,t,i){var u,r,f;(f=this.options.wrapAround&&!this.grid.options.virtualization&&!this.grid.options.rowVirtualization,n.preventDefault(),n.stopPropagation(),this._endEdit(n,!0,!1,!0))&&(r=this._nextEditableDataRow(this.grid.rowById(t),"next"),!r.length&&f&&(r=this._firstEditableDataRow()),r.length&&(t=this._getRowId(r),u=this.grid.cellById(t,i),this.options.editMode==="row"&&u.css("display")!=="none"?this._startEditForRow(n,!1,t,i,u):this._startEditForCell(n,!1,t,i,u,!0,!1),n.originalEvent.stopPropagation(),n.originalEvent.preventDefault()))},_nextEditableDataRow:function(t,i){var r=this.grid.options,f=r.virtualization||r.rowVirtualization,u,e=":not([data-container],[data-grouprow],[data-summaryrow],.ui-iggrid-deletedrecord,[data-id='"+t.attr("data-id")+"']):visible:first";if(f&&r.virtualizationMode==="fixed"){if(u=t.index(),u>=this.grid._virtualRowCount-1&&i==="next")return this._scrollVmanual(!0),this._lastEditableDataRow();if(u<=0&&i==="prev")return this._scrollVmanual(!1),this._firstEditableDataRow()}return t=t[i+"All"](e),t.length&&(t=this._resolveRowElement(null,this._getRowId(t))),f&&r.virtualizationMode==="continuous"&&this._setScroll(i==="next"?n.ui.keyCode.DOWN:n.ui.keyCode.UP,t),t},_firstEditableDataRow:function(){return this.element.children("tbody").children("tr:not([data-grouprow],[data-summaryrow],.ui-iggrid-deletedrecord):visible:first")},_lastEditableDataRow:function(){return this.element.children("tbody").children("tr:not([data-container],.ui-iggrid-deletedrecord):visible:last")},_updateUnboundValuesForRow:function(n){if(this.grid._hasUnboundColumns){var r,u=this.grid._unboundColumns,t,f,i,o=n[this.grid.options.primaryKey],e;if(u&&u.length)for(r=0;r<u.length;r++)if(t=u[r],t&&t.editModeUnboundValues!=="manual"&&t.formula&&t.formula&&(f=this.grid._getUnboundColumnFormula(t),f)){if(n[t.key]=f.apply(t,[n,this.grid.element]),i=this.grid.findRecordByKey(o),!i)return;e=this.grid.dataSource.data().indexOf(i),i[t.key]=f.apply(t,[i,this.grid.element]),this.grid._addUnboundColumnValue(t.key,n[t.key],e)}}},_isEditableRow:function(n){var t=n.closest(this.grid._isMultiRowGrid()?".ui-iggrid-table-mrl,.ui-iggrid-headertable-mrl":".ui-iggrid-table,.ui-iggrid-headertable"),i=new RegExp("^"+this.grid.id()+"(_headers)?(_fixed)?$");return n&&n.is("tr")&&!n.hasClass(this.grid.css.deletedRecord)&&!n.attr("data-grouprow")&&!n.attr("data-summaryrow")&&(n.attr("data-id")!==undefined||n.attr("data-add-row")!==undefined)&&t.length&&t.attr("id").match(i)},_isEditableCell:function(n){return this._isDataCell(n)&&n.attr("aria-readonly")!=="true"&&this._isEditableRow(n.parent())},_isDataCell:function(n){return n&&n.is("td")&&!n.attr("data-skip")&&!n.attr("data-parent")},_isLastScrollableCell:function(n){return n&&n.is(":last-child")&&(parseInt(n.css("padding-right"),10)>12||this.grid._hscrollbar().is(":visible")&&this.grid._hasVerticalScrollbar)&&this.grid.scrollContainer()&&this.grid.scrollContainer().has(n).length},_selectionToggle:function(n,t){var i=this.grid.element.data("igGridSelection");i&&(i._suspend=!i._suspend,n||t?this._actElement=n:this._actElement.focus())},_selectionMode:function(){var n=this.grid.element.data("igGridSelection");return n?this.grid.element.data("igGridSelection").options.mode:null},_showDoneCancelButtons:function(){var n=this._findElementInScrollContainer(".ui-iggrid-buttoncontainer:first");n.length||(n=this._renderDoneCancelButtons()),n.show()},_hideDoneCancelButtons:function(){var n=this._findElementInScrollContainer(".ui-iggrid-buttoncontainer:first");n.length&&n.hide()},_positionDoneCancelButtons:function(n){var u=this._findElementInScrollContainer(".ui-iggrid-buttoncontainer:first"),l=this.grid._hasVerticalScrollbar===!0?this.grid._scrollbarWidth():0,o,i,t,f,s,h,r=this.grid.options,c,a=r.height!==null&&r.height!==undefined,e;n=this._combineRowElements(n),t=u.parent(),o=t.outerWidth()-u.outerWidth()-l+t.scrollLeft(),t.has(n).length||t[0]===this.grid.container()[0]?(f=u.outerHeight(),s=t.outerHeight(),h=n.last().igPosition(),i=h.top+n.outerHeight(),i+f>s&&(i=n.first().igPosition().top-f),a||(c=r.virtualization||r.rowVirtualization||r.columnVirtualization,e=c?this.grid._vdisplaycontainer():this.grid.scrollContainer(),e.length&&(i+=e.igPosition().top)),i+=t.scrollTop()):i=t.scrollTop(),u.css({top:i,left:o})},_disableDoneButton:function(){this.options.editMode==="dialog"?n("#"+this.grid.id()+"_updating_dialog_container")[this.options.dialogWidget]("option","buttonApplyDisabled",!0):n("#"+this.grid.id()+"_updating_done").addClass(this.css.buttonDisabled).removeClass(this.css.buttonActive).attr("tabIndex",-1)},_enableDoneButton:function(){this.options.editMode==="dialog"?n("#"+this.grid.id()+"_updating_dialog_container")[this.options.dialogWidget]("option","buttonApplyDisabled",!1):n("#"+this.grid.id()+"_updating_done").removeClass(this.css.buttonDisabled).attr("tabIndex",this._getNextTabIndex()+1)},_updateTouchButtons:function(t){var i=n("#"+this.grid.id()+"_updating_delete_touch");i.length&&(t||!this.options.enableDeleteRow?i.addClass(this.css.buttonDisabled):i.removeClass(this.css.buttonDisabled))},showDeleteButtonFor:function(t){var i=n("#"+this.grid.id()+"_updating_deletehover"),r=this.grid.options,o,a=r.height!==null&&r.height!==undefined,v=this.grid.hasVerticalScrollbar()===!0?this.grid._scrollbarWidth():0,s,h,u,c=0,e,l,f=t.siblings("[data-id='"+t.attr("data-id")+"']").add(t);i.length&&(i.show(),u=i.parent(),a||(o=r.virtualization||r.rowVirtualization||r.columnVirtualization,e=o?this.grid._vdisplaycontainer():this.grid.scrollContainer(),e.length&&(c=e.igPosition().top)),l=f.last().igPosition().top+f.last().outerHeight()-f.first().igPosition().top,s=u.outerWidth()-i.outerWidth()-v+u.scrollLeft()-5,h=f.first().igPosition().top+l/2-i.outerHeight()/2+u.scrollTop()+c,i.css({top:h,left:s}),i.data("button-for",this._getRowId(t)))},hideDeleteButton:function(){var t=n("#"+this.grid.id()+"_updating_deletehover");t.length&&t.hide()},_getNextTabIndex:function(){var n=this.grid.options.tabIndex;return n+1},_getRowId:function(n){return this.grid._fixPKValue(n.attr("data-id"))},_getEditableElementsForRow:function(n){for(var r=[],f=this._getEditableCellsForRow(n),u=this._getEditableColsOrdered(),e=this.grid.hasFixedColumns()?this.grid._visibleColumns().length:this.grid._virtualColumnCount||this.grid._visibleColumns().length,i=this.grid._startColIndex||0,t=0;t<u.length;t++)r.push({colKey:u[t].key,element:t>=i&&t<i+e?f.eq(t-i):null});return r},_getEditableColsOrdered:function(){var r,t,i;if(this.grid._isMultiRowGrid()){if(this._ec)return this._ec;for(r=[],t=0;t<this.grid._rlp.length;t++)for(i=0;i<this.grid._rlp[t].length;i++)this.grid._rlp[t][i].col.readOnly||r.push(this.grid._rlp[t][i].col);return this._ec=r,r}return n.grep(this.grid._visibleColumns(),function(n){return!n.readOnly})},_getColumnsOrderedByNavIndex:function(){var t=n.extend(!0,[],this._getEditableColsOrdered());return t.sort(function(n,t){return n.navigationIndex-t.navigationIndex}),t},_getColumnByNavigationIndex:function(n){for(var t=0;t<this.grid.options.columns.length;t++)if(this.grid.options.columns[t].navigationIndex===n)return this.grid.options.columns[t]},_getEditedColumnElementsForRow:function(n){for(var r=[],i=this._getEditableCellsForRow(n).filter("."+this.css.editingCell),t=0;t<i.length;t++)r.push({colKey:this._getColumnKeyForCell(i.eq(t)),element:i.eq(t)});return r},_getEditedColumnElementsForDialog:function(n){for(var u=[],f=this.grid.options.columns,i,r,t=0;t<f.length;t++)i=f[t].key,r=n.find("[data-editor-for-"+i.toLowerCase()+"]"),r.length===1&&u.push({colKey:i,element:r});return u},_getEditableCellsForRow:function(n){return this._combineRowElements(n).children("td[aria-readonly='false']:not([data-skip='true'],[data-parent])")},_combineRowElements:function(t){var i,r,f=this.grid.fixingDirection(),u=t.attr("data-new-row")?"[data-new-row]":"[data-add-row]";return this.grid.hasFixedColumns()?(this.grid._isFixedElement(t)?(i=t,r=t.parent().is("thead")?this.grid.headersTable().children("thead").children("tr"+u):this._getRowByIndex(this._getIndexForRow(t),!1)):(r=t,i=t.parent().is("thead")?this.grid.fixedHeadersTable().children("thead").children("tr"+u):this._getRowByIndex(this._getIndexForRow(t),!0)),f==="left"?n([i[0],r[0]]):n([r[0],i[0]])):t},_getVisibleIndexForKey:function(n){for(var i=this.grid._visibleColumns(),t=0;t<i.length;t++)if(i[t].key===n)return t;return null},_getRowByIndex:function(n,t){var i=t?this.grid.fixedBodyContainer().find("tbody"):this.grid.element.find("tbody");return i.children("tr:not([data-container])").eq(n-(this.grid._startRowIndex||0))},_getIndexForRow:function(n){return n.closest("tbody").children("tr:not([data-container])").index(n)+(this.grid._startRowIndex||0)},_getColumnKeyForCell:function(n){var t=this.grid.getColumnByTD(n);return t?t.column.key:null},_analyzeEditTriggers:function(){var i=this.options.startEditTriggers,t;this._editTriggers={click:!1,dblclick:!1,f2:!1,enter:!1};for(t in this._editTriggers)this._editTriggers.hasOwnProperty(t)&&(this._editTriggers[t]=n.type(i)==="array"?n.inArray(t,i):i.toLowerCase().indexOf(t)>=0)},_rebindEditTriggers:function(){var n="#"+this.grid.id()+">tbody>tr>td,#"+this.grid.id()+"_fixed>tbody>tr>td",r,t,u,i=this.grid.options;this.options.enableAddRow&&i.showHeader&&(r=this.grid.headersTable().attr("id"),n+=",#"+r+">thead>tr.ui-iggrid-addrow,#"+r+"_fixed>thead>tr.ui-iggrid-addrow"),this.grid.container().off(".triggers");this.grid.container().on({"mousedown.triggers":this._handlers.mouseDown,"touchstart.triggers":this._handlers.mouseDown},n);if(this._editTriggers.dblclick)this.grid.container().on({"dblclick.triggers":this._handlers.clickTrigger},n);else if(this._editTriggers.click)this.grid.container().on({"click.triggers":this._handlers.clickTrigger},n);this.grid.container().on({"keydown.triggers":this._handlers.keyDown},n.replace(/>td/g,""));this.options.enableDeleteRow&&this._renderDeleteButton(),u=i.virtualization||i.rowVirtualization||i.columnVirtualization,t=u?this.grid._vdisplaycontainer():this.grid.scrollContainer(),t&&t.length&&t.unbind("scroll",this._handlers.scroll).bind("scroll",this._handlers.scroll)},_getLatestValues:function(t,i){var e,u,f,r,o=!1;for(e=this.grid.dataSource.findRecordByKey(t),u=n.extend(!0,{},e),f=this.grid.dataSource.pendingTransactions(),r=0;r<f.length;r++)if(f[r].rowId===t){switch(f[r].type){case"row":case"newrow":case"insertnode":n.extend(!0,u,f[r].row);break;case"cell":u[f[r].col]=f[r].value;break;case"deleterow":u=null}o=!0}if(e||o)return this._origRec=u,n.type(i)==="string"?u[i]:u;throw new Error(this._getLocaleValue("recordOrPropertyNotFoundException"));},_getDefaultValues:function(t){var r=this._defaultValues,e,u=this.options.columnSettings,i,f;if(!r){for(r={},i=0;i<u.length;i++)u[i].defaultValue!==undefined&&n.type(u[i].columnKey)==="string"&&(r[u[i].columnKey]=u[i].defaultValue);this._defaultValues=r}return e=n.extend(!0,{},r),t&&t!==this.grid.options.primaryKey||r.hasOwnProperty(t)||(f={owner:this},f.value=this._getPKType()==="string"?String(this._pkVal):this._pkVal,this._trigger(this.events.generatePrimaryKeyValue,null,f),e[this.grid.options.primaryKey]=f.value),t?e[t]:e},_getPKType:function(){var t=this.grid.options.primaryKey,u,r,i=this.grid.dataSource._data;if(!this._pkt){if(!t)throw new Error(this._getLocaleValue("noPrimaryKeyException"));r=this.grid.columnByKey(t),u=r&&r.dataType?r.dataType:i&&i.length>0&&i[0][t]!==null&&i[0][t]!==undefined?n.type(i[0][t]):null,this._pkt=u}return this._pkt},_updateUIForTransaction:function(t,i){var e=this.grid.options,u=e.autoCommit,h=e.virtualization||e.rowVirtualization||e.columnVirtualization,l=e.virtualizationMode==="fixed",r,o,f,s,v,y,a,c,p;switch(t.type){case"newrow":if(this.grid.element.children("tbody").children("tr."+this.grid.css.modifiedRecord+"[data-id='"+t.rowId+"']").length)return;if(s=this.grid.element.data("igGridGroupBy"),v=s&&s.options&&s.options.groupedColumns&&s.options.groupedColumns.length>0,this._updateUnboundValuesForRow(t.row),h&&!u)break;v?this.grid.element.data("igGridGroupBy")._renderNewRow(t.row,t.rowId):this.grid.renderNewRow(t.row,t.rowId),this.grid._updateGridContentWidth(),r=this.grid.rowById(t.rowId),!u&&r.length&&this._combineRowElements(r).addClass(this.grid.css.modifiedRecord);break;case"cell":if(f=u&&t.col===e.primaryKey?t.value:t.rowId,i?(r=i.parent(),r=r.siblings("[data-id='"+r.attr("data-id")+"']").add(r)):r=this.grid.rowById(t.rowId),o=this._getLatestValues(f),o[t.col]=t.value,this._updateUnboundValuesForRow(o),!r||!r.length)break;c=r.height(),this.grid._renderRow(o,r),u&&h&&c!==r.height()&&this._updateRowVirtualization(r,l,t.type),u?this._combineRowElements(r).attr("data-id",f).data("id",f):this._combineRowElements(r).addClass(this.grid.css.modifiedRecord);break;case"row":if(f=u&&t.row.hasOwnProperty(e.primaryKey)?t.row[e.primaryKey]:t.rowId,r=i||this.grid.rowById(f),o=n.extend({},this._getLatestValues(f),t.row),this._updateUnboundValuesForRow(o),!r||!r.length)break;c=r.height(),this.grid._renderRow(o,r),u&&h&&c!==r.height()&&this._updateRowVirtualization(r,l,t.type),u?this._combineRowElements(r).attr("data-id",f).data("id",f):this._combineRowElements(r).addClass(this.grid.css.modifiedRecord);break;case"deleterow":if(r=i||this.grid.rowById(t.rowId),u&&h){this._updateRowVirtualization(r,l,t.type),this._notifyRowDeleted(t.rowId,r);break}if(!r||!r.length){u&&this._notifyRowDeleted(t.rowId,r);break}u?(p=this.grid.element.children("tbody").children("tr:not([data-container],[data-grouprow],[data-summaryrow])"),y=p.index(r),r=this._combineRowElements(r),a=r.next("tr[data-container='true']"),a.length===1&&a.remove(),r.remove(),this.grid._reapplyZebraStyle(y),this.grid._updateGridContentWidth(),this._notifyRowDeleted(t.rowId,r)):this._combineRowElements(r).addClass(this.grid.css.deletedRecord)}return r},_processReadOnly:function(){var n,i,r=this.grid.options.columns,t=this.options.columnSettings;for(delete this._ec,n=0;n<r.length;n++)delete r[n].readOnly;if(t)for(n=0;n<t.length;n++)i=this.grid.columnByKey(t[n].columnKey),i&&i.readOnly!==t[n].readOnly&&(i.readOnly=t[n].readOnly)},_isMultiLineText:function(n){var t=this._getColSettingsForCol(n);return t&&t.editorOptions?t.editorOptions.textMode==="multiline":!1},_anyEditorInvalid:function(){var n,t=this._editors,i;for(n in t)if(t.hasOwnProperty(n)&&t[n]&&(i=t[n].data("igEditorFilter").options.provider,i.refreshValue(),!t[n].data("igEditorFilter").options.provider.validate()))return!0;return!1},_revertValueForEditor:function(t,i){var u,e,r,f;if(t.refreshValue(),e=t.getValue(),u=this._originalValues[i],f=n.type(t.editor.field)==="function",f&&(r=t.editor.field().attr("autocomplete"),t.editor.field().attr("autocomplete","off")),n.type(e)==="date"&&n.type(u)==="date"){if(e.getTime()!==u.getTime())return t.setValue(new Date(u.getTime()),!0),f&&(r?t.editor.field().removeAttr("autocomplete"):t.editor.field().attr("autocomplete",r)),!0}else if(u!==e)return t.setValue(u,!0),f&&(r?t.editor.field().removeAttr("autocomplete"):t.editor.field().attr("autocomplete",r)),!0;return f&&(r?t.editor.field().removeAttr("autocomplete"):t.editor.field().attr("autocomplete",r)),!1},_hideValidatorMessages:function(){var t,r=this._editors,n,i;for(t in r)r.hasOwnProperty(t)&&(n=this._providerForKey(t).data("igEditorFilter"),n&&n.hasInvalidMessage()&&(i=n.options.provider.validator(),i&&i.hide()))},_chooseColumnToFocus:function(n,t){var i,r,e,u=this.grid._visibleColumns(),o=this.grid._virtualColumnCount||u.length,f=this.grid._startColIndex||0;if(i=n?0:this._getVisibleIndexForKey(t),i=Math.min(Math.max(f,i),f+o-1),t||i--,t&&!this.grid.columnByKey(t).readOnly)e=t;else for(r=i+1<u.length?i+1:f;u[r].key!==t;){if(!u[r].readOnly){e=u[r].key;break}++r===f+o&&(r=f)}return e},_chooseColumnToFocusMrl:function(n,t){var i=this._getColumnsOrderedByNavIndex(),u,f=0,r=0,e=!1;if(n)return i?i[0].key:null;if(t){if(u=this.grid.columnByKey(t),!u.readOnly)return t;f=u.navigationIndex}while(r<i.length){if(i[r].navigationIndex>=f)return i[r].key;r++,r!==i.length||e||(r=0,e=!0)}},_addDSSuccessHandler:function(){var t,i=this.grid;this._addChangesSuccessHandler!==null&&this._addChangesSuccessHandler!==undefined&&i.dataSource._removeChangesSuccessHandler(this._addChangesSuccessHandler),t=this.options.saveChangesSuccessHandler,t&&n.type(t)==="string"&&window[t]&&n.type(window[t])==="function"&&(t=window[t]),n.type(t)!=="function"&&(t=null),this._addChangesSuccessHandler=function(n){i.rows().parent().find("."+i.css.deletedRecord).length&&i._renderData(),i.rows().removeClass(i.css.modifiedRecord),t&&t(n)},i.dataSource._addChangesSuccessHandler(this._addChangesSuccessHandler)},_addDSErrorHandler:function(){var t;this._addChangesErrorHandler!==null&&this._addChangesErrorHandler!==undefined&&this.grid.dataSource._removeChangesErrorHandler(this._addChangesErrorHandler),this.options.saveChangesErrorHandler&&(t=this.options.saveChangesErrorHandler,n.type(t)==="string"&&window[t]&&n.type(window[t])==="function"&&(t=window[t]),n.type(t)==="function"&&(this._addChangesErrorHandler=function(n,i,r){t(n,i,r)},this.grid.dataSource._addChangesErrorHandler(this._addChangesErrorHandler)))},_resolveRowElement:function(n,t){if(n){if(n.is("tr"))return n;if(n.is("td")&&(n.hasClass("ui-iggrid-addrow")||t===null))return n.parent().attr("data-new-row")?n.parent().parent().children("[data-new-row]"):n.parent()}return this.grid.rowById(t)},_updateRowVirtualization:function(n,t,i){var r;t&&i==="deleteRow"?(this.grid._startRowIndex+this.grid._virtualRowCount===this.grid._totalRowCount&&(this.grid._startRowIndex=Math.max(0,this.grid._startRowIndex-1)),this.grid._totalRowCount--,this.grid._virtualRowCount>this.grid._totalRowCount?(this._virtPreRender(null,{owner:this.grid}),this.grid._buildVirtualDom(),this._virtPostRender(null,{owner:this.grid})):(this.grid._renderVirtualRecords(),this.grid._setScrollContainerHeight(this.grid._totalRowCount*parseInt(this.grid.options.avgRowHeight,10)))):(r=this.grid._persistVirtualScrollTop,this.grid._persistVirtualScrollTop=!0,this.grid._saveFirstVisibleTRIndex(),this.grid._renderVirtualRecords(),this.grid._persistVirtualScrollTop=r)},_childrenWithAddRowEnabled:function(t,i){var f,u,r,e;if(t.columnLayouts)for(f=0;f<t.columnLayouts.length;f++)if(r=t.columnLayouts[f],e=i!==null&&i!==undefined?i:n.ui.igGridUpdating.prototype.options.enableAddRow,r.features&&r.features.length>0){for(u=0;u<r.features.length;u++)if(r.features[u].name==="Updating")return r.features[u].enableAddRow===null||r.features[u].enableAddRow===undefined?e:r.features[u].enableAddRow}else return i===!0;return!1},_recOrPropFound:function(n,t){var r=this.grid.dataSource.pendingTransactions(),u,f=r.length,i,e;if(u=this.grid.dataSource.findRecordByKey(n),i=!!u,t&&(e=this.grid._unboundValues&&this.grid._unboundValues.hasOwnProperty(t),i=i&&(u.hasOwnProperty(t)||e)),!i){while(--f>=0)if(r[f].rowId===n)return t?r[f].row.hasOwnProperty(t):!0;return!1}return!0},_activateEditor:function(n){var t=n.closest("td");t.length&&this.options.editMode!=="dialog"&&this._scrollTo(t),n.igEditorFilter("setFocus"),setTimeout(function(){n.data("igEditorFilter")&&n.igEditorFilter("setFocus")},5)},_scrollTo:function(n){var e=this.grid.options,o=e.virtualization||e.rowVirtualization||e.columnVirtualization,t=o?this.grid._vdisplaycontainer():this.grid.scrollContainer(),r,u,f,i;t.length&&t.has(n).length&&(r=n.igPosition(),i=this.grid.element.find("tbody > tr:first > :last-child").attr("data-vscr-padding-icrement"),i=i&&!n.is(":last-child")?parseInt(i,10):0,u=r.top+t.scrollTop(),f=n.igOffset().left-n.offsetParent().igOffset().left+t.scrollLeft(),r.left<0?t.scrollLeft(f):f+n.outerWidth()+i>t.scrollLeft()+t.outerWidth()&&t.scrollLeft(f+n.outerWidth()+i-t.outerWidth()),r.top<0?t.scrollTop(u):u+n.outerHeight()>t.scrollTop()+t.outerHeight()&&t.scrollTop(u+n.outerHeight()-t.outerHeight()))},_setScroll:function(t,i){var r=t===n.ui.keyCode.DOWN||t===n.ui.keyCode.RIGHT?"down":"up";this._setScrollTop(this.grid.element.parent(),i.closest("tr"),r,i.closest("tr").index()+(this.grid._startRowIndex||0))},_setScrollTop:function(t,i,r,u){var s=t.igOffset(),h=i.igOffset(),e,c,l,o,f;i&&i.length!==0&&(o=this.grid.options.virtualization||this.grid.options.rowVirtualization,f=o&&this.grid.options.virtualizationMode==="continuous",e=o&&!f?parseInt(this.grid.options.avgRowHeight,10):i.outerHeight(),(!o||f)&&(c=h.top+e+this.grid._scrollbarWidth()>s.top+n(t).outerHeight(),l=h.top-e/2<=s.top||f&&u<0),u===0&&(!o||f)?t[0].scrollTop=0:r==="down"?c&&f&&this.grid._onVirtualVerticalScroll({},e,r):l&&f&&this.grid._onVirtualVerticalScroll({},e,r))},_scrollVmanual:function(t){var i=n("#"+this.grid.element[0].id+"_scrollContainer"),r=parseInt(this.grid.options.avgRowHeight,10);this.grid._ignoreScroll=!0,t?i.scrollTop(i.scrollTop()+r):i.scrollTop(i.scrollTop()-r),this.grid._onVirtualVerticalScroll(),this.grid._ignoreScroll=!1,this._vscrolled=!0},_deleteRow:function(n,t,i){var u,f,e=this.grid.options.autoCommit,r=this.grid.rowById(t);if(!r.hasClass(this.grid.css.deletedRecord))return(u={owner:this,element:r,rowID:t},!i&&!this._trigger(this.events.rowDeleting,n,u))?!1:(f=this.grid.dataSource.deleteRow(t,e),r=this._updateUIForTransaction(f,r),i||this._trigger(this.events.rowDeleted,n,u),!0)},_deleteMultipleRows:function(n){for(var i=this.grid.element.igGridSelection("selectedRows"),t=0;t<i.length;t++)i[t]&&i[t].hasOwnProperty("id")&&!i[t].element.hasClass(this.grid.css.deletedRecord)&&this._deleteRow(n,i[t].id,!1)},_updateRow:function(t,i,r,u){var s,c=this.grid.options.autoCommit,f,e,h,o=this.grid.options.columnLayouts;if(r=r||this._getLatestValues(t),u=u||this.grid.rowById(t),e=n.extend({},r,i),o)for(f=0;f<o.length;f++)h=o[f].key,delete e[h];s=this.grid.dataSource.updateRow(t,e,c),this._updateUIForTransaction(s,u),this._notifyRowUpdated(t,u)},_updateCell:function(n,t,i,r){var u,f=this.grid.options.autoCommit;u=this.grid.dataSource.setCellValue(n,t,i,f),this._updateUIForTransaction(u,r),this._notifyCellUpdated(n,r)},_addRow:function(t,i,r,u){var s,e,l,a,f=this.grid.options.foreignKey,o=this.grid.dataSource,h,c=this.grid.options,v=c.virtualization||c.rowVirtualization||c.columnVirtualization,y=v?this.grid._vdisplaycontainer():this.grid.scrollContainer();if(i=n.extend({},r,i),s={owner:this,values:i,oldValues:r},!u&&!this._trigger(this.events.rowAdding,t,s))return!1;e=i[this.grid.options.primaryKey],e===undefined||e===null?(e=this._pkVal,i[this.grid.options.primaryKey]=e):f&&!i.hasOwnProperty(f)&&(i[f]=o._origDs&&o._origDs.length&&o._origDs[0].hasOwnProperty(f)?o._origDs[0][f]:this.grid.options.foreignKeyValue!==null&&this.grid.options.foreignKey!==undefined?this.grid.options.foreignKeyValue:null),l=this.grid.dataSource.addRow(e,i,this.grid.options.autoCommit),a=this._updateUIForTransaction(l),this._notifyRowAdded(a),h=y.data("igScroll"),h&&!v&&h._scrollTop(this.element.height()-y.height()),n.type(this._pkVal)==="number"&&this._pkVal++,u||this._trigger(this.events.rowAdded,t,s)},_notifyRowAdded:function(n){var t,e,o=!1,i=this.grid.options,r=this.grid.element.data("igGridRowSelectors"),u=this.grid.element.data("igGridPaging"),f=this.grid.element.data("igGridSummaries");i.virtualization||i.rowVirtualization||i.columnVirtualization?(t=this.grid._vdisplaycontainer(),o=!0):t=this.grid.scrollContainer(),r&&typeof r._rowAdded=="function"&&r._rowAdded(n),u&&typeof u._rowAdded=="function"&&u._rowAdded(n),f&&typeof f._rowAdded=="function"&&f._rowAdded(n),e=t.data("igScroll"),e&&(o?this.grid._enableVirtualTouchScrollbars():this.grid._enableTouchScrollbars()),this.grid._fireInternalEvent("_internalRowAdded",{row:n})},_notifyRowDeleted:function(n,t){var r,i,s=!1,u=this.grid.options,f=this.grid.element.data("igGridSelection"),e=this.grid.element.data("igGridPaging"),o=this.grid.element.data("igGridSummaries");u.virtualization||u.rowVirtualization||u.columnVirtualization?(r=this.grid._vdisplaycontainer(),s=!0):r=this.grid.scrollContainer(),f&&typeof f._rowDeleted=="function"&&f._rowDeleted(n,t),o&&typeof o._rowDeleted=="function"&&o._rowDeleted(n,t),e&&typeof e._rowDeleted=="function"&&e._rowDeleted(n,t),i=r.data("igScroll"),i&&(s?this.grid._enableVirtualTouchScrollbars():(this.grid._enableTouchScrollbars(),i._scrollTop(i._getContentPositionY()))),this.grid._fireInternalEvent("_internalRowDeleted",{rowID:n,row:t})},_notifyCellUpdated:function(n,t){this.grid._fireInternalEvent("_internalCellUpdated",{rowID:n,cell:t})},_notifyRowUpdated:function(n,t){this.grid._fireInternalEvent("_internalRowUpdated",{rowID:n,row:t})},_renderRowEditDialog:function(t){var r=this.options.rowEditDialogOptions,i,u,f,e,o="#"+this.grid.id()+"_updating_dialog_container",s=this._getLocaleValue("rowEditDialogCaptionLabel"),h=this._getLocaleValue("doneLabel"),c=this._getLocaleValue("doneTooltip"),l=this._getLocaleValue("cancelLabel"),a=this._getLocaleValue("cancelTooltip");if(i=n(o),i.length){if(!t)return i;i[this.options.dialogWidget]("destroy"),i.remove(),this._destroyAllEditors()}return u=r.containment==="owner"?this.grid._rootContainer():"window",i=n("<div><\/div>").appendTo(this.grid._rootContainer()).attr("id",o.substring(1)),i[this.options.dialogWidget]({containment:u,renderFooterButtons:r.showDoneCancelButtons,modalDialogWidth:r.width,modalDialogHeight:r.height,locale:{modalDialogCaptionText:s,buttonApplyText:h,buttonApplyTitle:c,buttonCancelText:l,buttonCancelTitle:a},animationDuration:r.animationDuration,buttonApplyDisabled:!0,gridContainer:this.grid._rootContainer(),closeModalDialogOnEnter:!0,modalDialogOpening:this._dialogHandlers.dialogOpening,modalDialogOpened:this._dialogHandlers.dialogOpened,modalDialogClosing:this._dialogHandlers.dialogClosing,modalDialogClosed:this._dialogHandlers.dialogClosed,buttonOKClick:this._dialogHandlers.dialogDone,buttonCancelClick:this._dialogHandlers.dialogCancel,tabIndex:this._getNextTabIndex()}),f=i[this.options.dialogWidget]("getCaptionButtonContainer"),e=n("<button type='button'><\/button>").attr("id",this.grid.id()+"_updating_dialog_closeButton").attr("tabindex",this._getNextTabIndex()).appendTo(f),e.igButton({onlyIcons:!0,icons:{primary:this.css.rowEditDialogCloseButton},width:"20px",height:"20px",click:this._dialogHandlers.dialogCloseClick}),this._dialogInvalid=!1,this._editorsContainerInvalid=!0,this._trigger(this.events.rowEditDialogContentsRendered,null,{owner:this,dialogElement:i}),i},_renderDialogContent:function(t,i){var r=this.options.rowEditDialogOptions,f,u;this._clearEditorsFromContainer(t),t.empty(),r.dialogTemplateSelector?(u=n(r.dialogTemplateSelector),t.append(n(this._jsr?u.render(i):n.ig.tmpl(u.html().fullTrim(),i)))):r.dialogTemplate?(u=r.dialogTemplate,t.append(n(this._jsr?n.render[this.grid.id()+"_rowEditDialogTemplate"](i):n.ig.tmpl(u,i)))):(t.html(this._defaultDialogTemplate),t.find("table").addClass(this.css.rowEditDialogTable).css("table-layout","fixed"),f=t.find("colgroup"),f.children(":first").css("width",r.namesColumnWidth),f.children(":last").css("width",r.editorsColumnWidth),f.parent().css("width","100%"))},_renderDialogTemplate:function(t,i,r){var f=this.options.rowEditDialogOptions,e,u,o,s;if(i=r?n.grep(i,function(n){return!n.hidden}):i,f.showReadonlyEditors||(i=n.grep(i,function(n){return!n.readOnly})),f.editorsTemplateSelector)e=n(f.editorsTemplateSelector),t.append(n(this._jsr?e.render(i):n.ig.tmpl(e.html().fullTrim(),i)));else if(f.editorsTemplate)e=f.editorsTemplate,t.append(n(this._jsr?n.render[this.grid.id()+"_rowEditDialogEditorsTemplate"](i):n.ig.tmpl(e,i)));else for(u=0;u<i.length;u++)o=n("<tr><\/tr>"),n("<td>"+(i[u].headerText||i[u].key)+"<\/td>").appendTo(o),n("<td><\/td>").appendTo(o),s=this._isMultiLineText(i[u].key)?n("<textarea><\/textarea>"):n("<input />"),s.attr("data-editor-for-"+i[u].key,"").appendTo(o.children(":last")),o.appendTo(t)},_initDialogEditors:function(t,i,r){var f=0,o,e,l,u,s,h,c;for(this._editors=this._editors||{};f<i.length;)u=i[f].key,l=!!i[f].readOnly,h=r[u]===undefined?null:r[u],s=t.find("[data-editor-for-"+u.toLowerCase()+"]"),s.length===1?(e=this._providerForKey(u),e&&e.has(s).length?(o=e.igEditorFilter("option","provider"),o.setValue(h,!1,this.grid._calcOffsetForCol(this._origRec,i[f],!0))):(l&&(c=this._getColSettingsForCol(u),c?n.extend(!0,c,{editorOptions:{readOnly:!0}}):this.options.columnSettings.push({columnKey:u,editorOptions:{readOnly:!0}})),e=this._createEditor(null,u,s),this._editors[u]=e,o=e.igEditorFilter("option","provider"),o.setValue(h,!1,this.grid._calcOffsetForCol(this._origRec,i[f],!0))),this._columnToFocus===u&&(this._columnToFocus=e),this._originalValues=this._originalValues||{},this._originalValues[u]=o.getValue(),n.ig.removeFromArray(i,f,f)):f++},_clearEditorsFromContainer:function(n){for(var i=this.grid.options.columns,r=-1,t,u,f;++r<i.length;)t=i[r].key,u=n.find("[data-editor-for-"+t.toLowerCase()+"]"),u.length&&(f=this._providerForKey(t).data("igEditorFilter"),f&&(this._providerForKey(t).igEditorFilter("destroy"),delete this._editors[t]))},_renderDoneCancelButtons:function(){var t,h,i,r,u,c=this._getLocaleValue("doneLabel"),l=this._getLocaleValue("doneTooltip"),e=this._getLocaleValue("cancelLabel"),a=this._getLocaleValue("cancelTooltip"),o,s,f,v=this.grid.options.virtualization===!0||this.grid.options.columnVirtualization===!0||this.grid.options.rowVirtualization===!0,y=this.grid.hasVerticalScrollbar()&&!v?this.grid._scrollbarWidth():0;t=n("<div><\/div>").css("position","absolute").attr("unselectable","on").addClass(this.css.buttonContainer),h=this._addElementToScrollContainer(t),i=n("<span><\/span").attr("id",this.grid.id()+"_updating_done").addClass(this.css.button).addClass(this.css.doneButton).attr({unselectable:"on",tabIndex:this._getNextTabIndex()+1,title:l,"data-localeid":"doneTooltip","data-localeattr":"title"}).css({display:"inline-block",position:"relative"}).appendTo(t),n("<span><\/span>").css("display","inline-block").addClass(this.css.doneIcon).attr("unselectable","on").appendTo(i),c&&i.length?n("<span><\/span>").css("display","inline-block").attr({unselectable:"on","data-localeid":"doneLabel"}).html(c).appendTo(i):i.addClass(this.css.buttonIconOnly),r=n("<span><\/span>").attr("id",this.grid.id()+"_updating_cancel").addClass(this.css.button).addClass(this.css.cancelButton).attr({unselectable:"on",tabIndex:this._getNextTabIndex()+1,title:a,"data-localeid":"cancelTooltip","data-localeattr":"title"}).css({display:"inline-block",position:"relative"}).appendTo(t),n("<span><\/span>").css("display","inline-block").addClass(this.css.cancelIcon).attr("unselectable","on").appendTo(r),e&&e.length?n("<span><\/span>").css("display","inline-block").attr({unselectable:"on","data-localeid":"cancelLabel"}).html(e).appendTo(r):r.addClass(this.css.buttonIconOnly),this._renderTouchUI&&this.options.enableDeleteRow&&(u=n("<span />").attr("id",this.grid.id()+"_updating_delete_touch").addClass(this.css.button).addClass(this.css.doneButton).attr({unselectable:"on",tabIndex:this._getNextTabIndex()+1,title:this._getLocaleValue("deleteRowTooltip"),"data-localeid":"deleteRowTooltip","data-localeattr":"title"}).prependTo(t),n("<span />").css({display:"inline-block",left:0}).addClass(this.css.deleteIcon).attr("unselectable","on").appendTo(u),n("<span />").css("display","inline-block").attr({unselectable:"on","data-localeid":"deleteRowLabel"}).html(this._getLocaleValue("deleteRowLabel")).appendTo(u),u.css({float:"left",position:"relative"}),i.css("float","right"),r.css("float","right"),t.css("width",h.outerWidth()-y-2),f="#"+u.attr("id")),o="#"+i.attr("id"),s="#"+r.attr("id");this.grid.container().on({"mouseenter.donecancel":this._buttonHandlers.mouseEnter,"mouseleave.donecancel":this._buttonHandlers.mouseLeave,"focus.donecancel":this._buttonHandlers.focus,"blur.donecancel":this._buttonHandlers.blur},o+","+s+(f?","+f:""));this.grid.container().on({"click.donecancel":this._buttonHandlers.doneClick,"keyup.donecancel":this._buttonHandlers.doneKeyUp,"keydown.donecancel":this._buttonHandlers.doneKeyDown},o);this.grid.container().on({"click.donecancel":this._buttonHandlers.cancelClick,"keyup.donecancel":this._buttonHandlers.cancelKeyUp,"keydown.donecancel":this._buttonHandlers.cancelKeyDown},s);if(f)this.grid.container().on({"click.donecancel":this._buttonHandlers.touchDeleteClick,"keyup.donecancel":this._buttonHandlers.touchDeleteKeyUp},f);return t},_removeDoneCancelButtons:function(){var n=this._findElementInScrollContainer(".ui-iggrid-buttoncontainer:first");this.grid.container().off(".donecancel"),n.remove()},_renderDeleteButton:function(){var t,i,r="#"+this.grid.id()+">tbody",u="#"+this.grid.id()+"_fixed>tbody",f="#"+this.grid.id()+"_updating_deletehover",o=this._getLocaleValue("deleteRowTooltip"),e=window.navigator.pointerEnabled;if(t=n(f),!t.length){t=n("<span><\/span>").attr("id",f.substring(1)).css("position","absolute").addClass(this.css.deleteButton).attr({unselectable:"on",title:o,"data-localeid":"deleteRowTooltip","data-localeattr":"title"}),t.hide(),n("<span><\/span>").css("display","inline-block").addClass(this.css.deleteIcon).attr("unselectable","on").appendTo(t),i=this._addElementToScrollContainer(t);this.grid.container().on({"mouseenter.deletebutton":this._buttonHandlers.mouseEnter,"mouseleave.deletebutton":this._buttonHandlers.mouseLeave,"click.deletebutton":this._buttonHandlers.deleteClick,"keyup.deletebutton":this._buttonHandlers.deleteClick},f);if(e)this.grid.container().on({"pointerover.deletebutton":this._handlers.pointerEnter},r+">tr,"+u+">tr");else this.grid.container().on({"mouseenter.deletebutton":this._handlers.mouseEnter},r+">tr,"+u+">tr");this.grid.container().on({"MSPointerDown.deletebutton":this._handlers.pointerDown,"pointerdown.deletebutton":this._handlers.pointerDown,"MSPointerUp.deletebutton":this._handlers.pointerUp,"pointerup.deletebutton":this._handlers.pointerUp,"touchstart.deletebutton":this._handlers.touchStart,"touchend.deletebutton":this._handlers.touchEnd},r+">tr,"+u+">tr");if(i[0]===this.grid.container()[0])e?this.grid.container().bind("pointerleave.deletebutton",this._handlers.pointerLeave):this.grid.container().bind("mouseleave.deletebutton",this._handlers.mouseLeave);else if(e)this.grid.container().on({"pointerleave.deletebutton":this._handlers.pointerLeave},"#"+i.attr("id"));else this.grid.container().on({"mouseleave.deletebutton":this._handlers.mouseLeave},"#"+i.attr("id"))}},_removeDeleteButton:function(){n("#"+this.grid.id()+"_updating_deletehover").remove(),this.grid.container().off(".deletebutton"),this.grid.container().unbind(".deletebutton")},_renderAddNewRow:function(t){var o=this._getLocaleValue("addRowLabel"),s=this._getLocaleValue("addRowTooltip"),i,f,r,u,e;if(i=t.children("tr[data-add-row='true']"),i.length||(i=n("<tr><\/tr>").addClass(this.css.addRow).attr({"data-add-row":!0,tabIndex:this.grid.options.tabIndex}).appendTo(t)),i.empty(),r=n("<td><\/td>").attr({title:s,"data-localeid":"addRowTooltip","data-localeattr":"title"}).addClass(this.css.addRow).appendTo(i),n("<span><\/span>").css("display","inline-block").addClass(this.css.addRowIcon).appendTo(r),n("<span><\/span>").text(o).css("outline",0).attr({tabIndex:0,"data-localeid":"addRowLabel"}).appendTo(r),f=t.children("tr[data-new-row='true']"),!f.length)for(e=this.grid._recordVerticalSize(),u=0;u<e;u++)n("<tr><\/tr>").attr("data-new-row","true").attr("data-role","newrow").appendTo(t).hide()},_generateDummyLayout:function(n){for(var i=[[]],t=0;t<n.length;t++)i[0].push({col:n[t],rs:1,cs:1});return i},_addElementToScrollContainer:function(n){var i=this.grid.options,t,r=i.height!==null&&i.height!==undefined;return r?this.grid.hasFixedColumns()&&this.grid.fixingDirection()==="right"?(t=this.grid.fixedBodyContainer(),n.prependTo(t)):(t=i.virtualization||i.rowVirtualization||i.columnVirtualization?this.grid._vdisplaycontainer():this.grid.scrollContainer(),n.prependTo(t)):(t=this.grid.container(),n.appendTo(t)),t},_findElementInScrollContainer:function(n){var t=this.grid.options,i,r=t.height!==null&&t.height!==undefined;return i=r?this.grid.hasFixedColumns()&&this.grid.fixingDirection()==="right"?this.grid.fixedBodyContainer():t.virtualization||t.rowVirtualization||t.columnVirtualization?this.grid._vdisplaycontainer():this.grid.scrollContainer():this.grid.container(),i.children(n)},_createHandlers:function(){this._stopEditingHandler=this._stopEditingHandler||n.proxy(this._stopEditing,this),this._gridHandlers=this._gridHandlers||{stopEditing:this._stopEditingHandler,gridDataRendering:n.proxy(this._gridDataRendering,this),rowsRendered:n.proxy(this._rowsRendered,this),headerRendering:n.proxy(this._processReadOnly,this),headerRendered:n.proxy(this._headerRendered,this),rendered:n.proxy(this._headerRendered,this),virtualFrameChanging:n.proxy(this._virtPreRender,this),virtualFrameChanged:n.proxy(this._virtPostRender,this),columnsCollectionModified:n.proxy(this._columnsModified,this),columnsMoved:n.proxy(this._columnsMoved,this)},this._handlers=this._handlers||{mouseDown:n.proxy(this._mouseDown,this),clickTrigger:n.proxy(this._clickTrigger,this),keyDown:n.proxy(this._keyDown,this),focus:n.proxy(this._focus,this),blur:n.proxy(this._blur,this),touchStart:n.proxy(this._touchStart,this),touchEnd:n.proxy(this._touchEnd,this),pointerDown:n.proxy(this._pointerDown,this),pointerUp:n.proxy(this._pointerUp,this),mouseEnter:n.proxy(this._rowMouseEnter,this),pointerEnter:n.proxy(this._rowPointerEnter,this),mouseLeave:n.proxy(this._containerMouseLeave,this),pointerLeave:n.proxy(this._containerPointerLeave,this),scroll:n.proxy(this._scroll,this)},this._buttonHandlers=this._buttonHandlers||{mouseEnter:n.proxy(this._buttonMouseEnter,this),mouseLeave:n.proxy(this._buttonMouseLeave,this),focus:n.proxy(this._buttonFocus,this),blur:n.proxy(this._buttonBlur,this),doneClick:n.proxy(this._doneButtonClick,this),doneKeyUp:n.proxy(this._doneButtonKeyUp,this),doneKeyDown:n.proxy(this._doneButtonKeyDown,this),cancelClick:this._stopEditingHandler,cancelKeyUp:n.proxy(this._cancelButtonKeyUp,this),cancelKeyDown:n.proxy(this._cancelButtonKeyDown,this),deleteClick:n.proxy(this._deleteButtonClick,this),touchDeleteClick:n.proxy(this._touchDeleteButtonClick,this),touchDeleteKeyUp:n.proxy(this._touchDeleteButtonKeyUp,this)},this._addNewRowHandlers=this._addNewRowHandlers||{focus:n.proxy(this._addRowFocus,this),blur:n.proxy(this._addRowBlur,this)},this._validationHandlers=this._validationHandlers||{errorShowing:n.proxy(this._editorErrorShowing,this),errorShown:n.proxy(this._editorErrorShown,this),errorHidden:n.proxy(this._editorErrorHidden,this)},this._dialogHandlers=this._dialogHandlers||{dialogCloseClick:n.proxy(this._dialogCloseClick,this),dialogOpening:n.proxy(this._dialogOpening,this),dialogOpened:n.proxy(this._dialogOpened,this),dialogClosing:n.proxy(this._dialogClosing,this),dialogClosed:n.proxy(this._dialogClosed,this),dialogDone:n.proxy(this._dialogDone,this),dialogCancel:n.proxy(this._dialogCancel,this)},this._editorCallbacks=this._editorCallbacks||{keyDown:n.proxy(this._editorKeyDown,this),textChanged:n.proxy(this._editorTextChanged,this),valueChanged:n.proxy(this._editorTextChanged,this)}},_unbindAllEvents:function(){this.grid.element.off({"iggriduidirty.updating":this._gridHandlers.stopEditing,"ighierarchicalgridrowexpanded.updating":this._gridHandlers.stopEditing,"iggridrendered.updating":this._gridHandlers.gridRendered,"iggriddatarendering.updating":this._gridHandlers.gridDataRendering,"iggridrowsrendered.updating":this._gridHandlers.rowsRendered,"iggridvirtualrendering.updating":this._gridHandlers.virtualFrameChanging,"iggridvirtualrecordsrender.updating":this._gridHandlers.virtualFrameChanged,"iggridcolumnscollectionmodified.updating":this._gridHandlers.columnsCollectionModified,"iggridheaderrendering.updating":this._gridHandlers.headerRendering,iggriddatabinding:this._gridHandlers.gridDataRendering,"iggrid_columnsmoved.updating":this._gridHandlers.columnsMoved}),this.options.enableAddRow&&this.grid.element.off({"iggridheaderrenderedinternal.updating":this._gridHandlers.headerRendered,"iggridrendered.updating":this._gridHandlers.rendered}),this.grid.container().off({click:this._handlers.click})},_bindGridEvents:function(){this.grid.element.on({"iggriduidirty.updating":this._gridHandlers.stopEditing,"ighierarchicalgridrowexpanded.updating":this._gridHandlers.stopEditing,"iggriddatarendering.updating":this._gridHandlers.gridDataRendering,"iggridrowsrendered.updating":this._gridHandlers.rowsRendered,"iggridvirtualrendering.updating":this._gridHandlers.virtualFrameChanging,"iggridvirtualrecordsrender.updating":this._gridHandlers.virtualFrameChanged,"iggridcolumnscollectionmodified.updating":this._gridHandlers.columnsCollectionModified,"iggridheaderrendering.updating":this._gridHandlers.headerRendering,iggriddatabinding:this._gridHandlers.gridDataRendering,"iggrid_columnsmoved.updating":this._gridHandlers.columnsMoved});if(this.options.enableAddRow)this.grid.element.on({"iggridheaderrenderedinternal.updating":this._gridHandlers.headerRendered,"iggridrendered.updating":this._gridHandlers.rendered})},_injectGrid:function(t,i){var u,r,f;if(this.grid=t,f=this.grid.options.virtualization||this.grid.options.rowVirtualization||this.grid.options.columnVirtualization,this._addDSSuccessHandler(),this._addDSErrorHandler(),!i){if(this._dialogInvalid=!0,this._defaultDialogTemplate="<table><colgroup><col><\/col><col><\/col><\/colgroup><tbody data-render-tmpl><\/tbody><\/table>",this._editors=this._editors||{},this.grid.options.virtualizationMode!=="continuous"&&(this.grid.options.virtualization===!0&&this.grid.options.width||this.grid.options.columnVirtualization===!0)&&this.options.editMode==="row")throw new Error(this._getLocaleValue("rowUpdatingNotSupportedWithColumnVirtualization"));if(this.options.excelNavigationMode&&this.options.editMode!=="cell"&&this.options.editMode!=="row")throw new Error(this._getLocaleValue("excelNavigationNotSupportedWithCurrentEditMode"));if(this.grid.options.autoCommit===!1&&f)throw new Error(this._getLocaleValue("virtualizationNotSupportedWithoutAutoCommit"));this._createHandlers(),this._bindGridEvents(),this._analyzeEditTriggers(),this.grid.options._isHierarchicalGrid&&this.grid._originalOptions&&(this.grid._shouldAlwaysRenderChildIndicator=this.options.inherit?this._childrenWithAddRowEnabled(this.grid.options,this.options.enableAddRow):this._childrenWithAddRowEnabled(this.grid.options),this.grid.dataSource.settings.schema.layouts||(u=this.grid.element.closest(".ui-iggrid-root").data("igHierarchicalGrid"),r=[],u._parseLayouts(r,"",this.grid._originalOptions),this.grid.dataSource.settings.schema.layouts=r)),this._renderTouchUI=n.ig.util.isTouch,(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&(this.grid.element.css("-ms-touch-action","none"),this.grid.element.css("touch-action","none")),String(this.grid.options.templatingEngine).toLowerCase()==="jsrender"&&(this._jsr=!0,this.options.rowEditDialogOptions.dialogTemplate&&typeof this.options.rowEditDialogOptions.dialogTemplate=="string"&&n.templates(this.grid.id()+"_rowEditDialogTemplate",this.options.rowEditDialogOptions.dialogTemplate),this.options.rowEditDialogOptions.editorsTemplate&&typeof this.options.rowEditDialogOptions.editorsTemplate=="string"&&n.templates(this.grid.id()+"_rowEditDialogEditorsTemplate",this.options.rowEditDialogOptions.editorsTemplate))}}}),n.extend(n.ui.igGridUpdating,{version:"19.2.25"})}(n),function(n){n.widget("ui.igLayoutManager",{css:{item:"ig-layout-item",container:"ig-layout",flowItem:"ig-layout-flow-item",flow:"ig-layout-flow",vertical:"ig-layout-vertical",verticalItem:"ig-layout-vertical-item",border:"ig-layout-border",borderItem:"ig-layout-border-item",borderItemHidden:"ig-layout-border-item-hidden",borderHeader:"ig-layout-border-header",borderFooter:"ig-layout-border-footer",borderLeft:"ig-layout-border-left",borderCenter:"ig-layout-border-center",borderRight:"ig-layout-border-right",borderContainer:"ig-layout-border-container",gridItemAbs:"ig-layout-griditem-abs",gridItemRel:"ig-layout-griditem-rel"},options:{borderLayout:{leftWidth:"20%",rightWidth:"10%",showFooter:!0,showHeader:!0,showLeft:!0,showRight:!0},gridLayout:{animationDuration:500,cols:null,columnHeight:null,columnWidth:null,marginLeft:0,marginTop:0,overrideConfigOnSetOption:!0,rearrangeItems:!0,rows:null},height:null,itemCount:null,items:[{colIndex:0,colSpan:1,height:null,rowIndex:0,rowSpan:1,width:null}],layoutMode:"column",width:null},events:{internalResized:"internalResized",internalResizing:"internalResizing",itemRendered:"itemRendered",itemRendering:"itemRendering",rendered:"rendered"},_opt:null,_createWidget:function(t){this.options.items=[],this.options.gridLayout.useOffset=!0,t&&t.items&&(t.items=n.extend(!0,[],t.items)),n.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var t=this;if(this._opt={eventHandlers:{},gridLayout:null,borderLayout:null,scrollBarWidth:n.ig.util.getScrollWidth(),scrollBarHeight:n.ig.util.getScrollHeight(),resizeLayout:this.options.layoutMode==="grid"||this.options.layoutMode==="border"},this.element.addClass(this.css.container),this.options.width!==null&&this.element.css("width",this.options.width),this.options.height!==null&&this.element.css("height",this.options.height),this._opt.resizeLayout){this._opt.eventHandlers.windowResizeHandler=function(n){var i=t._triggerInternalResizing(n);i&&t.reflow(!1,null,n)};n(window).on("resize",this._opt.eventHandlers.windowResizeHandler)}switch(this.options.layoutMode){case"grid":this._initGridLayout();break;case"border":this._initBorderLayout();break;case"flow":this._initFlowLayout();break;case"vertical":this._initVerticalLayout()}},_setOption:function(t,i){if(this.options[t]!==i){var r=this.options,e=n.extend(!0,{},this.options.borderLayout),u,f;switch(t){case"gridLayout":r.gridLayout.overrideConfigOnSetOption?(f=n.extend(!0,{overrideConfigOnSetOption:r.gridLayout.overrideConfigOnSetOption,useOffset:r.gridLayout.useOffset},{cols:null,rows:null,columnWidth:null,columnHeight:null,marginLeft:0,marginTop:0,rearrangeItems:!0,animationDuration:500}),u=!0):(f=n.extend(!0,{},this.options.gridLayout),u=i.cols||i.rows||i.columnWidth||i.columnHeight||typeof i.marginLeft=="number"||typeof i.marginTop=="number"||i.useOffset)}n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"width":this.element.width(this.options.width),r.layoutMode==="grid"&&this.reflow(!0);break;case"height":this.element.height(this.options.height),r.layoutMode==="grid"&&this.reflow(!0);break;case"gridLayout":this.options.gridLayout=n.extend(!0,{},f,this.options.gridLayout),u?(this._destroyGridLayout(),this._initGlFromItemsConfig(!1)):(i.hasOwnProperty("rearrangeItems")&&(this._opt.gridLayout.rearrangeItems=i.rearrangeItems),i.hasOwnProperty("animationDuration")&&(this._opt.gridLayout.animationDuration=i.animationDuration));break;case"borderLayout":this._destroyBorderLayout(),this.options.borderLayout=n.extend(!0,{},e,this.options.borderLayout),this._initBorderLayout();break;case"items":switch(r.layoutMode){case"vertical":this._destroyVerticalLayout(),this._initVerticalLayout();break;case"grid":this._initGlFromItemsConfig(!1);break;case"flow":this._destroyFlowLayout(),this._initFlowLayout()}break;case"itemCount":switch(r.layoutMode){case"vertical":this._destroyVerticalLayout(),this._initVerticalLayout();break;case"flow":this._destroyFlowLayout(),this._initFlowLayout()}}}},reflow:function(n,t,i){var r;this.options.layoutMode==="grid"&&(r=parseInt(t,10),t=r>=0?r:this.options.gridLayout.animationDuration,this._reflowGlConfiguration(n,t,i)),this.options.layoutMode==="border"&&this._setBorderLayoutPaddings()},_initVerticalLayout:function(){var t,u=this.options.itemCount,i=this.options.items,r;if(this.element.addClass(this.css.vertical),u>0){for(t=0;t<u;t++)this._trigger(this.events.itemRendering,null,{index:t}),r=n("<div><\/div>").appendTo(this.element).addClass(this.css.verticalItem),this.options.destroyItems=!0,this._trigger(this.events.itemRendered,null,{item:r,index:t});this._trigger(this.events.rendered,null,{owner:this})}else if(i&&i.length>0){for(this.element.empty(),t=0;t<i.length;t++)this._trigger(this.events.itemRendering,null,{itemData:i[t],index:t}),r=n("<div><\/div>").appendTo(this.element).addClass(this.css.verticalItem),i[t].width&&r.css("width",i[t].width),i[t].height&&r.css("height",i[t].height),this._trigger(this.events.itemRendered,null,{item:r,index:t});this.options.destroyItems=!0,this._trigger(this.events.rendered,null,{owner:this})}else this.element.children().addClass(this.css.verticalItem)},_analyzeGlWidth:function(){var t=this._opt.gridLayout,r=t.columnWidth,f=t.marginLeft,e=this.element.width(),i,u;if(r)if(typeof r=="string")i=this._analyzeGlColumnWidth(r,e,f),t.columnWidth=i.columnWidth,t.columnWidthRatio=i.columnWidthRatio,t.columnWidthHasAsterisk=i.columnWidthHasAsterisk;else if(n.isArray(r))for(t.columnWidthRatio=[],t.columnWidthHasAsterisk=[],u=0;u<r.length;u++)i=this._analyzeGlColumnWidth(r[u],e,f),t.columnWidth[u]=i.columnWidth,t.columnWidthRatio.push(i.columnWidthRatio),t.columnWidthHasAsterisk.push(i.columnWidthHasAsterisk)},_analyzeGlColumnWidth:function(n,t,i){var r,u=n,f=null,e=!1;return n.indexOf("%")!==-1?(r=n.substring(0,n.length-1),r=parseInt(r,10)/100,!isNaN(r)&&r>0&&(f=r,u=Math.floor(t*r-i))):n==="*"?e=!0:(r=parseInt(n,10),!isNaN(r)&&r>0&&(u=r)),{columnWidth:u,columnWidthRatio:f,columnWidthHasAsterisk:e}},_analyzeGlHeight:function(){var u,t=this._opt.gridLayout,r=t.columnHeight,f=t.marginTop,e=this.element.height(),i;if(r)if(typeof r=="string")i=this._analyzeGlColumnHeight(r,e,f),t.columnHeight=i.columnHeight,t.columnHeightRatio=i.columnHeightRatio,t.columnHeightHasAsterisk=i.columnHeightHasAsterisk;else if(n.isArray(r))for(t.columnHeightRatio=[],t.columnHeightHasAsterisk=[],u=0;u<r.length;u++)i=this._analyzeGlColumnHeight(r[u],e,f),t.columnHeight[u]=i.columnHeight,t.columnHeightRatio.push(i.columnHeightRatio),t.columnHeightHasAsterisk.push(i.columnHeightHasAsterisk)},_analyzeGlColumnHeight:function(n,t,i){var r,u=n,f=null,e=!1;return n.indexOf("%")!==-1?(r=n.substring(0,n.length-1),r=parseInt(r,10)/100,!isNaN(r)&&r>0&&(f=r,u=Math.floor(t*r-i))):n==="*"?e=!0:(r=parseInt(n,10),!isNaN(r)&&r>0&&(u=r)),{columnHeight:u,columnHeightRatio:f,columnHeightHasAsterisk:e}},_analyzeGlItems:function(){for(var e=this._opt.gridLayout,o=this.options.items,t=0,i=0,n,u,f,r=0;o.length>r;r++)n=o[r],u=n.colIndex+n.colSpan,f=n.rowIndex+n.rowSpan,u>t&&(t=u),f>i&&(i=f);t>0&&(e.cols=t),i>0&&(e.rows=i)},_analyzeGlColsRows:function(){var t=this._opt.gridLayout,f=this.element.width(),e=this.element.height(),i=this.options.items.length,o=t.columnWidth&&typeof t.columnWidth=="number"&&t.columnWidth>0,s=t.columnWidth&&n.isArray(t.columnWidth),h=t.columnHeight&&typeof t.columnHeight=="number"&&t.columnHeight>0,c=t.columnHeight&&n.isArray(t.columnHeight),u=!1,r=!1;return s&&(t.cols=t.columnWidth.length),c&&(t.rows=t.columnHeight.length),u=typeof t.cols=="number"&&t.cols>0,r=typeof t.rows=="number"&&t.rows>0,u?r||(t.rows=Math.ceil(i/t.cols)):r?t.cols=Math.ceil(i/t.rows):o?(t.cols=Math.floor(f/(t.columnWidth+t.marginLeft)),t.rows=Math.ceil(i/t.cols)):h?(t.rows=Math.floor(e/(t.columnHeight+t.marginTop)),t.cols=Math.ceil(i/t.rows)):(t.cols=Math.ceil(Math.sqrt(i)),t.rows=Math.ceil(i/t.cols)),{hasColsInitially:u,hasRowsInitially:r}},_analyzeGlNotSetWidthHeight:function(){var t=this._opt.gridLayout,i=this.element.width(),r=this.element.height(),u=typeof t.columnWidth=="number"&&t.columnWidth>0||t.columnWidth==="*"||t.columnWidth&&n.isArray(t.columnWidth)&&this._isColumnsWidthOrHeightValid(t.columnWidth),f=typeof t.columnHeight=="number"&&t.columnHeight>0||t.columnHeight==="*"||t.columnHeight&&n.isArray(t.columnHeight)&&this._isColumnsWidthOrHeightValid(t.columnHeight);u||(t.columnWidth=Math.floor(i*(1/t.cols)-t.marginLeft),t.columnWidthRatio=1/t.cols),f||(t.columnHeight=Math.floor(r*(1/t.rows)-t.marginTop),t.columnHeightRatio=1/t.rows)},_isColumnsWidthOrHeightValid:function(n){for(var i=n&&n.length>0,t=0;t<n.length;t++)if(i=typeof n[t]=="number"&&n[t]>0||n[t]==="*",!i)break;return i},_analyzeGlWidthAsterisks:function(){var t=this._opt.gridLayout,e=this._getContainerWidthNoScroll(),r=t.marginLeft,u=0,i=0,o=0,s,h,f=!1;if(n.isArray(t.columnWidthHasAsterisk)){for(i=0;i<t.columnWidth.length;i++)t.columnWidthHasAsterisk[i]?u++:o+=t.columnWidth[i]+r;if(u>0)for(s=e-o,h=Math.floor(s/u)-r,i=0;i<t.columnWidth.length;i++)t.columnWidthHasAsterisk[i]&&(t.columnWidth[i]=h,f=!0)}else t.columnHeightHasAsterisk&&(t.columnWidth=Math.floor(e/t.cols)-r,f=!0);return f},_analyzeGlHeightAsterisks:function(){var t=this._opt.gridLayout,e=this._getContainerHeightNoScroll(),r=t.marginTop,u=0,i=0,o=0,s,h,f=!1;if(n.isArray(t.columnHeightHasAsterisk)){for(i=0;i<t.columnHeight.length;i++)t.columnHeightHasAsterisk[i]?u++:o+=t.columnHeight[i]+r;if(u>0)for(s=e-o,h=Math.floor(s/u)-r,i=0;i<t.columnHeight.length;i++)t.columnHeightHasAsterisk[i]&&(t.columnHeight[i]=h,f=!0)}else t.columnHeightHasAsterisk&&(t.columnHeight=Math.floor(e/t.rows)-r,f=!0);return f},_analyzeGlAutoAdjust:function(t,i){var r=this._opt.gridLayout,u=typeof r.columnWidth=="number"&&r.columnWidth>0||n.isArray(r.columnWidth),f=typeof r.columnHeight=="number"&&r.columnHeight>0||n.isArray(r.columnHeight);f||t||this._hasGlColumnWidthRatio()||(r.autoAdjustColumnHeight=!0),u||i||this._hasGlColumnHeightRatio()||(r.autoAdjustColumnWidth=!0)},_hasGlColumnWidthRatio:function(){var t=this._opt.gridLayout,i;if(n.isArray(t.columnWidthRatio)){for(i=0;i<t.columnWidthRatio.length;i++)if(t.columnWidthRatio[i])return!0}else if(t.columnWidthRatio)return!0;return!1},_hasGlColumnHeightRatio:function(){var t=this._opt.gridLayout,i;if(n.isArray(t.columnHeightRatio)){for(i=0;i<t.columnHeightRatio.length;i++)if(t.columnHeightRatio[i])return!0}else if(t.columnHeightRatio)return!0;return!1},_hasGlColumnWidthAsterisks:function(){var t=this._opt.gridLayout,i;if(n.isArray(t.columnWidthHasAsterisk)){for(i=0;i<t.columnWidthHasAsterisk.length;i++)if(t.columnWidthHasAsterisk[i])return!0}else if(t.columnWidthHasAsterisk)return!0;return!1},_hasGlColumnHeightAsterisks:function(){var t=this._opt.gridLayout,i;if(n.isArray(t.columnHeightHasAsterisk)){for(i=0;i<t.columnHeightHasAsterisk.length;i++)if(t.columnHeightHasAsterisk[i])return!0}else if(t.columnHeightHasAsterisk)return!0;return!1},_analyzeGlConfiguration:function(){var n=null;this._analyzeGlWidth(),this._analyzeGlHeight(),this._analyzeGlItems(),n=this._analyzeGlColsRows(),this._analyzeGlNotSetWidthHeight(),this._analyzeGlWidthAsterisks(),this._analyzeGlHeightAsterisks(),this._analyzeGlAutoAdjust(n.hasColsInitially,n.hasRowsInitially)},_createGlConfig:function(){var t,i=this.element;this._opt.gridLayout=t=n.extend(!0,{},this.options.gridLayout,{elements:n(),minColCount:1,columnWidthRatio:null,columnWidthHasAsterisk:null,columnHeightRatio:null,columnHeightHasAsterisk:null,containerWidthNoScroll:i.width(),containerHeightNoScroll:i.height(),resizeItems:!1,animating:!1,autoAdjustColumnWidth:!1,autoAdjustColumnHeight:!1,initialCols:0,initialRows:0,initialColWidth:0,initialColWidthRatio:null,initialColHeight:0,initialColHeightRatio:null,initialItems:[],initialReflow:!0,useOffset:(i.css("position")==="static"||i.css("position")==="fixed")&&this.options.gridLayout.useOffset?!0:!1,destroyItemsFromIndex:i.children().length}),typeof t.cols=="string"&&(t.cols=parseInt(t.cols,10)),typeof t.rows=="string"&&(t.rows=parseInt(t.rows,10)),this._analyzeGlConfiguration(),t.resizeItems=!!(this._hasGlColumnWidthRatio()||this._hasGlColumnHeightRatio())},_glSortItemsByPositionOrder:function(){var n=this.options.items,t=function(n,t){return n.rowIndex!==t.rowIndex?n.rowIndex-t.rowIndex:n.colIndex-t.colIndex};n=n.sort(t)},_renderGlItemsFromItemsConfig:function(t){for(var f,r,y,p,s,h,c,l,e,w,a,o,b=this.element,v=this.options.items,i=this._opt.gridLayout,k=i.marginLeft,d=i.marginTop,g=n.isArray(i.columnWidth)?null:i.columnWidth,nt=n.isArray(i.columnWidth)?this._calculateColumnsWidthOrHeightMatrix(i.columnWidth):null,tt=n.isArray(i.columnHeight)?null:i.columnHeight,it=n.isArray(i.columnHeight)?this._calculateColumnsWidthOrHeightMatrix(i.columnHeight):null,rt=b.igOffset(),ut=b.children(),u=0;u<v.length;u++)r=v[u],a=ut.eq(u),o=a.length===0,e=r.colSpan=typeof r.colSpan=="number"?r.colSpan:1,w=r.rowSpan=typeof r.rowSpan=="number"?r.rowSpan:1,c=r.rowIndex=typeof r.rowIndex=="number"?r.rowIndex:Math.floor(u/i.cols),l=r.colIndex=typeof r.colIndex=="number"?r.colIndex:u%i.cols,(o||t)&&this._trigger(this.events.itemRendering,null,{itemData:r,index:u}),f=o?n("<div>").appendTo(this.element):a,r.item=f,i.elements=i.elements.add(f),e>i.minColCount&&(i.minColCount=e),y=this._calculateGlItemWidth(l,e,g,nt,k),p=this._calculateGlItemHeight(c,w,tt,it,d),h=this._calculateGlItemLeft(l,g,nt,k),s=this._calculateGlItemTop(c,tt,it,d),i.useOffset&&(s+=rt.top,h+=rt.left),f.addClass(this.css.item).addClass(this.css.gridItemAbs).attr("data-index",u).css({top:s,left:h,width:y,height:p}),(o||t)&&this._trigger(this.events.itemRendered,null,{item:f,itemData:r,index:u});this._glSortItemsByPositionOrder(),ut.slice(v.length).remove(),t&&this._trigger(this.events.rendered,null,{items:this.options.items})},_calculateColumnsWidthOrHeightMatrix:function(n){var i=[],t=0,r=0,u=n.length;for(i.push(n.slice()),t=0;t<u-1;t++)i.push(new Array(u));for(r=1;r<u;r++)for(t=1;t<u;t++)i[t-1][r-1]&&(i[t][r]=i[0][r]+i[t-1][r-1]);return i},_calculateGlItemWidth:function(n,t,i,r,u){var f,e;return f=i?t*i:r[t-1][n+t-1],e=f+(t-1)*u},_calculateGlItemHeight:function(n,t,i,r,u){var f,e;return f=i?t*i:r[t-1][n+t-1],e=f+(t-1)*u},_calculateGlItemLeft:function(n,t,i,r){var u=0,f;return n>0&&(u=t?n*t:i[n-1][n-1]),f=u+(n+1)*r},_calculateGlItemTop:function(n,t,i,r){var u=0,f;return n>0&&(u=t?n*t:i[n-1][n-1]),f=u+(n+1)*r},_initGlFromItemsConfig:function(n){this._createGlConfig(),this._renderGlItemsFromItemsConfig(n),this.reflow(!1,0)},_renderGlItemsFromColsRows:function(t){for(var r,o,s,f,e,h,b=this.element,i=this._opt.gridLayout,c=i.marginLeft,l=i.marginTop,k=i.rows,d=i.cols,a=n.isArray(i.columnWidth)?null:i.columnWidth,v=n.isArray(i.columnWidth)?this._calculateColumnsWidthOrHeightMatrix(i.columnWidth):null,y=n.isArray(i.columnHeight)?null:i.columnHeight,p=n.isArray(i.columnHeight)?this._calculateColumnsWidthOrHeightMatrix(i.columnHeight):null,w=b.igOffset(),u=0;u<k;u++)for(r=0;r<d;r++)o=this._calculateGlItemWidth(r,1,a,v,c),s=this._calculateGlItemHeight(u,1,y,p,l),f=this._calculateGlItemTop(u,y,p,l),e=this._calculateGlItemLeft(r,a,v,c),i.useOffset&&(f+=w.top,e+=w.left),h=n("<div>").appendTo(this.element).addClass(this.css.item).addClass(this.css.gridItemAbs).attr("data-index",u*i.cols+r).css({top:f,left:e,width:o,height:s}),this._trigger(this.events.itemRendered,null,{item:h});t&&this._trigger(this.events.rendered,null,{items:this.options.items})},_initGlFromColsRows:function(n){this._createGlConfig(),this._renderGlItemsFromColsRows(n)},_initGridLayout:function(){var n,t=this.options.items,u=this.element,i=u.children(),r=i.length-this.options.items.length;if(r>0)for(n=0;n<r;n++)this.options.items.push({});t&&t.length>0?this._initGlFromItemsConfig(!0):i.length===0&&this._initGlFromColsRows(!0)},_setGlInitialConfig:function(){var t=this._opt.gridLayout;t.initialCols=t.cols,t.initialRows=t.rows,t.initialColWidth=t.columnWidth,t.initialColWidthRatio=t.columnWidthRatio,t.initialColHeight=t.columnHeight,t.initialColHeightRatio=t.columnHeightRatio,t.initialItems=n.extend(!0,[],this.options.items)},_getContainerWidthNoScroll:function(){var t;return t=n.ig.util.isWebKit&&window.getComputedStyle?parseInt(window.getComputedStyle(this.element[0]).width,10):this.element.width()-(n.ig.util.hasVerticalScroll(this.element)?this._opt.scrollBarWidth:0)},_getContainerHeightNoScroll:function(){var t;return t=n.ig.util.isWebKit&&window.getComputedStyle?parseInt(window.getComputedStyle(this.element[0]).height,10):this.element.height()-(n.ig.util.hasHorizontalScroll(this.element)?this._opt.scrollBarHeight:0)},_glReflowNeeded:function(){var t=this._opt.gridLayout,r=this._getContainerWidthNoScroll(),f=this._getContainerHeightNoScroll(),i=!1,u=!1;return u=t.columnWidth&&!n.isArray(t.columnWidth)&&t.cols!==Math.floor(r/(t.columnWidth+t.marginLeft)),i=t.containerWidthNoScroll!==r&&(this._hasGlColumnWidthRatio()||this._hasGlColumnWidthAsterisks()||u),i=i||t.containerHeightNoScroll!==f&&(this._hasGlColumnHeightRatio()||this._hasGlColumnHeightAsterisks())},_reflowGlConfiguration:function(t,i,r){var at=this,vt=this.element,u=this._opt.gridLayout,p=u.marginLeft,k=u.marginTop,l=this.options.items,d=this._getContainerWidthNoScroll(),g=this._getContainerHeightNoScroll(),yt=u.useOffset?vt.igOffset().left:0,pt=u.useOffset?vt.igOffset().top:0,tt,it,rt,ut,ft,et,c,nt,e,s,f,o,w,b,ct,a,ot,lt,v,h,y,st,ht,wt=function(){u.elements.is(":animated")||(u.animating=!1,at._glReflowNeeded()?at.reflow(!1,i,r):at._triggerInternalResized(r))};if(l){if(w=u.containerWidthNoScroll!==d?this._updateGlColumnWidthByRatio(d):!1,b=u.containerHeightNoScroll!==g?this._updateGlColumnHeightByRatio(g):!1,u.autoAdjustColumnWidth&&(u.containerHeightNoScroll!==g&&u.rearrangeItems||t)&&(u.rows=Math.max(Math.floor(g/(u.columnHeight+k)),1),u.columnWidthRatio=1/Math.ceil(l.length/u.rows),u.columnWidth=Math.floor(d*u.columnWidthRatio-p),w=!0),u.containerWidthNoScroll=d,u.containerHeightNoScroll=g,(u.rearrangeItems||t)&&(u.rearrangeItems?(e=u.columnWidthRatio&&!n.isArray(u.columnWidthRatio)?Math.floor(1/u.columnWidthRatio):u.columnWidth&&!n.isArray(u.columnWidth)?Math.floor(d/(u.columnWidth+p)):u.cols,e!==u.cols&&n.isArray(u.columnHeight)&&(Math.ceil(l.length/e)!==u.columnHeight.length?e=u.cols:w=b=!0)):e=u.autoAdjustColumnWidth?Math.ceil(l.length/u.rows):u.autoAdjustColumnHeight?Math.floor(d/(u.columnWidth+p)):u.cols,u.minColCount>e&&(e=u.minColCount),e!==u.cols||t)){if(e===u.initialCols)l=this.options.items=n.extend(!0,[],u.initialItems),u.rows=u.initialRows,u.cols=u.initialCols;else{for(u.cols=e,f=[[]],f[0].length=u.cols||0,v=0;v<l.length;v++)for(o=l[v],c=o.colSpan,nt=o.rowSpan,a=!1,h=0;h<f.length&&!a;h++)for(y=0;y<f[h].length&&!a;y++){if(!f[h][y])for(a=!0,st=0;a&&st<nt*c;st++)c>f[h].length-y?a=!1:(ot=h+Math.floor(st/c),f[ot]||(f[ot]=[],f[ot].length=u.cols),f[ot][y+st%c]===1&&(a=!1));if(a)for(o.rowIndex=h,o.colIndex=y,ht=0;ht<nt*c;ht++)f[o.rowIndex+Math.floor(ht/c)][o.colIndex+ht%c]=1;else h===f.length-1&&y===f[h].length-1&&(f[h+1]=[],f[h+1].length=u.cols)}u.autoAdjustColumnHeight&&u.rows!==f.length&&(u.columnHeightRatio=1/f.length,u.columnHeight=Math.floor(g*u.columnHeightRatio-k),b=!0),u.rows=f.length}ct=!0}if(w||b||ct||t)for(tt=n.isArray(u.columnWidth)?null:u.columnWidth,rt=n.isArray(u.columnWidth)?this._calculateColumnsWidthOrHeightMatrix(u.columnWidth):null,it=n.isArray(u.columnHeight)?null:u.columnHeight,ut=n.isArray(u.columnHeight)?this._calculateColumnsWidthOrHeightMatrix(u.columnHeight):null,u.animating=ct&&i>0||u.animating,v=0;v<l.length;v++)o=l[v],lt=o.item,et=o.rowIndex,ft=o.colIndex,c=o.colSpan,nt=o.rowSpan,s={},ct||u.animating?(s.left=this._calculateGlItemLeft(ft,tt,rt,p)+yt,s.top=this._calculateGlItemTop(et,it,ut,k)+pt,(w||t)&&(s.width=this._calculateGlItemWidth(ft,c,tt,rt,p)),(b||t)&&(s.height=this._calculateGlItemHeight(et,nt,it,ut,k)),i>0?lt.animate(s,{duration:i,queue:!1,complete:wt}):lt.css(s)):((w||t)&&(s.left=this._calculateGlItemLeft(ft,tt,rt,p)+yt,s.width=this._calculateGlItemWidth(ft,c,tt,rt,p)),(b||t)&&(s.top=this._calculateGlItemTop(et,it,ut,k)+pt,s.height=this._calculateGlItemHeight(et,nt,it,ut,k)),lt.css(s));u.animating||(this._glReflowNeeded()?this.reflow(!1,i,r):(u.initialReflow&&(this._setGlInitialConfig(),u.initialReflow=!1),this._triggerInternalResized(r)))}},_updateGlColumnWidthByRatio:function(t){var i=this._opt.gridLayout,f=i.marginLeft,u=!1,r;if(n.isArray(i.columnWidthRatio))for(r=0;r<i.columnWidthRatio.length;r++)i.columnWidthRatio[r]&&(i.columnWidth[r]=Math.floor(t*i.columnWidthRatio[r]-f),u=!0);else i.columnWidthRatio&&(i.columnWidth=Math.floor(t*i.columnWidthRatio-f),u=!0);return u=this._analyzeGlWidthAsterisks()||u},_updateGlColumnHeightByRatio:function(t){var i=this._opt.gridLayout,f=i.marginTop,u=!1,r;if(n.isArray(i.columnHeightRatio))for(r=0;r<i.columnHeightRatio.length;r++)i.columnHeightRatio[r]&&(i.columnHeight[r]=Math.floor(t*i.columnHeightRatio[r]-f),u=!0);else i.columnHeightRatio&&(i.columnHeight=Math.floor(t*i.columnHeightRatio-f),u=!0);return u=this._analyzeGlHeightAsterisks()||u},_initBorderLayout:function(){var i,r,e,f,u,a,v,c,s,h,l,o,t=this.options.borderLayout;if(this.element.addClass(this.css.border),i=this.element.find(".left"),f=this.element.find(".header"),r=this.element.find(".right"),e=this.element.find(".center"),u=this.element.find(".footer"),i.length===0&&(this._trigger(this.events.itemRendering,null,{region:"left"}),i=n("<div><\/div>").appendTo(this.element),this._removeLeft=!0,this._trigger(this.events.itemRendered,null,{region:"left",element:i})),t.showLeft?i.removeClass(this.css.borderItemHidden):i.addClass(this.css.borderItemHidden),i.addClass(this.css.borderItem).addClass(this.css.borderLeft),r.length===0&&(this._trigger(this.events.itemRendering,null,{region:"right"}),r=n("<div><\/div>").appendTo(this.element),this._removeRight=!0,this._trigger(this.events.itemRendered,null,{region:"right",element:r})),t.showRight?r.removeClass(this.css.borderItemHidden):r.addClass(this.css.borderItemHidden),r.addClass(this.css.borderItem).addClass(this.css.borderRight),e.length===0&&(this._trigger(this.events.itemRendering,null,{region:"center"}),e=n("<div><\/div>").appendTo(this.element),this._removeCenter=!0,this._trigger(this.events.itemRendered,null,{region:"center",element:e})),e.addClass(this.css.borderItem).addClass(this.css.borderCenter),u.length===0&&(this._trigger(this.events.itemRendering,null,{region:"footer"}),u=n("<div><\/div>").appendTo(this.element),this._removeFooter=!0,this._trigger(this.events.itemRendered,null,{region:"footer",element:u})),t.showFooter?u.removeClass(this.css.borderItemHidden):u.addClass(this.css.borderItemHidden),u.addClass(this.css.borderItem).addClass(this.css.borderFooter),f.length===0&&(this._trigger(this.events.itemRendering,null,{region:"header"}),f=n("<div><\/div>").appendTo(this.element),this._removeHeader=!0,this._trigger(this.events.itemRendered,null,{region:"header",element:f})),t.showHeader?f.removeClass(this.css.borderItemHidden):f.addClass(this.css.borderItemHidden),f.addClass(this.css.borderItem).addClass(this.css.borderHeader),c=n("<div><\/div>").appendTo(this.element).addClass(this.css.borderContainer).append(i).append(r).append(e),this.element.append(u),t.leftWidth!==null&&t.showLeft?i.css("width",t.leftWidth):(t.showLeft===!1||i.length===0)&&c.css("padding-left",0),t.rightWidth!==null&&t.showRight?r.css("width",t.rightWidth):(t.showRight===!1||r.length===0)&&c.css("padding-right",0),v=t.leftWidth&&t.leftWidth.indexOf&&t.leftWidth.indexOf("%")!==-1?0:parseInt(t.leftWidth,10),a=t.rightWidth&&t.rightWidth.indexOf&&t.rightWidth.indexOf("%")!==-1?0:parseInt(t.rightWidth,10),this.element.css("min-width",v+a),this._opt.borderLayout={header:f,footer:u,paddingTop:null,paddingBottom:null},this._setBorderLayoutPaddings(),this.options.height===null){for(s=i.add(r).add(e),o=0,h=0;o<s.length;o++)l=s.eq(o).hasClass(this.css.borderItemHidden)?0:s.eq(o).outerHeight(!0),l>h&&(h=l);this.element.height(h)}this._trigger(this.events.rendered,null,{owner:this})},_setBorderLayoutPaddings:function(){var t,i,r,u,n=this._opt.borderLayout;n.header.length&&(r=n.header.hasClass(this.css.borderItemHidden),t=r?0:n.header.outerHeight(!0),n.paddingTop!==t&&(n.paddingTop=t,this.element.css("paddingTop",n.paddingTop))),n.footer.length&&(u=n.footer.hasClass(this.css.borderItemHidden),i=u?0:n.footer.outerHeight(!0),n.paddingBottom!==i&&(n.paddingBottom=i,this.element.css("paddingBottom",n.paddingBottom)))},_initFlowLayout:function(){var t,u=this.options.itemCount,i=this.options.items,r;if(this.element.addClass(this.css.flow),u>0){for(t=0;t<u;t++)this._trigger(this.events.itemRendering,null,{index:t}),r=n("<li><\/li>").appendTo(this.element).addClass(this.css.flowItem),this.options.destroyItems=!0,this._trigger(this.events.itemRendered,null,{item:r,index:t});this._trigger(this.events.rendered,null,{owner:this})}else if(i&&i.length>0){for(this.element.empty(),t=0;t<i.length;t++)this._trigger(this.events.itemRendering,null,{itemData:i[t],index:t}),r=n("<li><\/li>").appendTo(this.element).addClass(this.css.flowItem),i[t].width&&r.css("width",i[t].width),i[t].height&&r.css("height",i[t].height),this._trigger(this.events.itemRendered,null,{item:r,index:t});this.options.destroyItems=!0,this._trigger(this.events.rendered,null,{owner:this})}else this.element.children().addClass(this.css.flowItem)},_triggerInternalResizing:function(n){var t={owner:this};return this._trigger(this.events.internalResizing,n,t)},_triggerInternalResized:function(n){var t={owner:this};return this._trigger(this.events.internalResized,n,t)},_destroyBorderLayout:function(){this.element.removeClass(this.css.border),this.element.find("."+this.css.borderLeft).length?this.element.find("."+this.css.borderLeft).unwrap():this.element.find("."+this.css.borderRight).unwrap(),this._removeLeft&&this.element.children("."+this.css.borderLeft).remove(),this._removeRight&&this.element.children("."+this.css.borderRight).remove(),this._removeCenter&&this.element.children("."+this.css.borderCenter).remove(),this._removeHeader&&this.element.children("."+this.css.borderHeader).remove(),this._removeFooter&&this.element.children("."+this.css.borderFooter).remove(),this.element.children().removeClass(this.css.borderItem).removeClass(this.css.borderLeft).removeClass(this.css.borderRight).removeClass(this.css.borderCenter).removeClass(this.css.borderFooter).removeClass(this.css.borderHeader),this.element.find("."+this.css.borderItemHidden).removeClass(this.css.borderItemHidden)},_destroyGridLayout:function(){var n=this.element.children();n.slice(this._opt.gridLayout.destroyItemsFromIndex).remove(),n.removeClass(this.css.item).removeClass(this.css.gridItemAbs).removeClass(this.css.gridItemRel).removeAttr("data-index")},_destroyFlowLayout:function(){this.element.removeClass(this.css.flow),this.options.destroyItems?this.element.empty():this.element.children().removeClass(this.css.flowItem)},_destroyVerticalLayout:function(){this.element.removeClass(this.css.vertical),this.options.destroyItems?this.element.empty():this.element.children().removeClass(this.css.verticalItem)},destroy:function(){this._superApply(arguments),this.element.removeClass(this.css.container);switch(this.options.layoutMode){case"grid":this._destroyGridLayout();break;case"border":this._destroyBorderLayout();break;case"flow":this._destroyFlowLayout();break;case"vertical":this._destroyVerticalLayout()}return this._opt.resizeLayout&&n(window).off("resize",this._opt.eventHandlers.windowResizeHandler),this}}),n.extend(n.ui.igLayoutManager,{version:"19.2.25"})}(n),function(n){n.widget("ui.igSplitter",n.ui.igWidget,{_const:{orientations:{horizontal:{size:"height",oppositeSize:"width",outerSize:"outerHeight",dimention:"top",start:"_startY",mouse:"_mouseStartY",page:"pageY",keyboard:["UP","DOWN"]},vertical:{size:"width",oppositeSize:"height",outerSize:"outerWidth",dimention:"left",start:"_startX",mouse:"_mouseStartX",page:"pageX",keyboard:["LEFT","RIGHT"]}},properties:["max","_max","min","_min","size","collapsed","collapsible","resizable"],step:10,touchEvents:{mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove",mouseenter:"",mouseleave:"",focus:"focus",blur:"blur",keydown:"keydown"}},css:{splitter:"ui-igsplitter ui-widget ui-widget-content",verticalPanel:"ui-igsplitter-panel-vertical ui-widget-content",horizontalPanel:"ui-igsplitter-panel-horizontal ui-widget-content",bar:"ui-igsplitter-splitbar",barNormal:"ui-igsplitter-splitbar-default ui-state-default",barCollapsed:"ui-igsplitter-splitbar-collapsed",barHover:"ui-igsplitter-splitbar-hover ui-state-hover",barActive:"ui-igsplitter-splitbar-focus ui-state-focus",barInvalid:"ui-igsplitter-splitbar-invalid",resizeHandler:"ui-igsplitter-splitbar-resize-handler",resizeHandlerInner:"ui-igsplitter-splitbar-resize-handler-inner",verticalCollapseButtonLeftExpanded:"ui-igsplitter-collapse-button-vertical-left",verticalCollapseButtonLeftExpandedIcon:"ui-icon ui-icon-triangle-1-w",verticalCollapseButtonLeftCollapsed:"ui-igsplitter-collapse-button-vertical-left",verticalCollapseButtonLeftCollapsedIcon:"ui-icon ui-icon-triangle-1-e",verticalCollapseButtonRightExpanded:"ui-igsplitter-collapse-button-vertical-right",verticalCollapseButtonRightExpandedIcon:"ui-icon ui-icon-triangle-1-e",verticalCollapseButtonRightCollapsed:"ui-igsplitter-collapse-button-vertical-right",verticalCollapseButtonRightCollapsedIcon:"ui-icon ui-icon-triangle-1-w",horizontalCollapseButtonLeftExpanded:"ui-igsplitter-collapse-button-horizontal-left",horizontalCollapseButtonLeftExpandedIcon:"ui-icon ui-icon-triangle-1-n",horizontalCollapseButtonLeftCollapsed:"ui-igsplitter-collapse-button-horizontal-left",horizontalCollapseButtonLeftCollapsedIcon:"ui-icon ui-icon-triangle-1-s",horizontalCollapseButtonRightExpanded:"ui-igsplitter-collapse-button-horizontal-right",horizontalCollapseButtonRightExpandedIcon:"ui-icon ui-icon-triangle-1-s",horizontalCollapseButtonRightCollapsed:"ui-igsplitter-collapse-button-horizontal-right",horizontalCollapseButtonRightCollapsedIcon:"ui-icon ui-icon-triangle-1-n",collapseButtonDefault:"ui-state-default",collapseButtonSingle:"ui-igsplitter-collapse-single-button",collapseButtonPressed:"ui-igsplitter-collapse-button-pressed",collapseButtonHover:"ui-igsplitter-collapse-button-hover ui-state-hover",noScroll:"ui-igsplitter-no-scroll"},events:{collapsed:"collapsed",expanded:"expanded",resizeStarted:"resizeStarted",resizing:"resizing",resizeEnded:"resizeEnded",layoutRefreshing:"layoutRefreshing",layoutRefreshed:"layoutRefreshed"},options:{width:null,height:null,orientation:"vertical",panels:[{size:null,min:null,max:null,resizable:!1,collapsed:!1,collapsible:!1}],dragDelta:3,resizeOtherSplitters:!0},widget:function(){return this.element},_createWidget:function(){this.options.panels=[],this._opt={eventHandlers:{},defaultPanelSize:"50%",defaultPanelMaxSize:9007199254740992,calculateSizeCloneObject:{element:null,panels:[{options:{},element:null},{options:{},element:null}],bar:{element:null}}},this._superApply(arguments)},_create:function(){var t,i=n(this.element.children("div")).length;if(this._htmlMarkup=this.element.html(),this.options.panels.length>2||i>2)throw new Error(this._getLocaleValue("errorPanels"));i===1?this.element.append("<div/>"):i===0&&(this.element.append("<div/>"),this.element.append("<div/>")),this._panels=[],this._splitter={},t=n.data(document.body,"ig-splitters")||[],t.push(this.element),n.data(document.body,"ig-splitters",t),this.options.width&&this.element.css("width",this.options.width),this.options.height&&this.element.css("height",this.options.height),this._opt.barMouseDown=!1,this._render(),this._removeClasses(),this._addClasses(),this._removeEventHandlers(),this._addEventHandlers(),this._panelsLayout({isInit:!0})},_setOption:function(n,t){var i,r;if(this.options[n]!==t){this._super(n,t);switch(n){case"width":i=this.element.width(),this.element.css("width",t),this.options.orientation==="vertical"&&this._setPanelsNewWidth(t,i),this._panelsLayout();break;case"height":r=this.element.height(),this.element.css("height",t),this.options.orientation==="horizontal"&&this._setPanelsNewHeight(t,r),this._panelsLayout();break;case"orientation":case"panels":throw new Error(this._getLocaleValue("errorSettingOption"));}}},_setPanelsNewWidth:function(n,t){var i=this.secondPanel().width()/t;this.setSecondPanelSize(n*i)},_setPanelsNewHeight:function(n,t){var i=this.secondPanel().height()/t;this.setSecondPanelSize(n*i)},_render:function(){var e=n(this.element.children("div")),i,t=this,u,f=0,r,o;u=this._reducedSize(),this.options[this._getOrientation("size")]?(o=this._getOrientation("size")==="width"?this.element.width():this.element.height(),f=o-u.size):f=this._getSize(this._getOrientation("size"))-u.size,e.length-u.length!=0&&(f=Math.floor(f/(e.length-u.length))),this._panels.length<1&&(e.each(function(u,e){for(i=n(e),i.options={max:t._opt.defaultPanelMaxSize,_max:"100%",min:0,_min:"0",collapsible:!1,resizable:!0,collapsed:!1,size:i[t._getOrientation("size")]()},r=0;r<t._const.properties.length;r++)t.options.panels[u]&&t.options.panels[u][t._const.properties[r]]!==undefined&&t.options.panels[u][t._const.properties[r]]!==null?i.options[t._const.properties[r]]=t.options.panels[u][t._const.properties[r]]:t._const.properties[r]==="size"&&(i.options.size=i[0].style[t._getOrientation("size")]!=="auto"&&i[0].style[t._getOrientation("size")]!==""?i[t._getOrientation("size")]():f);t._panels.push(i)}),this._createSplitter())},_reducedSize:function(){for(var t={size:0,length:0},i=0,n=0;n<this.options.panels.length;n++)i=0,this.options.panels[n].size!==undefined&&(/%/.test(this.options.panels[n].size)&&(this.options.panels[n].size=this.options.panels[n].size.replace("%","")*this._getSize(this._getOrientation("size"))/100,this._isPercentLayout=!0),/px/.test(this.options.panels[n].size)&&(this.options.panels[n].size=parseInt(this.options.panels[n].size,10)),i=this.options.panels[n].size,t.length+=1),this.options.panels[n].min!==undefined&&(/px/.test(this.options.panels[n].min)&&(this.options.panels[n].min=parseInt(this.options.panels[n].min,10)),/%/.test(this.options.panels[n].min)&&(this.options.panels[n]._min=this.options.panels[n].min,this.options.panels[n].min=this.options.panels[n].min.replace("%","")*this._getSize(this._getOrientation("size"))/100)),this.options.panels[n].max!==undefined&&(/px/.test(this.options.panels[n].max)&&(this.options.panels[n].max=parseInt(this.options.panels[n].max,10)),/%/.test(this.options.panels[n].max)&&(this.options.panels[n]._max=this.options.panels[n].max,this.options.panels[n].max=this.options.panels[n].max.replace("%","")*this._getSize(this._getOrientation("size"))/100)),t.size+=i;return t},_getSize:function(t){var i,f=this.element.css("box-sizing"),r,u;return window.getComputedStyle!==undefined?(r=parseInt(window.getComputedStyle(this.element[0])[t],10),u=function(n,t){var i=window.getComputedStyle(n[0]),r,u,f,e;return t==="horizontal"?(r=isNaN(parseInt(i.borderLeftWidth,10))?0:parseInt(i.borderLeftWidth,10),u=isNaN(parseInt(i.borderRightWidth,10))?0:parseInt(i.borderRightWidth,10),Math.max(r,u)):(f=isNaN(parseInt(i.borderTopWidth,10))?0:parseInt(i.borderTopWidth,10),e=isNaN(parseInt(i.borderBottomWidth,10))?0:parseInt(i.borderBottomWidth,10),Math.max(f,e))},f==="border-box")?(n.ig.util.isChrome&&n.ig.util.isChrome.webstore?(i=this.element.css("border-width")===""?0:this.element.css("border-width"),i=parseInt(i,10)):i=u(this.element,this.options.orientation),r-=i*2):r:this.element[t]()},_getOrientation:function(n){return this._const.orientations[this.options.orientation][n]},_getEvent:function(n){return this._isTouch()?n+" "+this._const.touchEvents[n]:n},_isTouch:function(t){var i=n.ig.util.isTouch;return t&&(i=i&&t.originalEvent.touches),i},_createSplitter:function(){var r=n("<div><span><\/span><\/div><div><span><\/span><\/div>"),t=n("<div><\/div>").attr("tabindex",0),i;this._splitter={left:this._panels[0],right:this._panels[1]},t.insertAfter(this._panels[0]),this._splitter.bar=t,this._splitter.bar.append(r),i=n("<div/>").appendTo(this._splitter.bar),n("<span><\/span>")[this._getOrientation("size")](this._splitter.bar[this._getOrientation("size")]).attr("title","").appendTo(i)},_removeClasses:function(){var i,r,u,t;if(this.element.removeClass(this.css.splitter),this._splitter||this._panels){for(t=0;t<this._panels.length;t++)this._panels[t].removeClass(this.css[this.options.orientation+"Panel"]);this._splitter.bar.removeClass(this.css.bar+"-"+this.options.orientation),this._splitter.bar.removeClass(this.css.barNormal),this._splitter.bar.removeClass(this.css.barCollapsed),i=n(this._splitter.bar.children()[0]),r=n(this._splitter.bar.children()[1]),i.removeClass(this.css[this.options.orientation+"CollapseButtonLeftExpanded"]),r.removeClass(this.css[this.options.orientation+"CollapseButtonRightExpanded"]),i.removeClass(this.css.collapseButtonDefault),r.removeClass(this.css.collapseButtonDefault),u=n(this._splitter.bar.children()[2]),u.removeClass(this.css.resizeHandler+"-"+this.options.orientation),n(u.children()[0]).removeClass(this.css.resizeHandlerInner+"-"+this.options.orientation)}},_addClasses:function(){var t,i,r,u;for(this.element.addClass(this.css.splitter),r=0;r<this._panels.length;r++)this._panels[r].addClass(this.css[this.options.orientation+"Panel"]);this._splitter.bar.addClass(this.css.bar+"-"+this.options.orientation),this._splitter.bar.addClass(this.css.barNormal),(this._panels[0].options.collapsed||this._panels[1].options.collapsed)&&this._splitter.bar.addClass(this.css.barCollapsed),t=n(this._splitter.bar.children()[0]),i=n(this._splitter.bar.children()[1]),t.addClass(this.css[this.options.orientation+"CollapseButtonLeftExpanded"]),n(t.children()).addClass(this.css[this.options.orientation+"CollapseButtonLeftExpandedIcon"]),i.addClass(this.css[this.options.orientation+"CollapseButtonRightExpanded"]),n(i.children()).addClass(this.css[this.options.orientation+"CollapseButtonRightExpandedIcon"]),u=n(this._splitter.bar.children()[2]),u.addClass(this.css.resizeHandler+"-"+this.options.orientation),n(u.children()[0]).addClass(this.css.resizeHandlerInner+"-"+this.options.orientation),this._panels[0].options.collapsible||(t.hide(),i.addClass(this.css.collapseButtonSingle)),this._panels[1].options.collapsible||(i.hide(),t.addClass(this.css.collapseButtonSingle)),t.addClass(this.css.collapseButtonDefault),i.addClass(this.css.collapseButtonDefault),this.options.disabled&&(this.options.disabled=!1,this._setOption("disabled",!0))},_removeEventHandlers:function(){this._splitter&&(n(this._splitter.bar).unbind(this._getEvent("focus"),this._getEvent("blur"),this._getEvent("keydown")),n(this._splitter.bar.children()[0]).unbind(this._getEvent("mousedown")),n(this._splitter.bar.children()[1]).unbind(this._getEvent("mousedown")),this._isTouch()||(n(this._splitter.bar).unbind(this._getEvent("mouseenter"),this._getEvent("mouseleave")),n(this._splitter.bar.children()[0]).unbind(this._getEvent("mouseenter"),this._getEvent("mouseleave")),n(this._splitter.bar.children()[1]).unbind(this._getEvent("mouseenter"),this._getEvent("mouseleave"))))},_addEventHandlers:function(){var t=this,i=this.options;t.autoResize=!0,this._opt.eventHandlers.documentMouseUp=function(){i.disabled||(t.autoResize=!1,t._stopDrag(t),t.autoResize=!0,t._lastMove=null,t._opt.barMouseDown=!1)},this._opt.eventHandlers.documentMouseMove=function(n){if(!i.disabled){var r=!0;if(t._currentMove=t._isTouch(n)?n.originalEvent.touches[0][t._getOrientation("page")]:n[t._getOrientation("page")],t._capturedElement&&t._isDragging()&&!t._isDrag&&(t._triggerResizeStarted(),t._isDrag=!0),t._capturedElement&&t._isDragging()&&(r=t._triggerResizing()),r&&t._isDragging())t._performDrag(t,n);else return!1}},this._opt.eventHandlers.windowResize=function(){var n=t._triggerLayoutRefreshing();n&&(t._panelsLayout({isWindowResize:!0}),t._triggerLayoutRefreshed())},n(document).bind(this._getEvent("mouseup")+"."+this.element.attr("id"),this._opt.eventHandlers.documentMouseUp).bind(this._getEvent("mousemove")+"."+this.element.attr("id"),this._opt.eventHandlers.documentMouseMove),n(window).bind("resize."+this.element.attr("id"),this._opt.eventHandlers.windowResize),this._addBarHandlers(),this._addCollapseButtonHandlers(n(this._splitter.bar.children()[0]),0),this._addCollapseButtonHandlers(n(this._splitter.bar.children()[1]),1)},_isDragging:function(){return this.element.find("iframe").length?!0:Math.abs(this._currentMove-this._lastMove)>this.options.dragDelta},_addBarHandlers:function(){var i=this,t=this._splitter,r=this.options;t.bar.bind(this._getEvent("mousedown"),{self:this},this._startDrag).bind(this._getEvent("mousedown"),function(){r.disabled||(i._opt.barMouseDown=!0)}),this._splitter.bar.find("."+this.css.resizeHandler+"-"+this.options.orientation).bind(this._getEvent("mousedown"),{self:this},this._startDrag),t.bar.bind(this._getEvent("keydown"),{self:this},this._kbNavigation),this._isTouch()||(t.bar.bind(this._getEvent("mouseenter"),function(){r.disabled||n(this).addClass(i.css.barHover)}),t.bar.bind(this._getEvent("mouseleave"),function(){r.disabled||n(this).removeClass(i.css.barHover)})),t.bar.bind(this._getEvent("focus"),function(){r.disabled||n(this).addClass(i.css.barActive)}),t.bar.bind(this._getEvent("blur"),function(){r.disabled||n(this).removeClass(i.css.barActive)})},_kbNavigation:function(t){var i=t.data.self,r=!0;if(!i.options.disabled)if(t.keyCode===n.ui.keyCode[i._getOrientation("keyboard")[0]]){if(t.ctrlKey)i._stopDrag(i,!0,!0),i._panels[1].options.collapsed?i.expandAt(1):i._panels[0].options.collapsed||i.collapseAt(0);else{if(i._startDrag(t),i._kbMove-=i._kbLockRight?0:i._getStep(),i._capturedElement&&!i._isDrag&&(i._triggerResizeStarted(),i._isDrag=!0),i._capturedElement&&(r=i._triggerResizing()),r)i._performDrag(i,t);else return!1;i._capturedElement&&i._capturedElement.hasClass(i.css.barInvalid)?(i._kbLockRight=!0,i._kbLockLeft=!1):(i._kbLockRight=!1,i._kbLockLeft=!1)}t.preventDefault()}else if(t.keyCode===n.ui.keyCode[i._getOrientation("keyboard")[1]]){if(t.ctrlKey)i._stopDrag(i,!0,!0),i._panels[0].options.collapsed?i.expandAt(0):i._panels[1].options.collapsed||i.collapseAt(1);else{if(i._startDrag(t),i._kbMove+=i._kbLockLeft?0:i._getStep(),i._capturedElement&&!i._isDrag&&(i._triggerResizeStarted(),i._isDrag=!0),i._capturedElement&&(r=i._triggerResizing()),r)i._performDrag(i,t);else return!1;i._capturedElement&&i._capturedElement.hasClass(i.css.barInvalid)?(i._kbLockRight=!1,i._kbLockLeft=!0):(i._kbLockRight=!1,i._kbLockLeft=!1)}t.preventDefault()}else t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE?(i._stopDrag(i,!1,!0),t.preventDefault()):t.keyCode===n.ui.keyCode.ESCAPE?i._stopDrag(i,!0):t.keyCode===n.ui.keyCode.TAB&&i._stopDrag(i,!1,!0)},_startDrag:function(t){var r,u,f,i=t.data.self;if(!i.options.disabled)return(i._splitter.bar.focus(),i._resizeArea=i._splitter,i._resizeArea!==null)?((i._resizeArea.left.options.resizable===undefined||i._resizeArea.left.options.resizable)&&(i._resizeArea.right.options.resizable===undefined||i._resizeArea.right.options.resizable)&&(r=i._resizeArea.left,u=i._resizeArea.right,r.options.collapsed||u.options.collapsed||u.options.max<=u[i._getOrientation("outerSize")]()&&r.options.max<=r[i._getOrientation("outerSize")]()||i._capturedElement||(i._lastMove=i._isTouch(t)?t.originalEvent.touches[0][i._getOrientation("page")]:t[i._getOrientation("page")],i._capturedElement=n(t.target).is("span")?i._clone(n(n(t.target).parent()).parent(),i):i._clone(t.target,i),f=n.ig.util.offset(i._capturedElement),i._startX=f.left,i._startY=f.top,i._kbMove=0,i._kbLockLeft=!1,i._kbLockRight=!1,i._mouseStartX=i._isTouch(t)?t.originalEvent.touches[0].pageX:t.pageX,i._mouseStartY=i._isTouch(t)?t.originalEvent.touches[0].pageY:t.pageY)),!1):!1},_clone:function(t,i){var e=this._opt,u=n(t),r=u.clone(),f=n.ig.util.offset(u);return r.css({position:"absolute",top:f.top,left:f.left,"z-index":9999}).fadeTo(0,.7),r.mouseup(function(){i.options.orientation==="vertical"?e.barMouseDown&&Math.round(f.left)===Math.round(n.ig.util.offset(r).left)&&u.trigger("click"):e.barMouseDown&&Math.round(f.top)===Math.round(n.ig.util.offset(r).top)&&u.trigger("click"),e.barMouseDown=!1}),n(document.body).append(r),r},_addCollapseButtonHandlers:function(t,i){var r=this,u=this.options;t.bind(this._getEvent("mouseenter"),function(t){if(!u.disabled)return n(n(this).parent()).removeClass(r.css.barHover),n(this).addClass(r.css.collapseButtonHover),t.stopPropagation!==undefined&&t.stopPropagation(),t.preventDefault!==undefined&&t.preventDefault(),!1}),t.bind(this._getEvent("mouseleave"),function(){u.disabled||(n(n(this).parent()).addClass(r.css.barHover),n(this).removeClass(r.css.collapseButtonHover))}),t.bind("mousedown touchstart",function(t){if(!u.disabled)return n(this).toggleClass(r.css.collapseButtonPressed),r._panels[i].options.collapsed?r.expandAt(i):r.collapseAt(i),t.stopPropagation!==undefined&&t.stopPropagation(),t.preventDefault!==undefined&&t.preventDefault(),!1})},_performDrag:function(n,t){var r=n._isTouch(t)?t.originalEvent.touches[0][n._getOrientation("page")]:t[n._getOrientation("page")],i;return n._capturedElement?(i=t.type==="keydown"?n[n._getOrientation("start")]+n._kbMove:r-n[n._getOrientation("mouse")]+n[n._getOrientation("start")],n._moveBar(i),!1):!0},_moveBar:function(n){n=this._validatePosition(n),n.invalid?this._capturedElement.addClass(this.css.barInvalid):this._capturedElement.removeClass(this.css.barInvalid),this._capturedElement.css(this._getOrientation("dimention"),n.position)},_validatePosition:function(n){var t=this._resizeArea,i=this._getNextBoundary(t),r=this._getPreviousBoundary(t),u=Math.min(i,i-t.right.options.min,r+t.left.options.max),f=Math.max(r,r+t.left.options.min,i-t.right.options.max),e;return f>u?(e=t.right.igOffset()[this._getOrientation("dimention")]-this._capturedElement[this._getOrientation("outerSize")](!0),{position:e,invalid:!0}):n<f?{position:f,invalid:!0}:n>u?{position:u,invalid:!0}:{position:n,invalid:!1}},_getNextBoundary:function(n){var t=n.right.igOffset()[this._getOrientation("dimention")]+n.right[this._getOrientation("size")]()-this._capturedElement[this._getOrientation("outerSize")](!0);return n.right.options.collapsed&&(t-=n.right.options.min),t},_getPreviousBoundary:function(n){var t=n.left.igOffset()[this._getOrientation("dimention")];return n.left.options.collapsed&&(t+=n.left.options.min),t},_stopDrag:function(n,t,i){n._capturedElement&&(!t&&(n._isDrag||i)&&n._performAreaResize(),n._capturedElement.remove(),n._isDrag=!1),n._capturedElement=null},_performAreaResize:function(){var t=this._resizeArea,i=n.ig.util.offset(this._capturedElement)[this._getOrientation("dimention")]-this[this._getOrientation("start")],r=t.left[this._getOrientation("size")]()+i,u=t.right[this._getOrientation("size")]()-i;this._setPanelSize(t.left,r),this._setPanelSize(t.right,u),i!==0&&this._triggerResizeEnded(),this._splittersLayout()},_splittersLayout:function(){for(var r=n.data(document.body,"ig-splitters")||[],t,i=0;i<r.length;i++)t=r[i],t===this.element?t.data("igSplitter")._panelsLayout():this.options.resizeOtherSplitters&&t.data("igSplitter")._panelsLayout()},_getSplitBarSize:function(){var n,t,i,r,u=this._splitter.bar[0],f=this._const.orientations[this.options.orientation].size;return n=window.getComputedStyle?window.getComputedStyle(u,null):u.currentStyle,t=n[f],i=n.borderLeftWidth,r=parseFloat(t)+2*parseFloat(i),Math.ceil(r)},_panelsLayout:function(n){for(var s,a,e,h,i=(this._panels.length-1)*this._getSplitBarSize(),o=this._getOrientation("size"),r=this._getOrientation("oppositeSize"),u=this._getSize(o),c=this._splitter.bar.children(),v=new RegExp("%"),f=this._opt.calculateSizeCloneObject.panels,l,t=0;t<this._panels.length;t++)this._panels[t].options.collapsed?(s=c.eq(t),a=s.children(),this._handlerPanelSize(this._panels[t],i,u),c.eq((t+1)%2).hide(),s.removeClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"Expanded"]).addClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"Collapsed"]),a.removeClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"ExpandedIcon"]).addClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"CollapsedIcon"])):i+=this._handlerPanelSize(this._panels[t],i,u);v.test(this.options[o])||!this.options[o]?n&&n.isWindowResize?this._calculateSizeWithClone():(f[0].options={min:this._getPanelInitMin(0),max:this._getPanelInitMax(0)},f[1].options={min:this._getPanelInitMin(1),max:this._getPanelInitMax(1)},this._isPercentLayout||!this.options.panels.length||(this.options.panels[0]===undefined||this.options.panels[0].size===undefined)&&(this.options.panels[1]===undefined||this.options.panels[1].size===undefined)?(h=this._getPanelsSizeInPercentages.call(this,o),f[0].options.size=h[0],f[1].options.size=h[1]):(f[0].options.size=this.options.panels[0]&&this.options.panels[0].size&&this._panels[0].options.size,f[1].options.size=this.options.panels[1]&&this.options.panels[1].size&&this._panels[1].options.size),n&&n.isInit&&this._calculateSizeWithClone(),i<u&&!(n&&n.isInit)&&this._createPanel(u,i,this._panels.length-1)):i<u&&this._createPanel(u,i,this._panels.length-1),e=this.element[r](),l="outer"+r.charAt(0).toUpperCase()+r.slice(1),e===this._splitter.bar[l](!0)&&(e-=this._splitter.bar[l](!0)-this._splitter.bar[r]()),this._splitter.bar[r](e),c.eq(2).find("span")[r](e)},_calculateSizeWithClone:function(){var c,l,tt,w,b,k,it=this._getOrientation("oppositeSize"),o=this._opt.calculateSizeCloneObject,f=o.panels,y=o.bar.element,i=f[0].element,r=f[1].element,t=this._getOrientation("size"),rt="outer"+t.charAt(0).toUpperCase()+t.slice(1),e="min-"+t,s="max-"+t,u={},a=this._getSize(t),p=this._getSplitBarSize(),d=f[0].options.size,v=f[1].options.size&&/%/.test(f[1].options.size)?a*f[1].options.size.replace("%","")/100-p:f[1].options.size,g=this._panels[0].options.collapsed,nt=this._panels[1].options.collapsed,h=g||nt,ut,ft;o.element&&i&&r&&y||(c=this.element.clone().html(""),c.removeAttr("id").css({top:-99999,left:-99999,position:"absolute"}).addClass("calc-size-clone"),r=n("<div>"),u={float:"right"},u[it]="100%",r.prop("className",this._panels[1].prop("className")),r.css(u).appendTo(c),y=n("<div>"),y.css(u).appendTo(c),u={},u[it]="100%",u.overflow="hidden",i=n("<div>"),i.prop("className",this._panels[0].prop("className")),i.css(u).appendTo(c),u={},o.element=c,f[0].element=i,f[1].element=r,o.bar.element=y),u[s]=h?"":f[1].options.max,u[e]=h?0:f[1].options.min,u[t]=nt?0:g?a:v,r.css(u),y[t](p),u[s]=h?"":f[0].options.max,u[e]=h?0:f[0].options.min,u[t]=g?0:nt?a-p+"px":d,i.css(u),o.element[t](this.element[t]()),o.element.appendTo(n("body")),l=a-p,w=l-i[t](),v===undefined&&d===undefined?i[t](this._opt.defaultPanelSize):i[t]()>l&&!this._panels[1].options.size&&i[t](l),(r[t]()!==w||v===undefined&&d!==undefined)&&(d===undefined&&v>0&&!this.options[t]?l<v?(i[t](0),r[t](w)):(tt=l-v,i[t](tt)):r[t](w)),i[rt]()+r[rt]()+p!==o.element[t]()&&this._resolveSizeConflictsOfCloneObject(i,r,o.element,t),this._resolveRoundingConflictsOfCloneObject(i,i.css(e),r,a,t),this._resolveRoundingConflictsOfCloneObject(r,r.css(e),i,a,t),this.options.orientation==="vertical"&&(ut=this._panels[0][0].offsetWidth-this._panels[0][0].clientWidth,i[t](i[t]()-ut),ft=this._panels[1][0].offsetWidth-this._panels[1][0].clientWidth,r[t](r[t]()-ft)),this._setPanelSize(this._panels[1],r[t]()),r.css(e)&&r.css(e)!=="none"&&!h?(b=r.css(e),this._setPanelActualMin(1,b)):this._panels[1].css(e,""),r.css(s)&&r.css(s)!=="none"&&!h?(k=r.css(s),this._setPanelActualMax(1,k)):this._panels[1].css(s,""),this._setPanelSize(this._panels[0],i[t]()),i.css(e)&&i.css(e)!=="none"&&!h?(b=i.css(e),this._setPanelActualMin(0,b)):this._panels[0].css(e,""),i.css(s)&&i.css(s)!=="none"&&!h?(k=i.css(s),this._setPanelActualMax(0,k)):this._panels[0].css(s,""),o.element.detach()},_resolveSizeConflictsOfCloneObject:function(n,t,i,r){var e=this._getSplitBarSize(),u=i[r](),o=this._getSizeInPixels(n[r](),u),c=this._getSizeInPixels(t[r](),u),v="outer"+r.charAt(0).toUpperCase()+r.slice(1),l=this._getSizeInPixels(n[v](),u),s=this._getSizeInPixels(t[v](),u),y=u-e-c,a=u-e-o,h=this._getSizeInPixels(n.css("min-"+r),u),f=this._getSizeInPixels(t.css("min-"+r),u);o>y&&(h||f)?h&&!f?t[r](a):!h&&f?a>f?t[r](a):(t[r](f),n[r](u-e-f)):a>f?t[r](a):y>h?(t[r](f),n[r](u-e-f)):(n[r](Math.floor(h)),t.css("min-"+r,u-e-Math.floor(h))):l!==u-e-s&&(o!==l||c!==s)&&(c!==s&&t[r](c-(s-c)),s=this._getSizeInPixels(t[v](),u),l!==u-e-s&&o!==l&&n[r](o-(l-o)))},_resolveRoundingConflictsOfCloneObject:function(n,t,i,r,u){var e,f,o,s="outer"+u.charAt(0).toUpperCase()+u.slice(1),h=this._getSplitBarSize();e=Math.floor(n[0].getBoundingClientRect()[u]*1e3)/1e3,f=Math.abs(this._getSizeInPixels(n[s]())-e),0<f&&f<=1&&(t&&(t=this._getSizeInPixels(t,r),f=Math.abs(Math.floor(t)-t),0<f&&f<=1&&n.css("min-"+u,Math.floor(t)+"px")),o=Math.floor(e),n[u](o+"px"),i[u](r-h-o+"px"))},_getSizeInPixels:function(n,t){return/%/.test(n)?parseFloat(t*n.replace("%","")/100):parseFloat(n)},_getPanelInitMin:function(n){var t=this.options.panels[n];return t&&(t._min||t.min)},_getPanelInitMax:function(n){var t=this.options.panels[n];return t&&(t._max||t.max)},_getStep:function(){return this._const.step+this._splitter.bar[this._getOrientation("size")]()},_handlerPanelSize:function(n,t,i){this._isPercentLayout&&(n.options._min!==undefined&&(n.options.min=n.options._min.replace("%","")*this._getSize(this._getOrientation("size"))/100),n.options._max!==undefined&&(n.options.max=n.options._max.replace("%","")*this._getSize(this._getOrientation("size"))/100)),this._setPanelSize(n,n.options.size);var r;return t+n.options.size>=i&&!n.options.collapsed&&(r=i-t,n.options.collapsed||(this._isPercentLayout?n[this._getOrientation("size")](r/this._getSize(this._getOrientation("size"))*100+"%"):n[this._getOrientation("size")](r),n.options.size=r)),n[this._getOrientation("outerSize")](!0)},_setPanelSize:function(t,i){t.options.collapsed?(t.addClass(this.css.noScroll),t[this._getOrientation("size")](0)):(t.options.size=parseInt(i,10),t.options.size===0||this._isPercentLayout&&t.options.size<=n.ig.util.getScrollWidth()?t.addClass(this.css.noScroll):t.removeClass(this.css.noScroll),this._isPercentLayout?(i=parseInt(i,10),t[this._getOrientation("size")](i/this._getSize(this._getOrientation("size"))*100+"%")):t[this._getOrientation("size")](i))},_setPanelActualMin:function(n,t){var r,i=this._panels[n],f=this._getOrientation("size"),u=this._getSize(f);t!==undefined&&(/%/.test(t)?(this._isInitMinDefinedInPercentages(n)&&(i.options._min=t),r=u*parseFloat(t,10)/100,i.options.min=r):(t=parseInt(t,10),this._isInitMinDefinedInPercentages(n)&&(r=t/u*100,i.options._min=r+"%"),i.options.min=t,t+="px"),i.options.collapsed||i.css("min-"+this._getOrientation("size"),t))},_setPanelActualMax:function(n,t){var r,i=this._panels[n],f=this._getOrientation("size"),u=this._getSize(f);t!==undefined&&(/%/.test(t)?(this._isInitMaxDefinedInPercentages(n)&&(i.options._max=t),r=u*parseFloat(t,10)/100,i.options.max=r):(t=parseInt(t,10),this._isInitMaxDefinedInPercentages(n)&&(r=t/u*100,i.options._max=r+"%"),i.options.max=t,t+="px"),i.options.collapsed||i.css("max-"+this._getOrientation("size"),t))},_isInitMinDefinedInPercentages:function(n){var t=this.options.panels[n];return t!==undefined&&(t._min!==undefined||/%/.test(t.min))},_isInitMaxDefinedInPercentages:function(n){var t=this.options.panels[n];return t!==undefined&&(t._max!==undefined||/%/.test(t.max))},_createPanel:function(n,t,i,r){var u,e,o,f;r===undefined&&(r=!0),i===undefined&&(i=0),u=this._panels[i],e=n-t,o=u[this._getOrientation("size")](),f=e+o,u.options.collapsed?this._panelHelper(t,n):(f>u.options.max&&r&&(u.options.max=f),this._isPercentLayout?u[this._getOrientation("size")](f/this._getSize(this._getOrientation("size"))*100+"%"):u[this._getOrientation("size")](f),u.options.size=f)},_panelHelper:function(n,t){for(var i,u=!1,r=0;r<this._panels.length&&!u;r++)i=this._panels[r],i.options.collapsed||(u=!0);i[this._getOrientation("size")](t-n+i[this._getOrientation("size")]())},expandAt:function(t){var r,u=this._getOrientation("size"),i=this._panels[t];t<=this._panels.length&&t>=0&&i.options.collapsed&&(r=this._panels[t%2==0?1:0],i.options.collapsed=!1,i.options.size=Math.min(i.options.size,r[this._getOrientation("size")]()),r.options.size=r[this._getOrientation("size")]()-i.options.size,this._splitter.bar.removeClass(this.css.barCollapsed),this._panels[(t+1)%2].options.collapsible&&n(this._splitter.bar.children()[(t+1)%2]).show(),n(this._splitter.bar.children()[t]).removeClass(this.css.collapseButtonPressed),n(this._splitter.bar.children()[t]).removeClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"Collapsed"]),n(n(this._splitter.bar.children()[t]).children()).removeClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"CollapsedIcon"]),n(this._splitter.bar.children()[t]).addClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"Expanded"]),n(n(this._splitter.bar.children()[t]).children()).addClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"ExpandedIcon"]),r.css(u,r.options.size),i.css(u,i.options.size),this._setPanelMinMax(i),this._setPanelMinMax(r),this._splittersLayout(),this._triggerExpanded(t))},collapseAt:function(t){var u,r,i=this._panels[t],f=this._getOrientation("size");t<this._panels.length&&t>=0&&!i.options.collapsed&&i.options.collapsible&&(u=i[this._getOrientation("size")](),r=this._panels[t%2==0?1:0],i.options.size=u||i.options.size,i.options.collapsed=!0,this._splitter.bar.addClass(this.css.barCollapsed),n(this._splitter.bar.children()[(t+1)%2]).hide(),n(this._splitter.bar.children()[t]).addClass(this.css.collapseButtonPressed),n(this._splitter.bar.children()[t]).removeClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"Expanded"]),n(n(this._splitter.bar.children()[t]).children()).removeClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"ExpandedIcon"]),n(this._splitter.bar.children()[t]).addClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"Collapsed"]),n(n(this._splitter.bar.children()[t]).children()).addClass(this.css[this.options.orientation+"CollapseButton"+(t%2==0?"Left":"Right")+"CollapsedIcon"]),r.options.size=r[this._getOrientation("size")]()+u,r.css(f,r.options.size),i.css(f,0),this._clearPanelMinMax(i),this._clearPanelMinMax(r),this._splittersLayout(),this._triggerCollapsed(t))},_clearPanelMinMax:function(n){var t=this._getOrientation("size");parseFloat(n.css("min-"+t))&&n.css("min-"+t,""),n.css("max-"+t)&&n.css("max-"+t,"")},_setPanelMinMax:function(n){var t=this._getOrientation("size");n.options&&n.options.min&&n.css("min-"+t,n.options.min+"px"),n.options&&n.options.max&&n.options.max<this._opt.defaultPanelMaxSize&&n.css("max-"+t,n.options.max+"px")},_triggerCollapsed:function(n){var t={owner:this,index:n};this._trigger(this.events.collapsed,null,t)},_triggerExpanded:function(n){var t={owner:this,index:n};this._trigger(this.events.expanded,null,t)},_triggerResizeStarted:function(){var t={owner:this},n=this.element.find("iframe");n.length>0&&n.css("pointer-events","none"),this._trigger(this.events.resizeStarted,null,t)},_triggerResizing:function(){var n={owner:this};return this._trigger(this.events.resizing,null,n)},_triggerResizeEnded:function(){var t={owner:this},n=this.element.find("iframe");n.length>0&&n.css("pointer-events","auto"),this._trigger(this.events.resizeEnded,null,t)},_triggerLayoutRefreshing:function(){var n={owner:this};return this._trigger(this.events.layoutRefreshing,null,n)},_triggerLayoutRefreshed:function(){var n={owner:this};return this._trigger(this.events.layoutRefreshed,null,n)},firstPanel:function(){return this._panels[0]},secondPanel:function(){return this._panels[1]},refreshLayout:function(){this._panelsLayout()},setFirstPanelSize:function(n){/%/.test(n)&&(n=n.replace("%","")*this._getSize(this._getOrientation("size"))/100,this._isPercentLayout=!0),/px/.test(n)&&(n=parseInt(n,10)),this._setPanelSize(this._panels[0],n),this._splittersLayout()},setSecondPanelSize:function(n){/%/.test(n)&&(n=n.replace("%","")*this._getSize(this._getOrientation("size"))/100,this._isPercentLayout=!0),/px/.test(n)&&(n=parseInt(n,10)),this._setPanelSize(this._panels[0],this._getSize(this._getOrientation("size"))-n),this._splittersLayout()},_getPanelsSizeInPercentages:function(n){var r=this._getSize(n),f=this._getSplitBarSize(),t=r-f===this._panels[0].options.size?100:this._panels[0].options.size/r*100,u=t<0?0:t>100?100:t,i=100-u,e=i<0?0:i>100?100:i;return[u+"%",e+"%"]},destroy:function(){var r=this._opt.eventHandlers,t,i,u;for(this._removeEventHandlers(),this._removeClasses(),this.element.html(this._htmlMarkup),i=n.data(document.body,"ig-splitters")||[],t=0;t<i.length;t++)if(i[t][0].id===this.element[0].id){u=t;break}return i.splice(u,1),n.data(document.body,"ig-splitters",i),n(document).unbind(this._getEvent("mouseup"),r.documentMouseUp),n(document).unbind(this._getEvent("mousemove"),r.documentMouseMove),n(window).unbind("resize",r.windowResize),this._superApply(arguments),this._opt=null,this}}),n.extend(n.ui.igSplitter,{version:"19.2.25"})}(n),function(n){n.widget("ui.igSplitButton",{options:{items:[{name:"button1",label:"Button 1",iconClass:"ui-icon-gear"}],defaultItemName:"button1",swapDefaultEnabled:!1},events:{click:"click",expanded:"expanded",expanding:"expanding",collapsed:"collapsed",collapsing:"collapsing"},css:{container:"ui-splitbutton ui-widget ui-state-default",arrow:"ui-splitbutton-arrow",conrnersLeft:"ui-corner-left",conrnersRight:"ui-corner-right",hover:"ui-splitbutton-hover",active:"ui-state-active",focus:"ui-state-focus"},_id:function(n){return this.element[0].id+n},_renderDefaultBtn:function(){var t=this.options,i=this._getDefaultItem(t.defaultItemName);this._options.defaultButton=n('<div id="'+this._id("_"+t.defaultItemName)+'"><\/div>').appendTo(this.element).igToolbarButton({onlyIcons:!0,labelText:"&nbsp;",title:i.label,icons:{primary:i.iconClass},name:t.defaultItemName,allowToggling:!1}).addClass("ui-splitbutton-cleargaps "+this.css.conrnersLeft).removeClass("ui-corner-all")},_renderExpandBtn:function(){this._options.expandButton=n("<div id='"+this._id("_arrow")+"' class='"+this.css.arrow+"'><\/div>").igToolbarButton({onlyIcons:!0,labelText:"&nbsp;",icons:{primary:"ui-icon-triangle-1-s"},allowToggling:!1}).addClass("ui-splitbutton-cleargaps "+this.css.conrnersRight).removeClass("ui-corner-all").appendTo(this.element)},_setupElement:function(){this.element.addClass(this.css.container).attr("tabIndex",0)},_create:function(){this._options={defaultButton:null,expandButton:null,itemsList:null,isExpanded:!1,justFocused:!1},this._setupElement(),this._renderDefaultBtn(),this._renderExpandBtn(),this._createItemsList(),this._attachEvents()},_attachEvents:function(){var t=this._options;t.defaultButton.on("igtoolbarbuttonclick",n.proxy(this._onDefaultBtnClick,this));t.expandButton.on("focus",n.proxy(this._onExpandBtnFocus,this));t.expandButton.on("blur",n.proxy(this._onExpandBtnBlur,this));t.expandButton.on("igtoolbarbuttonclick",n.proxy(this._onExpandBtnClick,this));t.itemsList.on("igtoolbarbuttonclick","a",n.proxy(this._onItemClick,this));this.element.on("keypress",n.proxy(this._onEnterKeypress,this));this.element.hover(n.proxy(this._onMouseEnter,this),n.proxy(this._onMouseLeave,this))},_onDefaultBtnClick:function(n){var t=this;n.stopPropagation(),this._trigger(this.events.click,n,{name:t._options.defaultButton.igToolbarButton("option","name"),item:t.element})},_onExpandBtnClick:function(n){var t=this._options;if(!t.expandButton.is(":focus")){t.isExpanded||t.expandButton.focus();return}t.justFocused?t.justFocused=!1:this.toggle(n)},_onExpandBtnFocus:function(n){var t;this._options.isExpanded||(t=this._triggerExpanding(n),t&&(this.expand(n),this._options.justFocused=!0))},_onExpandBtnBlur:function(n){var t,i=this;this._options.isExpanded&&setTimeout(function(){t=i._triggerCollapsing(n),t&&i.collapse(n)},150)},_onItemClick:function(t){var i=n(t.currentTarget);this.options.swapDefaultEnabled&&this.switchToButton(i),t.stopImmediatePropagation(),this._trigger(this.events.click,t,{name:i.igToolbarButton("option","name")})},_onEnterKeypress:function(t){t.which===n.ui.keyCode.ENTER&&this.toggle(t)},_onMouseEnter:function(){this.element.addClass(this.css.hover)},_onMouseLeave:function(){this.element.removeClass(this.css.hover)},_getDefaultItem:function(n){for(var i=this.options,t=0;t<i.items.length;t++)if(i.items[t].name===n)return i.items[t]},_createItemsList:function(){for(var r=n("<ul class='ui-splitbutton-list ui-menu ui-widget ui-widget-content ui-corner-all'><\/ul>"),i=this.options,u,t=0;t<i.items.length;t++)i.items[t].name!==i.defaultItemName&&(u=n('<a id="'+this._id("_"+i.items[t].name)+'" class="ui-corner-all" tabindex="-1"><\/a>').igToolbarButton({onlyIcons:!0,labelText:"",title:i.items[t].label,icons:{primary:i.items[t].iconClass},name:i.items[t].name,allowToggling:!1}).addClass("ui-splitbutton-cleargaps"),n('<li class="ui-menu-item" role="menuitem"><\/li>').appendTo(r).append(u));this._options.itemsList=r.appendTo(this.element)},switchToButton:function(t){var i=this._options.defaultButton,r=typeof t=="string"?n("#"+this._id("_"+t)):t,u=i.igToolbarButton("option"),f=i.attr("id"),e=r.igToolbarButton("option"),o=r.attr("id");r.igToolbarButton("option",u).attr("id",f),i.igToolbarButton("option",e).attr("id",o).igToolbarButton("toggle")},_triggerCollapsing:function(){var n={owner:this};return this._trigger(this.events.collapsing,null,n)},_triggerCollapsed:function(){var n={owner:this};return this._trigger(this.events.collapsed,null,n)},_triggerExpanding:function(){var n={owner:this};return this._trigger(this.events.expanding,null,n)},_triggerExpanded:function(){var n={owner:this};return this._trigger(this.events.expanded,null,n)},widget:function(){return this.element},toggle:function(n){var t,i=this._options;i.isExpanded?(t=this._triggerCollapsing(n),t&&this.collapse(n)):(t=this._triggerExpanding(n),t&&this.expand(n))},collapse:function(n){var t=this,i=this._options,r=i.expandButton;i.itemsList.hide(0,function(){t.element.removeClass(t.css.active),i.expandButton.removeClass(t.css.focus),i.isExpanded=!1,n&&n.originalEvent?t._triggerCollapsed(n):r.is(":focus")&&r.blur()})},expand:function(n){var t=this,i=this._options,r=i.expandButton;i.itemsList.show(0,function(){t.element.addClass(t.css.active),i.isExpanded=!0,n&&n.originalEvent?t._triggerExpanded(n):r.is(":focus")||r.focus()})},destroy:function(){var t=this._options;n.Widget.prototype.destroy.apply(this,arguments),t.itemsList.off(),this.element.find(":ui-igToolbarButton").igToolbarButton("destroy").end().off().removeClass(this.css.container).removeAttr("tabindex").empty(),delete t.expandButton,delete t.itemsList},_setOption:function(t,i){var f=this.options,u=this,r;if(f[t]!==i){this._superApply(arguments);switch(t){case"defaultItemName":r=n("#"+u.element.attr("id")+"_"+i),r.length===1&&u.switchToButton(r)}}}}),n.extend(n.ui.igSplitButton,{version:"19.2.25"})}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["OlapDataSource:a","Object:b","Type:c","Boolean:d","ValueType:e","Void:f","IConvertible:g","IFormatProvider:h","Number:i","String:j","IComparable:k","Number:l","IComparable$1:m","IEquatable$1:n","Number:o","Number:p","Number:q","NumberStyles:r","Enum:s","Array:t","IList:u","ICollection:v","IEnumerable:w","IEnumerator:x","Error:y","Error:z","Number:aa","String:ab","StringComparison:ac","RegExp:ad","CultureInfo:ae","DateTimeFormat:af","Calendar:ag","Date:ah","Number:ai","DayOfWeek:aj","DateTimeKind:ak","CalendarWeekRule:al","NumberFormatInfo:am","CompareInfo:an","CompareOptions:ao","IEnumerable$1:ap","IEnumerator$1:aq","IDisposable:ar","StringSplitOptions:as","Number:at","Number:au","Number:av","Number:aw","Number:ax","Number:ay","Assembly:az","Stream:a0","SeekOrigin:a1","RuntimeTypeHandle:a2","MethodInfo:a3","MethodBase:a4","MemberInfo:a5","ParameterInfo:a6","TypeCode:a7","ConstructorInfo:a8","PropertyInfo:a9","IOlapDataSource:ba","OlapMetadataTreeItem:bb","ICoreOlapElement:bc","OlapMetadataTreeItemType:bd","IList$1:be","ICollection$1:bf","Hierarchy:bg","HierarchyOrigin:bh","Measure:bi","AggregatorType:bj","MeasureListLocation:bk","OlapResult:bl","OlapResultAxis:bm","PositionResolver$2:bn","List$1:bo","IArray:bp","Script:bq","IArrayList:br","Array:bs","CompareCallback:bt","MulticastDelegate:bu","IntPtr:bv","Func$3:bw","Action$1:bx","Comparer$1:by","IComparer:bz","IComparer$1:b0","DefaultComparer$1:b1","Comparison$1:b2","ReadOnlyCollection$1:b3","Predicate$1:b4","NotImplementedException:b5","IPosition$2:b6","IPositionItem$2:b7","PositionItemInfo$2:b8","Dictionary$2:b9","IDictionary$2:ca","KeyValuePair$2:cb","IDictionary:cc","IEqualityComparer$1:cd","EqualityComparer$1:ce","IEqualityComparer:cf","DefaultEqualityComparer$1:cg","InvalidOperationException:ch","ArgumentException:ci","Thread:cj","ThreadStart:ck","IHierarchicalPositionItem$2:cl","Math:cm","Enumerable:cn","Func$2:co","IOrderedEnumerable$1:cp","SortedList$1:cq","ArgumentNullException:cr","EventHandler$1:cs","AsyncCompletedEventArgs:ct","EventArgs:cu","Delegate:cv","Interlocked:cw","ListSortDirection:cx","Nullable$1:cy","OlapResultTuple:cz","OlapResultAxisMember:c0","StringBuilder:c1","Environment:c2","OlapResultCell:c3","ArrayListCollection$1:c4","INotifyCollectionChanged:c5","NotifyCollectionChangedEventHandler:c6","NotifyCollectionChangedEventArgs:c7","NotifyCollectionChangedAction:c8","Cube:c9","CubeType:da","Task$1:db","Task:dc","JQueryPromise:dd","Action:de","AggregateException:df","TaskStatus:dg","TaskCompletionSource$1:dh","JQueryDeferred:di","JQuery:dj","JQueryObject:dk","Element:dl","Node:dm","ElementAttributeCollection:dn","ElementCollection:dp","WebStyle:dq","ElementNodeType:dr","document:ds","EventListener$1:dt","Event:du","DOMTokenList:dv","EventListener:dw","IElementEventHandler:dx","ElementEventHandler:dy","ElementAttribute:dz","JQueryPosition:d0","JQueryCallback:d1","JQueryEvent:d2","JQueryUICallback:d3","Member:d4","MemberType:d5","Catalog:d6","MeasureGroup:d7","DataSourceBaseOptions:d8","IOlapDataProviderFactory:d9","IOlapDiscoverDataProvider:ea","KeyValueItem:eb","Dimension:ec","DimensionType:ed","Level:ee","MeasureGroupDimension:ef","CardinalityType:eg","Kpi:eh","OlapResultView:ei","PositionInfo:ej","ResultViewHelper:ek","IPostionComparer:el","CubeMetaItemsCache:em","KpiMeasure:en","MeasureGroupMetaItemsCache:eo","Tuple$2:ep","AxisElement:eq","MeasureList:er","TaskFactory:es","TaskExtensions:et","AxisDefinitionParser:eu","MetaTreeHelper:ev","HierarchyItemPosition:ew","KpiDimension:ex","ArgumentOutOfRangeException:ey","LevelSortDirection:ez","LevelSortBehavior:e0","TupleSortDirection:e1","DataSourceBase:e2","OlapUtilities:e3","HeaderCellsLayoutOrientation:e4","LevelSpanManager:e5","SpanSource:e6","ITableViewHeadersFactory:e7","OlapTableViewHeaderCell:e8","TableViewHeadersFactory:e9","TableViewHeaderCellSource:fa","TableSuperCompactViewHeadersFactory:fb","TreeStackAttributesBehavior:fc","OlapTableViewTreeHeaderCell:fd","TreeStackChildrenFirstBehavior:fe","TreeStackNextDimensionFirstBehavior:ff","TableViewTreeHeadersFactory:fg","Stack$1:fh","ReverseArrayEnumerator$1:fi","TableViewImpl:fj","TableViewSettings:fk","RowHeaderLayout:fl","OlapTableViewResultCell:fm","ResultHeaderSorter:fn","ResultSorter$1:fo","AxisTupleVisitor:fp","AxisHeaderSortingVisitor:fq","ResultColumnValueSorter:fr","AxisValueSortingVisitor:fs","TreeLayoutTableViewSettings:ft","SourceInitHelper:fu","CoreOlapElementType:fv","CoreOlapElementParseResult:fw","CoreOlapElementParser:fx","PivotActionStatus:fy","PivotAction:fz","AxisItemsChangeType:f0","AxisChangedAction:f1","AxisItemsChangedAction:f2","ExpansionStateChangeType:f3","ExpansionStateChangedAction:f4","PivotActionManager:f5","HierarchyFilterView:f6","FilterMember:f7","INotifyPropertyChanged:f8","PropertyChangedEventHandler:f9","PropertyChangedEventArgs:ga","FilterMemberStateChangedEventArgs:gb","jQueryUtils:gc","OlapTableView:gd","IConnection:ge","IOlapExecuteCommandProvider:gf","GetPositionIndexCompletedEventArgs:gg","ScopeType:gh","LevelType:gi","AbstractEnumerable:gj","Func$1:gk","AbstractEnumerator:gl","GenericEnumerable$1:gm","GenericEnumerator$1:gn"]);var f=n.ig.intDivide,r=n.ig.util.cast,i=n.ig.util.defType,u=n.ig.util.defEnum,o=n.ig.util.getBoxIfEnum,v=n.ig.util.getDefaultValue,y=n.ig.util.getEnumValue,c=n.ig.util.getValue,p=n.ig.util.intSToU,l=n.ig.util.nullableEquals,w=n.ig.util.nullableIsNull,b=n.ig.util.nullableNotEquals,e=n.ig.util.toNullable,k=n.ig.util.toString$1,a=n.ig.util.u32BitwiseAnd,d=n.ig.util.u32BitwiseOr,g=n.ig.util.u32BitwiseXor,nt=n.ig.util.u32LS,tt=n.ig.util.unwrapNullable,it=n.ig.util.wrapNullable,rt=String.fromCharCode,s=n.ig.util.castObjTo$t,ut=n.ig.util.compareSimple,ft=n.ig.util.compare,et=n.ig.util.replace,h=n.ig.util.stringFormat,ot=n.ig.util.stringFormat1,st=n.ig.util.stringFormat2,ht=n.ig.util.stringCompare1,ct=n.ig.util.stringCompare2,lt=n.ig.util.stringCompare3;u("MemberType:d5",!1,!1,{Unknown:0,Regular:1,All:2,Measure:3,Formula:4}),u("CardinalityType:eg",!1,!1,{One:0,Many:1}),u("AggregatorType:bj",!1,!1,{Unknown:0,Sum:1,Count:2,Min:3,Max:4,Average:5,Variance:6,Std:7,DistinctCount:8,None:9,AverageOfChildren:10,FirstNonEmpty:13,LastNonEmpty:14,ByAccount:15,Calculated:127}),u("HierarchyOrigin:bh",!0,!1,{UserDefined:1,SystemEnabled:2,SystemInternal:4}),u("LevelType:gi",!1,!1,{Account:4116,All:1,BillOfMaterialsResource:4114,Calculated:2,Channel:4193,Company:4162,CurrencyDestination:4178,CurrencySource:4177,Customer:4129,CustomerGroup:4130,CustomerHousehold:4131,GeoCity:8198,GeoContinent:8193,GeoCountry:8195,GeoCounty:8197,GeoPoint:8200,GeoPostalCode:8199,GeoRegion:8194,GeoStateOrProvince:8196,OrgUnit:4113,Person:4161,Product:4145,ProductGroup:4146,Promotion:4209,Quantitative:4115,Regular:0,Representative:4194,ReservedForFutureUse:8,Scenario:4117,Time:4,TimeDays:516,TimeHalfYears:36,TimeHours:772,TimeMinutes:1028,TimeMonths:132,TimeQuarters:68,TimeSeconds:2052,TimeUndefined:4100,TimeWeeks:260,TimeYears:20,Utility:4118}),u("DimensionType:ed",!1,!1,{Unknown:0,Time:1,Measure:2,Other:3,Quantitative:5,Accounts:6,Customers:7,Products:8,Scenario:9,Utility:10,Currency:11,Rates:12,Channel:13,Promotion:14,Organization:15,BillOfMaterials:16,Geography:17}),u("ScopeType:gh",!1,!1,{Unknown:0,Global:1,Session:2}),u("CubeType:da",!1,!1,{Cube:0,Dimension:1,Unknown:2}),u("OlapMetadataTreeItemType:bd",!1,!1,{Cube:0,Dimension:1,Group:2,UserDefinedHierarchy:3,SystemEnabledHierarchy:4,ParentChildHierarchy:5,Measure:6,Level1:7,Level2:8,Level3:9,Level4:10,Level5:11,KpiRoot:12,Kpi:13,KpiValue:14,KpiGoal:15,KpiStatus:16,KpiTrend:17,KpiWeight:18}),u("MeasureListLocation:bk",!1,!1,{Rows:0,Columns:1}),u("ExpansionStateChangeType:f3",!1,!1,{Expand:0,Collapse:1}),u("AxisItemsChangeType:f0",!1,!1,{Add:0,Remove:1}),u("PivotActionStatus:fy",!1,!1,{Created:0,Queued:1,Started:2,Canceled:3,Completed:4}),u("CoreOlapElementType:fv",!1,!1,{Catalog:0,Cube:1,Dimension:2,Hierarchy:3,Level:4,Member:5,Measure:6,MeasureList:7}),u("RowHeaderLayout:fl",!1,!1,{Standard:0,SuperCompact:1,Tree:2}),u("HeaderCellsLayoutOrientation:e4",!1,!1,{Horizontal:0,Vertical:1}),u("LevelSortBehavior:e0",!1,!1,{Alphabetical:0,System:1}),i("IOlapDataSource:ba","Object",{$type:new n.ig.Type("IOlapDataSource",null)},!0),i("OlapDataSource:a","Object",{w:null,v:null,ah:null,ai:0,j:0,g:null,init:function(i){this.w=new t.bo(t.$ej.$type,0),this.v=new t.bo(t.$ej.$type,0),this.ah=new t.bo(String,0),this.af=new t.bo(String,0),n.ig.$op.init.call(this),this._y=new t.bo(t.$eq.$type,0),this._ag=new t.bo(t.$eq.$type,0),this._z=new t.bo(t.$eq.$type,0),this._o=!1,this._al=null,this._t=!1,this._au=null,this.isInitialized(!1),this._m=!1,this._s=!1,this._n=!1,this._r=!1,this._q=!1,this._p=!1,this.catalogs(new t.c4(t.$d6.$type)),this.cubes(new t.c4(t.$c9.$type)),this.measureGroups(new t.c4(t.$d7.$type)),this.rowAxis(new t.c4(t.$bc.$type)),this.columnAxis(new t.c4(t.$bc.$type)),this.filters(new t.c4(t.$bg.$type)),this.measures(new t.c4(t.$bi.$type)),this.measureListLocation(1),this.measureListIndex(-1),this.sourceOptions(i),this.result(function(){var n=new t.bl;return n.isEmpty(!0),n}())},_isInitialized:!1,isInitialized:function(n){return arguments.length===1?(this._isInitialized=n,n):this._isInitialized},_catalogs:null,catalogs:function(n){return arguments.length===1?(this._catalogs=n,n):this._catalogs},_cubes:null,cubes:function(n){return arguments.length===1?(this._cubes=n,n):this._cubes},_cube:null,cube:function(n){return arguments.length===1?(this._cube=n,n):this._cube},_measureGroup:null,measureGroup:function(n){return arguments.length===1?(this._measureGroup=n,n):this._measureGroup},_measureGroups:null,measureGroups:function(n){return arguments.length===1?(this._measureGroups=n,n):this._measureGroups},_sourceOptions:null,sourceOptions:function(n){return arguments.length===1?(this._sourceOptions=n,n):this._sourceOptions},dataProviderFactory:function(n){return arguments.length===1?(this.g=n,n):(this.g==null&&(this.g=this.h()),this.g)},_metadataTree:null,metadataTree:function(n){return arguments.length===1?(this._metadataTree=n,n):this._metadataTree},_rowAxis:null,rowAxis:function(n){return arguments.length===1?(this._rowAxis=n,n):this._rowAxis},_columnAxis:null,columnAxis:function(n){return arguments.length===1?(this._columnAxis=n,n):this._columnAxis},_filters:null,filters:function(n){return arguments.length===1?(this._filters=n,n):this._filters},_measures:null,measures:function(n){return arguments.length===1?(this._measures=n,n):this._measures},measureListIndex:function(n){return arguments.length===1?(this.ai!=n&&(this._p=!0,this.ai=n,this.a1(),this._p=!1),n):this.ai},measureListLocation:function(n){return arguments.length===1?(this.j!=n&&(this.az(),this.j=n,this.a1()),n):this.j},_result:null,result:function(n){return arguments.length===1?(this._result=n,n):this._result},_l:null,_c:null,_y:null,_ag:null,_z:null,af:null,_o:!1,_al:null,_t:!1,_au:null,_m:!1,_s:!1,_n:!1,_r:!1,_q:!1,_p:!1,getMembersOfLevel:function(){},getMembersOfHierarchy:function(){},getMembersOfMember:function(){},setCube:function(n){if(!this.isInitialized())throw new t.ch(1,"Data source is not initialized.");return this.aq(n)},setMeasureGroup:function(n){if(!this.isInitialized())throw new t.ch(1,"Data source is not initialized.");return this.ar(n)},getCoreElement:function(n,i){var f,u,e,o;if(i==t.$er.$type){for(f=this.measureListLocation()==1?this.columnAxis():this.rowAxis(),u=null,e=f.getEnumerator();e.moveNext();)if(o=e.current(),u=r(t.$er.$type,o),u!=null)break;return u}return t.$cn.af(t.$bc.$type,this.getCoreElements(n,i))},getCoreElements:function(n,i){if(i==t.$ec.$type)return this.a(t.$ec.$type,t.$cn.u(t.$ec.$type,this._c._t,function(t){return n(t)}));if(i==t.$bg.$type)return this.a(t.$bg.$type,t.$cn.u(t.$bg.$type,this._c._u,function(t){return n(t)}));if(i==t.$ee.$type)return this.a(t.$ee.$type,t.$cn.u(t.$ee.$type,this._c._x,function(t){return n(t)}));if(i==t.$bi.$type)return this.a(t.$bi.$type,t.$cn.u(t.$bi.$type,this._c._z,function(t){return n(t)}));if(i==t.$en.$type)return this.a(t.$en.$type,t.$cn.u(t.$en.$type,this._c._v,function(t){return n(t)}));if(i==t.$eh.$type)return this.a(t.$eh.$type,t.$cn.u(t.$eh.$type,this._c._w,function(t){return n(t)}));throw new t.y(1,"Supported types are Dimension, Hierarchy, Level and Measure");},expandTupleMember:function(n,i,r){var f=this.d(n,this.result()),e,u;if(f==null)throw new t.ch(1,"No axis found for the specified index.");(e=t.$a.u(i,r,f),e!=!1)&&(u=t.$cn.af(t.$ej.$type,t.$cn.u(t.$ej.$type,this.w,function(t){return t._c==n&&t._b==i&&t._a==r})),u==null?(u=function(){var u=new t.ej;return u._c=n,u._a=r,u._b=i,u}(),this.w.add(u)):this.w.remove(u))},collapseTupleMember:function(n,i,r){var f=this.d(n,this.result()),e,u;if(f==null)throw new t.ch(1,"No axis found for the specified index.");(e=t.$a.u(i,r,f),e!=!1)&&(u=t.$cn.af(t.$ej.$type,t.$cn.u(t.$ej.$type,this.w,function(t){return t._c==n&&t._b==i&&t._a==r})),u==null?(u=function(){var u=new t.ej;return u._c=n,u._a=r,u._b=i,u}(),this.v.add(u)):this.w.remove(u))},clearPendingChanges:function(){this.v.clear(),this.w.clear()},update:function(){var f=this,n,i,u,r,e;if(this._t)return this._au;if(this._t=!0,n=null,this.w.count()>0&&(n=this.an(this.w)),this.ah.count()>0){for(i=new t.dh(Array,0),u=new Array(this.ah.count()),r=0;r<u.length;r++)u[r]=this.getMembersOfHierarchy(this.ah.__inner[r]);this.ah.clear(),e=new t.es,e.c(u,i.e.runOn(i)),n=n!=null?t.$et.a(Array,n,function(){return i._b}):i._b}return n=n!=null?t.$et.a(t.$bl.$type,n,function(){return f.as()}):this.as(),this._au=n,this._au.i(function(){f._t=!1,f._au=null}),n},initialize:function(){var n=this,t;return this._o?this._al:(this._o=!0,this._al=this.ap(),t=this._al,this._al.i(function(){n._o=!1,n._al=null}),t)},addFilterMember:function(n,i){var f=this,u,r=function(){var t=f.b(n,u);return u=t.p1,t.ret}(),e;r==null&&(r=new t.eq(n,function(){var n=new t.c4(String);return n.add(i),n}()),u.add(r)),r._a.contains(i)||(r._a.add(i),this.af.contains(i)?this.af.remove(i):this.af.add(i)),function(){var n=f._c.h(i,e);return e=n.p1,n.ret}()||this.ah.contains(n)||this.ah.add(n)},getFilterMemberNames:function(n){var u=this,i,r=function(){var t=u.b(n,i);return i=t.p1,t.ret}();return r!=null?this.a(String,r._a):new t.c4(String)},removeFilterMember:function(n,t){var u=this,i,r=function(){var t=u.b(n,i);return i=t.p1,t.ret}();r!=null&&r._a.remove(t)&&(this.af.contains(t)?this.af.remove(t):this.af.add(t))},removeAllFilterMembers:function(n){var f=this,u,i=function(){var t=f.b(n,u);return u=t.p1,t.ret}(),t,r;if(i!=null)for(t=i._a.count()-1;t>=0;t--)r=i._a.item(t),i._a.removeAt(t),this.af.contains(r)?this.af.remove(r):this.af.add(r)},getProviderDefaultProperties:function(){return new t.bo(t.$eb.$type,0)},getProviderDefaultRestrictions:function(){return new t.bo(t.$eb.$type,0)},tryGetMember:function(n,t){var i=this;return{ret:function(){var r=i._c.h(n,t);return t=r.p1,r.ret}(),p1:t}},tryGetMembersForLevel:function(n,t){var i=this;return{ret:function(){var r=i._c.j(n,t);return t=r.p1,r.ret}(),p1:t}},ap:function(){},as:function(){},h:function(){},aj:function(){},aq:function(n){var o=this,i,r,u,f,e;if(String.isNullOrEmpty(n)){if(n==null)throw new t.cr(0,"cubeName");throw new t.ch(1,"cubeName cannot be empty.");}if(i=new t.dh(t.$bb.$type,0),this.cube()!=null){if(this.cube().name()==n)return i.e(this.metadataTree()),i._b;this.aw()}for(r=this.cubes().getEnumerator();r.moveNext();)if(u=r.current(),u.name()==n){this.cube(u);break}return(f=this.aj(),!this.isInitialized()&&(e=this.sourceOptions().measureGroup(),!String.isNullOrEmpty(e)))?t.$et.a(t.$bb.$type,f,function(){return o.ar(e)}):t.$et.a(t.$bb.$type,f,function(){return o.ar(null)})},ak:function(){var f=this,s=null,h=null,c=null,n=new t.bo(t.$eq.$type,0),nt,tt,it,l,i,a,rt,v,r,y,ut,p,u,w,ft,e,et,b,ot,k,o,st,d,ht,g;if(String.isNullOrEmpty(this.sourceOptions().columns())||(nt=new t.eu(this.sourceOptions().columns()),s=nt.c()),String.isNullOrEmpty(this.sourceOptions().rows())||(tt=new t.eu(this.sourceOptions().rows()),h=tt.c()),String.isNullOrEmpty(this.sourceOptions().filters())||(it=new t.eu(this.sourceOptions().filters()),c=it.c()),s!=null&&s.count()>0)for(l=s.getEnumerator();l.moveNext();)if(i=l.current(),this.av(t.$bc.$type,i._b,this.columnAxis(),t.$bg.$type),this._y.add(i),i._a.count()>0)for(n.add(i),a=i._a.getEnumerator();a.moveNext();)rt=a.current(),this.af.add(rt);if(h!=null&&h.count()>0)for(v=h.getEnumerator();v.moveNext();)if(r=v.current(),this.av(t.$bc.$type,r._b,this.rowAxis(),t.$bg.$type),this._ag.add(r),r._a.count()>0)for(n.add(r),y=r._a.getEnumerator();y.moveNext();)ut=y.current(),this.af.add(ut);if(c!=null&&c.count()>0)for(p=c.getEnumerator();p.moveNext();)if(u=p.current(),this.av(t.$bg.$type,u._b,this.filters(),t.$bg.$type),this._z.add(u),u._a.count()>0)for(n.add(u),w=u._a.getEnumerator();w.moveNext();)ft=w.current(),this.af.add(ft);if(e=null,String.isNullOrEmpty(this.sourceOptions().measures())||(et=new t.eu(this.sourceOptions().measures()),e=et.c()),e!=null&&e.count()>0)for(b=e.getEnumerator();b.moveNext();)ot=b.current(),this.av(t.$bi.$type,ot._b,this.measures(),t.$bi.$type);if(this._m||this._s||this._n||this._r||this._p){if(n.count()>0){for(k=new Array(n.count()),o=0;o<n.count();o++)st=n.item(o)._b,k[o]=this.getMembersOfHierarchy(st);return d=new t.dh(t.$bb.$type,0),ht=new t.es,ht.c(k,function(){f.as().i(function(){f.ay(),d.e(f.metadataTree())})}),d._b}return t.$et.b(t.$bl.$type,t.$bb.$type,this.as(),function(){f.ay();var i=new t.dh(t.$bb.$type,0);return i.e(f.metadataTree()),i._b})}return this.ay(),g=new t.dh(t.$bb.$type,0),g.e(this.metadataTree()),g._b},am:function(){var i=this,r=this.dataProviderFactory().createDataProvider(),u=this.getProviderDefaultRestrictions(),f=this.getProviderDefaultProperties();return r.discoverCubesAsync(f,u).j(t.$be.$type.specialize(t.$c9.$type),function(n){return i.cubes(i.a(t.$c9.$type,n.m())),i.cubes()})},ao:function(){var n=this,i=this.dataProviderFactory().createDataProvider(),r=this.getProviderDefaultRestrictions(),u=this.getProviderDefaultProperties();return i.discoverMeasureGroupsAsync(u,r).j(t.$be.$type.specialize(t.$d7.$type),function(i){return n.measureGroups(n.a(t.$d7.$type,i.m())),n.measureGroups()})},ay:function(){this.isInitialized(!0)},aw:function(){this.cube(null),this.measureGroups(new t.c4(t.$d7.$type)),this.filters().clear(),this.rowAxis().clear(),this.columnAxis().clear(),this.measures().clear(),this._c=null,this.ax()},ax:function(){this.measureGroup(null),this.metadataTree(null)},ar:function(n){var r=this,i,e,u,f;if(this.cube()==null)throw new t.ch(1,"Data source has no Cube set.");if(i=new t.dh(t.$bb.$type,0),this.measureGroup()!=null){if(this.measureGroup().name()==n)return i.e(this.metadataTree()),i._b;this.ax()}if(!String.isNullOrEmpty(n)&&this.measureGroups().count()==0)return e=t.$et.b(t.$be.$type.specialize(t.$d7.$type),t.$bb.$type,this.ao(),function(){return r.measureGroups().count()==0?r.ar(null):r.ar(n)});for(u=this.measureGroups().getEnumerator();u.moveNext();)if(f=u.current(),f.name()==n){this.measureGroup(f);break}return this.metadataTree(this.k(n)),i.e(this.metadataTree()),i._b},k:function(n){var f=this,e=function(){var n=new t.bb;return n.type(0),n.caption(f.cube().caption()),n.item(f.cube()),n}(),i,r,u,o=!0,s;return String.isNullOrEmpty(n)||this.measureGroups()==null?(i=this._c._t,r=this._c._z,u=this._c._w):(o=!1,i=this._c._a.getMeasureGroupDimensions(n),r=this._c._a.getMeasureGroupMeasures(n),u=this._c._a.getMeasureGroupKpis(n)),s=t.$ev.getDimensionMetaItems(i,r,u,this._c._u,this._c._x,o,this._c,this.measureGroups()),t.$ev.setMetaItemChildren(e,s),e},d:function(n,i){return i!=null&&i.axes().count()>0?t.$cn.af(t.$bm.$type,t.$cn.u(t.$bm.$type,i.axes(),function(t){return t.name()==n})):null},a0:function(n,i){var s,v,h,c,l,a,u,f,e,o,y,p;switch(n.action()){case 0:for(s=n.newItems().getEnumerator();s.moveNext();)v=s.current(),h=r(t.$bg.$type,v),h!=null&&this.isInitialized()&&i.add(new t.eq(h.uniqueName(),new t.c4(String)));break;case 1:for(c=n.oldItems().getEnumerator();c.moveNext();)if(l=c.current(),a=r(t.$bg.$type,l),a!=null){if(u=t.$cn.af(t.$eq.$type,t.$cn.u(t.$eq.$type,i,function(n){return n._b==a.uniqueName()})),u!=null){for(f=new t.bo(String,0),e=0;e<u._a.count();e++)f.add(u._a.item(e));for(o=0;o<f.count();o++)y=f.item(o),this.removeFilterMember(u._b,y);i.remove(u)}}else p=r(t.$er.$type,l),p!=null&&(this._r||this._q||this._p||this.measures().clear())}},a2:function(n,i){var u,e,o,s,f,h,c,l;switch(n.action()){case 0:for(u=n.newItems().getEnumerator();u.moveNext();)e=u.current(),o=r(t.$bg.$type,e),o!=null&&(s=r(t.$er.$type,t.$cn.af(t.$bc.$type,t.$cn.u(t.$bc.$type,i,function(n){return r(t.$er.$type,n)!==null}))),s!=null&&this.measureListIndex()>=n.newStartingIndex()&&this.measureListIndex(this.measureListIndex()+1));break;case 1:for(f=n.oldItems().getEnumerator();f.moveNext();)h=f.current(),c=r(t.$bg.$type,h),c!=null&&(l=r(t.$er.$type,t.$cn.af(t.$bc.$type,t.$cn.u(t.$bc.$type,i,function(n){return r(t.$er.$type,n)!==null}))),l!=null&&this.measureListIndex()>n.oldStartingIndex()&&this.measureListIndex(this.measureListIndex()-1))}},a1:function(){var o=this,n,e;n=this.measureListLocation()==1?this.columnAxis():this.rowAxis();for(var i=null,u=0,f=n.getEnumerator();f.moveNext();){if(e=f.current(),i=r(t.$er.$type,e),i!=null)break;u++}this.measures().count()>1?i==null?(i=function(){var n=new t.er;return n.measures(o.measures()),n}(),this.measureListIndex()<0||this.measureListIndex()>n.count()?(this.ai=n.count(),n.add(i)):n.insert(this.measureListIndex(),i)):u!=this.measureListIndex()&&(n.removeAt(u),this.measureListIndex()>n.count()?(this.ai=n.count(),n.add(i)):n.insert(this.measureListIndex(),i)):i!=null&&n.removeAt(u)},ab:function(){return this.w},aa:function(){return this.v},av:function(i,r,u,f){var o=function(n){return s(i,n).uniqueName()==r},e=this.getCoreElement(o,f);e==null||t.$cn.e(n.ig.$op.$type,u,e)||u.add(s(i,e))},an:function(n){for(var i=new t.bo(String,0),s=n.getEnumerator(),e,r,o;s.moveNext();){var f=s.current(),h=this.d(f._c,this.result()).tuples().__inner[f._b].members().item(f._a),u=this.getCoreElement(function(n){return n.hierarchyUniqueName()==h.hierarchyUniqueName()&&n.depth()==h.levelNumber()+1},t.$ee.$type);u==null||this._c.c(u.uniqueName())||i.contains(u.uniqueName())||i.add(u.uniqueName())}if(i.count()>0){for(e=new Array(i.count()),r=0;r<i.count();r++)e[r]=this.getMembersOfLevel(i.item(r));return(new t.es).d(Array,e,function(n){return n})}return o=new t.dh(Array,0),o.e(new Array(0)),o._b},az:function(){var n,e;if(n=this.measureListLocation()==1?this.columnAxis():this.rowAxis(),n!=null){for(var i=null,u=0,f=n.getEnumerator();f.moveNext();){if(e=f.current(),i=r(t.$er.$type,e),i!=null)break;u++}i!=null&&(this._q=!0,n.removeAt(u))}},a:function(n,i){for(var r=new t.c4(n),u=i.getEnumerator(),f;u.moveNext();)f=u.current(),r.add(f);return r},b:function(n,i){var r=t.$cn.af(t.$eq.$type,t.$cn.u(t.$eq.$type,this._y,function(t){return t._b==n}));return r!=null?(i=this._y,{ret:r,p1:i}):(r=t.$cn.af(t.$eq.$type,t.$cn.u(t.$eq.$type,this._ag,function(t){return t._b==n})),r!=null)?(i=this._ag,{ret:r,p1:i}):(r=t.$cn.af(t.$eq.$type,t.$cn.u(t.$eq.$type,this._z,function(t){return t._b==n})),r!=null)?(i=this._z,{ret:r,p1:i}):(i=null,{ret:null,p1:i})},u:function(n,i,r){var u,f;if(n<0||n>=r.tuples().count())throw new t.ey(1,"tupleIndex");else{if(u=r.tuples().__inner[n],i<0||i>=u.members().count())throw new t.ey(1,"tupleIndex");if(f=u.members().item(i),f.isExpandable()==!1)return!1}return!0},$type:new n.ig.Type("OlapDataSource",n.ig.$ot,[t.$ba.$type])},!0),i("PositionInfo:ej","Object",{init:function(){n.ig.$op.init.call(this)},_c:null,_b:0,_a:0,$type:new n.ig.Type("PositionInfo",n.ig.$ot)},!0),i("LevelSortDirection:ez","Object",{init:function(){n.ig.$op.init.call(this),this.sortBehavior(1)},_levelUniqueName:null,levelUniqueName:function(n){return arguments.length===1?(this._levelUniqueName=n,n):this._levelUniqueName},_sortDirection:0,sortDirection:function(n){return arguments.length===1?(this._sortDirection=n,n):this._sortDirection},_sortBehavior:0,sortBehavior:function(n){return arguments.length===1?(this._sortBehavior=n,n):this._sortBehavior},$type:new n.ig.Type("LevelSortDirection",n.ig.$ot)},!0),i("TupleSortDirection:e1","Object",{init:function(){n.ig.$op.init.call(this)},_tupleIndex:0,tupleIndex:function(n){return arguments.length===1?(this._tupleIndex=n,n):this._tupleIndex},_memberNames:null,memberNames:function(n){return arguments.length===1?(this._memberNames=n,n):this._memberNames},_sortDirection:0,sortDirection:function(n){return arguments.length===1?(this._sortDirection=n,n):this._sortDirection},_comparer:null,comparer:function(n){return arguments.length===1?(this._comparer=n,n):this._comparer},$type:new n.ig.Type("TupleSortDirection",n.ig.$ot)},!0),i("DataSourceBase:e2","Object",{init:function(){n.ig.$op.init.call(this)},_dataSource:null,dataSource:function(n){return arguments.length===1?(this._dataSource=n,n):this._dataSource},isInitialized:function(){return this.dataSource()==null?!1:this.dataSource().isInitialized()},_isModified:!1,isModified:function(n){return arguments.length===1?(this._isModified=n,n):this._isModified},_isUpdating:!1,isUpdating:function(n){return arguments.length===1?(this._isUpdating=n,n):this._isUpdating},initialize:function(){var t=this.dataSource().initialize()._c,i=this;return this._isInitializedAttached||(this._isInitializedAttached=!0,t.always(function(r){var u={error:null,metadataTreeRoot:null};t.state()==="rejected"?u.error=r:u.metadataTreeRoot=r,n(i).trigger("initialized",u),i._isInitializedAttached=!1})),t},cubes:function(){return this.dataSource().cubes().inner()},cube:function(){return this.dataSource().cube()},setCube:function(n){return this.dataSource().setCube(n).j(t.$bb.$type,function(n){return n.m()})._c},metadataTree:function(){return this.dataSource().metadataTree()},addRowItem:function(n){r(t.$bg.$type,n)!==null&&(this.dataSource().rowAxis().add(n),this.isModified(!0))},insertRowItem:function(n,i){r(t.$bg.$type,i)!==null&&(this.dataSource().rowAxis().insert(n,i),this.isModified(!0))},removeRowItem:function(n){(r(t.$bg.$type,n)!==null||r(t.$er.$type,n)!==null)&&(this.dataSource().rowAxis().remove(n),this.isModified(!0))},addColumnItem:function(n){r(t.$bg.$type,n)!==null&&(this.dataSource().columnAxis().add(n),this.isModified(!0))},insertColumnItem:function(n,i){r(t.$bg.$type,i)!==null&&(this.dataSource().columnAxis().insert(n,i),this.isModified(!0))},removeColumnItem:function(n){(r(t.$bg.$type,n)!==null||r(t.$er.$type,n)!==null)&&(this.dataSource().columnAxis().remove(n),this.isModified(!0))},addFilterItem:function(n){r(t.$bg.$type,n)!==null&&(this.dataSource().filters().add(n),this.isModified(!0))},insertFilterItem:function(n,i){r(t.$bg.$type,i)!==null&&(this.dataSource().filters().insert(n,i),this.isModified(!0))},removeFilterItem:function(n){r(t.$bg.$type,n)!==null&&(this.dataSource().filters().remove(n),this.isModified(!0))},addMeasureItem:function(n){r(t.$bi.$type,n)!==null&&(this.dataSource().measures().add(n),this.isModified(!0))},insertMeasureItem:function(n,i){r(t.$bi.$type,i)!==null&&(this.dataSource().measures().insert(n,i),this.isModified(!0))},removeMeasureItem:function(n){r(t.$bi.$type,n)!==null&&(this.dataSource().measures().remove(n),this.isModified(!0))},setMeasureListIndex:function(n){this.dataSource().measureListIndex(n),this.isModified(!0)},setMeasureListLocation:function(n){switch(n){case"rows":this.dataSource().measureListLocation(0);break;case"columns":this.dataSource().measureListLocation(1)}this.isModified(!0)},getMeasureListLocation:function(){switch(this.dataSource().measureListLocation()){case 0:return"rows";case 1:return"columns";default:return null}},expandTupleMember:function(n,t,i){this.dataSource().expandTupleMember(n,t,i)},collapseTupleMember:function(n,t,i){this.dataSource().collapseTupleMember(n,t,i)},rowAxis:function(){return this.dataSource().rowAxis().inner()},columnAxis:function(){return this.dataSource().columnAxis().inner()},filters:function(){return this.dataSource().filters().inner()},measures:function(){return this.dataSource().measures().inner()},result:function(){return this.dataSource().result()},bindCollectionChanged:function(t){var i=t,r=this.dataSource(),u=function(t,i){t.collectionChanged=n.ig.Delegate.prototype.combine(t.collectionChanged,i)};n.isFunction(i.filters)&&u(r._filters,i.filters),n.isFunction(i.rowAxis)&&u(r._rowAxis,i.rowAxis),n.isFunction(i.columnAxis)&&u(r._columnAxis,i.columnAxis),n.isFunction(i.measures)&&u(r._measures,i.measures)},unbindCollectionChanged:function(t){var i=t,r=this.dataSource();unbindCollectionChanged=function(t,i){t.collectionChanged=n.ig.Delegate.prototype.remove(t.collectionChanged,i)},n.isFunction(i.filters)&&unbindCollectionChanged(r._filters,i.filters),n.isFunction(i.rowAxis)&&unbindCollectionChanged(r._rowAxis,i.rowAxis),n.isFunction(i.columnAxis)&&unbindCollectionChanged(r._columnAxis,i.columnAxis),n.isFunction(i.measures)&&unbindCollectionChanged(r._measures,i.measures)},clearPendingChanges:function(){this.dataSource().clearPendingChanges()},update:function(){var t=this.dataSource().update()._c,i=this;return this.isUpdating()||(this.isUpdating(!0),t.always(function(r){var u={error:null,result:null};t.state()==="rejected"?u.error=r:u.result=r,i.isUpdating(!1),i.isModified(!1),n(i).trigger("updated",u)})),t},getCoreElement:function(n,t){return this.dataSource().getCoreElement(n,t)},getCoreElements:function(n,t){return this.dataSource().getCoreElements(n,t).inner()},getMembersOfHierarchy:function(n){return this.dataSource().getMembersOfHierarchy(n)._c},getMembersOfLevel:function(n){return this.dataSource().getMembersOfLevel(n)._c},tryGetMember:function(n){var i=this,t;return function(){var r=i.dataSource().tryGetMember(n,t);return t=r.p1,r.ret}()?t:null},tryGetMembersForLevel:function(n){var r=this,i=new t.c4(t.$d4.$type),u=function(){var t=r.dataSource().tryGetMembersForLevel(n,i);return i=t.p1,t.ret}();return u?i.inner():new t.c4(t.$d4.$type).inner()},getMembersOfMember:function(n){return this.dataSource().getMembersOfMember(n)._c},addFilterMember:function(n,t){this.dataSource().addFilterMember(n,t),this.isModified(!0)},removeAllFilterMembers:function(n){this.dataSource().removeAllFilterMembers(n),this.isModified(!0)},getFilterMemberNames:function(n){return this.dataSource().getFilterMemberNames(n).inner()},getDimension:function(n){return this.dataSource().getCoreElement(function(t){return t.uniqueName()==n},t.$ec.$type)},getHierarchy:function(n){return this.dataSource().getCoreElement(function(t){return t.uniqueName()==n},t.$bg.$type)},getLevel:function(n){return this.dataSource().getCoreElement(function(t){return t.uniqueName()==n},t.$ee.$type)},getMeasure:function(n){return this.dataSource().getCoreElement(function(t){return t.uniqueName()==n},t.$bi.$type)},getMeasureList:function(){return this.dataSource().getCoreElement(null,t.$er.$type)},$type:new n.ig.Type("DataSourceBase",n.ig.$ot)},!0),i("TaskExtensions:et","Object",{init:function(){n.ig.$op.init.call(this)},a:function(n,i,r){var u=new t.dh(n,0);return i.e(function(n){if(n._a==null)try{r(n).i(function(n){if(n._a==null){u.e(n.m());return}u.d(n._a)})}catch(i){var t;t=i,console.log(i),u.d(t)}else u.d(n._a)}),u._b},b:function(n,i,r,u){return t.$et.a(i,r,function(n){return u(n)})},$type:new n.ig.Type("TaskExtensions",n.ig.$ot)},!0),i("OlapUtilities:e3","Object",{init:function(){n.ig.$op.init.call(this)},dateMemberProvider:function(i,r,u,f){if(String.isNullOrEmpty(i)||String.isNullOrEmpty(r))return null;var s=r,e=f,o=u,h,c,l,a;i=i.toLowerCase();switch(i){case"year":return(e==null&&(e="yyyy"),o==null)?function(t){return n.ig.formatter(new Date(t[s]),"date",e)}:function(t){return o.replace("{0}",n.ig.formatter(new Date(t[s]),"date",e))};case"semester":return o==null&&(o="H{0}"),h=t.$e3.dateMemberProvider("year",r,null,null),function(n){var t=h(n);return o.replace("{0}",Math.floor(new Date(n[s]).getMonth()/6)+1).replace("{1}",t)};case"quarter":return o==null&&(o="Q{0}"),h=t.$e3.dateMemberProvider("year",r,null,null),c=t.$e3.dateMemberProvider("semester",r,null,null),function(n){var t=h(n),i=c(n);return o.replace("{0}",Math.floor(new Date(n[s]).getMonth()/3)+1).replace("{1}",i).replace("{2}",t)};case"month":return(e==null&&(e="MMMM"),o==null)?function(t){return n.ig.formatter(new Date(t[s]),"date",e)}:(h=t.$e3.dateMemberProvider("year",r,null,null),c=t.$e3.dateMemberProvider("semester",r,null,null),l=t.$e3.dateMemberProvider("quarter",r,null,null),function(t){var i=h(t),r=c(t),u=l(t);return o.replace("{0}",n.ig.formatter(new Date(t[s]),"date",e)).replace("{1}",u).replace("{2}",r).replace("{3}",i)});case"date":return(e==null&&(e=n.ig.regional.defaults.datePattern.toString()),o==null)?function(t){return n.ig.formatter(new Date(t[s]),"date",e)}:(h=t.$e3.dateMemberProvider("year",r,null,null),c=t.$e3.dateMemberProvider("semester",r,null,null),l=t.$e3.dateMemberProvider("quarter",r,null,null),a=t.$e3.dateMemberProvider("month",r,null,null),function(t){var i=h(t),r=c(t),u=l(t),f=a(t);return o.replace("{0}",n.ig.formatter(new Date(t[s]),"date",e)).replace("{1}",f).replace("{2}",u).replace("{3}",r).replace("{4}",i)})}return null},getDateHierarchy:function(n,i,r,u,f,e){var s,c,w,a,l,b,v,y,o;if(String.isNullOrEmpty(n))return null;if(i==null||i.length==0)i=["year","quarter","month","date"];else for(s=0;s<i.length;s++)i[s]=i[s].toLowerCase();r==null&&(r="Dates"),u==null&&(u=r);var p=null,k=r,d=u,h=e,g=i;if(f==null)for(f=new Array(i.length),c=0;c<f.length;c++)o=i[c],f[c]=o.substr(0,1).toUpperCase()+o.substr(1,o.length)+"s";for(w=f,a=new Array(i.length),l=0;l<i.length;l++)b=i[l],a[l]=t.$e3.dateMemberProvider(b,n,null,null);for(v=[],y=0,h!=null&&h!=""&&(y=1,v[0]={name:h,caption:h,memberProvider:function(){return h}}),o=0;o<a.length;o++)v[o+y]={name:g[o],caption:w[o],memberProvider:a[o]};return p={name:k,caption:d,levels:v,isDateTimeHier:!0}},sumAggregator:function(n,t){var r=n,i=t;return function(n){for(var e=0,o=!0,u,f=0;f<n.length;f++)u=n[f][r],u!==null&&u!==undefined&&(o=!1,e+=u);return o?null:i!=null?e.toFixed(i):e}},avgAggregator:function(n,t){var r=n,i=t;return function(n){var f;i==null&&(i=2);var e=0,o=0,s=!0,u;for(f=0;f<n.length;f++)u=n[f][r],u!==null&&u!==undefined&&(s=!1,e+=u,o++);return s?null:(e/o).toFixed(i)}},minAggregator:function(n){var t=n;return function(n){for(var u=n[0][t],r=1;r<n.length;r++)u=Math.min(u,n[r][t]);return u}},maxAggregator:function(n){var t=n;return function(n){for(var u=n[0][t],r=1;r<n.length;r++)u=Math.max(u,n[r][t]);return u}},countAggregator:function(){return function(n){return n.length}},$type:new n.ig.Type("OlapUtilities",n.ig.$ot)},!0),i("LevelSpanManager:e5","Object",{a:null,init:function(t){n.ig.$op.init.call(this),this._c=t,this.a=new Array(t)},_c:0,b:function(n,i){var r=this.a[n],u,f;return r==null&&(r=new t.b9(t.$l.$type,t.$e6.$type,0),this.a[n]=r),function(){var n=r.tryGetValue(i,u);return u=n.p1,n.ret}()||(u=new t.e6,i>0&&function(){var n=r.tryGetValue(i-1,f);return f=n.p1,n.ret}()&&(u._a=f,f.e()),r.add(i,u)),u},$type:new n.ig.Type("LevelSpanManager",n.ig.$ot)},!0),i("SpanSource:e6","Object",{init:function(){n.ig.$op.init.call(this),this.c=1},_a:null,c:0,d:function(n){if(arguments.length===1){if(this.c!=n){var t=n-this.c;this._a!=null&&this._a.d(this._a.d()+t),this.c=n}return n}return this.c},b:!1,e:function(){this.b||(this.b=!0,this.d(this.d()+1))},$type:new n.ig.Type("SpanSource",n.ig.$ot)},!0),i("ITableViewHeadersFactory:e7","Object",{$type:new n.ig.Type("ITableViewHeadersFactory",null)},!0),i("TableViewHeadersFactory:e9","Object",{_b:null,_a:null,_c:0,_d:!1,_e:null,init:function(t,i,r,u,f){n.ig.$op.init.call(this),this._b=t,this._a=i,this._c=r,this._d=u,this._e=f},createHeaderCells:function(){var b=this,i,r,o,s,u,f,n,c,l,a,v,p,w;for(this._b.positionResolver().hasUnregisterdPositions()&&this._b.positionResolver().completeRegisterPositions(),i=this._b.positionResolver().rootPositionInfo(),r=new t.bo(t.$be.$type.specialize(t.$fa.$type),0),o=0;o<i.positionSize();o++)r.add(new t.bo(t.$fa.$type,0));for(t.$e9.createHeaderCells2(i,i.positionItemDepthMin(),r,this._d,this._e),s=new t.c4(t.$e8.$type),u=0,f=0;f<i.positionSize();f++){for(var k=r.item(f),e=0,h=0,y=k.getEnumerator();y.moveNext();){n=y.current(),this._c==0?(c=e,l=n._c.d(),a=n._b.positionItemDepth()+u,v=n._d.d()):(a=e,v=n._c.d(),c=n._b.positionItemDepth()+u,l=n._d.d());var d=this._b.tuples().__inner[n._b.positionIndex()],g=d.item(n._b.positionItemIndex()),nt=this._b.tuples().__inner[n._l];this._a.positionResolver().hasUnregisterdPositions()&&this._a.positionResolver().completeRegisterPositions(),p=this._a.positionResolver().getPositionIndex(nt),w=function(){var i=new t.e8;return i.axisName(b._b.name()),i.hierarchyNumber(n._b.positionItemIndex()),i.levelNumber(n._b.positionItemDepth()),i.caption(g.caption()),i.columnIndex(c),i.columnSpan(l),i.isExpanded(n._g),i.isExpandable(n._f),i.tupleIndex(p),i.memberIndex(n._b.positionItemIndex()),i.rowIndex(a),i.rowSpan(v),i}(),n._h||(e=e+n._c.d()),h=Math.max(h,n._b.positionItemDepth()),s.add(w)}u+=h+1}return s},createHeaderCells2:function(i,r,u,f,e){for(var a=new t.e5(i.positionSize()),s=t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==r}).getEnumerator(),h,c,l,o;s.moveNext();)h=s.current(),o=t.$e9.createHeaderCells1(i,h,u,a,f,e,c,l),c=o.p6,l=o.p7},h:function(i,r,u,f,e,o){var a=t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==i.positionItemDepthMin()})),s,v,h,c,l;if(a.count()>0){for(s=a.getEnumerator();s.moveNext();)v=s.current(),l=t.$e9.createHeaderCells1(i,v,r,u,f,o,h,c),h=l.p6,c=l.p7,e._c.d(e._c.d()+c),h._h&&e._c.d(e._c.d()+1);e._c.d(e._c.d()-1)}else o.add(i.positionIndex());e._l=i.positionIndex()},createHeaderCells1:function(i,r,u,f,e,o,s,h){var v=u.item(r.positionItemIndex()),d=f.b(r.positionItemIndex(),r.positionItemDepth()),c=function(){var n=new t.fa;return n._d=d,n._b=r,n._a=i,n._f=r.isExpandable(),n}(),a,l,y,k,p,w,b;if(s=c,e&&(v.add(c),t.$e9.h(r,u,f,!0,c,o)),a=null,r.isExpanded()&&(a=t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.parentKey()==r.key()}))),a!=null&&a.count()>0){for(l=function(){var n=new t.fa;return n._h=!0,n._b=r,n._f=r.isExpandable(),n}(),v.add(l),y=a.getEnumerator();y.moveNext();)k=y.current(),b=t.$e9.createHeaderCells1(i,k,u,f,e,o,p,w),p=b.p6,w=b.p7,l._c.d(l._c.d()+w),p._h&&l._c.d(l._c.d()+1);l._c.d(l._c.d()-1),c._g=!0,c._f=!1,l._g=!0,c._e=l,e||(v.add(c),t.$e9.h(r,u,f,!1,c,o)),l._l=c._l,s=l,h=c._c.d()+l._c.d()-1}else r.isExpanded()&&(c._f=!1),e||(v.add(c),t.$e9.h(r,u,f,!1,c,o)),h=c._c.d();return{p6:s,p7:h}},$type:new n.ig.Type("TableViewHeadersFactory",n.ig.$ot,[t.$e7.$type])},!0),i("TableSuperCompactViewHeadersFactory:fb","Object",{_b:null,_a:null,_c:0,_d:!1,_e:null,init:function(t,i,r,u,f){n.ig.$op.init.call(this),this._b=t,this._a=i,this._c=r,this._d=u,this._e=f},createHeaderCells:function(){var w=this,i,r,o,s,u,f,n,h,c,l,a,y,p;for(this._b.positionResolver().hasUnregisterdPositions()&&this._b.positionResolver().completeRegisterPositions(),i=this._b.positionResolver().rootPositionInfo(),r=new t.bo(t.$be.$type.specialize(t.$fa.$type),0),o=0;o<i.positionSize();o++)r.add(new t.bo(t.$fa.$type,0));for(t.$fb.createHeaderCells2(i,i.positionItemDepthMin(),r,this._d,this._e),s=new t.c4(t.$e8.$type),u=0,f=0;f<i.positionSize();f++){for(var b=r.item(f),e=0,k=0,v=b.getEnumerator();v.moveNext();){n=v.current(),this._c==0?(h=e,c=n._c.d(),l=u,a=1):(l=e,a=n._c.d(),h=u,c=1);var d=this._b.tuples().__inner[n._b.positionIndex()],g=d.item(n._b.positionItemIndex()),nt=this._b.tuples().__inner[n._l];this._a.positionResolver().hasUnregisterdPositions()&&this._a.positionResolver().completeRegisterPositions(),y=this._a.positionResolver().getPositionIndex(nt),p=function(){var i=new t.e8;return i.axisName(w._b.name()),i.hierarchyNumber(n._b.positionItemIndex()),i.levelNumber(n._b.positionItemDepth()),i.caption(g.caption()),i.columnIndex(h),i.columnSpan(c),i.isExpanded(n._g),i.isExpandable(n._f),i.tupleIndex(y),i.memberIndex(n._b.positionItemIndex()),i.rowIndex(l),i.rowSpan(a),i}(),n._h||(e=e+n._c.d()),s.add(p)}u+=k+1}return s},createHeaderCells2:function(i,r,u,f,e){for(var a=new t.e5(i.positionSize()),s=t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==r}).getEnumerator(),h,c,l,o;s.moveNext();)h=s.current(),o=t.$fb.createHeaderCells1(i,h,u,a,f,e,c,l),c=o.p6,l=o.p7},h:function(i,r,u,f,e,o){var a=t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==i.positionItemDepthMin()})),s,v,h,c,l;if(a.count()>0){for(s=a.getEnumerator();s.moveNext();)v=s.current(),l=t.$fb.createHeaderCells1(i,v,r,u,f,o,h,c),h=l.p6,c=l.p7,e._c.d(e._c.d()+c),h._e!=null&&e._c.d(e._c.d()+1);e._c.d(e._c.d()-1)}else o.add(i.positionIndex());e._l=i.positionIndex()},createHeaderCells1:function(i,r,u,f,e,o,s,h){var v=u.item(r.positionItemIndex()),d=f.b(r.positionItemIndex(),r.positionItemDepth()),c=function(){var n=new t.fa;return n._d=d,n._b=r,n._f=r.isExpandable(),n}(),a,l,y,k,p,w,b;if(s=c,e&&(v.add(c),t.$fb.h(r,u,f,!0,c,o)),a=null,r.isExpanded()&&(a=t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.parentKey()==r.key()}))),a!=null&&a.count()>0){for(l=function(){var n=new t.fa;return n._h=!0,n._b=r,n._f=r.isExpandable(),n}(),y=a.getEnumerator();y.moveNext();)k=y.current(),b=t.$fb.createHeaderCells1(i,k,u,f,e,o,p,w),p=b.p6,w=b.p7,l._c.d(l._c.d()+w),p._e!=null&&l._c.d(l._c.d()+1);l._c.d(l._c.d()-1),c._g=!0,c._f=!0,c._e=l,e||(v.add(c),t.$fb.h(r,u,f,!1,c,o)),l._l=c._l,h=c._c.d()+l._c.d()-1}else r.isExpanded()&&(c._f=!1),e||(v.add(c),t.$fb.h(r,u,f,!1,c,o)),h=c._c.d();return{p6:s,p7:h}},$type:new n.ig.Type("TableSuperCompactViewHeadersFactory",n.ig.$ot,[t.$e7.$type])},!0),i("TableViewHeaderCellSource:fa","Object",{init:function(){n.ig.$op.init.call(this),this._c=new t.e6,this._d=new t.e6},_h:!1,_k:0,_i:0,_d:null,_c:null,_e:null,_b:null,_a:null,_l:0,_j:0,_g:!1,_f:!1,toString:function(){return h("{0}-{1}",this._b.positionIndex(),this._b.positionItemIndex())},$type:new n.ig.Type("TableViewHeaderCellSource",n.ig.$ot)},!0),i("TreeStackAttributesBehavior:fc","Object",{init:function(){n.ig.$op.init.call(this)},a:function(){},$type:new n.ig.Type("TreeStackAttributesBehavior",n.ig.$ot)},!0),i("TreeStackChildrenFirstBehavior:fe","TreeStackAttributesBehavior",{init:function(){t.$fc.init.call(this)},a:function(n,t){return n.memberIndex()<t.memberIndex()||n.memberIndex()==t.memberIndex()&&n.levelNumber()<=t.levelNumber()?!0:!1},$type:new n.ig.Type("TreeStackChildrenFirstBehavior",t.$fc.$type)},!0),i("TreeStackNextDimensionFirstBehavior:ff","TreeStackAttributesBehavior",{init:function(n,i){t.$fc.init.call(this),this._b=n,this._c=i},_b:0,_c:0,a:function(n,t){return n.memberIndex()<t.memberIndex()?!0:n.memberIndex()==t.memberIndex()&&n.levelNumber()<=t.levelNumber()?!0:n.memberIndex()>t.memberIndex()&&n.parentMemberLevelNumber()<t.levelNumber()?!0:!1},$type:new n.ig.Type("TreeStackNextDimensionFirstBehavior",t.$fc.$type)},!0),i("TableViewTreeHeadersFactory:fg","Object",{_b:null,_a:null,_c:0,_d:!1,_e:null,_childrenAttributesIndentation:0,childrenAttributesIndentation:function(n){return arguments.length===1?(this._childrenAttributesIndentation=n,n):this._childrenAttributesIndentation},_dimensionAttributesIndentation:0,dimensionAttributesIndentation:function(n){return arguments.length===1?(this._dimensionAttributesIndentation=n,n):this._dimensionAttributesIndentation},init:function(t,i,r,u,f,e){n.ig.$op.init.call(this),this._b=t,this._a=i,this._c=r,this._d=!0,this._e=u,this.childrenAttributesIndentation(f),this.dimensionAttributesIndentation(e)},createHeaderCells:function(){var w=this,f,e,n,y,i,c,l,r,p,u;this._b.positionResolver().hasUnregisterdPositions()&&this._b.positionResolver().completeRegisterPositions(),f=this._b.positionResolver().rootPositionInfo(),e=new t.bo(t.$fa.$type,0),t.$fg.createHeaderCells2(f,f.positionItemDepthMin(),e,this._e);for(var a=new t.b9(String,t.$e8.$type,0),b=new t.fh(t.$fd.$type),o=new t.c4(t.$e8.$type),s=0,v=e.getEnumerator();v.moveNext();)if(n=v.current(),!n._h){var k=this._b.tuples().__inner[n._b.positionIndex()],d=k.item(n._b.positionItemIndex()),g=this._b.tuples().__inner[n._l];this._a.positionResolver().hasUnregisterdPositions()&&this._a.positionResolver().completeRegisterPositions(),y=this._a.positionResolver().getPositionIndex(g),i=function(){var i=new t.fd;return i.axisName(w._b.name()),i.hierarchyNumber(n._b.positionItemIndex()),i.levelNumber(n._b.positionItemDepth()),i.parentMemberLevelNumber(n._a.positionItemDepth()),i.caption(d.caption()),i.columnIndex(0),i.columnSpan(1),i.isExpanded(n._g),i.isExpandable(n._f),i.tupleIndex(y),i.memberIndex(n._b.positionItemIndex()),i.rowIndex(s),i.rowSpan(1),i}(),a.add(h("{0}-{1}",i.tupleIndex(),i.memberIndex()),i),c=n._b.positionItemIndex()>0&&n._b.positionItemDepth()==0,n._h||c||(s=s+1),c||(o.add(i),this.m(b,i,new t.ff(this.childrenAttributesIndentation(),this.dimensionAttributesIndentation())))}for(l=o.getEnumerator();l.moveNext();)r=l.current(),r.memberIndex()<this._b.tupleSize()&&(p=h("{0}-{1}",r.tupleIndex(),r.memberIndex()+1),u=null,function(){var n=a.tryGetValue(p,u);return u=n.p1,n.ret}()&&(r.isItemExpanded(u.isExpanded()),r.isItemExpandable(u.isExpandable())));return o},m:function(n,t,i){var r=null;if(n.count()==0){this.l(n,t,null);return}r=n.peek(),i.a(t,r)&&(this.h(n,t,i),r=null,n.count()>0&&(r=n.peek())),this.l(n,t,r)},l:function(n,t,i){i!=null&&(t.memberIndex()>i.memberIndex()?t.indent(i.indent()+this.dimensionAttributesIndentation()):t.indent(i.indent()+this.childrenAttributesIndentation())),n.push(t)},h:function(n,t,i){if(n.pop(),n.count()>0){var r=n.peek();i.a(t,r)&&this.h(n,t,i)}},createHeaderCells2:function(i,r,u,f){for(var l=new t.e5(i.positionSize()),o=t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==r}).getEnumerator(),s,h,c,e;o.moveNext();)s=o.current(),e=t.$fg.createHeaderCells1(i,s,u,l,f,!0,h,c),h=e.p6,c=e.p7},k:function(i,r,u,f,e,o){var a=t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==i.positionItemDepthMin()})),s,v,h,c,l;if(a.count()>0){for(s=a.getEnumerator();s.moveNext();)v=s.current(),l=t.$fg.createHeaderCells1(i,v,r,u,e,o,h,c),h=l.p6,c=l.p7,f._c.d(f._c.d()+c),h._h&&f._c.d(f._c.d()+1);f._c.d(f._c.d()-1)}f._l=i.positionIndex()},createHeaderCells1:function(i,r,u,f,e,o,s,h){var b=u,d=f.b(r.positionItemIndex(),r.positionItemDepth()),l=function(){var n=new t.fa;return n._d=d,n._b=r,n._a=i,n._f=r.isExpandable(),n}(),a,c,v,k,y,p,w;if(s=l,b.add(l),o&&(o=!1,e.add(r.positionIndex())),a=null,r.isExpanded()&&(a=t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.parentKey()==r.key()}))),a!=null&&a.count()>0){for(c=function(){var n=new t.fa;return n._h=!0,n._b=r,n._a=i,n._f=r.isExpandable(),n}(),b.add(c),v=a.getEnumerator();v.moveNext();)k=v.current(),w=t.$fg.createHeaderCells1(i,k,u,f,e,!0,y,p),y=w.p6,p=w.p7,c._c.d(c._c.d()+p),y._h&&c._c.d(c._c.d()+1);c._c.d(c._c.d()-1),l._g=!0,c._g=!0,l._e=c,c._l=l._l,s=c,h=l._c.d()+c._c.d()-1}else h=l._c.d();return t.$fg.k(r,u,f,l,e,!1),{p6:s,p7:h}},$type:new n.ig.Type("TableViewTreeHeadersFactory",n.ig.$ot,[t.$e7.$type])},!0),i("TableViewImpl:fj","Object",{init:function(i,r,u,f){var s=this,e,o;if(this.w=40,this.x=20,n.ig.$op.init.call(this),i==null)throw new t.cr(0,"result");this.result(i),this.originalResult(i),f==null?this.viewSettings(new t.fk):this.viewSettings(f),this.hasColumns(r),this.hasRows(u),this.columnSortDirections(new t.c4(t.$e1.$type)),e=this.columnSortDirections(),e.collectionChanged=n.ig.Delegate.prototype.combine(e.collectionChanged,function(){s._i=!0}),this.levelSortDirections(new t.c4(t.$ez.$type)),o=this.levelSortDirections(),o.collectionChanged=n.ig.Delegate.prototype.combine(o.collectionChanged,function(){s._i=!0}),this.appliedColumnSortDirections(new t.bo(t.$e1.$type,0)),this.appliedLevelSortDirections(new t.bo(t.$ez.$type,0)),this.appliedSortDirectionsMap(new t.b9(String,t.$ca.$type.specialize(t.$l.$type,t.$ca.$type.specialize(t.$l.$type,t.$cx.$type)),0))},_viewSettings:null,viewSettings:function(n){return arguments.length===1?(this._viewSettings=n,n):this._viewSettings},_result:null,result:function(n){return arguments.length===1?(this._result=n,n):this._result},_originalResult:null,originalResult:function(n){return arguments.length===1?(this._originalResult=n,n):this._originalResult},_hasRows:!1,hasRows:function(n){return arguments.length===1?(this._hasRows=n,n):this._hasRows},_hasColumns:!1,hasColumns:function(n){return arguments.length===1?(this._hasColumns=n,n):this._hasColumns},_d:null,_c:null,_h:!1,_i:!1,m:null,k:null,l:null,rowHeaders:function(n){return arguments.length===1?(this.m=n,n):((!this._h||this._i)&&this.initialize(),this.m)},columnHeaders:function(n){return arguments.length===1?(this.k=n,n):((!this._h||this._i)&&this.initialize(),this.k)},resultCells:function(n){return arguments.length===1?(this.l=n,n):((!this._h||this._i)&&this.initialize(),this.l)},_columnSortDirections:null,columnSortDirections:function(n){return arguments.length===1?(this._columnSortDirections=n,n):this._columnSortDirections},_levelSortDirections:null,levelSortDirections:function(n){return arguments.length===1?(this._levelSortDirections=n,n):this._levelSortDirections},_appliedColumnSortDirections:null,appliedColumnSortDirections:function(n){return arguments.length===1?(this._appliedColumnSortDirections=n,n):this._appliedColumnSortDirections},_appliedLevelSortDirections:null,appliedLevelSortDirections:function(n){return arguments.length===1?(this._appliedLevelSortDirections=n,n):this._appliedLevelSortDirections},_appliedSortDirectionsMap:null,appliedSortDirectionsMap:function(n){return arguments.length===1?(this._appliedSortDirectionsMap=n,n):this._appliedSortDirectionsMap},initialize:function(){var s,l,v,y,p,u,ct,w,e,at,b,o,a,k,vt,d,yt,n,g,nt,pt,tt,it,wt;if(this._d=null,this._c=null,this.rowHeaders(null),this.columnHeaders(null),this.resultCells(null),this.result(this.originalResult()),this.result().isEmpty()){this._i=!1,this._h=!0;return}if(this.levelSortDirections().count()>0?(s=new t.fn(this.result(),this.hasRows(),this.hasColumns(),this.levelSortDirections()),this.result(s.b()),this.appliedLevelSortDirections(s._h),this.appliedSortDirectionsMap(s._g)):(this.appliedLevelSortDirections(new t.bo(t.$ez.$type,0)),this.appliedSortDirectionsMap(new t.b9(String,t.$ca.$type.specialize(t.$l.$type,t.$ca.$type.specialize(t.$l.$type,t.$cx.$type)),0))),this.hasRows()&&this.columnSortDirections().count()>0)if(this.appliedLevelSortDirections().count()>0){this.originalResult().axes().item(0).positionResolver().hasUnregisterdPositions()&&this.originalResult().axes().item(0).positionResolver().completeRegisterPositions(),this.result().axes().item(0).positionResolver().hasUnregisterdPositions()&&this.result().axes().item(0).positionResolver().completeRegisterPositions();for(var rt=new t.bo(t.$e1.$type,2,this.columnSortDirections().count()),ut=new t.b9(t.$l.$type,t.$l.$type,1,this.appliedColumnSortDirections().count()),ft=this.columnSortDirections().getEnumerator();ft.moveNext();){var h=ft.current(),bt=this.originalResult().axes().item(0).tuples().__inner[h.tupleIndex()],et=this.result().axes().item(0).positionResolver().getPositionIndex(bt),c=new t.e1;c.sortDirection(h.sortDirection()),c.tupleIndex(et),c.comparer(h.comparer()),rt.add(c),ut.item(et,h.tupleIndex())}for(l=new t.fr(this.result(),this.hasRows(),this.hasColumns(),rt),this.result(l.b()),v=l._g.getEnumerator();v.moveNext();)y=v.current(),y.tupleIndex(ut.item(y.tupleIndex()));this.appliedColumnSortDirections(l._g)}else p=new t.fr(this.result(),this.hasRows(),this.hasColumns(),this.columnSortDirections()),this.result(p.b()),this.appliedColumnSortDirections(p._g);else this.appliedColumnSortDirections(new t.bo(t.$e1.$type,0));var r=0,ot=new t.b9(t.$l.$type,t.$l.$type,0),i=1;if(this.hasColumns()){var st=this.result().axes().item(r),kt=this.originalResult().axes().item(r),ht=this.r(st,kt);for(u=0;u<ht.count();u++)ct=ht.item(u),ot.add(ct,u);r++,i=st.tuples().count()}if(w=new t.b9(t.$l.$type,t.$l.$type,0),this.hasRows()){var dt=this.result().axes().item(r),gt=this.originalResult().axes().item(r),lt=this.s(dt,gt);for(e=0;e<lt.count();e++)at=lt.item(e),w.add(at,e)}for(b=new t.c4(t.$fm.$type),o=0;o<this.result().cells().count();o++)a=this.result().cells().item(o),vt=a.properties().tryGetValue("Value",k),k=vt.p1,yt=a.properties().tryGetValue("FmtValue",d),d=yt.p1,n=a.cellOrdinal(),this.hasColumns()&&(g=n%i,nt=ot.item(g),g!=nt&&(pt=f(n,i),n=pt*i+nt)),this.hasRows()&&(tt=f(n,i),it=w.item(tt),tt!=it&&(wt=n%i,n=it*i+wt)),b.add(function(){var i=new t.fm;return i.value(k),i.formattedValue(d),i.cellOrdinal(n),i.resultCellIndex(o),i}()),this.resultCells(b);this._i=!1,this._h=!0},r:function(n,i){var r=new t.bo(t.$l.$type,0);return this._c=this.viewSettings()._b?new t.fb(n,i,0,this.viewSettings()._c,r):new t.e9(n,i,0,this.viewSettings()._c,r),this.columnHeaders(this._c.createHeaderCells()),r},w:0,x:0,s:function(n,i){var u=new t.bo(t.$l.$type,0),h=this.viewSettings()._a,e=this.viewSettings()._d;switch(h){case 0:this._d=new t.e9(n,i,1,e,u);break;case 1:this._d=new t.fb(n,i,1,e,u);break;case 2:var o=this.w,s=this.x,f=r(t.$ft.$type,this.viewSettings());f!=null&&(o=f._e,s=f._f),this._d=new t.fg(n,i,1,u,o,s)}return this.rowHeaders(this._d.createHeaderCells()),u},$type:new n.ig.Type("TableViewImpl",n.ig.$ot)},!0),i("OlapResultView:ei","Object",{init:function(i,r,u,f){if(n.ig.$op.init.call(this),i==null)throw new t.cr(0,"result");this.result(i),this.visibleResult(r),this.hasColumns(u),this.hasRows(f)},_result:null,result:function(n){return arguments.length===1?(this._result=n,n):this._result},_visibleResult:null,visibleResult:function(n){return arguments.length===1?(this._visibleResult=n,n):this._visibleResult},_hasRows:!1,hasRows:function(n){return arguments.length===1?(this._hasRows=n,n):this._hasRows},_hasColumns:!1,hasColumns:function(n){return arguments.length===1?(this._hasColumns=n,n):this._hasColumns},c:function(n,i,r,u,e){var rt=0,p=null,h=1,a,ut,ft,w,b,s,o,c,l,k,ot,d,v,y,st,g,nt,tt,et,it;if(e&&(p=n.axes().item(rt),h=p.tuples().count(),rt++),a=null,ut=1,u&&(a=n.axes().item(rt),ut=a.tuples().count()),ft=1,i!=null&&(ft=i.tuples().count()),w=1,r!=null&&(w=r.tuples().count()),b=new Array(ft*w),n.cells().count()>0)for(s=0,o=n.cells().item(s),c=0;c<ut;c++)if(l=f(o.cellOrdinal(),h),l==c){if(k=0,i!=null&&a!=null&&(ot=a.tuples().__inner[c],k=i.positionResolver().getPositionIndex(ot)),k==-1){while(l==c)if(s++,s<n.cells().count())o=n.cells().item(s),l=f(o.cellOrdinal(),h);else break;continue}for(d=o.cellOrdinal()%h,v=0;v<h;v++)if(d==v){if(y=-1,r==null||p==null?y=0:(st=p.tuples().__inner[v],y=r.positionResolver().getPositionIndex(st)),y==-1){if(s++,s<n.cells().count()){if(o=n.cells().item(s),l=f(o.cellOrdinal(),h),l>c)break;d=o.cellOrdinal()%h}continue}if(g=o.clone(),g.cellOrdinal(k*w+y),b[g.cellOrdinal()]=g,s++,s<n.cells().count()){if(o=n.cells().item(s),l=f(o.cellOrdinal(),h),l>c)break;d=o.cellOrdinal()%h}}}for(nt=new t.bo(t.$c3.$type,0),tt=0;tt<b.length;tt++)et=b[tt],et!=null&&nt.add(et);return it=new t.bo(t.$bm.$type,0),e&&it.add(r),u&&it.add(i),function(){var n=new t.bl;return n.axes(it),n.cells(nt),n.isEmpty(!u&&!e&&nt.count()==0),n}()},a:function(n,i,r){var o=new t.bo(t.$cz.$type,0),e,h,u,s,f,c;if(r)for(e=0;e<i.count();e++)h=i.item(e),o.add(n.tuples().__inner[h].clone());else for(u=0,s=i.item(u),f=0;f<n.tuples().count();f++)f==s?(u++,u<i.count()&&(s=i.item(u))):o.add(n.tuples().__inner[f].clone());return c=function(){var i=new t.bm(o,n.tupleSize());return i.name(n.name()),i}()},expandTupleMember:function(n,i,r){var o=this.f(n,i,r,this.visibleResult()),f,e,h,c;if(o==null)return null;if(!o.isExpandable())throw new t.ch(1,"The position is not expandable.");if(o.isExpanded())return this;var l=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.visibleResult().axes(),function(t){return t.name()==n})),u=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.result().axes(),function(t){return t.name()==n})),a=n=="Axis0"&&!this.hasColumns()||n=="Axis1"&&this.hasRows(),v=l.tuples().__inner[i],y=u.positionResolver().getPositionIndex(v),s=this.l(n,y,r,this.result());return s.count()==0?null:(f=null,e=null,a?(f=this.a(u,s,!0),this.hasColumns()&&(e=this.visibleResult().axes().item(0))):(e=this.a(u,s,!0),this.hasRows()&&(f=this.visibleResult().axes().item(1))),h=this.c(this.result(),f,e,this.hasRows(),this.hasColumns()),c=this.b(this.visibleResult(),h,u.name()),new t.ei(this.result(),c,this.hasColumns(),this.hasRows()))},collapseTupleMember:function(n,i,r){var f=this.f(n,i,r,this.visibleResult()),u,c;if(f==null)return null;if(!f.isExpandable())throw new t.ch(1,"The position is not expandable.");if(!f.isExpanded())return this;if(u=this.l(n,i,r,this.visibleResult()),u.count()==0)return null;var s=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.visibleResult().axes(),function(t){return t.name()==n})),l=n=="Axis0"&&!this.hasColumns()||n=="Axis1"&&this.hasRows(),e=null,o=null;l?(e=this.a(s,u,!1),this.hasColumns()&&(o=this.visibleResult().axes().item(0))):(o=this.a(s,u,!1),this.hasRows()&&(e=this.visibleResult().axes().item(1)));var h=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.result().axes(),function(t){return t.name()==n})),v=h.tuples().__inner[i],a=function(){var u=new t.ej;return u._c=n,u._a=r,u._b=i,u}();return t.$ek.f(a,!1,h.positionResolver(),this.visibleResult()),c=this.c(this.visibleResult(),e,o,this.hasRows(),this.hasColumns()),new t.ei(this.result(),c,this.hasColumns(),this.hasRows())},extend:function(n,i){var c=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.visibleResult().axes(),function(n){return n.name()==i})),l=i=="Axis0"&&!this.hasColumns()||i=="Axis1"&&this.hasRows(),u=null,f=null,r=null,s=!1,e,o,h;return l?(u=c,this.hasColumns()&&(f=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.visibleResult().axes(),function(n){return n.name()!=i})),r=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.result().axes(),function(n){return n.name()!=i})),s=f.tuples().count()!=r.tuples().count())):(f=c,this.hasRows()&&(u=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.visibleResult().axes(),function(n){return n.name()!=i})),r=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,this.result().axes(),function(n){return n.name()!=i})),s=u.tuples().count()!=r.tuples().count())),e=null,o=null,r!=null&&s?(h=this.c(this.result(),u,f,this.hasRows(),this.hasColumns()),e=this.b(h,n,i),o=this.b(h,n,i)):(e=this.b(this.result(),n,i),o=this.b(this.visibleResult(),n,i)),new t.ei(e,o,this.hasColumns(),this.hasRows())},b:function(n,i,r){var l=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,n.axes(),function(n){return n.name()==r})),b,nt,lt,tt,at,it,vt,k,ut,p,ft,et,wt,d,st,e,ht;if(l==null)return null;var ct=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,i.axes(),function(n){return n.name()==r})),g=r=="Axis0"&&!this.hasColumns()||r=="Axis1"&&this.hasRows(),u=null,o=null;for(g?this.hasColumns()&&(u=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,n.axes(),function(n){return n.name()!=r})),o=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,i.axes(),function(n){return n.name()!=r}))):this.hasRows()&&(u=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,n.axes(),function(n){return n.name()!=r})),o=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,i.axes(),function(n){return n.name()!=r}))),b=new t.bo(t.$cz.$type,0),nt=l.tuples().getEnumerator();nt.moveNext();)lt=nt.current(),b.add(lt.clone());for(tt=ct.tuples().getEnumerator();tt.moveNext();)at=tt.current(),b.add(at);var s=ct.tuples().count(),bt=o!=null&&o.tuples().count()>0?o.tuples().count():1,a=l.tuples().count()>0?l.tuples().count():1,v=u!=null&&u.tuples().count()>0?u.tuples().count():1,kt=a*v,y=new t.bo(t.$c3.$type,0);if(g){for(it=n.cells().getEnumerator();it.moveNext();)vt=it.current(),y.add(vt.clone());for(var rt=new Array(s*v),dt=a*v,yt=i.cells().getEnumerator();yt.moveNext();){var gt=yt.current(),h=gt.clone(),ni=this.m(h.cellOrdinal(),u,o),ti=f(h.cellOrdinal(),bt);h.cellOrdinal(ti*v+ni),h.cellOrdinal(h.cellOrdinal()+kt),rt[h.cellOrdinal()-dt]=h}for(k=0;k<rt.length;k++)ut=rt[k],ut!=null&&y.add(ut)}else{for(p=new Array(v*(a+s)),ft=n.cells().getEnumerator();ft.moveNext();){var ii=ft.current(),w=ii.clone(),ri=f(w.cellOrdinal(),a);w.cellOrdinal(w.cellOrdinal()+ri*s),p[w.cellOrdinal()]=w}for(et=i.cells().getEnumerator();et.moveNext();){var pt=et.current(),c=pt.clone(),ot=this.n(c.cellOrdinal(),u,o,s),ui=f(pt.cellOrdinal(),s);ot!=ui,wt=c.cellOrdinal()%s,c.cellOrdinal(ot*s+wt),c.cellOrdinal(c.cellOrdinal()+(ot+1)*a),p[c.cellOrdinal()]=c}for(d=0;d<p.length;d++)st=p[d],st!=null&&y.add(st)}return e=new t.bl,e.axes(new t.bo(t.$bm.$type,0)),ht=function(){var n=new t.bm(b,l.tupleSize());return n.name(l.name()),n}(),g?(u!=null&&e.axes().add(u),e.axes().add(ht)):(e.axes().add(ht),u!=null&&e.axes().add(u)),e.cells(y),e.isEmpty(!this.hasColumns()&&!this.hasRows()&&y.count()==0),e},m:function(n,t,i){if(i==null)return 0;var r=n%i.tuples().count(),u=i.tuples().__inner[r];return t.positionResolver().getPositionIndex(u)},n:function(n,t,i,r){if(i==null)return 0;var u=f(n,r),e=i.tuples().__inner[u];return t.positionResolver().getPositionIndex(e)},l:function(n,i,r,u){var f=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,u.axes(),function(t){return t.name()==n})),o=f.tuples().__inner[i],s=o.item(r),e;return(f.positionResolver().hasUnregisterdPositions()&&f.positionResolver().completeRegisterPositions(),e=f.positionResolver().i(s,0),e!=null)?t.$cn.z(t.$l.$type,e):null},f:function(n,i,r,u){var f=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,u.axes(),function(t){return t.name()==n})),o=f.tuples().__inner[i],c=o.item(r),s,e,h;return f.positionResolver().hasUnregisterdPositions()&&f.positionResolver().completeRegisterPositions(),s=f.positionResolver().getHostPositionItemInfo(o,r),h=s.tryGetValue(c.key(),e),e=h.p1},$type:new n.ig.Type("OlapResultView",n.ig.$ot)},!0),i("ResultViewHelper:ek","Object",{init:function(){n.ig.$op.init.call(this)},g:function(n,i,r){var u=t.$ek.a(n._c,r.visibleResult()),f=t.$ek.a(n._c,r.result());t.$ek.f(n,i,u.positionResolver(),r.visibleResult()),t.$ek.f(n,i,f.positionResolver(),r.visibleResult())},f:function(n,i,r,u){r.hasUnregisterdPositions()&&r.completeRegisterPositions();var f=t.$ek.b(n._c,n._b,u);t.$ek.e(f,n._a,i,r)},h:function(n,i,r){var e=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,i.visibleResult().axes(),function(t){return t.name()==n})),o=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,r.visibleResult().axes(),function(t){return t.name()==n})),u,f;t.$ek.d(e.positionResolver(),o.positionResolver()),u=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,i.result().axes(),function(t){return t.name()==n})),f=t.$cn.ad(t.$bm.$type,t.$cn.u(t.$bm.$type,r.result().axes(),function(t){return t.name()==n})),t.$ek.d(u.positionResolver(),f.positionResolver())},d:function(n,i){n.hasUnregisterdPositions()&&n.completeRegisterPositions(),i.hasUnregisterdPositions()&&i.completeRegisterPositions(),t.$ek.c(n.rootPositionInfo(),i.rootPositionInfo())},a:function(n,i){return t.$cn.ae(t.$bm.$type,i.axes(),function(t){return t.name()==n})},c:function(n,i){for(var e=n.getEnumerator(),u,f,r;e.moveNext();)u=e.current(),f=u.value(),function(){var n=i.tryGetValue(u.key(),r);return r=n.p1,n.ret}()&&(f.isExpanded()!=!0&&r.isExpanded(!1),r.count()>0&&t.$ek.c(f,r))},e:function(i,r,u,f){var o=new t.el,e=t.$cn.ae(t.$b6.$type.specialize(String,n.ig.$op.$type),f.positions(),function(n){return o.equalsC(i,n)}),s=f.getHostPositionItemInfo(e,r),h=s.item(e.item(r).key());h.isExpanded(u)},b:function(n,i,r){var u=t.$ek.a(n,r),f;return u.positionResolver().hasUnregisterdPositions()&&u.positionResolver().completeRegisterPositions(),f=u.positionResolver().positions().__inner[i]},$type:new n.ig.Type("ResultViewHelper",n.ig.$ot)},!0),i("IPosition$2:b6","Object",{$type:new n.ig.Type("IPosition$2",null)},!0),i("IPostionComparer:el","Object",{init:function(){n.ig.$op.init.call(this)},equalsC:function(i,r){var f=t.$cn.z(t.$b7.$type.specialize(String,n.ig.$op.$type),i.getItems()),e=t.$cn.z(t.$b7.$type.specialize(String,n.ig.$op.$type),r.getItems()),u;if(f.count()!=e.count())return!1;for(u=0;u<f.count();u++)if(f.__inner[u].key()!=e.__inner[u].key())return!1;return!0},getHashCodeC:function(i){for(var r=t.$cn.z(t.$b7.$type.specialize(String,n.ig.$op.$type),i.getItems()),u=17,f=r.getEnumerator(),e;f.moveNext();)e=f.current(),u^=r.getHashCode();return u},$type:new n.ig.Type("IPostionComparer",n.ig.$ot,[t.$cd.$type.specialize(t.$b6.$type.specialize(String,n.ig.$op.$type))])},!0),i("OlapTableViewHeaderCell:e8","Object",{init:function(){n.ig.$op.init.call(this),this.columnSpan(1),this.rowSpan(1)},_id:null,id:function(n){return arguments.length===1?(this._id=n,n):this._id},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_isExpanded:!1,isExpanded:function(n){return arguments.length===1?(this._isExpanded=n,n):this._isExpanded},_isExpandable:!1,isExpandable:function(n){return arguments.length===1?(this._isExpandable=n,n):this._isExpandable},_rowIndex:0,rowIndex:function(n){return arguments.length===1?(this._rowIndex=n,n):this._rowIndex},_rowSpan:0,rowSpan:function(n){return arguments.length===1?(this._rowSpan=n,n):this._rowSpan},_columnIndex:0,columnIndex:function(n){return arguments.length===1?(this._columnIndex=n,n):this._columnIndex},_columnSpan:0,columnSpan:function(n){return arguments.length===1?(this._columnSpan=n,n):this._columnSpan},_axisName:null,axisName:function(n){return arguments.length===1?(this._axisName=n,n):this._axisName},_tupleIndex:0,tupleIndex:function(n){return arguments.length===1?(this._tupleIndex=n,n):this._tupleIndex},_memberIndex:0,memberIndex:function(n){return arguments.length===1?(this._memberIndex=n,n):this._memberIndex},_levelNumber:0,levelNumber:function(n){return arguments.length===1?(this._levelNumber=n,n):this._levelNumber},_hierarchyNumber:0,hierarchyNumber:function(n){return arguments.length===1?(this._hierarchyNumber=n,n):this._hierarchyNumber},_headerSpan:0,headerSpan:function(n){return arguments.length===1?(this._headerSpan=n,n):this._headerSpan},_rowOrigin:0,rowOrigin:function(n){return arguments.length===1?(this._rowOrigin=n,n):this._rowOrigin},toString:function(){return this.caption()},$type:new n.ig.Type("OlapTableViewHeaderCell",n.ig.$ot)},!0),i("OlapTableViewResultCell:fm","Object",{init:function(){n.ig.$op.init.call(this)},_value:null,value:function(n){return arguments.length===1?(this._value=n,n):this._value},_formattedValue:null,formattedValue:function(n){return arguments.length===1?(this._formattedValue=n,n):this._formattedValue},_cellOrdinal:0,cellOrdinal:function(n){return arguments.length===1?(this._cellOrdinal=n,n):this._cellOrdinal},_resultCellIndex:0,resultCellIndex:function(n){return arguments.length===1?(this._resultCellIndex=n,n):this._resultCellIndex},$type:new n.ig.Type("OlapTableViewResultCell",n.ig.$ot)},!0),i("TableViewSettings:fk","Object",{init:function(){n.ig.$op.init.call(this)},_c:!1,_d:!1,_a:0,_b:!1,$type:new n.ig.Type("TableViewSettings",n.ig.$ot)},!0),i("OlapTableViewTreeHeaderCell:fd","OlapTableViewHeaderCell",{init:function(){t.$e8.init.call(this),this.parentMemberLevelNumber(-1)},_indent:0,indent:function(n){return arguments.length===1?(this._indent=n,n):this._indent},_parentMemberLevelNumber:0,parentMemberLevelNumber:function(n){return arguments.length===1?(this._parentMemberLevelNumber=n,n):this._parentMemberLevelNumber},_isItemExpanded:!1,isItemExpanded:function(n){return arguments.length===1?(this._isItemExpanded=n,n):this._isItemExpanded},_isItemExpandable:!1,isItemExpandable:function(n){return arguments.length===1?(this._isItemExpandable=n,n):this._isItemExpandable},$type:new n.ig.Type("OlapTableViewTreeHeaderCell",t.$e8.$type)},!0),i("TreeLayoutTableViewSettings:ft","TableViewSettings",{init:function(n,i){t.$fk.init.call(this),this._a=2,this._e=n,this._f=i},_e:0,_f:0,$type:new n.ig.Type("TreeLayoutTableViewSettings",t.$fk.$type)},!0),i("CubeMetaItemsCache:em","Object",{init:function(){this.p=new t.b9(String,t.$ep.$type.specialize(t.$l.$type,t.$d4.$type),0),this.s=new t.b9(t.$l.$type,t.$d4.$type,0),this.q=new t.b9(String,t.$be.$type.specialize(t.$d4.$type),0),this.r=new t.b9(String,t.$be.$type.specialize(t.$d4.$type),0),this.o=new t.b9(String,t.$bi.$type,0),this.l=new t.b9(String,t.$en.$type,0),this.n=new t.b9(String,t.$d.$type,0),this.m=new t.b9(String,t.$d.$type,0),n.ig.$op.init.call(this)},p:null,s:null,q:null,r:null,o:null,l:null,n:null,m:null,_z:null,_v:null,_t:null,_u:null,_x:null,_w:null,_y:null,_a:null,c:function(n){var i=this,t;return function(){var r=i.n.tryGetValue(n,t);return t=r.p1,r.ret}()?t:!1},ac:function(n){this.n.item(n,!0)},b:function(n){var i=this,t;return function(){var r=i.m.tryGetValue(n,t);return t=r.p1,r.ret}()?t:!1},ab:function(n){var i,r;for(this.m.item(n,!0),i=t.$cn.u(t.$ee.$type,this._x,function(t){return t.hierarchyUniqueName()==n}).getEnumerator();i.moveNext();)r=i.current(),this.ac(r.uniqueName())},d:function(n){return this.r.containsKey(n)},aa:function(n){var f=this,i,e,r,u;return function(){var t=f.p.tryGetValue(n.uniqueName(),i);return i=t.p1,t.ret}()||(e=this.p.count(),i=new t.ep(t.$l.$type,t.$d4.$type,e,n),this.p.item(n.uniqueName(),i),this.s.item(e,n),function(){var t=f.q.tryGetValue(n.levelUniqueName(),r);return r=t.p1,t.ret}()||(r=new t.c4(t.$d4.$type),this.q.item(n.levelUniqueName(),r)),String.isNullOrEmpty(n.parentUniqueName())||(function(){var t=f.r.tryGetValue(n.parentUniqueName(),u);return u=t.p1,t.ret}()||(u=new t.bo(t.$d4.$type,0),this.r.item(n.parentUniqueName(),u)),u.add(n)),r.add(n)),i._c},i:function(n,t){var r=this,i;return function(){var t=r.p.tryGetValue(n,i);return i=t.p1,t.ret}()?(t=i._c,{ret:!0,p1:t}):(t=-1,{ret:!1,p1:t})},h:function(n,t){var r=this,i;return function(){var t=r.p.tryGetValue(n,i);return i=t.p1,t.ret}()?(t=i._d,{ret:!0,p1:t}):(t=null,{ret:!1,p1:t})},g:function(n,t){var i=this;return{ret:function(){var r=i.s.tryGetValue(n,t);return t=r.p1,r.ret}(),p1:t}},k:function(n,t){var i=this;return{ret:function(){var r=i.r.tryGetValue(n,t);return t=r.p1,r.ret}(),p1:t}},j:function(n,t){var i=this;return{ret:function(){var r=i.q.tryGetValue(n,t);return t=r.p1,r.ret}(),p1:t}},f:function(n,i){var r=this;if(!function(){var t=r.o.tryGetValue(n,i);return i=t.p1,t.ret}()){if(i=t.$cn.af(t.$bi.$type,t.$cn.u(t.$bi.$type,this._z,function(t){return t.uniqueName()==n})),i==null)return{ret:!1,p1:i};this.o.add(n,i)}return{ret:!0,p1:i}},e:function(n,i){var r=this;if(!function(){var t=r.l.tryGetValue(n,i);return i=t.p1,t.ret}()){if(i=t.$cn.af(t.$en.$type,t.$cn.u(t.$en.$type,this._v,function(t){return t.uniqueName()==n})),i==null)return{ret:!1,p1:i};this.l.add(n,i)}return{ret:!0,p1:i}},$type:new n.ig.Type("CubeMetaItemsCache",n.ig.$ot)},!0),i("MetaTreeHelper:ev","Object",{init:function(){n.ig.$op.init.call(this)},getDimensionMetaItems:function(n,i,r,u,f,e,o,s){var c=new t.bo(t.$bb.$type,0),l=new t.ew,a,v,d,y,p,g,w,h,nt,b,tt,it,k;for(l._a=0,l._b=0,a=new t.bo(t.$bg.$type,0),v=u.getEnumerator();v.moveNext();)d=v.current(),a.add(d);for(y=new t.bo(t.$ee.$type,0),p=f.getEnumerator();p.moveNext();)g=p.current(),y.add(g);for(w=n.getEnumerator();w.moveNext();)h=w.current(),nt=t.$ev.e(a,y,h,l),h.dimensionType()!=2?(b=function(){var n=new t.bb;return n.type(1),n.caption(h.caption()),n.item(h),n}(),t.$ev.setMetaItemChildren(b,nt),c.add(b)):(tt=t.$ev.c(i,h,s),c.insert(0,tt),t.$cn.aj(t.$eh.$type,r)>0&&(it=function(){var n=new t.ex;return n.caption("Kpis"),n}(),k=t.$ev.b(r,it,o),k.type(12),c.insert(1,k)));return c},setMetaItemChildren:function(n,i){var r,u;if(i.count()>0){var f=t.$cn.a(t.$bb.$type,t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,i,function(n){return n.type()==2}),function(n){return n.caption()})),e=t.$cn.a(t.$bb.$type,t.$cn.u(t.$bb.$type,i,function(n){return n.type()!=2})),o=new Array(f.length+e.length);for(r=0;r<f.length;r++)o[r]=f[r];for(u=0;u<e.length;u++)o[f.length+u]=e[u];n.children(o)}},e:function(n,i,r,u){for(var v=new t.b9(String,t.$ep.$type.specialize(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type)),0),y=new t.bo(t.$bb.$type,0),f=n.item(u._a),e,s,p,h,w,o,c,l,d,a,b,k,g;f.dimensionUniqueName()!=r.uniqueName();)u._a=u._a+1,f=n.item(u._a);while(f.dimensionUniqueName()==r.uniqueName()){if(e=null,!String.isNullOrEmpty(f.hierarchyDisplayFolder()))for(s=String.empty(),p=t.$ev.a(f.hierarchyDisplayFolder()),h=0;h<p.length;h++)w=p[h],s+=w+"\\",function(){var n=v.tryGetValue(s,o);return o=n.p1,n.ret}()||(c=function(){var n=new t.bb;return n.type(2),n.caption(w),n}(),o=new t.ep(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type),c,new t.bo(t.$bb.$type,0)),v.add(s,o),e!=null?e._d.add(c):y.add(c)),e=o;switch(f.hierarchyOrigin()){case 2:l=4;break;case 1:l=3;break;default:l=5}if(d=t.$ev.f(i,f,u),a=function(){var n=new t.bb;return n.type(l),n.caption(f.caption()),n.item(f),n}(),t.$ev.setMetaItemChildren(a,d),e!=null?e._d.add(a):y.add(a),u._a+1>=n.count())break;u._a=u._a+1,f=n.item(u._a)}for(b=v.values().getEnumerator();b.moveNext();)k=b.current(),g=k._c,t.$ev.setMetaItemChildren(g,k._d);return y},f:function(n,i,r){var e=new t.bo(t.$bb.$type,0),u,f,o;if(n==null||n.count()==0)return e;for(u=n.item(r._b);u.hierarchyUniqueName()!=i.uniqueName();)r._b=r._b+1,u=n.item(r._b);while(u.hierarchyUniqueName()==i.uniqueName()){switch(u.depth()){case 0:case 1:f=7;break;case 2:f=8;break;case 3:f=9;break;case 4:f=10;break;default:f=11}if(o=function(){var n=new t.bb;return n.type(f),n.caption(u.caption()),n.item(u),n}(),e.add(o),r._b+1>=n.count())break;r._b=r._b+1,u=n.item(r._b)}return e},c:function(n,i,u){for(var o=new t.b9(String,t.$ep.$type.specialize(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type)),0),w=function(){var n=new t.bb;return n.type(6),n.caption(i.caption()),n.item(i),n}(),h=new t.ep(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type),w,new t.bo(t.$bb.$type,0)),rt=n.getEnumerator(),f,e,ut,ft,c,l,b,a,k,s,d,et,v,g,ot,nt,st,tt,y,p,vt;rt.moveNext();)if(f=rt.current(),r(t.$en.$type,f)===null){if(e=h,String.isNullOrEmpty(f.measureGroupName())||function(){var n=o.tryGetValue(f.measureGroupName(),e);return e=n.p1,n.ret}()||(ut=t.$cn.ad(t.$d7.$type,t.$cn.u(t.$d7.$type,u,function(n){return n.name()==f.measureGroupName()})),ft=function(){var n=new t.bb;return n.type(2),n.caption(ut.caption()),n}(),e=new t.ep(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type),ft,new t.bo(t.$bb.$type,0)),o.add(f.measureGroupName(),e),h._d.add(e._c)),c=e,!String.isNullOrEmpty(f.measureDisplayFolder()))for(l=f.measureGroupName(),b=t.$ev.a(f.measureDisplayFolder()),a=0;a<b.length;a++)k=b[a],l+="\\"+k,function(){var n=o.tryGetValue(l,s);return s=n.p1,n.ret}()||(d=function(){var n=new t.bb;return n.type(2),n.caption(k),n}(),s=new t.ep(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type),d,new t.bo(t.$bb.$type,0)),o.add(l,s),c._d.add(d)),c=s;et=function(){var n=new t.bb;return n.type(6),n.caption(f.caption()),n.item(f),n}(),c._d.add(et)}for(v=new t.bo(t.$bb.$type,0),g=t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,h._d,function(n){return n.type()==2}),function(n){return n.caption()}).getEnumerator();g.moveNext();)ot=g.current(),v.add(ot);for(nt=t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,h._d,function(n){return n.type()!=2}),function(n){return n.caption()}).getEnumerator();nt.moveNext();)st=nt.current(),v.add(st);for(t.$ev.setMetaItemChildren(w,v),tt=o.values().getEnumerator();tt.moveNext();){var ht=tt.current(),ct=ht._d,lt=t.$cn.z(t.$bb.$type,t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,ct,function(n){return n.type()==2}),function(n){return n.caption()})),at=t.$cn.z(t.$bb.$type,t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,ct,function(n){return n.type()!=2}),function(n){return n.caption()})),it=new t.bo(t.$bb.$type,0);for(y=0;y<lt.count();y++)it.add(lt.item(y));for(p=0;p<at.count();p++)it.add(at.item(p));vt=ht._c,t.$ev.setMetaItemChildren(vt,it)}return w},b:function(n,i,r){var g=new t.b9(String,t.$ep.$type.specialize(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type)),0),h=t.$cn.z(t.$bi.$type,r._z),f,u,l,a,it,v,rt,c,ut,e,y,p,w,b,ft,yt,et,pt,ot,k,d,gt;r._z=h,f=new t.bo(t.$en.$type,0),r._v=f;for(var nt=function(){var n=new t.bb;return n.type(12),n.caption(i.caption()),n.item(i),n}(),tt=new t.ep(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type),nt,new t.bo(t.$bb.$type,0)),ht=n.getEnumerator();ht.moveNext();){if(u=ht.current(),l=tt,!String.isNullOrEmpty(u.kpiDisplayFolder()))for(a=String.empty(),it=t.$ev.a(u.kpiDisplayFolder()),v=0;v<it.length;v++)rt=it[v],a+="\\"+rt,function(){var n=g.tryGetValue(a,c);return c=n.p1,n.ret}()||(ut=function(){var n=new t.bb;return n.type(2),n.caption(rt),n}(),c=new t.ep(t.$bb.$type,t.$be.$type.specialize(t.$bb.$type),ut,new t.bo(t.$bb.$type,0)),g.add(a,c),l._d.add(ut)),l=c;if(e=function(){var n=new t.bb;return n.type(13),n.caption(u.caption()),n.item(u),n}(),!String.isNullOrEmpty(u.kpiValue())){var o=null,ct=6,lt="Value";(function(){var n=r.f(u.kpiValue(),o);return o=n.p1,n.ret})()?lt+=" ("+o.caption()+")":(ct=14,o=t.$en.createKpiValueMeasure(u),h.add(o),f.add(o)),e.e(function(){var n=new t.bb;return n.caption(lt),n.item(o),n.type(ct),n}())}if(!String.isNullOrEmpty(u.kpiGoal())){var s=null,at=6,vt="Goal";(function(){var n=r.f(u.kpiGoal(),s);return s=n.p1,n.ret})()?vt+=" ("+s.caption()+")":(at=15,s=t.$en.createKpiGoalMeasure(u),h.add(s),f.add(s)),e.e(function(){var n=new t.bb;return n.caption(vt),n.item(s),n.type(at),n}())}String.isNullOrEmpty(u.kpiStatus())||(y=t.$en.createKpiStatusMeasure(u),h.add(y),f.add(y),e.e(function(){var n=new t.bb;return n.caption("Status"),n.item(y),n.type(16),n}())),String.isNullOrEmpty(u.kpiTrend())||(p=t.$en.createKpiTrendMeasure(u),h.add(p),f.add(p),e.e(function(){var n=new t.bb;return n.caption("Trend"),n.item(p),n.type(17),n}())),String.isNullOrEmpty(u.kpiWeight())||(w=t.$en.createKpiWeightMeasure(u),h.add(w),f.add(w),e.e(function(){var n=new t.bb;return n.caption("Weight"),n.item(w),n.type(18),n}())),l._d.add(e)}for(b=new t.bo(t.$bb.$type,0),ft=t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,tt._d,function(n){return n.type()==2}),function(n){return n.caption()}).getEnumerator();ft.moveNext();)yt=ft.current(),b.add(yt);for(et=t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,tt._d,function(n){return n.type()!=2}),function(n){return n.caption()}).getEnumerator();et.moveNext();)pt=et.current(),b.add(pt);for(t.$ev.setMetaItemChildren(nt,b),ot=g.values().getEnumerator();ot.moveNext();){var wt=ot.current(),bt=wt._d,kt=t.$cn.z(t.$bb.$type,t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,bt,function(n){return n.type()==2}),function(n){return n.caption()})),dt=t.$cn.z(t.$bb.$type,t.$cn.x(t.$bb.$type,String,t.$cn.u(t.$bb.$type,bt,function(n){return n.type()!=2}),function(n){return n.caption()})),st=new t.bo(t.$bb.$type,0);for(k=0;k<kt.count();k++)st.add(kt.item(k));for(d=0;d<dt.count();d++)st.add(dt.item(d));gt=wt._c,t.$ev.setMetaItemChildren(gt,st)}return nt},a:function(n){return n.split("\\")},$type:new n.ig.Type("MetaTreeHelper",n.ig.$ot)},!0),i("HierarchyItemPosition:ew","Object",{init:function(){n.ig.$op.init.call(this)},_a:0,_b:0,$type:new n.ig.Type("HierarchyItemPosition",n.ig.$ot)},!0),i("DataSourceBaseOptions:d8","Object",{init:function(){n.ig.$op.init.call(this)},_cube:null,cube:function(n){return arguments.length===1?(this._cube=n,n):this._cube},_measureGroup:null,measureGroup:function(n){return arguments.length===1?(this._measureGroup=n,n):this._measureGroup},_measures:null,measures:function(n){return arguments.length===1?(this._measures=n,n):this._measures},_filters:null,filters:function(n){return arguments.length===1?(this._filters=n,n):this._filters},_columns:null,columns:function(n){return arguments.length===1?(this._columns=n,n):this._columns},_rows:null,rows:function(n){return arguments.length===1?(this._rows=n,n):this._rows},$type:new n.ig.Type("DataSourceBaseOptions",n.ig.$ot)},!0),i("SourceInitHelper:fu","Object",{init:function(){n.ig.$op.init.call(this)},a:function(n){var u,i,f,r,e;if(String.isNullOrEmpty(n))return null;if(u=new t.eu(n),i=u.c(),i.count()>0)for(f=new t.bo(String,0),r=i.getEnumerator();r.moveNext();)e=r.current(),f.add(e._b);return i},$type:new n.ig.Type("SourceInitHelper",n.ig.$ot)},!0),i("AxisDefinitionParser:eu","Object",{init:function(t){n.ig.$op.init.call(this),this._d=-1,this._k=t},_a:!1,_g:null,_d:0,_k:null,b:function(){var r,u;if(this._d==this._k.length-1)return!1;for(var t=-1,i=-1,n=!1;this._d+1<this._k.length;){this._d=this._d+1,r=this._k.substr(this._d,1);switch(r){case"[":t==-1&&(t=this._d);break;case"]":for(i=this._d;this._d+1<this._k.length;){r=this._k.substr(this._d+1,1);switch(r){case"]":i=this._d+1;break;case",":"]"==this._k.substr(this._d,1)&&(n=!0);break;case"{":case"}":n=!0}if(n)break;this._d=this._d+1}n=!0;break;case",":n=!0;break;case"{":this._a=!0;break;case"}":n=!0,this._a=!1}if(n&&(n=!1,t>-1&&i>-1))break}return this._d==this._k.length-1&&(i==-1||t==-1)?!1:(u=this._k.substr(t,i-t+1).trim(),this._g=u,!0)},c:function(){for(var i=new t.bo(t.$eq.$type,0),n=null,r;this.b();)this._a?n!=null&&n.add(this._g):(n=new t.c4(String),r=new t.eq(this._g,n),i.add(r));return i},$type:new n.ig.Type("AxisDefinitionParser",n.ig.$ot)},!0),i("CoreOlapElementParseResult:fw","Object",{init:function(){n.ig.$op.init.call(this)},_a:0,_b:null,$type:new n.ig.Type("CoreOlapElementParseResult",n.ig.$ot)},!0),i("CoreOlapElementParser:fx","Object",{init:function(t){n.ig.$op.init.call(this),this._c=-1,this._h=t},_f:null,_c:0,_h:null,a:function(){var r,u;if(this._c==this._h.length-1)return!1;for(var n=-1,t=-1,i=!1;this._c+1<this._h.length;){this._c=this._c+1,r=this._h.substr(this._c,1);switch(r){case"[":n==-1&&(n=this._c);break;case"]":for(t=this._c;this._c+1<this._h.length;){r=this._h.substr(this._c+1,1);switch(r){case"]":t=this._c+1;break;case".":i=!0}if(i)break;this._c=this._c+1}break;case".":i=!0}if(i&&(i=!1,n>-1&&t>-1))break}return this._c==this._h.length-1&&(t==-1||n==-1)?!1:(u=this._h.substr(n,t-n+1).trim(),this._f=u,!0)},b:function(){for(var n=new t.bo(String,0);this.a();)n.add(this._f);return n},$type:new n.ig.Type("CoreOlapElementParser",n.ig.$ot)},!0),i("PivotAction:fz","Object",{init:function(){n.ig.$op.init.call(this),this._a=0},c:function(){this._a=1,this._b=t.$ah.now()},e:function(){this._a=4},d:function(){this._a=3},_b:new Date,_a:0,$type:new n.ig.Type("PivotAction",n.ig.$ot)},!0),i("AxisChangedAction:f1","PivotAction",{init:function(n){t.$fz.init.call(this),this._f=n},_f:null,$type:new n.ig.Type("AxisChangedAction",t.$fz.$type)},!0),i("AxisItemsChangedAction:f2","AxisChangedAction",{init:function(n,i,r,u){t.$f1.init.call(this,n),this._h=i,this._g=r,this._j=u},_h:null,_g:0,_j:0,i:function(n){return this._f!=n._f?!1:this._h!=n._h?!1:this._j!=n._j?!1:this._g!=n._g},$type:new n.ig.Type("AxisItemsChangedAction",t.$f1.$type)},!0),i("ExpansionStateChangedAction:f4","AxisChangedAction",{init:function(n,i,r){t.$f1.init.call(this,n),this._g=i,this._h=r},_g:null,_h:0,i:function(n){return this._f!=n._f?!1:this._g!=n._g?!1:this._h!=n._h},$type:new n.ig.Type("ExpansionStateChangedAction",t.$f1.$type)},!0),i("PivotActionManager:f5","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("PivotActionManager",n.ig.$ot)},!0),i("MeasureGroupMetaItemsCache:eo","Object",{a:null,c:null,b:null,f:null,d:null,g:null,e:null,init:function(i,r,u,f){n.ig.$op.init.call(this),this.a=new t.b9(String,t.$ap.$type.specialize(t.$ec.$type),0),this.c=new t.b9(String,t.$ap.$type.specialize(t.$bi.$type),0),this.b=new t.b9(String,t.$ap.$type.specialize(t.$eh.$type),0),this.f=f,this.d=i,this.g=r,this.e=u},getMeasureGroupDimensions:function(n){var h=this,i,f,e,o,r,s,u;if(!function(){var t=h.a.tryGetValue(n,i);return i=t.p1,t.ret}()){for(f=new t.bo(String,0),e=this.f.getEnumerator();e.moveNext();)o=e.current(),o.measureGroupName()==n&&f.add(o.dimensionUniqueName());for(r=new t.bo(t.$ec.$type,0),s=this.d.getEnumerator();s.moveNext();)u=s.current(),(f.contains(u.uniqueName())||u.dimensionType()==2)&&r.add(u);this.a.add(n,r),i=r}return i},getMeasureGroupMeasures:function(n){var e=this,i,r,u,f;if(!function(){var t=e.c.tryGetValue(n,i);return i=t.p1,t.ret}()){for(r=new t.bo(t.$bi.$type,0),u=this.g.getEnumerator();u.moveNext();)f=u.current(),f.measureGroupName()==n&&r.add(f);this.c.add(n,r),i=r}return i},getMeasureGroupKpis:function(n){var e=this,i,r,u,f;if(!function(){var t=e.b.tryGetValue(n,i);return i=t.p1,t.ret}()){for(r=new t.bo(t.$eh.$type,0),u=this.e.getEnumerator();u.moveNext();)f=u.current(),f.measureGroupName()==n&&r.add(f);this.b.add(n,r),i=r}return i},$type:new n.ig.Type("MeasureGroupMetaItemsCache",n.ig.$ot)},!0),i("HierarchyFilterView:f6","Object",{c:null,d:null,e:null,init:function(i){this.e=new t.b9(String,t.$f7.$type,0),n.ig.$op.init.call(this),this.hierarchy(i),this.d=new t.b9(t.$l.$type,t.$be.$type.specialize(t.$f7.$type),0),this.c=new t.b9(String,t.$f7.$type,0)},filterMemberExpansionChanged:null,filterMemberSelectionChanged:null,_hierarchy:null,hierarchy:function(n){return arguments.length===1?(this._hierarchy=n,n):this._hierarchy},addFiltersForMembers:function(n){for(var t=n.getEnumerator(),i;t.moveNext();)i=t.current(),this.addFilterForMember(i)},addFilterForMember:function(i){var f=this,r,u;this.c.containsKey(i.uniqueName())||(r=new t.f7(i),r.propertyChanged=n.ig.Delegate.prototype.combine(r.propertyChanged,this.o.runOn(this)),r.selectionChanged=n.ig.Delegate.prototype.combine(r.selectionChanged,this.p.runOn(this)),function(){var n=f.d.tryGetValue(i.levelDepth(),u);return u=n.p1,n.ret}()||(u=new t.bo(t.$f7.$type,0),this.d.add(i.levelDepth(),u)),this.c.add(i.uniqueName(),r),this.e.add(i.uniqueName(),r),u.add(r),this.j(r),this.m(r))},tryGetFilterMember:function(n){return this.c.containsKey(n)?this.c.item(n):null},getRootFilterMembers:function(){for(var n=-1,i=this.d.keys().getEnumerator(),t;i.moveNext();)t=i.current(),n=n==-1?t:Math.min(t,n);return n==-1?null:this.d.item(n)},getSelectedFilterItems:function(){for(var r=this.getRootFilterMembers(),i=new t.bo(t.$f7.$type,0),e=0,o=r.getEnumerator(),u,f,n;o.moveNext();)u=o.current(),u.isSelected().hasValue()==!0&&u.isSelected().value()==!0&&e++;if(e==r.count())return i;for(f=r.getEnumerator();f.moveNext();)n=f.current(),n.isSelected().hasValue()==!1?this.n(n,i):n.isSelected().hasValue()==!0&&n.isSelected().value()==!0&&i.add(n);return i},p:function(n){this.filterMemberSelectionChanged!=null&&this.filterMemberSelectionChanged(this,new t.gb(n))},o:function(n,i){i.propertyName()=="IsExpanded"&&this.filterMemberExpansionChanged!=null&&this.filterMemberExpansionChanged(this,new t.gb(n))},n:function(n,t){var i,r;if(n.isSelected().hasValue()==!0&&n.isSelected().value()==!0)t.add(n);else{if(n.children()==null)return;for(i=n.children().getEnumerator();i.moveNext();)r=i.current(),this.n(r,t)}},m:function(n){var u=this,r=n.member().parentUniqueName(),i;String.isNullOrEmpty(r)||function(){var n=u.c.tryGetValue(r,i);return i=n.p1,n.ret}()&&(i.n(n),i.isSelected().hasValue()==!0&&i.isSelected().value()==!1&&n.isSelected(e(t.$d.$type,!1)))},j:function(n){var u=this,f=n.member().levelDepth(),t,i,r;if(function(){var n=u.d.tryGetValue(f+1,t);return t=n.p1,n.ret}())for(i=t.getEnumerator();i.moveNext();)r=i.current(),r.member().parentUniqueName()==n.member().uniqueName()&&n.n(r)},$type:new n.ig.Type("HierarchyFilterView",n.ig.$ot)},!0),i("FilterMember:f7","Object",{l:e(t.$d.$type,null),c:!1,e:!1,d:!1,init:function(i){this.e=!1,this.d=!1,n.ig.$op.init.call(this);var r=e(t.$d.$type,!0);this.l=r,this.member(i),this._k=0,this._j=0},selectionChanged:null,propertyChanged:null,_parent:null,parent:function(n){return arguments.length===1?(this._parent=n,n):this._parent},_member:null,member:function(n){return arguments.length===1?(this._member=n,n):this._member},isExpandable:function(){return this.member().childrenCardinality()>0},isExpanded:function(n){return arguments.length===1?(this.c!=n&&(this.c=n,this.o("IsExpanded")),n):this.c},isSelected:function(n){var o,u,i,f,r;if(arguments.length===1){if(o=n,u=e(t.$d.$type,null),l(this.l,o)==!1){if(i=this.l,this.l=n,!this.d&&this.l.hasValue()==!0&&this.children()!=null)for(f=this.children().getEnumerator();f.moveNext();)r=f.current(),r.e=!0,r.isSelected(this.l),r.e=!1;if(this.parent()!=null&&(i.hasValue()==!0&&i.value()==!1?(this.l.hasValue()==!1&&this.p(!0),this.q(!1)):i.hasValue()==!1?(this.l.hasValue()==!0&&this.l.value()==!1&&this.q(!0),this.p(!1)):this.l.hasValue()==!0&&this.l.value()==!1?this.q(!0):this.l.hasValue()==!1&&this.p(!0),!this.e)){this.parent().d=!0;var s=this.parent()._k,h=this.parent()._j,c=this.parent().children().count();h==0?s==0?this.parent().isSelected(e(t.$d.$type,!0)):s==c?this.parent().isSelected(e(t.$d.$type,!1)):this.parent().isSelected(u):this.parent().isSelected(u),this.parent().d=!1}this.o("IsSelected"),this.e||this.d||this.selectionChanged!=null&&this.selectionChanged(this,t.$cu.empty)}return n}return this.l},q:function(n){this.parent()._k=n?this.parent()._k+1:this.parent()._k-1},p:function(n){this.parent()._j=n?this.parent()._j+1:this.parent()._j-1},_children:null,children:function(n){return arguments.length===1?(this._children=n,n):this._children},n:function(n){this.children()==null&&this.children(new t.bo(t.$f7.$type,0)),n.parent(this),this.children().add(n),this.o("Children")},_k:0,_j:0,o:function(n){this.propertyChanged!=null&&this.propertyChanged(this,new t.ga(n))},$type:new n.ig.Type("FilterMember",n.ig.$ot,[t.$f8.$type])},!0),i("FilterMemberStateChangedEventArgs:gb","EventArgs",{init:function(n){t.$cu.init.call(this),this.filterMember(n)},_filterMember:null,filterMember:function(n){return arguments.length===1?(this._filterMember=n,n):this._filterMember},$type:new n.ig.Type("FilterMemberStateChangedEventArgs",t.$cu.$type)},!0),i("ResultSorter$1:fo","Object",{$t:null,_a:null,_d:!1,_c:!1,init:function(t,i,r,u){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this._a=i,this._d=r,this._c=u},b:function(){},e:function(n,i,r){var u,o,f,s,e,h,c;for(n.e(),u=n._d,o=new Array(u.count()),f=0;f<u.count();f++)s=u.item(f),r.add(s,f);for(e=0;e<u.count();e++)h=u.item(e),c=i.tuples().__inner[h],o[e]=c;return new t.bo(t.$cz.$type,1,o)},$type:new n.ig.Type("ResultSorter$1",n.ig.$ot)},!0),i("AxisTupleVisitor:fp","Object",{_a:null,_d:null,init:function(t){n.ig.$op.init.call(this),this._a=t},e:function(){var u;this._a.positionResolver().hasUnregisterdPositions()&&this._a.positionResolver().completeRegisterPositions(),this._d=new t.bo(t.$l.$type,2,this._a.tuples().count());for(var i=this._a.positionResolver().rootPositionInfo(),f=t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==i.positionItemDepthMin()}),r=this.c(i,f).getEnumerator();r.moveNext();)u=r.current(),this.f(i,u)},b:function(){},c:function(){},f:function(i,r){var u=t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),r.values(),function(n){return n.positionItemDepth()==r.positionItemDepthMin()}),f,o,s,e,h;if(t.$cn.aj(t.$b8.$type.specialize(String,n.ig.$op.$type),u)>0)for(t.$cn.b(t.$b8.$type.specialize(String,n.ig.$op.$type),u,function(n){return n.positionItemDepth()>-1&&n.parentKey()==null&&n.hierarchyLevelKey()!=null&&n.hierarchyLevelKey().contains("[all]")==!1})&&(u=this.c(i,u)),f=u.getEnumerator();f.moveNext();)o=f.current(),this.f(r,o);else this._d.add(r.positionIndex());for(s=this.b(i,r),e=s.getEnumerator();e.moveNext();)h=e.current(),this.f(i,h)},$type:new n.ig.Type("AxisTupleVisitor",n.ig.$ot)},!0),i("AxisHeaderSortingVisitor:fq","AxisTupleVisitor",{h:null,i:null,g:null,init:function(n,i,r,u){t.$fp.init.call(this,n),this.h=i,this.i=r,this.g=u},b:function(i,r){var u=t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.parentKey()==r.key()});return this.c(i,u)},c:function(i,r){var s=this,u=t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),r),e,f,o;return u.count()>0&&(e=u.item(0),e.hierarchyLevelKey()!=null&&function(){var n=s.h.tryGetValue(e.hierarchyLevelKey(),f);return f=n.p1,n.ret}()&&(u=f.sortBehavior()==1?f.sortDirection()==0?t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.x(t.$b8.$type.specialize(String,n.ig.$op.$type),n.ig.$op.$type,u,function(n){return n.sortKey()})):t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.y(t.$b8.$type.specialize(String,n.ig.$op.$type),n.ig.$op.$type,u,function(n){return n.sortKey()})):f.sortDirection()==0?t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.x(t.$b8.$type.specialize(String,n.ig.$op.$type),String,u,function(n){return n.caption()})):t.$cn.z(t.$b8.$type.specialize(String,n.ig.$op.$type),t.$cn.y(t.$b8.$type.specialize(String,n.ig.$op.$type),String,u,function(n){return n.caption()})),t.$cn.d(t.$ez.$type,this.i,function(n){return n.levelUniqueName()==f.levelUniqueName()})==!1&&this.i.add(f),function(){var n=s.g.tryGetValue(e.positionItemIndex(),o);return o=n.p1,n.ret}()||(o=new t.b9(t.$l.$type,t.$cx.$type,0),this.g.add(e.positionItemIndex(),o)),o.item(e.positionItemDepth(),f.sortDirection()))),u},$type:new n.ig.Type("AxisHeaderSortingVisitor",t.$fp.$type)},!0),i("ResultHeaderSorter:fn","ResultSorter$1",{f:null,_h:null,_g:null,init:function(n,i,r,u){var f,e;for(t.$fo.init.call(this,t.$fq.$type,n,i,r),this.f=new t.b9(String,t.$ez.$type,1,u.count()),f=u.getEnumerator();f.moveNext();)e=f.current(),this.f.item(e.levelUniqueName(),e)},b:function(){var tt=this,s,h,l,a,d,v,y,g,nt;if(this._h=new t.bo(t.$ez.$type,0),this._g=new t.b9(String,t.$ca.$type.specialize(t.$l.$type,t.$ca.$type.specialize(t.$l.$type,t.$cx.$type)),0),this._a.isEmpty())return this._a;var e=new t.bo(t.$bm.$type,0),o=0,n=1,p=new t.b9(t.$l.$type,t.$l.$type,0),w=new t.b9(t.$l.$type,t.$l.$type,0);if(this._c){var r=this._a.axes().item(o),b=new t.b9(t.$l.$type,t.$ca.$type.specialize(t.$l.$type,t.$cx.$type),0),it=new t.fq(r,this.f,this._h,b),rt=this.e(it,r,p),ut=function(){var n=new t.bm(rt,r.tupleSize());return n.name(r.name()),n}();e.add(ut),this._g.item(r.name(),b),n=r.tuples().count(),o++}if(this._d){var u=this._a.axes().item(o),k=new t.b9(t.$l.$type,t.$ca.$type.specialize(t.$l.$type,t.$cx.$type),0),ft=new t.fq(u,this.f,this._h,k),et=this.e(ft,u,w),ot=function(){var n=new t.bm(et,u.tupleSize());return n.name(u.name()),n}();e.add(ot),this._g.item(u.name(),k)}for(s=new t.bo(t.$c3.$type,2,this._a.cells().count()),h=this._a.cells().getEnumerator();h.moveNext();){var st=h.current(),c=st.clone(),i=c.cellOrdinal();this._c&&(l=i%n,a=p.item(l),l!=a&&(d=f(i,n),i=d*n+a)),this._d&&(v=f(i,n),y=w.item(v),v!=y&&(g=i%n,i=y*n+g)),c.cellOrdinal(i),s.add(c)}return nt=function(){var n=new t.bl;return n.isEmpty(tt._a.isEmpty()),n.axes(e),n.cells(s),n}()},$type:new n.ig.Type("ResultHeaderSorter",t.$fo.$type.specialize(t.$fq.$type))},!0),i("AxisValueSortingVisitor:fs","AxisTupleVisitor",{g:null,init:function(n,i){t.$fp.init.call(this,n),this.g=i},b:function(i,r){var u=t.$cn.u(t.$b8.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.parentKey()==r.key()});return this.c(i,u)},c:function(i,r){var u=t.$cn.a(t.$b8.$type.specialize(String,n.ig.$op.$type),r),f,e;return u.length>0&&(f=t.$cn.a(t.$cb.$type.specialize(t.$e1.$type,Array),this.g),e=function(t){var i=function(n,t,i){var r=n(t,i);return r<0?-1:r>0?1:!isNaN(parseFloat(r))&&isFinite(r)?r:0};return function(r,u){for(var v,l,a,f,e,o,h=[],c=[],s=0;s<t.length;s++)l=t[s].key(),a=t[s].value(),f=l.sortDirection()===n.ig.ListSortDirection.prototype.ascending?1:-1,comparer=l.comparer(),e=a[r.positionIndex()],o=a[u.positionIndex()],t.length===1?(h=f*i(comparer,e,o),c=f*i(comparer,o,e)):(h.push(f*i(comparer,e,o)),c.push(f*i(comparer,o,e)));return h<c?-1:h>c?1:0}},u.sort(e(f))),u},$type:new n.ig.Type("AxisValueSortingVisitor",t.$fp.$type)},!0),i("ResultColumnValueSorter:fr","ResultSorter$1",{f:null,_g:null,init:function(n,i,r,u){t.$fo.init.call(this,t.$fs.$type,n,i,r),this.f=u},b:function(){var ct=this,s,r,rt,w,b,u,o,k,h,a,ut,d,g,st,ht;if(this._g=new t.bo(t.$e1.$type,0),!this._d||this._a.isEmpty())return this._a;var y=new t.bo(t.$bm.$type,0),c=0,i=null,e=1;this._c&&(i=this._a.axes().item(c),e=i.tuples().count(),y.add(i.clone()),c++);for(var l=this._a.axes().item(c),tt=this._a.axes().item(c).tuples().count(),p=new t.b9(t.$l.$type,n.ig.$op.$type,1,this._a.cells().count()),it=this._a.cells().getEnumerator();it.moveNext();)s=it.current(),r=null,function(){var n=s.properties().tryGetValue("Value",r);return r=n.p1,n.ret}()?p.item(s.cellOrdinal(),r):(rt=s.properties().tryGetValue("FmtValue",r),r=rt.p1,p.item(s.cellOrdinal(),r));for(w=new t.bo(t.$cb.$type.specialize(t.$e1.$type,Array),2,this.f.count()),b=this.f.getEnumerator();b.moveNext();)if(u=b.current(),i!=null&&u.memberNames()!=null?(i.positionResolver().hasUnregisterdPositions()&&i.positionResolver().completeRegisterPositions(),o=i.positionResolver().rootPositionInfo().getIndex(u.memberNames()),u.tupleIndex(o)):o=u.tupleIndex(),o>-1&&o<e){for(k=new Array(tt),h=0;h<tt;h++)a=null,ut=p.tryGetValue(h*e+o,a),a=ut.p1,k[h]=a;w.add(new t.cb(t.$e1.$type,Array,1,u,k)),this._g.add(u)}var ft=new t.b9(t.$l.$type,t.$l.$type,0),lt=new t.fs(l,w),at=this.e(lt,l,ft),vt=function(){var n=new t.bm(at,l.tupleSize());return n.name(l.name()),n}();for(y.add(vt),d=new t.bo(t.$c3.$type,2,this._a.cells().count()),g=this._a.cells().getEnumerator();g.moveNext();){var yt=g.current(),nt=yt.clone(),v=nt.cellOrdinal(),et=f(v,e),ot=ft.item(et);et!=ot&&(st=v%e,v=ot*e+st),nt.cellOrdinal(v),d.add(nt)}return ht=function(){var n=new t.bl;return n.isEmpty(ct._a.isEmpty()),n.axes(y),n.cells(d),n}()},$type:new n.ig.Type("ResultColumnValueSorter",t.$fo.$type.specialize(t.$fs.$type))},!0),i("jQueryUtils:gc","Object",{init:function(){n.ig.$op.init.call(this)},c:function(i,r){if(r==null)return null;var f=r,u=new t.b9(String,i,0);return function(t,i){for(var u=n.ig.Dictionary.prototype.getDictionary(t),f=u.keys(),r,e;f.moveNext();)r=f.current(),e=u.item(r),i.add(r,e)}(f,u),u},i:function(n,i){var r,u,f;if(i==null)return null;for(r=t.$gc.createJavascriptObject(),u=i.getEnumerator();u.moveNext();)f=u.current(),r[f.key()]=f.value();return r},convertToObjectDictionary:function(i){return t.$gc.c(n.ig.$op.$type,i)},convertToStringDictionary:function(n){return t.$gc.c(String,n)},convertFromObjectDictionary:function(i){return t.$gc.i(n.ig.$op.$type,i)},convertFromStringDictionary:function(n){return t.$gc.i(String,n)},createJavascriptObject:function(){return{}},getJavascriptObjectProperty:function(n,t){var i=n,r=t;return i[r]},setJavascriptObjectProperty:function(n,t,i){var r=n,u=t,f=i;r[u]=f},getJavascriptObjectMethodResult:function(n,t,i){var r=n,u=t,f=i;return r[u].call(r,f)},$type:new n.ig.Type("jQueryUtils",n.ig.$ot)},!0),i("OlapTableView:gd","Object",{a:null,init:function(i,r,u,f){n.ig.$op.init.call(this);var e=this.b(f);this.a=new t.fj(i,r,u,e)},rowHeaders:function(){return this.a.rowHeaders()==null?null:this.a.rowHeaders().inner()},columnHeaders:function(){return this.a.columnHeaders()==null?null:this.a.columnHeaders().inner()},resultCells:function(){return this.a.resultCells()==null?null:this.a.resultCells().inner()},columnSortDirections:function(n){var u,n,i,r;if(arguments.length===1){for(this.a.columnSortDirections().clear(),i=n.getEnumerator();i.moveNext();)r=i.current(),u=this.d(r),this.a.columnSortDirections().add(u);return n}for(n=new t.bs,i=this.a.columnSortDirections().getEnumerator();i.moveNext();)r=i.current(),n.add(this.n(r));return n},appliedColumnSortDirections:function(){for(var n=new t.bs,i=this.a.appliedColumnSortDirections().getEnumerator(),r;i.moveNext();)r=i.current(),n.add(this.n(r));return n},levelSortDirections:function(n){var u,n,i,r;if(arguments.length===1){for(this.a.levelSortDirections().clear(),i=n.getEnumerator();i.moveNext();)r=i.current(),u=this.c(r),this.a.levelSortDirections().add(u);return n}for(n=new t.bs,i=this.a.levelSortDirections().getEnumerator();i.moveNext();)r=i.current(),n.add(this.m(r));return n},appliedLevelSortDirections:function(){for(var n=new t.bs,i=this.a.appliedLevelSortDirections().getEnumerator(),r;i.moveNext();)r=i.current(),n.add(this.m(r));return n},appliedSortDirectionsMap:function(){for(var i=t.$gc.createJavascriptObject(),r=this.a.appliedSortDirectionsMap().getEnumerator(),n,c;r.moveNext();){for(var u=r.current(),f=t.$gc.createJavascriptObject(),e=u.value().getEnumerator();e.moveNext();){for(var o=e.current(),s=t.$gc.createJavascriptObject(),h=o.value().getEnumerator();h.moveNext();)n=h.current(),c=n.value()==0?"ascending":"descending",s[n.key()]=c;f[o.key()]=s}i[u.key()]=f}return i},initialize:function(){this.a.initialize()},b:function(n){var i=new t.fk,u=t.$gc.getJavascriptObjectProperty(n,"rowHeadersLayout"),r=1,f,e;if(!String.isNullOrEmpty(u))switch(u){case"tree":r=2,f=t.$gc.getJavascriptObjectProperty(n,"compactRowHeaderIndentation"),e=t.$gc.getJavascriptObjectProperty(n,"treeRowHeaderIndentation"),i=new t.ft(f,e);break;case"standard":r=0}var o=t.$gc.getJavascriptObjectProperty(n,"isParentInFrontForColumns"),s=t.$gc.getJavascriptObjectProperty(n,"isParentInFrontForRows"),h=t.$gc.getJavascriptObjectProperty(n,"compactColumnHeaders");return i._c=o,i._d=s,i._b=h,i._a=r,i},d:function(i){var e=t.$gc.getJavascriptObjectProperty(i,"memberNames"),o=c(t.$gc.getJavascriptObjectProperty(i,"tupleIndex")),r=t.$gc.getJavascriptObjectProperty(i,"sortDirection"),f=0,u;return String.isNullOrEmpty(r)||(r=r.toLowerCase(),r=="descending"&&(f=1)),u=null,u=n.isFunction(i.comparer)?i.comparer:function(n,t){return parseFloat(n||-Infinity)-parseFloat(t||-Infinity)},function(){var n=new t.e1;return n.memberNames(e),n.tupleIndex(o),n.sortDirection(f),n.comparer(u),n}()},n:function(n){var i=t.$gc.createJavascriptObject();return t.$gc.setJavascriptObjectProperty(i,"memberNames",n.memberNames()),t.$gc.setJavascriptObjectProperty(i,"tupleIndex",n.tupleIndex()),t.$gc.setJavascriptObjectProperty(i,"sortDirection",n.sortDirection()==0?"ascending":"descending"),n.comparer()!=null&&t.$gc.setJavascriptObjectProperty(i,"comparer",n.comparer()),i},c:function(n){var f=t.$gc.getJavascriptObjectProperty(n,"levelUniqueName"),r=t.$gc.getJavascriptObjectProperty(n,"sortDirection"),u=t.$gc.getJavascriptObjectProperty(n,"sortBehavior"),i;return String.isNullOrEmpty(f)?null:(i=new t.ez,i.sortDirection(0),i.sortBehavior(1),i.levelUniqueName(f),String.isNullOrEmpty(r)||(r=r.toLowerCase(),r=="descending"&&i.sortDirection(1)),String.isNullOrEmpty(u)||(u=u.toLowerCase(),u=="alphabetical"&&i.sortBehavior(0)),i)},m:function(n){var i=t.$gc.createJavascriptObject();return t.$gc.setJavascriptObjectProperty(i,"levelUniqueName",n.levelUniqueName()),t.$gc.setJavascriptObjectProperty(i,"sortBehavior",n.sortBehavior()==1?"system":"alphabetical"),t.$gc.setJavascriptObjectProperty(i,"sortDirection",n.sortDirection()==0?"ascending":"descending"),i},$type:new n.ig.Type("OlapTableView",n.ig.$ot)},!0),i("IConnection:ge","Object",{$type:new n.ig.Type("IConnection",null)},!0),i("IOlapDataProviderFactory:d9","Object",{$type:new n.ig.Type("IOlapDataProviderFactory",null)},!0),i("IOlapDiscoverDataProvider:ea","Object",{$type:new n.ig.Type("IOlapDiscoverDataProvider",null)},!0),i("IOlapExecuteCommandProvider:gf","Object",{$type:new n.ig.Type("IOlapExecuteCommandProvider",null)},!0),i("ArrayListCollection$1:c4","Object",{$t:null,init:function(i){this.$t=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this.inner(new t.bs)},_inner:null,inner:function(n){return arguments.length===1?(this._inner=n,n):this._inner},collectionChanged:null,indexOf:function(n){return this.inner().indexOf(o(this.$t,n))},insert:function(n,t){this.inner().insert(n,o(this.$t,t)),this.d(n,t)},removeAt:function(n){var t=s(this.$t,this.inner()[n]);this.inner().removeAt(n),this.e(n,t)},item:function(n,t){return arguments.length===2?(this.inner()[n]=o(this.$t,t),t):s(this.$t,this.inner()[n])},add:function(n){this.inner().add(o(this.$t,n)),this.d(this.inner().length-1,n)},clear:function(){this.inner().clear(),this.c()},contains:function(n){return this.inner().contains(o(this.$t,n))},copyTo:function(){throw new t.b5(0);},count:function(){return this.inner().length},isReadOnly:function(){return!1},remove:function(n){var t=this.inner().indexOf(o(this.$t,n));return t>=0?(this.inner().removeAt(t),this.e(t,n),!0):!1},b:function(){var t=new n.ig.ArrayListCollection___Enumerate__IteratorClass$1(this.$t,-2);return t.__4__this=this,t},getEnumerator:function(){return this.b().getEnumerator()},d:function(n,i){if(this.collectionChanged!=null){var r=new t.c7(1,0,o(this.$t,i),n);this.collectionChanged(this,r)}},e:function(n,i){if(this.collectionChanged!=null){var r=new t.c7(1,1,o(this.$t,i),n);this.collectionChanged(this,r)}},c:function(){if(this.collectionChanged!=null){var n=new t.c7(1,4,null,-1);this.collectionChanged(this,n)}},$type:new n.ig.Type("ArrayListCollection$1",n.ig.$ot,[t.$be.$type.specialize(0),t.$c5.$type])},!0),i("ICoreOlapElement:bc","Object",{$type:new n.ig.Type("ICoreOlapElement",null)},!0),i("MeasureList:er","Object",{init:function(){n.ig.$op.init.call(this)},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},uniqueName:function(n){return arguments.length===1?(this.name(n),n):this.name()},_measures:null,measures:function(n){return arguments.length===1?(this._measures=n,n):this._measures},$type:new n.ig.Type("MeasureList",n.ig.$ot,[t.$bc.$type])},!0),i("OlapMetadataTreeItem:bb","Object",{init:function(){n.ig.$op.init.call(this)},_item:null,item:function(n){return arguments.length===1?(this._item=n,n):this._item},_type:0,type:function(n){return arguments.length===1?(this._type=n,n):this._type},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_children:null,children:function(n){return arguments.length===1?(this._children=n,n):this._children},e:function(t){if(this.children()==null){this.children(new Array(1)),this.children()[0]=t;return}var i=new Array(this.children().length+1);n.ig.util.arrayCopy1(this.children(),0,i,0,this.children().length),i[this.children().length]=t,this.children(i)},$type:new n.ig.Type("OlapMetadataTreeItem",n.ig.$ot)},!0),i("GetPositionIndexCompletedEventArgs:gg","AsyncCompletedEventArgs",{init:function(n,i,r,u){t.$ct.init.call(this,i,r,u),this.positionIndex(n)},_positionIndex:0,positionIndex:function(n){return arguments.length===1?(this._positionIndex=n,n):this._positionIndex},$type:new n.ig.Type("GetPositionIndexCompletedEventArgs",t.$ct.$type)},!0),i("KeyValueItem:eb","Object",{init:function(){n.ig.$op.init.call(this)},_a:null,_b:null,$type:new n.ig.Type("KeyValueItem",n.ig.$ot)},!0),i("AxisElement:eq","Object",{init:function(t,i){n.ig.$op.init.call(this),this._b=t,this._a=i},_b:null,_a:null,$type:new n.ig.Type("AxisElement",n.ig.$ot)},!0),i("IPositionItem$2:b7","Object",{$type:new n.ig.Type("IPositionItem$2",null)},!0),i("IHierarchicalPositionItem$2:cl","Object",{$type:new n.ig.Type("IHierarchicalPositionItem$2",null,[t.$b7.$type.specialize(0,1)])},!0),i("PositionItemInfo$2:b8","Dictionary$2",{$tKey:null,$tSortKey:null,init:function(i,r,u,f,e,o){this.$tKey=i,this.$tSortKey=r,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tSortKey)),t.$b9.init.call(this,this.$tKey,t.$b8.$type.specialize(this.$tKey,this.$tSortKey),0),this.ab=new t.b9(this.$tKey,n.ig.$op.$type,0),this.positionItem(u),this.positionIndex(f),this.positionItemIndex(e),this.positionItemDepth(0),this.positionItemDepthMin(-1),this.positionItemDepthMax(2147483647),this.positionSize(o),u!=null&&(this.positionItemDepth(this.positionItem().depth()),this.key(this.positionItem().key()),this.parentKey(this.positionItem().parentKey()),this.hierarchyKey(this.positionItem().hierarchyKey()),this.hierarchyLevelKey(this.positionItem().hierarchyLevelKey()),this.sortKey(this.positionItem().sortKey()),this.caption(this.positionItem().caption()))},q:function(n,i,r,u){return new t.b8(this.$tKey,this.$tSortKey,n,i,r,u)},_positionItemDepthMin:0,positionItemDepthMin:function(n){return arguments.length===1?(this._positionItemDepthMin=n,n):this._positionItemDepthMin},_positionItemDepthMax:0,positionItemDepthMax:function(n){return arguments.length===1?(this._positionItemDepthMax=n,n):this._positionItemDepthMax},_positionItem:null,positionItem:function(n){return arguments.length===1?(this._positionItem=n,n):this._positionItem},_positionIndex:0,positionIndex:function(n){return arguments.length===1?(this._positionIndex=n,n):this._positionIndex},_positionItemDepth:0,positionItemDepth:function(n){return arguments.length===1?(this._positionItemDepth=n,n):this._positionItemDepth},_positionItemIndex:0,positionItemIndex:function(n){return arguments.length===1?(this._positionItemIndex=n,n):this._positionItemIndex},_positionSize:0,positionSize:function(n){return arguments.length===1?(this._positionSize=n,n):this._positionSize},_key:null,key:function(n){return arguments.length===1?(this._key=n,n):this._key},_parentKey:null,parentKey:function(n){return arguments.length===1?(this._parentKey=n,n):this._parentKey},_hierarchyKey:null,hierarchyKey:function(n){return arguments.length===1?(this._hierarchyKey=n,n):this._hierarchyKey},_hierarchyLevelKey:null,hierarchyLevelKey:function(n){return arguments.length===1?(this._hierarchyLevelKey=n,n):this._hierarchyLevelKey},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},v:null,sortKey:function(n){return arguments.length===1?(this.v=n,n):this.v},_isExpandable:!1,isExpandable:function(n){return arguments.length===1?(this._isExpandable=n,n):this._isExpandable},_isExpanded:!1,isExpanded:function(n){return arguments.length===1?(this._isExpanded=n,n):this._isExpanded},x:function(n,t,i){var r=!1,u,f;return(this.positionItemIndex()==-1?r=!0:i!=null&&n.item(this.positionItemIndex()).key()!=null&&(u=i.item(this.positionItemIndex()),r=n.item(this.positionItemIndex()).key().equals(u.key())),this.positionItemIndex()+1==this.positionSize())?r:(f=this.y(n,t,this.positionItemIndex()+1,i),r&&f)},am:function(){},ab:null,y:function(n,t,i,r){var h=this,o,u=n.item(i),f,e,s;return this.containsKey(u.key())?(s=this.item(u.key()),o=s.x(n,t,r)):(f=this.q(u,t,i,this.positionSize()),f.isExpandable(u.isExpandable()),this.ab.containsKey(f.key())&&(this.ab.remove(f.key()),f.isExpanded(!0)),u.parentKey()!=null&&(e=null,function(){var n=h.tryGetValue(u.parentKey(),e);return e=n.p1,n.ret}()?e.isExpanded(!0):this.ab.containsKey(u.parentKey())||this.ab.add(u.parentKey(),null)),o=f.x(n,t,r),this.add(u.key(),f),this.positionItemDepthMin()==-1?this.positionItemDepthMin(u.depth()):this.positionItemDepthMin(Math.min(this.positionItemDepthMin(),u.depth())),this.positionItemDepthMax()==2147483647?this.positionItemDepthMax(u.depth()):this.positionItemDepthMax(Math.max(this.positionItemDepthMax(),u.depth())),this.am(n,f)),o},getIndex2:function(n){for(var i=new Array(n.count()),t=0;t<i.length;t++)i[t]=n.item(t).key();return this.getIndex(i)},getIndex:function(n){return this.ad(n,n.length)},ad:function(n,t){var r=this,i;return this.positionItemIndex()==t-1?this.positionIndex():function(){var t=r.tryGetValue(n[r.positionItemIndex()+1],i);return i=t.p1,t.ret}()?i.count()==0?i.positionIndex():i.ad(n,t):-1},$type:new n.ig.Type("PositionItemInfo$2",t.$b9.$type.specialize(0,-1))},!0),t.$b8.$type.initSelfReferences(),i("PositionResolver$2:bn","Object",{$tKey:null,$tSortKey:null,m:0,b:null,f:null,g:null,init:function(i,r,u,f){this.$tKey=i,this.$tSortKey=r,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$tKey,this.$tSortKey)),this.m=0,n.ig.$op.init.call(this),this.positions(t.$cn.z(t.$b6.$type.specialize(this.$tKey,this.$tSortKey),u)),this.positionSize(f)},getPositionIndexCompleted:null,_positions:null,positions:function(n){return arguments.length===1?(this._positions=n,n):this._positions},_positionSize:0,positionSize:function(n){return arguments.length===1?(this._positionSize=n,n):this._positionSize},rootPositionInfo:function(){return this.b==null&&(this.b=this.d(this.positionSize())),this.b},d:function(n){return new t.b8(this.$tKey,this.$tSortKey,null,-1,-1,n)},hasUnregisterdPositions:function(){return this.m<this.positions().count()},completeRegisterPositions:function(){this.hasUnregisterdPositions()&&this.q(null)},resolveParentPositionItem:function(n,i){var u,o,e,f,s,h;if(i=-1,u=r(t.$cl.$type.specialize(this.$tKey,this.$tSortKey),n),u==null||u.parentKey()==null)return{ret:null,p1:i};for(o=u.position().indexOf(u),e=new Array(u.position().itemsCount()),f=0;f<u.position().itemsCount();f++)e[f]=u.position().item(f).key();return(e[o]=u.parentKey(),i=this.rootPositionInfo().getIndex(e),i==-1)?{ret:null,p1:i}:(s=this.positions().__inner[i],h=s.item(o),{ret:h,p1:i})},getHostPositionItemInfo:function(n,t){for(var i=this.rootPositionInfo(),f=n.item(t),u,r=0;r<t;r++)if(function(){var t=i.tryGetValue(n.item(r).key(),u);return u=t.p1,t.ret}())i=u;else{i=null;break}return i==null?null:i.containsKey(f.key())?i:null},i:function(n,i){var r,o,f,e,u;if(this.rootPositionInfo().count()==0)return null;for(r=this.rootPositionInfo(),o=n.position().indexOf(n),f=0;f<o;f++)if(function(){var t=r.tryGetValue(n.position().item(f).key(),e);return e=t.p1,t.ret}())r=e;else{r=null;break}return r==null?null:r.containsKey(n.key())?(u=new t.bo(t.$l.$type,0),this.u(n.key(),r,u),i==1)?(u.sort2(function(n,t){return n==t?0:n>t?-1:1}),u):(u.sort2(function(n,t){return n==t?0:n>t?1:-1}),u):null},u:function(n,i,r){for(var f=t.$cn.u(t.$b8.$type.specialize(this.$tKey,this.$tSortKey),i.values(),function(t){return n.equals(t.parentKey())}).getEnumerator(),u;f.moveNext();)(u=f.current(),u.count()==0?r.add(u.positionIndex()):this.t(u,r),u.isExpanded())&&u.positionItemDepth()<i.positionItemDepthMax()&&this.u(u.key(),i,r)},t:function(n,i){for(var u=t.$cn.u(t.$b8.$type.specialize(this.$tKey,this.$tSortKey),n.values(),function(n){return n.parentKey()==null}).getEnumerator(),r;u.moveNext();)(r=u.current(),r.count()==0?i.add(r.positionIndex()):this.t(r,i),r.isExpanded())&&r.positionItemDepth()<n.positionItemDepthMax()&&this.u(r.key(),n,i)},getChildren:function(n,i){this.hasUnregisterdPositions()&&this.completeRegisterPositions();var r=this.getHostPositionItemInfo(n,i),u=n.item(i);return t.$cn.u(t.$b8.$type.specialize(this.$tKey,this.$tSortKey),r.values(),function(n){return u.key().equals(n.parentKey())})},isMemberExpanded:function(n){var s,h,i,r,f,o,u;if(this.hasUnregisterdPositions()&&this.completeRegisterPositions(),s=this.getPositionIndex(n.position()),s==-1||this.rootPositionInfo().count()==0)return e(t.$d.$type,null);for(h=n.position().indexOf(n),i=this.rootPositionInfo(),r=0;r<h;r++)if(function(){var t=i.tryGetValue(n.position().item(r).key(),f);return f=t.p1,t.ret}())i=f;else{i=null;break}if(i==null||!i.containsKey(n.key()))return e(t.$d.$type,null);for(o=null,u=i.values().getEnumerator();u.moveNext();)if(n.key().equals(u.current().parentKey())){o=u.current();break}return e(t.$d.$type,o!=null)},getPositionIndex:function(n){if(n==null||n.itemsCount()!=this.positionSize())return-1;if(n.isEmpty()&&this.positions().count()==1&&this.positions().__inner[0].isEmpty())return 0;if(this.m>0){var t=this.o(n);if(t>-1)return t;if(this.m==this.positions().count())return-1}return this.q(n)},o:function(n){return n.isEmpty()&&this.positions().count()==1&&this.positions().__inner[0].isEmpty()?0:this.rootPositionInfo().getIndex2(t.$cn.z(t.$b7.$type.specialize(this.$tKey,this.$tSortKey),n.getItems()))},q:function(n){for(var f=n==null,i=-1,r,u,t=this.m;t<this.positions().count();t++)if(r=this.positions().__inner[t],u=this.rootPositionInfo().x(r,t,n),this.m++,i==-1&&u&&(i=t,!f))break;return i},$type:new n.ig.Type("PositionResolver$2",n.ig.$ot)},!0),i("Cube:c9","Object",{init:function(){n.ig.$op.init.call(this)},_catalogName:null,catalogName:function(n){return arguments.length===1?(this._catalogName=n,n):this._catalogName},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_cubeType:0,cubeType:function(n){return arguments.length===1?(this._cubeType=n,n):this._cubeType},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_lastProcessed:new Date,lastProcessed:function(n){return arguments.length===1?(this._lastProcessed=n,n):this._lastProcessed},_lastUpdated:new Date,lastUpdated:function(n){return arguments.length===1?(this._lastUpdated=n,n):this._lastUpdated},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},uniqueName:function(n){return arguments.length===1?(this.name(n),n):this.name()},$type:new n.ig.Type("Cube",n.ig.$ot,[t.$bc.$type])},!0),i("Catalog:d6","Object",{init:function(){n.ig.$op.init.call(this)},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},$type:new n.ig.Type("Catalog",n.ig.$ot,[t.$bc.$type])},!0),i("Dimension:ec","Object",{init:function(){n.ig.$op.init.call(this)},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_dimensionType:0,dimensionType:function(n){return arguments.length===1?(this._dimensionType=n,n):this._dimensionType},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},_defaultHierarchy:null,defaultHierarchy:function(n){return arguments.length===1?(this._defaultHierarchy=n,n):this._defaultHierarchy},$type:new n.ig.Type("Dimension",n.ig.$ot,[t.$bc.$type])},!0),i("KpiDimension:ex","Object",{init:function(){n.ig.$op.init.call(this)},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},$type:new n.ig.Type("KpiDimension",n.ig.$ot,[t.$bc.$type])},!0),i("Hierarchy:bg","Object",{init:function(){n.ig.$op.init.call(this)},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_defaultHierarchy:null,defaultHierarchy:function(n){return arguments.length===1?(this._defaultHierarchy=n,n):this._defaultHierarchy},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},_defaultMember:null,defaultMember:function(n){return arguments.length===1?(this._defaultMember=n,n):this._defaultMember},_allMember:null,allMember:function(n){return arguments.length===1?(this._allMember=n,n):this._allMember},_dimensionUniqueName:null,dimensionUniqueName:function(n){return arguments.length===1?(this._dimensionUniqueName=n,n):this._dimensionUniqueName},_hierarchyOrigin:0,hierarchyOrigin:function(n){return arguments.length===1?(this._hierarchyOrigin=n,n):this._hierarchyOrigin},_hierarchyDisplayFolder:null,hierarchyDisplayFolder:function(n){return arguments.length===1?(this._hierarchyDisplayFolder=n,n):this._hierarchyDisplayFolder},$type:new n.ig.Type("Hierarchy",n.ig.$ot,[t.$bc.$type])},!0),i("Kpi:eh","Object",{init:function(){n.ig.$op.init.call(this)},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},_measureGroupName:null,measureGroupName:function(n){return arguments.length===1?(this._measureGroupName=n,n):this._measureGroupName},_kpiDisplayFolder:null,kpiDisplayFolder:function(n){return arguments.length===1?(this._kpiDisplayFolder=n,n):this._kpiDisplayFolder},_kpiValue:null,kpiValue:function(n){return arguments.length===1?(this._kpiValue=n,n):this._kpiValue},_kpiGoal:null,kpiGoal:function(n){return arguments.length===1?(this._kpiGoal=n,n):this._kpiGoal},_kpiStatus:null,kpiStatus:function(n){return arguments.length===1?(this._kpiStatus=n,n):this._kpiStatus},_kpiTrend:null,kpiTrend:function(n){return arguments.length===1?(this._kpiTrend=n,n):this._kpiTrend},_kpiStatusGraphic:null,kpiStatusGraphic:function(n){return arguments.length===1?(this._kpiStatusGraphic=n,n):this._kpiStatusGraphic},_kpiTrendGraphic:null,kpiTrendGraphic:function(n){return arguments.length===1?(this._kpiTrendGraphic=n,n):this._kpiTrendGraphic},_kpiWeight:null,kpiWeight:function(n){return arguments.length===1?(this._kpiWeight=n,n):this._kpiWeight},_parentKpiName:null,parentKpiName:function(n){return arguments.length===1?(this._parentKpiName=n,n):this._parentKpiName},_currentTimeMember:null,currentTimeMember:function(n){return arguments.length===1?(this._currentTimeMember=n,n):this._currentTimeMember},$type:new n.ig.Type("Kpi",n.ig.$ot,[t.$bc.$type])},!0),i("Level:ee","Object",{init:function(){n.ig.$op.init.call(this)},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},_depth:0,depth:function(n){return arguments.length===1?(this._depth=n,n):this._depth},_hierarchyUniqueName:null,hierarchyUniqueName:function(n){return arguments.length===1?(this._hierarchyUniqueName=n,n):this._hierarchyUniqueName},_dimensionUniqueName:null,dimensionUniqueName:function(n){return arguments.length===1?(this._dimensionUniqueName=n,n):this._dimensionUniqueName},_membersCount:0,membersCount:function(n){return arguments.length===1?(this._membersCount=n,n):this._membersCount},_levelOrigin:0,levelOrigin:function(n){return arguments.length===1?(this._levelOrigin=n,n):this._levelOrigin},_levelOrderingProperty:null,levelOrderingProperty:function(n){return arguments.length===1?(this._levelOrderingProperty=n,n):this._levelOrderingProperty},$type:new n.ig.Type("Level",n.ig.$ot,[t.$bc.$type])},!0),i("Measure:bi","Object",{init:function(){n.ig.$op.init.call(this)},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},_measureGroupName:null,measureGroupName:function(n){return arguments.length===1?(this._measureGroupName=n,n):this._measureGroupName},_aggregatorType:0,aggregatorType:function(n){return arguments.length===1?(this._aggregatorType=n,n):this._aggregatorType},_defaultFormatString:null,defaultFormatString:function(n){return arguments.length===1?(this._defaultFormatString=n,n):this._defaultFormatString},_measureDisplayFolder:null,measureDisplayFolder:function(n){return arguments.length===1?(this._measureDisplayFolder=n,n):this._measureDisplayFolder},$type:new n.ig.Type("Measure",n.ig.$ot,[t.$bc.$type])},!0),i("KpiMeasure:en","Measure",{init:function(n,i){t.$bi.init.call(this),this.uniqueName(n),this.caption(i)},_graphic:null,graphic:function(n){return arguments.length===1?(this._graphic=n,n):this._graphic},createKpiValueMeasure:function(n){return new t.en(n.kpiValue(),n.caption()+" Value")},createKpiGoalMeasure:function(n){return new t.en(n.kpiGoal(),n.caption()+" Goal")},createKpiWeightMeasure:function(n){return new t.en(n.kpiWeight(),n.caption()+" Weight")},createKpiStatusMeasure:function(n){var i=new t.en(n.kpiStatus(),n.caption()+" Status");return i.graphic(n.kpiStatusGraphic()),i},createKpiTrendMeasure:function(n){var i=new t.en(n.kpiTrend(),n.caption()+" Trend");return i.graphic(n.kpiTrendGraphic()),i},$type:new n.ig.Type("KpiMeasure",t.$bi.$type)},!0),i("MeasureGroup:d7","Object",{init:function(){n.ig.$op.init.call(this)},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_cubeName:null,cubeName:function(n){return arguments.length===1?(this._cubeName=n,n):this._cubeName},_catalogName:null,catalogName:function(n){return arguments.length===1?(this._catalogName=n,n):this._catalogName},uniqueName:function(n){return arguments.length===1?(this.name(n),n):this.name()},$type:new n.ig.Type("MeasureGroup",n.ig.$ot,[t.$bc.$type])},!0),i("MeasureGroupDimension:ef","Object",{init:function(){n.ig.$op.init.call(this)},_cubeName:null,cubeName:function(n){return arguments.length===1?(this._cubeName=n,n):this._cubeName},_catalogName:null,catalogName:function(n){return arguments.length===1?(this._catalogName=n,n):this._catalogName},_measureGroupName:null,measureGroupName:function(n){return arguments.length===1?(this._measureGroupName=n,n):this._measureGroupName},_dimensionUniqueName:null,dimensionUniqueName:function(n){return arguments.length===1?(this._dimensionUniqueName=n,n):this._dimensionUniqueName},_measureGroupCardinality:0,measureGroupCardinality:function(n){return arguments.length===1?(this._measureGroupCardinality=n,n):this._measureGroupCardinality},_dimensionCardinality:0,dimensionCardinality:function(n){return arguments.length===1?(this._dimensionCardinality=n,n):this._dimensionCardinality},_isDimensionVisible:!1,isDimensionVisible:function(n){return arguments.length===1?(this._isDimensionVisible=n,n):this._isDimensionVisible},_isFactDimension:!1,isFactDimension:function(n){return arguments.length===1?(this._isFactDimension=n,n):this._isFactDimension},_dimensionPath:null,dimensionPath:function(n){return arguments.length===1?(this._dimensionPath=n,n):this._dimensionPath},_dimensionGranularity:null,dimensionGranularity:function(n){return arguments.length===1?(this._dimensionGranularity=n,n):this._dimensionGranularity},$type:new n.ig.Type("MeasureGroupDimension",n.ig.$ot)},!0),i("Member:d4","Object",{init:function(){n.ig.$op.init.call(this);var i=e(t.$l.$type,null);this.scope(i)},_cubeName:null,cubeName:function(n){return arguments.length===1?(this._cubeName=n,n):this._cubeName},_catalogName:null,catalogName:function(n){return arguments.length===1?(this._catalogName=n,n):this._catalogName},_dimensionUniqueName:null,dimensionUniqueName:function(n){return arguments.length===1?(this._dimensionUniqueName=n,n):this._dimensionUniqueName},_hierarchyUniqueName:null,hierarchyUniqueName:function(n){return arguments.length===1?(this._hierarchyUniqueName=n,n):this._hierarchyUniqueName},_levelUniqueName:null,levelUniqueName:function(n){return arguments.length===1?(this._levelUniqueName=n,n):this._levelUniqueName},_levelDepth:0,levelDepth:function(n){return arguments.length===1?(this._levelDepth=n,n):this._levelDepth},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_memberType:0,memberType:function(n){return arguments.length===1?(this._memberType=n,n):this._memberType},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_childrenCardinality:0,childrenCardinality:function(n){return arguments.length===1?(this._childrenCardinality=n,n):this._childrenCardinality},_parentLevel:0,parentLevel:function(n){return arguments.length===1?(this._parentLevel=n,n):this._parentLevel},_parentUniqueName:null,parentUniqueName:function(n){return arguments.length===1?(this._parentUniqueName=n,n):this._parentUniqueName},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},_scope:e(t.$l.$type,null),scope:function(n){return arguments.length===1?(this._scope=n,n):this._scope},$type:new n.ig.Type("Member",n.ig.$ot,[t.$bc.$type])},!0),i("OlapResult:bl","Object",{init:function(){n.ig.$op.init.call(this)},_isEmpty:!1,isEmpty:function(n){return arguments.length===1?(this._isEmpty=n,n):this._isEmpty},_axes:null,axes:function(n){return arguments.length===1?(this._axes=n,n):this._axes},_cells:null,cells:function(n){return arguments.length===1?(this._cells=n,n):this._cells},$type:new n.ig.Type("OlapResult",n.ig.$ot)},!0),i("OlapResultAxis:bm","Object",{init:function(i,r){n.ig.$op.init.call(this),this.tuples(t.$cn.z(t.$cz.$type,i)),this.tupleSize(r),this.positionResolver(new t.bn(String,n.ig.$op.$type,i,r))},_positionResolver:null,positionResolver:function(n){return arguments.length===1?(this._positionResolver=n,n):this._positionResolver},clone:function(){for(var n=this,i=new t.bo(t.$cz.$type,0),r=this.tuples().getEnumerator(),u;r.moveNext();)u=r.current(),i.add(u.clone());return function(){var r=new t.bm(i,n.tupleSize());return r.name(n.name()),r}()},_name:null,name:function(n){return arguments.length===1?(this._name=n,n):this._name},_tupleSize:0,tupleSize:function(n){return arguments.length===1?(this._tupleSize=n,n):this._tupleSize},_tuples:null,tuples:function(n){return arguments.length===1?(this._tuples=n,n):this._tuples},$type:new n.ig.Type("OlapResultAxis",n.ig.$ot)},!0),i("OlapResultTuple:cz","Object",{init:function(i){n.ig.$op.init.call(this),this.members(new t.b3(t.$c0.$type,1,i))},_members:null,members:function(n){return arguments.length===1?(this._members=n,n):this._members},getItems:function(){return this.members()},itemsCount:function(){return this.members().count()},indexOf:function(n){return this.members().indexOf(n)},item:function(n){return this.members().item(n)},isEmpty:function(){return!1},clone:function(){for(var n=new t.bo(t.$c0.$type,0),u=this.members().getEnumerator(),f,i,r,e;u.moveNext();)f=u.current(),n.add(f.clone());for(i=new t.cz(n),r=n.getEnumerator();r.moveNext();)e=r.current(),e.position(i);return i},c:function(){var n,i,r;if(this.members().count()==0)return"Empty tuple.";for(n=new t.c1(0),i=this.members().getEnumerator();i.moveNext();)r=i.current(),n.l(r.caption()+"; ");return n.c(n.c()-2),n.toString()},$type:new n.ig.Type("OlapResultTuple",n.ig.$ot,[t.$b6.$type.specialize(String,n.ig.$op.$type)])},!0),i("OlapResultAxisMember:c0","Object",{init:function(){n.ig.$op.init.call(this),this.properties(new t.b9(String,String,0)),this.ordinal(-1)},_uniqueName:null,uniqueName:function(n){return arguments.length===1?(this._uniqueName=n,n):this._uniqueName},_caption:null,caption:function(n){return arguments.length===1?(this._caption=n,n):this._caption},_levelUniqueName:null,levelUniqueName:function(n){return arguments.length===1?(this._levelUniqueName=n,n):this._levelUniqueName},_hierarchyUniqueName:null,hierarchyUniqueName:function(n){return arguments.length===1?(this._hierarchyUniqueName=n,n):this._hierarchyUniqueName},_levelNumber:0,levelNumber:function(n){return arguments.length===1?(this._levelNumber=n,n):this._levelNumber},_displayInfo:0,displayInfo:function(n){return arguments.length===1?(this._displayInfo=n,n):this._displayInfo},e:function(){return a(this.displayInfo(),-65537)&-131073},drilledDown:function(){return(this.displayInfo()&65536)==65536},parentSameAsPrev:function(){return(this.displayInfo()&131072)==131072},_properties:null,properties:function(n){return arguments.length===1?(this._properties=n,n):this._properties},_position:null,position:function(n){return arguments.length===1?(this._position=n,n):this._position},key:function(){return this.uniqueName()},sortKey:function(){if(this.ordinal()>-1)return this.ordinal();if(this.caption().contains("/"))return this.caption();var n=parseFloat(this.caption());return isNaN(n)?this.caption():n},_ordinal:0,ordinal:function(n){return arguments.length===1?(this._ordinal=n,n):this._ordinal},hierarchyKey:function(){return this.hierarchyUniqueName()},hierarchyLevelKey:function(){return this.levelUniqueName()},parentKey:function(){var n,t=this.properties().tryGetValue("PARENT_UNIQUE_NAME",n);return n=t.p1},depth:function(){return this.levelNumber()},isExpandable:function(){return this.e()>0},clone:function(){var n=new t.c0,i,r;for(n.caption(this.caption()),n.displayInfo(this.displayInfo()),n.hierarchyUniqueName(this.hierarchyUniqueName()),n.levelNumber(this.levelNumber()),n.levelUniqueName(this.levelUniqueName()),n.ordinal(this.ordinal()),i=this.properties().getEnumerator();i.moveNext();)r=i.current(),n.properties().add(r.key(),r.value());return n.uniqueName(this.uniqueName()),n.position(this.position()),n},$type:new n.ig.Type("OlapResultAxisMember",n.ig.$ot,[t.$cl.$type.specialize(String,n.ig.$op.$type)])},!0),i("OlapResultCell:c3","Object",{init:function(){n.ig.$op.init.call(this),this.properties(new t.b9(String,n.ig.$op.$type,0))},_cellOrdinal:0,cellOrdinal:function(n){return arguments.length===1?(this._cellOrdinal=n,n):this._cellOrdinal},_properties:null,properties:function(n){return arguments.length===1?(this._properties=n,n):this._properties},clone:function(){for(var u=this,i=function(){var n=new t.c3;return n.cellOrdinal(u.cellOrdinal()),n}(),r=this.properties().getEnumerator(),n;r.moveNext();)n=r.current(),i.properties().add(n.key(),n.value());return i},$type:new n.ig.Type("OlapResultCell",n.ig.$ot)},!0),i("ArrayListCollection___Enumerate__IteratorClass$1","Object",{$t:null,c:0,b:null,d:0,__4__this:null,init:function(t,i){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this.c=i},moveNext:function(){while(this.c>=0)switch(this.c){case 0:this.c=-1,this.d=0,this.c=1;break;case 1:if(this.c=-1,this.d<this.__4__this.inner().length)return this.b=s(this.$t,this.__4__this.inner()[this.d]),this.c=2,!0;break;case 2:this.c=-1,this.d++,this.c=1}return!1},getEnumerator:function(){var t;return this.c==-2?(this.c=0,t=this):(t=new n.ig.ArrayListCollection___Enumerate__IteratorClass$1(this.$t,0),t.__4__this=this.__4__this),t},reset:function(){throw new t.y(0);},dispose:function(){},current:function(){return this.b},current1:function(){return o(this.$t,this.b)},$type:new n.ig.Type("ArrayListCollection___Enumerate__IteratorClass$1",n.ig.$ot,[t.$ap.$type.specialize(0),t.$w.$type,t.$aq.$type.specialize(0),t.$x.$type,t.$ar.$type])},!0)}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["IRemoteRequestSerializer:a","String:b","Object:c","Type:d","Boolean:e","ValueType:f","Void:g","IConvertible:h","IFormatProvider:i","Number:j","NumberStyles:k","Enum:l","Array:m","IList:n","ICollection:o","IEnumerable:p","IEnumerator:q","Number:r","IComparable:s","IComparable$1:t","IEquatable$1:u","Number:v","Number:w","Number:x","Error:y","Error:z","Number:aa","String:ab","Date:ac","Number:ad","DayOfWeek:ae","DateTimeKind:af","Number:ag","Number:ah","Number:ai","Number:aj","Number:ak","Number:al","Assembly:am","Stream:an","IDisposable:ao","SeekOrigin:ap","RuntimeTypeHandle:aq","MethodInfo:ar","MethodBase:as","MemberInfo:at","ParameterInfo:au","TypeCode:av","ConstructorInfo:aw","PropertyInfo:ax","StringComparison:ay","RegExp:az","CultureInfo:a0","DateTimeFormat:a1","Calendar:a2","CalendarWeekRule:a3","NumberFormatInfo:a4","CompareInfo:a5","CompareOptions:a6","IEnumerable$1:a7","IEnumerator$1:a8","StringSplitOptions:a9","RemoteRequest:ba","RemoteRequestType:bb","Dictionary$2:bc","IDictionary$2:bd","ICollection$1:be","KeyValuePair$2:bf","IDictionary:bg","Script:bh","IEqualityComparer$1:bi","EqualityComparer$1:bj","IEqualityComparer:bk","DefaultEqualityComparer$1:bl","InvalidOperationException:bm","NotImplementedException:bn","ArgumentException:bo","Thread:bp","ThreadStart:bq","MulticastDelegate:br","IntPtr:bs","IRemoteResponseSerializer:bt","JsonRemoteRequestSerializer:bu","JavaScriptSerializer:bv","RemoteRequestJsonTypeSeriazlier:bw","JsonTypeSeriazlierBase$1:bx","IJsonTypeSerializer$1:by","JsonSerializerUtils:bz","jQueryUtils:b0","JsonRemoteResponseSerializer:b1","ArrayJsonSerializer:b2","IList$1:b3","List$1:b4","IArray:b5","IArrayList:b6","Array:b7","CompareCallback:b8","Func$3:b9","Action$1:ca","Comparer$1:cb","IComparer:cc","IComparer$1:cd","DefaultComparer$1:ce","Comparison$1:cf","ReadOnlyCollection$1:cg","Predicate$1:ch","Enumerable:ci","Func$2:cj","IOrderedEnumerable$1:ck","SortedList$1:cl","Math:cm","ArgumentNullException:cn","Catalog:co","ICoreOlapElement:cp","CatalogJsonTypeSeriazlier:cq","Cube:cr","CubeType:cs","CubeJsonTypeSeriazlier:ct","Dimension:cu","DimensionType:cv","DimensionJsonTypeSeriazlier:cw","Hierarchy:cx","HierarchyOrigin:cy","HierarchyJsonTypeSeriazlier:cz","Level:c0","LevelJsonTypeSeriazlier:c1","Measure:c2","AggregatorType:c3","MeasureJsonTypeSeriazlier:c4","MeasureGroup:c5","MeasureGroupJsonTypeSeriazlier:c6","MeasureGroupDimension:c7","CardinalityType:c8","MeasureGroupDimensionJsonTypeSeriazlier:c9","Member:da","MemberType:db","Nullable$1:dc","MemberJsonTypeSeriazlier:dd","Kpi:de","KpiJsonTypeSeriazlier:df","ResultJsonTypeSeriazlier:dg","OlapResult:dh","OlapResultAxis:di","PositionResolver$2:dj","IPosition$2:dk","IPositionItem$2:dl","PositionItemInfo$2:dm","IHierarchicalPositionItem$2:dn","EventHandler$1:dp","AsyncCompletedEventArgs:dq","EventArgs:dr","Delegate:ds","Interlocked:dt","ListSortDirection:du","OlapResultTuple:dv","OlapResultAxisMember:dw","StringBuilder:dx","Environment:dy","OlapResultCell:dz","AxisJsonTypeSeriazlier:d0","TupleJsonTypeSeriazlier:d1","AxisMemberJsonTypeSeriazlier:d2","CellJsonTypeSeriazlier:d3","MdxDataSourceImpl:d4","OlapDataSource:d5","IOlapDataSource:d6","OlapMetadataTreeItem:d7","OlapMetadataTreeItemType:d8","MeasureListLocation:d9","ArrayListCollection$1:ea","INotifyCollectionChanged:eb","NotifyCollectionChangedEventHandler:ec","NotifyCollectionChangedEventArgs:ed","NotifyCollectionChangedAction:ee","Task$1:ef","Task:eg","JQueryPromise:eh","Action:ei","AggregateException:ej","TaskStatus:ek","TaskCompletionSource$1:el","JQueryDeferred:em","JQuery:en","JQueryObject:eo","Element:ep","Node:eq","ElementAttributeCollection:er","ElementCollection:es","WebStyle:et","ElementNodeType:eu","document:ev","EventListener$1:ew","Event:ex","DOMTokenList:ey","EventListener:ez","IElementEventHandler:e0","ElementEventHandler:e1","ElementAttribute:e2","JQueryPosition:e3","JQueryCallback:e4","JQueryEvent:e5","JQueryUICallback:e6","DataSourceBaseOptions:e7","IOlapDataProviderFactory:e8","IOlapDiscoverDataProvider:e9","KeyValueItem:fa","OlapResultView:fb","PositionInfo:fc","ResultViewHelper:fd","IPostionComparer:fe","CubeMetaItemsCache:ff","KpiMeasure:fg","MeasureGroupMetaItemsCache:fh","Tuple$2:fi","AxisElement:fj","MeasureList:fk","TaskFactory:fl","TaskExtensions:fm","AxisDefinitionParser:fn","MetaTreeHelper:fo","HierarchyItemPosition:fp","KpiDimension:fq","ArgumentOutOfRangeException:fr","MdxDataSourceOptions:fs","MdxSettings:ft","MdxDimensionAxisSettings:fu","MdxAxisSettings:fv","MdxSetSettings:fw","MdxSlicerAxisSettings:fx","ObservableCollection$1:fy","INotifyPropertyChanged:fz","PropertyChangedEventHandler:f0","PropertyChangedEventArgs:f1","MdxDimensionAxisProvider:f2","IMdxDimensionAxisProvider:f3","IMdxAxisProvider:f4","IMdxAxis:f5","IMdxExpression:f6","IMdxSet:f7","IMdxElement:f8","MdxElementType:f9","MdxElementCollectionElement:ga","IMdxCollectionElement:gb","MdxAxis:gc","MdxSet:gd","MdxSingleElement:ge","MdxElement:gf","IMdxItemElement:gg","MdxLevelMembersElement:gh","MdxChildrenCollectionElement:gi","MdxDimensionMember:gj","MdxSlicerAxisProvider:gk","MdxSlicerAxis:gl","IMdxSlicerAxis:gm","IMdxExtendedFilterInfo:gn","IMdxFilterInfo:go","IAxisFilterElement:gp","MdxSlicerAxisBuilder:gq","MdxAxisFilterElement:gr","MdxSlicerSet:gs","MdxQueryBuilder:gt","MdxCalculatedMembersCache:gu","IOlapExecuteCommandProvider:gv","DiscoverResponseResult:gw","XmlaSoapMethodResult:gx","IXmlaMethodResult:gy","XElement:gz","XContainer:g0","XNode:g1","XObject:g2","XmlNode:g3","XmlNodeList:g4","XmlNamedNodeMap:g5","XmlNodeType:g6","XmlDocument:g7","XmlElement:g8","XmlLinkedNode:g9","XmlAttribute:ha","XmlUtils:hb","XName:hc","XNamespace:hd","XDocument:he","XAttribute:hf","XmlaSoapMessageHeader:hg","FaultError:hh","RequestCompletedEventArgs$1:hi","ExecuteResponseResult:hj","FaultDetail:hk","IXmlaSoapMethod:hl","XmlaPropertiesCollection:hm","XmlaQueryProperty:hn","XmlaNamespace:ho","XmlaSoapFault:hp","XmlaSoapMessageBuilder:hq","XmlaSoapMethod:hr","XmlaSoapMethodDiscover:hs","XmlaSoapMethodExecute:ht","XmlaSoapWebClient:hu","XmlaSoapWebClient$1:hv","ICredentials:hw","NetworkCredential:hx","Uri:hy","UriKind:hz","Encoding:h0","UTF8Encoding:h1","Decoder:h2","UnicodeEncoding:h3","AsciiEncoding:h4","DefaultDecoder:h5","WebClient:h6","WebHeaderCollection:h7","NameValueCollection:h8","UploadStringCompletedEventHandler:h9","UploadStringCompletedEventArgs:ia","UploadDataCompletedEventHandler:ib","UploadDataCompletedEventArgs:ic","XmlaSoapFaultXmlTypeSerializer:id","IXmlTypeSerializer$1:ie","ErrorXmlTypeSerializer:ig","SerializerUtils:ih","FaultReason:ii","FaultCode:ij","FaultException$1:ik","FaultException:il","Session:im","IMdxCalculatedMembersCacheProvider:io","IMdxQuery:ip","MdxConstantElement:iq","MdxDimensionAxisCreateMode:ir","DefaultXmlaDataProviderFactory:is","IXmlaDataProviderFactory:it","XmlaConnection:iu","ICoreXmlaConnection:iv","IConnection:iw","XmlaDataProvider:ix","IXmlaDataProvider:iy","DatabaseXmlTypeSerializer:iz","CubeXmlTypeSerializer:i0","DimensionXmlTypeSerializer:i1","HierarchyXmlTypeSerializer:i2","LevelXmlTypeSerializer:i3","MeasureXmlTypeSerializer:i4","MeasureGroupXmlTypeSerializer:i5","MeasureGroupDimensionXmlTypeSerializer:i6","MemberXmlTypeSerializer:i7","KpiXmlTypeSerializer:i8","ResultXmlTypeSerializer:i9","ArraySerializer:ja","AxisXmlTypeSerializer:jb","TupleXmlTypeSerializer:jc","AxisMemberXmlTypeSerializer:jd","CellXmlTypeSerializer:je","RemoteXmlaDataProviderFactory:jf","RemoteXmlaDataProvder:jg","XmlaDataSourceImpl:jh","XmlaDataSourceOptions:ji","RequestOptions:jj","XmlaDiscoverProperties:jk","XmlaSampleClass:jl","CustomRemoteXmlaRequestSerializer:jm","CustomRemoteXmlaResponseSerializer:jn","OlapXmlaDataSource:jo","DataSourceBase:jp","XmlaConstants:jq","CubeConstants:jr","DimensionConstants:js","HierarchyConstants:jt","InstanceConstants:ju","KpiConstants:jv","LevelConstants:jw","MeasureConstants:jx","MeasureGroupConstants:jy","MeasureGroupDimensionConstants:jz","MemberConstants:j0","OlapSchemaConstants:j1","CubeRestrictions:j2","DimensionRestrictions:j3","HierarchyRestrictions:j4","KpiRestrictions:j5","LevelRestrictions:j6","MeasureRestrictions:j7","MeasureGroupRestrictions:j8","MeasureGroupDimensionRestrictions:j9","MemberRestrictions:ka","CatalogConstants:kb","ColumnsConstants:kc","ProviderTypeConstants:kd","TableConstants:ke","DbSchemaConstants:kf","CatalogRestrictions:kg","ColumnsRestrictions:kh","ProviderTypeRestrictions:ki","TableRestrictions:kj","AbstractEnumerable:kk","Func$1:kl","AbstractEnumerator:km","GenericEnumerable$1:kn","GenericEnumerator$1:ko"]);var c=n.ig.intDivide,r=n.ig.util.cast,i=n.ig.util.defType,e=n.ig.util.defEnum,l=n.ig.util.getBoxIfEnum,a=n.ig.util.getDefaultValue,f=n.ig.util.getEnumValue,u=n.ig.util.getValue,s=n.ig.util.intSToU,v=n.ig.util.nullableEquals,y=n.ig.util.nullableIsNull,p=n.ig.util.nullableNotEquals,o=n.ig.util.toNullable,w=n.ig.util.toString$1,b=n.ig.util.u32BitwiseAnd,k=n.ig.util.u32BitwiseOr,d=n.ig.util.u32BitwiseXor,g=n.ig.util.u32LS,h=n.ig.util.unwrapNullable,nt=n.ig.util.wrapNullable,tt=String.fromCharCode,it=n.ig.util.castObjTo$t,rt=n.ig.util.compare,ut=n.ig.util.replace,ft=n.ig.util.stringFormat,et=n.ig.util.stringFormat1,ot=n.ig.util.stringFormat2,st=n.ig.util.stringCompare1,ht=n.ig.util.stringCompare2,ct=n.ig.util.stringCompare3,lt=n.ig.util.equalsSimple,at=n.ig.util.compareSimple,vt=n.ig.util.numberToString,yt=n.ig.util.tryParseInt32_1,pt=n.ig.util.tryParseInt32_2,wt=n.ig.util.intToString1,bt=n.ig.util.parseInt32_1,kt=n.ig.util.parseInt32_2;e("MdxDimensionAxisCreateMode:ir",!1,!1,{Create:0,Extend:1,Change:2}),e("MdxElementType:f9",!1,!1,{Member:0,MemberTree:1,Calculated:2,Filter:3,Collection:4,UserDefined:5}),e("XmlaSoapMessageHeader:hg",!1,!1,{None:0,Session:1,BeginSession:2,EndSession:3}),e("RemoteRequestType:bb",!1,!1,{DiscoverCatalogs:0,DiscoverCubes:1,DiscoverDimensions:2,DiscoverHierarchies:3,DiscoverLevels:4,DiscoverMeasures:5,DiscoverMeasureGroups:6,DiscoverMeasureGroupDimensions:7,DiscoverMembers:8,DiscoverKpis:9,ExecuteStatement:10}),i("IRemoteRequestSerializer:a","Object",{$type:new n.ig.Type("IRemoteRequestSerializer",null)},!0),i("IRemoteResponseSerializer:bt","Object",{$type:new n.ig.Type("IRemoteResponseSerializer",null)},!0),i("JsonRemoteRequestSerializer:bu","Object",{a:null,init:function(){n.ig.$op.init.call(this),this.a=new t.bv},serializeRequest:function(n){return t.$bw.instance().serialize(n,this.a)},deserializeRequest:function(n){return t.$bw.instance().deserialize(n,this.a)},$type:new n.ig.Type("JsonRemoteRequestSerializer",n.ig.$ot,[t.$a.$type])},!0),i("JsonRemoteResponseSerializer:b1","Object",{a:null,init:function(){n.ig.$op.init.call(this),this.a=new t.bv},serializeResponse:function(n,i){switch(i){case 0:return t.$b2.c().f(t.$co.$type,n,t.$cq.instance(),this.a);case 1:return t.$b2.c().f(t.$cr.$type,n,t.$ct.instance(),this.a);case 2:return t.$b2.c().f(t.$cu.$type,n,t.$cw.instance(),this.a);case 3:return t.$b2.c().f(t.$cx.$type,n,t.$cz.instance(),this.a);case 4:return t.$b2.c().f(t.$c0.$type,n,t.$c1.instance(),this.a);case 5:return t.$b2.c().f(t.$c2.$type,n,t.$c4.instance(),this.a);case 6:return t.$b2.c().f(t.$c5.$type,n,t.$c6.instance(),this.a);case 7:return t.$b2.c().f(t.$c7.$type,n,t.$c9.instance(),this.a);case 8:return t.$b2.c().f(t.$da.$type,n,t.$dd.instance(),this.a);case 9:return t.$b2.c().f(t.$de.$type,n,t.$df.instance(),this.a);case 10:return t.$dg.instance().serialize(n,this.a);default:throw new t.z(1,"Unknown RemoteXmlaRequestType.");}},deserializeResponse:function(n,i){switch(i){case 0:return t.$b2.c().d(t.$co.$type,n,t.$cq.instance(),this.a);case 1:return t.$b2.c().d(t.$cr.$type,n,t.$ct.instance(),this.a);case 2:return t.$b2.c().d(t.$cu.$type,n,t.$cw.instance(),this.a);case 3:return t.$b2.c().d(t.$cx.$type,n,t.$cz.instance(),this.a);case 4:return t.$b2.c().d(t.$c0.$type,n,t.$c1.instance(),this.a);case 5:return t.$b2.c().d(t.$c2.$type,n,t.$c4.instance(),this.a);case 6:return t.$b2.c().d(t.$c5.$type,n,t.$c6.instance(),this.a);case 7:return t.$b2.c().d(t.$c7.$type,n,t.$c9.instance(),this.a);case 8:return t.$b2.c().d(t.$da.$type,n,t.$dd.instance(),this.a);case 9:return t.$b2.c().d(t.$de.$type,n,t.$df.instance(),this.a);case 10:return t.$dg.instance().deserialize(n,this.a);default:throw new t.z(1,"Unknown RemoteXmlaRequestType.");}},$type:new n.ig.Type("JsonRemoteResponseSerializer",n.ig.$ot,[t.$bt.$type])},!0),i("ArrayJsonSerializer:b2","Object",{init:function(){n.ig.$op.init.call(this)},c:function(){return t.$b2.b},d:function(n,t,i,r){var u=r.a(t);return this.e(n,u,i)},f:function(n,t,i,r){var u=this.a(n,t,i);return r.b(u)},e:function(n,i,r){for(var f=new t.b4(n,0),e,u=0;u<i.length;u++)e=i[u],f.add(r.fromJsonObject(e));return f},a:function(n,i,r){for(var f=t.$ci.a(n,i),e=new Array(f.length),u=0;u<f.length;u++)e[u]=r.toJsonObject(f[u]);return e},$type:new n.ig.Type("ArrayJsonSerializer",n.ig.$ot)},!0),i("IJsonTypeSerializer$1:by","Object",{$type:new n.ig.Type("IJsonTypeSerializer$1",null)},!0),i("JsonTypeSeriazlierBase$1:bx","Object",{$t:null,init:function(t){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this)},deserialize:function(n,t){return this.fromJsonObject(t.a(n))},serialize:function(n,t){return t.b(this.toJsonObject(n))},fromJsonObject:function(){},toJsonObject:function(){},$type:new n.ig.Type("JsonTypeSeriazlierBase$1",n.ig.$ot,[t.$by.$type.specialize(0)])},!0),i("AxisJsonTypeSeriazlier:d0","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$di.$type)},instance:function(){return t.$d0.a},fromJsonObject:function(n){var u=t.$bz.d(n,"n"),i=t.$b2.c().e(t.$dv.$type,t.$bz.d(n,"t"),t.$d1.instance()),r=0;return i.count()>0&&(r=i.item(0).members().count()),function(){var n=new t.di(i,r);return n.name(u),n}()},toJsonObject:function(n){var r=t.$b2.c().a(t.$dv.$type,n.tuples(),t.$d1.instance()),i=t.$bz.c();return t.$bz.f(i,"n",n.name()),t.$bz.f(i,"t",r),i},$type:new n.ig.Type("AxisJsonTypeSeriazlier",t.$bx.$type.specialize(t.$di.$type))},!0),i("AxisMemberJsonTypeSeriazlier:d2","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$dw.$type)},instance:function(){return t.$d2.a},fromJsonObject:function(n){return function(){var i=new t.dw;return i.hierarchyUniqueName(t.$bz.d(n,"hun")),i.uniqueName(t.$bz.d(n,"un")),i.levelUniqueName(t.$bz.d(n,"lun")),i.caption(t.$bz.d(n,"c")),i.levelNumber(u(t.$bz.d(n,"ln"))),i.displayInfo(u(t.$bz.d(n,"di"))),i.properties(t.$bz.b(n,"p")),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"hun",n.hierarchyUniqueName()),t.$bz.f(i,"un",n.uniqueName()),t.$bz.f(i,"lun",n.levelUniqueName()),t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"ln",n.levelNumber()),t.$bz.f(i,"di",n.displayInfo()),t.$bz.g(i,"p",n.properties()),i},$type:new n.ig.Type("AxisMemberJsonTypeSeriazlier",t.$bx.$type.specialize(t.$dw.$type))},!0),i("CatalogJsonTypeSeriazlier:cq","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$co.$type)},instance:function(){return t.$cq.a},fromJsonObject:function(n){return function(){var i=new t.co;return i.caption(t.$bz.d(n,"c")),i.description(t.$bz.d(n,"d")),i.name(t.$bz.d(n,"n")),i.uniqueName(t.$bz.d(n,"un")),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"un",n.uniqueName()),i},$type:new n.ig.Type("CatalogJsonTypeSeriazlier",t.$bx.$type.specialize(t.$co.$type))},!0),i("CellJsonTypeSeriazlier:d3","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$dz.$type)},instance:function(){return t.$d3.a},fromJsonObject:function(n){return function(){var i=new t.dz;return i.cellOrdinal(u(t.$bz.d(n,"co"))),i.properties(t.$bz.a(n,"p")),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"co",n.cellOrdinal()),t.$bz.e(i,"p",n.properties()),i},$type:new n.ig.Type("CellJsonTypeSeriazlier",t.$bx.$type.specialize(t.$dz.$type))},!0),i("CubeJsonTypeSeriazlier:ct","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$cr.$type)},instance:function(){return t.$ct.a},fromJsonObject:function(n){return function(){var i=new t.cr;return i.caption(t.$bz.d(n,"c")),i.description(t.$bz.d(n,"d")),i.name(t.$bz.d(n,"n")),i.catalogName(t.$bz.d(n,"cn")),i.cubeType(f(t.$bz.d(n,"ct"))),i.lastProcessed(t.$bz.d(n,"lp")),i.lastUpdated(t.$bz.d(n,"lu")),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"cn",n.catalogName()),t.$bz.f(i,"ct",t.$cs.getBox(n.cubeType())),t.$bz.f(i,"lp",n.lastProcessed()),t.$bz.f(i,"lu",n.lastUpdated()),i},$type:new n.ig.Type("CubeJsonTypeSeriazlier",t.$bx.$type.specialize(t.$cr.$type))},!0),i("DimensionJsonTypeSeriazlier:cw","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$cu.$type)},instance:function(){return t.$cw.a},fromJsonObject:function(n){return function(){var i=new t.cu;return i.caption(t.$bz.d(n,"c")),i.description(t.$bz.d(n,"d")),i.name(t.$bz.d(n,"n")),i.uniqueName(t.$bz.d(n,"un")),i.dimensionType(f(t.$bz.d(n,"dt"))),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"un",n.uniqueName()),t.$bz.f(i,"dt",t.$cv.getBox(n.dimensionType())),i},$type:new n.ig.Type("DimensionJsonTypeSeriazlier",t.$bx.$type.specialize(t.$cu.$type))},!0),i("HierarchyJsonTypeSeriazlier:cz","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$cx.$type)},instance:function(){return t.$cz.a},fromJsonObject:function(n){return function(){var i=new t.cx;return i.caption(t.$bz.d(n,"c")),i.description(t.$bz.d(n,"d")),i.name(t.$bz.d(n,"n")),i.uniqueName(t.$bz.d(n,"un")),i.allMember(t.$bz.d(n,"am")),i.defaultMember(t.$bz.d(n,"dm")),i.dimensionUniqueName(t.$bz.d(n,"dun")),i.hierarchyDisplayFolder(t.$bz.d(n,"hdf")),i.hierarchyOrigin(f(t.$bz.d(n,"ho"))),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"un",n.uniqueName()),t.$bz.f(i,"am",n.allMember()),t.$bz.f(i,"dm",n.defaultMember()),t.$bz.f(i,"dun",n.dimensionUniqueName()),t.$bz.f(i,"hdf",n.hierarchyDisplayFolder()),t.$bz.f(i,"ho",t.$cy.getBox(n.hierarchyOrigin())),i},$type:new n.ig.Type("HierarchyJsonTypeSeriazlier",t.$bx.$type.specialize(t.$cx.$type))},!0),i("JsonSerializerUtils:bz","Object",{init:function(){n.ig.$op.init.call(this)},c:function(){return t.$b0.createJavascriptObject()},d:function(n,i){return t.$b0.getJavascriptObjectProperty(n,i)},f:function(n,i,r){t.$b0.setJavascriptObjectProperty(n,i,r)},a:function(n,i){return t.$b0.convertToObjectDictionary(t.$b0.getJavascriptObjectProperty(n,i))},e:function(n,i,r){var u=t.$b0.convertFromObjectDictionary(r);t.$b0.setJavascriptObjectProperty(n,i,u)},b:function(n,i){return t.$b0.convertToStringDictionary(t.$b0.getJavascriptObjectProperty(n,i))},g:function(n,i,r){var u=t.$b0.convertFromStringDictionary(r);t.$b0.setJavascriptObjectProperty(n,i,u)},$type:new n.ig.Type("JsonSerializerUtils",n.ig.$ot)},!0),i("KpiJsonTypeSeriazlier:df","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$de.$type)},instance:function(){return t.$df.a},fromJsonObject:function(n){return function(){var i=new t.de;return i.caption(t.$bz.d(n,"c")),i.description(t.$bz.d(n,"d")),i.name(t.$bz.d(n,"n")),i.uniqueName(t.$bz.d(n,"un")),i.kpiDisplayFolder(t.$bz.d(n,"kdf")),i.measureGroupName(t.$bz.d(n,"mgn")),i.kpiStatusGraphic(t.$bz.d(n,"ksg")),i.kpiTrendGraphic(t.$bz.d(n,"ktg")),i.parentKpiName(t.$bz.d(n,"pkn")),i.kpiGoal(t.$bz.d(n,"kg")),i.kpiStatus(t.$bz.d(n,"ks")),i.kpiTrend(t.$bz.d(n,"kt")),i.kpiValue(t.$bz.d(n,"kv")),i.kpiWeight(t.$bz.d(n,"kw")),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"un",n.uniqueName()),t.$bz.f(i,"kdf",n.kpiDisplayFolder()),t.$bz.f(i,"mgn",n.measureGroupName()),t.$bz.f(i,"ksg",n.kpiStatusGraphic()),t.$bz.f(i,"ktg",n.kpiTrendGraphic()),t.$bz.f(i,"pkn",n.parentKpiName()),t.$bz.f(i,"kg",n.kpiGoal()),t.$bz.f(i,"ks",n.kpiStatus()),t.$bz.f(i,"kt",n.kpiTrend()),t.$bz.f(i,"kv",n.kpiValue()),t.$bz.f(i,"kw",n.kpiWeight()),i},$type:new n.ig.Type("KpiJsonTypeSeriazlier",t.$bx.$type.specialize(t.$de.$type))},!0),i("LevelJsonTypeSeriazlier:c1","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$c0.$type)},instance:function(){return t.$c1.a},fromJsonObject:function(n){return function(){var i=new t.c0;return i.caption(t.$bz.d(n,"c")),i.description(t.$bz.d(n,"d")),i.name(t.$bz.d(n,"n")),i.uniqueName(t.$bz.d(n,"un")),i.depth(u(t.$bz.d(n,"d"))),i.dimensionUniqueName(t.$bz.d(n,"dun")),i.hierarchyUniqueName(t.$bz.d(n,"hun")),i.levelOrderingProperty(t.$bz.d(n,"lop")),i.levelOrigin(u(t.$bz.d(n,"lo"))),i.membersCount(u(t.$bz.d(n,"mc"))),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"un",n.uniqueName()),t.$bz.f(i,"d",n.depth()),t.$bz.f(i,"dun",n.dimensionUniqueName()),t.$bz.f(i,"hun",n.hierarchyUniqueName()),t.$bz.f(i,"lop",n.levelOrderingProperty()),t.$bz.f(i,"lo",n.levelOrigin()),t.$bz.f(i,"mc",n.membersCount()),i},$type:new n.ig.Type("LevelJsonTypeSeriazlier",t.$bx.$type.specialize(t.$c0.$type))},!0),i("MeasureGroupDimensionJsonTypeSeriazlier:c9","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$c7.$type)},instance:function(){return t.$c9.a},fromJsonObject:function(n){return function(){var i=new t.c7;return i.catalogName(t.$bz.d(n,"cn")),i.cubeName(t.$bz.d(n,"cbn")),i.dimensionCardinality(f(t.$bz.d(n,"dc"))),i.dimensionGranularity(t.$bz.d(n,"dg")),i.dimensionPath(t.$bz.d(n,"dap")),i.dimensionUniqueName(t.$bz.d(n,"dun")),i.isDimensionVisible(t.$bz.d(n,"idv")),i.isFactDimension(t.$bz.d(n,"iafd")),i.measureGroupCardinality(f(t.$bz.d(n,"mgc"))),i.measureGroupName(t.$bz.d(n,"mgn")),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"cn",n.catalogName()),t.$bz.f(i,"cbn",n.cubeName()),t.$bz.f(i,"dc",t.$c8.getBox(n.dimensionCardinality())),t.$bz.f(i,"dg",n.dimensionGranularity()),t.$bz.f(i,"dap",n.dimensionPath()),t.$bz.f(i,"dun",n.dimensionUniqueName()),t.$bz.f(i,"idv",n.isDimensionVisible()),t.$bz.f(i,"iafd",n.isFactDimension()),t.$bz.f(i,"mgc",t.$c8.getBox(n.measureGroupCardinality())),t.$bz.f(i,"mgn",n.measureGroupName()),i},$type:new n.ig.Type("MeasureGroupDimensionJsonTypeSeriazlier",t.$bx.$type.specialize(t.$c7.$type))},!0),i("MeasureGroupJsonTypeSeriazlier:c6","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$c5.$type)},instance:function(){return t.$c6.a},fromJsonObject:function(n){return function(){var i=new t.c5;return i.caption(t.$bz.d(n,"c")),i.description(t.$bz.d(n,"d")),i.name(t.$bz.d(n,"n")),i.catalogName(t.$bz.d(n,"cn")),i.cubeName(t.$bz.d(n,"cbn")),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"cn",n.catalogName()),t.$bz.f(i,"cbn",n.cubeName()),i},$type:new n.ig.Type("MeasureGroupJsonTypeSeriazlier",t.$bx.$type.specialize(t.$c5.$type))},!0),i("MeasureJsonTypeSeriazlier:c4","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$c2.$type)},instance:function(){return t.$c4.a},fromJsonObject:function(n){return function(){var i=new t.c2;return i.caption(t.$bz.d(n,"c")),i.description(t.$bz.d(n,"d")),i.name(t.$bz.d(n,"n")),i.uniqueName(t.$bz.d(n,"un")),i.aggregatorType(f(t.$bz.d(n,"at"))),i.defaultFormatString(t.$bz.d(n,"dfs")),i.measureDisplayFolder(t.$bz.d(n,"mdf")),i.measureGroupName(t.$bz.d(n,"mgn")),i}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"un",n.uniqueName()),t.$bz.f(i,"at",t.$c3.getBox(n.aggregatorType())),t.$bz.f(i,"dfs",n.defaultFormatString()),t.$bz.f(i,"mdf",n.measureDisplayFolder()),t.$bz.f(i,"mgn",n.measureGroupName()),i},$type:new n.ig.Type("MeasureJsonTypeSeriazlier",t.$bx.$type.specialize(t.$c2.$type))},!0),i("MemberJsonTypeSeriazlier:dd","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$da.$type)},instance:function(){return t.$dd.a},fromJsonObject:function(n){var r=o(t.$r.$type,null),i=t.$bz.d(n,"s");return function(){var e=new t.da;return e.caption(t.$bz.d(n,"c")),e.description(t.$bz.d(n,"d")),e.name(t.$bz.d(n,"n")),e.uniqueName(t.$bz.d(n,"un")),e.catalogName(t.$bz.d(n,"cn")),e.childrenCardinality(u(t.$bz.d(n,"cc"))),e.cubeName(t.$bz.d(n,"cbn")),e.dimensionUniqueName(t.$bz.d(n,"dun")),e.hierarchyUniqueName(t.$bz.d(n,"hun")),e.levelDepth(u(t.$bz.d(n,"ld"))),e.levelUniqueName(t.$bz.d(n,"lun")),e.memberType(f(t.$bz.d(n,"mt"))),e.parentLevel(u(t.$bz.d(n,"pl"))),e.parentUniqueName(t.$bz.d(n,"pun")),e.scope(i==null?r:o(t.$r.$type,t.$r.parseInt(i))),e}()},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"c",n.caption()),t.$bz.f(i,"d",n.description()),t.$bz.f(i,"n",n.name()),t.$bz.f(i,"un",n.uniqueName()),t.$bz.f(i,"cn",n.catalogName()),t.$bz.f(i,"cc",n.childrenCardinality()),t.$bz.f(i,"cbn",n.cubeName()),t.$bz.f(i,"dun",n.dimensionUniqueName()),t.$bz.f(i,"hun",n.hierarchyUniqueName()),t.$bz.f(i,"ld",n.levelDepth()),t.$bz.f(i,"lun",n.levelUniqueName()),t.$bz.f(i,"mt",t.$db.getBox(n.memberType())),t.$bz.f(i,"pl",n.parentLevel()),t.$bz.f(i,"pun",n.parentUniqueName()),t.$bz.f(i,"s",h(n.scope())),i},$type:new n.ig.Type("MemberJsonTypeSeriazlier",t.$bx.$type.specialize(t.$da.$type))},!0),i("RemoteRequest:ba","Object",{init:function(){n.ig.$op.init.call(this)},_a:0,_c:null,_d:null,_b:null,_e:null,$type:new n.ig.Type("RemoteRequest",n.ig.$ot)},!0),i("RemoteRequestJsonTypeSeriazlier:bw","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$ba.$type)},instance:function(){return t.$bw.a},fromJsonObject:function(i){var u=new t.ba;return u._a=f(r(t.$bc.$type.specialize(String,n.ig.$op.$type),t.$bz.d(i,"t")).item("_v")),u._c=t.$bz.b(i,"p"),u._d=t.$bz.b(i,"r"),u._b=t.$bz.b(i,"par"),u._e=t.$bz.d(i,"s")!=null?t.$bz.d(i,"s"):null,u},toJsonObject:function(n){var i=t.$bz.c();return t.$bz.f(i,"t",t.$bb.getBox(n._a)),t.$bz.g(i,"p",n._c),t.$bz.g(i,"r",n._d),t.$bz.g(i,"par",n._b),t.$bz.f(i,"s",n._e),i},$type:new n.ig.Type("RemoteRequestJsonTypeSeriazlier",t.$bx.$type.specialize(t.$ba.$type))},!0),i("ResultJsonTypeSeriazlier:dg","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$dh.$type)},instance:function(){return t.$dg.a},fromJsonObject:function(n){var u=t.$bz.d(n,"ie"),i,r;return u?function(){var n=new t.dh;return n.isEmpty(!0),n}():(i=t.$b2.c().e(t.$di.$type,t.$bz.d(n,"a"),t.$d0.instance()),r=t.$b2.c().e(t.$dz.$type,t.$bz.d(n,"c"),t.$d3.instance()),function(){var n=new t.dh;return n.axes(i),n.cells(r),n}())},toJsonObject:function(n){var i=t.$bz.c(),r,u;return t.$bz.f(i,"ie",n.isEmpty()),n.isEmpty()||(r=t.$b2.c().a(t.$di.$type,n.axes(),t.$d0.instance()),u=t.$b2.c().a(t.$dz.$type,n.cells(),t.$d3.instance()),t.$bz.f(i,"a",r),t.$bz.f(i,"c",u)),i},$type:new n.ig.Type("ResultJsonTypeSeriazlier",t.$bx.$type.specialize(t.$dh.$type))},!0),i("TupleJsonTypeSeriazlier:d1","JsonTypeSeriazlierBase$1",{init:function(){t.$bx.init.call(this,t.$dv.$type)},instance:function(){return t.$d1.a},fromJsonObject:function(n){for(var i=t.$b2.c().e(t.$dw.$type,t.$bz.d(n,"m"),t.$d2.instance()),r=new t.dv(i),u=i.getEnumerator(),f;u.moveNext();)f=u.current(),f.position(r);return r},toJsonObject:function(n){var r=t.$b2.c().a(t.$dw.$type,n.members(),t.$d2.instance()),i=t.$bz.c();return t.$bz.f(i,"m",r),i},$type:new n.ig.Type("TupleJsonTypeSeriazlier",t.$bx.$type.specialize(t.$dv.$type))},!0),i("MdxDataSourceImpl:d4","OlapDataSource",{bc:null,bb:!1,init:function(n){this.bc=new t.b4(t.$f2.$type,0),t.$d5.init.call(this,n),this.mdxSettings(n.mdxSettings()),this.mdxSourceOptions(n),this.dataProviderFactory(n.dataProviderFactory()),this.bb=!0,this.mdxSourceOptions()!=null&&(this.bb=this.mdxSourceOptions().enableResultCache()==!0)},_mdxSourceOptions:null,mdxSourceOptions:function(n){return arguments.length===1?(this._mdxSourceOptions=n,n):this._mdxSourceOptions},_mdxSettings:null,mdxSettings:function(n){return arguments.length===1?(this._mdxSettings=n,n):this._mdxSettings},_catalog:null,catalog:function(n){return arguments.length===1?(this._catalog=n,n):this._catalog},setCatalog:function(n){if(!this.isInitialized())throw new t.bm(1,"Data source is not initialized.");return this.bh(n)},bq:function(n,t){var i,r;if(n.positionItemIndex()==t)n.clear();else for(i=n.values().getEnumerator();i.moveNext();)r=i.current(),this.bq(r,t)},ba:function(n,i,r,u,f){for(var a=this,ft=new t.b4(t.$fj.$type,0),et=r.getEnumerator(),e,v,o,y,p,w,b,s,k,h,d,g,nt,tt,c,it,l,rt,ut;et.moveNext();){for(e=et.current(),v=new t.fj(e._b,new t.b4(String,0)),o=0;o<e._a.count();o++)y=e._a.item(o),function(){var n=a._c.h(y,p);return p=n.p1,n.ret}()&&(f||p.scope().hasValue()==!1)&&v._a.add(y);ft.add(v)}for(w=new t.b4(t.$fj.$type,0),b=i.getEnumerator();b.moveNext();){for(s=b.current(),k=new t.fj(s._b,new t.b4(String,0)),h=0;h<s._a.count();h++)d=s._a.item(h),function(){var n=a._c.h(d,g);return g=n.p1,n.ret}()&&(f||g.scope().hasValue()==!1)&&k._a.add(d);w.add(k)}for(nt=new t.b4(t.$fj.$type,0),tt=n.getEnumerator();tt.moveNext();){for(c=tt.current(),it=new t.fj(c._b,new t.b4(String,0)),l=0;l<c._a.count();l++)rt=c._a.item(l),function(){var n=a._c.h(rt,ut);return ut=n.p1,n.ret}()&&(f||ut.scope().hasValue()==!1)&&it._a.add(rt);nt.add(it)}return new t.gk(this,nt,w,ft,u)},getMembersOfLevel:function(n){var u=this,e=n,o=this.getProviderDefaultProperties(),i=this.getProviderDefaultRestrictions(),f,r;return i!=null&&i.add(function(){var i=new t.fa;return i._a="LEVEL_UNIQUE_NAME",i._b=n,i}()),f=this.dataProviderFactory().createDataProvider(),r=f.discoverMembersAsync(o,i),r.i(function(n){for(var t=n.m().getEnumerator(),i;t.moveNext();)i=t.current(),u._c.aa(i);u._c.ac(e)}),r},getMembersOfHierarchy:function(n){var u=this,e=n,o=this.getProviderDefaultProperties(),i=this.getProviderDefaultRestrictions(),f,r;return i!=null&&i.add(function(){var i=new t.fa;return i._a="HIERARCHY_UNIQUE_NAME",i._b=n,i}()),f=this.dataProviderFactory().createDataProvider(),r=f.discoverMembersAsync(o,i),r.i(function(n){for(var t=n.m().getEnumerator(),i;t.moveNext();)i=t.current(),u._c.aa(i);u._c.ab(e)}),r},getMembersOfMember:function(n){var f=this,e=this.getProviderDefaultProperties(),i=this.getProviderDefaultRestrictions(),u,r;return i!=null&&(i.add(function(){var i=new t.fa;return i._a="MEMBER_UNIQUE_NAME",i._b=n,i}()),i.add(function(){var n=new t.fa;return n._a="TREE_OP",n._b="1",n}())),u=this.dataProviderFactory().createDataProvider(),r=u.discoverMembersAsync(e,i),t.$fm.b(t.$a7.$type.specialize(t.$da.$type),t.$a7.$type.specialize(t.$da.$type),r,function(n){return f.bi(n.m())}),r},bi:function(n){for(var i=new t.b4(t.$da.$type,0),f=n.getEnumerator(),e,r,u;f.moveNext();){e=f.current(),i.add(e);break}return i.count()>0&&(r=i.item(0).levelUniqueName(),!this._c.c(r))?this.getMembersOfLevel(r).j(t.$a7.$type.specialize(t.$da.$type),function(){return n}):(u=new t.el(t.$a7.$type.specialize(t.$da.$type),0),u.e(n),u._b)},bt:function(n){var h=this,r,s,u,t,f,i,e,o;if(!n.isEmpty())for(r=n.axes().getEnumerator();r.moveNext();)for(s=r.current(),u=s.tuples(),t=0;t<u.count();t++)for(f=u.__inner[t].members(),i=0;i<f.count();i++)e=f.item(i),function(){var n=h._c.i(e.uniqueName(),o);return o=n.p1,n.ret}()&&e.ordinal(o)},bv:function(n,t){var f=0,i=this.measureListIndex(),r,e,u,o;n&&(r=this.a8(f),r!=null&&this.measureListLocation()==1&&i>-1&&(e=r.rootPositionInfo(),e!=null&&this.bq(e,i-1),r.q()),f++),t&&(u=this.a8(f),u!=null&&this.measureListLocation()==0&&i>-1&&(o=u.rootPositionInfo(),o!=null&&this.bq(o,i-1),u.q()))},bu:function(n,t,i){var r=0,e,u,o,f;i&&(e=r<n.axes().count()?n.axes().item(r):null,u=e!=null?this.a8(r):null,u!=null&&(u.rootPositionInfo(e.positionResolver().rootPositionInfo()),u.q()),r++),t&&(o=r<n.axes().count()?n.axes().item(r):null,f=o!=null?this.a8(r):null,f!=null&&(f.rootPositionInfo(o.positionResolver().rootPositionInfo()),f.q()),r++)},bd:function(i,r,u,f){var v,y,h,e,s,p,nt,w,b,k,o,c,d,l,tt,it,ft;for(this.bl(i,r,u),v=new t.bc(String,t.$e.$type,0),y=this.ab(),f=new t.bc(String,t.$b3.$type.specialize(t.$fc.$type),0),h=0;h<y.count();h++)e=y.item(h),function(){var n=f.tryGetValue(e._c,s);return s=n.p1,n.ret}()||(s=new t.b4(t.$fc.$type,0),f.add(e._c,s)),s.add(e),this._l==null&&(this._l=new t.fb(this.result(),this.result(),i,r)),p=this._l.expandTupleMember(e._c,e._b,e._a),p==null?v.item(e._c,!0):(nt=this._l,this._l=p,t.$fd.h(e._c,nt,this._l),t.$fd.g(e,!0,this._l),this.result(this._l.visibleResult()),this.bt(this.result()),this.bu(this._l.visibleResult(),r,i));for(w=new t.b4(t.$f5.$type,0),b=f.getEnumerator();b.moveNext();)if(k=b.current(),o=this.a4(k.key()),o!=null){for(o.positionResolver().hasUnregisterdPositions()&&o.positionResolver().completeRegisterPositions(),c=new t.b4(t.$dl.$type.specialize(String,n.ig.$op.$type),0),d=k.value().getEnumerator();d.moveNext();)l=d.current(),l._b<o.tuples().count()&&(tt=o.tuples().__inner[l._b],it=tt.item(l._a),c.add(it));if(c.count()>0){var rt=this.result().axes().indexOf(o),a=this.a8(rt),ut=a.createAxis(rt),g=!1;(function(){var n=v.tryGetValue(o.name(),g);return g=n.p1,n.ret})()&&g&&(a=new t.f2(1,o,a.mdxSettings(),c),ft=a.extendAxis(ut,ut.axisIndex()),w.add(ft))}}return this.ab().clear(),{ret:w,p3:f}},a6:function(n,i,r){var u=null,f,e;return(n.count()>0&&(u=this.a8(r),i&&(f=null,u!=null&&(f=u.rootPositionInfo()),e=r==0?this.mdxSettings()._a:this.mdxSettings()._b,u=new t.f2(0,this,e,n,f),this.bs(r,u))),u!=null)?u.createAxis(r):null},bl:function(i,r,u){var c,a,l,e,o,s,v,y,f,p,h,w;if(this.result()!=null){for(c=new t.bc(String,t.$b3.$type.specialize(t.$fc.$type),0),a=this.aa(),l=0;l<a.count();l++)e=a.item(l),function(){var n=c.tryGetValue(e._c,o);return o=n.p1,n.ret}()||(o=new t.b4(t.$fc.$type,0),c.add(e._c,o)),o.add(e),u&&(this._l==null?this._l=new t.fb(this.result(),this.result(),i,r):(this._l=this._l.collapseTupleMember(e._c,e._b,e._a),this.result(this._l.visibleResult()),this.bt(this.result()),this.bu(this._l.visibleResult(),r,i)));for(s=new t.b4(t.$di.$type,0),v=c.getEnumerator();v.moveNext();)if((y=v.current(),f=this.a4(y.key()),f!=null)&&(f.positionResolver().hasUnregisterdPositions()&&f.positionResolver().completeRegisterPositions(),s.contains(f)||s.add(f),!u))for(p=y.value().getEnumerator();p.moveNext();)if(h=p.current(),h._b<f.tuples().count()){var b=f.tuples().__inner[h._b],d=b.item(h._a),g=f.positionResolver().getHostPositionItemInfo(b,h._a),k=t.$ci.af(t.$dm.$type.specialize(String,n.ig.$op.$type),t.$ci.u(t.$dm.$type.specialize(String,n.ig.$op.$type),g.values(),function(n){return n.key()==d.key()}));k!=null&&k.isExpanded(!1)}if(s.count()>0)for(u||this.result().isEmpty()||this.bu(this.result(),r,i),w=s.getEnumerator();w.moveNext();){var nt=w.current(),tt=r&&nt.name()=="Axis1"?1:0,it=this.a8(tt);it.q()}this.aa().clear()}},bk:function(){this.catalog(null),this.cubes(new t.ea(t.$cr.$type)),this.aw()},bg:function(){var n=this,i=this.dataProviderFactory().createDataProvider(),r=this.getProviderDefaultProperties();return t.$fm.b(t.$a7.$type.specialize(t.$co.$type),t.$a7.$type.specialize(t.$co.$type),i.discoverCatalogsAsync(r,null),function(i){return n.catalogs(n.a3(t.$co.$type,i.m())),i})},bh:function(n){var i,r,u;if(String.isNullOrEmpty(n)){if(n==null)throw new t.cn(0,"catalogName");throw new t.bm(1,"catalogName cannot be empty.");}if(i=new t.el(t.$b3.$type.specialize(t.$cr.$type),0),this.catalog()!=null){if(this.catalog().name()==n)return i.e(this.cubes()),i._b;this.bk()}for(r=this.catalogs().getEnumerator();r.moveNext();)if(u=r.current(),u.name()==n){this.catalog(u);break}return this.cubes()==null||this.cubes().count()==0?this.am(n).i(function(n){if(n._a==null){i.e(n.m());return}i.d(n._a)}):i.e(this.cubes()),i._b},ap:function(){var i=this,r=new t.el(t.$d7.$type,0),u,f,e,o,s,a;if(this.isInitialized())return r.e(this.metadataTree()),r._b;var h=this.mdxSourceOptions().catalog(),c=this.mdxSourceOptions().cube(),l=this.columnAxis();return(l.collectionChanged=n.ig.Delegate.prototype.combine(l.collectionChanged,this.bm.runOn(this)),u=this.rowAxis(),u.collectionChanged=n.ig.Delegate.prototype.combine(u.collectionChanged,this.br.runOn(this)),f=this.filters(),f.collectionChanged=n.ig.Delegate.prototype.combine(f.collectionChanged,this.bo.runOn(this)),e=this.measures(),e.collectionChanged=n.ig.Delegate.prototype.combine(e.collectionChanged,this.bp.runOn(this)),o=this.bg(),String.isNullOrEmpty(h))?(o.i(function(n){if(n._a==null){i.ay();var u=function(){var n=new t.dh;return n.isEmpty(!0),n}();i._l=new t.fb(u,u,!1,!1),i.result(u),r.e(null);return}r.d(n._a)}),r._b):(s=t.$fm.b(t.$a7.$type.specialize(t.$co.$type),t.$b3.$type.specialize(t.$cr.$type),o,function(n){if(n._a==null)return i.bh(h);var r=new t.el(t.$b3.$type.specialize(t.$cr.$type),0);return r.d(n._a),r._b}),String.isNullOrEmpty(c))?(s.i(function(n){if(n._a==null){i.ay();var u=function(){var n=new t.dh;return n.isEmpty(!0),n}();i._l=new t.fb(u,u,!1,!1),i.result(u),r.e(null);return}r.d(n._a)}),r._b):a=t.$fm.b(t.$d7.$type,t.$d7.$type,t.$fm.b(t.$b3.$type.specialize(t.$cr.$type),t.$d7.$type,s,function(){return i.aq(c)}),function(){return i.ak()})},as:function(){var n=this,yt=this._m,pt=this._s,wt=this._r,bt=this._n,ot=this.ab().count()>0,st=this.aa().count()>0,b=this.af.count()>0,k,r,u,s,d,v,g,nt,l,a,i,tt,it,ct,lt,at,et,vt;if(!yt&&!pt&&!wt&&!bt&&!ot&&!st&&!b)return k=new t.el(t.$dh.$type,0),k.e(this.result()),k._b;if(r=this.columnAxis().count()>0,u=this.rowAxis().count()>0,this.rowAxis().count()==0&&this.columnAxis().count()==0&&this.measures().count()==0)return s=function(){var n=new t.dh;return n.isEmpty(!0),n}(),d=new t.el(t.$dh.$type,0),d.e(s),this._l=new t.fb(s,s,!1,!1),this.result(s),this.bt(s),this.bu(this._l.visibleResult(),u,r),this.clearPendingChanges(),d._b;this._r&&this.bv(r,u),this._r=!1,this._n=!1,this._q=!1,v=!1,!this.bb||this._m||this._s||(v=!0);var f=null,o=null,e=0;f=this.a6(this.columnAxis(),this._m,e),this._m=!1,f!=null&&e++,o=this.a6(this.rowAxis(),this._s,e),this._s=!1,o!=null&&(o.axisIndex(e),e++);var y,ht=function(){var t=n.bd(r,u,v,y);return y=t.p3,t.ret}(),h=this.mdxSourceOptions()!=null?this.mdxSourceOptions().executeProperties():null,kt=h!=null&&h.containsKey("DbpropMsmdSubQueries")&&h.item("DbpropMsmdSubQueries")=="2",dt=this.ba(this._y,this._ag,this._z,this.mdxSettings(),kt),p=dt.createAxis(e),w=new t.gt(1,this.mdxSettings()),c=this.getProviderDefaultProperties();if(h!=null&&h.count()>0)for(g=h.getEnumerator();g.moveNext();)nt=g.current(),c.add(function(){var n=new t.fa;return n._a=nt.key(),n._b=nt.value(),n}());if(l=this.getProviderDefaultRestrictions(),a=this.dataProviderFactory().createDataProvider(),v&&!b&&(ot||st)){if(i=null,f!=null&&(tt=t.$ci.af(t.$f5.$type,t.$ci.u(t.$f5.$type,ht,function(n){return n.axisIndex()==f.axisIndex()})),ct=y.tryGetValue("Axis0",it),it=ct.p1,tt!=null&&(lt=w.c(tt,o,p,new t.gu,this.cube().name()),i=a.executeStatementAsync(lt,c,l),i=t.$fm.b(t.$dh.$type,t.$dh.$type,i,function(i){var o,f,s,h,c,e;for(n._l==null&&(n._l=new t.fb(n.result(),n.result(),r,u)),o=n._l,n._l=n._l.extend(i.m(),"Axis0"),n.result(n._l.visibleResult()),n.bt(n.result()),t.$fd.h("Axis0",o,n._l),f=it.getEnumerator();f.moveNext();)s=f.current(),t.$fd.g(s,!0,n._l);return h=u,c=r,n.bu(n._l.visibleResult(),h,c),e=new t.el(t.$dh.$type,0),e.e(n._l.visibleResult()),e._b}))),o!=null){var rt=t.$ci.af(t.$f5.$type,t.$ci.u(t.$f5.$type,ht,function(n){return n.axisIndex()==o.axisIndex()})),ut=this._l.hasColumns()?"Axis1":"Axis0",ft,gt=y.tryGetValue(ut,ft);ft=gt.p1,rt!=null&&(i!=null?i=t.$fm.b(t.$dh.$type,t.$dh.$type,i,function(){f=n.a6(n.columnAxis(),!1,0);var r=w.c(f,rt,p,new t.gu,n.cube().name());return a.executeStatementAsync(r,c,l)}):(at=w.c(f,rt,p,new t.gu,this.cube().name()),i=a.executeStatementAsync(at,c,l)),i=t.$fm.b(t.$dh.$type,t.$dh.$type,i,function(i){var o,f,s,h,c,e;for(n._l==null&&(n._l=new t.fb(n.result(),n.result(),r,u)),o=n._l,n._l=n._l.extend(i.m(),ut),n.result(n._l.visibleResult()),n.bt(n.result()),t.$fd.h(ut,o,n._l),f=ft.getEnumerator();f.moveNext();)s=f.current(),t.$fd.g(s,!0,n._l);return h=u,c=r,n.bu(n._l.visibleResult(),h,c),e=new t.el(t.$dh.$type,0),e.e(n._l.visibleResult()),e._b}))}return i!=null?i:(et=new t.el(t.$dh.$type,0),et.e(this.result()),et._b)}return b&&this.af.clear(),e=0,f=this.a6(this.columnAxis(),this._m,e),f!=null&&e++,o=this.a6(this.rowAxis(),this._s,e),vt=w.c(f,o,p,new t.gu,this.cube().name()),a.executeStatementAsync(vt,c,l).j(t.$dh.$type,function(i){n._l=new t.fb(i.m(),i.m(),r,u),n.result(n._l.visibleResult()),n.bt(n.result());var f=u,e=r;return n.bu(n._l.visibleResult(),f,e),n.clearPendingChanges(),n.result()})},aq:function(n){if(this.catalog()==null)throw new t.bm(1,"Data source has no Catalog set.");return t.$d5.aq.call(this,n)},ar:function(n){if(this.catalog()==null)throw new t.bm(1,"Data source has no Catalog set.");return t.$d5.ar.call(this,n)},aj:function(){var s=this,i=new t.b4(t.$eg.$type,0),r=this.getProviderDefaultProperties(),u=this.getProviderDefaultRestrictions(),f=this.dataProviderFactory().createDataProvider(),e,o,n;return i.add(f.discoverMeasuresAsync(r,u)),i.add(f.discoverKpisAsync(r,u)),i.add(f.discoverDimensionsAsync(r,u)),i.add(f.discoverHierarchiesAsync(r,u)),i.add(f.discoverLevelsAsync(r,u)),i.add(f.discoverMeasureGroupDimensionsAsync(r,u)),i.add(this.ao()),e=new Array(i.count()),i.copyTo(e,0),o=new t.fl,n=new t.ff,this._c=n,o.c(e,function(i){var r=i[0],u=i[1],f=i[2],e=i[3],o=i[4],h=i[5];n._z=r.m(),n._t=f.m(),n._u=e.m(),n._x=o.m(),n._w=u.m(),s.measureGroups()!=null&&(n._y=h.m(),n._a=new t.fh(n._t,n._z,n._w,n._y))})},a3:function(n,i){for(var r=new t.ea(n),u=i.getEnumerator(),f;u.moveNext();)f=u.current(),r.add(f);return r},getProviderDefaultRestrictions:function(){var i=this,n=t.$d5.getProviderDefaultRestrictions.call(this);return this.catalog()!=null&&(n.add(function(){var n=new t.fa;return n._a="CATALOG_NAME",n._b=i.catalog().name(),n}()),this.cube()!=null&&n.add(function(){var n=new t.fa;return n._a="CUBE_NAME",n._b=i.cube().name(),n}())),n},bm:function(n,t){if(this._m=!0,this.bx(0,this.columnAxis(),this.rowAxis()),this.a0(t,this._y),this.a2(t,this.columnAxis()),t.action()!=4&&this.columnAxis()!=null){var i=Math.max(t.newStartingIndex(),t.oldStartingIndex());this.bw("Axis0",i)}},br:function(n,t){if(this._s=!0,this.bx(1,this.rowAxis(),this.columnAxis()),this.a0(t,this._ag),this.a2(t,this.rowAxis()),t.action()!=4&&this.rowAxis()!=null){var i=this.columnAxis()==null?"Axis0":"Axis1",r=Math.max(t.newStartingIndex(),t.oldStartingIndex());this.bw(i,r)}},bw:function(n,t){for(var f=this.aa(),e,u,r,o,i=f.count()-1;i>=0;i--)e=f.item(i),e._c==n&&e._a>=t&&f.removeAt(i);for(u=this.ab(),r=u.count()-1;r>=0;r--)o=u.item(r),o._c==n&&o._a>=t&&u.removeAt(r)},bx:function(n,t,i){t.count()>0?i.count()>0?this.bc.count()<2&&this.bc.insert(n,null):this.bc.count()==0&&this.bc.insert(0,null):this.bc.count()>0&&(this.bc.count()>1?this.bc.removeAt(n):this.bc.removeAt(0))},bo:function(n,t){this._n=!0,this.a0(t,this._z)},bp:function(){this._r=!0,this.a1()},bn:function(n,i,r){for(var f=null,e=n.getEnumerator(),u;e.moveNext();)if(u=e.current(),u._a==i){f=u;break}f==null&&n.add(function(){var n=new t.fa;return n._a=i,n._b=r,n}())},a4:function(n){return this.result()!=null&&this.result().axes().count()>0?t.$ci.af(t.$di.$type,t.$ci.u(t.$di.$type,this.result().axes(),function(t){return t.name()==n})):null},a8:function(n){return n<this.bc.count()?this.bc.item(n):null},bs:function(n,t){this.bc.item(n,t)},$type:new n.ig.Type("MdxDataSourceImpl",t.$d5.$type)},!0),i("MdxDataSourceOptions:fs","DataSourceBaseOptions",{init:function(){t.$e7.init.call(this)},_catalog:null,catalog:function(n){return arguments.length===1?(this._catalog=n,n):this._catalog},_discoverProperties:null,discoverProperties:function(n){return arguments.length===1?(this._discoverProperties=n,n):this._discoverProperties},_executeProperties:null,executeProperties:function(n){return arguments.length===1?(this._executeProperties=n,n):this._executeProperties},_dataProviderFactory:null,dataProviderFactory:function(n){return arguments.length===1?(this._dataProviderFactory=n,n):this._dataProviderFactory},_enableResultCache:!1,enableResultCache:function(n){return arguments.length===1?(this._enableResultCache=n,n):this._enableResultCache},_mdxSettings:null,mdxSettings:function(n){return arguments.length===1?(this._mdxSettings=n,n):this._mdxSettings},$type:new n.ig.Type("MdxDataSourceOptions",t.$e7.$type)},!0),i("IXmlaMethodResult:gy","Object",{$type:new n.ig.Type("IXmlaMethodResult",null)},!0),i("XmlaSoapMethodResult:gx","Object",{init:function(){n.ig.$op.init.call(this)},b:null,returnElement:function(n){return arguments.length===1?(this.b=n,n):this.b},_sessionId:null,sessionId:function(n){return arguments.length===1?(this._sessionId=n,n):this._sessionId},$type:new n.ig.Type("XmlaSoapMethodResult",n.ig.$ot,[t.$gy.$type])},!0),i("DiscoverResponseResult:gw","XmlaSoapMethodResult",{init:function(){t.$gx.init.call(this)},$type:new n.ig.Type("DiscoverResponseResult",t.$gx.$type)},!0),i("FaultError:hh","Object",{init:function(){n.ig.$op.init.call(this)},_errorCode:null,errorCode:function(n){return arguments.length===1?(this._errorCode=n,n):this._errorCode},_description:null,description:function(n){return arguments.length===1?(this._description=n,n):this._description},_source:null,source:function(n){return arguments.length===1?(this._source=n,n):this._source},_helpFile:null,helpFile:function(n){return arguments.length===1?(this._helpFile=n,n):this._helpFile},_severity:null,severity:function(n){return arguments.length===1?(this._severity=n,n):this._severity},$type:new n.ig.Type("FaultError",n.ig.$ot)},!0),i("RequestCompletedEventArgs$1:hi","AsyncCompletedEventArgs",{$t:null,i:null,init:function(n,i,r,u,f){this.$t=n,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$dq.init.call(this,r,u,f),this.i=i},result:function(){return t.$dq.h.call(this),this.i},$type:new n.ig.Type("RequestCompletedEventArgs$1",t.$dq.$type)},!0),i("ExecuteResponseResult:hj","XmlaSoapMethodResult",{init:function(){t.$gx.init.call(this)},$type:new n.ig.Type("ExecuteResponseResult",t.$gx.$type)},!0),i("FaultDetail:hk","Object",{init:function(){n.ig.$op.init.call(this)},_a:null,$type:new n.ig.Type("FaultDetail",n.ig.$ot)},!0),i("IXmlaSoapMethod:hl","Object",{$type:new n.ig.Type("IXmlaSoapMethod",null)},!0),i("XmlaNamespace:ho","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("XmlaNamespace",n.ig.$ot)},!0),i("XmlaQueryProperty:hn","Object",{init:function(t){if(t>0){switch(t){case 1:this.init1.apply(this,arguments)}return}n.ig.$op.init.call(this)},init1:function(t,i,r){n.ig.$op.init.call(this),this._a=i,this._c=r},_a:null,_c:null,toString:function(){return String.concat(this._a," = ",this._c)},$type:new n.ig.Type("XmlaQueryProperty",n.ig.$ot)},!0),i("XmlaPropertiesCollection:hm","Object",{c:null,d:null,e:null,init:function(){n.ig.$op.init.call(this),this.c=new t.bc(String,t.$hn.$type,0),this.d=new t.bc(String,t.$r.$type,0),this.e=new t.b4(t.$hn.$type,0)},tryGetValue:function(n,t){var i=this;return{ret:function(){var r=i.c.tryGetValue(n,t);return t=r.p1,r.ret}(),p1:t}},contains1:function(n){return this.c.containsKey(n)},indexOf:function(n){return this.e.indexOf(n)},insert:function(n,t){this.c.add(t._a,t),this.e.insert(n,t)},removeAt:function(n){if(n<this.e.count()){var t=this.e.item(n);this.c.remove(t._a)&&this.e.removeAt(n)}},item:function(n,t){if(arguments.length===2){var i=this.e.item(n);return this.c.remove(i._a),this.c.add(t._a,t),this.e.item(n,t),t}return this.e.item(n)},add$1:function(n){this.c.add(n._a,n),this.e.add(n)},clear:function(){this.e.clear(),this.c.clear()},contains:function(n){return this.e.contains(n)},copyTo$1:function(n,t){this.e.copyTo(n,t)},count:function(){return this.e.count()},isReadOnly:function(){return this.e.isReadOnly()},remove:function(n){return this.e.remove(n)?this.c.remove(n._a):!1},getEnumerator:function(){return this.e.getEnumerator()},getEnumerator:function(){return this.e.getEnumerator()},add:function(n){return this.add$1(n),this.count()-1},isFixedSize:function(){return!1},copyTo:function(){throw new t.bn(0);},isSynchronized:function(){return this.e.isSynchronized()},syncRoot:function(){return this.e.syncRoot()},$type:new n.ig.Type("XmlaPropertiesCollection",n.ig.$ot,[t.$b3.$type.specialize(t.$hn.$type),t.$n.$type])},!0),i("XmlaSoapFault:hp","Object",{init:function(){n.ig.$op.init.call(this)},_c:null,_d:null,_b:null,_a:null,$type:new n.ig.Type("XmlaSoapFault",n.ig.$ot)},!0),i("XmlaSoapMessageBuilder:hq","Object",{init:function(){n.ig.$op.init.call(this)},_a:null,c:function(){var n,i;if(this._a==null)throw new t.bm(1,"XmlaMethod is not specified.");return n=t.$hd.get(t.$hq.g),this._a.construct(n),i=this.j(),i.toString()},j:function(){var n=new t.gz(1,t.$hc.get("Envelope",t.$hq.g));return this.i(n),this.h(n),n},i:function(n){var r=new t.gz(1,t.$hc.get("Header",n.name().namespace().namespaceName())),i,u;for(n.add(r),i=this._a.headers().getEnumerator();i.moveNext();)u=i.current(),r.add(u)},h:function(n){var u=new t.gz(1,t.$hc.get("Body",n.name().namespace().namespaceName())),i,r,f;for(n.add(u),i=new t.gz(1,t.$hc.get(this._a.name(),"urn:schemas-microsoft-com:xml-analysis")),u.add(i),r=this._a.parameters().getEnumerator();r.moveNext();)f=r.current(),i.add(f)},$type:new n.ig.Type("XmlaSoapMessageBuilder",n.ig.$ot)},!0),i("XmlaSoapMethod:hr","Object",{g:null,f:null,c:null,b:null,a:null,init:function(){n.ig.$op.init.call(this),this.c=new t.b4(t.$gz.$type,0),this.b=new t.b4(t.$gz.$type,0),this.g=new t.cg(t.$gz.$type,1,this.c),this.f=new t.cg(t.$gz.$type,1,this.b),this.a=new t.hm},properties:function(){return this.a},name:function(){},parameters:function(){return this.g},headers:function(){return this.f},e:function(){return this.c},d:function(){return this.b},construct:function(){},mergeProperties:function(n){var u=this,i,t,r;if(n!=null)for(i=n.getEnumerator();i.moveNext();)t=i.current(),function(){var n=u.properties().tryGetValue(t._a,r);return r=n.p1,n.ret}()?r._c=t._c:this.properties().add$1(t)},$type:new n.ig.Type("XmlaSoapMethod",n.ig.$ot,[t.$hl.$type])},!0),i("XmlaSoapMethodDiscover:hs","XmlaSoapMethod",{k:null,init:function(i){t.$hr.init.call(this),this.headerType(0),this.requestType(i),this.k=new t.bc(String,n.ig.$op.$type,0)},restrictions:function(){return this.k},_requestType:null,requestType:function(n){return arguments.length===1?(this._requestType=n,n):this._requestType},name:function(){return"Discover"},_headerType:0,headerType:function(n){return arguments.length===1?(this._headerType=n,n):this._headerType},_sessionId:null,sessionId:function(n){return arguments.length===1?(this._sessionId=n,n):this._sessionId},construct:function(){var l=t.$hd.get("urn:schemas-microsoft-com:xml-analysis"),c=new t.gz(1,t.$hc.get("RequestType",l.namespaceName())),i,u,r,f,e,o,s,h;for(c.value(this.requestType()),i=new t.gz(1,t.$hc.get("Properties","urn:schemas-microsoft-com:xml-analysis")),u=new t.gz(1,t.$hc.get("PropertyList",i.name().namespace().namespaceName())),i.add(u),r=new t.gz(1,t.$hc.get("Restrictions","urn:schemas-microsoft-com:xml-analysis")),f=new t.gz(1,t.$hc.get("RestrictionList",r.name().namespace().namespaceName())),r.add(f),e=this.properties().getEnumerator();e.moveNext();)o=e.current(),u.add(new t.gz(2,t.$hc.get(o._a,"urn:schemas-microsoft-com:xml-analysis"),o._c));for(s=this.k.getEnumerator();s.moveNext();)h=s.current(),f.add(new t.gz(2,t.$hc.get(h.key(),""),h.value()));this.e().add(c),this.e().add(r),this.e().add(i)},$type:new n.ig.Type("XmlaSoapMethodDiscover",t.$hr.$type)},!0),i("XmlaSoapMethodExecute:ht","XmlaSoapMethod",{init:function(n){t.$hr.init.call(this),this.statement(n)},name:function(){return"Execute"},_statement:null,statement:function(n){return arguments.length===1?(this._statement=n,n):this._statement},construct:function(){var e=t.$hd.get("urn:schemas-microsoft-com:xml-analysis"),o=new t.gz(1,t.$hc.get("Command",e.namespaceName())),s=new t.gz(1,t.$hc.get("Statement",e.namespaceName())),i,r,u,f;for(s.value(this.statement()),o.add(s),i=new t.gz(1,t.$hc.get("Properties","urn:schemas-microsoft-com:xml-analysis")),r=new t.gz(1,t.$hc.get("PropertyList",i.name().namespace().namespaceName())),i.add(r),u=this.properties().getEnumerator();u.moveNext();)f=u.current(),r.add(new t.gz(2,t.$hc.get(f._a,"urn:schemas-microsoft-com:xml-analysis"),f._c));this.e().add(o),this.e().add(i)},$type:new n.ig.Type("XmlaSoapMethodExecute",t.$hr.$type)},!0),i("XmlaSoapWebClient:hu","Object",{init:function(){n.ig.$op.init.call(this)},staticInit:function(){t.$hu.a=new t.b4(String,0)},$type:new n.ig.Type("XmlaSoapWebClient",n.ig.$ot)},!0),i("XmlaSoapWebClient$1:hv","XmlaSoapWebClient",{$t:null,f:null,b:!1,init:function(i,r,u){this.$t=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),t.$hu.init.call(this),this.f=new t.h6,this.f._e=u;var f=this.f;f.uploadStringCompleted=n.ig.Delegate.prototype.combine(f.uploadStringCompleted,this.l.runOn(this)),this._g=r},requestCompleted:null,_e:null,_g:null,c:function(){return this.b},j:function(n){this.k(n,null)},k:function(n,i){var r=new t.hq,u;r._a=n,u=r.c(),this.f._a=this._e!=null?this._e:null,this.f._d.item("UserAgent","XmlaClient"),this.f._d.item("SOAPAction","urn:schemas-microsoft-com:xml-analysis:Execute"),this.f._d.item("Content-Type","text/xml"),this.f.k(this._g,"POST",u,i)},h:function(n){this.requestCompleted!=null&&this.requestCompleted(this,n)},l:function(n,i){this.b=!0;var r=t.$he.parse(i.result());this.i(r,i.error(),i.cancelled(),i.userState())},i:function(n,i,r,u){var o=null,h=null,f=null,l,e,y;if(!r&&i==null)try{var p=n.element(t.$hc.get("Envelope","http://schemas.xmlsoap.org/soap/envelope/")),s=p.element(t.$hc.get("Body","http://schemas.xmlsoap.org/soap/envelope/")),c=s.element(t.$hc.get("Fault","http://schemas.xmlsoap.org/soap/envelope/"));if(c!=null)l=new t.id,e=l.deserialize(c),h=new t.ik(t.$hp.$type,e,new t.ii(e._d),new t.ij(e._c),null);else{if(this.$t==t.$gw.$type){var w=s.element(t.$hc.get("DiscoverResponse","urn:schemas-microsoft-com:xml-analysis")),b=w.element(t.$hc.get("return","urn:schemas-microsoft-com:xml-analysis")),k=b.element(t.$hc.get("root",t.$ho.e)),a=new t.gw;a.returnElement(k),o=a}if(this.$t==t.$hj.$type){var d=s.element(t.$hc.get("ExecuteResponse","urn:schemas-microsoft-com:xml-analysis")),g=d.element(t.$hc.get("return","urn:schemas-microsoft-com:xml-analysis")),nt=g.element(t.$hc.get("root",t.$ho.d)),v=new t.hj;v.returnElement(nt),o=v}}}catch(tt){f=tt}f==null&&(f=i!=null?i:h),y=new t.hi(this.$t,o,f,r,u),this.h(y)},$type:new n.ig.Type("XmlaSoapWebClient$1",t.$hu.$type)},!0),i("Session:im","Object",{init:function(){n.ig.$op.init.call(this)},_a:null,$type:new n.ig.Type("Session",n.ig.$ot)},!0),i("IMdxExpression:f6","Object",{$type:new n.ig.Type("IMdxExpression",null)},!0),i("IMdxElement:f8","Object",{$type:new n.ig.Type("IMdxElement",null,[t.$f6.$type])},!0),i("IAxisFilterElement:gp","Object",{$type:new n.ig.Type("IAxisFilterElement",null,[t.$f8.$type])},!0),i("IMdxAxis:f5","Object",{$type:new n.ig.Type("IMdxAxis",null,[t.$f6.$type])},!0),i("IMdxAxisProvider:f4","Object",{$type:new n.ig.Type("IMdxAxisProvider",null)},!0),i("IMdxCalculatedMembersCacheProvider:io","Object",{$type:new n.ig.Type("IMdxCalculatedMembersCacheProvider",null)},!0),i("IMdxCollectionElement:gb","Object",{$type:new n.ig.Type("IMdxCollectionElement",null,[t.$f8.$type])},!0),i("IMdxDimensionAxisProvider:f3","Object",{$type:new n.ig.Type("IMdxDimensionAxisProvider",null,[t.$f4.$type])},!0),i("IMdxFilterInfo:go","Object",{$type:new n.ig.Type("IMdxFilterInfo",null)},!0),i("IMdxExtendedFilterInfo:gn","Object",{$type:new n.ig.Type("IMdxExtendedFilterInfo",null,[t.$go.$type])},!0),i("IMdxItemElement:gg","Object",{$type:new n.ig.Type("IMdxItemElement",null,[t.$f8.$type])},!0),i("IMdxQuery:ip","Object",{$type:new n.ig.Type("IMdxQuery",null)},!0),i("IMdxSet:f7","Object",{$type:new n.ig.Type("IMdxSet",null,[t.$f6.$type])},!0),i("MdxAxis:gc","Object",{e:null,f:null,d:!1,i:null,h:0,a:null,init:function(n,i){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$gc.init1.call(this,1,i,new t.fu)},init1:function(i,r,u){this.a=["COLUMNS","ROWS","PAGES"],n.ig.$op.init.call(this),this.axisIndex(r),this.mdxSettings(u!=null?u:new t.fu),this.e=new t.b4(t.$f7.$type,0),this.f=new t.cg(t.$f7.$type,1,this.e)},axisIndex:function(n){return arguments.length===1?(this.h!=n&&(this.h=n,this.d=!1),n):this.h},_mdxSettings:null,mdxSettings:function(n){return arguments.length===1?(this._mdxSettings=n,n):this._mdxSettings},c:function(){return r(t.$fu.$type,this.mdxSettings())},sets:function(){return this.f},mdxExpression:function(){return this.d||(this.i=this.j(),this.d=!0),this.i},rebuildExpression:function(){this.i=this.j(),this.d=!0},getMdxSets:function(){var t=new n.ig.MdxAxis___GetMdxSets__IteratorClass(-2);return t.__4__this=this,t},addSet:function(n){this.e.add(n),this.d=!1},j:function(){for(var n=new t.dx(0),r=!1,u=this.sets().getEnumerator(),i;u.moveNext();)(i=u.current(),i.isEnabled())&&(r&&(n.l(","),n.l(t.$dy.newLine())),n.l(i.mdxExpression()),r=!0);return this.sets().count()>1&&(n.x(0,"{"),n.l("}")),this.m(n,this.c()),this.n(n,this.c()),this.l(n,this.c()),this.k(n),n.toString()},m:function(n,t){t._f&&(n.x(0,"Distinct("),n.l(")"))},n:function(n,i){i._h&&(n.x(0,t.$dy.newLine()),n.x(0,"NON EMPTY"))},l:function(n,i){var f;if(i._e){n.l(t.$dy.newLine()),n.l("DIMENSION PROPERTIES");for(var e=i._j,r=!1,u=e.getEnumerator();u.moveNext();)f=u.current(),n.l(t.$dy.newLine()),r&&n.l(","),n.l(f),r=!0}},k:function(n){this.axisIndex()<2&&(n.l(t.$dy.newLine()),n.l(String.concat("ON ",this.a[this.axisIndex()])))},$type:new n.ig.Type("MdxAxis",n.ig.$ot,[t.$f5.$type])},!0),i("MdxAxisFilterElement:gr","Object",{a:null,b:null,init:function(){n.ig.$op.init.call(this),this.b=new t.b4(t.$f8.$type,0),this.singleFilterElements(new t.cg(t.$f8.$type,1,this.b)),this.a=new t.ga},mdxExpression:function(){return this.a.collectionElements().count()>1&&this.a.wrapExpressionWithBrackets(["(",")"]),this.a.mdxExpression()},_singleFilterElements:null,singleFilterElements:function(n){return arguments.length===1?(this._singleFilterElements=n,n):this._singleFilterElements},filterCollection:function(){return this.a.collectionElements()},rebuildExpression:function(){this.a.rebuildExpression()},addFilterPart:function(n,t){if(n.collectionElements().count()>0){if(n.collectionElements().count()==1&&t){this.b.add(n.collectionElements().item(0));return}this.a.addElement(n)}},elementType:function(){return 3},$type:new n.ig.Type("MdxAxisFilterElement",n.ig.$ot,[t.$gp.$type])},!0),i("MdxCalculatedMembersCache:gu","Object",{init:function(){this.d=new t.b4(String,0),this.b=new t.bc(String,String,0),n.ig.$op.init.call(this)},d:null,b:null,e:function(n){for(var r=new t.dx(0),u=n.c().getEnumerator(),i;u.moveNext();)i=u.current(),t.$gu.f(r,i.key(),i.value());return r.toString()},g:function(n,t,i){this.d.contains(n)||this.d.add(n),this.b.containsKey(t)||this.b.add(t,i)},c:function(){var t=new n.ig.MdxCalculatedMembersCache___GetMemberAliasExpressionPairs__IteratorClass(-2);return t.__4__this=this,t},a:function(n){return this.d.contains(n)},f:function(n,i,r){n.l(String.concat("MEMBER ",i," AS",t.$dy.newLine())),n.l(r),n.l(t.$dy.newLine())},$type:new n.ig.Type("MdxCalculatedMembersCache",n.ig.$ot)},!0),i("MdxElement:gf","Object",{init:function(){n.ig.$op.init.call(this),this.elementType(5)},mdxExpression:function(){},_elementType:0,elementType:function(n){return arguments.length===1?(this._elementType=n,n):this._elementType},_sourceItemExpression:null,sourceItemExpression:function(n){return arguments.length===1?(this._sourceItemExpression=n,n):this._sourceItemExpression},rebuildExpression:function(){},$type:new n.ig.Type("MdxElement",n.ig.$ot,[t.$gg.$type])},!0),i("MdxSingleElement:ge","MdxElement",{init:function(n,i,r,u){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$ge.init1.call(this,1,i,r,u,0)},init1:function(n,i,r,u,f){t.$gf.init.call(this),this.memberDepth(u);switch(f){case 0:case 2:this.sourceItemExpression(i),this.elementUniqueName(r),this.elementType(f);break;default:throw new t.bo(2,"Element type could be MdxElementType.Member or MdxElementType.Calculated","elementType");}},mdxExpression:function(){return this.sourceItemExpression()},_elementUniqueName:null,elementUniqueName:function(n){return arguments.length===1?(this._elementUniqueName=n,n):this._elementUniqueName},_memberDepth:0,memberDepth:function(n){return arguments.length===1?(this._memberDepth=n,n):this._memberDepth},$type:new n.ig.Type("MdxSingleElement",t.$gf.$type)},!0),i("MdxDimensionMember:gj","MdxSingleElement",{init:function(n,i,r,u,f){t.$ge.init.call(this,0,n,i,r),this.parentHierarchyUniqueName(u),this.parent(f)},_parentHierarchyUniqueName:null,parentHierarchyUniqueName:function(n){return arguments.length===1?(this._parentHierarchyUniqueName=n,n):this._parentHierarchyUniqueName},_parent:null,parent:function(n){return arguments.length===1?(this._parent=n,n):this._parent},$type:new n.ig.Type("MdxDimensionMember",t.$ge.$type)},!0),i("MdxChildrenCollectionElement:gi","MdxDimensionMember",{init:function(n,i,r,u,f){t.$gj.init.call(this,n,i,r,u,f)},mdxExpression:function(){return String.concat(this.sourceItemExpression(),".Children")},$type:new n.ig.Type("MdxChildrenCollectionElement",t.$gj.$type)},!0),i("MdxConstantElement:iq","Object",{init:function(t){n.ig.$op.init.call(this),this.mdxExpression(t)},elementType:function(){return 5},_mdxExpression:null,mdxExpression:function(n){return arguments.length===1?(this._mdxExpression=n,n):this._mdxExpression},rebuildExpression:function(){},$type:new n.ig.Type("MdxConstantElement",n.ig.$ot,[t.$f8.$type])},!0),i("MdxElementCollectionElement:ga","Object",{d:null,c:!1,e:null,a:null,init:function(){n.ig.$op.init.call(this),this.d=new t.b4(t.$f8.$type,0),this.collectionElements(new t.cg(t.$f8.$type,1,this.d))},wrapExpressionWithBrackets:function(n){return arguments.length===1?(this.a!=n&&(this.c=!1,this.a=n),n):this.a},_collectionElements:null,collectionElements:function(n){return arguments.length===1?(this._collectionElements=n,n):this._collectionElements},elementType:function(){return 4},mdxExpression:function(){return this.c||(this.e=this.f(),this.c=!0),this.e},rebuildExpression:function(){this.e=this.f(),this.c=!0},addElement:function(n){this.d.add(n),this.collectionElements().count()>1&&this.wrapExpressionWithBrackets(["{","}"]),this.c=!1},f:function(){var u;if(this.collectionElements().count()==0)return String.empty();for(var n=new t.dx(0),i=!1,r=this.collectionElements().getEnumerator();r.moveNext();)u=r.current(),i&&(n.l(","),n.l(t.$dy.newLine())),n.l(u.mdxExpression()),i=!0;return this.wrapExpressionWithBrackets()!=null&&this.wrapExpressionWithBrackets().length==2&&(n.x(0,this.wrapExpressionWithBrackets()[0]),n.l(this.wrapExpressionWithBrackets()[1])),n.toString()},$type:new n.ig.Type("MdxElementCollectionElement",n.ig.$ot,[t.$gb.$type])},!0),i("MdxLevelMembersElement:gh","MdxSingleElement",{init:function(n,i,r){t.$ge.init.call(this,0,n,i,r)},mdxExpression:function(){return String.concat(this.sourceItemExpression(),".MEMBERS")},$type:new n.ig.Type("MdxLevelMembersElement",t.$ge.$type)},!0),i("MdxQueryBuilder:gt","Object",{a:null,init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$gt.init1.call(this,1,new t.ft)},init1:function(t,i){n.ig.$op.init.call(this),this.b(i)},b:function(n){return arguments.length===1?(this.a=n,n):(this.a==null&&(this.a=new t.ft),this.a)},c:function(n,i,r,u,f){var o=r,s=this.d(n,i,o,u),h=this.h(o),l=this.g(o,f),e=new t.dx(0),c;return String.isNullOrEmpty(s)||e.l(String.concat("WITH",t.$dy.newLine())),e.l(s),e.l("SELECT"),e.l(t.$dy.newLine()),n!=null&&e.l(n.mdxExpression()),i!=null&&(n==null?i.axisIndex(0):e.l(String.concat(",",t.$dy.newLine())),e.l(i.mdxExpression())),e.l(t.$dy.newLine()),e.l(l),String.isNullOrEmpty(h)||(e.l(t.$dy.newLine()),e.l(h)),c=e.toString()},d:function(n,i,r,u){return t.$gu.e(u)},g:function(n,i){var u=String.concat("FROM ","[",i,"]"),f=r(t.$gn.$type,n);return u=this.f(u,n.filtersFilter(),null),u=n.columnsFilter()!=null?this.f(u,n.columnsFilter(),n.rowsFilter()):this.f(u,n.rowsFilter(),null),f!=null&&(u=this.e(u,f)),u},e:function(n,i){var u,f,r;if(i.filterElements()!=null&&i.filterElements().count()>0)for(u=i.filterElements().getEnumerator();u.moveNext();)f=u.current(),r=new t.dx(0),r.x(0,String.concat(["FROM",t.$dy.newLine(),"(",t.$dy.newLine(),"SELECT",t.$dy.newLine()])),r.l(String.concat(f.mdxExpression()," ON COLUMNS",t.$dy.newLine())),r.l(n),r.l(this.h(i)),r.l(String.concat(")",t.$dy.newLine())),n=r.toString();return n},f:function(n,i,r){if(i==null||i.filterCollection().count()==0)return n;var u=new t.dx(0);return u.l("FROM"),u.l(t.$dy.newLine()),u.l("("),u.l(t.$dy.newLine()),u.l("SELECT"),u.l(t.$dy.newLine()),u.l(i.mdxExpression()),u.l(" ON COLUMNS"),r!=null&&r.filterCollection().count()>0&&(u.l(t.$dy.newLine()),u.l(", "),u.l(r.mdxExpression()),u.l(" ON ROWS")),u.l(t.$dy.newLine()),u.l(n),u.l(t.$dy.newLine()),u.l(")"),u.toString()},h:function(n){var i=new t.ga,r,u;if(n.measureFilter()!=null&&n.measureFilter().singleFilterElements().count()==1&&i.addElement(n.measureFilter().singleFilterElements().item(0)),n.filtersFilter()!=null)for(r=n.filtersFilter().singleFilterElements().getEnumerator();r.moveNext();)u=r.current(),i.addElement(u);return i.collectionElements().count()==0?String.empty():(i.wrapExpressionWithBrackets(["(",")"]),String.concat("WHERE ",i.mdxExpression()))},$type:new n.ig.Type("MdxQueryBuilder",n.ig.$ot)},!0),i("MdxSet:gd","Object",{d:null,e:null,b:!1,g:null,init:function(n){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$gd.init1.call(this,1,new t.fw),this.d=new t.b4(t.$f8.$type,0),this.e=new t.cg(t.$f8.$type,1,this.d),this.isEnabled(!0)},init1:function(i,r){n.ig.$op.init.call(this),this.d=new t.b4(t.$f8.$type,0),this.e=new t.cg(t.$f8.$type,1,this.d),this.isEnabled(!0),this.mdxSettings(r!=null?r:new t.fw)},_mdxSettings:null,mdxSettings:function(n){return arguments.length===1?(this._mdxSettings=n,n):this._mdxSettings},_isEnabled:!1,isEnabled:function(n){return arguments.length===1?(this._isEnabled=n,n):this._isEnabled},elements:function(){return this.e},mdxExpression:function(){return this.b||(this.g=this.h(),this.b=!0),this.g},rebuildExpression:function(){this.g=this.h(),this.b=!0},addElement:function(n){this.supportsElementType(n)&&(this.d.add(n),this.b=!1)},getMdxElements:function(){var t=new n.ig.MdxSet___GetMdxElements__IteratorClass(-2);return t.__4__this=this,t},supportsElementType:function(n){switch(n.elementType()){case 1:case 0:case 2:case 4:return!0}return!1},h:function(){var n=new t.dx(0),u=this.elements().item(0),i,r;for(this.j(n,u),i=1;i<this.elements().count();i++)n.x(0,"CrossJoin("),n.x(10,t.$dy.newLine()),n.l(","),n.l(t.$dy.newLine()),r=this.elements().item(i),this.j(n,r),n.l(")");return n.toString()},j:function(n,i){var u=new t.dx(0),f,e;switch(i.elementType()){case 2:f=i,e=f.elementUniqueName(),u.l("{"),u.l(e),u.l("}");break;case 0:u.l("{"),u.l(i.mdxExpression()),u.l("}");break;case 4:case 1:u.l(i.mdxExpression())}(r(t.$gh.$type,i)!==null||r(t.$gi.$type,i)!==null)&&this.i(u,i);switch(i.elementType()){case 1:case 0:this.k(u,i)}n.n(u)},k:function(){},i:function(n){this.mdxSettings()._a&&(n.x(0,"AddCalculatedMembers("),n.l(")"))},clone:function(){for(var n=new t.gd(1,this.mdxSettings()),i=this.elements().getEnumerator(),r;i.moveNext();)r=i.current(),n.addElement(r);return n},$type:new n.ig.Type("MdxSet",n.ig.$ot,[t.$f7.$type])},!0),i("MdxSettings:ft","Object",{i:!1,h:!1,e:!1,d:!1,m:!1,l:!1,k:!1,j:!1,o:!1,n:!1,g:!1,f:!1,init:function(){var i,r;n.ig.$op.init.call(this),this._a=new t.fu,this._b=new t.fu,this._c=new t.fx,this.y(!0),this.x(!0),i=new t.fy(String,0),i.collectionChanged=n.ig.Delegate.prototype.combine(i.collectionChanged,this.ae.runOn(this)),this._ac=i,r=new t.fy(String,0),r.collectionChanged=n.ig.Delegate.prototype.combine(r.collectionChanged,this.ad.runOn(this)),this._ab=r,this.s(!0),this.r(!0),this.q(!0),this.p(!0),this.ag(this._ac),this.ag(this._ab)},ae:function(){var i,r;for(this._b._j.clear(),i=this._ac.getEnumerator();i.moveNext();)r=i.current(),this._b._j.add(r)},ad:function(){var i,r;for(this._a._j.clear(),i=this._ab.getEnumerator();i.moveNext();)r=i.current(),this._a._j.add(r)},_a:null,_b:null,_c:null,aa:function(n){return arguments.length===1?(this.i!=n&&(this.i=n,this._b.i(n)),n):this.i},z:function(n){return arguments.length===1?(this.h!=n&&(this.h=n,this._a.i(n)),n):this.h},q:function(n){return arguments.length===1?(this.e!=n&&(this.e=n,this._b.d(n)),n):this.e},p:function(n){return arguments.length===1?(this.d!=n&&(this.d=n,this._a.d(n)),n):this.d},w:function(n){return arguments.length===1?(this.m!=n&&(this.m=n,this._b._g=n),n):this.m},v:function(n){return arguments.length===1?(this.l!=n&&(this.l=n,this._a._g=n),n):this.l},u:function(n){return arguments.length===1?(this.k!=n&&(this.k=n,this._b._f=n),n):this.k},t:function(n){return arguments.length===1?(this.j!=n&&(this.j=n,this._a._f=n),n):this.j},y:function(n){return arguments.length===1?(this.o!=n&&(this.o=n,this._b._h=n),n):this.o},x:function(n){return arguments.length===1?(this.n!=n&&(this.n=n,this._a._h=n),n):this.n},s:function(n){return arguments.length===1?(this.g!=n&&(this.g=n,this._b._e=n),n):this.g},r:function(n){return arguments.length===1?(this.f!=n&&(this.f=n,this._a._e=n),n):this.f},_ac:null,_ab:null,af:function(n){this.ag(n)},ag:function(n){n.clear(),n.add("CHILDREN_CARDINALITY"),n.add("PARENT_UNIQUE_NAME")},$type:new n.ig.Type("MdxSettings",n.ig.$ot)},!0),i("MdxAxisSettings:fv","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MdxAxisSettings",n.ig.$ot)},!0),i("MdxSlicerAxisSettings:fx","MdxAxisSettings",{init:function(){t.$fv.init.call(this)},$type:new n.ig.Type("MdxSlicerAxisSettings",t.$fv.$type)},!0),i("MdxDimensionAxisSettings:fu","MdxAxisSettings",{c:!1,b:!1,init:function(){t.$fv.init.call(this),this._j=new t.b4(String,0),this._a=new t.fw},_a:null,_g:!1,_f:!1,_h:!1,_e:!1,i:function(n){return arguments.length===1?(this.c!=n&&(this.c=n,this._a._b=n),n):this.c},d:function(n){return arguments.length===1?(this.b!=n&&(this.b=n,this._a._a=n),n):this.b},_j:null,$type:new n.ig.Type("MdxDimensionAxisSettings",t.$fv.$type)},!0),i("MdxSetSettings:fw","Object",{init:function(){n.ig.$op.init.call(this)},_b:!1,_a:!1,$type:new n.ig.Type("MdxSetSettings",n.ig.$ot)},!0),i("IMdxSlicerAxis:gm","Object",{$type:new n.ig.Type("IMdxSlicerAxis",null,[t.$gn.$type])},!0),i("MdxSlicerAxis:gl","MdxAxis",{init:function(n){t.$gc.init1.call(this,1,2,n)},_columnsFilter:null,columnsFilter:function(n){return arguments.length===1?(this._columnsFilter=n,n):this._columnsFilter},_rowsFilter:null,rowsFilter:function(n){return arguments.length===1?(this._rowsFilter=n,n):this._rowsFilter},_filtersFilter:null,filtersFilter:function(n){return arguments.length===1?(this._filtersFilter=n,n):this._filtersFilter},_measureFilter:null,measureFilter:function(n){return arguments.length===1?(this._measureFilter=n,n):this._measureFilter},_filterElements:null,filterElements:function(n){return arguments.length===1?(this._filterElements=n,n):this._filterElements},$type:new n.ig.Type("MdxSlicerAxis",t.$gc.$type,[t.$gm.$type])},!0),i("MdxSlicerSet:gs","MdxSet",{init:function(){t.$gd.init.call(this,0)},supportsElementType:function(n){return r(t.$gp.$type,n)!==null},$type:new n.ig.Type("MdxSlicerSet",t.$gd.$type)},!0),i("MdxDimensionAxisProvider:f2","Object",{h:null,i:null,l:0,init:function(i,r,u,f,e){if(i>0){switch(i){case 1:this.init1.apply(this,arguments)}return}if(this.h=new t.bc(String,t.$ga.$type,0),this.i=new t.b4(String,0),this.l=-1,n.ig.$op.init.call(this),r==null)throw new t.cn(0,"xmlaDataSource");this.xmlaDataSource(r),this.mdxSettings(u),this.sourceAxis(f),this.rootPositionInfo(e)},init1:function(i,r,u,f){this.h=new t.bc(String,t.$ga.$type,0),this.i=new t.b4(String,0),this.l=-1,n.ig.$op.init.call(this),this.mdxSettings(u),this.currentResultAxis(r),this.positionsToExtend(f)},_axis:null,axis:function(n){return arguments.length===1?(this._axis=n,n):this._axis},c:null,rootPositionInfo:function(n){return arguments.length===1?(this.c=n,n):this.c},_mdxSettings:null,mdxSettings:function(n){return arguments.length===1?(this._mdxSettings=n,n):this._mdxSettings},_xmlaDataSource:null,xmlaDataSource:function(n){return arguments.length===1?(this._xmlaDataSource=n,n):this._xmlaDataSource},_sourceAxis:null,sourceAxis:function(n){return arguments.length===1?(this._sourceAxis=n,n):this._sourceAxis},_positionsToExtend:null,positionsToExtend:function(n){return arguments.length===1?(this._positionsToExtend=n,n):this._positionsToExtend},_currentResultAxis:null,currentResultAxis:function(n){return arguments.length===1?(this._currentResultAxis=n,n):this._currentResultAxis},q:function(){this.axis(null)},extendAxis:function(i){for(var p=i,w=this.positionsToExtend(),b=this.currentResultAxis().positionResolver(),a=new t.gc(1,i.axisIndex(),this.mdxSettings()),v=w.getEnumerator(),u,o,s,c,l;v.moveNext();){for(var f=v.current(),e=new t.gd(1,p.mdxSettings()._a),h=new t.b4(t.$f7.$type,0),k=b.getHostPositionItemInfo(f.position(),f.position().indexOf(f)),y=f.position().getItems().getEnumerator();y.moveNext();){if(u=y.current(),u==f){o=new t.gi(u.key(),u.key(),-1,null,null),e.addElement(o);break}o=new t.ge(0,u.key(),u.key(),u.depth()),e.addElement(o)}if(s=t.$ci.af(t.$dm.$type.specialize(String,n.ig.$op.$type),t.$ci.u(t.$dm.$type.specialize(String,n.ig.$op.$type),k.values(),function(n){return n.key()==f.key()})),s!=null)for(s.count()==0?h.add(e):this.p(s,e,h,!1,!0,!1),c=h.getEnumerator();c.moveNext();)l=c.current(),i.addSet(l),a.addSet(l)}return a},t:function(n,i){if(this.l!=0){var r=new t.gd(1,this.mdxSettings()._a);this.l==-1&&i.add(r),this.s(n,r,i),this.p(n,new t.gd(1,this.mdxSettings()._a),i,!0,!1,!0)}else this.p(n,new t.gd(1,this.mdxSettings()._a),i,!1,!1,!0)},s:function(i,r,u){var h=t.$ci.z(t.$dm.$type.specialize(String,n.ig.$op.$type),t.$ci.u(t.$dm.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==i.positionItemDepthMin()})),s,f,c;if(h.count()!=0)if(this.l==i.positionItemIndex()+1)for(s=t.$ci.u(t.$dm.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==0}).getEnumerator();s.moveNext();){var e=s.current(),o=r.clone(),l=new t.ge(0,e.positionItem().key(),e.positionItem().key(),0);o.addElement(l),u.add(o),this.u(e),e.count()==0?this.n(this.sourceAxis(),e.positionItemIndex()+1,o):this.s(e,o,u)}else f=h.item(0),c=new t.gh(f.hierarchyLevelKey(),f.hierarchyLevelKey(),i.positionItemDepthMin()),r.addElement(c),this.u(f),f.count()==0?(this.l!=-1&&u.add(r),this.n(this.sourceAxis(),f.positionItemIndex()+1,r)):this.s(f,r,u)},createAxis:function(n){var r,i,u,f;if(this.axis()!=null)return this.axis();if(this.rootPositionInfo()==null||(this.r(n),this.u(this.rootPositionInfo()),this.rootPositionInfo().count()==0))return this.axis(this.createAxis1(n,this.sourceAxis())),this.axis();for(r=new t.b4(t.$f7.$type,0),this.t(this.rootPositionInfo(),r),i=new t.gc(1,n,this.mdxSettings()),u=r.getEnumerator();u.moveNext();)f=u.current(),i.addSet(f);return this.axis(i),i},r:function(n){var u=this.xmlaDataSource().columnAxis().count()>0,i=this.xmlaDataSource().rowAxis().count()>0,f=this.xmlaDataSource().measures().count()>1,t,r;for(f&&(n==0?u?this.xmlaDataSource().measureListLocation()==1&&(this.l=this.xmlaDataSource().measureListIndex()):i&&this.xmlaDataSource().measureListLocation()==0&&(this.l=this.xmlaDataSource().measureListIndex()):n==1&&i&&this.xmlaDataSource().measureListLocation()==0&&(this.l=this.xmlaDataSource().measureListIndex())),t=this.xmlaDataSource().measures().getEnumerator();t.moveNext();)r=t.current(),this.i.add(r.uniqueName())},u:function(i){var u,f,c,l,e,o,s,h;if(this.sourceAxis()!=null)if(u=i.positionItemIndex()+1,u<this.sourceAxis().count()){if(f=this.sourceAxis().item(u),c=r(t.$fk.$type,f),c!=null)for(l=t.$ci.z(t.$dm.$type.specialize(String,n.ig.$op.$type),i.values()),e=l.getEnumerator();e.moveNext();)o=e.current(),this.i.contains(o.key())||i.remove(o.key());s=r(t.$cx.$type,f),s!=null&&(h=t.$ci.af(t.$dm.$type.specialize(String,n.ig.$op.$type),i.values()),h!=null&&h.hierarchyKey()!=s.uniqueName()&&i.clear())}else i.clear()},createAxis1:function(n,i){var u=new t.gd(1,this.mdxSettings()._a),r;return this.n(i,0,u),r=new t.gc(1,n,this.mdxSettings()),r.addSet(u),r},n:function(n,i,u){var w=this,s,h,e,p,c,f,o,l,a,v,y;if(n!=null)for(s=i;s<n.count();s++){if(h=n.item(s),e=r(t.$cx.$type,h),e!=null){e.allMember()==null?(p=t.$ci.z(t.$cp.$type,this.xmlaDataSource().getCoreElements(function(n){return n.hierarchyUniqueName()==e.uniqueName()},t.$c0.$type)),c=p.item(0),u.addElement(new t.gh(c.uniqueName(),c.uniqueName(),0))):u.addElement(new t.ge(0,e.defaultMember(),e.defaultMember(),0));continue}if(f=r(t.$c0.$type,h),f!=null){(function(){var n=w.h.tryGetValue(f.hierarchyUniqueName(),o);return o=n.p1,n.ret})()||(o=new t.ga,u.addElement(o),this.h.add(f.hierarchyUniqueName(),o)),o.addElement(new t.gh(f.uniqueName(),f.uniqueName(),f.depth()));continue}if(l=r(t.$fk.$type,h),l!=null){for(a=new t.ga,v=l.measures().getEnumerator();v.moveNext();)y=v.current(),a.addElement(new t.ge(0,y.uniqueName(),y.uniqueName(),0));u.addElement(a)}}},o:function(n,i,r,u,f,e,o){var s=r.clone();s.addElement(new t.ge(0,i.key(),i.key(),i.positionItemDepth())),this.u(i),i.count()==0?f?e&&(u.add(s),this.n(this.sourceAxis(),i.positionItemIndex()+1,s)):(u.add(s),this.n(this.sourceAxis(),i.positionItemIndex()+1,s)):this.p(i,s,u,f,e,o),o&&i.isExpanded()&&this.m(i,u,n,r)},m:function(i,r,u,f){var c=t.$ci.z(t.$dm.$type.specialize(String,n.ig.$op.$type),t.$ci.u(t.$dm.$type.specialize(String,n.ig.$op.$type),u.values(),function(n){return n.parentKey()==i.key()})),o,s,e,h;for(c.count()>0&&(o=f.clone(),o.addElement(new t.gi(i.key(),i.key(),i.positionItemDepth(),null,null)),this.u(i),i.count()==0?(r.add(o),this.n(this.sourceAxis(),i.positionItemIndex()+1,o)):this.p(i,o,r,!0,!0,!1)),s=c.getEnumerator();s.moveNext();)e=s.current(),h=f.clone(),h.addElement(new t.ge(0,e.key(),e.key(),e.positionItemDepth())),this.u(e),e.isExpanded()&&this.m(e,r,u,f),this.p(e,h,r,!0,!1,!0)},p:function(i,r,u,f,e,o){var h=t.$ci.z(t.$dm.$type.specialize(String,n.ig.$op.$type),t.$ci.u(t.$dm.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.positionItemDepth()==i.positionItemDepthMin()})),s,c;if(h.count()!=0)for(s=h.getEnumerator();s.moveNext();)c=s.current(),this.o(i,c,r,u,f,e,o)},$type:new n.ig.Type("MdxDimensionAxisProvider",n.ig.$ot,[t.$f3.$type])},!0),i("MdxSlicerAxisProvider:gk","Object",{c:null,e:null,d:null,init:function(i,r,u,f,e){this.c=new t.b4(t.$fj.$type,0),this.e=new t.b4(t.$fj.$type,0),this.d=new t.b4(t.$fj.$type,0),n.ig.$op.init.call(this),this.dataSource(i),this.mdxSettings(e),this.c=r,this.e=u,this.d=f},_dataSource:null,dataSource:function(n){return arguments.length===1?(this._dataSource=n,n):this._dataSource},_mdxSettings:null,mdxSettings:function(n){return arguments.length===1?(this._mdxSettings=n,n):this._mdxSettings},createAxis:function(n){var i=new t.gl(this.mdxSettings()._c);return i.axisIndex(n),i.columnsFilter(t.$gq.a(this.c,i)),i.rowsFilter(t.$gq.a(this.e,i)),i.filtersFilter(t.$gq.a(this.d,i)),i.measureFilter(t.$gq.b(this.dataSource().measures(),i)),i},$type:new n.ig.Type("MdxSlicerAxisProvider",n.ig.$ot,[t.$f4.$type])},!0),i("MdxSlicerAxisBuilder:gq","Object",{init:function(){n.ig.$op.init.call(this)},b:function(n,i){var u,s,f;if(t.$ci.aj(t.$c2.$type,n)==0)return null;for(var r=new t.gr,e=new t.ga,o=n.getEnumerator();o.moveNext();)u=o.current(),s=new t.ge(0,u.uniqueName(),u.uniqueName(),0),e.addElement(s);return f=new t.gs,f.addElement(r),i.addSet(f),r.addFilterPart(e,!0),r},a:function(n,i){for(var r=new t.gr,u,f,o,e=0;e<n.count();e++){for(var l=n.item(e),s=new t.ga,h=new t.bc(String,t.$ge.$type,0),c=l._a.getEnumerator();c.moveNext();)u=c.current(),function(){var n=h.tryGetValue(u,f);return f=n.p1,n.ret}()||(f=new t.ge(0,u,u,-1),h.add(u,f)),s.addElement(f);r.addFilterPart(s,!1)}return r.filterCollection().count()==0&&r.singleFilterElements().count()==0?null:(o=new t.gs,o.addElement(r),i.addSet(o),r)},$type:new n.ig.Type("MdxSlicerAxisBuilder",n.ig.$ot)},!0),i("IXmlaDataProviderFactory:it","Object",{$type:new n.ig.Type("IXmlaDataProviderFactory",null,[t.$e8.$type])},!0),i("DefaultXmlaDataProviderFactory:is","Object",{b:null,a:null,init:function(t,i){n.ig.$op.init.call(this),this.b=t,this.a=i},createDataProvider:function(){return new t.ix(new t.iu(new t.hy(0,this.b),this.a),null)},$type:new n.ig.Type("DefaultXmlaDataProviderFactory",n.ig.$ot,[t.$it.$type])},!0),i("RemoteXmlaDataProviderFactory:jf","Object",{a:null,b:null,d:null,c:null,init:function(i){if(i>0){switch(i){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}return}n.ig.$op.init.call(this),this.a=new t.bu,this.b=new t.b1},init1:function(i,r,u){n.ig.$op.init.call(this),this.a=new t.bu,this.b=new t.b1,this.d=r,this.c=u},init2:function(t,i,r){n.ig.$op.init.call(this),this.a=i,this.b=r},createDataProvider:function(){return new t.jg(this.d,this.c,this.a,this.b)},$type:new n.ig.Type("RemoteXmlaDataProviderFactory",n.ig.$ot,[t.$it.$type])},!0),i("IXmlaDataProvider:iy","Object",{$type:new n.ig.Type("IXmlaDataProvider",null,[t.$e9.$type,t.$gv.$type])},!0),i("RemoteXmlaDataProvder:jg","Object",{e:null,d:null,a:null,b:null,init:function(t,i,r,u){n.ig.$op.init.call(this),this.e=t,this.d=i,this.a=r,this.b=u},discoverCatalogsAsync:function(n,i){var r=this.b;return this.f(0,n,i,null,null).j(t.$a7.$type.specialize(t.$co.$type),function(n){return r.deserializeResponse(n.m(),0)})},discoverCubesAsync:function(n,i){var r=this.b;return this.f(1,n,i,null,null).j(t.$a7.$type.specialize(t.$cr.$type),function(n){return r.deserializeResponse(n.m(),1)})},discoverDimensionsAsync:function(n,i){var r=this.b;return this.f(2,n,i,null,null).j(t.$a7.$type.specialize(t.$cu.$type),function(n){return r.deserializeResponse(n.m(),2)})},discoverHierarchiesAsync:function(n,i){var r=this.b;return this.f(3,n,i,null,null).j(t.$a7.$type.specialize(t.$cx.$type),function(n){return r.deserializeResponse(n.m(),3)})},discoverLevelsAsync:function(n,i){var r=this.b;return this.f(4,n,i,null,null).j(t.$a7.$type.specialize(t.$c0.$type),function(n){return r.deserializeResponse(n.m(),4)})},discoverMeasuresAsync:function(n,i){var r=this.b;return this.f(5,n,i,null,null).j(t.$a7.$type.specialize(t.$c2.$type),function(n){return r.deserializeResponse(n.m(),5)})},discoverMeasureGroupsAsync:function(n,i){var r=this.b;return this.f(6,n,i,null,null).j(t.$a7.$type.specialize(t.$c5.$type),function(n){return r.deserializeResponse(n.m(),6)})},discoverMeasureGroupDimensionsAsync:function(n,i){var r=this.b;return this.f(7,n,i,null,null).j(t.$a7.$type.specialize(t.$c7.$type),function(n){return r.deserializeResponse(n.m(),7)})},discoverMembersAsync:function(n,i){var r=this.b;return this.f(8,n,i,null,null).j(t.$a7.$type.specialize(t.$da.$type),function(n){return r.deserializeResponse(n.m(),8)})},discoverKpisAsync:function(n,i){var r=this.b;return this.f(9,n,i,null,null).j(t.$a7.$type.specialize(t.$de.$type),function(n){return r.deserializeResponse(n.m(),9)})},executeStatementAsync:function(n,i,r){var u=this.b;return this.f(10,i,null,r,n).j(t.$dh.$type,function(n){return u.deserializeResponse(n.m(),10)})},f:function(i,r,u,f,e){var o=this,s=function(){var n=new t.h6;return n._a=o.d,n}(),c=this.a.serializeRequest(function(){var n=new t.ba;return n._a=i,n._c=o.c(r),n._d=o.c(u),n._b=o.c(f),n._e=e,n}()),h=new t.el(String,0);return s.uploadStringCompleted=n.ig.Delegate.prototype.combine(s.uploadStringCompleted,this.g.runOn(this)),s.k(new t.hy(0,this.e),"POST",c,h),h._b},g:function(n,t){var i=t.userState();t.cancelled()?i.c():t.error()!=null?i.d(t.error()):i.e(t.result())},c:function(n){var i,r,u;if(n==null)return null;for(i=new t.bc(String,String,0),r=n.getEnumerator();r.moveNext();)u=r.current(),i.add(u._a,u._b);return i},$type:new n.ig.Type("RemoteXmlaDataProvder",n.ig.$ot,[t.$iy.$type])},!0),i("ICoreXmlaConnection:iv","Object",{$type:new n.ig.Type("ICoreXmlaConnection",null,[t.$iw.$type])},!0),i("XmlaConnection:iu","Object",{b:null,a:null,init:function(t,i){n.ig.$op.init.call(this),this.b=t,this.a=i},getXmlaSoapWebClient$1:function(n){var i=new t.hv(n,this.b,t.$h0.uTF8());return i._e=this.a,i},$type:new n.ig.Type("XmlaConnection",n.ig.$ot,[t.$iv.$type])},!0),i("XmlaDataSourceImpl:jh","MdxDataSourceImpl",{init:function(n){t.$d4.init.call(this,n),this.xmlaSourceOptions(n)},_xmlaSourceOptions:null,xmlaSourceOptions:function(n){return arguments.length===1?(this._xmlaSourceOptions=n,n):this._xmlaSourceOptions},am:function(n){var i=this,e=this.dataProviderFactory().createDataProvider(),u=this.getProviderDefaultRestrictions(),r,f;return this.bn(u,"CATALOG_NAME",n),r=this.getProviderDefaultProperties(),this.bn(r,"Catalog",n),f=e.discoverCubesAsync(r,u).j(t.$b3.$type.specialize(t.$cr.$type),function(n){return i.cubes(i.a3(t.$cr.$type,n.m())),i.cubes()})},ao:function(){var n=this,u=this.catalog().name(),e=this.cube().name(),o=this.dataProviderFactory().createDataProvider(),i=this.getProviderDefaultRestrictions(),r,f;return this.bn(i,"CATALOG_NAME",u),this.bn(i,"CUBE_NAME",e),r=this.getProviderDefaultProperties(),this.bn(r,"Catalog",u),f=o.discoverMeasureGroupsAsync(r,i).j(t.$b3.$type.specialize(t.$c5.$type),function(i){return n.measureGroups(n.a3(t.$c5.$type,i.m())),n.measureGroups()})},h:function(){return new t.is(this.xmlaSourceOptions().serverUrl(),this.xmlaSourceOptions().requestOptions())},getProviderDefaultProperties:function(){var n=new t.b4(t.$fa.$type,0),i,r,u;if(this.mdxSourceOptions().discoverProperties()!=null)for(i=this.mdxSourceOptions().discoverProperties().getEnumerator();i.moveNext();)r=i.current(),u=new t.hn(1,r.key(),r.value()),n.add(function(){var n=new t.fa;return n._a=u._a,n._b=u._c,n}());return this.catalog()!=null&&this.bn(n,"Catalog",this.catalog().name()),n},$type:new n.ig.Type("XmlaDataSourceImpl",t.$d4.$type)},!0),i("XmlaDiscoverProperties:jk","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("XmlaDiscoverProperties",n.ig.$ot)},!0),i("XmlaDataSourceOptions:ji","MdxDataSourceOptions",{init:function(){t.$fs.init.call(this)},_serverUrl:null,serverUrl:function(n){return arguments.length===1?(this._serverUrl=n,n):this._serverUrl},_requestOptions:null,requestOptions:function(n){return arguments.length===1?(this._requestOptions=n,n):this._requestOptions},$type:new n.ig.Type("XmlaDataSourceOptions",t.$fs.$type)},!0),i("RequestOptions:jj","NetworkCredential",{init:function(n,i,r){if(n>0){switch(n){case 1:this.init1.apply(this,arguments)}return}t.$jj.init1.call(this,1,i,r,String.empty())},init1:function(n,i,r,u){t.$hx.init1.call(this,1,i,r,u)},$type:new n.ig.Type("RequestOptions",t.$hx.$type)},!0),i("XmlaSampleClass:jl","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("XmlaSampleClass",n.ig.$ot)},!0),i("CustomRemoteXmlaRequestSerializer:jm","Object",{a:null,init:function(t){n.ig.$op.init.call(this),this.a=t},serializeRequest:function(n){return this.a(n)},deserializeRequest:function(){throw new t.y(0);},$type:new n.ig.Type("CustomRemoteXmlaRequestSerializer",n.ig.$ot,[t.$a.$type])},!0),i("CustomRemoteXmlaResponseSerializer:jn","Object",{a:null,init:function(t){n.ig.$op.init.call(this),this.a=t},serializeResponse:function(){throw new t.y(0);},deserializeResponse:function(n,t){return this.a(n,t)},$type:new n.ig.Type("CustomRemoteXmlaResponseSerializer",n.ig.$ot,[t.$bt.$type])},!0),i("OlapXmlaDataSource:jo","DataSourceBase",{staticInit:function(){t.$jo.a5()},init:function(n){var o,l,a,v;t.$jp.init.call(this);var r=t.$b0.getJavascriptObjectProperty(n,"serverUrl"),y=t.$b0.getJavascriptObjectProperty(n,"catalog"),p=t.$b0.getJavascriptObjectProperty(n,"cube"),w=t.$b0.getJavascriptObjectProperty(n,"measures"),b=t.$b0.getJavascriptObjectProperty(n,"measureGroup"),k=t.$b0.getJavascriptObjectProperty(n,"filters"),d=t.$b0.getJavascriptObjectProperty(n,"columns"),g=t.$b0.getJavascriptObjectProperty(n,"rows"),i=t.$b0.getJavascriptObjectProperty(n,"requestOptions"),u=t.$b0.getJavascriptObjectProperty(n,"enableResultCache"),f=!0;u!=null&&(f=u);var nt=t.$b0.convertToStringDictionary(t.$b0.getJavascriptObjectProperty(n,"discoverProperties")),tt=t.$b0.convertToStringDictionary(t.$b0.getJavascriptObjectProperty(n,"executeProperties")),e=t.$b0.getJavascriptObjectProperty(n,"isRemote");e&&(i==null&&(i={}),o=i,o.isCrossDomain=!1);var s=t.$b0.getJavascriptObjectProperty(n,"serializeRequest"),h=t.$b0.getJavascriptObjectProperty(n,"deserializeResponse"),it=this.a0(n),c=function(){var n=new t.ji;return n.serverUrl(r),n.requestOptions(i),n.catalog(y),n.cube(p),n.measures(w),n.measureGroup(b),n.filters(k),n.columns(d),n.rows(g),n.discoverProperties(nt),n.executeProperties(tt),n.enableResultCache(f),n.mdxSettings(it),n}();e&&(l=null,a=null,s!=null&&(l=new t.jm(s)),h!=null&&(a=new t.jn(h)),v=new t.jf(1,r,i),c.dataProviderFactory(v)),this.dataSource(new t.jh(c))},catalogs:function(){return this.dataSource().catalogs().inner()},catalog:function(){return this.dataSource().catalog()},setCatalog:function(n){return this.dataSource().setCatalog(n).j(Array,function(n){return n.m().inner()})._c},measureGroups:function(){return this.dataSource().measureGroups().inner()},measureGroup:function(){return this.dataSource().measureGroup()},setMeasureGroup:function(n){return this.dataSource().setMeasureGroup(n).j(t.$d7.$type,function(n){return n.m()})._c},a0:function(n){var i=new t.ft,r=t.$b0.getJavascriptObjectProperty(n,"mdxSettings"),s,h,c,l,u,f,e,o;if(r==null)return i;if(s=t.$b0.getJavascriptObjectProperty(r,"nonEmptyOnRows"),s!=null&&i.y(s),h=t.$b0.getJavascriptObjectProperty(r,"nonEmptyOnColumns"),h!=null&&i.x(h),c=t.$b0.getJavascriptObjectProperty(r,"addCalculatedMembersOnRows"),c!=null&&i.q(c),l=t.$b0.getJavascriptObjectProperty(r,"addCalculatedMembersOnColumns"),l!=null&&i.p(l),u=t.$b0.getJavascriptObjectProperty(r,"dimensionPropertiesOnRows"),u!=null)for(f=0;f<u.count();f++)i._ac.add(u.item(f));if(e=t.$b0.getJavascriptObjectProperty(r,"dimensionPropertiesOnColumns"),e!=null)for(o=0;o<e.count();o++)i._ab.add(e.item(o));return i},a5:function(){n.ig.XObject.prototype.toString=function(){return this.backingNode()!=null?n.ig.XmlUtils.prototype.xmlNodeToString(this.backingNode()):""}},$type:new n.ig.Type("OlapXmlaDataSource",t.$jp.$type)},!0),i("XmlaDataProvider:ix","Object",{a:null,b:null,init:function(t,i){n.ig.$op.init.call(this),this.a=t,this.b=i},discoverCatalogsAsync:function(n,i){return this.c(t.$co.$type,new t.iz,"DBSCHEMA_CATALOGS",n,i)},discoverCubesAsync:function(n,i){return this.c(t.$cr.$type,new t.i0,"MDSCHEMA_CUBES",n,i)},discoverDimensionsAsync:function(n,i){return this.c(t.$cu.$type,new t.i1,"MDSCHEMA_DIMENSIONS",n,i)},discoverHierarchiesAsync:function(n,i){return this.c(t.$cx.$type,new t.i2,"MDSCHEMA_HIERARCHIES",n,i)},discoverLevelsAsync:function(n,i){return this.c(t.$c0.$type,new t.i3,"MDSCHEMA_LEVELS",n,i)},discoverMeasuresAsync:function(n,i){return this.c(t.$c2.$type,new t.i4,"MDSCHEMA_MEASURES",n,i)},discoverMeasureGroupsAsync:function(n,i){return this.c(t.$c5.$type,new t.i5,"MDSCHEMA_MEASUREGROUPS",n,i)},discoverMeasureGroupDimensionsAsync:function(n,i){return this.c(t.$c7.$type,new t.i6,"MDSCHEMA_MEASUREGROUP_DIMENSIONS",n,i)},discoverMembersAsync:function(n,i){return this.c(t.$da.$type,new t.i7,"MDSCHEMA_MEMBERS",n,i)},discoverKpisAsync:function(n,i){return this.c(t.$de.$type,new t.i8,"MDSCHEMA_KPIS",n,i)},executeStatementAsync:function(i,r,u){var s=this,o=new t.el(t.$dh.$type,0),f=this.a.getXmlaSoapWebClient$1(t.$hj.$type),h=new t.i9,e;return f.requestCompleted=n.ig.Delegate.prototype.combine(f.requestCompleted,function(n,i){s.e(t.$dh.$type,h,i,o)}),e=new t.ht(i),this.g(e,r,u),f.j(e),o._b},c:function(i,r,u,f,e){var c=this,h=new t.el(t.$a7.$type.specialize(i),0),o=this.a.getXmlaSoapWebClient$1(t.$gw.$type),s;return o.requestCompleted=n.ig.Delegate.prototype.combine(o.requestCompleted,function(n,t){c.d(i,r,t,h)}),s=new t.hs(u),this.f(s,f,e),o.j(s),h._b},f:function(n,i,r){var u,f,e,o;if(r!=null)for(u=r.getEnumerator();u.moveNext();)f=u.current(),n.restrictions().add(f._a,f._b);if(i!=null)for(e=i.getEnumerator();e.moveNext();)o=e.current(),n.properties().add$1(new t.hn(1,o._a,o._b));this.b!=null&&this.b(n)},g:function(n,i,r){var u,o,f,e;if(r!=null)for(u=r.getEnumerator();u.moveNext();)o=u.current();if(i!=null)for(f=i.getEnumerator();f.moveNext();)e=f.current(),n.properties().add$1(new t.hn(1,e._a,e._b));this.b!=null&&this.b(n)},d:function(n,i,r,u){var f,e,o;r.error()!=null?u.d(r.error()):r.cancelled()?u.c():(f=r.result(),f!=null&&(e=new t.ja,o=e.a(n,r.result().returnElement(),t.$hc.get("row",t.$ho.e),i),u.e(o)))},e:function(n,t,i,r){var u,f;i.error()!=null?r.d(i.error()):i.cancelled()?r.c():(u=i.result(),u!=null&&(f=t.deserialize(i.result().returnElement()),r.e(f)))},$type:new n.ig.Type("XmlaDataProvider",n.ig.$ot,[t.$iy.$type])},!0),i("ArraySerializer:ja","Object",{init:function(){n.ig.$op.init.call(this)},a:function(n,i,r,u){for(var f=new t.b4(n,0),e=i.elements1(r).getEnumerator(),o;e.moveNext();)o=e.current(),f.add(u.deserialize(o));return f},$type:new n.ig.Type("ArraySerializer",n.ig.$ot)},!0),i("IXmlTypeSerializer$1:ie","Object",{$type:new n.ig.Type("IXmlTypeSerializer$1",null)},!0),i("AxisXmlTypeSerializer:jb","Object",{init:function(){(n.ig.$op.init.call(this),t.$jb.a==null)&&(t.$jb.a=new t.bc(String,t.$hc.$type,0),t.$jb.a.item("0",t.$hc.get("Tuple",t.$ho.d)),t.$jb.a.item("1",t.$hc.get("Tuples",t.$ho.d)))},deserialize:function(n){if(n.nodeType()!=1)return null;var r=n,f=t.$ih.e(r.attribute(t.$hc.get("name",""))),e=r.element(t.$jb.a.item("1")),o=new t.ja,i=o.a(t.$dv.$type,e,t.$jb.a.item("0"),new t.jc),u=0;return i.count()>0&&(u=i.__inner[0].members().count()),function(){var n=new t.di(i,u);return n.name(f),n}()},$type:new n.ig.Type("AxisXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$di.$type)])},!0),i("TupleXmlTypeSerializer:jc","Object",{init:function(){(n.ig.$op.init.call(this),t.$jc.a==null)&&(t.$jc.a=new t.bc(String,t.$hc.$type,0),t.$jc.a.item("0",t.$hc.get("Member",t.$ho.d)))},deserialize:function(n){var f;if(n.nodeType()!=1)return null;for(var e=n,o=new t.ja,i=o.a(t.$dw.$type,e,t.$jc.a.item("0"),new t.jd),r=new t.dv(i),u=i.getEnumerator();u.moveNext();)f=u.current(),f.position(r);return r},$type:new n.ig.Type("TupleXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$dv.$type)])},!0),i("AxisMemberXmlTypeSerializer:jd","Object",{init:function(){(n.ig.$op.init.call(this),t.$jd.a==null)&&(t.$jd.a=new t.bc(String,t.$hc.$type,0),t.$jd.a.item("0",t.$hc.get("UName",t.$ho.d)),t.$jd.a.item("1",t.$hc.get("LName",t.$ho.d)),t.$jd.a.item("2",t.$hc.get("Caption",t.$ho.d)),t.$jd.a.item("3",t.$hc.get("LNum",t.$ho.d)),t.$jd.a.item("4",t.$hc.get("DisplayInfo",t.$ho.d)))},deserialize:function(n){var r;if(n.nodeType()!=1)return null;for(var i=n,o=t.$ih.f(i.element(t.$jd.a.item("0"))),h=t.$ih.f(i.element(t.$jd.a.item("1"))),c=t.$ih.f(i.element(t.$jd.a.item("2"))),l=t.$ih.f(i.element(t.$jd.a.item("3"))),u=t.$ih.f(i.element(t.$jd.a.item("4"))),a=i.attribute(t.$hc.get("Hierarchy","")).value(),f=function(){var n=new t.dw;return n.hierarchyUniqueName(a),n.levelUniqueName(h),n.levelNumber(t.$r.parseInt(l)),n.uniqueName(o),n.caption(c),n.displayInfo(String.isNullOrEmpty(u)?0:s(t.$r.parseInt(u))),n}(),e=i.elements().getEnumerator();e.moveNext();){r=e.current();switch(r.name().localName()){case"UName":case"LName":case"Caption":case"LNum":case"DisplayInfo":continue;default:f.properties().add(r.name().localName(),r.value())}}return f},$type:new n.ig.Type("AxisMemberXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$dw.$type)])},!0),i("CellXmlTypeSerializer:je","Object",{init:function(){n.ig.$op.init.call(this)},deserialize:function(n){var i;if(n.nodeType()!=1)return null;for(var r=n,e=r.attribute(t.$hc.get("CellOrdinal","")).value(),u=function(){var n=new t.dz;return n.cellOrdinal(t.$r.parseInt(e)),n}(),f=r.elements().getEnumerator();f.moveNext();)i=f.current(),u.properties().add(i.name().localName(),i.value());return u},$type:new n.ig.Type("CellXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$dz.$type)])},!0),i("CubeXmlTypeSerializer:i0","Object",{init:function(){n.ig.$op.init.call(this)},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,u=t.$ih.f(i.element(t.$hc.get("CUBE_NAME",t.$ho.e))),f=t.$ih.f(i.element(t.$hc.get("CUBE_CAPTION",t.$ho.e))),e=t.$ih.f(i.element(t.$hc.get("DESCRIPTION",t.$ho.e))),r,o=t.$ih.f(i.element(t.$hc.get("CUBE_TYPE",t.$ho.e)));switch(o){case"CUBE":r=0;break;case"DIMENSION":r=1;break;default:r=2}var s=t.$ih.f(i.element(t.$hc.get("CATALOG_NAME",t.$ho.e))),h=t.$ih.b(i.element(t.$hc.get("LAST_DATA_UPDATE",t.$ho.e))),c=t.$ih.b(i.element(t.$hc.get("LAST_SCHEMA_UPDATE",t.$ho.e)));return function(){var n=new t.cr;return n.name(u),n.caption(f),n.description(e),n.cubeType(r),n.catalogName(s),n.lastProcessed(h),n.lastUpdated(c),n}()},$type:new n.ig.Type("CubeXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$cr.$type)])},!0),i("DatabaseXmlTypeSerializer:iz","Object",{init:function(){n.ig.$op.init.call(this)},deserialize:function(n){if(n.nodeType()!=1)return null;var r=n,i=t.$ih.f(r.element(t.$hc.get("CATALOG_NAME",t.$ho.e))),u=t.$ih.f(r.element(t.$hc.get("DESCRIPTION",t.$ho.e)));return function(){var n=new t.co;return n.name(i),n.caption(i),n.uniqueName(i),n.description(u),n}()},$type:new n.ig.Type("DatabaseXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$co.$type)])},!0),i("DimensionXmlTypeSerializer:i1","Object",{init:function(){(n.ig.$op.init.call(this),t.$i1.a==null)&&(t.$i1.a=new t.bc(String,t.$hc.$type,0),t.$i1.a.item("DIMENSION_NAME",t.$hc.get("DIMENSION_NAME",t.$ho.e)),t.$i1.a.item("DIMENSION_UNIQUE_NAME",t.$hc.get("DIMENSION_UNIQUE_NAME",t.$ho.e)),t.$i1.a.item("DIMENSION_CAPTION",t.$hc.get("DIMENSION_CAPTION",t.$ho.e)),t.$i1.a.item("DESCRIPTION",t.$hc.get("DESCRIPTION",t.$ho.e)),t.$i1.a.item("DIMENSION_TYPE",t.$hc.get("DIMENSION_TYPE",t.$ho.e)),t.$i1.a.item("DEFAULT_HIERARCHY",t.$hc.get("DEFAULT_HIERARCHY",t.$ho.e)))},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,r=t.$ih.f(i.element(t.$i1.a.item("DIMENSION_NAME"))),u=t.$ih.f(i.element(t.$i1.a.item("DIMENSION_UNIQUE_NAME"))),f=t.$ih.f(i.element(t.$i1.a.item("DIMENSION_CAPTION"))),e=t.$ih.f(i.element(t.$i1.a.item("DESCRIPTION"))),o=t.$ih.f(i.element(t.$i1.a.item("DIMENSION_TYPE"))),s=t.$r.parseInt(o),h=t.$ih.f(i.element(t.$i1.a.item("DEFAULT_HIERARCHY")));return function(){var n=new t.cu;return n.name(r),n.uniqueName(u),n.caption(f),n.description(e),n.dimensionType(s),n.defaultHierarchy(h),n}()},$type:new n.ig.Type("DimensionXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$cu.$type)])},!0),i("ErrorXmlTypeSerializer:ig","Object",{init:function(){n.ig.$op.init.call(this)},deserialize:function(n){var i=new t.hh,r=n;return i.errorCode(t.$ih.e(r.attribute(t.$hc.get("ErrorCode","")))),i.description(t.$ih.e(r.attribute(t.$hc.get("Description","")))),i.source(t.$ih.e(r.attribute(t.$hc.get("Source","")))),i.helpFile(t.$ih.e(r.attribute(t.$hc.get("HelpFile","")))),i.severity(t.$ih.e(r.attribute(t.$hc.get("Severity","")))),i},$type:new n.ig.Type("ErrorXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$hh.$type)])},!0),i("HierarchyXmlTypeSerializer:i2","Object",{init:function(){(n.ig.$op.init.call(this),t.$i2.a==null)&&(t.$i2.a=new t.bc(String,t.$hc.$type,0),t.$i2.a.item("HIERARCHY_NAME",t.$hc.get("HIERARCHY_NAME",t.$ho.e)),t.$i2.a.item("HIERARCHY_UNIQUE_NAME",t.$hc.get("HIERARCHY_UNIQUE_NAME",t.$ho.e)),t.$i2.a.item("HIERARCHY_CAPTION",t.$hc.get("HIERARCHY_CAPTION",t.$ho.e)),t.$i2.a.item("DESCRIPTION",t.$hc.get("DESCRIPTION",t.$ho.e)),t.$i2.a.item("DEFAULT_MEMBER",t.$hc.get("DEFAULT_MEMBER",t.$ho.e)),t.$i2.a.item("ALL_MEMBER",t.$hc.get("ALL_MEMBER",t.$ho.e)),t.$i2.a.item("DIMENSION_UNIQUE_NAME",t.$hc.get("DIMENSION_UNIQUE_NAME",t.$ho.e)),t.$i2.a.item("HIERARCHY_DISPLAY_FOLDER",t.$hc.get("HIERARCHY_DISPLAY_FOLDER",t.$ho.e)),t.$i2.a.item("HIERARCHY_ORIGIN",t.$hc.get("HIERARCHY_ORIGIN",t.$ho.e)))},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,u=t.$ih.f(i.element(t.$i2.a.item("HIERARCHY_NAME"))),f=t.$ih.f(i.element(t.$i2.a.item("HIERARCHY_UNIQUE_NAME"))),e=t.$ih.f(i.element(t.$i2.a.item("HIERARCHY_CAPTION"))),o=t.$ih.f(i.element(t.$i2.a.item("DESCRIPTION"))),s=t.$ih.f(i.element(t.$i2.a.item("DEFAULT_MEMBER"))),h=t.$ih.f(i.element(t.$i2.a.item("ALL_MEMBER"))),c=t.$ih.f(i.element(t.$i2.a.item("DIMENSION_UNIQUE_NAME"))),l=t.$ih.f(i.element(t.$i2.a.item("HIERARCHY_DISPLAY_FOLDER"))),r=t.$ih.f(i.element(t.$i2.a.item("HIERARCHY_ORIGIN"))),a=r==null?1:t.$r.parseInt(r);return function(){var n=new t.cx;return n.name(u),n.uniqueName(f),n.caption(e),n.description(o),n.defaultMember(s),n.allMember(h),n.dimensionUniqueName(c),n.hierarchyDisplayFolder(l),n.hierarchyOrigin(a),n}()},$type:new n.ig.Type("HierarchyXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$cx.$type)])},!0),i("KpiXmlTypeSerializer:i8","Object",{init:function(){n.ig.$op.init.call(this)},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,r=t.$ih.f(i.element(t.$hc.get("KPI_NAME",t.$ho.e))),u=r,f=t.$ih.f(i.element(t.$hc.get("KPI_CAPTION",t.$ho.e))),e=t.$ih.f(i.element(t.$hc.get("KPI_DESCRIPTION",t.$ho.e))),o=t.$ih.f(i.element(t.$hc.get("MEASUREGROUP_NAME",t.$ho.e))),s=t.$ih.f(i.element(t.$hc.get("KPI_DISPLAY_FOLDER",t.$ho.e))),h=t.$ih.f(i.element(t.$hc.get("KPI_VALUE",t.$ho.e))),c=t.$ih.f(i.element(t.$hc.get("KPI_GOAL",t.$ho.e))),l=t.$ih.f(i.element(t.$hc.get("KPI_STATUS",t.$ho.e))),a=t.$ih.f(i.element(t.$hc.get("KPI_TREND",t.$ho.e))),v=t.$ih.f(i.element(t.$hc.get("KPI_WEIGHT",t.$ho.e))),y=t.$ih.f(i.element(t.$hc.get("KPI_STATUS_GRAPHIC",t.$ho.e))),p=t.$ih.f(i.element(t.$hc.get("KPI_TREND_GRAPHIC",t.$ho.e))),w=t.$ih.f(i.element(t.$hc.get("KPI_PARENT_KPI_NAME",t.$ho.e))),b=t.$ih.f(i.element(t.$hc.get("KPI_CURRENT_TIME_MEMBER",t.$ho.e)));return function(){var n=new t.de;return n.name(r),n.uniqueName(u),n.caption(f),n.description(e),n.measureGroupName(o),n.kpiDisplayFolder(s),n.kpiValue(h),n.kpiGoal(c),n.kpiStatus(l),n.kpiTrend(a),n.kpiStatusGraphic(y),n.kpiTrendGraphic(p),n.kpiWeight(v),n.parentKpiName(w),n.currentTimeMember(b),n}()},$type:new n.ig.Type("KpiXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$de.$type)])},!0),i("LevelXmlTypeSerializer:i3","Object",{init:function(){n.ig.$op.init.call(this)},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,u=t.$ih.f(i.element(t.$hc.get("LEVEL_NAME",t.$ho.e))),f=t.$ih.f(i.element(t.$hc.get("LEVEL_UNIQUE_NAME",t.$ho.e))),e=t.$ih.f(i.element(t.$hc.get("LEVEL_CAPTION",t.$ho.e))),o=t.$ih.f(i.element(t.$hc.get("DESCRIPTION",t.$ho.e))),s=t.$ih.f(i.element(t.$hc.get("DIMENSION_UNIQUE_NAME",t.$ho.e))),h=t.$ih.f(i.element(t.$hc.get("HIERARCHY_UNIQUE_NAME",t.$ho.e))),c=t.$ih.f(i.element(t.$hc.get("LEVEL_NUMBER",t.$ho.e))),l=t.$ih.f(i.element(t.$hc.get("LEVEL_CARDINALITY",t.$ho.e))),r=t.$ih.f(i.element(t.$hc.get("LEVEL_ORIGIN",t.$ho.e))),a=t.$ih.f(i.element(t.$hc.get("LEVEL_ORDERING_PROPERTY",t.$ho.e)));return function(){var n=new t.c0;return n.name(u),n.uniqueName(f),n.caption(e),n.description(o),n.dimensionUniqueName(s),n.hierarchyUniqueName(h),n.depth(t.$r.parseInt(c)),n.membersCount(t.$r.parseInt(l)),n.levelOrigin(String.isNullOrEmpty(r)?0:t.$r.parseInt(r)),n.levelOrderingProperty(a),n}()},$type:new n.ig.Type("LevelXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$c0.$type)])},!0),i("MeasureGroupDimensionXmlTypeSerializer:i6","Object",{init:function(){(n.ig.$op.init.call(this),t.$i6.a==null)&&(t.$i6.a=new t.bc(String,t.$hc.$type,0),t.$i6.a.item("CATALOG_NAME",t.$hc.get("CATALOG_NAME",t.$ho.e)),t.$i6.a.item("CUBE_NAME",t.$hc.get("CUBE_NAME",t.$ho.e)),t.$i6.a.item("MEASUREGROUP_NAME",t.$hc.get("MEASUREGROUP_NAME",t.$ho.e)),t.$i6.a.item("DIMENSION_UNIQUE_NAME",t.$hc.get("DIMENSION_UNIQUE_NAME",t.$ho.e)),t.$i6.a.item("MEASUREGROUP_CARDINALITY",t.$hc.get("MEASUREGROUP_CARDINALITY",t.$ho.e)),t.$i6.a.item("DIMENSION_CARDINALITY",t.$hc.get("DIMENSION_CARDINALITY",t.$ho.e)),t.$i6.a.item("DIMENSION_IS_VISIBLE",t.$hc.get("DIMENSION_IS_VISIBLE",t.$ho.e)),t.$i6.a.item("DIMENSION_IS_FACT_DIMENSION",t.$hc.get("DIMENSION_IS_FACT_DIMENSION",t.$ho.e)),t.$i6.a.item("DIMENSION_PATH",t.$hc.get("DIMENSION_PATH",t.$ho.e)),t.$i6.a.item("DIMENSION_GRANULARITY",t.$hc.get("DIMENSION_GRANULARITY",t.$ho.e)))},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,r=t.$ih.f(i.element(t.$i6.a.item("CATALOG_NAME"))),u=t.$ih.f(i.element(t.$i6.a.item("CUBE_NAME"))),f=t.$ih.f(i.element(t.$i6.a.item("MEASUREGROUP_NAME"))),e=t.$ih.f(i.element(t.$i6.a.item("DIMENSION_UNIQUE_NAME"))),o=t.$ih.f(i.element(t.$i6.a.item("MEASUREGROUP_CARDINALITY"))),s=o=="ONE"?0:1,h=t.$ih.f(i.element(t.$i6.a.item("DIMENSION_CARDINALITY"))),c=h=="ONE"?0:1,l=t.$ih.a(i.element(t.$i6.a.item("DIMENSION_IS_VISIBLE"))),a=t.$ih.a(i.element(t.$i6.a.item("DIMENSION_IS_FACT_DIMENSION"))),v=t.$ih.f(i.element(t.$i6.a.item("DIMENSION_PATH"))),y=t.$ih.f(i.element(t.$i6.a.item("DIMENSION_GRANULARITY")));return function(){var n=new t.c7;return n.catalogName(r),n.cubeName(u),n.measureGroupName(f),n.dimensionUniqueName(e),n.measureGroupCardinality(s),n.dimensionCardinality(c),n.isDimensionVisible(l),n.isFactDimension(a),n.dimensionPath(v),n.dimensionGranularity(y),n}()},$type:new n.ig.Type("MeasureGroupDimensionXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$c7.$type)])},!0),i("MeasureGroupXmlTypeSerializer:i5","Object",{init:function(){(n.ig.$op.init.call(this),t.$i5.a==null)&&(t.$i5.a=new t.bc(String,t.$hc.$type,0),t.$i5.a.item("CATALOG_NAME",t.$hc.get("CATALOG_NAME",t.$ho.e)),t.$i5.a.item("CUBE_NAME",t.$hc.get("CUBE_NAME",t.$ho.e)),t.$i5.a.item("MEASUREGROUP_NAME",t.$hc.get("MEASUREGROUP_NAME",t.$ho.e)),t.$i5.a.item("MEASUREGROUP_CAPTION",t.$hc.get("MEASUREGROUP_CAPTION",t.$ho.e)),t.$i5.a.item("DESCRIPTION",t.$hc.get("DESCRIPTION",t.$ho.e)))},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,r=t.$ih.f(i.element(t.$i5.a.item("CATALOG_NAME"))),u=t.$ih.f(i.element(t.$i5.a.item("CUBE_NAME"))),f=t.$ih.f(i.element(t.$i5.a.item("MEASUREGROUP_NAME"))),e=t.$ih.f(i.element(t.$i5.a.item("MEASUREGROUP_CAPTION"))),o=t.$ih.f(i.element(t.$i5.a.item("DESCRIPTION")));return function(){var n=new t.c5;return n.catalogName(r),n.cubeName(u),n.name(f),n.caption(e),n.description(o),n}()},$type:new n.ig.Type("MeasureGroupXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$c5.$type)])},!0),i("MeasureXmlTypeSerializer:i4","Object",{init:function(){(n.ig.$op.init.call(this),t.$i4.a==null)&&(t.$i4.a=new t.bc(String,t.$hc.$type,0),t.$i4.a.item("MEASURE_NAME",t.$hc.get("MEASURE_NAME",t.$ho.e)),t.$i4.a.item("MEASURE_UNIQUE_NAME",t.$hc.get("MEASURE_UNIQUE_NAME",t.$ho.e)),t.$i4.a.item("MEASURE_CAPTION",t.$hc.get("MEASURE_CAPTION",t.$ho.e)),t.$i4.a.item("DESCRIPTION",t.$hc.get("DESCRIPTION",t.$ho.e)),t.$i4.a.item("DEFAULT_FORMAT_STRING",t.$hc.get("DEFAULT_FORMAT_STRING",t.$ho.e)),t.$i4.a.item("MEASUREGROUP_NAME",t.$hc.get("MEASUREGROUP_NAME",t.$ho.e)),t.$i4.a.item("MEASURE_AGGREGATOR",t.$hc.get("MEASURE_AGGREGATOR",t.$ho.e)),t.$i4.a.item("MEASURE_DISPLAY_FOLDER",t.$hc.get("MEASURE_DISPLAY_FOLDER",t.$ho.e)))},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,r=t.$ih.f(i.element(t.$i4.a.item("MEASURE_NAME"))),u=t.$ih.f(i.element(t.$i4.a.item("MEASURE_UNIQUE_NAME"))),f=t.$ih.f(i.element(t.$i4.a.item("MEASURE_CAPTION"))),e=t.$ih.f(i.element(t.$i4.a.item("DESCRIPTION"))),o=t.$ih.f(i.element(t.$i4.a.item("DEFAULT_FORMAT_STRING"))),s=t.$ih.f(i.element(t.$i4.a.item("MEASUREGROUP_NAME"))),h=t.$ih.f(i.element(t.$i4.a.item("MEASURE_AGGREGATOR"))),c=t.$r.parseInt(h),l=t.$ih.f(i.element(t.$i4.a.item("MEASURE_DISPLAY_FOLDER")));return function(){var n=new t.c2;return n.name(r),n.uniqueName(u),n.caption(f),n.description(e),n.defaultFormatString(o),n.measureGroupName(s),n.aggregatorType(c),n.measureDisplayFolder(l),n}()},$type:new n.ig.Type("MeasureXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$c2.$type)])},!0),i("MemberXmlTypeSerializer:i7","Object",{init:function(){(n.ig.$op.init.call(this),t.$i7.a==null)&&(t.$i7.a=new t.bc(String,t.$hc.$type,0),t.$i7.a.item("CATALOG_NAME",t.$hc.get("CATALOG_NAME",t.$ho.e)),t.$i7.a.item("CUBE_NAME",t.$hc.get("CUBE_NAME",t.$ho.e)),t.$i7.a.item("MEMBER_NAME",t.$hc.get("MEMBER_NAME",t.$ho.e)),t.$i7.a.item("MEMBER_UNIQUE_NAME",t.$hc.get("MEMBER_UNIQUE_NAME",t.$ho.e)),t.$i7.a.item("MEMBER_TYPE",t.$hc.get("MEMBER_TYPE",t.$ho.e)),t.$i7.a.item("DIMENSION_UNIQUE_NAME",t.$hc.get("DIMENSION_UNIQUE_NAME",t.$ho.e)),t.$i7.a.item("HIERARCHY_UNIQUE_NAME",t.$hc.get("HIERARCHY_UNIQUE_NAME",t.$ho.e)),t.$i7.a.item("LEVEL_UNIQUE_NAME",t.$hc.get("LEVEL_UNIQUE_NAME",t.$ho.e)),t.$i7.a.item("MEMBER_CAPTION",t.$hc.get("MEMBER_CAPTION",t.$ho.e)),t.$i7.a.item("DESCRIPTION",t.$hc.get("DESCRIPTION",t.$ho.e)),t.$i7.a.item("LEVEL_NUMBER",t.$hc.get("LEVEL_NUMBER",t.$ho.e)),t.$i7.a.item("CHILDREN_CARDINALITY",t.$hc.get("CHILDREN_CARDINALITY",t.$ho.e)),t.$i7.a.item("PARENT_UNIQUE_NAME",t.$hc.get("PARENT_UNIQUE_NAME",t.$ho.e)),t.$i7.a.item("SCOPE",t.$hc.get("SCOPE",t.$ho.e)),t.$i7.a.item("PARENT_LEVEL",t.$hc.get("PARENT_LEVEL",t.$ho.e)))},deserialize:function(n){if(n.nodeType()!=1)return null;var i=n,f=t.$ih.f(i.element(t.$i7.a.item("CATALOG_NAME"))),e=t.$ih.f(i.element(t.$i7.a.item("CUBE_NAME"))),s=t.$ih.f(i.element(t.$i7.a.item("MEMBER_NAME"))),h=t.$ih.f(i.element(t.$i7.a.item("MEMBER_UNIQUE_NAME"))),c=t.$ih.f(i.element(t.$i7.a.item("MEMBER_TYPE"))),l=t.$ih.f(i.element(t.$i7.a.item("DIMENSION_UNIQUE_NAME"))),a=t.$ih.f(i.element(t.$i7.a.item("HIERARCHY_UNIQUE_NAME"))),v=t.$ih.f(i.element(t.$i7.a.item("LEVEL_UNIQUE_NAME"))),y=t.$ih.f(i.element(t.$i7.a.item("MEMBER_CAPTION"))),p=t.$ih.f(i.element(t.$i7.a.item("DESCRIPTION"))),w=t.$ih.f(i.element(t.$i7.a.item("LEVEL_NUMBER"))),b=t.$ih.f(i.element(t.$i7.a.item("CHILDREN_CARDINALITY"))),k=t.$ih.f(i.element(t.$i7.a.item("PARENT_UNIQUE_NAME"))),r=t.$ih.f(i.element(t.$i7.a.item("SCOPE"))),u=t.$ih.f(i.element(t.$hc.get("PARENT_LEVEL",t.$ho.e))),d=o(t.$r.$type,null);return function(){var n=new t.da;return n.catalogName(f),n.cubeName(e),n.dimensionUniqueName(l),n.hierarchyUniqueName(a),n.levelUniqueName(v),n.levelDepth(t.$r.parseInt(w)),n.name(s),n.uniqueName(h),n.memberType(t.$r.parseInt(c)),n.caption(y),n.childrenCardinality(t.$r.parseInt(b)),n.description(p),n.parentUniqueName(k),n.scope(r==null?d:o(t.$r.$type,t.$r.parseInt(r))),n.parentLevel(String.isNullOrEmpty(u)?0:t.$r.parseInt(u)),n}()},$type:new n.ig.Type("MemberXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$da.$type)])},!0),i("ResultXmlTypeSerializer:i9","Object",{init:function(){n.ig.$op.init.call(this)},deserialize:function(n){var i,r;if(n.nodeType()!=1)return null;i=n,r=i.name().namespaceName();switch(r){case t.$ho.b:return function(){var n=new t.dh;return n.isEmpty(!0),n}();case t.$ho.d:var h=i.element(t.$hc.get("OlapInfo",t.$ho.d)),f=i.element(t.$hc.get("Axes",t.$ho.d)),u=new t.ja,e=u.a(t.$di.$type,f,t.$hc.get("Axis",t.$ho.d),new t.jb),o=i.element(t.$hc.get("CellData",t.$ho.d)),s=u.a(t.$dz.$type,o,t.$hc.get("Cell",t.$ho.d),new t.je);return function(){var n=new t.dh;return n.axes(e),n.cells(s),n}()}return null},$type:new n.ig.Type("ResultXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$dh.$type)])},!0),i("SerializerUtils:ih","Object",{init:function(){n.ig.$op.init.call(this)},f:function(n){return n!=null?n.value():null},e:function(n){return n!=null?n.value():null},a:function(n){var i=t.$ih.f(n).toLowerCase();return i=="true"},b:function(n){return n==null||String.isNullOrEmpty(n.value())?t.$ih.c():t.$ih.d(n.value())},d:function(n){var i=n,t;return t=function(n){var t=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(.*)$/.exec(n);if(!t)throw"Invalid textual date representation.";var i=parseInt(t[1],10),r=parseInt(t[2],10)-1,u=parseInt(t[3],10),f=parseInt(t[4],10),e=parseInt(t[5],10),o=parseInt(t[6],10);return new Date(i,r,u,f,e,o)}(i)},c:function(){var n;return n=new Date(2e3,0,1)},$type:new n.ig.Type("SerializerUtils",n.ig.$ot)},!0),i("XmlaConstants:jq","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("XmlaConstants",n.ig.$ot)},!0),i("XmlaSoapFaultXmlTypeSerializer:id","Object",{init:function(){n.ig.$op.init.call(this)},deserialize:function(n){for(var f=n,i=new t.hp,e=f.elements().getEnumerator(),r,u,h,c;e.moveNext();){r=e.current();switch(r.name().localName()){case"faultcode":i._c=t.$ih.f(r);break;case"faultstring":i._d=t.$ih.f(r);break;case"faultactor":i._b=t.$ih.f(r)}}if(u=f.element(t.$hc.get("detail","")),u!=null){for(var l=u.elements1(t.$hc.get("Error","")),o=new t.b4(t.$hh.$type,0),a=new t.ig,s=l.getEnumerator();s.moveNext();)h=s.current(),c=a.deserialize(h),o.add(c);i._a=function(){var n=new t.hk;return n._a=o.toArray(),n}()}return i},$type:new n.ig.Type("XmlaSoapFaultXmlTypeSerializer",n.ig.$ot,[t.$ie.$type.specialize(t.$hp.$type)])},!0),i("CubeConstants:jr","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("CubeConstants",n.ig.$ot)},!0),i("DimensionConstants:js","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("DimensionConstants",n.ig.$ot)},!0),i("HierarchyConstants:jt","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("HierarchyConstants",n.ig.$ot)},!0),i("InstanceConstants:ju","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("InstanceConstants",n.ig.$ot)},!0),i("KpiConstants:jv","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("KpiConstants",n.ig.$ot)},!0),i("LevelConstants:jw","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("LevelConstants",n.ig.$ot)},!0),i("MeasureConstants:jx","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MeasureConstants",n.ig.$ot)},!0),i("MeasureGroupConstants:jy","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MeasureGroupConstants",n.ig.$ot)},!0),i("MeasureGroupDimensionConstants:jz","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MeasureGroupDimensionConstants",n.ig.$ot)},!0),i("MemberConstants:j0","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MemberConstants",n.ig.$ot)},!0),i("OlapSchemaConstants:j1","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("OlapSchemaConstants",n.ig.$ot)},!0),i("CubeRestrictions:j2","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("CubeRestrictions",n.ig.$ot)},!0),i("DimensionRestrictions:j3","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("DimensionRestrictions",n.ig.$ot)},!0),i("HierarchyRestrictions:j4","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("HierarchyRestrictions",n.ig.$ot)},!0),i("KpiRestrictions:j5","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("KpiRestrictions",n.ig.$ot)},!0),i("LevelRestrictions:j6","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("LevelRestrictions",n.ig.$ot)},!0),i("MeasureRestrictions:j7","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MeasureRestrictions",n.ig.$ot)},!0),i("MeasureGroupRestrictions:j8","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MeasureGroupRestrictions",n.ig.$ot)},!0),i("MeasureGroupDimensionRestrictions:j9","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MeasureGroupDimensionRestrictions",n.ig.$ot)},!0),i("MemberRestrictions:ka","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("MemberRestrictions",n.ig.$ot)},!0),i("CatalogConstants:kb","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("CatalogConstants",n.ig.$ot)},!0),i("ColumnsConstants:kc","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("ColumnsConstants",n.ig.$ot)},!0),i("ProviderTypeConstants:kd","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("ProviderTypeConstants",n.ig.$ot)},!0),i("TableConstants:ke","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("TableConstants",n.ig.$ot)},!0),i("DbSchemaConstants:kf","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("DbSchemaConstants",n.ig.$ot)},!0),i("CatalogRestrictions:kg","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("CatalogRestrictions",n.ig.$ot)},!0),i("ColumnsRestrictions:kh","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("ColumnsRestrictions",n.ig.$ot)},!0),i("ProviderTypeRestrictions:ki","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("ProviderTypeRestrictions",n.ig.$ot)},!0),i("TableRestrictions:kj","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("TableRestrictions",n.ig.$ot)},!0),i("MdxCalculatedMembersCache___GetMemberAliasExpressionPairs__IteratorClass","Object",{d:0,c:null,b:null,__4__this:null,init:function(i){this.c=new t.bf(String,String),n.ig.$op.init.call(this),this.d=i},moveNext:function(){while(this.d>=0)switch(this.d){case 0:this.d=-1,this.b=this.__4__this.b.getEnumerator(),this.d=1;break;case 1:if(this.d=-1,this.b.moveNext())return this.c=this.b.current(),this.d=1,!0}return!1},getEnumerator:function(){var t;return this.d==-2?(this.d=0,t=this):(t=new n.ig.MdxCalculatedMembersCache___GetMemberAliasExpressionPairs__IteratorClass(0),t.__4__this=this.__4__this),t},reset:function(){throw new t.y(0);},dispose:function(){},current:function(){return this.c},current1:function(){return this.c},$type:new n.ig.Type("MdxCalculatedMembersCache___GetMemberAliasExpressionPairs__IteratorClass",n.ig.$ot,[t.$a7.$type.specialize(t.$bf.$type.specialize(String,String)),t.$p.$type,t.$a8.$type.specialize(t.$bf.$type.specialize(String,String)),t.$q.$type,t.$ao.$type])},!0),i("MdxSet___GetMdxElements__IteratorClass","Object",{d:0,a:null,c:null,__4__this:null,init:function(t){n.ig.$op.init.call(this),this.d=t},moveNext:function(){while(this.d>=0)switch(this.d){case 0:this.d=-1,this.c=this.__4__this.d.getEnumerator(),this.d=1;break;case 1:if(this.d=-1,this.c.moveNext())return this.a=this.c.current(),this.d=1,!0}return!1},getEnumerator:function(){var t;return this.d==-2?(this.d=0,t=this):(t=new n.ig.MdxSet___GetMdxElements__IteratorClass(0),t.__4__this=this.__4__this),t},reset:function(){throw new t.y(0);},dispose:function(){},current:function(){return this.a},current1:function(){return this.a},$type:new n.ig.Type("MdxSet___GetMdxElements__IteratorClass",n.ig.$ot,[t.$a7.$type.specialize(t.$f8.$type),t.$p.$type,t.$a8.$type.specialize(t.$f8.$type),t.$q.$type,t.$ao.$type])},!0),i("MdxAxis___GetMdxSets__IteratorClass","Object",{d:0,a:null,c:null,__4__this:null,init:function(t){n.ig.$op.init.call(this),this.d=t},moveNext:function(){while(this.d>=0)switch(this.d){case 0:this.d=-1,this.c=this.__4__this.f.getEnumerator(),this.d=1;break;case 1:if(this.d=-1,this.c.moveNext())return this.a=this.c.current(),this.d=1,!0}return!1},getEnumerator:function(){var t;return this.d==-2?(this.d=0,t=this):(t=new n.ig.MdxAxis___GetMdxSets__IteratorClass(0),t.__4__this=this.__4__this),t},reset:function(){throw new t.y(0);},dispose:function(){},current:function(){return this.a},current1:function(){return this.a},$type:new n.ig.Type("MdxAxis___GetMdxSets__IteratorClass",n.ig.$ot,[t.$a7.$type.specialize(t.$f7.$type),t.$p.$type,t.$a8.$type.specialize(t.$f7.$type),t.$q.$type,t.$ao.$type])},!0),t.$b2.b=new t.b2,t.$d0.a=new t.d0,t.$d2.a=new t.d2,t.$cq.a=new t.cq,t.$d3.a=new t.d3,t.$ct.a=new t.ct,t.$cw.a=new t.cw,t.$cz.a=new t.cz,t.$df.a=new t.df,t.$c1.a=new t.c1,t.$c9.a=new t.c9,t.$c6.a=new t.c6,t.$c4.a=new t.c4,t.$dd.a=new t.dd,t.$bw.a=new t.bw,t.$dg.a=new t.dg,t.$d1.a=new t.d1,t.$ho.d="urn:schemas-microsoft-com:xml-analysis:mddataset",t.$ho.e="urn:schemas-microsoft-com:xml-analysis:rowset",t.$ho.b="urn:schemas-microsoft-com:xml-analysis:empty",t.$ho.c="urn:schemas-microsoft-com:xml-analysis:exception",t.$hq.g="http://schemas.xmlsoap.org/soap/envelope/",t.$hu.a=null,t.$hu.staticInit&&!t.$hu.xmlaSoapWebClientStaticInitCalled&&(t.$hu.staticInit(),t.$hu.xmlaSoapWebClientStaticInitCalled=!0),t.$jo.staticInit&&!t.$jo.olapXmlaDataSourceStaticInitCalled&&(t.$jo.staticInit(),t.$jo.olapXmlaDataSourceStaticInitCalled=!0),t.$jb.a=null,t.$jc.a=null,t.$jd.a=null,t.$i1.a=null,t.$i2.a=null,t.$i6.a=null,t.$i5.a=null,t.$i4.a=null,t.$i7.a=null}(n),function(n){var t;n.ig=n.ig||{},t={},n.ig.$currDefinitions=t,n.ig.util.bulkDefine(["FlatDataSourceImpl:a","OlapDataSource:b","Object:c","Type:d","Boolean:e","ValueType:f","Void:g","IConvertible:h","IFormatProvider:i","Number:j","String:k","IComparable:l","Number:m","IComparable$1:n","IEquatable$1:o","Number:p","Number:q","Number:r","NumberStyles:s","Enum:t","Array:u","IList:v","ICollection:w","IEnumerable:x","IEnumerator:y","Error:z","Error:aa","Number:ab","String:ac","StringComparison:ad","RegExp:ae","CultureInfo:af","DateTimeFormat:ag","Calendar:ah","Date:ai","Number:aj","DayOfWeek:ak","DateTimeKind:al","CalendarWeekRule:am","NumberFormatInfo:an","CompareInfo:ao","CompareOptions:ap","IEnumerable$1:aq","IEnumerator$1:ar","IDisposable:as","StringSplitOptions:at","Number:au","Number:av","Number:aw","Number:ax","Number:ay","Number:az","Assembly:a0","Stream:a1","SeekOrigin:a2","RuntimeTypeHandle:a3","MethodInfo:a4","MethodBase:a5","MemberInfo:a6","ParameterInfo:a7","TypeCode:a8","ConstructorInfo:a9","PropertyInfo:ba","IOlapDataSource:bb","OlapMetadataTreeItem:bc","ICoreOlapElement:bd","OlapMetadataTreeItemType:be","IList$1:bf","ICollection$1:bg","Hierarchy:bh","HierarchyOrigin:bi","Measure:bj","AggregatorType:bk","MeasureListLocation:bl","OlapResult:bm","OlapResultAxis:bn","PositionResolver$2:bo","List$1:bp","IArray:bq","Script:br","IArrayList:bs","Array:bt","CompareCallback:bu","MulticastDelegate:bv","IntPtr:bw","Func$3:bx","Action$1:by","Comparer$1:bz","IComparer:b0","IComparer$1:b1","DefaultComparer$1:b2","Comparison$1:b3","ReadOnlyCollection$1:b4","Predicate$1:b5","NotImplementedException:b6","IPosition$2:b7","IPositionItem$2:b8","PositionItemInfo$2:b9","Dictionary$2:ca","IDictionary$2:cb","KeyValuePair$2:cc","IDictionary:cd","IEqualityComparer$1:ce","EqualityComparer$1:cf","IEqualityComparer:cg","DefaultEqualityComparer$1:ch","InvalidOperationException:ci","ArgumentException:cj","Thread:ck","ThreadStart:cl","IHierarchicalPositionItem$2:cm","Math:cn","Enumerable:co","Func$2:cp","IOrderedEnumerable$1:cq","SortedList$1:cr","ArgumentNullException:cs","EventHandler$1:ct","AsyncCompletedEventArgs:cu","EventArgs:cv","Delegate:cw","Interlocked:cx","ListSortDirection:cy","Nullable$1:cz","OlapResultTuple:c0","OlapResultAxisMember:c1","StringBuilder:c2","Environment:c3","OlapResultCell:c4","ArrayListCollection$1:c5","INotifyCollectionChanged:c6","NotifyCollectionChangedEventHandler:c7","NotifyCollectionChangedEventArgs:c8","NotifyCollectionChangedAction:c9","Cube:da","CubeType:db","Task$1:dc","Task:dd","JQueryPromise:de","Action:df","AggregateException:dg","TaskStatus:dh","TaskCompletionSource$1:di","JQueryDeferred:dj","JQuery:dk","JQueryObject:dl","Element:dm","Node:dn","ElementAttributeCollection:dp","ElementCollection:dq","WebStyle:dr","ElementNodeType:ds","document:dt","EventListener$1:du","Event:dv","DOMTokenList:dw","EventListener:dx","IElementEventHandler:dy","ElementEventHandler:dz","ElementAttribute:d0","JQueryPosition:d1","JQueryCallback:d2","JQueryEvent:d3","JQueryUICallback:d4","Member:d5","MemberType:d6","Catalog:d7","MeasureGroup:d8","DataSourceBaseOptions:d9","IOlapDataProviderFactory:ea","IOlapDiscoverDataProvider:eb","KeyValueItem:ec","Dimension:ed","DimensionType:ee","Level:ef","MeasureGroupDimension:eg","CardinalityType:eh","Kpi:ei","OlapResultView:ej","PositionInfo:ek","ResultViewHelper:el","IPostionComparer:em","CubeMetaItemsCache:en","KpiMeasure:eo","MeasureGroupMetaItemsCache:ep","Tuple$2:eq","AxisElement:er","MeasureList:es","TaskFactory:et","TaskExtensions:eu","AxisDefinitionParser:ev","MetaTreeHelper:ew","HierarchyItemPosition:ex","KpiDimension:ey","ArgumentOutOfRangeException:ez","IFlatDataProvider:e0","FlatDataSourceOptions:e1","DataSourceMetadata:e2","CubeMetadata:e3","MeasuresDimensionMetadata:e4","MeasureMetadata:e5","CellMetadata:e6","DimensionMetadata:e7","HierarchyMetadata:e8","LevelMetadata:e9","IFlatDataProviderFactory:fa","FlatDataAxisProvider:fb","IFlatDataAxisProvider:fc","RowMetadata:fd","FlatDataProvider:fe","TableMetadata:ff","DataMemberMetadata:fg","KeyListPair$1:fh","FlatDataAxisProviderHelper:fi","FlatDataPartialAxisProvider:fj","DefaultFlatDataProviderFactory:fk","CoreOlapElementParser:fl","OlapFlatDataSource:fm","DataSourceBase:fn","jQueryUtils:fo","FlatDataSampleClass:fp","AbstractEnumerable:fq","Func$1:fr","AbstractEnumerator:fs","GenericEnumerable$1:ft","GenericEnumerator$1:fu"]);var e=n.ig.intDivide,r=n.ig.util.cast,i=n.ig.util.defType,o=n.ig.util.defEnum,s=n.ig.util.getBoxIfEnum,h=n.ig.util.getDefaultValue,c=n.ig.util.getEnumValue,f=n.ig.util.getValue,u=n.ig.util.intSToU,l=n.ig.util.nullableEquals,a=n.ig.util.nullableIsNull,v=n.ig.util.nullableNotEquals,y=n.ig.util.toNullable,p=n.ig.util.toString$1,w=n.ig.util.u32BitwiseAnd,b=n.ig.util.u32BitwiseOr,k=n.ig.util.u32BitwiseXor,d=n.ig.util.u32LS,g=n.ig.util.unwrapNullable,nt=n.ig.util.wrapNullable,tt=String.fromCharCode,it=n.ig.util.castObjTo$t,rt=n.ig.util.compare,ut=n.ig.util.replace,ft=n.ig.util.stringFormat,et=n.ig.util.stringFormat1,ot=n.ig.util.stringFormat2,st=n.ig.util.stringCompare1,ht=n.ig.util.stringCompare2,ct=n.ig.util.stringCompare3,lt=n.ig.util.equalsSimple,at=n.ig.util.compareSimple,vt=n.ig.util.numberToString,yt=n.ig.util.tryParseInt32_1,pt=n.ig.util.tryParseInt32_2,wt=n.ig.util.intToString1,bt=n.ig.util.parseInt32_1,kt=n.ig.util.parseInt32_2;i("FlatDataSourceImpl:a","OlapDataSource",{a5:null,dataProvider:function(){return this.a5==null&&(this.a5=this.dataProviderFactory().createDataProvider()),this.a5},init:function(n){this.a9=new t.bp(t.$fb.$type,0),t.$b.init.call(this,n),this.flatDataSourceOptions(n),this.dataProviderFactory(n.dataProviderFactory())},h:function(){return new t.fk(this.flatDataSourceOptions().itemsSource(),this.flatDataSourceOptions().dataSourceMetadata())},_flatDataSourceOptions:null,flatDataSourceOptions:function(n){return arguments.length===1?(this._flatDataSourceOptions=n,n):this._flatDataSourceOptions},ap:function(){var i=this,o=new t.di(t.$bc.$type,0),r,u,f,e;return this.isInitialized()?(o.e(this.metadataTree()),o._b):(r=this.columnAxis(),r.collectionChanged=n.ig.Delegate.prototype.combine(r.collectionChanged,this.bd.runOn(this)),u=this.rowAxis(),u.collectionChanged=n.ig.Delegate.prototype.combine(u.collectionChanged,this.bh.runOn(this)),f=this.filters(),f.collectionChanged=n.ig.Delegate.prototype.combine(f.collectionChanged,this.be.runOn(this)),e=this.measures(),e.collectionChanged=n.ig.Delegate.prototype.combine(e.collectionChanged,this.bf.runOn(this)),t.$eu.b(t.$bc.$type,t.$bc.$type,t.$eu.b(t.$bf.$type.specialize(t.$da.$type),t.$bc.$type,this.am(null),function(){return i.aq(t.$co.ad(t.$da.$type,i.cubes()).name())}),function(){return i.ak()}))},aj:function(){var r=this.dataProvider(),n=new t.bp(t.$dd.$type,0),u,i,f;return n.add(r.discoverDimensionsAsync(null,null)),n.add(r.discoverHierarchiesAsync(null,null)),n.add(r.discoverLevelsAsync(null,null)),n.add(r.discoverMeasuresAsync(null,null)),n.add(r.discoverKpisAsync(null,null)),u=new Array(n.count()),n.copyTo(u,0),i=new t.en,this._c=i,f=new t.et,f.c(u,function(n){var t=n[0],r=n[1],u=n[2],f=n[3],e=n[4];i._z=f.m(),i._t=t.m(),i._u=r.m(),i._x=u.m(),i._w=e.m()})},bj:function(n,t){var r=0,i=this.measureListIndex(),u,f,e,o;n&&(u=this.a4(r),u!=null&&this.measureListLocation()==1&&i>-1&&(f=u.positionResolver().rootPositionInfo(),f!=null&&this.bg(f,i-1)),r++),t&&(e=this.a4(r),e!=null&&this.measureListLocation()==0&&i>-1&&(o=e.positionResolver().rootPositionInfo(),o!=null&&this.bg(o,i-1)))},bg:function(n,t){var i,r;if(n.positionItemIndex()==t)n.clear();else for(i=n.values().getEnumerator();i.moveNext();)r=i.current(),this.bg(r,t)},as:function(){var p=this.ba(),o,n,i,r,s,h,l,f,a,g,v,nt,y,tt,it;if(!String.isNullOrEmpty(p))return o=new t.di(t.$bm.$type,0),o.d(new t.ci(1,p)),o._b;if(n=this.columnAxis().count()>0,i=this.rowAxis().count()>0,!i&&!n&&this.measures().count()==0)return r=function(){var n=new t.bm;return n.isEmpty(!0),n}(),s=new t.di(t.$bm.$type,0),s.e(r),this._l=new t.ej(r,r,!1,!1),this.result(r),this.clearPendingChanges(),s._b;var rt=this._m,ut=this._s,ft=this._r||this._p,et=this._n,w=this.ab().count()>0,b=this.aa().count()>0,ot=this.af.count()>0;if(!rt&&!ut&&!ft&&!et&&!w&&!b&&!ot)return h=new t.di(t.$bm.$type,0),h.e(this.result()),h._b;this._r&&this.bj(n,i);var c=null,u=null,e=0,k="Axis0",d=this._m;for(this._r&&n&&this.measureListIndex()>-1&&this.measureListLocation()==1&&(d=!0),c=this.a3(this.columnAxis(),d,e),this._m=!1,c!=null&&(e++,k="Axis1"),l=this._s,this._r&&i&&this.measureListIndex()>-1&&this.measureListLocation()==0&&(l=!0),u=this.a3(this.rowAxis(),l,e),this._s=!1,u!=null&&(u.axis()!=null&&u.axis().name(k),e++),this._r=!1,this._n=!1,f=new t.bp(t.$er.$type,0),a=this._y.getEnumerator();a.moveNext();)g=a.current(),f.add(g);for(v=this._ag.getEnumerator();v.moveNext();)nt=v.current(),f.add(nt);for(y=this._z.getEnumerator();y.moveNext();)tt=y.current(),f.add(tt);return it=this.bb(f,n,i,w,b,c,u)},bb:function(n,i,r,f,e,o,s){var h=this,w,tt,c,b,k,l,a,nt,v,et,ot;if(this.af.count()>0){for(this.dataProvider().am(n),w=this.a9.getEnumerator();w.moveNext();)tt=w.current(),tt.resetAxisMetadata();this.af.clear()}if(this.a8(i,r),this.bc(i,r,!0),f||e){if(c=null,i&&(b=this.ab(),k=t.$co.z(t.$ek.$type,t.$co.u(t.$ek.$type,b,function(n){return n._c=="Axis0"})),k.count()>0)){l=k.item(0),b.remove(l);var st=this.result().axes().item(0).tuples().__inner[l._b],it=st.members().item(l._a),d=new t.fj(this.dataProvider(),this.columnAxis(),it,this._c),ht=d.generateAxis("Axis0");c=t.$eu.b(t.$bn.$type,t.$bm.$type,ht,function(){return h.dataProvider().evaluateResult(d,s,h.measures())}),c=t.$eu.b(t.$bm.$type,t.$bm.$type,c,function(n){var r,i;return h.d("Axis0",n.m()).tuples().count()==0&&it.displayInfo(u(0)),r=h._l,h._l=h._l.extend(n.m(),"Axis0"),h.result(h._l.visibleResult()),t.$el.h("Axis0",r,h._l),t.$el.g(l,!0,h._l),o.extendWith(d),o.axis(h.d("Axis0",h.result())),i=new t.di(t.$bm.$type,0),i.e(h._l.visibleResult()),t.$el.f(l,!0,o.positionResolver(),h._l.visibleResult()),i._b})}if(r){var y=i?"Axis1":"Axis0",rt=this.ab(),ut=t.$co.z(t.$ek.$type,t.$co.u(t.$ek.$type,rt,function(n){return n._c==y}));if(f&&ut.count()>0){a=ut.item(0),rt.remove(a);var ct=t.$co.ad(t.$bn.$type,t.$co.u(t.$bn.$type,this.result().axes(),function(n){return n.name()==y})).tuples().__inner[a._b],ft=ct.members().item(a._a),g,p=new t.fj(this.dataProvider(),this.rowAxis(),ft,this._c);g=c!=null?t.$eu.b(t.$bm.$type,t.$bn.$type,c,function(){return p.generateAxis(y)}):p.generateAxis(y),c=t.$eu.b(t.$bn.$type,t.$bm.$type,g,function(){return h.dataProvider().evaluateResult(o,p,h.measures())}),c=t.$eu.b(t.$bm.$type,t.$bm.$type,c,function(n){var f,o,e;return h._l==null&&(h._l=new t.ej(h.result(),h.result(),i,r)),f=h._l.hasColumns()?"Axis1":"Axis0",h.d(f,n.m()).tuples().count()==0&&ft.displayInfo(u(0)),o=h._l,h._l=h._l.extend(n.m(),f),h.result(h._l.visibleResult()),t.$el.h(f,o,h._l),t.$el.g(a,!0,h._l),e=new t.di(t.$bm.$type,0),e.e(h._l.visibleResult()),s.extendWith(p),s.axis(h.d(f,h.result())),t.$el.f(a,!0,s.positionResolver(),h.result()),e._b})}}return c!=null?c:(nt=new t.di(t.$bm.$type,0),nt.e(this.result()),nt._b)}return(v=new t.di(t.$bm.$type,0),o==null&&s==null&&this.measures().count()==0)?(et=function(){var n=new t.bm;return n.isEmpty(!0),n}(),this.result(et),v.e(this.result()),v._b):(ot=this.dataProvider().evaluateResult(o,s,this.measures()),t.$eu.b(t.$bm.$type,t.$bm.$type,ot,function(n){return h._l=new t.ej(n.m(),n.m(),i,r),h.result(h._l.visibleResult()),h.clearPendingChanges(),v.e(h.result()),v._b}))},ba:function(){for(var n=new t.ca(String,String,0),i,o,u,s,h,a,c,f,l,e=0;e<this.columnAxis().count();e++)if(i=this.columnAxis().item(e),r(t.$es.$type,i)===null){if(n.containsKey(i.uniqueName()))return"the "+i.uniqueName()+" hierarchy is used twice in columns";n.add(i.uniqueName(),"columns")}for(o=0;o<this.rowAxis().count();o++)if(u=this.rowAxis().item(o),r(t.$es.$type,u)===null){if(n.containsKey(u.uniqueName()))return"the "+u.uniqueName()+" hierarchy is used in rows and in columns";n.add(u.uniqueName(),"rows")}for(s=0;s<this.filters().count();s++){if(h=this.filters().item(s),function(){var t=n.tryGetValue(h.uniqueName(),a);return a=t.p1,t.ret}())return"the "+h.uniqueName()+" hierarchy is used in filters and in "+a;n.add(h.uniqueName(),"filters")}for(c=0;c<this.measures().count();c++){if(f=this.measures().item(c),function(){var t=n.tryGetValue(f.uniqueName(),l);return l=t.p1,t.ret}())return l=="measures"?"the "+f.uniqueName()+" measure is used twice in measures":"the "+f.uniqueName()+" measure is used in measures and in "+l;n.add(f.uniqueName(),"measures")}return null},a8:function(n,i){for(var u=new t.ca(String,t.$bf.$type.specialize(t.$ek.$type),0),it=this._l,h=this.ab(),f,e,a,v,rt,y,ut,l,r,ft,o,p,w,b,k,et,s,d,g,nt,tt,c=0;c<h.count();c++)f=h.item(c),function(){var n=u.tryGetValue(f._c,e);return e=n.p1,n.ret}()||(e=new t.bp(t.$ek.$type,0),u.add(f._c,e)),this._l==null&&(this._l=new t.ej(this.result(),this.result(),n,i)),a=this._l.expandTupleMember(f._c,f._b,f._a),a!=null&&(e.add(f),this._l=a,this.result(this._l.visibleResult()));for(v=u.getEnumerator();v.moveNext();)for(rt=v.current(),y=rt.value().getEnumerator();y.moveNext();)ut=y.current(),h.remove(ut);if(l=0,r="Axis0",n){if(ft=t.$co.af(String,t.$co.u(String,u.keys(),function(n){return n==r}))!=null,o=this.a4(l),o!=null&&ft&&(p=u.item(r),p.count()>0)){for(t.$el.h(r,it,this._l),w=p.getEnumerator();w.moveNext();)b=w.current(),t.$el.g(b,!0,this._l),t.$el.f(b,!0,o.positionResolver(),this._l.visibleResult());k=this.d(r,this.result()),o.axis(k),t.$el.d(k.positionResolver(),o.positionResolver())}l++,r="Axis1"}if(i&&(et=t.$co.af(String,t.$co.u(String,u.keys(),function(n){return n==r}))!=null,s=this.a4(l),s!=null&&et&&(d=u.item(r),d.count()>0))){for(t.$el.h(r,it,this._l),g=d.getEnumerator();g.moveNext();)nt=g.current(),t.$el.g(nt,!0,this._l),t.$el.f(nt,!0,s.positionResolver(),this._l.visibleResult());tt=this.d(r,this.result()),s.axis(tt),t.$el.d(tt.positionResolver(),s.positionResolver())}return h.count()>0},bc:function(n,i,r){var s,f,o,h,u,k,c,v,y,d,g,nt,l,p,w,tt,it;if(this.result()!=null){var a=this.aa(),e=new t.ca(String,t.$bf.$type.specialize(t.$ek.$type),0),b=this._l;for(s=0;s<a.count();s++)f=a.item(s),function(){var n=e.tryGetValue(f._c,o);return o=n.p1,n.ret}()||(o=new t.bp(t.$ek.$type,0),e.add(f._c,o)),o.add(f),r&&(this._l==null?this._l=new t.ej(this.result(),this.result(),n,i):(this._l=this._l.collapseTupleMember(f._c,f._b,f._a),this.result(this._l.visibleResult())));if(h=0,u="Axis0",n){if(k=t.$co.af(String,t.$co.u(String,e.keys(),function(n){return n==u}))!=null,c=this.a4(h),c!=null&&k&&(v=e.item(u),v.count()>0)){for(t.$el.h(u,b,this._l),y=v.getEnumerator();y.moveNext();)d=y.current(),t.$el.f(d,!1,c.positionResolver(),this._l.visibleResult());g=this.d(u,this.result()),c.axis(g)}h++,u="Axis1"}if(i&&(nt=t.$co.af(String,t.$co.u(String,e.keys(),function(n){return n==u}))!=null,l=this.a4(h),l!=null&&nt&&(p=e.item(u),p.count()>0))){for(t.$el.h(u,b,this._l),w=p.getEnumerator();w.moveNext();)tt=w.current(),t.$el.f(tt,!1,l.positionResolver(),this._l.visibleResult());it=this.d(u,this.result()),l.axis(it)}a.clear()}},a3:function(n,i,r){var u=null;return n.count()>0&&(u=this.a4(r),i&&(u!=null?u.resetAxis(n):(u=new t.fb(this.dataProvider(),n,this._c),this.bi(r,u)))),u},bi:function(n,t){this.a9.item(n,t)},a4:function(n){return n<this.a9.count()?this.a9.item(n):null},getMembersOfLevel:function(n){var r=this,u=new t.bp(t.$ec.$type,0),f=n,i;return u.add(function(){var i=new t.ec;return i._a="LEVEL_UNIQUE_NAME",i._b=n,i}()),i=this.dataProvider().discoverMembersAsync(null,u),i.i(function(n){for(var t=n.m().getEnumerator(),i;t.moveNext();)i=t.current(),r._c.aa(i);r._c.ac(f)}),i},getMembersOfHierarchy:function(n){var e=this,o=n,s=new t.fl(n),r=s.b(),i,u,f;if(r.count()<2)throw new t.cj(2,"Specified value: "+n+" is not valid.",n);return i=new t.ec,i._a="HIERARCHY_UNIQUE_NAME",i._b=r.item(0)+"."+r.item(1),u=new t.bp(t.$ec.$type,0),u.add(i),f=this.dataProvider().discoverMembersAsync(null,u),f.i(function(n){for(var t=n.m().getEnumerator(),i;t.moveNext();)i=t.current(),e._c.aa(i);e._c.ab(o)}),f},getMembersOfMember:function(n){var e=this,o=new t.fl(n),i=o.b(),r=new t.ec,u,f;if(i.count()<3)throw new t.cj(2,"Specified value: "+n+" is not valid.",n);switch(i.count()){case 1:r._a="DIMENSION_UNIQUE_NAME",r._b=i.item(0);break;case 2:r._a="HIERARCHY_UNIQUE_NAME",r._b=i.item(0)+"."+i.item(1);break;default:r._a="LEVEL_UNIQUE_NAME",r._b=i.item(0)+"."+i.item(1)+"."+i.item(2)}return u=new t.bp(t.$ec.$type,0),u.add(r),u.add(function(){var i=new t.ec;return i._a="MEMBER_UNIQUE_NAME",i._b=n,i}()),f=this.dataProvider().discoverMembersAsync(null,u),f.i(function(n){for(var t=n.m().getEnumerator(),i;t.moveNext();)i=t.current(),e._c.aa(i)}),f},bd:function(n,t){if(this._m=!0,this.bk(0,this.columnAxis(),this.rowAxis()),this.a0(t,this._y),this.a2(t,this.columnAxis()),t.action()!=4&&this.columnAxis()!=null){var i=Math.max(t.newStartingIndex(),t.oldStartingIndex());this.bl("Axis0",i)}},bh:function(n,t){if(this._s=!0,this.bk(1,this.rowAxis(),this.columnAxis()),this.a0(t,this._ag),this.a2(t,this.rowAxis()),t.action()!=4&&this.rowAxis()!=null){var i=this.columnAxis()==null?"Axis0":"Axis1",r=Math.max(t.newStartingIndex(),t.oldStartingIndex());this.bl(i,r)}},a9:null,bk:function(n,t,i){t.count()>0?i.count()>0?this.a9.count()<2&&this.a9.insert(n,null):this.a9.count()==0&&this.a9.insert(0,null):this.a9.count()>0&&(this.a9.count()>1?this.a9.removeAt(n):this.a9.removeAt(0))},bl:function(n,t){for(var u=this.ab(),f=this.aa(),e,r,o,i=f.count()-1;i>=0;i--)e=f.item(i),e._c==n&&e._a>=t&&f.removeAt(i);for(r=u.count()-1;r>=0;r--)o=u.item(r),o._c==n&&o._a>=t&&u.removeAt(r)},be:function(n,t){this._n=!0,this.a0(t,this._z)},bf:function(){this._r=!0,this.a1()},$type:new n.ig.Type("FlatDataSourceImpl",t.$b.$type)},!0),i("IFlatDataProviderFactory:fa","Object",{$type:new n.ig.Type("IFlatDataProviderFactory",null,[t.$ea.$type])},!0),i("DefaultFlatDataProviderFactory:fk","Object",{b:null,a:null,init:function(t,i){n.ig.$op.init.call(this),this.b=t,this.a=i},createDataProvider:function(){return new t.fe(this.b,this.a)},$type:new n.ig.Type("DefaultFlatDataProviderFactory",n.ig.$ot,[t.$fa.$type])},!0),i("FlatDataSourceOptions:e1","DataSourceBaseOptions",{init:function(){t.$d9.init.call(this)},_itemsSource:null,itemsSource:function(n){return arguments.length===1?(this._itemsSource=n,n):this._itemsSource},_dataSourceMetadata:null,dataSourceMetadata:function(n){return arguments.length===1?(this._dataSourceMetadata=n,n):this._dataSourceMetadata},_dataProviderFactory:null,dataProviderFactory:function(n){return arguments.length===1?(this._dataProviderFactory=n,n):this._dataProviderFactory},$type:new n.ig.Type("FlatDataSourceOptions",t.$d9.$type)},!0),i("OlapFlatDataSource:fm","DataSourceBase",{a6:null,init:function(n){if(this.a6=null,this.a5=!1,t.$fn.init.call(this),n==null)throw new t.cs(0,"options");this.a6=n,this.a9(this.a6)},a3:function(n){var r=t.$fo.getJavascriptObjectProperty(n,"metadata"),i,u;if(r==null)throw new t.ci(1,"metadata is null or undefined.");return i=new t.e2,u=this.a2(r),i._a=u,i},a2:function(n){var r=t.$fo.getJavascriptObjectProperty(n,"cube"),i;if(r==null)throw new t.ci(1,"metadata.cube is null or undefined.");if(i=new t.e3,i._e=t.$fo.getJavascriptObjectProperty(r,"name"),String.isNullOrEmpty(i._e))throw new t.ci(1,"cube.name is null, empty or undefined");return i._c=t.$fo.getJavascriptObjectProperty(r,"caption"),String.isNullOrEmpty(i._c)&&(i._c=i._e),i._b=this.a4(r),i._d=t.$fo.getJavascriptObjectProperty(r,"description"),i._a=this.ay(r),i},a4:function(n){var i=t.$fo.getJavascriptObjectProperty(n,"measuresDimension");if(i==null)return null;var u=t.$fo.getJavascriptObjectProperty(i,"caption"),f=t.$fo.getJavascriptObjectProperty(i,"name"),r=function(){var n=new t.e4;return n._b=u,n._c=f,n}();return r._a=this.a1(i),r},ay:function(n){var f=t.$fo.getJavascriptObjectProperty(n,"dimensions"),e,u,i,r;if(f==null)return null;for(e=new t.c5(t.$e7.$type),u=0;u<f.length;u++){if(i=new t.e7,e.add(i),r=f[u],i._e=t.$fo.getJavascriptObjectProperty(r,"name"),String.isNullOrEmpty(i._e))throw new t.ci(1,"dimension.name is null, empty or undefined");i._b=t.$fo.getJavascriptObjectProperty(r,"caption"),String.isNullOrEmpty(i._b)&&(i._b=i._e),i._c=t.$fo.getJavascriptObjectProperty(r,"defaultHierarchy"),i._a=this.az(r),i._d=t.$fo.getJavascriptObjectProperty(r,"description")}return e},a1:function(n){var f=t.$fo.getJavascriptObjectProperty(n,"measures"),e,u,i,r;if(f==null)return null;for(e=new t.c5(t.$e5.$type),u=0;u<f.length;u++){if(i=new t.e5,e.add(i),r=f[u],i._f=t.$fo.getJavascriptObjectProperty(r,"name"),String.isNullOrEmpty(i._f))throw new t.ci(1,"measure.name is null, empty or undefined");if(i._e=t.$fo.getJavascriptObjectProperty(r,"caption"),String.isNullOrEmpty(i._e)&&(i._e=i._f),i._d=t.$fo.getJavascriptObjectProperty(r,"displayFormat"),i._c=t.$fo.getJavascriptObjectProperty(r,"displayFolder"),i._b=t.$fo.getJavascriptObjectProperty(r,"aggregator"),i._b==null)throw new t.ci(1,"aggregator is null or undefined for measureMetadata: "+i._f);}return e},az:function(n){var f=t.$fo.getJavascriptObjectProperty(n,"hierarchies"),e,u,i,r;if(f==null)return null;for(e=new t.c5(t.$e8.$type),u=0;u<f.length;u++){if(i=new t.e8,e.add(i),r=f[u],i._e=t.$fo.getJavascriptObjectProperty(r,"name"),String.isNullOrEmpty(i._e))throw new t.ci(1,"hierarchy.hierarchyName is null, empty or undefined");if(i._b=t.$fo.getJavascriptObjectProperty(r,"caption"),String.isNullOrEmpty(i._b)&&(i._b=i._e),i._d=t.$fo.getJavascriptObjectProperty(r,"displayFolder"),i._a=this.a0(r),i._a==null||i._a.count()==0)throw new t.ci(1,"levelKeys is null, empty or undefined for hierarchyMetadata: "+i._e);}return e},a0:function(n){var f=t.$fo.getJavascriptObjectProperty(n,"levels"),e,r,i,u;if(f==null)return null;for(e=new t.c5(t.$e9.$type),r=0;r<f.length;r++){if(i=new t.e9,e.add(i),u=f[r],i._c=t.$fo.getJavascriptObjectProperty(u,"name"),String.isNullOrEmpty(i._c))throw new t.ci(1,"level.name is null, empty or undefined");if(i._b=t.$fo.getJavascriptObjectProperty(u,"caption"),String.isNullOrEmpty(i._b)&&(i._b=i._c),i._a=t.$fo.getJavascriptObjectProperty(u,"memberProvider"),i._a==null)throw new t.ci(1,"levelMetadata.memberProvider is null or undefined");}return e},a9:function(t){var i=t,u=this.a7(t),f=i.dataSource,r;!i.dataSource&&i.dataSourceUrl&&(i.dataSource=i.dataSourceUrl),r={callback:this.dataSourceDataResolved,callee:this,dataSource:i.dataSource,defaultChildrenDataProperty:i.bindings.childDataProperty,responseDataType:i.responseDataType,localSchemaTransform:i.dataSourceType&&i.dataSourceType==="xml"?!0:!1,schema:u},i.dataSourceType&&(r.type=i.dataSourceType),i.responseDataKey&&(r.responseDataKey=i.responseDataKey),i.dataSource instanceof n.ig.DataSource||(i.dataSource=new n.ig.DataSource(r)),i.dataSource.dataBind(this.dataSourceDataResolved,this)},dataSourceDataResolved:function(){var n=t.$fo.getJavascriptObjectProperty(this.a6,"dataSource");if(n==null)throw new t.ci(1,"dataSource is null or undefined");var i=this.a3(this.a6),r=t.$fo.getJavascriptObjectProperty(this.a6,"measures"),u=t.$fo.getJavascriptObjectProperty(this.a6,"filters"),f=t.$fo.getJavascriptObjectProperty(this.a6,"columns"),e=t.$fo.getJavascriptObjectProperty(this.a6,"rows"),o=t.$fo.getJavascriptObjectMethodResult(n,"data",[]),s=function(){var n=new t.e1;return n.measures(r),n.filters(u),n.columns(f),n.rows(e),n.itemsSource(o),n.dataSourceMetadata(i),n}();this.dataSource(new t.a(s)),this.initDataSource()},initDataSource:function(){var u=this,t,i,r;this.a5&&(this.a5=!1,t=this.dataSource().initialize(),i=t._c,t.i(function(n){u.a8.e(n.m())}),r=this,this._isInitializedAttached||(this._isInitializedAttached=!0,i.always(function(t){var u={error:null,metadataTreeRoot:null};i.state()==="rejected"?u.error=t:u.metadataTreeRoot=t,n(r).trigger("initialized",u),r._isInitializedAttached=!1})))},a5:!1,a8:null,initialize:function(){return this.dataSource()!=null?t.$fn.initialize.call(this):(this.a5=!0,this.a8=new t.di(t.$bc.$type,0),this.a8._a.promise())},a7:function(n){var u=n,f=null,i={},r=u,t=u.bindings;return t==null?(r.bindings={},i.text={name:"Text",type:"string"},r.bindings.textKey="Text",i.value={name:"Value",type:"string"},r.bindings.valueKey="Value",i.imageUrl={name:"ImageUrl",type:"string"},r.bindings.imageUrlKey="ImageUrl",i.navigateUrl={name:"NavigateUrl",type:"string"},r.bindings.navigateUrlKey="NavigateUrl",i.childData={name:"Nodes",type:"object"},r.bindings.childDataProperty="Nodes",i.target={name:"Target",type:"string"},r.bindings.targetKey="Target",t=r.bindings):r.dataSourceType==="xml"&&t.searchFieldXPath&&(i.searchField=t.searchFieldXPath),i.fields=[],t.textKey&&(i.fields.push({name:t.textKey,type:"string",xpath:t.textXPath}),i.textKey=t.textKey),t.valueKey&&(i.fields.push({name:t.valueKey,type:"string",xpath:t.valueXPath}),i.valueKey=t.valueKey),t.navigateUrlKey&&(i.fields.push({name:t.navigateUrlKey,type:"string",xpath:t.navigateUrlXPath}),i.navigateUrlKey=t.navigateUrlKey),t.imageUrlKey&&(i.fields.push({name:t.imageUrlKey,type:"string",xpath:t.imageUrlXPath}),i.imageUrlKey=t.imageUrlKey),t.targetKey&&(i.fields.push({name:t.targetKey,type:"string"}),i.targetKey=t.targetKey),t.expandedKey&&(i.fields.push({name:"Expanded",type:"boolean"}),i.expandedKey=t.expandedKey),t.primaryKey&&(i.fields.push({name:t.primaryKey,type:"string"}),i.primaryKey=t.primaryKey),t.childDataProperty&&(i.fields.push({name:t.childDataProperty,type:"object",xpath:t.childDataXPath}),i.childDataProperty=t.childDataProperty),!i.searchField&&r.responseDataKey&&(i.searchField=r.responseDataKey),f=i},$type:new n.ig.Type("OlapFlatDataSource",t.$fn.$type)},!0),i("FlatDataSampleClass:fp","Object",{init:function(){n.ig.$op.init.call(this)},$type:new n.ig.Type("FlatDataSampleClass",n.ig.$ot)},!0),i("IFlatDataAxisProvider:fc","Object",{$type:new n.ig.Type("IFlatDataAxisProvider",null)},!0),i("FlatDataAxisProvider:fb","Object",{h:null,c:null,a:null,init:function(i,r,u){this.i=null,this.b=null,this.f=!1,this.g=!1,n.ig.$op.init.call(this),this.a=u,this.dataProvider(i),this.h=t.$co.z(t.$bd.$type,t.$co.o(t.$bd.$type,t.$bd.$type,r,function(n){return n})),this.c=new t.fi(i,r.count(),u)},_dataProvider:null,dataProvider:function(n){return arguments.length===1?(this._dataProvider=n,n):this._dataProvider},_axis:null,axis:function(n){return arguments.length===1?(this._axis=n,n):this._axis},positionResolver:function(){return this.c._d},i:null,b:null,f:!1,g:!1,resetAxis:function(n){this.axis()!=null?(this.b=this.axis(),this.i=t.$co.z(t.$bd.$type,t.$co.o(t.$bd.$type,t.$bd.$type,n,function(n){return n})),this.f=!0):(this.c=new t.fi(this.dataProvider(),n.count(),this.a),this.h=n)},resetAxisMetadata:function(){this.axis()!=null&&(this.g=!0)},j:function(n){var k=this,s,v,e,u,h,c,l,o,i,a,w,b;this.f=!1;var y=this.i,d=this.b,p=new t.di(t.$bn.$type,0),f=new t.bp(String,0);for(s=0;s<this.h.count();s++){if(v=this.h.item(s),r(t.$es.$type,v)!==null){f.add(this.dataProvider().sourceMetadata()._a._b._c);continue}f.add(v.uniqueName())}for(this.h=y,e=new t.bp(String,0),u=new t.bp(t.$cc.$type.specialize(String,t.$m.$type),0),h=0;h<this.h.count();h++){if(c=this.h.item(h),r(t.$es.$type,c)!==null){e.add(this.dataProvider().sourceMetadata()._a._b._c);continue}e.add(c.uniqueName()),u.add(new t.cc(String,t.$m.$type,1,c.uniqueName(),0))}if(l=new t.bp(t.$cc.$type.specialize(String,t.$m.$type),0),f.count()>0){for(o=-1,i=0;i<e.count();i++){if(i==f.count()||f.item(i)!=e.item(i))break;o=i}if(o<u.count()-1)for(a=o+1;a<u.count();a++)l.add(u.item(a));else l=u;return w=new Array(this.h.count()),b=new t.bp(t.$c0.$type,0),this.c.m(l).i(function(n){k.p(o,y,w,n.m(),b,d.name(),p,!0)}),p._b}return this.generateAxis(n)},generateAxis:function(n){var o=this,u,i,f,e,s,v,y;if(this.g||this.f)return u=null,this.g&&(u=this.k(n)),this.f&&(u=this.j(n)),u;if(i=new t.di(t.$bn.$type,0),this.axis()!=null)return i.e(this.axis()),i._b;var p=new Array(this.h.count()),h=new t.bp(String,0),c=new t.bp(t.$c0.$type,0),l=new t.bp(t.$cc.$type.specialize(String,t.$m.$type),0),a=this.h;for(f=0;f<this.h.count();f++){if(e=this.h.item(f),r(t.$es.$type,e)!==null){h.add(this.dataProvider().sourceMetadata()._a._b._c);continue}h.add(e.uniqueName()),l.add(new t.cc(String,t.$m.$type,1,e.uniqueName(),0))}return s=new t.bp(t.$cc.$type.specialize(String,t.$m.$type),0),v=this.dataProvider().tableMetadata().e(),s=l,y=this.c.m(s),y.i(function(r){o.c.o(a,0,p,r.m(),v,null,c),o.axis(function(){var i=new t.bn(c,a.count());return i.name(n),i}()),i.e(o.axis())}),i._b},p:function(n,i,r,u,f,e,o,s){var h=this.positionResolver(),c;s&&(this.c=new t.fi(this.dataProvider(),i.count(),this.a)),n>-1&&h.rootPositionInfo().count()>0?this.c.p(i,n,h.rootPositionInfo(),r,u,f):(c=t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,this.dataProvider().tableMetadata().e(),function(n){return!n._a})),this.c.o(i,0,r,u,c,null,f)),this.axis(function(){var n=new t.bn(f,i.count());return n.name(e),n}()),o.e(this.axis())},addTuples:function(n){var i,r;if(this.axis()==null)throw new t.ci(0);for(i=n.getEnumerator();i.moveNext();)r=i.current(),this.c.e(r.key(),r.value())},extendWith:function(n){for(var r=new t.bp(t.$cc.$type.specialize(t.$c0.$type,t.$bf.$type.specialize(t.$fd.$type)),0),u=n.getPositionsMetadata().getEnumerator(),i,f;u.moveNext();)i=u.current(),f=n.getTupleRowsMetadata(i),r.add(new t.cc(t.$c0.$type,t.$bf.$type.specialize(t.$fd.$type),1,i,f));this.addTuples(r)},k:function(n){var e=this,u,i,s,a,h,f,c;this.g=!1;var l=new t.di(t.$bn.$type,0),o=new t.bp(t.$cc.$type.specialize(t.$c0.$type,t.$bf.$type.specialize(t.$fd.$type)),0),v=new t.bp(t.$c0.$type,0);for(u=0;u<this.c._d.positions().count();u++)i=this.c._d.positions().__inner[u],s=t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,this.dataProvider().u(t.$co.a(t.$c1.$type,i.members()),i.itemsCount()),function(n){return!n._a})),s.count()>0&&v.add(i),o.add(new t.cc(t.$c0.$type,t.$bf.$type.specialize(t.$fd.$type),1,i,s));for(o.count()>0&&this.addTuples(o),a=new Array(this.h.count()),h=new t.bp(t.$cc.$type.specialize(String,t.$m.$type),0),f=0;f<this.h.count();f++)(c=this.h.item(f),r(t.$es.$type,c)===null)&&h.add(new t.cc(String,t.$m.$type,1,c.uniqueName(),0));return this.c.m(h).i(function(i){e.p(e.h.count()-1,e.h,a,i.m(),new t.bp(t.$c0.$type,0),n,l,!1)}),l._b},getTupleRowsMetadata:function(n){return this.c.i(n)},$type:new n.ig.Type("FlatDataAxisProvider",n.ig.$ot,[t.$fc.$type])},!0),i("FlatDataAxisProviderHelper:fi","Object",{b:null,f:null,_j:null,init:function(i,r,u){n.ig.$op.init.call(this),this.b=u,this._c=i,this.f=new t.ca(t.$m.$type,t.$bf.$type.specialize(t.$fd.$type),0),this._d=new t.bo(String,n.ig.$op.$type,new t.bp(t.$b7.$type.specialize(String,n.ig.$op.$type),0),r),this._j=this._d.positions()},_c:null,_d:null,i:function(n){var t=null,i=this._d.getPositionIndex(n),r;return i>-1&&(r=this.f.tryGetValue(i,t),t=r.p1),t},e:function(n,t){var i=this._d.getPositionIndex(n);return i==-1?(this.f.add(this._j.count(),t),this._j.add(n),!0):(this.f.item(i,t),!1)},p:function(i,r,u,f,e,o){for(var p=u.positionItemDepthMin(),l=t.$co.u(t.$b9.$type.specialize(String,n.ig.$op.$type),u.values(),function(n){return n.positionItemDepth()<=p}).getEnumerator(),s,a,v,h,c,y;l.moveNext();)if(s=l.current(),s.positionItemIndex()==r||s.count()==0)s.count()==0&&(r=s.positionItemIndex()),this.n(u,s,f,i,r,e,o);else for(a=t.$fi.a(i,f,s),this.p(i,r,s,a,e,o),v=t.$co.u(t.$b9.$type.specialize(String,n.ig.$op.$type),u.values(),function(n){return n.parentKey()==s.key()}),h=v.getEnumerator();h.moveNext();)c=h.current(),y=t.$fi.a(i,f,c),this.p(i,r,c,y,e,o)},n:function(i,r,u,f,e,o,s){var k=r.positionItem(),d=k.clone(),h=new Array(f.count()),l,a,w,v,b;if(n.ig.util.arrayCopy1(u,0,h,0,f.count()),h[r.positionItemIndex()]=d,l=t.$co.z(t.$fd.$type,this._c.u(h,r.positionItemIndex()+1)),l.count()>0){if(e<f.count()-1)this.o(f,e+1,h,o,l,null,s);else{var c=new t.c0(h),y=t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,l,function(n){return!n._a})),p=this._d.getPositionIndex(c);for(p==-1?(this.f.add(this._j.count(),y),this._j.add(c)):this._j.item(p,c),a=0;a<h.length;a++)w=h[a],w.position(c);y.count()>0&&s.add(c)}if(r.isExpanded())for(v=t.$co.u(t.$b9.$type.specialize(String,n.ig.$op.$type),i.values(),function(n){return n.parentKey()==r.key()}).getEnumerator();v.moveNext();)b=v.current(),this.n(i,b,u,f,e,o,s)}},o:function(i,f,e,o,s,h,c){var w=i.item(f),b,rt,l,g,et,nt,v,a,tt,ht,ct,ut,ft,y,p,lt,it,yt;if(r(t.$bh.$type,w)!==null){if(o.containsKey(w.uniqueName())==!1)return;if(b=o.item(w.uniqueName()),h!=null&&(b=t.$co.u(t.$d5.$type,b,function(n){return n.parentUniqueName()==h})),b==null)return;for(rt=b.getEnumerator();rt.moveNext();)if(l=rt.current(),et=this._c.i(l.uniqueName(),g),g=et.p1,nt=t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,s,function(n){return n.d(l.levelUniqueName())==g})),nt.count()>0)if(v=new Array(i.count()),n.ig.util.arrayCopy1(e,0,v,0,i.count()),a=new t.c1,a.caption(l.caption()),a.hierarchyUniqueName(l.hierarchyUniqueName()),a.levelNumber(l.levelDepth()),a.levelUniqueName(l.levelUniqueName()),a.uniqueName(l.uniqueName()),a.displayInfo(u(l.childrenCardinality())),a.properties().add("PARENT_UNIQUE_NAME",l.parentUniqueName()),a.properties().add("memberId",g.toString()),v[f]=a,f==i.count()-1){var ot=t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,nt,function(n){return!n._a})),k=new t.c0(v),st=this._d.getPositionIndex(k);for(st==-1?(this.f.add(this._j.count(),ot),this._j.add(k)):this._j.item(st,k),tt=0;tt<v.length;tt++)ht=v[tt],ht.position(k);ot.count()>0&&c.add(k)}else this.o(i,f+1,v,o,nt,null,c)}else if(r(t.$es.$type,w)!==null)for(ct=w,ut=ct.measures().getEnumerator();ut.moveNext();)if(ft=ut.current(),y=new Array(i.count()),n.ig.util.arrayCopy1(e,0,y,0,i.count()),p=new t.c1,p.caption(ft.caption()),lt=this.k(this._c.sourceMetadata()._a._b._c),p.hierarchyUniqueName(lt),p.levelNumber(0),p.uniqueName(ft.uniqueName()),y[f]=p,f==i.count()-1){var d=new t.c0(y),at=t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,s,function(n){return!n._a})),vt=this._d.getPositionIndex(d);for(vt==-1?(this.f.add(this._j.count(),at),this._j.add(d)):this._j.item(vt,d),it=0;it<y.length;it++)yt=y[it],yt.position(d);at.count()>0&&c.add(d)}else this.o(i,f+1,y,o,s,null,c)},m:function(n){var e=this.b,u,r,i;if(n.count()==0)return u=new t.di(t.$cb.$type.specialize(String,t.$aq.$type.specialize(t.$d5.$type)),0),u.e(new t.ca(String,t.$aq.$type.specialize(t.$d5.$type),0)),u._b;for(r=new t.ca(String,t.$ef.$type,0),i=0;i<n.count();i++){var f=n.item(i).key(),o=n.item(i).value(),s=t.$co.af(t.$ef.$type,t.$co.u(t.$ef.$type,e._x,function(n){return n.hierarchyUniqueName()==f&&n.depth()==o}));r.containsKey(f)||r.add(f,s)}return this.l(r)},k:function(n){return n.substr(0,1)!="["&&(n="["+n),n.substr(n.length-1,1)!="]"&&(n+="]"),n},l:function(n){for(var b=this,h=this.b,u=new t.ca(String,t.$aq.$type.specialize(t.$d5.$type),0),i=new t.bp(String,0),c=n.getEnumerator(),r,f,e,o,y,s,p,w;c.moveNext();)r=c.current(),f=r.value().uniqueName(),h.c(f)&&function(){var n=h.j(f,e);return e=n.p1,n.ret}()?u.add(r.key(),e):i.add(r.key());if(i.count()==0)return o=new t.di(t.$cb.$type.specialize(String,t.$aq.$type.specialize(t.$d5.$type)),0),o.e(u),o._b;for(var l=new Array(i.count()),a=0,v=i.getEnumerator();v.moveNext();)y=v.current(),s=new t.bp(t.$ec.$type,0),s.add(function(){var i=new t.ec;return i._a="LEVEL_UNIQUE_NAME",i._b=n.item(y).uniqueName(),i}()),l[a]=this._c.discoverMembersAsync(null,s),a++;return p=new t.et,w=p.d(t.$cb.$type.specialize(String,t.$aq.$type.specialize(t.$d5.$type)),l,function(n){return b.h(n,i,u)}),w},h:function(n,t,i){for(var u,f,e,o,r=0;r<t.count();r++)if(u=t.__inner[r],!i.containsKey(u)){for(f=n[r].m(),e=f.getEnumerator();e.moveNext();)o=e.current(),this.b.aa(o);i.add(u,f)}return i},g:function(n,i){for(var e=new t.ca(String,t.$ef.$type,0),f,o,u,r=0;r<i.count();r++){if(f=n[r],f._a!=null||f._b)return null;o=i.item(r),u=t.$co.af(t.$ef.$type,t.$co.u(t.$ef.$type,f.m(),function(n){return n.depth()==o})),u==null||e.containsKey(u.hierarchyUniqueName())||e.add(u.hierarchyUniqueName(),u)}return e},a:function(t,i,r){var f=r.positionItem(),e=f.clone(),u=new Array(t.count());return n.ig.util.arrayCopy1(i,0,u,0,t.count()),u[r.positionItemIndex()]=e,u},$type:new n.ig.Type("FlatDataAxisProviderHelper",n.ig.$ot)},!0),i("FlatDataPartialAxisProvider:fj","Object",{b:null,d:null,a:null,init:function(i,r,u,f){n.ig.$op.init.call(this),this.dataProvider(i),this.b=new t.fi(i,r.count(),f),this.a=u,this.d=r},_dataProvider:null,dataProvider:function(n){return arguments.length===1?(this._dataProvider=n,n):this._dataProvider},_axis:null,axis:function(n){return arguments.length===1?(this._axis=n,n):this._axis},generateAxis:function(n){var u=this,f=new t.di(t.$bn.$type,0),i,h,c;if(this.axis()!=null)return f.e(this.axis()),f._b;var l=new Array(this.a.position().itemsCount()),a=new t.bp(t.$c0.$type,0),e=this.a.position().indexOf(this.a),o=this.a.position(),s=new t.bp(t.$cc.$type.specialize(String,t.$m.$type),0);for(i=0;i<this.a.position().itemsCount();i++)if(i<e)l[i]=this.a.position().members().item(i).clone();else if(i==e){if(r(t.$es.$type,this.d.item(i))!==null)continue;h=o.members().item(i),s.add(new t.cc(String,t.$m.$type,1,h.hierarchyUniqueName(),h.depth()+1))}else{if(r(t.$es.$type,this.d.item(i))!==null)continue;c=o.members().item(i),s.add(new t.cc(String,t.$m.$type,1,c.hierarchyUniqueName(),c.depth()))}return this.b.m(s).i(function(i){var r=t.$co.z(t.$fd.$type,u.dataProvider().u(t.$co.a(t.$c1.$type,o.members()),e+1));u.b.o(u.d,e,l,i.m(),r,u.a.uniqueName(),a),u.axis(function(){var i=new t.bn(a,o.itemsCount());return i.name(n),i}()),f.e(u.axis())}),f._b},getTupleRowsMetadata:function(n){return this.b.i(n)},getPositionsMetadata:function(){return this.b._j},$type:new n.ig.Type("FlatDataPartialAxisProvider",n.ig.$ot,[t.$fc.$type])},!0),i("IFlatDataProvider:e0","Object",{$type:new n.ig.Type("IFlatDataProvider",null,[t.$eb.$type])},!0),i("FlatDataProvider:fe","Object",{v:null,w:null,y:null,z:null,l:null,m:null,p:null,q:null,r:null,aa:null,o:null,n:null,_tableMetadata:null,tableMetadata:function(n){return arguments.length===1?(this._tableMetadata=n,n):this._tableMetadata},init:function(i,r){this.p=new t.ca(String,t.$m.$type,0),this.q=new t.ca(String,t.$fg.$type,0),this.r=new t.ca(String,t.$fg.$type,0),this.k=new t.ca(String,t.$cb.$type.specialize(String,t.$fg.$type),0),n.ig.$op.init.call(this),this.itemsSource(i),this.sourceMetadata(r),this.tableMetadata(new t.ff(i)),r._a!=null&&(r._a._b==null?r._a._b=function(){var n=new t.e4;return n._b="Measures",n._c="Measures",n}():(String.isNullOrEmpty(r._a._b._b)&&(r._a._b._b="Measures"),String.isNullOrEmpty(r._a._b._c)&&(r._a._b._c="Measures")))},_itemsSource:null,itemsSource:function(n){return arguments.length===1?(this._itemsSource=n,n):this._itemsSource},_sourceMetadata:null,sourceMetadata:function(n){return arguments.length===1?(this._sourceMetadata=n,n):this._sourceMetadata},discoverCatalogsAsync:function(){throw new t.b6(0);},discoverCubesAsync:function(){var r=new t.di(t.$aq.$type.specialize(t.$da.$type),0);return this.v==null&&(this.v=this.ab()),r.e(this.v),r._b},discoverDimensionsAsync:function(){var r=new t.di(t.$aq.$type.specialize(t.$ed.$type),0);return this.w==null&&(this.w=this.ac()),r.e(this.w),r._b},discoverHierarchiesAsync:function(){var r=new t.di(t.$aq.$type.specialize(t.$bh.$type),0);return this.y==null&&(this.y=this.ad()),r.e(this.y),r._b},discoverLevelsAsync:function(n,i){var r=new t.di(t.$aq.$type.specialize(t.$ef.$type),0),u=this.s(n,i);return r.e(u),r._b},s:function(n,i){var u,f,r;return this.z==null&&(this.l=new t.ca(String,t.$bf.$type.specialize(t.$ef.$type),0),this.z=this.ae()),u=null,f=null,i!=null&&(u=t.$co.af(t.$ec.$type,t.$co.u(t.$ec.$type,i,function(n){return n._a=="HIERARCHY_UNIQUE_NAME"})),f=t.$co.af(t.$ec.$type,t.$co.u(t.$ec.$type,i,function(n){return n._a=="LEVEL_UNIQUE_NAME"}))),r=u!=null?t.$co.u(t.$ef.$type,this.z,function(n){return n.hierarchyUniqueName()==u._b}):t.$co.z(t.$ef.$type,this.z),f!=null&&(r=t.$co.u(t.$ef.$type,r,function(n){return n.uniqueName()==f._b})),r},discoverMeasuresAsync:function(){var u=new t.di(t.$aq.$type.specialize(t.$bj.$type),0);return this.aa==null&&(this.o=new t.ca(String,t.$bx.$type.specialize(t.$x.$type,t.$e6.$type,n.ig.$op.$type),0),this.aa=this.af(this.o)),u.e(this.aa),u._b},discoverMeasureGroupsAsync:function(){throw new t.b6(0);},discoverMeasureGroupDimensionsAsync:function(){throw new t.b6(0);},discoverMembersAsync:function(n,i){var r=new t.di(t.$aq.$type.specialize(t.$d5.$type),0),u=this.discoverMembers(n,i);return r.e(u),r._b},discoverKpisAsync:function(){var r=new t.di(t.$aq.$type.specialize(t.$ei.$type),0);return r.e(new t.bp(t.$ei.$type,0)),r._b},discoverMembers:function(n,i){var c=this,r,u,o,f,v,h,it,y,p,rt,w,b,k,d,g;this.n==null&&(this.n=new t.ca(String,t.$cb.$type.specialize(String,t.$d5.$type),0));var l=t.$co.af(t.$ec.$type,t.$co.u(t.$ec.$type,i,function(n){return n._a=="HIERARCHY_UNIQUE_NAME"})),a=t.$co.af(t.$ec.$type,t.$co.u(t.$ec.$type,i,function(n){return n._a=="LEVEL_UNIQUE_NAME"})),e=t.$co.af(t.$ec.$type,t.$co.u(t.$ec.$type,i,function(n){return n._a=="MEMBER_UNIQUE_NAME"}));if(this.z==null&&(this.z=this.ae()),r=null,u=this.z,l!=null&&(u=t.$co.z(t.$ef.$type,t.$co.u(t.$ef.$type,u,function(n){return n.hierarchyUniqueName()==l._b}))),a!=null){var nt=t.$co.ad(t.$ef.$type,t.$co.u(t.$ef.$type,u,function(n){return n.uniqueName()==a._b})),ut=nt.hierarchyUniqueName(),ft=nt.depth(),tt=0;e!=null&&(tt=1),u=t.$co.z(t.$ef.$type,t.$co.u(t.$ef.$type,u,function(n){return n.hierarchyUniqueName()==ut&&n.depth()<=ft+tt}))}else if(e!=null)throw new t.ci(1,"LEVEL_UNIQUE_NAME restriction is required for MEMBER_UNIQUE_NAME restriction.");for(r=new Array(u.count()),o=0;o<u.count();o++)r[o]=u.item(o);if(f=null,r.length>0){var s=r[0],et=t.$co.ad(t.$bh.$type,t.$co.u(t.$bh.$type,this.y,function(n){return n.uniqueName()==s.hierarchyUniqueName()})),ot=this.tableMetadata().e();if(this.al(r,0,".",null,et,ot),l!=null&&a==null&&e==null){for(v=new t.bp(t.$d5.$type,0),h=0;h<r.length;h++)for(it=r[h],!function(){var n=c.n.tryGetValue(it.uniqueName(),y);return y=n.p1,n.ret}(),p=y.values().getEnumerator();p.moveNext();)rt=p.current(),v.add(rt);f=v}else if(s=r[r.length-1],e==null)!function(){var n=c.n.tryGetValue(s.uniqueName(),w);return w=n.p1,n.ret}(),f=w.values();else{for(!function(){var n=c.n.tryGetValue(s.uniqueName(),b);return b=n.p1,n.ret}(),k=new t.bp(t.$d5.$type,0),d=b.values().getEnumerator();d.moveNext();)g=d.current(),g.parentUniqueName()==e._b&&k.add(g);f=k}}else f=new t.bp(t.$d5.$type,0);return f},evaluateResult:function(n,i,r){var l=this,u=new t.bp(t.$dd.$type,0),s,e,f,h,o,c;if(n!=null&&u.add(n.generateAxis("Axis0")),i!=null&&(s=n==null?"Axis0":"Axis1",u.add(i.generateAxis(s))),u.count()>0){for(e=new Array(u.count()),f=0;f<u.count();f++)e[f]=u.item(f);return h=new t.et,h.d(t.$bm.$type,e,function(){return l.d(n,i,r)})}return o=new t.di(t.$bm.$type,0),c=this.d(null,null,r),o.e(c),o._b},am:function(n){for(var l=this,it=new t.ca(String,t.$cb.$type.specialize(t.$m.$type,t.$cb.$type.specialize(String,t.$fg.$type)),0),dt=n.getEnumerator(),r,a,v,o,u,f,e,rt,y,ft,p,i,et,ot,s,st,h,ht,ct,w,b,lt,ni,k,d,at,vt,ti,c,g,ii,yt,pt,ri,wt,nt,bt,tt,kt;dt.moveNext();)if(r=dt.current(),r._a.count()>0)for(a=0;a<r._a.count();a++)v=r._a.item(a),function(){var n=l.q.tryGetValue(v,o);return o=n.p1,n.ret}()&&(function(){var n=it.tryGetValue(r._b,u);return u=n.p1,n.ret}()||(u=new t.ca(t.$m.$type,t.$cb.$type.specialize(String,t.$fg.$type),0),it.add(r._b,u)),function(){var n=u.tryGetValue(o._a.levelDepth(),f);return f=n.p1,n.ret}()||(f=new t.ca(String,t.$fg.$type,0),u.add(o._a.levelDepth(),f)),f.containsKey(v)||f.add(v,o));for(e=new t.ca(String,t.$cb.$type.specialize(String,t.$fg.$type),0),rt=it.getEnumerator();rt.moveNext();){var ui=rt.current(),gt=ui.value(),ut=t.$co.z(t.$cb.$type.specialize(String,t.$fg.$type),t.$co.o(t.$cc.$type.specialize(t.$m.$type,t.$cb.$type.specialize(String,t.$fg.$type)),t.$cb.$type.specialize(String,t.$fg.$type),t.$co.x(t.$cc.$type.specialize(t.$m.$type,t.$cb.$type.specialize(String,t.$fg.$type)),t.$m.$type,gt,function(n){return n.key()}),function(n){return n.value()}));for(y=ut.count()-1;y>=0;y--)for(ft=t.$co.z(t.$fg.$type,t.$co.o(t.$cc.$type.specialize(String,t.$fg.$type),t.$fg.$type,ut.item(y),function(n){return n.value()})),p=0;p<ft.count();p++)i=ft.item(p),et=i._a.levelDepth(),et>0&&(function(){var n=gt.tryGetValue(et-1,ot);return ot=n.p1,n.ret}()&&ot.containsKey(i._a.parentUniqueName())||(function(){var n=e.tryGetValue(i._a.parentUniqueName(),s);return s=n.p1,n.ret}()||(s=new t.ca(String,t.$fg.$type,0),e.add(i._a.parentUniqueName(),s)),s.add(i._a.uniqueName(),i)));for(st=ut.item(0),h=t.$co.ad(t.$fg.$type,st.values()),String.isNullOrEmpty(h._a.parentUniqueName())||(h=this.q.item(h._a.parentUniqueName())),ht=new t.bp(t.$ec.$type,0),ht.add(function(){var n=new t.ec;return n._a="LEVEL_UNIQUE_NAME",n._b=h._a.levelUniqueName(),n}()),ct=t.$co.z(t.$d5.$type,this.discoverMembers(null,ht)),w=0;w<ct.count();w++)b=ct.item(w),st.containsKey(b.uniqueName())||e.containsKey(b.uniqueName())||e.add(b.uniqueName(),new t.ca(String,t.$fg.$type,0))}for(lt=this.k.keys().getEnumerator();lt.moveNext();)if(ni=lt.current(),function(){var n=l.q.tryGetValue(ni,k);return k=n.p1,n.ret}())for(d=0;d<k._d.count();d++)at=k._d.item(d),at._a&&at.h();for(this.k=e,vt=this.k.keys().getEnumerator();vt.moveNext();)if(ti=vt.current(),function(){var n=l.q.tryGetValue(ti,c);return c=n.p1,n.ret}()&&!this.g(c))for(g=0;g<c._d.count();g++)ii=c._d.item(g),ii.f();for(yt=this.k.keys().getEnumerator();yt.moveNext();)if(pt=yt.current(),function(){var n=l.q.tryGetValue(pt,ri);return ri=n.p1,n.ret}())for(wt=t.$co.z(t.$fg.$type,this.k.item(pt).values()),nt=0;nt<wt.count();nt++)for(bt=wt.item(nt),tt=0;tt<bt._d.count();tt++)kt=bt._d.item(tt),kt._a&&kt.h()},g:function(n){for(var r=this,t=n._a.parentUniqueName(),i;!String.isNullOrEmpty(t);){if(this.k.containsKey(t))return!0;if(function(){var n=r.q.tryGetValue(t,i);return i=n.p1,n.ret}())t=i._a.parentUniqueName();else return!1}return!1},k:null,u:function(n,i){for(var p=this,r=null,l=-1,a,f,s,o,e,h,c,v,y,u=0;u<i;u++)a=n[u],f=null,function(){var n=p.h(a.uniqueName(),s);return s=n.p1,n.ret}()&&(f=s._d),f!=null&&(r==null||r.count()>f.count())&&(l=u,r=f);for(r==null&&(r=t.$co.z(t.$fd.$type,this.tableMetadata().e())),o=r,e=0;e<i;e++)e!=l&&(h=n[e],function(){var n=h.properties().tryGetValue("memberId",c);return c=n.p1,n.ret}()&&(v=h.levelUniqueName(),y=t.$m.parseInt(c),o=t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,o,function(n){return n.d(v)==y}))));return o},i:function(n,t){var i=this;return{ret:function(){var r=i.p.tryGetValue(n,t);return t=r.p1,r.ret}(),p1:t}},h:function(n,t){var i=this;return{ret:function(){var r=i.q.tryGetValue(n,t);return t=r.p1,r.ret}(),p1:t}},b:function(n,i){for(var r=new t.c5(n),u=i.getEnumerator(),f;u.moveNext();)f=u.current(),r.add(f);return r},d:function(i,r,u){var o=null,e,l,lt,ni,ti,tt,w,vt,it,yt,rt,ut,pt,wt,a,b,k,v,bt,ui,et,g,fi;i!=null&&(o=i.axis()),e=null,r!=null&&(e=r.axis());var dt=this.a(o,e,u),c=dt[0],ot=f(dt[1]),s=null,p=-1,h=null,nt=new t.ca(String,t.$m.$type,0),st=new t.bt,ht=new t.bt,ct=new t.bt;for(l=0;l<u.count();l++)nt.add(u.item(l).uniqueName(),l),st.add(u.item(l));if(c=="none"&&u.count()>0&&(s=u.item(0).uniqueName(),p=nt.item(s),h=this.o.item(s)),o==null&&e==null){if(lt=new t.bp(t.$c4.$type,0),h!=null){for(var ei=t.$co.u(t.$fd.$type,this.tableMetadata().e(),function(n){return!n._a}),at=new t.bt,gt=t.$co.o(t.$fd.$type,n.ig.$op.$type,ei,function(n){return n._e}).getEnumerator();gt.moveNext();)ni=gt.current(),at.add(ni);at.length>0&&(ti=new t.e6(0,0,0,p,ht,ct,st),tt=h(at,ti),tt!=null&&(w=new t.c4,w.cellOrdinal(0),w.properties().add("Value",tt),w.properties().add("FmtValue",tt.toString()),lt.add(w)))}return this.c(null,null,lt)}if(e!=null)for(vt=e.tuples(),it=0;it<vt.count();it++)ht.add(vt.__inner[it]);if(o!=null)for(yt=o.tuples(),rt=0;rt<yt.count();rt++)ct.add(yt.__inner[rt]);for(ut=1,o!=null&&(ut=o.tuples().count()),pt=1,e!=null&&(pt=e.tuples().count()),wt=new t.bp(t.$c4.$type,0),a=0;a<pt;a++)for(b=null,k=null,e!=null&&(k=e.tuples().__inner[a],b=r.getTupleRowsMetadata(k),c=="rows"&&(s=k.members().item(ot).uniqueName(),p=nt.item(s),h=this.o.item(s))),v=0;v<ut;v++){var d=b,y=null,ft=null;if(o!=null&&(ft=o.tuples().__inner[v],y=i.getTupleRowsMetadata(ft),c=="columns"&&(s=ft.members().item(ot).uniqueName(),p=nt.item(s),h=this.o.item(s))),d!=null?y!=null&&(bt=ot,(c=="columns"&&y.count()<b.count()||c=="rows"&&y.count()>=b.count()||c=="none")&&(bt=-1),d=this.ag(d,y,k,ft,bt)):d=y,h!=null){for(var ii=a*ut+v,oi=new t.e6(a,v,ii,p,ht,ct,st),kt=new t.bt,ri=t.$co.o(t.$fd.$type,n.ig.$op.$type,d,function(n){return n._e}).getEnumerator();ri.moveNext();)ui=ri.current(),kt.add(ui);kt.length>0&&(et=h(kt,oi),et!=null&&(g=new t.c4,g.cellOrdinal(ii),g.properties().add("Value",et.toString()),g.properties().add("FmtValue",et.toString()),wt.add(g)))}}return fi=this.c(o,e,wt)},c:function(n,i,r){var u=function(){var n=new t.bm;return n.axes(new t.bp(t.$bn.$type,0)),n}();return n!=null&&u.axes().add(n),i!=null&&u.axes().add(i),u.cells(r),u.isEmpty(i==null&&n==null&&r.count()==0),u},ag:function(n,i,r,u){var e,o,s,h;for(i.count()<n.count()&&(n=i,u=r),e=0;e<u.members().count();e++)o=u.members().item(e),function(){var n=o.properties().tryGetValue("memberId",s);return s=n.p1,n.ret}()&&(h=t.$m.parseInt(s),n=t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,n,function(n){return n.d(o.levelUniqueName())==h})));return n},a:function(n,t,i){var h=this.aj(this.sourceMetadata()._a._b._c),f="none",e=-1,o,r,c,s,u,l;if(i.count()>0){if(n!=null&&n.tuples().count()>0)for(o=n.tuples().__inner[0],r=0;r<o.members().count();r++)if(c=o.members().item(r),c.hierarchyUniqueName()==h){f="columns",e=r;break}if(f=="none"&&t!=null&&t.tuples().count()>0)for(s=t.tuples().__inner[0],u=0;u<s.members().count();u++)if(l=s.members().item(u),l.hierarchyUniqueName()==h){f="rows",e=u;break}}return[f,e]},al:function(n,i,r,u,f,e){var ft=this,s=n[i],et=this.m.item(s.uniqueName()),ot=t.$co.af(t.$ef.$type,t.$co.u(t.$ef.$type,this.z,function(n){return n.hierarchyUniqueName()==f.uniqueName()&&n.depth()==s.depth()+1})),it=null,h,b,a,c,v,w,tt;u!=null&&(it=u.uniqueName()),function(){var n=ft.n.tryGetValue(s.uniqueName(),h);return h=n.p1,n.ret}()||(h=new t.ca(String,t.$d5.$type,0),this.n.add(s.uniqueName(),h));for(var l=new t.bp(t.$fh.$type.specialize(t.$fd.$type),0),rt=new t.ca(String,t.$bf.$type.specialize(t.$fd.$type),0),ut=e.getEnumerator();ut.moveNext();)b=ut.current(),a=et(b._e),a!=null&&(function(){var n=rt.tryGetValue(a,c);return c=n.p1,n.ret}()||(c=new t.bp(t.$fd.$type,0),rt.add(a,c),l.add(new t.fh(t.$fd.$type,1,a,c))),c.add(b));for(v=0;v<l.count();v++){var k=l.item(v)._b,d=l.item(v)._a,g=r+"&"+this.aj(k),nt=s.uniqueName()+g,o,y,p;if(!function(){var n=h.tryGetValue(nt,o);return o=n.p1,n.ret}())for(o=new t.d5,o.caption(k),o.dimensionUniqueName(s.dimensionUniqueName()),o.hierarchyUniqueName(s.hierarchyUniqueName()),o.levelDepth(s.depth()),o.levelUniqueName(s.uniqueName()),o.name(k),o.parentLevel(s.depth()-1),o.parentUniqueName(it),o.uniqueName(nt),ot!=null&&o.childrenCardinality(1),u!=null&&u.childrenCardinality(u.childrenCardinality()+1),h.add(nt,o),y=this.p.count(),this.p.add(o.uniqueName(),y),p=new t.fg(o,g,y,h.count()),this.q.add(o.uniqueName(),p),this.r.add(o.uniqueName(),p),w=0;w<d.count();w++)tt=d.item(w),tt.g(s.uniqueName(),y),p.h(tt);i+1<n.length&&this.al(n,i+1,g,o,f,d)}u!=null&&u.childrenCardinality(l.count())},aj:function(n){return n.substr(0,1)!="["&&(n="["+n),n.substr(n.length-1,1)!="]"&&(n+="]"),n},x:null,j:null,ab:function(){var i=new t.bp(t.$da.$type,0),n;return this.sourceMetadata()==null||this.sourceMetadata()._a==null?i:(n=new t.da,n.caption(this.sourceMetadata()._a._c),n.name(this.sourceMetadata()._a._e),n.description(this.sourceMetadata()._a._d),i.add(n),i)},af:function(n){var u=new t.bp(t.$bj.$type,0),e,f,r,i;if(this.sourceMetadata()==null||this.sourceMetadata()._a==null||this.sourceMetadata()._a._b==null||this.sourceMetadata()._a._b._a==null)return u;for(e=this.sourceMetadata()._a._b._c,f=this.sourceMetadata()._a._b._a.getEnumerator();f.moveNext();)r=f.current(),i=new t.bj,i.caption(r._e),i.defaultFormatString(r._d),i.measureDisplayFolder(r._c),i.name(r._f),i.uniqueName(this.aj(e)+"."+this.aj(r._f)),u.add(i),n.item(i.uniqueName(),r._b);return u},ac:function(){var r,u,f,n,i;if((this.v==null&&(this.v=this.ab()),r=new t.bp(t.$ed.$type,0),this.sourceMetadata()==null||this.sourceMetadata()._a==null)||(u=new t.ed,u.dimensionType(2),u.caption(this.sourceMetadata()._a._b._b),u.uniqueName(this.aj(this.sourceMetadata()._a._b._c)),r.add(u),this.sourceMetadata()._a._a==null))return r;for(this.x=new t.bp(t.$e7.$type,0),f=this.sourceMetadata()._a._a.getEnumerator();f.moveNext();)n=f.current(),this.x.add(n),i=new t.ed,i.caption(n._b),i.defaultHierarchy(n._c),i.uniqueName(this.aj(n._e)),i.name(n._e),i.description(n._d),r.add(i);return r},ad:function(){var h=this,i,e,o,r,f,s,u,n;if((this.w==null&&(this.w=this.ac()),i=new t.bp(t.$bh.$type,0),this.sourceMetadata()==null||this.sourceMetadata()._a==null)||(e=new t.bh,e.uniqueName(this.aj(this.sourceMetadata()._a._b._c)),e.dimensionUniqueName(this.aj(this.sourceMetadata()._a._b._c)),i.add(e),this.sourceMetadata()._a._a==null))return i;for(this.j=new t.ca(String,t.$bf.$type.specialize(t.$e8.$type),0),o=0;o<this.x.count();o++)if(r=this.x.item(o),r._a!=null)for(function(){var n=h.j.tryGetValue(r._e,f);return f=n.p1,n.ret}()||(f=new t.bp(t.$e8.$type,0),this.j.add(r._e,f)),s=r._a.getEnumerator();s.moveNext();)u=s.current(),f.add(u),n=new t.bh,n.caption(u._b),n.description(u._c),n.dimensionUniqueName(this.aj(r._e)),n.hierarchyDisplayFolder(u._d),n.name(u._e),n.uniqueName(n.dimensionUniqueName()+"."+this.aj(n.name())),i.add(n);return i},ae:function(){var w=this,r,u,c,e,l,b,a,v,o,y,f,s,p,i,h;if((this.y==null&&(this.y=this.ad()),this.m=new t.ca(String,t.$cp.$type.specialize(n.ig.$op.$type,String),0),r=new t.bp(t.$ef.$type,0),this.sourceMetadata()==null||this.sourceMetadata()._a==null)||(u=new t.ef,u.hierarchyUniqueName(this.aj(this.sourceMetadata()._a._b._c)),u.uniqueName(u.hierarchyUniqueName()+".[MeasuresLevel]"),u.depth(-1),r.add(u),this.sourceMetadata()._a._a==null))return r;for(c=new t.e8,c._e=this.sourceMetadata()._a._b._c,c._b=this.sourceMetadata()._a._b._b,e=new t.bp(t.$e8.$type,0),e.add(c),l=0;l<this.x.count();l++)if(b=this.x.item(l),function(){var n=w.j.tryGetValue(b._e,a);return a=n.p1,n.ret}())for(v=0;v<a.count();v++)e.add(a.item(v));for(o=0;o<e.count();o++)if(y=e.item(o),y._a!=null)for(f=this.y.item(o),s=0;s<y._a.count();s++)p=y._a.item(s),i=new t.ef,i.caption(p._b),i.depth(s),i.dimensionUniqueName(f.dimensionUniqueName()),i.hierarchyUniqueName(f.uniqueName()),i.name(p._c),i.uniqueName(f.uniqueName()+"."+this.aj(i.name())),r.add(i),function(){var n=w.l.tryGetValue(f.uniqueName(),h);return h=n.p1,n.ret}()||(h=new t.bp(t.$ef.$type,0),this.l.add(f.uniqueName(),h)),h.add(i),this.m.item(i.uniqueName(),p._a);return r},$type:new n.ig.Type("FlatDataProvider",n.ig.$ot,[t.$e0.$type])},!0),i("KeyListPair$1:fh","Object",{$t:null,_b:null,_a:null,init:function(i,r){if(this.$t=i,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),r>0){switch(r){case 1:this.init1.apply(this,arguments)}return}n.ig.$op.init.call(this),this._b=String.empty(),this._a=new t.bp(this.$t,0)},init1:function(t,i,r,u){this.$t=t,this.hasOwnProperty("$type")||(this.$type=this.$type.specialize(this.$t)),n.ig.$op.init.call(this),this._b=r,this._a=u},$type:new n.ig.Type("KeyListPair$1",n.ig.$ot)},!0),i("CellMetadata:e6","Object",{init:function(t,i,r,u,f,e,o){n.ig.$op.init.call(this),this.rowIndex(t),this.columnIndex(i),this.cellOrdinal(r),this.measureIndex(u),this.rowTuples(f),this.columnTuples(e),this.measures(o)},_rowIndex:0,rowIndex:function(n){return arguments.length===1?(this._rowIndex=n,n):this._rowIndex},_columnIndex:0,columnIndex:function(n){return arguments.length===1?(this._columnIndex=n,n):this._columnIndex},_cellOrdinal:0,cellOrdinal:function(n){return arguments.length===1?(this._cellOrdinal=n,n):this._cellOrdinal},_measureIndex:0,measureIndex:function(n){return arguments.length===1?(this._measureIndex=n,n):this._measureIndex},_rowTuples:null,rowTuples:function(n){return arguments.length===1?(this._rowTuples=n,n):this._rowTuples},_columnTuples:null,columnTuples:function(n){return arguments.length===1?(this._columnTuples=n,n):this._columnTuples},_measures:null,measures:function(n){return arguments.length===1?(this._measures=n,n):this._measures},$type:new n.ig.Type("CellMetadata",n.ig.$ot)},!0),i("CubeMetadata:e3","Object",{init:function(){n.ig.$op.init.call(this),this._a=new t.c5(t.$e7.$type)},_e:null,_c:null,_d:null,_b:null,_a:null,$type:new n.ig.Type("CubeMetadata",n.ig.$ot)},!0),i("MeasuresDimensionMetadata:e4","Object",{init:function(){n.ig.$op.init.call(this)},_b:null,_c:null,_a:null,$type:new n.ig.Type("MeasuresDimensionMetadata",n.ig.$ot)},!0),i("DataMemberMetadata:fg","Object",{init:function(i,r,u,f){n.ig.$op.init.call(this),this._a=i,this._g=r,this._e=u,this._f=f,this._d=new t.bp(t.$fd.$type,0)},_e:0,_a:null,_g:null,_f:0,_d:null,c:function(){return t.$co.z(t.$fd.$type,t.$co.u(t.$fd.$type,this._d,function(n){return n._a==!1}))},h:function(n){this._d.add(n)},b:function(n){return this._d.remove(n)?!0:!1},$type:new n.ig.Type("DataMemberMetadata",n.ig.$ot)},!0),i("DataSourceMetadata:e2","Object",{init:function(){n.ig.$op.init.call(this)},_a:null,$type:new n.ig.Type("DataSourceMetadata",n.ig.$ot)},!0),i("DimensionMetadata:e7","Object",{init:function(){n.ig.$op.init.call(this)},_e:null,_c:null,_b:null,_d:null,_a:null,$type:new n.ig.Type("DimensionMetadata",n.ig.$ot)},!0),i("HierarchyMetadata:e8","Object",{init:function(){n.ig.$op.init.call(this)},_e:null,_b:null,_c:null,_d:null,_a:null,$type:new n.ig.Type("HierarchyMetadata",n.ig.$ot)},!0),i("LevelMetadata:e9","Object",{init:function(){n.ig.$op.init.call(this)},_c:null,_b:null,_a:null,$type:new n.ig.Type("LevelMetadata",n.ig.$ot)},!0),i("MeasureMetadata:e5","Object",{init:function(){n.ig.$op.init.call(this),this._a=1},_b:null,_a:0,_d:null,_f:null,_e:null,_c:null,$type:new n.ig.Type("MeasureMetadata",n.ig.$ot)},!0),i("RowMetadata:fd","Object",{b:null,c:0,init:function(i){n.ig.$op.init.call(this),this.b=new t.ca(String,t.$m.$type,0),this.c=0,this._a=!1,this._e=i},g:function(n,t){this.b.containsKey(n)||this.b.item(n,t)},d:function(n){var t,i=this.b.tryGetValue(n,t);return t=i.p1},f:function(){this.c++,this._a=!0},h:function(){this.c--,this._a=this.c>0},_e:null,_a:!1,$type:new n.ig.Type("RowMetadata",n.ig.$ot)},!0),i("TableMetadata:ff","Object",{d:null,a:null,c:null,f:0,init:function(i){var u,f,e,c,o,h,s;if(n.ig.$op.init.call(this),u=0,f=r(t.$v.$type,i),f!=null)u=f.count();else for(e=i.getEnumerator();e.moveNext();)c=e.current(),u++;for(this.c=new t.bp(t.$fd.$type,0),this.a=new Array(u),o=i.getEnumerator();o.moveNext();)h=o.current(),s=new t.fd(h),this.h(s),this.c.add(s);this.d=new t.bp(String,0)},e:function(){return this.c},b:function(){return this.a},g:function(){return this.f},h:function(n){this.f==this.a.length&&this.i(),this.a[this.f++]=n},j:function(t,i){this.f==this.a.length&&this.i(),n.ig.util.arrayCopy1(this.a,t,this.a,t+1,this.f-t),this.a[t]=i,this.f++},k:function(i){this.f--,n.ig.util.arrayCopy1(this.a,i+1,this.a,i,this.f-i);var r=t.$u.resize$1(t.$fd.$type,this.a,this.f);this.a=r.p0},i:function(){var t=new Array(this.f+1);n.ig.util.arrayCopy1(this.a,0,t,0,this.f),this.a=t},$type:new n.ig.Type("TableMetadata",n.ig.$ot)},!0),t.$fe.defaultMeasureGroup="(All)"}(n),function(n){var t=function(n){return n===null||n===undefined},i=n.ui.draggable.prototype.widgetFullName||n.ui.draggable.prototype.widgetName,r=n.ui.igTree.prototype.widgetFullName||n.ui.igTree.prototype.widgetName;n.ig=n.ig||{},n.ig.Pivot=n.ig.Pivot||{},n.ig.Pivot._pivotShared=n.ig.Pivot._pivotShared||{_isInstance:function(n,i){return i!==undefined&&!t(n)&&n.$type&&n.$type.name===i},_const:{index:0,dragCursorAt:{top:-10,left:10},dragHelperMarkup:"<div class='ui-widget ui-corner-all ui-igpivot-draghelper'><p><span><\/span><strong>{0}<\/strong><\/p><\/div>",touchEvents:{mousedown:"touchstart mousedown",mouseover:"mouseover",mouseout:"mouseover"},ie:!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},_insertIndex:0,_showLastLevelExpanders:!0,_createDataSource:function(i,r){var f=null,u;return!t(i)&&(this._isInstance(i,"OlapXmlaDataSource")||this._isInstance(i,"OlapFlatDataSource"))?f=i:t(r)||(u=n.extend({},r),delete u.xmlaOptions,delete u.flatDataOptions,t(r.xmlaOptions)||t(r.xmlaOptions.serverUrl)?t(r.flatDataOptions)||t(r.flatDataOptions.dataSource)&&t(r.flatDataOptions.dataSourceUrl)||(u=n.extend(u,r.flatDataOptions),f=new n.ig.OlapFlatDataSource(u)):(u=n.extend(u,r.xmlaOptions),f=new n.ig.OlapXmlaDataSource(u))),f},_addingKpiMetadataItems:function(t,i){var f,r,e,o,s,h,c,u;return f=t.getCoreElement(function(n){return n.uniqueName()===i},n.ig.Kpi.prototype.getType()),u=[],e=f.kpiValue(),o=f.kpiGoal(),s=f.kpiStatus(),h=f.kpiTrend(),c=f.kpiWeight(),null!==e&&""!==e&&(r=t.getCoreElement(function(n){return n.uniqueName()===e},n.ig.Measure.prototype.getType()),null===r&&(r=t.getCoreElement(function(n){return n.uniqueName()===e},n.ig.KpiMeasure.prototype.getType())),u.push(r)),null!==o&&""!==o&&(r=t.getCoreElement(function(n){return n.uniqueName()===o},n.ig.Measure.prototype.getType()),null===r&&(r=t.getCoreElement(function(n){return n.uniqueName()===o},n.ig.KpiMeasure.prototype.getType())),u.push(r)),null!==s&&""!==s&&(r=t.getCoreElement(function(n){return n.uniqueName()===s},n.ig.KpiMeasure.prototype.getType()),u.push(r)),null!==h&&""!==h&&(r=t.getCoreElement(function(n){return n.uniqueName()===h},n.ig.KpiMeasure.prototype.getType()),u.push(r)),null!==c&&""!==c&&(r=t.getCoreElement(function(n){return n.uniqueName()===c},n.ig.KpiMeasure.prototype.getType()),u.push(r)),u},_getEvent:function(t){return n.ig.util.isTouchDevice()?this._const.touchEvents[t]:t},_makeDroppable:function(t){var i=this;t.droppable({tolerance:"pointer",accept:function(n){return n.hasClass("ui-igpivot-dragover")===!1&&n.closest("li.ui-igtree-node").length===0&&(n.hasClass("ui-igpivot-metadataitem")||n.find(".ui-igpivot-metadataitem:first").length>0)},over:function(t,r){var e=!0,f=n(r.helper.html()),u=r.draggable,o,s;if(u.hasClass("ui-igpivot-metadataitem")||(u=u.find(".ui-igpivot-metadataitem:first")),u.length>0)o=u.attr("data-type"),s=u.attr("data-name");else return!1;n.isFunction(i.options.customMoveValidation)&&(e=i.options.customMoveValidation.call(i.element,i.widgetName,o,s)),r.helper.hasClass("ui-igpivot-draghelper")&&(e?(f.find("span").removeClass("ui-icon-plus ui-icon-cancel").addClass("ui-icon-close").siblings("strong"),r.helper.removeClass(i.css.dropIndicator).addClass(i.css.invalidDropIndicator).html(f)):(f.find("span").removeClass("ui-icon-plus ui-icon-close").addClass("ui-icon-cancel").siblings("strong"),r.helper.removeClass(i.css.dropIndicator).addClass(i.css.invalidDropIndicator).html(f)))},out:function(t,r){var u=n(r.helper.html());r.helper.hasClass("ui-igpivot-draghelper")&&(u.find("span").removeClass("ui-icon-close ui-icon-plus").addClass("ui-icon-cancel").siblings("strong"),r.helper.removeClass(i.css.dropIndicator).addClass(i.css.invalidDropIndicator).html(u))},drop:function(t,r){var f=r.draggable,c=!0,o,e,s,u,l,a,h;if(r.draggable.unbind("."+i.widgetName),f.hasClass("ui-igpivot-metadataitem")||(f=f.find(".ui-igpivot-metadataitem:first")),f.length>0)o=f.attr("data-type"),s=f.attr("data-name");else return!1;if(n.isFunction(i.options.customMoveValidation)&&(h=n(this).attr("data-role"),a=h===undefined?i.widgetName:h,c=i.options.customMoveValidation.call(i.element,a,o,s)),!c)return!1;switch(o){case n.ig.Dimension.prototype.getType().typeName():e=n.ig.Dimension.prototype.getType();break;case n.ig.Hierarchy.prototype.getType().typeName():e=n.ig.Hierarchy.prototype.getType();break;case n.ig.Measure.prototype.getType().typeName():e=n.ig.Measure.prototype.getType();break;case n.ig.MeasureList.prototype.getType().typeName():e=n.ig.MeasureList.prototype.getType();break;case n.ig.Kpi.prototype.getType().typeName():e=n.ig.Kpi.prototype.getType();break;case n.ig.KpiMeasure.prototype.getType().typeName():e=n.ig.KpiMeasure.prototype.getType();break;default:return!1}return(u=i._ds.getCoreElement(function(n){return n.uniqueName()===s},e),u&&(l=i._triggerMetadataRemoving(t,f,u),l))?(i._ds.removeFilterItem(u),i._ds.removeRowItem(u),i._ds.removeColumnItem(u),i._ds.removeMeasureItem(u),i._triggerMetadataRemoved(t,u),i._updateDataSource(),!0):!1}})},_createDropAreaOptions:function(){var t=this;return{greedy:!0,tolerance:"pointer",activeClass:this.css.activeDropArea,accept:function(i){return t._accept(n(this),i)},over:function(n,i){t._onDraggableOver(n,i)},out:function(n,i){t._onDraggableOut(n,i)},drop:function(i,r){var u=r.draggable,e,f;return(u.hasClass("ui-igpivot-metadataitem")||(u=u.find(".ui-igpivot-metadataitem:first")),u.length>0)?(e=u.attr("data-type"),f=u.attr("data-name"),f||(f="null"),t._onDrop(i,r,n(this),u,e,f)):!1}}},_onDataSourceCollectionChanged:function(t,r,u,f){var c,e,o,l,a,v,h,y,s;c=r.action();switch(c){case n.ig.NotifyCollectionChangedAction.prototype.add:e=r.newItems().__inner,h=r.newStartingIndex(),h===0?this._createMetadataElement(e[0],f,"prependTo",u):(y=u.find(".ui-igpivot-metadataitem")[h-1],this._createMetadataElement(e[0],f,"insertAfter",y));break;case n.ig.NotifyCollectionChangedAction.prototype.remove:for(e=r.oldItems().__inner,v=function(t,i){return n(i).attr("data-name")===a},s=function(t,r){var u=n(r).data(i);u&&u.destroy()},o=0,l=e.length;o<l;o++)this._isInstance(e[o],"MeasureList")?u.find(".ui-igpivot-metadataitem[data-type="+n.ig.MeasureList.prototype.getType().typeName()+"]").each(s).remove():(a=e[o].uniqueName(),u.find(".ui-igpivot-metadataitem").filter(v).each(s).remove());break;case n.ig.NotifyCollectionChangedAction.prototype.reset:s=function(t,r){var u=n(r).data(i);u&&u.destroy()},u.find(".ui-igpivot-metadataitem").each(s).remove()}},_createMetadataElement:function(t,i,r,u){var f=this,s=this.options.dragAndDropSettings,o,e;return e="<li ",this._isInstance(t,"MeasureList")&&t.caption()===null?t.caption(n.ig.util.getLocaleValue("PivotShared","measureList")):e+="data-name='"+t.uniqueName()+"' ",e+="title='"+t.caption()+"' data-type='"+t.getType().typeName()+"'>",this._isInstance(t,"Hierarchy")&&!i&&(e+="<span style='display:block; float:left;' class='ui-icon "+this.css.filterIcon+"'><\/span>"),this.widget()[0].className.indexOf("ui-igpivotdataselector ui-droppable")!==-1&&u!==undefined?(e+="<div style='float:left; display:block; width: calc(100%",e+="Hierarchy"===t.getType().typeName()?" - 28px":" - 16px",e+=");overflow-x:hidden !important; text-overflow:ellipsis !important;'>",e+="<span data-role='caption'>",e+=t.caption(),e+="<\/span>",e+="<\/div>"):e+="<span data-role='caption'>"+t.caption()+"<\/span>",i||(e+="<span class='ui-icon ui-icon-close'><\/span>"),e+="<\/li>",o=n(e).addClass(this.css.metadataItem),o[r](u),i||(o.find("span.ui-icon-pivot-smallfilter").click(function(n){return f._createFilterDropDown(n,this,t),!1}),o.find("span.ui-icon-close").click(function(n){var i=f._triggerMetadataRemoving(n,o,t);return i?(f._ds.removeFilterItem(t),f._ds.removeRowItem(t),f._ds.removeColumnItem(t),f._ds.removeMeasureItem(t),f._triggerMetadataRemoved(n,t),f._updateDataSource(),!1):!1}),o.draggable({appendTo:s.appendTo,containment:s.containment,opacity:s.dragOpacity,zIndex:s.zIndex,cursorAt:this._const.dragCursorAt,revert:!1,cancel:".ui-icon",helper:function(t){var r=n(t.target).closest(".ui-igpivot-metadataitem").find("span[data-role='caption']"),i=n(f._const.dragHelperMarkup.replace("{0}",r.text()));return i.addClass(f.css.invalidDropIndicator).find("span").addClass("ui-icon"),i},start:function(n,i){return f._triggerDragStart(n,i,t)},drag:function(n,i){return f._triggerDrag(n,i,t)},over:function(n,t){f._onDraggableOver(n,t)},out:function(n,t){f._onDraggableOut(n,t)},stop:function(n,t){f._triggerDragStop(n,t)}}),o.click(function(n){f._createMetadataItemDropDown(n,this,t)})),o},_accept:function(t,i){var o,r,u=!1,f,e,s=this._ds;if(i.hasClass("ui-igpivot-metadataitem")||(i=i.find(".ui-igpivot-metadataitem:first")),r=i.attr("data-type"),o=t.attr("data-role"),n(".ui-igpivot-overlaydroparea").css("display","block"),e=s.getCoreElement(function(t){return t.dimensionType()===n.ig.DimensionType.prototype.measure},n.ig.Dimension.prototype.getType()),f=i.text()===e.name()||i.text()===e.caption(),r)switch(o){case"rows":case"columns":u=r===n.ig.Hierarchy.prototype.getType().typeName()||r===n.ig.Dimension.prototype.getType().typeName()&&!f||r===n.ig.MeasureList.prototype.getType().typeName();break;case"filters":u=r===n.ig.Hierarchy.prototype.getType().typeName()||r===n.ig.Dimension.prototype.getType().typeName()&&!f;break;case"measures":u=(r===n.ig.Measure.prototype.getType().typeName()||r===n.ig.Kpi.prototype.getType().typeName()||r===n.ig.KpiMeasure.prototype.getType().typeName()||f)&&"MeasureList"!==i.attr("data-type")}return u},_onDraggableOver:function(t,i){var s=this,f=!0,u=n(i.helper.html()),r=i.draggable,e,o;if(i.draggable.addClass("ui-igpivot-dragover"),n(".ui-igpivot-overlaydroparea").css("display","none"),r.hasClass("ui-igpivot-metadataitem")||(r=r.find(".ui-igpivot-metadataitem:first")),r.length>0)e=r.attr("data-type"),o=r.attr("data-name");else return!1;if(n.isFunction(this.options.customMoveValidation)&&(f=this.options.customMoveValidation.call(this.element,n(t.target).attr("data-role"),e,o)),i.helper.hasClass("ui-igpivot-draghelper")&&(f?(u.find("span").removeClass("ui-icon-cancel ui-icon-close").addClass("ui-icon-plus").siblings("strong"),i.helper.removeClass(this.css.invalidDropIndicator).addClass(this.css.dropIndicator).html(u)):(u.find("span").removeClass("ui-icon-plus ui-icon-close").addClass("ui-icon-cancel").siblings("strong"),i.helper.removeClass(this.css.dropIndicator).addClass(this.css.invalidDropIndicator).html(u))),!f)return!1;i.draggable.bind("drag."+this.widgetName,function(n,t){s._onDraggableDrag(n,t)})},_onDraggableDrag:function(t,i){var r=n(t.originalEvent.target),u="<li class='"+this.css.insertItem+"'><\/li>";r.hasClass("ui-igpivot-insertitem")&&(!this._const.ie||this._const.ie&&document.documentMode!==8)||(n(document).find(".ui-igpivot-insertitem").remove(),r.is("span")&&(r=r.closest(".ui-igpivot-metadataitem")),r.parent().hasClass("ui-igpivot-droparea")||r.hasClass("ui-igpivot-droparea"))&&(r.is(".ui-igpivot-metadataitem")?this._shouldAppendToTarget(r,i)?(this._insertIndex=r.index()+1,n(u).insertAfter(r)):r.index()===0?(this._insertIndex=0,n(u).insertBefore(r)):(this._insertIndex=r.index(),n(u).insertBefore(r)):r.is(".ui-igpivot-droparea")&&(r=r.find(".ui-igpivot-metadataitem:last"),this._insertIndex=r.index()+1,n(u).insertAfter(r)))},_onDraggableOut:function(t,i){var r=n(i.helper.html()),u;i.draggable.removeClass("ui-igpivot-dragover"),u=i.draggable.closest("li.ui-igtree-node").length===0?"ui-icon-close":"ui-icon-cancel",i.helper.hasClass("ui-igpivot-draghelper")&&(r.find("span").removeClass("ui-icon-plus").addClass(u).siblings("strong"),i.helper.removeClass(this.css.dropIndicator).addClass(this.css.invalidDropIndicator).html(r)),i.draggable.unbind("drag."+this.widgetName),n(document).find(".ui-igpivot-insertitem").remove(),this._insertIndex=0},_getDefaultHierarchy:function(t,i,r,u){var f,e,o;if(t=i.substr(1,i.length-2),null!==r.getDimension(i)&&n.ig.DimensionType.prototype.measure===r.getDimension(i).dimensionType()){for(f=r.metadataTree().children().length-1;f>=0;f--)if(i===r.metadataTree().children()[f].item().uniqueName()){for(e=r.metadataTree().children()[f];null!==e.children();)e=e.children()[0];i=e.item().uniqueName(),o=r.getMeasure(i)}}else if(u===n.ig.Dimension.prototype.getType().typeName()){for(f=r.metadataTree().children().length-1;f>=0;f--)if(t===r.metadataTree().children()[f].item().name()||t===r.metadataTree().children()[f].item().name().replace(" ","")){if(typeof r.metadataTree().children()[f].item().defaultHierarchy=="function"&&r.metadataTree().children()[f].item().defaultHierarchy())i=r.metadataTree().children()[f].item().defaultHierarchy();else if(null!==r.metadataTree().children()[f].children()[0].item())i=r.metadataTree().children()[f].children()[0].item().uniqueName();else{for(e=r.metadataTree().children()[f].children()[0];null===e.item();)e=e.children()[0];i=e.item().uniqueName()}break}o=r.getHierarchy(i)}else o=null;return o},_addDroppedMeasure:function(t,i,r){var u;if(t instanceof Array)for(u=0;u<t.length;u++)i.addMeasureItem(t[u]);else if(t instanceof n.ig.Kpi)for(t=this._addingKpiMetadataItems(i,t.name()),u=0;u<t.length;u++)i.removeMeasureItem(t[u]),i.addMeasureItem(t[u]);else i.insertMeasureItem(r,t)},_onDrop:function(t,r,u,f,e,o){var h=this._ds,k=!0,w=n(u).attr("data-role"),c=this._insertIndex,s,v,l,y,b,a,p,d,g;if(r.draggable.unbind("."+this.widgetName),n(document).find(".ui-igpivot-insertitem").remove(),n.isFunction(this.options.customMoveValidation)&&(k=this.options.customMoveValidation.call(this.element,n(t.target).attr("data-role"),e,o)),!k)return!1;switch(e){case n.ig.Dimension.prototype.getType().typeName():v=n.ig.Dimension.prototype.getType();break;case n.ig.Hierarchy.prototype.getType().typeName():v=n.ig.Hierarchy.prototype.getType();break;case n.ig.Measure.prototype.getType().typeName():v=n.ig.Measure.prototype.getType();break;case n.ig.Kpi.prototype.getType().typeName():v=n.ig.Kpi.prototype.getType();break;case n.ig.KpiMeasure.prototype.getType().typeName():v=n.ig.KpiMeasure.prototype.getType();break;case n.ig.MeasureList.prototype.getType().typeName():v=n.ig.MeasureList.prototype.getType();break;default:return!1}if(s=this._getDefaultHierarchy(g,o,h,e),null===s&&(s=h.getCoreElement(function(n){return n.uniqueName()===o},v)),!s)return!1;if(d=this._triggerMetadataDropping(t,r,u,f,s,c),d){if(l=(y=n.inArray(s,h.filters()))>-1?"filters":(y=n.inArray(s,h.rowAxis()))>-1?"rows":(y=n.inArray(s,h.columnAxis()))>-1?"columns":(y=n.inArray(s,h.measures()))>-1||s instanceof Array?"measures":null,l!==null&&l===w&&y<c&&c--,p=!1,n(".ui-igpivotgrid").each(function(){if(n(this).data("igPivotGrid")&&n(this).igPivotGrid("option","rowHeadersLayout")==="tree")return p=!0,!1}),this._isInstance(s,"MeasureList"))h.setMeasureListLocation(w),h.setMeasureListIndex(p&&w==="rows"?0:c);else if(p&&this._isInstance(s,"Measure")&&h.measures().length>0&&h.dataSource().measureListLocation()===0)h.setMeasureListIndex(0),this._addDroppedMeasure(s,h,c);else{this._isInstance(s,"Hierarchy")&&(b=h.getFilterMemberNames(o)),p&&typeof h.rowAxis().item(0)!="undefined"&&typeof h.rowAxis().item(0).measures=="function"&&c===0&&(c=1);switch(l){case"filters":h.removeFilterItem(s);break;case"rows":h.removeRowItem(s);break;case"columns":h.removeColumnItem(s);break;case"measures":if(s instanceof Array)for(a=0;a<s.length;a++)h.removeMeasureItem(s[a]);else h.removeMeasureItem(s)}switch(w){case"filters":h.insertFilterItem(c,s);break;case"rows":h.insertRowItem(c,s);break;case"columns":h.insertColumnItem(c,s);break;case"measures":this._addDroppedMeasure(s,h,c)}if(this._isInstance(s,"Hierarchy"))for(a=0;a<b.length;a++)h.addFilterMember(o,b[a])}return this.widgetName==="igPivotGrid"&&r.draggable.data(i)&&delete r.draggable.data(i).plugins.stop,this._updateDataSource(),this._triggerMetadataDropped(t,r,u,f,s,c),!0}return!1},_createMetadataItemDropDown:function(t,i,r){var u=this,h=this.options,k=this._ds,e,b,f,s,v,l,y,a,o,d,p,w,c;if(e=n(i).closest(".ui-igpivot-droparea").attr("data-role"),e!=="columns"&&e!=="rows"||r._caption!=="Measures"){if(o=n.isFunction(this.options.customMoveValidation)?function(n){return u.options.customMoveValidation.call(u.element,n,r.getType().name,r.uniqueName()||undefined)}:function(){return!0},b=n(this.options.dropDownParent).first(),f=n("<div class='"+this.css.metadataItemDropDown+"'><\/div>"),f.data("efh","1"),f.css({position:"absolute",top:0,left:0}).appendTo(b).bind(this._getEvent("mousedown"),function(n){n.stopPropagation()}),s=n("<ul class='ui-widget'><\/ul>").appendTo(f),p=this._getDefaultHierarchy(d,r.uniqueName(),k,r.getType().typeName()),p&&(r=p),w=n("li[data-name='"+r.uniqueName()+"']"),0<w.length&&(e=w.parent().attr("data-role")),this._isInstance(r,"Measure")||this._isInstance(r,"Kpi")?!h.disableMeasuresDropArea&&e!=="measures"&&o("measures")&&n("<li><span class='ui-icon ui-icon-pivot-measures'><\/span>"+n.ig.util.getLocaleValue("PivotShared","addToMeasures")+"<\/li>").appendTo(s).click(function(){if(u._isInstance(r,"Kpi")){for(a=u._addingKpiMetadataItems(u._ds,n(i).attr("data-name")),c=0;c<a.length;c++)u._ds.removeMeasureItem(a[c]),u._ds.addMeasureItem(a[c]);f.remove(),u._updateDataSource()}else u._ds.removeMeasureItem(r),u._ds.addMeasureItem(r),f.remove(),u._updateDataSource()}):this._isInstance(r,"MeasureList")?(v=function(n,t){u._ds.setMeasureListLocation(n),u._ds.setMeasureListIndex(t),f.remove(),u._updateDataSource()},!h.disableColumnsDropArea&&e!=="columns"&&o("columns")&&n("<li><span class='ui-icon ui-icon-pivot-clumns'><\/span>"+n.ig.util.getLocaleValue("PivotShared","addToColumns")+"<\/li>").appendTo(s).click(function(){v("columns",u._ds.columnAxis().length)}),!h.disableRowsDropArea&&e!=="rows"&&o("rows")&&n("<li><span class='ui-icon ui-icon-pivot-rows'><\/span>"+n.ig.util.getLocaleValue("PivotShared","addToRows")+"<\/li>").appendTo(s).click(function(){v("rows",u._ds.rowAxis().length)})):(l=function(n){var t,i=r.uniqueName(),e=u._ds.getFilterMemberNames(i);for(u._ds.removeFilterItem(r),u._ds.removeColumnItem(r),u._ds.removeRowItem(r),u._ds[n](r),t=0;t<e.length;t++)u._ds.addFilterMember(i,e[t]);f.remove(),u._updateDataSource()},!h.disableFiltersDropArea&&e!=="filters"&&o("filters")&&n("<li><span class='ui-icon ui-icon-pivot-filters'><\/span>"+n.ig.util.getLocaleValue("PivotShared","addToFilters")+"<\/li>").appendTo(s).click(function(){l("addFilterItem")}),!h.disableColumnsDropArea&&e!=="columns"&&o("columns")&&n("<li><span class='ui-icon ui-icon-pivot-columns'><\/span>"+n.ig.util.getLocaleValue("PivotShared","addToColumns")+"<\/li>").appendTo(s).click(function(){l("addColumnItem")}),!h.disableRowsDropArea&&e!=="rows"&&o("rows")&&n("<li><span class='ui-icon ui-icon-pivot-rows'><\/span>"+n.ig.util.getLocaleValue("PivotShared","addToRows")+"<\/li>").appendTo(s).click(function(){l("addRowItem")})),y=f.find("li"),y.length===0){f.remove();return}f.css("position","absolute").position({of:i,my:"left top",at:"left bottom"}),y.bind(this._getEvent("mouseover"),function(){n(this).addClass("ui-state-hover")}).bind(this._getEvent("mouseout"),function(){n(this).removeClass("ui-state-hover")}),n(document).bind(this._getEvent("mousedown")+"."+this.widgetName,function(){f.remove(),n(document).unbind("."+u.widgetName)})}},_createFilterDropDown:function(t,i,r){var s=this,h,e,c,u,a,o,f,l;l=this._triggerFilterDropDownOpening(t,r),l&&(h=r.uniqueName(),e=new n.ig.HierarchyFilterView(r),c=n(this.options.dropDownParent).first(),u=n("<div class='"+this.css.filterDropDown+"'><\/div>"),u.data("efh","1"),u.css({position:"absolute",top:0,left:0}).attr("data-hierarchy",h).appendTo(c).position({of:i,my:"left top",at:"left bottom"}).bind(this._getEvent("mousedown"),function(n){n.stopPropagation()}),a=n("<div class='"+this.css.filterMembers+"'><\/div>").appendTo(u),o=n("<div class='ui-igpivot-filterdropdown-buttoncontainer'><\/div>").appendTo(u),f=function(n){s._removeFilterDropDown(n,u,r)},n("<button><\/button>").attr("data-role","ok").text(n.ig.util.getLocaleValue("PivotShared","ok")).appendTo(o).igButton().igButton("disable").click(function(n){s._onFilterOk(n,u,e,r)}),n("<button><\/button>").attr("data-role","cancel").text(n.ig.util.getLocaleValue("PivotShared","cancel")).appendTo(o).igButton().click(f),n(document).bind(this._getEvent("mousedown")+"."+this.widgetName,f),this._loadFilterMembers(e,r,f),this._triggerFilterDropDownOpened(t,u,r))},_loadFilterMembers:function(t,i,r){var w=this,f,s,e,h,a,o,c,l,v,y,p,u;if(f=this._ds,s=i.uniqueName(),h=f.getFilterMemberNames(s),h.length>0){for(c=[],l=0,u=0;u<h.length;u++)o=f.tryGetMember(h[u]),o&&(c.push(o),o.levelDepth()>l&&(l=o.levelDepth()));for(v=f.getCoreElements(function(n){return n.hierarchyUniqueName()===s&&n.depth()<=l},n.ig.Level.prototype.getType()),u=0;u<v.length;u++)y=f.tryGetMembersForLevel(v[u].uniqueName()),t.addFiltersForMembers(y);for(e=t.getRootFilterMembers(),e=e?e.__inner:[],u=0;u<e.length;u++)e[u].isSelected(n.ig.util.toNullable(n.ig.Boolean.prototype.$type,!1));for(u=0;u<c.length;u++)a=t.tryGetFilterMember(c[u].uniqueName()),a&&a.isSelected(n.ig.util.toNullable(n.ig.Boolean.prototype.$type,!0))}p=f.getCoreElement(function(n){return n.depth()===0&&n.hierarchyUniqueName()===s},n.ig.Level.prototype.getType()),this._ds.getMembersOfLevel(p.uniqueName()).done(function(n){w._onFilterMembersLoaded(t,n,i)}).fail(r)},_onFilterMembersLoaded:function(t,i,r){var f,u,e;f=r.uniqueName(),t.addFiltersForMembers(i),u=n(".ui-igpivot-filterdropdown").filter(function(){return n(this).attr("data-hierarchy")===f}),u.length>0&&(e=n(u[0]).find(".ui-igpivot-filtermembers"),this._initTree(e,t))},_getScrollBarWidth:function(){var t=n("<div style='width: 100px; height: 100px; position: absolute; top: -10000px;left: -10000px; overflow: scroll'><\/div>").appendTo(n(document.body)),i;return i=t[0].offsetWidth-t[0].clientWidth,t.remove(),i},_getElementSize:function(t){var i=n("<div style='width: 5000px; height: 5000px; position: absolute; top: -10000px; left: -10000px;'><\/div>").appendTo(n(document.body)),r,u,f;return u=t.css("position"),f=t.css("float"),t.css({position:"relative",float:"left"}),t.appendTo(i),r=[t.width(),t.height()],t.css("position",u),t.css("float",f),t.detach(),i.remove(),r},_arrangeDropDown:function(t){var c=this,i,r,l,a,v,y,p,w,b,e,k,u,d,g,nt,o,s,h,tt,it,f,rt,ut;ut=30,i=n(".ui-igpivot-filterdropdown"),r=n(".ui-igpivot-filterdropdown .ui-igpivot-filtermembers"),l=r.height(),a=n(".ui-igpivot-filterdropdown-buttoncontainer").innerHeight(),v=parseInt(i.css("top").replace("px",""),10),y=n(document).scrollTop(),s=n(window).height(),h=window.innerHeight,p=s>h?s:h,w=y+p,b=w-a-ut,e=Math.floor(b-v),k=parseInt(i.css("left").replace("px",""),10),u=n("body").css("left"),u=u==="auto"?0:parseInt(u.replace("px",""),10),d=n("body").width(),g=u+d,nt=g,o=Math.floor(nt-k),r.css("max-height",e),i.css("max-width",o),tt=parseInt(i.css("padding-left").replace("px",""),10)+parseInt(i.css("padding-right").replace("px",""),10)+parseInt(i.css("border-left-width").replace("px",""),10)+parseInt(i.css("border-right-width").replace("px",""),10),rt=r[0].scrollTop,r.detach(),it=c._getElementSize(r),i.prepend(r),r[0].scrollTop=rt,f=it[0]+c._getScrollBarWidth()+parseInt(r.css("padding-right").replace("px",""),10)+tt,f=Math.max(f,parseInt(i.css("min-width").replace("px",""),10)),i.css("width",f),(l>e||t===!1)&&(f<=o?r.css("overflow-x","hidden"):r.css("overflow-x","auto"))},_initTree:function(t,i){var f=this,o=this._ds,e,u;n(t).siblings(".ui-igpivot-filterdropdown-buttoncontainer").children(".ui-igbutton[data-role=ok]").igButton("enable"),e=function(t,i){for(var f,r,o,e,u=0;u<i.length;u++)o=i[u].filterMember,f=o.isSelected(),r=f.hasValue()?f.value()?"on":"off":"partial",n(t).is(".ui-igpivot-filtermembers")&&(e=n(t).igTree("option","bindings"),i[u].hasOwnProperty(e.checkedKey)&&(i[u][e.checkedKey]=r)),n(t).find('.ui-igtree-node[data-value="'+i[u].uniqueName+'"]').children("[data-role=checkbox]").attr("data-chk",r).children("span").removeClass("ui-state-disabled ui-igcheckbox-normal-on ui-igcheckbox-normal-partial ui-igcheckbox-normal-off").addClass("ui-igcheckbox-normal-"+r+(r==="partial"?" ui-igcheckbox-normal-on ui-state-disabled":""))},u=this._parseFilterMembers(i.getRootFilterMembers()),t.igTree({dataSource:u,loadOnDemand:!0,checkboxMode:"triState",bindings:{textKey:"caption",valueKey:"uniqueName",childDataProperty:"children"},rendered:function(){f._arrangeDropDown(!1)},nodeCollapsed:function(){f._arrangeDropDown(!1)},nodeCheckstateChanged:function(t,i){var u,r;u=n(this).siblings(".ui-igpivot-filterdropdown-buttoncontainer").children(".ui-igbutton[data-role=ok]"),i.newCheckedNodes&&i.newCheckedNodes.length>0?u.igButton("enable"):u.igButton("disable"),r=n(i.node.element).children("[data-role=checkbox]").attr("data-chk"),r=r==="partial"?null:r==="on"?!0:!1,i.node.data.filterMember.isSelected(n.ig.util.toNullable(n.ig.Boolean.prototype.$type,r))},nodeExpanded:function(t,i){f._arrangeDropDown(!0);var r,u,e;if(!n.ig.Pivot._pivotShared._showLastLevelExpanders&&(e=i.node.element,u=i.node.data.children,u!==null&&0<u.length))for(r=0;r<u.length;r++)null!==u[r].children&&0===u[r].children.length&&e.find(".ui-igtree-node").eq(r).find("span:first").css("display","none")}}).css("overflow-x","hidden").data(r)._executeUrlRequest=function(t){var c=this,s=this.nodeDataFor(t.attr("data-path")),r,h,l;r=t.children("ul"),n("<li style='width:20px; height:20px;' data-role='loading'>&nbsp;<\/li>").appendTo(r),r.show(),h=r.children("li").igLoading({includeVerticalOffset:!0,cssClass:"ui-igpivotgrid-tree-blockarea"}).data("igLoading").indicator(),h.show(),this._populatingNode={ul:r,node:t,indicator:h},l=o.getCoreElements(function(n){return n.hierarchyUniqueName()===s.member.hierarchyUniqueName()},n.ig.Level.prototype.$type),n.ig.Pivot._pivotShared._showLastLevelExpanders=!0,o.getMembersOfMember(s.member.uniqueName()).done(function(r){var o;r.item(0)&&l.length-1===r.item(0).levelDepth()&&(n.ig.Pivot._pivotShared._showLastLevelExpanders=!1),i.addFiltersForMembers(r),o=f._parseFilterMembers(s.filterMember.children()),c._populateNodeData(!0,"",{data:function(){return o}}),c._updateParentState(t),e(t,s.children),f._triggerFilterMembersLoaded(t,u,o)})},e(t,u),this._triggerFilterMembersLoaded(t,u,u)},_parseFilterMembers:function(n){var u,t,f,i,r;if(n===null)return[];for(n=n.__inner,u=[],r=0;r<n.length;r++)f=n[r],i=f.member(),t={},t.filterMember=f,t.member=i,t.caption=i.caption(),t.uniqueName=i.uniqueName(),t.children=[],u.push(t);return u},_onFilterOk:function(n,t,i,r){var o=this._ds,s=r.uniqueName(),e,f,u,h;for(e=i.getSelectedFilterItems().__inner,f=[],u=0;u<e.length;u++)f.push(e[u].member().uniqueName());if(h=this._triggerFilterDropDownOk(n,t,r,f),h){for(o.removeAllFilterMembers(s),u=0;u<f.length;u++)o.addFilterMember(s,f[u]);this._updateDataSource(),this._removeFilterDropDown(n,t,r)}},_removeFilterDropDown:function(t,i,r){var u;u=this._triggerFilterDropDownClosing(t,i,r),u&&(i.find(".ui-igtree").igTree("destroy"),i.find(".ui-button").igButton("destroy"),i.remove(),n(document).unbind("."+this.widgetName),this._triggerFilterDropDownClosed(t,r))},_triggerDataSourceInitialized:function(n,t){this._trigger("dataSourceInitialized",n,t)},_triggerDataSourceUpdated:function(n,t){this._trigger("dataSourceUpdated",n,t)},_triggerDragStart:function(t,i,r){var u={helper:i.helper,offset:i.offset,originalPosition:i.originalPosition,position:i.position,metadata:r};return n(".ui-igpivot-overlaydroparea").css("display","block"),this._trigger("dragStart",t,u)},_triggerDrag:function(n,t,i){var r={helper:t.helper,offset:t.offset,originalPosition:t.originalPosition,position:t.position,metadata:i};return this._trigger("drag",n,r)},_triggerDragStop:function(t,i){n(".ui-igpivot-overlaydroparea").css("display","none"),this._trigger("dragStop",t,i)},_triggerMetadataDropping:function(n,t,i,r,u){var f={helper:t.helper,offset:t.offset,position:t.position,targetElement:i,metadata:r,metadataIndex:u};return this._trigger("metadataDropping",n,f)},_triggerMetadataDropped:function(n,t,i,r,u,f){var e={helper:t.helper,offset:t.offset,position:t.position,targetElement:i,draggedElement:r,metadata:u,metadataIndex:f};this._trigger("metadataDropped",n,e)},_triggerMetadataRemoving:function(n,t,i){var r={targetElement:t,metadata:i};return this._trigger("metadataRemoving",n,r)},_triggerMetadataRemoved:function(n,t){var i={metadata:t};this._trigger("metadataRemoved",n,i)},_triggerFilterDropDownOpening:function(n,t){var i={hierarchy:t};return this._trigger("filterDropDownOpening",n,i)},_triggerFilterDropDownOpened:function(n,t,i){var r={dropDownElement:t,hierarchy:i};this._trigger("filterDropDownOpened",n,r)},_triggerFilterMembersLoaded:function(n,t,i){var r={parent:n,rootFilterMembers:t,filterMembers:i};this._trigger("filterMembersLoaded",null,r)},_triggerFilterDropDownOk:function(n,t,i,r){var u={dropDownElement:t,hierarchy:i,filterMembers:r};return this._trigger("filterDropDownOk",n,u)},_triggerFilterDropDownClosing:function(n,t,i){var r={dropDownElement:t,hierarchy:i};return this._trigger("filterDropDownClosing",n,r)},_triggerFilterDropDownClosed:function(n,t){var i={hierarchy:t};this._trigger("filterDropDownClosed",n,i)}},n.widget("ui.igOlapDataSourceWidget",{_create:function(){this._ds=n.ig.Pivot._pivotShared._createDataSource(null,this.options.dataSourceOptions)},dataSource:function(){return this._ds}})}(n),function(n){var t=n.ui.droppable.prototype.widgetFullName||n.ui.droppable.prototype.widgetName;n.widget("ui.igPivotDataSelector",n.ui.igWidget,{css:{dataSelector:"ui-igpivotdataselector",dataSelectorRoot:"ui-igpivotdataselector-root",catalog:"ui-igpivotdataselector-catalog",cube:"ui-igpivotdataselector-cube",measureGroup:"ui-igpivotdataselector-measuregroup",metadata:"ui-igpivotdataselector-metadata ui-widget-content",metadataItem:"ui-igpivot-metadataitem ui-widget ui-corner-all ui-state-default",dropAreasTable:"ui-igpivotdataselector-dropareas",dropArea:"ui-igpivot-droparea ui-widget-content",activeDropArea:"active",filtersIcon:"ui-icon ui-icon-pivot-filters",columnsIcon:"ui-icon ui-icon-pivot-columns",rowsIcon:"ui-icon ui-icon-pivot-rows",measuresIcon:"ui-icon ui-icon-pivot-measures",updateLayout:"ui-igpivotdataselector-updatelayout",dropIndicator:"ui-state-highlight",invalidDropIndicator:"ui-state-error",insertItem:"ui-igpivot-insertitem ui-state-highlight ui-corner-all",metadataItemDropDown:"ui-igpivot-metadatadropdown ui-widget ui-widget-content",filterIcon:"ui-icon ui-icon-pivot-smallfilter ui-icon-carat-1-s",filterDropDown:"ui-igpivot-filterdropdown ui-widget ui-widget-content",filterMembers:"ui-igpivot-filtermembers"},options:{width:250,height:null,dataSource:null,dataSourceOptions:{xmlaOptions:{serverUrl:null,catalog:null,cube:null,measureGroup:null,requestOptions:{withCredentials:!1,beforeSend:null},enableResultCache:!0,discoverProperties:null,executeProperties:null,mdxSettings:{nonEmptyOnRows:!0,nonEmptyOnColumns:!0,addCalculatedMembersOnRows:!0,addCalculatedMembersOnColumns:!0,dimensionPropertiesOnRows:[],dimensionPropertiesOnColumns:[]}},flatDataOptions:{dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseDataType:null,metadata:{cube:{name:null,caption:null,measuresDimension:{name:null,caption:null,measures:[{name:null,caption:null,aggregator:null,displayFolder:null}]},dimensions:[{name:null,caption:null,hierarchies:[{name:null,caption:null,displayFolder:null,levels:[{name:null,caption:null,memberProvider:null}]}]}]}}},measures:null,filters:null,rows:null,columns:null},deferUpdate:!1,dragAndDropSettings:{appendTo:"body",containment:!1,zIndex:10},dropDownParent:"body",disableRowsDropArea:!1,disableColumnsDropArea:!1,disableMeasuresDropArea:!1,disableFiltersDropArea:!1,customMoveValidation:null},events:{dataSelectorRendered:null,dataSourceInitialized:null,dataSourceUpdated:null,deferUpdateChanged:null,dragStart:null,drag:null,dragStop:null,metadataDropping:null,metadataDropped:null,metadataRemoving:null,metadataRemoved:null,filterDropDownOpening:null,filterDropDownOpened:null,filterMembersLoaded:null,filterDropDownOk:null,filterDropDownClosing:null,filterDropDownClosed:null},_deferUpdate:!1,_create:function(){var n=this,t=this.element[0].nodeName.toUpperCase();if(t!=="DIV")throw new Error(t+this._getLocaleValue("invalidBaseElement"));this.element.addClass(this.css.dataSelector),this._onFiltersChanged=function(t,i){var r=n.element.find(".ui-igpivot-droparea[data-role=filters]");n._onDataSourceCollectionChanged(t,i,r,n.options.disableFiltersDropArea)},this._onRowAxisChanged=function(t,i){var r=n.element.find(".ui-igpivot-droparea[data-role=rows]");n._onDataSourceCollectionChanged(t,i,r,n.options.disableRowsDropArea)},this._onColumnAxisChanged=function(t,i){var r=n.element.find(".ui-igpivot-droparea[data-role=columns]");n._onDataSourceCollectionChanged(t,i,r,n.options.disableColumnsDropArea)},this._onMeasuresChanged=function(t,i){var r=n.element.find(".ui-igpivot-droparea[data-role=measures]");n._onDataSourceCollectionChanged(t,i,r,n.options.disableMeasuresDropArea)},this._setDataSource(),this._makeDroppable(this.element)},changeLocale:function(){this._super();var n=this.element.find("[data-combo-catalog]");n.data("igCombo")&&n.igCombo("option","locale",{placeHolder:this._getLocaleValue("catalog")}),n=this.element.find("[data-combo-cube]"),n.data("igCombo")&&n.igCombo("option","locale",{placeHolder:this._getLocaleValue("cube")}),n=this.element.find("[data-combo-group]"),n.data("igCombo")&&n.igCombo("option","locale",{placeHolder:this._getLocaleValue("measureGroup")})},_setOption:function(i,r){var u,f;switch(i){case"dataSource":this._clearDataSource(),this.options.dataSourceOptions=null,this.options.dataSource=this._createDataSource(r,null),this._setDataSource();break;case"dataSourceOptions":this._clearDataSource(),this.options.dataSourceOptions=r,this.options.dataSource=this._createDataSource(null,r),this._setDataSource();break;case"deferUpdate":n.Widget.prototype._setOption.apply(this,arguments),this._deferUpdate=r,this.element.find(".ui-igpivotdataselector-deferupdate").attr("checked",r),this.element.find(".ui-igpivotdataselector-updatelayout").igButton(r?"enable":"disable");break;case"width":n.Widget.prototype._setOption.apply(this,arguments),this.element.width(r),this.element.find(".ui-igpivotdataselector-catalog, .ui-igpivotdataselector-cube, .ui-igpivotdataselector-measuregroup").igCombo("option","width",this.element.children(".ui-igpivotdataselector-root").width());break;case"height":n.Widget.prototype._setOption.apply(this,arguments),this.element.height(r);break;case"dragAndDropSettings":n.Widget.prototype._setOption.apply(this,arguments),this.element.find(":ui-draggable").each(function(t,i){var u=n(i);u.draggable("option","appendTo",r.appendTo),u.draggable("option","containment",r.containment),u.draggable("option","zIndex",r.zIndex)});break;case"disableRowsDropArea":n.Widget.prototype._setOption.apply(this,arguments),u=this.element.find(".ui-igpivot-droparea[data-role=rows]"),r?(f=u.data(t),f&&f.destroy()):u.droppable(this._createDropAreaOptions()),this._fillDropArea(u,this._ds.rowAxis(),this.options.disableRowsDropArea);break;case"disableColumnsDropArea":n.Widget.prototype._setOption.apply(this,arguments),u=this.element.find(".ui-igpivot-droparea[data-role=columns]"),r?(f=u.data(t),f&&f.destroy()):u.droppable(this._createDropAreaOptions()),this._fillDropArea(u,this._ds.columnAxis(),this.options.disableColumnsDropArea);break;case"disableMeasuresDropArea":n.Widget.prototype._setOption.apply(this,arguments),u=this.element.find(".ui-igpivot-droparea[data-role=measures]"),r?(f=u.data(t),f&&f.destroy()):u.droppable(this._createDropAreaOptions()),this._fillDropArea(u,this._ds.measures(),this.options.disableMeasuresDropArea);break;case"disableFiltersDropArea":n.Widget.prototype._setOption.apply(this,arguments),u=this.element.find(".ui-igpivot-droparea[data-role=filters]"),r?(f=u.data(t),f&&f.destroy()):u.droppable(this._createDropAreaOptions()),this._fillDropArea(u,this._ds.filters(),this.options.disableFiltersDropArea);break;case"locale":case"language":this._superApply(arguments)}},_initUI:function(){var r=this,l=this._ds,u,h,s,o,t,i,f,e,a,c;this.options.width&&this.element.width(this.options.width),this.options.height&&this.element.height(this.options.height),u=n("<div class='ui-widget "+this.css.dataSelectorRoot+"'><\/div>").appendTo(this.element),this._isInstance(l,"OlapXmlaDataSource")&&(h={textKey:"_caption",valueKey:"_name",mode:"dropdown",enableClearButton:!1,width:u.width()},n("<input class='"+this.css.catalog+"' />").appendTo(u).attr("data-combo-catalog",!0).igCombo(n.extend({locale:{placeHolder:this._getLocaleValue("catalog")},selectionChanged:function(n,t){r._onCatalogSelected(t.items[0].data.name())}},h)),n("<input class='"+this.css.cube+"' />").appendTo(u).attr("data-combo-cube",!0).igCombo(n.extend({locale:{placeHolder:this._getLocaleValue("cube")},selectionChanged:function(n,t){r._onCubeSelected(t.items[0].data.name())}},h)),n("<input class='"+this.css.measureGroup+"' />").appendTo(u).attr("data-combo-group",!0).igCombo(n.extend({locale:{placeHolder:this._getLocaleValue("measureGroup")},selectionChanged:function(n,t){r._onMeasureGroupSelected(t.items[0].data.name())}},h))),n("<div class='"+this.css.metadata+"'><\/div>").appendTo(u).addClass().igTree({initialExpandDepth:0,bindings:{nodeContentTemplate:"<span class='ui-igpivot-metadataitem' data-name='${name}' data-type='${type}'><span class='${image}'/>${caption}<\/span>",childDataProperty:"children"},rendered:function(n,t){t.owner.element.removeAttr("data-scroll")}}),s=this._createDropAreaOptions(),o=n("<table class='"+this.css.dropAreasTable+"'><\/table>").appendTo(u),t=n("<tr><\/tr>").appendTo(o),i=n("<th><\/th>").appendTo(t),n("<span class='"+this.css.filtersIcon+"'><\/span>").appendTo(i),n("<span><\/span>").attr({"data-localeid":"filters"}).text(this._getLocaleValue("filters")).appendTo(i),i=n("<th><\/th>").appendTo(t),n("<span class='"+this.css.columnsIcon+"'><\/span>").appendTo(i),n("<span><\/span>").attr({"data-localeid":"columns"}).text(this._getLocaleValue("columns")).appendTo(i),t=n("<tr><\/tr>").appendTo(o),f=n("<td><\/td>").appendTo(t),e=n("<ul class='"+this.css.dropArea+"' data-role='filters'><\/ul>").appendTo(f),this.options.disableFiltersDropArea||e.droppable(s),f=n("<td><\/td>").appendTo(t),e=n("<ul class='"+this.css.dropArea+"' data-role='columns'><\/ul>").appendTo(f),this.options.disableColumnsDropArea||e.droppable(s),t=n("<tr><\/tr>").appendTo(o),i=n("<th><\/th>").appendTo(t),n("<span class='"+this.css.rowsIcon+"'><\/span>").appendTo(i),n("<span><\/span>").attr({"data-localeid":"rows"}).text(this._getLocaleValue("rows")).appendTo(i),i=n("<th><\/th>").appendTo(t),n("<span class='"+this.css.measuresIcon+"'><\/span>").appendTo(i),n("<span><\/span>").attr({"data-localeid":"measures"}).text(this._getLocaleValue("measures")).appendTo(i),t=n("<tr><\/tr>").appendTo(o),f=n("<td><\/td>").appendTo(t),e=n("<ul class='"+this.css.dropArea+"' data-role='rows'><\/ul>").appendTo(f),this.options.disableRowsDropArea||e.droppable(s),f=n("<td><\/td>").appendTo(t),e=n("<ul class='"+this.css.dropArea+"' data-role='measures'><\/ul>").appendTo(f),this.options.disableMeasuresDropArea||e.droppable(s),n.ig.util.isTouchDevice()&&o.find(".ui-igpivot-droparea").igScroll(),this._deferUpdate=this.options.deferUpdate,c=n("<label><\/label>").attr({"data-localeid":"deferUpdate"}).appendTo(u).text(this._getLocaleValue("deferUpdate")),a=n("<input class='ui-igpivotdataselector-deferupdate' type='checkbox' />").prependTo(c).change(function(t){r._deferUpdate=n(t.target).is(":checked"),r._deferUpdate?r.element.find(".ui-igpivotdataselector-updatelayout").igButton("enable"):(r.element.find(".ui-igpivotdataselector-updatelayout").igButton("disable"),r._updateDataSource()),r._triggerDeferUpdateChanged(r._deferUpdate)}),n("<button class='"+this.css.updateLayout+"'><\/button>").attr({title:this._getLocaleValue("updateLayout"),"data-localeid":"updateLayout","data-localeattr":"title"}).appendTo(u).igButton({text:!1,icons:{primary:"ui-icon-refresh"}}).igButton(this._deferUpdate?"enable":"disable").click(function(){r._updateDataSource(!0)}),this._triggerDataSelectorRendered()},_clearUI:function(){this.element.find(".ui-igpivotdataselector-catalog, .ui-igpivotdataselector-cube, .ui-igpivotdataselector-measuregroup").igCombo("destroy"),this.element.find(".ui-igpivotdataselector-metadata").igTree("destroy"),this.element.find(".ui-igpivot-droparea .ui-igpivot-metadataitem.ui-draggable").draggable("destroy").remove(),this.element.empty()},_setDataSource:function(){var i=this,t;(this._ds=t=this._createDataSource(this.options.dataSource,this.options.dataSourceOptions),this._initUI(),t)&&(this.timestamp=+new Date,n(t).bind("initialized.dataselector"+this.timestamp,function(n,t){i._onDataSourceInitialized(n,t)}),n(t).bind("updated.dataselector"+this.timestamp,function(n,t){i._onDataSourceUpdated(n,t)}),t.isInitialized()?(this._isInstance(t,"OlapXmlaDataSource")?this._onCatalogSelected(this._getItemName(t.catalog()),!0):this._fillMetadata(t.metadataTree()),t.bindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged})):t.initialize())},_clearDataSource:function(){this._ds&&(n(this._ds).unbind("updated.dataselector"),this._ds.unbindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged})),this._filterMembersCache=[],this._clearUI()},_onDataSourceInitialized:function(t,i){var r=this._ds,u=n.extend({owner:this,dataSource:r},i);r.bindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged}),this._triggerDataSourceInitialized(t,u),i.error||(this._isInstance(r,"OlapXmlaDataSource")?this._onCatalogSelected(this._getItemName(r.catalog()),!0):this._fillMetadata(r.metadataTree()))},_updateDataSource:function(n){var t=this._ds,i=n||this._deferUpdate===!1;i&&t.cube()!==null&&t.update()},_onDataSourceUpdated:function(t,i){var r=this._ds,u=n.extend({owner:this,dataSource:r},i);this._triggerDataSourceUpdated(t,u)},_getItemName:function(n){return n&&n.name()},_fillCombo:function(t,i,r){var u=typeof r;this.element.find(t).igCombo("option","dataSource",i),u==="number"&&r!==null?this.element.find(t).igCombo("index",r):u==="object"&&r!==null&&n.isFunction(r.name)&&this.element.find(t).igCombo("value",r.name())},_clearCombo:function(n){this.element.find(n).igCombo("deselectAll").igCombo("option","dataSource",null)},_fillMetadata:function(t){var i=this,e=function(t){var r={},s=!0,o,i,f,u;switch(t.type()){case n.ig.OlapMetadataTreeItemType.prototype.cube:i="cube";break;case n.ig.OlapMetadataTreeItemType.prototype.dimension:i="dimension";break;case n.ig.OlapMetadataTreeItemType.prototype.group:i="folder",s=!1;break;case n.ig.OlapMetadataTreeItemType.prototype.userDefinedHierarchy:i="hierarchymultiple";break;case n.ig.OlapMetadataTreeItemType.prototype.systemEnabledHierarchy:i="hierarchysingle";break;case n.ig.OlapMetadataTreeItemType.prototype.parentChildHierarchy:i="hierarchydirect";break;case n.ig.OlapMetadataTreeItemType.prototype.measure:i="measure";break;case n.ig.OlapMetadataTreeItemType.prototype.level1:i="level1";break;case n.ig.OlapMetadataTreeItemType.prototype.level2:i="level2";break;case n.ig.OlapMetadataTreeItemType.prototype.level3:i="level3";break;case n.ig.OlapMetadataTreeItemType.prototype.level4:i="level4";break;case n.ig.OlapMetadataTreeItemType.prototype.level5:i="level5";break;case n.ig.OlapMetadataTreeItemType.prototype.kpiRoot:case n.ig.OlapMetadataTreeItemType.prototype.kpi:i="kpi";break;case n.ig.OlapMetadataTreeItemType.prototype.kpiValue:i="kpi value";break;case n.ig.OlapMetadataTreeItemType.prototype.kpiGoal:i="kpi goal";break;case n.ig.OlapMetadataTreeItemType.prototype.kpiStatus:i="kpi status";break;case n.ig.OlapMetadataTreeItemType.prototype.kpiTrend:i="kpi trend";break;case n.ig.OlapMetadataTreeItemType.prototype.kpiWeight:i="kpi weight";break;default:i="folder"}if(r.caption=t.caption(),r.image=i,s&&(o=t.item(),r.name=o.uniqueName(),r.type=o.getType().typeName()),f=t.children(),f)for(r.children=[],u=0;u<f.length;u++)r.children[u]=e(f[u]);return r},o=t===null?[]:[e(t)],u=this.options.dragAndDropSettings,r,f;r=this.element.find(".ui-igpivotdataselector-metadata").igTree("option","dataSource",o),f=r.find(".ui-igpivot-metadataitem[data-type='Kpi'],.ui-igpivot-metadataitem[data-type='Measure'],.ui-igpivot-metadataitem[data-type='Dimension'],.ui-igpivot-metadataitem[data-type='Hierarchy'],.ui-igpivot-metadataitem[data-type='KpiMeasure']"),f.draggable({appendTo:u.appendTo,containment:u.containment,zIndex:u.zIndex,cursorAt:this._const.dragCursorAt,revert:!1,helper:function(){var t;return t=n(i._const.dragHelperMarkup.replace("{0}",n(this).text())),t.addClass(i.css.invalidDropIndicator).find("span").addClass("ui-icon  ui-icon-cancel"),t},start:function(t,u){return i._triggerDragStart(t,u,r.igTree("nodeDataFor",n(this).attr("data-path")))},drag:function(t,u){return i._triggerDrag(t,u,r.igTree("nodeDataFor",n(this).attr("data-path")))},over:function(n,t){i._onDraggableOver(n,t)},out:function(n,t){i._onDraggableOut(n,t)},stop:function(n,t){i._triggerDragStop(n,t)}}),f.click(function(t){var f=r.igTree("nodeDataFor",n(this).closest("li").attr("data-path")),e=f.name,o=n.ig[f.type].prototype.getType(),u;u=i._ds.getCoreElement(function(n){return n.uniqueName()===e},o),u&&i._createMetadataItemDropDown(t,this,u)}),this._fillDropArea(".ui-igpivot-droparea[data-role=filters]",this._ds.filters(),this.options.disableFiltersDropArea),this._fillDropArea(".ui-igpivot-droparea[data-role=rows]",this._ds.rowAxis(),this.options.disableRowsDropArea),this._fillDropArea(".ui-igpivot-droparea[data-role=columns]",this._ds.columnAxis(),this.options.disableColumnsDropArea),this._fillDropArea(".ui-igpivot-droparea[data-role=measures]",this._ds.measures(),this.options.disableMeasuresDropArea)},_fillDropArea:function(n,t,i){var r,u;for(n=n.jquery?n:this.element.find(n),n.empty(),r=0,u=t.length;r<u;r++)this._createMetadataElement(t[r],i,"appendTo",n)},_clearMetadata:function(){this.element.find(".ui-igpivotdataselector-metadata").igTree("option","dataSource",[])},_onCatalogSelected:function(n,t){var r=this,i=this._ds,u=function(){r._fillCombo(".ui-igpivotdataselector-catalog",i.catalogs(),i.catalog()),r._fillCombo(".ui-igpivotdataselector-cube",i.cubes(),i.cube()),r._onCubeSelected(r._getItemName(i.cube()),t)};this._clearCombo(".ui-igpivotdataselector-cube"),n===null?u():i.setCatalog(n).done(u)},_onCubeSelected:function(n,t){var i=this,r=this._ds,u=function(){var u=r.cube()&&(r.measureGroup()||0),n=r.measureGroups().slice();n.splice(0,0,{_caption:i._getLocaleValue("measureGroupAll"),_name:i._getLocaleValue("measureGroupAll")}),i._fillCombo(".ui-igpivotdataselector-measuregroup",n,u),i._onMeasureGroupSelected(i._getItemName(r.measureGroup()),t)};this._clearCombo(".ui-igpivotdataselector-measuregroup"),n===null?u():r.setCube(n).done(u)},_onMeasureGroupSelected:function(n,t){var i=this,r=this._ds,u=function(){i._fillMetadata(r.metadataTree()),t||i._updateDataSource()};this._clearMetadata(),n===null?u():r.setMeasureGroup(n).done(u)},_shouldAppendToTarget:function(n,t){return n.igOffset().top+n.height()/2<t.offset.top+this._const.dragCursorAt.top},update:function(){this._ds.update()},destroy:function(){return this._clearDataSource(),this.element.removeClass(this.css.dataSelector),n(this._ds).unbind("updated.dataselector"+this.timestamp),n(this._ds).unbind("initialized.dataselector"+this.timestamp),this._superApply(arguments),this},_triggerDataSelectorRendered:function(){var n={owner:this};this._trigger("dataSelectorRendered",null,n)},_triggerDeferUpdateChanged:function(n){var t={owner:this,deferUpdate:n};this._trigger("deferUpdateChanged",null,t)}}),n.extend(!0,n.ui.igPivotDataSelector.prototype,n.ig.Pivot._pivotShared),n.extend(n.ui.igPivotDataSelector,{version:"19.2.25"})}(n),function(n){function t(){this[0]=[]}t.prototype=[],t.prototype.set=function(n,t,i){this.length<n+1&&this.setRowCount(n+1),this[0].length<t+1&&this.setColumnCount(t+1),this[n][t]=i},t.prototype.setRowCount=function(n){var t,i=this.length;for(this.length=n,t=i;t<n;t++)this[t]=[],this[t].length=this[0].length},t.prototype.setColumnCount=function(n){for(var t=0;t<this.length;t++)this[t].length=n};var i=function(n){return n===null||n===undefined},r=n.ui.igGrid.prototype.widgetFullName||n.ui.igGrid.prototype.widgetName;n.widget("ui.igPivotGrid",n.ui.igWidget,{css:{pivotGrid:"ui-igpivotgrid",pivotGridHeader:"ui-igpivotgrid-header",expandButton:"ui-iggrid-headerbutton ui-icon ui-icon-plus",collapseButton:"ui-iggrid-headerbutton ui-iggrid-headerbuttonexpanded ui-icon ui-icon-minus",rowsAscending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-n",rowsDescending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-s",headerRowsAscending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-n",headerRowsDescending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-s",headerColumnsAscending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-n",headerColumnsDescending:"ui-iggrid-sortindicator ui-icon ui-icon-triangle-1-s",blockArea:"ui-igpivotgrid-blockarea",metadataItem:"ui-igpivot-metadataitem ui-widget ui-corner-all ui-state-default",dropAreaHeader:"ui-igpivot-dropareaheader ui-iggrid-header ui-widget-header",scrollButton:"ui-iggrid-headerbutton",scrollLeft:"ui-icon ui-icon-triangle-1-w",scrollRight:"ui-icon ui-icon-triangle-1-e",dropArea:"ui-igpivot-droparea",overlayDropArea:"ui-igpivot-overlaydroparea",activeDropArea:"active",dropIndicator:"ui-state-highlight",invalidDropIndicator:"ui-state-error",insertItem:"ui-igpivot-insertitem ui-state-highlight ui-corner-all",metadataItemDropDown:"ui-igpivot-metadatadropdown ui-widget ui-widget-content",filterIcon:"ui-icon ui-icon-pivot-smallfilter ui-icon-carat-1-s",filterDropDown:"ui-igpivot-filterdropdown ui-widget ui-widget-content",filterMembers:"ui-igpivot-filtermembers"},options:{width:null,height:null,dataSource:null,dataSourceOptions:{xmlaOptions:{serverUrl:null,catalog:null,cube:null,measureGroup:null,requestOptions:{withCredentials:!1,beforeSend:null},enableResultCache:!0,discoverProperties:null,executeProperties:null,mdxSettings:{nonEmptyOnRows:!0,nonEmptyOnColumns:!0,addCalculatedMembersOnRows:!0,addCalculatedMembersOnColumns:!0,dimensionPropertiesOnRows:[],dimensionPropertiesOnColumns:[]}},flatDataOptions:{dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseDataType:null,metadata:{cube:{name:null,caption:null,measuresDimension:{name:null,caption:null,measures:[{name:null,caption:null,aggregator:null,displayFolder:null}]},dimensions:[{name:null,caption:null,hierarchies:[{name:null,caption:null,displayFolder:null,levels:[{name:null,caption:null,memberProvider:null}]}]}]}}},measures:null,filters:null,rows:null,columns:null},deferUpdate:!1,isParentInFrontForColumns:!1,isParentInFrontForRows:!0,compactColumnHeaders:!1,compactRowHeaders:!0,rowHeadersLayout:null,compactColumnHeaderIndentation:30,compactRowHeaderIndentation:20,rowHeaderLinkGroupIndentation:5,treeRowHeaderIndentation:10,defaultRowHeaderWidth:200,allowSorting:!1,firstSortDirection:"ascending",allowHeaderRowsSorting:!1,allowHeaderColumnsSorting:!1,levelSortDirections:[{levelUniqueName:null,sortDirection:null,sortBehavior:null}],defaultLevelSortBehavior:"alphabetical",firstLevelSortDirection:"ascending",gridOptions:{defaultColumnWidth:null,fixedHeaders:!0,caption:null,features:[],tabIndex:0,alternateRowStyles:!0,enableHoverStyles:!1},dragAndDropSettings:{appendTo:"body",containment:!1,zIndex:10},dropDownParent:"body",disableRowsDropArea:!1,disableColumnsDropArea:!1,disableMeasuresDropArea:!1,disableFiltersDropArea:!1,hideRowsDropArea:!1,hideColumnsDropArea:!1,hideMeasuresDropArea:!1,hideFiltersDropArea:!1,customMoveValidation:null},events:{dataSourceInitialized:null,dataSourceUpdated:null,pivotGridHeadersRendered:null,pivotGridRendered:null,tupleMemberExpanding:null,tupleMemberExpanded:null,tupleMemberCollapsing:null,tupleMemberCollapsed:null,sorting:null,sorted:null,headersSorting:null,headersSorted:null,dragStart:null,drag:null,dragStop:null,metadataDropping:null,metadataDropped:null,metadataRemoving:null,metadataRemoved:null,filterDropDownOpening:null,filterDropDownOpened:null,filterMembersLoaded:null,filterDropDownOk:null,filterDropDownClosing:null,filterDropDownClosed:null},containerVisibilityTimeout:300,_const:{emptyCell:{headerText:"&nbsp;",key:"empty_cell",axisName:"empty_axis",memberIndex:0,tupleIndex:0},hoverScrollOffset:5,hoverScrollInterval:50},_headerScrollOffsets:{},_gridScrollOffsets:{top:0,left:0},_create:function(){var t=this;this._onFiltersChanged=function(i,r){var u=n("#"+t.element.attr("id")+"_filters .ui-igpivot-droparea");t._onDataSourceCollectionChanged(i,r,u,t.options.disableFiltersDropArea),t._updateDropArea(u,t._ds.filters(),t.options.disableFiltersDropArea,t.options.disableFiltersDropArea?"disabledFiltersHeader":"filtersHeader")},this._onRowAxisChanged=function(i,r){var u=n("#"+t.element.attr("id")+"_rows .ui-igpivot-droparea");t._onDataSourceCollectionChanged(i,r,u,t.options.disableRowsDropArea),t._updateDropArea(u,t._ds.rowAxis(),t.options.disableRowsDropArea,t.options.disableRowsDropArea?"disabledRowsHeader":"rowsHeader")},this._onColumnAxisChanged=function(i,r){var u=n("#"+t.element.attr("id")+"_columns .ui-igpivot-droparea");t._onDataSourceCollectionChanged(i,r,u,t.options.disableColumnsDropArea),t._updateDropArea(u,t._ds.columnAxis(),t.options.disableColumnsDropArea,t.options.disableColumnsDropArea?"disabledColumnsHeader":"columnsHeader"),t._columnsChanged=!0},this._onMeasuresChanged=function(i,r){var u=n("#"+t.element.attr("id")+"_measures .ui-igpivot-droparea");t._onDataSourceCollectionChanged(i,r,u,t.options.disableMeasuresDropArea),t._updateDropArea(u,t._ds.measures(),t.options.disableMeasuresDropArea,t.options.disableMeasuresDropArea?"disabledMeasuresHeader":"measuresHeader")},this.element.addClass(this.css.pivotGrid),this._setDataSource(),this.element.is(":visible")||(this._recheckVisibility=!0,this._visId=setInterval(n.proxy(this._checkContainerVisibility,this),this.containerVisibilityTimeout))},_checkContainerVisibility:function(){var t;this._recheckVisibility&&this.element.is(":visible")&&(this._recheckVisibility=!1,clearInterval(this._visId),t=n("#"+this.element.attr("id")+"_columns .ui-igpivot-droparea"),this._updateDropArea(t,this._ds.columnAxis(),this.options.disableColumnsDropArea,this.options.disableColumnsDropArea?"disabledColumnsHeader":"columnsHeader"),t=n("#"+this.element.attr("id")+"_rows .ui-igpivot-droparea"),this._updateDropArea(t,this._ds.rowAxis(),this.options.disableRowsDropArea,this.options.disableRowsDropArea?"disabledRowsHeader":"rowsHeader"),t=n("#"+this.element.attr("id")+"_measures .ui-igpivot-droparea"),this._updateDropArea(t,this._ds.measures(),this.options.disableMeasuresDropArea,this.options.disableMeasuresDropArea?"disabledMeasuresHeader":"measuresHeader"),t=n("#"+this.element.attr("id")+"_filters .ui-igpivot-droparea"),this._updateDropArea(t,this._ds.filters(),this.options.disableFiltersDropArea,this.options.disableFiltersDropArea?"disabledFiltersHeader":"filtersHeader"))},_setGridOption:function(n,t){this.element.igGrid("option",n,t)},changeLocale:function(){var n=this.grid().container();this._super(n.find("data-droparea"))},changeRegional:function(){this._setGridOption("regional",this.options.regional)},_setOption:function(t,i){var r,f,u;switch(t){case"dataSource":this._clearDataSource(),this.options.dataSourceOptions=null,this.options.dataSource=this._createDataSource(i,null),this._setDataSource();break;case"dataSourceOptions":this._clearDataSource(),this.options.dataSourceOptions=i,this.options.dataSource=this._createDataSource(null,i),this._setDataSource();break;case"deferUpdate":n.Widget.prototype._setOption.apply(this,arguments),i===!1&&this.updateGrid();break;case"height":n.Widget.prototype._setOption.apply(this,arguments),r=this.grid(),r&&r.option(t,i);break;case"width":n.Widget.prototype._setOption.apply(this,arguments),r=this.grid(),r&&(f=r.element.outerWidth(),r.option(t,i),u=r.element.find(">colgroup>col:last")[0],r._setGridContentWidth(u&&u.style.width==="auto"?i:f),r._hscrollbarcontent().css("overflow-y","hidden"));break;case"levelSortDirections":case"isParentInFrontForColumns":case"isParentInFrontForRows":case"compactColumnHeaders":case"compactRowHeaders":case"rowHeadersLayout":n.Widget.prototype._setOption.apply(this,arguments),this._createTableView(this._ds),this._onGridUpdated();break;case"dragAndDropSettings":n.Widget.prototype._setOption.apply(this,arguments),this.element.find(":ui-draggable").each(function(t,r){var u=n(r);u.draggable("option","appendTo",i.appendTo),u.draggable("option","containment",i.containment),u.draggable("option","zIndex",i.zIndex)});break;case"language":this._setGridOption(t,i),this._superApply(arguments);break;default:this._superApply(arguments),this._onGridUpdated()}},_setDataSource:function(){var t=this,i;(this._renderEmptyGrid(),this._ds=i=this._createDataSource(this.options.dataSource,this.options.dataSourceOptions),i)&&(this.options.rowHeadersLayout==="tree"&&i.dataSource().measureListLocation()===0&&i.dataSource().sourceOptions().measures()&&i.dataSource().sourceOptions().measures().contains(",")&&this._ds.setMeasureListIndex(0),this.timestamp=+new Date,n(i).bind("initialized.pivotgrid"+this.timestamp,function(i,r){var u=n.extend({owner:t,dataSource:t._ds},r);t._triggerDataSourceInitialized(i,u),t._onGridUpdated()}),n(i).bind("updated.pivotgrid"+this.timestamp,function(i,r){var u=n.extend({owner:t,dataSource:t._ds},r);t._triggerDataSourceUpdated(i,u),t._onGridUpdated()}),i.isInitialized()?(i.bindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged}),this._onGridUpdated()):this._updateGrid(!0).always(function(){i.bindCollectionChanged({filters:t._onFiltersChanged,rowAxis:t._onRowAxisChanged,columnAxis:t._onColumnAxisChanged,measures:t._onMeasuresChanged})}))},_updateDropArea:function(n,t,i,r){this._ds.isUpdating()||(n.empty().css({display:"",overflow:"",margin:"",padding:""}).siblings().remove(),this._fillDropArea(n,t,i,r),this._measureDropArea(n))},_clearDataSource:function(){var t=this.grid();this._ds&&(n(this._ds).unbind("updated.pivotgrid"),this._ds.unbindCollectionChanged({filters:this._onFiltersChanged,rowAxis:this._onRowAxisChanged,columnAxis:this._onColumnAxisChanged,measures:this._onMeasuresChanged})),t&&(t.destroy(),this.element.empty())},_createTableView:function(t){var f,e,o,s,u,h,c,l,r;h=this._columnsChanged?[]:this.appliedColumnSortDirections(),u=function(t){var r,u={};if(n.isArray(t))for(r=0;r<t.length;r++)i(t[r].levelUniqueName)||(u[t[r].levelUniqueName]=t[r]);return u},c=u(this.appliedLevelSortDirections()),l=u(this.options.levelSortDirections),r=n.extend(l,c),r=n.map(r,function(n){return n}),s=this._resolveRowHeadersLayout(),f={compactRowHeaderIndentation:this.options.compactRowHeaderIndentation,isParentInFrontForColumns:this.options.isParentInFrontForColumns,treeRowHeaderIndentation:this.options.treeRowHeaderIndentation,isParentInFrontForRows:this.options.isParentInFrontForRows,compactColumnHeaders:this.options.compactColumnHeaders,rowHeadersLayout:s},e=t.columnAxis().length>0,o=t.rowAxis().length>0,this._tableView=new n.ig.OlapTableView(t.result(),e,o,f),this._tableView.columnSortDirections(h),this._tableView.levelSortDirections(r),this._tableView.initialize(),this._columnsChanged=!1},_resolveRowHeadersLayout:function(){return this.options.rowHeadersLayout!==undefined&&this.options.rowHeadersLayout!==null?this.options.rowHeadersLayout:this.options.compactRowHeaders===!0?"superCompact":"standard"},_configureOptions:function(i){var u=this,e,f,o,s,h,r;return this._rowsMatrix=new t,this._fillMatrixWithHeaderCells(this._rowsMatrix,this._tableView.rowHeaders()),this._maxMemberIndex=i.columnAxis().length-1,e=this._generateAllGridColumns(this._tableView.columnHeaders()),f=this._generateDataColumns(this._tableView.columnHeaders()),o=this._transformGridData(this._tableView.resultCells(),f,f.length,this._rowsMatrix.length),s={dataSource:o},h=new n.ig.DataSource(s),r={headerRendered:function(n,t){u._ds&&u._onGridHeadersRendered(n,t)},dataRendered:function(n,t){u._ds&&u._onDataRendered(n,t)}},n.extend(!0,r,this.options.gridOptions),r.dataSource=h,r.columns=e,r.autoGenerateColumns=!1,r.virtualization=!1,r.fixedFooters=!1,r.autoFormat=!1,r.renderCheckBoxes=!1,r.autoFitLastColumn=!1,r.autoAdjustHeight=!0,r.width=this.options.width,r.height=this.options.height,n.merge(r.features,[{name:"MultiColumnHeaders"}]),r},_addSortingMarkup:function(n){var f=n.sortMap,r=n.stringTemplate,i,u=n.replaceString,t=n.markup;return n.condition?(i=f[n.axisName],i&&(i=i[n.hierarchyOffset],i&&(i=i[n.levelNumber])),i==="ascending"?(t=t.replace(r,u+"='ascending'"),t+=n.ascIcon):i==="descending"?(t=t.replace(r,u+"='descending'"),t+=n.descIcon):this.options.allowHeaderRowsSorting&&(t=t.replace(r,u+"=''"))):t=t.replace(r,""),t},_fillMatrixWithHeaderCells:function(t,i){var tt,lt,it,at,b,k,rt,ut,r,l,u,s,ft,et,ot,st,vt,yt,d,pt,wt,bt,kt,dt,v,g,nt,y,p,e,h,a,c,f,ht,gt=this._ds,w=this,ct,o;if(!i||i.length===0){t.set(0,0,"<th class='ui-iggrid-header ui-widget-header'><\/th>");return}if(tt="<span data-expand='true' class='"+this.css.expandButton+"' style='margin-left: $$margin$$px;'><\/span>",it="<span data-expand='false' class='"+this.css.collapseButton+"' style='margin-left: $$margin$$px;'><\/span>",lt="<span data-item-expand='true' class='"+this.css.expandButton+"' style='margin-left: $$margin$$px;'><\/span>",at="<span data-item-expand='false' class='"+this.css.collapseButton+"' style='margin-left: $$margin$$px;'><\/span>",b="<span data-sortheader='asc' class='"+this.css.headerRowsAscending+"'><\/span>",k="<span data-sortheader='desc' class='"+this.css.headerRowsDescending+"'><\/span>",rt="<span data-item-sortheader='asc' class='"+this.css.headerRowsAscending+"'><\/span>",ut="<span data-item-sortheader='desc' class='"+this.css.headerRowsDescending+"'><\/span>",e=this.options.rowHeadersLayout==="tree",e)for(ct={},f=0;f<i.length;f++)i[f].isItemExpanded()&&(ct[f]=i[f].levelNumber());for(l=this._tableView.appliedSortDirectionsMap(),v=!(this.options.rowHeadersLayout==="standard"||this.options.rowHeadersLayout===null&&this.options.compactRowHeaders===!1),f=0;f<i.length;f++)r=i[f],s=r.caption(),ft=r.rowSpan(),et=r.columnSpan(),ot=r.rowIndex(),st=r.columnIndex(),wt=r.axisName(),bt=r.tupleIndex(),kt=r.memberIndex(),g=r.isExpandable(),y=r.isExpanded(),d=e?r.indent():this.options.compactRowHeaderIndentation*r.levelNumber(),this.options.rowHeaderLinkGroupIndentation&&(pt=this.options.rowHeaderLinkGroupIndentation),e&&(nt=r.isItemExpandable(),p=r.isItemExpanded()),dt="ui-iggrid-header ui-widget-header "+this.css.pivotGridHeader,u="<th $$data-sortheader$$ $$data-item-sortheader$$ class='"+dt+"' title='"+s+"' data-skip='true' rowspan='"+ft+"' colspan='"+et+"' data-axis='"+wt+"' data-tuple='"+bt+"' data-member='"+kt+"'>",nt&&(c=v?r.indent():0,a=p?at:lt,a=a.replace("$$margin$$",c),u+=a),g?e?(u+="<span class='ui-iggrid-headertext'>"+s+"<\/span>",o={condition:p,sortMap:l,axisName:r.axisName(),hierarchyOffset:r.hierarchyNumber()+1,levelNumber:r.levelNumber()-ct[f],replaceString:"data-sortheader",stringTemplate:"$$data-sortheader$$",markup:u,ascIcon:b,descIcon:k},u=w._addSortingMarkup(o),h=y?it:tt,h=h.replace("$$margin$$",pt),u+=h,vt=gt.rowAxis()[r.memberIndex()],ht=gt.getCoreElement(function(n){return n.hierarchyUniqueName()===vt.uniqueName()&&n.depth()===r.levelNumber()+1},n.ig.Level.prototype.getType()),ht&&(u+="<span class='ui-igpivot-rowheaderlink'>"+ht.caption()+"<\/span>"),o={condition:y,sortMap:l,axisName:r.axisName(),hierarchyOffset:r.hierarchyNumber(),levelNumber:r.levelNumber(),replaceString:"data-item-sortheader",stringTemplate:"$$data-item-sortheader$$",markup:u,ascIcon:rt,descIcon:ut},u=w._addSortingMarkup(o)):(c=v?d:0,h=y?it:tt,h=h.replace("$$margin$$",c),u+=h,u+="<span class='ui-iggrid-headertext' style='display:inline;'>"+s+"<\/span>",o={condition:y,sortMap:l,axisName:r.axisName(),hierarchyOffset:r.hierarchyNumber(),levelNumber:r.levelNumber(),replaceString:"data-sortheader",stringTemplate:"$$data-sortheader$$",markup:u,ascIcon:b,descIcon:k},u=w._addSortingMarkup(o)):!e||e&&a&&a.contains("$$margin$$")?(c=v?d:0,s="<span class='ui-iggrid-headertext' style='margin-left:"+c+"px;'>"+s+"<\/span>",u+=s):u+="<span class='ui-iggrid-headertext'>"+s+"<\/span>",!e||(!g||nt)&&(g||nt)||(c=v?d:0,yt=n(".ui-iggrid-headerbutton.ui-icon").eq(0).width()+c,u=u.replace("class='ui-iggrid-headertext'","class='ui-iggrid-headertext' style='margin-left:"+yt+"px;'")),o={condition:e&&p&&u.contains("$$data-item-sortheader$$"),sortMap:l,axisName:r.axisName(),hierarchyOffset:r.hierarchyNumber()+1,levelNumber:r.levelNumber()-1>0?r.levelNumber()-1:0,replaceString:"data-sortheader",stringTemplate:"$$data-item-sortheader$$",markup:u,ascIcon:b,descIcon:k},u=w._addSortingMarkup(o),o={condition:e&&p&&u.contains("$$data-item-sortheader$$"),sortMap:l,axisName:r.axisName(),hierarchyOffset:r.hierarchyNumber()+1,levelNumber:r.levelNumber()-1>0?r.levelNumber()-1:0,replaceString:"data-item-sortheader",stringTemplate:"$$data-item-sortheader$$",markup:u,ascIcon:rt,descIcon:ut},u=w._addSortingMarkup(o),u+="<\/th>",t.set(ot+ft-1,st+et-1,undefined),t.set(ot,st,u)},_generateAllGridColumns:function(n){var r,i=[],t;if(!n||n.length===0)return[this._const.emptyCell];for(t=0;t<n.length;t++)i[n[t].rowIndex()]||(i[n[t].rowIndex()]=[]),i[n[t].rowIndex()].push(n[t]);return this._maxLevel=i.length,r=this._processHeadersTree(i)},_generateDataColumns:function(n){var i=[],t;if(!n||n.length===0)return[this._const.emptyCell];for(t=0;t<n.length;t++)n[t].memberIndex()===this._maxMemberIndex&&(n[t].columnSpan()!==1||n[t].isExpandable()!==!1&&n[t].isExpanded()?this.options.compactColumnHeaders&&i.push({headerText:n[t].caption(),key:n[t].axisName()+"_"+n[t].tupleIndex()+"_"+n[t].memberIndex()+"_"+n[t].isExpandable()}):i.push({headerText:n[t].caption(),key:n[t].axisName()+"_"+n[t].tupleIndex()+"_"+n[t].memberIndex()+"_"+n[t].isExpandable()}));return i},_transformGridData:function(n,t,i,r){var f=[],e,u,o;if(!n||n.length===0){if(r>0){for(u=0;u<r;u++)f.push({});return f}return[{}]}for(u=0;u<r;u++)f.push({});for(u=0;u<n.length;u++)e=n[u].cellOrdinal(),o=e%i,f[Math.floor(e/i)][t[o].key]=n[u].formattedValue();return f},_processHeadersTree:function(n){for(var r=[],i,u,f,t=0;n.length>=1&&t<n[0].length;t++)this._createHeader(r,n[0][t]);for(t=1;t<n.length;t++)for(f=this._parentsForLevel(t,r),i=0;i<n[t].length;i++)u=this._findParent(f,n[t][i]),u?this._createHeader(u,n[t][i]):t-1>=1&&this._findAndCreateUp(t-1,t,r,n,n[t][i]);return r},_findAndCreateUp:function(n,t,i,r,u){for(var f,o,s=this._parentsForLevel(n,i),e=0;e<r[t].length;e++)f=r[t][e],f.axisName()===u.axisName()&&f.columnIndex()===u.columnIndex()&&f.memberIndex()===u.memberIndex()&&f.tupleIndex()===u.tupleIndex()&&f.caption()===u.caption()&&(o=this._findParent(s,f,t-n+1),o?this._createHeader(o,f):n-1>=1&&this._findAndCreateUp(n-1,t,i,r,u))},_parentsForLevel:function(n,t){for(var r=[],i=0;i<t.length;i++)this._parentsForLevelRecursive(r,t[i],1,n);return r},_parentsForLevelRecursive:function(n,t,i,r){var f=t.rowspan>1?t.rowspan-1:0,u;if(i===r)n.push(t);else if(i<r&&t.group!==null&&t.group!==undefined)for(u=0;u<t.group.length;u++)this._parentsForLevelRecursive(n,t.group[u],i+1+f,r)},_createHeader:function(n,t){var i={headerText:t.caption(),key:t.axisName()+"_"+t.tupleIndex()+"_"+t.memberIndex()+"_"+t.isExpandable(),rowspan:t.rowSpan(),colSpan:t.columnSpan(),colIndex:t.columnIndex(),axisName:t.axisName(),tupleIndex:t.tupleIndex(),memberIndex:t.memberIndex(),expandable:t.isExpandable(),expanded:t.isExpanded(),hierarchyNumber:t.hierarchyNumber(),levelNumber:t.levelNumber()};!this.options.compactColumnHeaders&&(t.columnSpan()>1||t.columnSpan()===1&&t.isExpanded()&&t.isExpandable())&&(i.group=[]),n.push(i)},_findParent:function(n,t,i){var r;if(!n||n.length===undefined||n.length===null)return null;for(r=0;r<n.length;r++)if((i===undefined||i!==undefined&&n[r].rowspan===i)&&n[r].colSpan+n[r].colIndex>=t.columnSpan()+t.columnIndex()&&n[r].colIndex<=t.columnIndex())return n[r].group||(n[r].group=[]),n[r].group;return null},grid:function(){return this.element.data(r)},updateGrid:function(){this._updateGrid(!1,!0)},_showLoadingIndicator:function(){var t;this.element.data(r)&&(t=this.grid().container(),t.children("div[data-loading-indicator-container]").length||(n("#"+this.grid().element.attr("id")+"_columns_overlay").css("display","none"),n("#"+this.grid().element.attr("id")+"_measures_overlay").css("display","none"),t.css("position","relative"),n("<div class='"+this.css.blockArea+"' data-loading-indicator-container><\/div>").appendTo(t).data("efh","1")))},_updateGrid:function(n,t){var r=this._ds,u=t||this.options.deferUpdate===!1,i;if(n||u)return this._showLoadingIndicator(),i=n?r.initialize():r.update()},_onGridUpdated:function(){var n=this._ds,t;this._createTableView(n),t=this._configureOptions(n),this._renderGrid(t)},_renderEmptyGrid:function(){var t;t=n.extend(!0,{},this.options.gridOptions),t.width=this.options.width,t.height=this.options.height,this.element.igGrid(t)},_renderGrid:function(t){var u=this.element.attr("id"),i,r;i=this.grid(),i&&(this._gridScrollOffsets.top=i.scrollContainer().scrollTop(),this._gridScrollOffsets.left=n("#"+u+"_hscroller").scrollLeft(),this.element.igGrid("destroy"),this.element.empty()),this.element.igGrid(t),r=this.grid().container(),r.addClass(this.css.pivotGrid),this._makeDroppable(r)},_rerenderColgroups:function(){var n=this.grid(),t=n.options,i=n.headersTable();return this._gridRerenderColgroups.apply(n,arguments),t.height!==null&&t.fixedHeaders===!0&&t.showHeader&&this._renderExtraColInColgroup(i.children("colgroup")),this._measureHeaders(n._oldCols||t.columns),this._renderExtraColInColgroup(n.element.children("colgroup")),t.height!==null&&t.fixedFooters===!0&&t.showFooter&&this._renderExtraColInColgroup(n.footersTable().children("colgroup")),this._updateDOMOnDataRendered(n.element)},_renderExtraColInColgroup:function(t){for(var u,r=this._rowsMatrix.length>0?this._rowsMatrix[0].length:1,i=0;i<r;i++)u=n("<col><\/col>").prependTo(t).attr("data-skip","true");r&&t.attr("data-cols-injected","true")},_onGridHeadersRendered:function(t,i){var e=this,l=i.owner._oldCols,f=i.table,r=this.element.attr("id"),b,y,k,o,p,v,d,c,a,s,u,w=this._ds,h,g,nt,tt;if(f.addClass(this.css.pivotGrid),i.owner._renderRecord=function(n,t){return e._renderPivotRecord.call(this,e._rowsMatrix,n,t)},this._gridRerenderColgroups=i.owner._rerenderColgroups,i.owner._rerenderColgroups=function(){e._rerenderColgroups.apply(e,arguments)},(l===null||l===undefined)&&(l=i.owner.options.columns),b={},n.each(this._tableView.appliedColumnSortDirections(),function(n,t){b[t.tupleIndex]=t.sortDirection}),this._processHeaderMarkupRecursive(this.grid().element[0].id,l,b,this._tableView.appliedSortDirectionsMap()),y=f.find("tr").first(),k=y.parent(),o=this._rowsMatrix.length>0?this._rowsMatrix[0].length:1,p=this._maxLevel,v=i.owner.options.columns.length,d=o+v,f.find(".ui-igpivot-droparea[data-role=rows], .ui-igpivot-droparea[data-role=columns], .ui-igpivot-droparea[data-role=measures], .ui-igpivot-droparea[data-role=filters]").length===0?(a=this._createDropAreaOptions(),this.options.hideRowsDropArea?n("<th rowSpan='"+p+"' colSpan='"+o+"' data-skip='true' class='ui-iggrid-header ui-widget-header'><\/th>").prependTo(y):(u=n("<th id='"+r+"_rows' rowSpan='"+p+"' colSpan='"+o+"' data-skip='true' class='"+this.css.dropAreaHeader+"'><\/th>").prependTo(y),u.height(u.height()),s=n("<ul data-role='rows' class='"+this.css.dropArea+"'><\/ul>").appendTo(u),this.options.disableRowsDropArea||s.droppable(a)),this.options.hideColumnsDropArea&&this.options.hideMeasuresDropArea||(c=n("<tr><\/tr>").prependTo(k)),this.options.hideColumnsDropArea?this.options.hideMeasuresDropArea||n("<th rowSpan='1' colSpan='"+v+"' data-skip='true' class='ui-iggrid-header ui-widget-header'><\/th>").prependTo(c):(u=n("<th id='"+r+"_columns' rowSpan='1' colSpan='"+v+"' data-skip='true' class='"+this.css.dropAreaHeader+"'><\/th>").prependTo(c),s=n("<ul data-role='columns' class='"+this.css.dropArea+"'><\/ul>").appendTo(u),this.options.disableColumnsDropArea||(s.droppable(a),n("#"+r+"_columns_overlay").length<1&&n("<div id='"+r+"_columns_overlay' data-role='columns' class='"+this.css.overlayDropArea+" ui-igpivot-droparea ui-droppable'><\/div>").appendTo(this.element).droppable(a))),this.options.hideMeasuresDropArea?this.options.hideColumnsDropArea||n("<th rowSpan='1' colSpan='"+o+"' data-skip='true' class='ui-iggrid-header ui-widget-header'><\/th>").prependTo(c):(u=n("<th id='"+r+"_measures' rowSpan='1' colSpan='"+o+"' data-skip='true' class='"+this.css.dropAreaHeader+"'><\/th>").prependTo(c),s=n("<ul data-role='measures' class='"+this.css.dropArea+"'><\/ul>").appendTo(u),this.options.disableMeasuresDropArea||s.droppable(a)),this.options.hideFiltersDropArea||(c=n("<tr><\/tr>").prependTo(k),u=n("<th id='"+r+"_filters' rowSpan='1' colSpan='"+d+"' data-skip='true' class='"+this.css.dropAreaHeader+"'><\/th>").prependTo(c),s=n("<ul data-role='filters' class='"+this.css.dropArea+"'><\/ul>").appendTo(u),this.options.disableFiltersDropArea||s.droppable(a))):(n("#"+r+"_rows").attr("rowSpan",p).attr("colSpan",o),n("#"+r+"_columns").attr("rowSpan",1).attr("colSpan",v),n("#"+r+"_measures").attr("rowSpan",1).attr("colSpan",o),n("#"+r+"_fiters").attr("rowSpan",1).attr("colSpan",d)),h=f.find("colgroup"),h.length===0){for(nt=this.grid()._isMultiColumnGrid?f.find("th[data-isheadercell]").length:l.length,h="<colgroup>",g=0;g<nt;g++)h+="<col><\/col>";h+="<\/colgroup>",h=n(h).prependTo(f)}this._renderExtraColInColgroup(h),this.options.allowSorting&&(tt=f.find(".ui-igpivotgrid-header[data-sort]"),tt.children(".ui-iggrid-headertext,.ui-iggrid-sortindicator").bind("click",function(n){e._onSort(n)}),tt.filter("[data-axis='empty_axis']").bind("click",function(n){e._onSort(n)})),this.options.allowHeaderColumnsSorting&&f.find(".ui-igpivotgrid-header[data-sortheader]").children(".ui-iggrid-headertext,.ui-iggrid-sortindicator").bind("click",function(n){e._onSortHeader(n)}),this.options.hideFiltersDropArea||this._fillDropArea("#"+r+"_filters .ui-igpivot-droparea",w.filters(),this.options.disableFiltersDropArea,this.options.disableFiltersDropArea?"disabledFiltersHeader":"filtersHeader"),this.options.hideRowsDropArea||this._fillDropArea("#"+r+"_rows .ui-igpivot-droparea",w.rowAxis(),this.options.disableRowsDropArea,this.options.disableRowsDropArea?"disabledRowsHeader":"rowsHeader"),this.options.hideColumnsDropArea||this._fillDropArea("#"+r+"_columns .ui-igpivot-droparea",w.columnAxis(),this.options.disableColumnsDropArea,this.options.disableColumnsDropArea?"disabledColumnsHeader":"columnsHeader"),this.options.hideMeasuresDropArea||this._fillDropArea("#"+r+"_measures .ui-igpivot-droparea",w.measures(),this.options.disableMeasuresDropArea,this.options.disableMeasuresDropArea?"disabledMeasuresHeader":"measuresHeader"),this._measureHeaders(l),f.find("thead span.ui-iggrid-headerbutton.ui-icon").bind("click",function(n){return e._onToggleTupleMember(n),!1}),this._triggerPivotGridHeadersRendered(t,i)},_renderPivotRecord:function(t,r,u){var s,v=this.options.primaryKey,h,e=this,f="",o=this.options.columns,c,l="",a;for(f+="<tr",u%2!=0&&this.options.alternateRowStyles&&(f+=" class='"+e.css.recordAltClass+"'"),i(v)?i(r.ig_pk)||(f+=" data-id='"+r.ig_pk+"'"):f+=" data-id='"+this._kval_from_key(v,r)+"'",this.options.virtualization&&this.options.virtualizationMode==="continuous"&&(f+=" data-row-idx='"+u+"'"),f+=" role='row'>",s=0;s<t[u].length;s++)t[u][s]&&(l+=t[u][s]);return l!==""&&(f+=l),c=!0,n(o).each(function(n){o[n].hidden||o[n].fixed===!0||(a=!1,c=!1,f+="<td role='gridcell' aria-describedby='"+e.id()+"_"+this.key+"' tabindex='"+e.options.tabIndex+"'",o[n].template&&o[n].template.length?(h=e._renderTemplatedCell(r,this),h.indexOf("<td")===0?f+=h.substring(3):(f+=">"+h,a=!0),f=e._editCellStyle(f,r,this.key,this,a)):f+=e._addCellStyle(r,this.key?this.key:n,o[n])+">"+e._renderCell(r[this.key?this.key:n],this,r),f+="<\/td>")}),c&&(f+="<td role='gridcell'><\/td>"),f+="<\/tr>"},_processHeaderMarkupRecursive:function(t,i,r,u){var f,e,h,s,o,c,l,a,v,y,p,w,b;for(a=this.options.allowSorting,v=this.options.allowHeaderColumnsSorting,c="<span data-expand='true' class='"+this.css.expandButton+"'/>",l="<span data-expand='false' class='"+this.css.collapseButton+"'/>",y="<span data-sort='asc' class='"+this.css.rowsAscending+"'/>",p="<span data-sort='desc' class='"+this.css.rowsDescending+"'/>",w="<span data-sortheader='asc' class='"+this.css.headerColumnsAscending+"'><\/span>",b="<span data-sortheader='desc' class='"+this.css.headerColumnsDescending+"'><\/span>",f=0;f<i.length;f++)e=n("#"+t+"_"+i[f].key),e.addClass(this.css.pivotGridHeader).attr("data-axis",i[f].axisName).attr("data-member",i[f].memberIndex).attr("data-tuple",i[f].tupleIndex),i[f].axisName!==this._const.emptyCell.axisName&&e.attr("title",i[f].headerText),this.options.compactColumnHeaders&&i[f].levelNumber>0&&e.css("padding-top",this.options.compactColumnHeaderIndentation*i[f].levelNumber),s=i[f].expandable,h=i[f].expanded,s&&!h?n(c).insertBefore(e.children(".ui-iggrid-headertext")):s&&h&&(n(l).insertBefore(e.children(".ui-iggrid-headertext")),o=u[i[f].axisName],o&&(o=o[i[f].hierarchyNumber],o&&(o=o[i[f].levelNumber])),o==="ascending"?(e.attr("data-sortheader","ascending"),n(w).appendTo(e)):o==="descending"?(e.attr("data-sortheader","descending"),n(b).appendTo(e)):v&&e.attr("data-sortheader","")),s&&(!s||h)||(o=r[i[f].tupleIndex],o==="ascending"?(e.attr("data-sort","ascending"),n(y).appendTo(e)):o==="descending"?(e.attr("data-sort","descending"),n(p).appendTo(e)):a&&e.attr("data-sort","")),i[f].group&&this._processHeaderMarkupRecursive(t,i[f].group,r,u)},_fillDropArea:function(t,i,r,u){var e=n(t),f,o;if(e.empty(),i.length>0)for(f=0,o=i.length;f<o;f++)this._createMetadataElement(i[f],r,"appendTo",e);else e.attr({"data-localeid":u,"data-droparea":!0}).text(this._getLocaleValue(u))},_measureHeaders:function(t){var h=this,c=this.element.attr("id"),e=this.grid(),i=e.headersTable(),u,o,f,r,s,l,a;u=this._rowsMatrix.length>0?this._rowsMatrix[0].length:1,this.options.defaultRowHeaderWidth?(i.find("col:lt("+u+")").width(this.options.defaultRowHeaderWidth),n.ig.util.isTouchDevice()?i.find(".ui-igpivot-droparea[data-role=rows], .ui-igpivot-droparea[data-role=columns], .ui-igpivot-droparea[data-role=measures], .ui-igpivot-droparea[data-role=filters]").each(function(t,i){a=n("<div id='"+n(i).attr("data-role")+"_wrapper' style='overflow: hidden;'><\/div>").css("width",n(i).width()+"px").css("height",n(i).height()+"px"),n(i).wrap(a).parent("div").igScroll()}):i.find(".ui-igpivot-droparea[data-role=rows], .ui-igpivot-droparea[data-role=columns], .ui-igpivot-droparea[data-role=measures], .ui-igpivot-droparea[data-role=filters]").each(function(){h._measureDropArea(n(this))}),o=this.options.defaultRowHeaderWidth*u):(f=0,i.find("#"+c+"_measures, #"+c+"_rows").each(function(t,i){var r,u;r=n(i).clone(!1),r.children(".ui-igpivot-droparea").append("<li class='"+h.css.insertItem+"'><\/li>"),u=n("<div class='ui-widget ui-widget-header ui-iggrid ui-igpivotgrid'><\/div>").append(r).css({position:"absolute",visibility:"hidden",height:"auto",width:"auto",overflow:"visible","text-overflow":"clip",left:"-1000px",top:"-1000px"}).appendTo(document.body),f=Math.max(f,u.outerWidth(!0)),u.remove()}),i.find("col:lt("+u+")").width(Math.ceil(f/u)),o=f),e.options.defaultColumnWidth?i.find("col:gt("+u+")").width(e.options.defaultColumnWidth):(r=i.find("th:not(.ui-igpivot-dropareaheader):first"),s=n("<th class='"+r.attr("class")+"' style='position:absolute;visibility:hidden;height:auto;width:auto;overflow:visible;text-overflow:clip;left:-1000px;top:-1000px;'><\/th>").css({"font-family":r.css("fontFamily"),"font-size":r.css("fontSize"),"font-size-adjust":r.css("fontSizeAdjust"),"font-stretch":r.css("fontStretch"),"font-style":r.css("fontStyle"),"font-variant":r.css("fontVariant"),"font-weight":r.css("fontWeight")}).appendTo(document.body),l=this._measureHeadersRecursive(this.grid().element[0].id,t,s,u),s.remove()),(i.find("col").length-u==1||o+l<i.width())&&i.find("col:last").width("auto")},_measureHeadersRecursive:function(t,i,r,u){for(var s,e,o=0,f=0;f<i.length;f++){if(i[f].axisName===this._const.emptyCell.axisName)break;s=n("#"+t+"_"+i[f].key),i[f].group?o+=this._measureHeadersRecursive(t,i[f].group,r,u):(e=r.html(s[0].innerHTML)[0].offsetWidth+10,o+=e,this.grid().headersTable().find("col:eq("+(s.data("columnIndex")+u)+")").width(e),i[f].width=e)}return o},_measureDropArea:function(t){var r=this,u,f,h,c,e,i,l,a,v,y,o,s,p,w;f=t.parent("th"),u=f.attr("id"),h=n(f).clone(!1),h.children(".ui-igpivot-droparea").append("<li class='"+r.css.insertItem+"'><\/li>"),c=n("<div class='ui-widget ui-widget-header ui-iggrid ui-igpivotgrid'><\/div>").append(h).css({position:"absolute",visibility:"hidden",height:"auto",width:"auto",overflow:"visible","text-overflow":"clip",left:"-1000px",top:"-1000px"}).appendTo(document.body),e=f.width(),c.find(".ui-igpivot-droparea").outerWidth(!0)>e?(t.css({display:"inline-block",overflow:"hidden",margin:0,padding:0}),v=n("<span class='"+this.css.scrollButton+"'><a class='"+this.css.scrollLeft+"' /><\/span>").insertBefore(t),y=n("<span class='"+this.css.scrollButton+"'><a class='"+this.css.scrollRight+"' /><\/span>").insertAfter(t),0===e?t.width("auto"):t.width(e-v.outerWidth(!0)-y.outerWidth(!0)),i=this._headerScrollOffsets[u]||0,l=0,a=t[0].scrollWidth,o=function(){i<l&&(i=l),i>a&&(i=a),t.scrollLeft(i),r._headerScrollOffsets[u]=i},o(),p=this._getEvent("mouseover"),w=this._getEvent("mouseout"),v.bind(p,function(){s=setInterval(function(){i-=r._const.hoverScrollOffset,o()},r._const.hoverScrollInterval)}).bind(w,function(){clearInterval(s)}),y.bind(p,function(){s=setInterval(function(){i+=r._const.hoverScrollOffset,o()},r._const.hoverScrollInterval)}).bind(w,function(){clearInterval(s)})):delete this._headerScrollOffsets[u],c.remove()},_getKPIs:function(t){for(var i,u,e=[],f=t.measures(),r=f.length-1;r>=0;r--)u={},"KpiMeasure"===f[r].getType().typeName()&&(i=t.getCoreElements(function(n){return n.uniqueName()===f[r].uniqueName()},n.ig.KpiMeasure.prototype.getType())),undefined!==i&&1===i.length&&null!==i[0].graphic()&&(u.name=i[0].caption(),u.graphic=i[0].graphic(),e.push(u));return e},_getKPICells:function(t,i){var o,h,a,p,c,r,u,f,e,w,l,v,y,s;if(0!==t.length){if(1===i.measures().length)t[0].cells=n("."+this.css.pivotGrid+" td");else for(e=t.length-1;e>=0;e--){t[e].cells=n(),o=n(),o=o.add("th.ui-igpivotgrid-header[title='"+t[e].name+"']");switch(i.getMeasureListLocation()){case"rows":for(f=0;f<o.length;f++)for(w=parseInt(o.eq(f).attr("rowspan"),10),s=o.eq(f).parent(),r=0;r<w;r++){for(u=0;u<s.find("td").length;u++)t[e].cells=t[e].cells.add(s.find("td").eq(u)[0]);s=s.next()}break;case"columns":for(y=0,a=[],h=o.parent().find("th[data-skip!=true]"),r=0,u=0;r<h.length;r++){if(v=parseInt(h.eq(r).attr("colspan"),10),l=isNaN(v)?1:v,h.eq(r)[0]===o.eq(u)[0]){for(f=0;f<l;f++)a.push(r+f+y);u++}y+=l>1?l-1:0}for(c=n("."+this.css.pivotGrid+" tbody tr"),p=c.find("td"),r=0;r<c.length;r++)for(u=0,f=0;u<p.length;u++)u===a[f]&&(t[e].cells=t[e].cells.add(c.eq(r).find("td").eq(u)[0]),f++)}}return t}return[]},_addKPIImages:function(n){for(var u,r,f,o,e,t,i=0;i<n.length;i++)for(u=0;u<n[i].cells.length;u++)if(f=n[i].cells.eq(u),!isNaN(f.text())){r="<div class='ui-igpivotgrid-kpis'",r+=" title='"+f.text()+"'",r+=" style='background-position: ",o=parseFloat(f.text()),e=0<o?0:0>o?32:16;switch(n[i].graphic.toLowerCase()){case"road signs":t=0;break;case"traffic light":t=16;break;case"variance arrow":t=32;break;case"standart arrow":t=48;break;case"status arrow - ascending":t=64;break;case"status arrow - descending":t=80;break;case"faces":t=96;break;case"shapes":t=112;break;case"cylinder":t=128;break;case"gauge - ascending":t=144;break;case"gauge - descending":t=160;break;case"thermometer":t=176}r+="-"+e+"px -"+t+"px",r+="'><\/div>",n[i].cells.eq(u)[0].innerHTML=r}},_adjustRowHeadersWidth:function(t){var u=0,i,r,e,o,f;r=this.options.height!==null?t.element.find("th"):t.headersTable().find("tbody th"),r.each(function(){i=parseInt(n(this).css("border-right-width").replace("px",""),10),e=n(this).children(),e.each(function(){i+=parseInt(n(this).css("margin-left").replace("px",""),10),i+=n(this).width()}),u=u<i?i:u}),t.headersTable().find("col").eq(0).width(u+r.outerWidth()-r.width()),f="#"+this.element[0].id+"_rows",o=n(f).width()-2*n(f+" span").width(),n(f+" ul").width(o)},_updateDOMOnDataRendered:function(t){var r=this,f=this.element.attr("id"),u=this.grid(),w=this._createDropAreaOptions(),h=this._ds,v,c,i,e,l,a,o,s,y,p;if(r.options.rowHeadersLayout!=="tree"||r.options.defaultRowHeaderWidth||this._ds.rowAxis().length===0||r._adjustRowHeadersWidth(u),"OlapXmlaDataSource"===h.getType().typeName()&&(a=this._getKPIs(h),a=this._getKPICells(a,h),this._addKPIImages(a,h)),t.addClass(this.css.pivotGrid),t.find("tbody th > span[data-expand]").bind("click",function(n){return r._onToggleTupleMember(n),!1}),t.find("tbody th > span[data-item-expand]").bind("click",function(n){return r._onToggleTupleMember(n),!1}),this.options.allowHeaderRowsSorting){if(this.options.rowHeadersLayout==="tree"){for(o="tbody th.ui-igpivotgrid-header[data-item-sortheader],tbody th.ui-igpivotgrid-header[data-sortheader]",s=".ui-iggrid-sortindicator",p=t.find(o).find("span[data-item-expand]"),i=0;i<p.length;i++)n(p[i]).data().itemExpand===!1&&(s+=",.ui-iggrid-headertext:eq("+i+")");for(y=t.find(o).find("span[data-expand]"),i=0;i<y.length;i++)n(y[i]).data().expand===!1&&(s+=",.ui-igpivot-rowheaderlink:eq("+i+")")}else o="tbody th.ui-igpivotgrid-header[data-sortheader]",s=".ui-iggrid-headertext,.ui-iggrid-sortindicator";t.find(o).children(s).bind("click",function(n){r._onSortHeader(n)})}if(u.options.fixedHeaders){for(v=u.headersTable().find("colgroup").find("col"),c=t.find("colgroup"),c.empty(),i=0;i<v.length;i++)for(c.append(n("<col><\/col>")),l=v.eq(i)[0].attributes,e=0;e<l.length;e++)c.find("col").eq(i).attr(l.item(e).name,l.item(e).value);u._setGridContentWidth(u.headersTable().width()),u.scrollContainer().scrollTop(this._gridScrollOffsets.top),n("#"+f+"_hscroller").scrollLeft(this._gridScrollOffsets.left)}this.options.disableRowsDropArea||n("#"+f+"_rows_overlay").length<1&&n("<div id='"+f+"_rows_overlay' data-role='rows' class='"+this.css.overlayDropArea+" ui-igpivot-droparea ui-droppable'><\/div>").appendTo(this.element).droppable(w),this.options.disableMeasuresDropArea||n("#"+f+"_measures_overlay").length<1&&n("<div id='"+f+"_measures_overlay' data-role='measures' class='"+this.css.overlayDropArea+" ui-igpivot-droparea ui-droppable'><\/div>").appendTo(this.element).droppable(w),this._positionOverlayDropAreas()},_onDataRendered:function(n,t){this._updateDOMOnDataRendered(t.owner.element),this._triggerPivotGridRendered(n,t)},_positionOverlayDropAreas:function(){var h=this.element.attr("id"),t=this.grid().headersTable().find("thead"),c=this.grid().element.find("tbody"),o,r,l,u,a,b,k,i,d,g,v,y,nt,s,tt,p,it,f,w,rt,ut,ft,e;o=t.find("th[data-axis]:first").igPosition(),l=0,n.ig.util.isFF?l=t.find("tr[data-header-row], tr[data-mch-level]")[0].scrollHeight:t.find("tr[data-header-row], tr[data-mch-level]").each(function(n,t){l+=t.scrollHeight}),(this.options.height!==null||this.options.width!==null)&&(p=this.element.attr("id"),b=n("#"+p+"_container").length===1?n("#"+p+"_container"):n("#"+p+"_table_container"),k=b.parent(),i=b.igPosition()),this.options.height!==null?r={top:this.grid().headersTable().height()+i.top,left:i.left}:this.options.width!==null&&(it=this.grid().headersTable().find("tr").eq(0).height(),r=this.grid().headersTable().find("tr[data-mch-level]").length===0?{top:3*it+i.top,left:i.left}:{top:2*it+this.grid().headersTable().find("tr[data-mch-level]").length*this.grid().headersTable().find("tr[data-mch-level]").eq(0).height()+i.top,left:i.left}),this.options.height!==null||this.options.width!==null?(d=o.top+i.top+2*parseInt(k.css("paddingTop")[0].replace("px",""),10),g=o.left+i.left,s=r.top+2*parseInt(k.css("paddingTop")[0].replace("px",""),10),tt=r.left):(r=this.grid().headersTable().find("tbody tr:first").igPosition(),d=o.top+t.parent().parent().igPosition().top,g=o.left+t.parent().parent().igPosition().left,s=r.top+t.parent().parent().igPosition().top,tt=r.left+t.parent().parent().igPosition().left),w=this.options.hideRowsDropArea&&this.options.hideColumnsDropArea&&this.options.hideMeasuresDropArea&&this.options.hideFiltersDropArea?t.find("tr").eq(0).find("th"):t.find("tr").eq(1).find("th"),f=w.eq(1),v=t[0].scrollWidth<=this.element.width()?f.width()+2*(parseInt(f.css("paddingLeft")[0].substr(0),10)+parseInt(f.css("borderLeftWidth")[0].substr(0),10)):f.width()+2*(parseInt(f.css("paddingLeft")[0].substr(0),10)+parseInt(f.css("borderLeftWidth")[0].substr(0),10))-(t[0].scrollWidth-this.element.width()),a=w.eq(0),nt=this.element.height()-s>c[0].scrollHeight?c[0].scrollHeight:this.element.height()-t.height(),u=a.width()+2*(parseInt(a.css("paddingLeft")[0].replace("px",""),10)+parseInt(a.css("borderLeftWidth")[0].replace("px",""),10)),y=t[0].scrollWidth<=this.element.width()?c[0].scrollWidth-u:c[0].scrollWidth-u-(t[0].scrollWidth-this.element.width()),e=this._calculateOffset(this.element),rt={top:s+e.top,left:e.left,width:u,height:nt},ut={top:d+e.top,left:u+e.left,width:v,height:l},ft={top:s+e.top,left:u+e.left,width:y,height:nt},n("#"+h+"_rows_overlay").css(rt),n("#"+h+"_columns_overlay").css(ut),n("#"+h+"_measures_overlay").css(ft);t.parent().parent().on("scroll",{table:t,id:h,rowHeadersWidth:u,columnHeadersWidth:v,rowsOverlayLeft:tt,measuresHeadersWidth:y,columnsOverlayLeft:g},this._handlePivotGridScrolling)},_calculateOffset:function(n){for(var t=n,i={top:0,left:t.igOffset().left};t[0].tagName&&t.scrollParent()[0].firstChild.name!=="html";)i.top+=t.scrollParent().scrollTop(),i.left+=t.scrollParent().scrollLeft(),t=t.scrollParent();return i},_handlePivotGridScrolling:function(t){var u=t.data.table.parent().parent(),f=t.data.id,i=u.scrollLeft(),r=t.data.rowHeadersWidth,e=t.data.columnHeadersWidth,o=t.data.rowsOverlayLeft,s=t.data.measuresHeadersWidth,h=t.data.columnsOverlayLeft;n("#"+f+"_columns_overlay").css({left:h-(r>i?i:r),width:r>i?e+i:u.width()}),n("#"+f+"_rows_overlay").css({width:r-i}),n("#"+f+"_measures_overlay").css({left:o+r-(r>i?i:r),width:r>i?s+i:u.width()})},_updateDataSource:function(n){this._updateGrid(!1,n)},_shouldAppendToTarget:function(n,t){return n.igOffset().left+n.width()/2<t.offset.left+this._const.dragCursorAt.left},_onToggleTupleMember:function(t){var i=this,e=n(t.target),s=e.closest("th"),u,r,f,h,o;(this._ds.dataSource().measures().inner().count()>1&&this.options.rowHeadersLayout==="tree"&&this._ds.dataSource().measureListLocation()===0||!this._performsToggle&&!this._ds.isModified())&&(u=s.attr("data-axis"),r=parseInt(s.attr("data-member"),10),f=parseInt(s.attr("data-tuple"),10),h=e.attr("data-expand")==="true",i.options.rowHeadersLayout==="tree"&&e.attr("data-item-expand")&&(h=e.attr("data-item-expand")==="true",r+=1),h?(o=this._triggerTupleMemberExpanding(t,u,r,f),o&&(this._showLoadingIndicator(),setTimeout(function(){i._ds.expandTupleMember(u,f,r),i._performsToggle=!0,i._updateGrid(!1,!0).done(function(){i._triggerTupleMemberExpanded(null,u,r,f)}).always(function(){i._performsToggle=!1})}))):(o=this._triggerTupleMemberCollapsing(t,u,r,f),o&&(this._ds.collapseTupleMember(u,f,r),this._performsToggle=!0,this._updateGrid(!1,!0).done(function(){i._triggerTupleMemberCollapsed(t,u,r,f)}).always(function(){i._performsToggle=!1}))))},_onSort:function(t){var a=this,v=n(t.target).closest("th"),s,e,h,c,o,y,f,i,u,p,w,r,b,l;if(!this._ds.isModified()){if(s=v.attr("data-axis"),e=parseInt(v.attr("data-tuple"),10),s!==this._const.emptyCell.axisName){for(o=this._ds.result().axes().__inner,r=0;r<o.length;r++)if(s===o[r].name()){c=o[r];break}if(!c)return;for(y=c.tuples().item(e),f=[],l=y.members().getEnumerator();l.moveNext();)f.push(l.current().uniqueName());h=f.join("|")}else f=null,h="";for(i=this._tableView.columnSortDirections(),r=0;r<i.length;r++)if(i[r].memberNames&&i[r].memberNames.join("|")===h||i[r].tupleIndex===e){u=i[r];break}t.ctrlKey||(i=[]),u?(u.sortDirection=u.sortDirection==="ascending"?"descending":"ascending",t.ctrlKey||i.push(u)):(u={memberNames:f,tupleIndex:e,sortDirection:this.options.firstSortDirection},i.push(u)),b=this._triggerSorting(t,i),b&&(p=n.grep(this._tableView.levelSortDirections(),function(t){var i,r;return(i=a._ds.getCoreElement(function(n){return n.uniqueName()===t.levelUniqueName},n.ig.Level.prototype.getType()),i)?(r=i.hierarchyUniqueName(),n.grep(a._ds.rowAxis(),function(n){return n.uniqueName()===r}).length===0):!1}),this._tableView.levelSortDirections(p),this._tableView.columnSortDirections(i),this._tableView.initialize(),w=this._configureOptions(this._ds),this._renderGrid(w),this._triggerSorted(t,i,this._tableView.appliedColumnSortDirections()))}},_onSortHeader:function(t){var f=n(t.target).closest("th"),a,v,s,h,e,y,c,o,l,p,r,u,w,i,b;if(!this._ds.isModified()){for(a=f.attr("data-axis"),v=parseInt(f.attr("data-tuple"),10),s=parseInt(f.attr("data-member"),10),!f.hasClass("ui-iggrid-multiheader-cell")&&this.options.rowHeadersLayout==="tree"&&(n(t.target).hasClass("ui-iggrid-headertext")||n(t.target).attr("data-sortheader"))&&(s+=1),e=this._ds.result().axes().__inner,i=0;i<e.length;i++)if(a===e[i].name()){h=e[i];break}if(h&&(y=h.tuples().item(v),c=y.members().item(s),o=this._ds.getCoreElement(function(n){return n.hierarchyUniqueName()===c.hierarchyUniqueName()&&n.depth()===c.depth()+1},n.ig.Level.prototype.getType()),o)){for(l=o.uniqueName(),r=this._tableView.appliedLevelSortDirections(),i=0;i<r.length;i++)if(r[i].levelUniqueName===l){u=r[i];break}u?u.sortDirection=u.sortDirection==="ascending"?"descending":"ascending":(u={levelUniqueName:l,sortBehavior:this.options.defaultLevelSortBehavior,sortDirection:this.options.firstLevelSortDirection},r.push(u)),b=this._triggerHeadersSorting(t,r),b&&(p=o.hierarchyUniqueName(),n.grep(this._ds.rowAxis(),function(n){return n.uniqueName()===p}).length>0&&this._tableView.columnSortDirections([]),this._tableView.levelSortDirections(r),this._tableView.initialize(),w=this._configureOptions(this._ds),this._renderGrid(w),this._triggerHeadersSorted(t,r,this._tableView.appliedLevelSortDirections()))}}},expandTupleMember:function(n,t,i,r){var e=this._ds,f,o,u;if(f=e.columnAxis().length>0,o=e.rowAxis().length>0,this._ds.isModified())return!1;if(n==="columnAxis"&&f?f&&(u="Axis0"):n==="rowAxis"&&o&&(u=f?"Axis1":"Axis0"),!u)throw new Error(this._getLocaleValue("noSuchAxis"));this._ds.expandTupleMember(u,t,i),r&&this._updateGrid(null,!0)},collapseTupleMember:function(n,t,i,r){var e=this._ds,f,o,u;if(f=e.columnAxis().length>0,o=e.rowAxis().length>0,this._ds.isModified())return!1;if(n==="columnAxis"&&f?f&&(u="Axis0"):n==="rowAxis"&&o&&(u=f?"Axis1":"Axis0"),!u)throw new Error(this._getLocaleValue("noSuchAxis"));this._ds.collapseTupleMember(u,t,i),r&&this._updateGrid()},appliedColumnSortDirections:function(){return this._tableView?this._tableView.appliedColumnSortDirections():[]},appliedLevelSortDirections:function(){return this._tableView?this._tableView.appliedLevelSortDirections():[]},destroy:function(){var t=this.grid();t&&t.destroy(),n("#"+this.element.attr("id")+"_container_block").remove(),this.element.removeClass(this.css.pivotGrid),n(this._ds).unbind("initialized.pivotgrid"+this.timestamp),n(this._ds).unbind("updated.pivotgrid"+this.timestamp),this._superApply(arguments)},_triggerPivotGridHeadersRendered:function(n,t){var i={owner:this,grid:t.owner,table:t.table};this._trigger("pivotGridHeadersRendered",n,i)},_triggerPivotGridRendered:function(n,t){var i={owner:this,grid:t.owner};this._trigger("pivotGridRendered",n,i)},_triggerTupleMemberExpanding:function(n,t,i,r){var u={owner:this,dataSource:this._ds,axisName:t,memberIndex:i,tupleIndex:r};return this._trigger("tupleMemberExpanding",n,u)},_triggerTupleMemberExpanded:function(n,t,i,r){var u={owner:this,dataSource:this._ds,axisName:t,memberIndex:i,tupleIndex:r};this._trigger("tupleMemberExpanded",n,u)},_triggerTupleMemberCollapsing:function(n,t,i,r){var u={owner:this,dataSource:this._ds,axisName:t,memberIndex:i,tupleIndex:r};return this._trigger("tupleMemberCollapsing",n,u)},_triggerTupleMemberCollapsed:function(n,t,i,r){var u={owner:this,dataSource:this._ds,axisName:t,memberIndex:i,tupleIndex:r};this._trigger("tupleMemberCollapsed",n,u)},_triggerSorting:function(n,t){var i={owner:this,sortDirections:t};return this._trigger("sorting",n,i)},_triggerSorted:function(n,t,i){var r={owner:this,sortDirections:t,appliedSortDirections:i};this._trigger("sorted",n,r)},_triggerHeadersSorting:function(n,t){var i={owner:this,levelSortDirections:t};return this._trigger("headersSorting",n,i)},_triggerHeadersSorted:function(n,t,i){var r={owner:this,levelSortDirections:t,appliedLevelSortDirections:i};this._trigger("headersSorted",n,r)}}),n.extend(!0,n.ui.igPivotGrid.prototype,n.ig.Pivot._pivotShared),n.extend(n.ui.igPivotGrid,{version:"19.2.25"})}(n),function(n){var t=n.ui.igPivotGrid.prototype.widgetFullName||n.ui.igPivotGrid.prototype.widgetName,i=n.ui.igPivotDataSelector.prototype.widgetFullName||n.ui.igPivotDataSelector.prototype.widgetName,r=n.ui.igSplitter.prototype.widgetFullName||n.ui.igSplitter.prototype.widgetName;n.widget("ui.igPivotView",n.ui.igWidget,{options:{width:null,height:null,dataSource:null,dataSourceOptions:{xmlaOptions:{serverUrl:null,catalog:null,cube:null,measureGroup:null,requestOptions:{withCredentials:!1,beforeSend:null},enableResultCache:!0,discoverProperties:null,executeProperties:null,mdxSettings:{nonEmptyOnRows:!0,nonEmptyOnColumns:!0,addCalculatedMembersOnRows:!0,addCalculatedMembersOnColumns:!0,dimensionPropertiesOnRows:[],dimensionPropertiesOnColumns:[]}},flatDataOptions:{dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseDataType:null,metadata:{cube:{name:null,caption:null,measuresDimension:{name:null,caption:null,measures:[{name:null,caption:null,aggregator:null,displayFolder:null}]},dimensions:[{name:null,caption:null,hierarchies:[{name:null,caption:null,displayFolder:null,levels:[{name:null,caption:null,memberProvider:null}]}]}]}}},measures:null,filters:null,rows:null,columns:null},pivotGridOptions:{isParentInFrontForColumns:!1,isParentInFrontForRows:!0,compactColumnHeaders:!1,rowHeadersLayout:"compact",compactColumnHeaderIndentation:30,compactRowHeaderIndentation:20,defaultRowHeaderWidth:200,allowSorting:!1,firstSortDirection:"ascending",allowHeaderRowsSorting:!1,allowHeaderColumnsSorting:!1,levelSortDirections:[{levelUniqueName:null,sortDirection:null}],firstLevelSortDirection:"ascending",gridOptions:{defaultColumnWidth:null,fixedHeaders:!0,caption:null,features:[],tabIndex:0,alternateRowStyles:!0,enableHoverStyles:!1},dragAndDropSettings:{appendTo:"body",containment:!1,zIndex:10},dropDownParent:"body",disableRowsDropArea:!1,disableColumnsDropArea:!1,disableMeasuresDropArea:!1,disableFiltersDropArea:!1,hideRowsDropArea:!1,hideColumnsDropArea:!1,hideMeasuresDropArea:!1,hideFiltersDropArea:!1,customMoveValidation:null},dataSelectorOptions:{dragAndDropSettings:{appendTo:"body",containment:!1,zIndex:10},dropDownParent:"body",customMoveValidation:null},pivotGridPanel:{resizable:!0,collapsible:!1,collapsed:!1,size:null},dataSelectorPanel:{location:"right",resizable:!0,collapsible:!0,collapsed:!1,size:250}},_create:function(){var h=this,u,t,i,f,e,o,r,s;if(u=this.element[0].nodeName.toUpperCase(),u!=="DIV")throw new Error(u+this._getLocaleValue("invalidBaseElement"));this.element.addClass("ui-igpivotview"),this.options.width&&this.element.width(this.options.width),this.options.height&&this.element.height(this.options.height),r=this.options.dataSelectorPanel.location,t=n("<div><\/div>").appendTo(this.element),i=n("<div><\/div>").appendTo(t),f=n("<table><\/table>").attr("id",this.element.attr("id")+"_pivotGrid").appendTo(i),i=n("<div><\/div>")[r==="right"?"appendTo":"prependTo"](t),e=n("<div><\/div>").attr("id",this.element.attr("id")+"_dataSelector").appendTo(i),o=[this.options.pivotGridPanel,this.options.dataSelectorPanel],r!=="right"&&o.reverse(),s=n.ig.Pivot._pivotShared._createDataSource(this.options.dataSource,this.options.dataSourceOptions),e.igPivotDataSelector(n.extend(!0,this.options.dataSelectorOptions,{dataSource:s})),t.igSplitter({width:this.options.width||this.element.width(),height:this.options.height||this.element.height(),panels:o}).bind("igsplitterresizeended igsplitterexpanded igsplittercollapsed",function(){h._setSize()}).bind("igsplitterresizestarted",function(){n(".ui-igpivot-metadatadropdown,.ui-igpivot-filterdropdown").remove()}),n.ui.igSplitter.prototype.css.verticalPanel&&n(n.ui.igSplitter.prototype.css.verticalPanel.replace(/ui-/g,".ui-").replace(/ /g,"")).css("overflow","hidden"),f.igPivotGrid(n.extend(!0,this.options.pivotGridOptions,{dataSource:s,width:(r==="right"?t.igSplitter("firstPanel"):t.igSplitter("secondPanel")).width(),height:t.igSplitter("option","height")})),t.igSplitter("refreshLayout"),this._setSize(),e.bind("igpivotdataselectordeferupdatechanged",function(n,t){f.igPivotGrid("option","deferUpdate",t.deferUpdate)})},_setOption:function(t,i){switch(t){case"dataSource":this.options.dataSourceOptions=null,this.options.dataSource=n.ig.Pivot._pivotShared._createDataSource(i,null),this.dataSelector().option("dataSource",this.options.dataSource),this.pivotGrid().option("dataSource",this.options.dataSource);break;case"dataSourceOptions":this.options.dataSourceOptions=i,this.options.dataSource=n.ig.Pivot._pivotShared._createDataSource(null,i),this.dataSelector().option("dataSource",this.options.dataSource),this.pivotGrid().option("dataSource",this.options.dataSource);break;case"width":case"height":n.Widget.prototype._setOption.call(this,arguments),this.splitter().element[t](i),this._setSize()}},_setSize:function(){var n=this.splitter(),r=this.pivotGrid(),u=this.dataSelector(),f=this.element.height(),e,t,i;e=this.options.dataSelectorPanel.location,e==="right"?(t=n.firstPanel().width(),i=n.secondPanel().width()):(t=n.secondPanel().width(),i=n.firstPanel().width()),r.option("width",t),r.option("height",f),u.option("width",i),u.option("height",f)},pivotGrid:function(){try{return this.element.find(":ui-igPivotGrid").data(t)}catch(n){if(n==="Syntax error, unrecognized expression: Syntax error, unrecognized expression: ui-igPivotGrid"||n.message==="Syntax error, unrecognized expression: ui-igPivotGrid")return this.element.find(":ui-igpivotgrid").data(t);throw n;}},dataSelector:function(){try{return this.element.find(":ui-igPivotDataSelector").data(i)}catch(n){if(n==="Syntax error, unrecognized expression: Syntax error, unrecognized expression: ui-igPivotDataSelector"||n.message==="Syntax error, unrecognized expression: ui-igPivotDataSelector")return this.element.find(":ui-igpivotdataselector").data(i);throw n;}},splitter:function(){try{return this.element.find(":ui-igSplitter").data(r)}catch(n){if(n==="Syntax error, unrecognized expression: Syntax error, unrecognized expression: ui-igSplitter"||n.message==="Syntax error, unrecognized expression: ui-igSplitter")return this.element.find(":ui-igsplitter").data(r);throw n;}},destroy:function(){this.element.removeClass("ui-igpivotview");try{this.element.find(":ui-igPivotGrid").igPivotGrid("destroy"),this.element.find(":ui-igPivotDataSelector").igPivotDataSelector("destroy"),this.element.find(":ui-igSplitter").igSplitter("destroy").remove(),this._superApply(arguments)}catch(n){if(typeof n=="string"){if(n.indexOf("unrecognized expression: ui-ig")!==-1){this.element.find(":ui-igpivotgrid").igPivotGrid("destroy"),this.element.find(":ui-igpivotdataselector").igPivotDataSelector("destroy"),this.element.find(":ui-igsplitter").igSplitter("destroy").remove(),this._superApply(arguments);return}}else if(n.message.indexOf("unrecognized expression: ui-ig")!==-1){this.element.find(":ui-igpivotgrid").igPivotGrid("destroy"),this.element.find(":ui-igpivotdataselector").igPivotDataSelector("destroy"),this.element.find(":ui-igsplitter").igSplitter("destroy").remove(),this._superApply(arguments);return}throw n;}}}),n.extend(n.ui.igPivotView,{version:"19.2.25"})}(n),function(n){var t=function(n){return n===null||n===undefined||typeof n=="number"&&isNaN(n)};n.widget("ui.igRating",n.ui.igWidget,{options:{vertical:!1,value:null,valueHover:null,voteCount:5,voteWidth:0,voteHeight:0,swapDirection:!1,valueAsPercent:!0,focusable:!0,precision:"whole",precisionZeroVote:.25,roundedDecimalPlaces:3,theme:null,validatorOptions:null,cssVotes:null},css:{normal:"ui-igrating ui-state-default ui-widget-content",active:"ui-igrating-active",selected:"ui-igrating-selected ui-state-highlight",hover:"ui-igrating-hover ui-state-hover",vote:"ui-igrating-vote ui-icon ui-icon-star",voteSelected:"ui-igrating-voteselected",voteDisabled:"ui-igrating-votedisabled ui-state-disabled",voteHover:"ui-igrating-votehover",voteDisabledSelected:"ui-igrating-votedisabledselected ui-state-disabled"},events:{hoverChange:"hoverChange",valueChange:"valueChange"},_create:function(){var f,s,c,l={fontSize:"1px",width:"100%",height:"100%",position:"relative",overflow:"hidden"},r=this.options,e=this.element,i=this,h=this.css,a=this._count(r),u=e[0].style,o=r.inputName;i._old={width:u.width,height:u.height,html:e[0].innerHTML},o||(e[0].innerHTML=""),r.theme&&e.addClass(r.theme),i._swap=r.swapDirection,i._rtl=e.css("direction")==="rtl",i._rtl&&(i._swap=!i._swap,e.css("direction","ltr")),i._hasHov=0,c=i._elem=n("<div/>").css(l).addClass(h.normal).appendTo(e).bind(i._evts={mousedown:function(n){i._doEvt(n,1)},mousemove:function(n){i._doEvt(n,2)},mouseleave:function(n){i._doEvt(n,3)}}),s=n("<div/>").css(l).appendTo(c),r.focusable&&(u={left:"5px",top:"5px",opacity:.1,position:"absolute",width:"1px",height:"1px",padding:"0px",zIndex:-1,border:"0px",outline:0},i._foc=n('<input type="button"/>').css(u).appendTo(s).focus(function(n){r.disabled||i._fcs||(i._fcs=1,i._hasHov<2&&(i._hasHov+=2),i._hov&&(i._doVal(i._valH,1,n),i._hov.css("visibility","visible")),i._elem.addClass(h.active))}).blur(function(n){!r.disabled&&i._fcs&&(i._fcs=null,i._hasHov%=2,i._hov&&i._hasHov===0&&i._hov.css("visibility","hidden"),i._elem.removeClass(h.active),i._validator&&i._validator._validateInternal(i.element,n,!0))}).keydown(function(t){var l,s=0,u=t.keyCode,e=n.ui.keyCode,f=i._valH,h=i._swap?-1:1,c=r.vertical,o=1/i._count(r);if(!r.disabled){if(l=f,o/=i._prec(r),u===e.SPACE||u===e.ENTER){i._doVal(f,!1,t);return}if(u===e.HOME?f=0:u===e.END?f=1:u===e.PAGE_DOWN?f+=o*4:u===e.PAGE_UP?f-=o*4:u===e.UP&&c?f+=s=-o*h:u===e.DOWN&&c?f+=s=o*h:u!==e.LEFT||c?u!==e.RIGHT||c||(f+=s=o*h):f+=s=-o*h,u>32&&u<41)try{t.preventDefault(),t.stopPropagation()}catch(a){}for(u=0;u<3;u++)if(l!==(f=Math.max(Math.min(f,1),0))&&i._doVal(f,1,t)&&s)f+=s;else break}})),i._doVotes(r,s),o&&(f=n('input[name="'+o+'"]'),f.length<=0&&(f=n("#"+o)),u=f[0]?f[0].value:null,u&&(r.value=i._toNum(u,r))),i._val=i._toNum(r.value,r),u=r.valueHover,i._valH=t(u)?i._val:i._toNum(u,r),r.valueAsPercent||(i._val/=a,i._valH/=a),i.validator(),i._set=!0,i._doVal(i._val,null,f?2:f),i._doVal(i._valH,1),delete i._set},_toNum:function(n,t){return n?(t=t._vsFormat,typeof n=="string"&&(n=parseFloat(t?n.replace(t,"_").replace(/[`,\. \':]/g,"").replace("_","."):n)),isNaN(n)||n<0?0:n):0},_count:function(n){return n=parseInt(n.voteCount,10),isNaN(n)?5:Math.max(n,1)},_doVotes:function(t,i){var v,y,p,u,f,c,e,s,d=i,w=this._count(t),l={width:"100%",height:"100%"},b={left:"0px",top:"0px",position:"absolute",overflow:"hidden",border:"none",background:"none"},h=-1,r=this,o=this.css,a=this._elem,g=this.element,k={touchstart:function(t){t.preventDefault(),n(this).trigger("mousedown")}};for(i||(i=r._div.parent(),r._div.remove(),r._hov.remove(),r._sel.remove(),r._selSwap=r._hovSwap=null),c=r._div=n("<div/>").addClass(o.vote).css(b).appendTo(i),t.vertical||c.css("whiteSpace","nowrap"),u=parseInt(t.voteHeight,10),f=parseInt(t.voteWidth,10),(isNaN(u)||u<2)&&(u=c.css("height"),u=!u||u.indexOf("px")<1?16:parseInt(u,10)),(isNaN(f)||f<2)&&(f=c.css("width"),f=!f||f.indexOf("px")<1?16:parseInt(f,10)),c.removeClass(o.vote),y=r._sel=n("<div/>").addClass(o.selected).css(l).css(b).appendTo(i),t.vertical||y.css("whiteSpace","nowrap"),v=r._hov=n("<div/>").addClass(o.hover).css(l).css(b).css("visibility","hidden").appendTo(i),t.vertical||v.css("whiteSpace","nowrap"),r._swap&&!t.vertical&&(r._hovSwap=v=n("<div/>").css(l).appendTo(r._hov),r._selSwap=y=n("<div/>").css(l).appendTo(r._sel)),p={display:t.vertical?"block":"inline-block",width:f,height:u,textIndent:"0px",overflow:"visible"};++h<w;)e=n("<span />").addClass(o.vote).css(p).appendTo(c).bind(k),t.disabled&&e.addClass(o.voteDisabled),s=t.cssVotes?t.cssVotes[h]:null,s&&s[0]&&e.addClass(s[0]),e[0]._i=h,e=n("<span />").addClass(o.vote).addClass(o.voteSelected).css(p).appendTo(y).bind(k),t.disabled&&e.addClass(o.voteDisabledSelected),s&&s[1]&&e.addClass(s[1]),e[0]._i=h,r._swap&&!r._selSwap&&(r._selSwap=e),e=n("<span />").addClass(o.vote).addClass(o.voteHover).css(p).appendTo(v).bind(k),s&&s[2]&&e.addClass(s[2]),e[0]._i=h,r._swap&&!r._hovSwap&&(r._hovSwap=e);t.vertical?(r._size=u,u*=w):(r._size=f,f*=w),a.css({height:u+"px",width:f+"px"});try{u+=(h=Math.max(a.outerHeight()-a.innerHeight(),0))>10?2:h,f+=(h=Math.max(a.outerWidth()-a.innerWidth(),0))>10?2:h}catch(nt){}g.css({height:u+"px",width:f+"px"}),c.css(l),d||r.value(r.value())},validator:function(n){var t=this.options.validatorOptions,i=this._validator;return i&&i.owner===this&&(n||!t)?(i.destroy(),delete this._validator):!i&&!n&&t&&this.element.igValidator?(this._validator=this.element.igValidator(t).data("igValidator"),this._validator.owner=this):i&&!n&&t&&this.element.igValidator&&(this._validator=this.element.igValidator(t).data("igValidator")),this._validator},validate:function(){return this._validator?this._validator.validate():null},_doEvt:function(n,t){var r,i=this,u=this.options;if(!u.disabled){if(t===3){i._hasHov-=i._hasHov%2,i._hov&&i._hasHov===0&&(i._hov[0].style.visibility="hidden");return}if(r=i._valFromEvt(n),!(r<0)){if(t===1){if(!i._sel)return;if(r=i._lastHov||r,i._doVal(r,!1,n),i._doVal(r,1,n),i._foc&&document.hasFocus&&!document.hasFocus())return setTimeout(function(){i.focus()},0);i.focus()}if(t===2){if(i._lastHov=r,!i._hov)return;i._hasHov%2==0&&i._hasHov++,i._hov[0].style.visibility="visible",i._doVal(r,1,n)}n.preventDefault()}}},_setOption:function(t,i){var r,e,u,f=this.options;if(f[t]===i)return this;if(t==="swapDirection"||t==="vertical"||t==="focusable")throw new Error(this._getLocaleValue("setOptionError")+t);if(e=this._count(f),t==="disabled"){if(r=n("SPAN",this._div),u=this.css.voteDisabled,r.length!==e)return this;i?r.addClass(u):r.removeClass(u),r=n("SPAN",this._sel),u=this.css.voteDisabledSelected,r.length!==e&&this._selSwap&&(r=n("SPAN",this._selSwap)),r.length===e&&(i?r.addClass(u):r.removeClass(u))}return(t==="theme"&&(f.theme&&this.element.removeClass(f.theme),i&&this.element.addClass(i)),f[t]=i,typeof i=="function")?this:(this._set=!0,(t==="precision"||t==="valueAsPercent")&&(this._doVal(this._val,!1,1),this._doVal(this._valH,1,1)),(t.indexOf("vote")===0||t==="theme"||t==="cssVotes")&&this._doVotes(f),t.indexOf("value")>=0&&this._doVal(i,t.length>6,1,1),t==="validatorOptions"&&this.validator(),delete this._set,this)},_evtOffset:function(n,i){var r,f=n.originalEvent||n,u="offset"+i;return t(r=n[u])&&t(r=f[u])&&t(r=n[u="layer"+i])&&(r=f[u]),r||1},_valFromEvt:function(n){var r,u,f,e,o=this.options,i=n?n.target:null;return(e=i&&i.nodeName==="SPAN"?i._i:null,t(e))?-1:(i.unselectable||(i.unselectable="on"),f=this._evtOffset(n,o.vertical?"Y":"X"),r=this._size,r*=e,r>f&&(f+=r),u=f/this._count(o)/this._size,this._swap&&(u=1-u),Math.max(Math.min(u,1),0))},_doVal:function(t,i,r,u){var h,c,s,l,o=this.options,f=i?this._hov:this._sel,a=this._size,e=this._swap?i?this._hovSwap:this._selSwap:null;if(f&&(f=f[0],f&&(f=f.style)),f){if(l=this._count(o),u&&(t=parseFloat(t)),isNaN(t)?t=-1:u&&!o.valueAsPercent&&(t/=l),r&&r.type&&t>=0){if(u=this._fixVal(i?this._valH:this._val,1),s=this._fixVal(t,1),u===s)return 1;if(!this._trigger(i?"hoverChange":"valueChange",r,{value:s,oldValue:u}))return}t<0&&i&&(t=this._val),t=this._fixVal(t),r&&(u=this._round(o.valueAsPercent?t:t*l,o),i?(this._valH=t,o.valueHover=u):(r!==2&&(this._val=t,o.value=u,this._validator&&this._validator._validateInternal(this.element,r)),h=o.inputName,h&&(c=n('input[name="'+h+'"]'),c.length===0&&(c=n('<input type="hidden" name="'+h+'" />').appendTo(this.element.parent())),s=o._vsFormat,c.val(s?u.toString().replace(".",s):u)))),!i&&this._foc&&this._foc.val(this._fixVal(t,1)),e&&(t=1-t),t=Math.floor(t*a*l+.3),t+="px",e&&(e=e[0],e&&(e=e.style)),o.vertical?e?(f.top=t,e.marginTop="-"+t):f.height=t:e?(f.left=t,e.marginLeft="-"+t):f.width=t}},_prec:function(n){return n=this._set?null:n.precision,n&&(n=n.toLowerCase()),n==="half"?2:n==="whole"?1:4},_fixVal:function(n,t,i){var u,f,r=this.options;return(i=i||this._prec(r),f=this._count(r),n=Math.max(Math.min(n,1),0),i<4&&(u=f*i,n*=u,n=n<r.precisionZeroVote?0:Math.floor(Math.floor(n+.99)+.499*i)/u),!t)?n:(r.valueAsPercent||(n*=f,n=i>1?n:Math.floor(n+.1)),this._round(n,r))},_round:function(n,t){var r=1,i=parseInt(t.roundedDecimalPlaces,10);if(isNaN(i)||i<0)return n;for(i=Math.min(15,Math.max(i,this._prec(t)<4?3:t.valueAsPercent?1:0));i-->0;)r*=10;return Math.round(n*r)/r},value:function(n){return typeof n!="number"?this._fixVal(this._val,1,4):(this._set=!0,this._doVal(n,!1,1,1),delete this._set,this)},valueHover:function(n){return typeof n!="number"?this._fixVal(this._valH,1,4):(this._set=!0,this._doVal(n,1,1,1),delete this._set,this)},hasFocus:function(){return this._fcs===1},focus:function(){if(this._foc)try{this._foc[0].focus()}catch(n){}return this},destroy:function(){var t=this.options,i=this._old,n=this.element;return this._elem?(this.validator(1),this._foc&&this._foc.unbind().remove(),this._elem.remove(),t.theme&&n.removeClass(t.theme),n[0].style.width=i.width,n[0].style.height=i.height,t.inputName||(n[0].innerHTML=i.html),this._rtl&&n.css("direction","rtl"),this._superApply(arguments),this._elem=this._hov=this._sel=this._selSwap=this._hovSwap=this._foc=this._evts=null,this):this}}),n.extend(n.ui.igRating,{version:"19.2.25"})}(n),function(n){n.widget("ui.igToolbarButton",n.ui.igButton,{options:{allowToggling:!0,isSelected:!1},css:{toolbarButtonWidget:"ui-igtoolbarbutton"},events:{activating:"activating",activated:"activated",deactivating:"deactivating",deactivated:"deactivated"},_setOption:function(t,i){this.options[t]!==i&&n.ui.igButton.prototype._setOption.apply(this,arguments)},_create:function(){n.ui.igButton.prototype._create.apply(this),this._setupElement(),this._attachToolbarBtnEvents()},_setupElement:function(){this.element.addClass(this.css.toolbarButtonWidget).attr("tabindex","1"),this.options.isSelected&&this.element.addClass(this.options.css.buttonActiveClasses)},_onBlur:function(n){var i,t=this.options;t.disabled||(i=this._trigger("blur",n),i&&(this.element.removeClass(t.css.buttonFocusClasses),t.allowToggling||this.element.removeClass(t.css.buttonActiveClasses)))},_onMouseDown:function(n){var i,r=this.element,t=this.options;t.disabled||(i=this._trigger("mousedown",n),i&&(r.removeClass(t.css.buttonHoverClasses),t.allowToggling||r.addClass(t.css.buttonActiveClasses)))},_onMouseUp:function(n){var i,t=this.options;t.disabled||(i=this._trigger("mouseup",n),i&&(this.element.removeClass(t.css.buttonHoverClasses),t.allowToggling||this.element.removeClass(t.css.buttonActiveClasses)))},_onEnterKey:function(t){t.keyCode===n.ui.keyCode.ENTER&&this.element.mousedown()},_triggerActivating:function(n){var t={owner:this};return this._trigger(this.events.activating,n,t)},_triggerActivated:function(n){var t={owner:this};return this._trigger(this.events.activated,n,t)},_triggerDeactivating:function(n){var t={owner:this};return this._trigger(this.events.deactivating,n,t)},_triggerDeactivated:function(n){var t={owner:this};return this._trigger(this.events.deactivated,n,t)},_attachToolbarBtnEvents:function(){var i,r=this.options,t=this;this.element.click(function(n){r.allowToggling&&(r.isSelected?(i=t._triggerDeactivating(n),i&&(t.deactivate(n),t.element.addClass(r.css.buttonHoverClasses))):(i=t._triggerActivating(n),i&&t.activate(n)))});this.element.on("keypress",n.proxy(this._onEnterKey,this))},toggle:function(){var n=this.options;n.disabled!==!0&&n.allowToggling!==!1&&(n.isSelected=!n.isSelected,this.element.toggleClass(n.css.buttonActiveClasses))},activate:function(n){var t=this.options;t.disabled!==!0&&t.allowToggling!==!1&&(t.isSelected=!0,this.element.addClass(t.css.buttonActiveClasses),n&&this._triggerActivated(n))},deactivate:function(n){var t=this.options;t.disabled!==!0&&t.allowToggling!==!1&&(t.isSelected=!1,this.element.removeClass(t.css.buttonActiveClasses).removeClass(t.css.buttonFocusClasses),n&&this._triggerDeactivated(n))},widget:function(){return this.element},destroy:function(){n.ui.igButton.prototype.destroy.call(this),this.element.off().removeClass("")}}),n.extend(n.ui.igToolbarButton,{version:"19.2.25"})}(n),function(n){n.widget("ui.igColorPicker",{options:{colors:[["#ffffff","#000000","#EEECE1","#1F497D","#4F81BD","#C0504D","#9BBB59","#8064A2","#4BACC6","#F79646"],["#F2F2F2","#7F7F7F","#DDD9C3","#C6D9F0","#DBE5F1","#F2DCDB","#EBF1DD","#E5E0EC","#DBEEF3","#FDEADA"],["#D8D8D8","#595959","#C4BD97","#8DB3E2","#B8CCE4","#E5B9B7","#D7E3BC","#CCC1D9","#B7DDE8","#FAC08F"],["#BFBFBF","#3F3F3F","#938953","#548DD4","#95B3D7","#D99694","#C3D69B","#B2A1C7","#92CDDC","#FAC08F"],["#A5A5A5","#262626","#494429","#17365D","#366092","#953734","#76923C","#5F497A","#31859B","#E36C09"],["#7F7F7F","#0C0C0C","#1D1B10","#0F243E","#244061","#632423","#4F6128","#3F3151","#205867","#974806"]],standardColors:["#C00000","#FF0000","#FFC000","#FFFF00","#92D050","#00B050","#00B0F0","#0070C0","#002060","#7030A0"]},events:{colorSelected:"colorSelected"},css:{standardColorsRow:"ui-colorpicker-standardcolors",baseClass:"ui-igColorPicker",colorTable:"igColorPicker-table",customColors:"igColorPicker-customColors",defaultColors:"ui-colorpicker-standardcolors",colorsRow:"igColorPicker-row",colorpickerColor:"igColorPicker-color"},_create:function(){this._colorTable=n("<div>"),this._colorTable.addClass(this.css.colorTable),this._colorTable.appendTo(this.element),this._addOrChangeColors(),this._addOrChangeStandardColors()},_addOrChangeColors:function(){var f,t,i,u=this.options.colors,e=u.length,r="";for(this._customColors&&this._customColors.length>0?this._customColors.html(""):(this._customColors=n("<div>").addClass(this.css.customColors),this._customColors.appendTo(this._colorTable)),t=0;t<e;t++){for(r+="<div class= "+this.css.colorsRow+">",f=u[t].length,i=0;i<f;i++)r+="<div class="+this.css.colorpickerColor+' style="background-color: '+u[t][i]+';"><\/div>';r+="<\/div>"}this._customColors.html(r)},_addOrChangeStandardColors:function(){var t,i=this.options.standardColors,r="";for(this._defaultColors&&this._defaultColors.length>0?this._defaultColors.html(""):(this._defaultColors=n("<div>").addClass(this.css.defaultColors),this._defaultColors.appendTo(this._colorTable)),t=0;t<i.length;t++)r+="<div class="+this.css.colorpickerColor+' style="background-color: '+i[t]+';"><\/div>';this._defaultColors.html(r)},_init:function(){this.element.addClass(this.css.baseClass),this._bindEvents()},_bindEvents:function(){var t=this;this._colorTable.delegate("."+this.css.colorpickerColor,"click",function(i){var r=n(i.target);i.preventDefault(),t._changeSelectedColor(r),t._trigger(t.events.colorSelected,i,{color:t.colorFromElement(r)})})},_changeSelectedColor:function(n){this._colorTable.find("div.selected-color").removeClass("selected-color"),n.addClass("selected-color")},_setOption:function(t,i){if(this.options[t]!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"standardColors":this._addOrChangeStandardColors();break;case"colors":this._addOrChangeColors()}}},colorTable:function(){return this._colorTable},customColorTable:function(){return this._customColors},standardColorsTable:function(){return this._defaultColors},colorFromElement:function(n){return n.css("background-color")},selectedColor:function(){var t=this._colorTable.find("div.selected-color");return t.length?n.ig.util.rgbToHex(t.css("background-color")):null},selectColor:function(t){var i=this._colorTable.find("div").filter(function(i,r){var u=n.ig.util.rgbToHex(r.style.backgroundColor);return u&&u===t.toLowerCase()});this._changeSelectedColor(i)}}),n.extend(n.ui.igColorPicker,{version:"19.2.25"})}(n),function(n){n.widget("ui.igColorPickerSplitButton",n.ui.igSplitButton,{options:{items:[],defaultColor:"#000",hasDefaultIcon:!0},_create:function(){n.ui.igSplitButton.prototype._create.call(this),this._setButtonColorIndicator(this.options.defaultColor)},_createItemsList:function(){var i,t;this._options.popover=n('<div id="'+this._id("_popover")+'"><\/div>').appendTo(this.element),t=n.ig.util.isTouchDevice()||n("html").hasClass("touch")?{direction:"bottom",closeOnBlur:!1,width:480,height:360,maxWidth:480,maxHeight:360,defaultMaxWidth:null}:{direction:"bottom",closeOnBlur:!1,width:220,defaultMaxWidth:null},this._options.popover.igPopover(t),i=this._options.popover.igPopover("container"),this._options.itemsList=i.igColorPicker()},_attachEvents:function(){n.ui.igSplitButton.prototype._attachEvents.call(this);this._options.itemsList.on("igcolorpickercolorselected",n.proxy(this._onColorSelect,this));this._options.defaultButton.on("igtoolbarbuttonclick",n.proxy(this._onDefaultButtonClick,this));this._options.itemsList.parent().parent().on("mousedown",n.proxy(this._preventCollapsing,this))},_onItemClick:function(){return!1},_onColorSelect:function(n,t){this._setButtonColorIndicator(t.color),this.options.defaultColor=t.color,this._trigger("colorSelected",n,{value:t.color,item:this.element}),this.collapse()},_onDefaultButtonClick:function(n){n.stopPropagation(),this._trigger("colorSelected",n,{value:this.options.defaultColor,item:this.element})},_setButtonColorIndicator:function(n){this._options.defaultButton.children(":first").css("border-bottom-color",n),this.options.hasDefaultIcon||(this._options.defaultButton.children(":first").css("background-color",n),this._options.defaultButton.children(":first").css("background-image","none"))},_preventCollapsing:function(){return!1},_setOption:function(t,i){var r=this.options,u=this;if(r[t]!==i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"defaultColor":u.setColor(i)}}},setColor:function(n){this._options.itemsList.igColorPicker("selectColor",n),this._setButtonColorIndicator(n),this.options.defaultColor=n,this.collapse()},collapse:function(n){var t=this._options;t.popover.igPopover("hide"),this.element.removeClass(this.css.active),t.expandButton.removeClass(this.css.focus),t.isExpanded=!1,n&&this._triggerCollapsed(n)},expand:function(n){var t=this._options;t.popover.igPopover("show",this.element),this.element.addClass(this.css.active),t.isExpanded=!0,n&&this._triggerExpanded(n)},destroy:function(){n.ui.igSplitButton.prototype.destroy.apply(this,arguments)}}),n.extend(n.ui.igColorPickerSplitButton,{version:"19.2.25"})}(n),function(n){n.ig=n.ig||{},n.ig.igToolbarItemBaseDescriptor=Class.extend({settings:{width:null,height:null,props:{scope:{value:null}}},_updatedProperties:[],init:function(t){this.settings=n.extend(!0,{},this.settings,t),this.name=t.name,this.type=t.type,this.settings.scope&&(this.settings.props.scope=this.settings.scope)},updateProperty:function(n,t){this.settings.props[n].value=t,this._updatedProperties.push(this.settings.props[n])},getProperty:function(n){return this.settings.props[n]},getUpdatedProperties:function(){return this._updatedProperties},getProperties:function(){return this.settings.props},getLocaleProperties:function(){return this.settings.localeProperties},callbackRenderer:function(){if(this.settings.callbackRenderer&&n.isFunction(this.settings.callbackRenderer))return this.settings.callbackRenderer()},handler:function(){return this.settings.handler}}),n.ig.igToolbarButtonDescriptor=n.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{onlyIcons:{value:!0},labelText:{value:"&nbsp;"}}},init:function(n){this._super(n)}}),n.ig.igToolbarSplitButtonDescriptor=n.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{items:[]}},init:function(n){this._super(n)}}),n.ig.igToolbarComboDescriptor=n.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{valueKey:{value:"text"},textKey:{value:"value"},dropDownOnFocus:{value:!0},enableClearButton:{value:!1},dataSource:{value:null},mode:{value:"dropdown"},inputName:{value:null}}},init:function(n){this._super(n),this.settings.dataSource&&(this.settings.props.dataSource.value=this.settings.dataSource)}}),n.widget("ui.igToolbar",n.ui.igWidget,{options:{height:null,width:null,allowCollapsing:!0,collapseButtonIcon:"ui-igbutton-collapsed",expandButtonIcon:"ui-igbutton-expanded",name:"",displayName:"",items:[],isExpanded:!0,locale:{collapseButtonTitle:undefined,expandButtonTitle:undefined}},events:{toolbarButtonClick:"toolbarButtonClick",toolbarComboOpening:"toolbarComboOpening",toolbarComboSelected:"toolbarComboSelected",toolbarCustomItemClick:"toolbarCustomItemClick",itemRemoved:"itemRemoved",itemAdded:"itemAdded",collapsing:"collapsing",collapsed:"collapsed",expanding:"expanding",expanded:"expanded",itemDisable:"itemDisable",itemEnabled:"itemEnabled",windowResized:"windowResized"},css:{toolbarWidget:"ui-widget ui-widget-content ui-igtoolbar ui-corner-all",toolbarWrapperConteiner:"ui-widget ui-widget-content ui-igtoolbar ui-corner-all",toolbarCollapsedButton:"ui-state-default ui-igbutton-all-caps",igToolbarSeparator:"ig-toolbar-separator ui-widget-content",igToolbarButtonsHolder:"ig-toolbar-buttons-holder"},_id:function(n){return this.element[0].id+n},widget:function(){return this.element},_create:function(){for(var i,t=this.options,n=0;n<t.items.length;n++)t.items[n].type||(t.items[n].type="custom"),i=t.items[n]=this._getToolbarItemDescriptor(t.items[n]);this._render(),this._createItems(),this._onResize()},_getToolbarItemDescriptor:function(n){return new this._toolbarItemsDescriptors[n.type](n)},_toolbarItemsDescriptors:{button:n.ig.igToolbarButtonDescriptor,0:n.ig.igToolbarButtonDescriptor,combo:n.ig.igToolbarComboDescriptor,1:n.ig.igToolbarComboDescriptor,splitButton:n.ig.igToolbarSplitButtonDescriptor,2:n.ig.igToolbarSplitButtonDescriptor,splitButtonColor:n.ig.igToolbarSplitButtonDescriptor,3:n.ig.igToolbarSplitButtonDescriptor,custom:n.ig.igToolbarItemBaseDescriptor},_init:function(){this._attachEvents(),this.options.isExpanded||(this.buttonsList.hide(),this.collapseBtn.igToolbarButton("toggle").children(":first").switchClass(this.options.collapseButtonIcon,this.options.expandButtonIcon)),this._width=this.collapseBtn.outerWidth(!0)+this.buttonsList.width(),this._height=this.element.height()},_render:function(){var t=this.options;this.element.addClass(this.css.toolbarWidget).width(this.options.width).height(this.options.height),this.collapseBtn=n('<div tabIndex="0" id="'+this._id("_collapseButton")+'"><\/div>').appendTo(this.element).attr({"data-state":"expand"}).igToolbarButton({onlyIcons:!0,labelText:"&nbsp;",title:this._getTooltipByExpandState("expand"),icons:{primary:t.collapseButtonIcon}}),this.toolbarBody=this.element.find("#"+this._id("_toolbar")),this.buttonsList=n('<div id="'+this._id("_toolbar_buttons")+'" class="'+this.css.igToolbarButtonsHolder+'"><\/div>').appendTo(this.element)},_onCollapse:function(n){var i,f,u,r=this.options,e,t=this;(n.stopPropagation(),r.allowCollapsing)&&(r.isExpanded?(f="collapsed",u="collapsing",i=this._trigger(this.events[u],n,{owner:this,toolbarElement:this.element,toolbar:{}}),i&&(r.isExpanded=!1,e=this.element.height(),this._oldWidth=this._width,this.collapseBtn.attr({title:this._getTooltipByExpandState("collapse"),"data-state":"collapse"}).children(":first").switchClass(this.options.collapseButtonIcon,this.options.expandButtonIcon))):(f="expanded",u="expanding",i=this._trigger(this.events[u],n,{owner:this,toolbarElement:this.element,toolbar:{}}),i&&(r.isExpanded=!0,this.buttonsList.show(),e=this._getAdjustedWidth(),this.collapseBtn.attr({title:this._getTooltipByExpandState("expand"),"data-state":"expand"}).children(":first").switchClass(this.options.expandButtonIcon,this.options.collapseButtonIcon))),i&&(this.element.css({overflow:"hidden"}),this.element.animate({width:e},300,null,function(){r.isExpanded?t.element.css("width",""):t.buttonsList.hide(),t._trigger(t.events[f],n,{owner:t,toolbarElement:t.element,toolbar:{}})})))},_getAdjustedWidth:function(){var n;return n=this.options.isExpanded?this.buttonsList.outerWidth(!0)+this.collapseBtn.outerWidth(!0):this.element.height()},_setOption:function(n,t){this._super(n,t);var i,r=this.options;switch(n){case"allowCollapsing":this.options.allowCollapsing=t;break;case"items":for(i=0;i<t.length;i++)t[i].type||(t[i].type="custom"),t[i]=this._getToolbarItemDescriptor(t[i]);this._updateItems(t),this.options.items=t,this._createItems();break;case"width":this.element.width(t);break;case"height":this.element.height(t);break;case"isExpanded":r.allowCollapsing&&this._expandOrCollapse();break;case"collapseButtonIcon":this.options.collapseButtonIcon=t;break;case"expandButtonIcon":this.options.expandButtonIcon=t}},_getTooltipByExpandState:function(n){return(n==="expand"?this._getLocaleValue("collapseButtonTitle"):this._getLocaleValue("expandButtonTitle")).replace("{0}",this.options.displayName)},changeLocale:function(){var n=this.collapseBtn;n&&n.length&&n.attr("title",this._getTooltipByExpandState(n.attr("data-state")))},_expandOrCollapse:function(){var n=this;n.options.isExpanded?(n.buttonsList.show(),this._oldWidth=this._width,n.collapseBtn.attr({title:this._getTooltipByExpandState("expand"),"data-state":"expand"}).children(":first").switchClass(n.options.expandButtonIcon,n.options.collapseButtonIcon)):(typeof n._oldWidth!="undefined"&&n.element.width(n._oldWidth),this._oldWidth=this._width,n.buttonsList.hide(),n.collapseBtn.attr({title:this._getTooltipByExpandState("collapse"),"data-state":"collapse"}).children(":first").switchClass(n.options.collapseButtonIcon,n.options.expandButtonIcon)),this._onResize()},_isSelectedAction:function(n,t){t.value&&n.addClass("ui-state-active")},_createItems:function(){var i=this.options,t,f,o=this,r={},u,e={button:"igToolbarButton",combo:"igCombo",splitButton:"igSplitButton",splitButtonColor:"igColorPickerSplitButton"},s=function(f,e){var s=i.items[t].scope||o;if(e.action!==undefined&&n.isFunction(s[e.action])){s[e.action](u,e,r);return}r[f]=e.value};for(this.buttonsList.empty(),t=0;t<i.items.length;t++)r={},u=(i.items[t].callbackRenderer()||n('<div tabIndex="0"><\/div>')).attr("id",this._id("_item_"+i.items[t].name)).appendTo(this.buttonsList),f=i.items[t].getLocaleProperties(),f&&u.attr(f),n.each(i.items[t].getProperties(),s),e.hasOwnProperty(i.items[t].type)&&u[e[i.items[t].type]](r)},_updateItems:function(n){for(var i=this.options,r,u,f,t=0;t<n.length;t++)r=n[t],f=this.getItem(n[t].name),u=i.items[t].scope||this},_tooltipAction:function(n,t,i){i!==undefined?i.title=t.value:n.igToolbarButton("option","title",t.value)},_buttonIconAction:function(n,t,i){i!==undefined?i.icons={primary:t.value}:n.igToolbarButton("option","icons",{primary:t.value})},_comboDataSourceAction:function(n,t,i){i!==undefined?i.dataSource=t.value:n.igCombo("option","dataSource",t.value)},_comboWidthAction:function(n,t,i){i!==undefined?i.width=t.value:n.igCombo("option","width",t.value)},_comboHeightAction:function(n,t,i){i!==undefined?i.height=t.value:n.igCombo("option","height",t.value)},_comboSelectedItem:function(n,t,i){i!==undefined?i.initialSelectedItems=[{value:t.value}]:n.igCombo("value",t.value)},_spltButtonColorAction:function(n,t,i){i!==undefined?i.defaultColor=t.value:n.igColorPickerSplitButton("option","defaultColor",t.value)},_comboDropDownListWidth:function(n,t,i){i!==undefined?i.dropDownWidth=t.value:n.igCombo("option","dropDownWidth",t.value)},_getWidgetType:function(n){var t,i;if(n!==undefined){t=n.data();for(i in t)if(t.hasOwnProperty(i)&&t[i].widgetName)return t[i].widgetName}},_attachEvents:function(){var t="igtoolbarbuttonclick igsplitbuttonclick igcolorpickersplitbuttoncolorselected";this.element.delegate(".ui-widget",t,n.proxy(this._onToolbarItemInteraction,this)),this.element.delegate(":ui-igCombo","igcomboselectionchanged",n.proxy(this._onComboListItemClick,this)).delegate(":ui-igCombo","igcombodropdownclosed",n.proxy(this._onComboDropDownClose,this)),this.collapseBtn.bind("igtoolbarbuttonclick",n.proxy(this._onCollapse,this));n(window).on("resize",n.proxy(this._onResize,this))},_onToolbarItemInteraction:function(t,i){var o,r,e,f=n(t.target).parentsUntil(":ui-igToolbar").eq(-2),u=this.options;f.length===0&&(f=n(t.target)),r=this.buttonsList.children().index(f);switch(t.type){case"igtoolbarbuttonclick":e=this.events.toolbarButtonClick;break;default:e=this.events.toolbarCustomItemClick,o=i.data?i.data.text:i.value}this._trigger(e,t,{name:i.name||u.items[r].name,value:o,handler:u.items[r].handler(),scope:u.items[r].getProperty("scope"),itemProperties:u.items[r].getProperties(),toolbarItem:f,toolbarName:u.name})},_onComboDropDownClose:function(t,i){this._delayComboSelectionChanged&&(this._delayComboSelectionChanged=!1,i.items=n(t.currentTarget).igCombo("selectedItems"),this._onComboListItemClick(t,i))},_onComboListItemClick:function(t,i){var u,r;if(t.which>=37&&t.which<=40){this._delayComboSelectionChanged=!0;return}this._delayComboSelectionChanged=!1,u=this.buttonsList.children().index(n(t.currentTarget)),r=this.options.items[u],this._trigger(this.events.toolbarComboSelected,t,{name:r.name,value:i.items[0].data?i.items[0].data.text:i.items[0].value,handler:r.handler(),scope:r.getProperty("scope"),itemProperties:r.getProperties(),toolbarItem:i.owner,toolbarName:this.options.name})},_onResize:function(){for(var t=this.element.is(":visible"),n=this.element.parent().width();t&&this.options.isExpanded&&this.element.outerWidth()>n;)this._hideButtonFromToolbar();while(this._hiddenButtons&&this._hiddenButtons.length>0&&n>this.element.outerWidth()+this._hiddenButtons[this._hiddenButtons.length-1].width())this._showHiddenButtonFromToolbar();this._trigger(this.events.windowResized)},_hideButtonFromToolbar:function(){var t,i=this.buttonsList.children().filter(function(){return n(this).css("display")!=="none"});this._hiddenButtons===undefined&&(this._hiddenButtons=[]),t=n(i[i.length-1]),typeof t.length!="undefined"&&(t.hide(),this._hiddenButtons.push(t))},_showHiddenButtonFromToolbar:function(){this._hiddenButtons[this._hiddenButtons.length-1].show(),this._hiddenButtons.pop()},getItem:function(n){var t;return isNaN(parseInt(n,10))?typeof n=="string"&&(t=this.buttonsList.find("#"+this._id("_item_"+n)),t.length)?t:void 0:this.buttonsList.children().eq(n)},addItem:function(n){var t=this._getToolbarItemDescriptor(n);this.options.items.push(t),this._createItems(),this._trigger(this.events.itemAdded)},removeItem:function(n){this.buttonsList.children().eq(n).remove(),this._trigger(this.events.itemremoved)},disableItem:function(n,t){var i=this.getItem(n),r=this._getWidgetType(i);r&&(i[this._getWidgetType(i)]("option","disabled",t),this._trigger(this.events.itemDisable,{isDisabled:t}))},activateItem:function(n,t){var i=this.getItem(n),r=t?i.addClass:i.removeClass;r.call(i,"ui-state-active"),i.igToolbarButton("option","isSelected",t),this._trigger(this.events.itemEnabled,{isActivated:t})},deactivateAll:function(){this.buttonsList.find(".ui-igbutton.ui-state-active").igToolbarButton("deactivate")},destroy:function(){this.element.undelegate().unbind(),this.collapseBtn.igToolbarButton("destroy").remove(),this.buttonsList.remove(),this.element.removeClass(),this._superApply(arguments)}}),n.extend(n.ui.igToolbar,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTileManager",n.ui.igWidget,{css:{container:"ui-widget ui-igtilemanager ui-widget-content",leftPanel:"ui-igtilemanager-left",rightPanel:"ui-igtilemanager-right",header:"ui-widget-header ui-igtile-header",content:"ui-widget-content ui-igtile",innerContainer:"ui-igtile-inner-container",minimized:"ui-igtile-minimized",maximized:"ui-igtile-maximized",minimizeButton:"ig-button ig-tile-minimize-button",minimizeIcon:"ig-tile-minimize-icon",hoverClass:"ui-state-hover",hidden:"ui-helper-hidden",overflowHidden:"ui-helper-overflow-hidden",overflowVisible:"ui-helper-overflow-visible",visibilityHidden:"ui-helper-visibility-hidden",splitterNoScroll:"ui-igsplitter-no-scroll"},options:{width:null,height:null,columnWidth:null,columnHeight:null,cols:null,rows:null,marginLeft:0,marginTop:0,rearrangeItems:!0,items:null,dataSource:null,minimizedState:null,maximizedState:null,maximizedTileIndex:null,rightPanelCols:1,rightPanelTilesWidth:null,rightPanelTilesHeight:null,showRightPanelScroll:!0,splitterOptions:{enabled:!0,collapsible:!1,collapsed:!1,events:{collapsed:null,expanded:null}},preventMaximizingSelector:"a, input",animationDuration:500,dataSourceUrl:null,responseDataKey:null,responseDataType:null,dataSourceType:null,requestType:"GET",responseContentType:null},events:{dataBinding:"dataBinding",dataBound:"dataBound",rendering:"rendering",rendered:"rendered",tileRendering:"tileRendering",tileRendered:"tileRendered",tileMaximizing:"tileMaximizing",tileMaximized:"tileMaximized",tileMinimizing:"tileMinimizing",tileMinimized:"tileMinimized"},_selectors:{tileSelector:".ui-igtile",minimizedTileSelector:".ui-igtile-minimized",minimizeBtnSelector:".ig-tile-minimize-button",minimizeIconSelector:".ig-tile-minimize-icon",leftPanelSelector:".ui-igtilemanager-left",rightPanelSelector:".ui-igtilemanager-right",splitbarSelector:".ui-igsplitter-splitbar-vertical",innerContainerSelector:".ui-igtile-inner-container"},_create:function(){var n=this.options;this._options={$tiles:null,$maximizedTile:null,$leftPanel:null,$rightPanel:null,$layoutManagerElement:null,fromMarkup:!1,animating:!1,useMaximizedTileIndex:!1,rightPanelWidth:0,gridLayout:null,elementHandlers:{},windowHandlers:{},splitterFirstExpandEventFired:!1},this.element.addClass(this.css.container),n.width&&this.element.css("width",n.width),n.height&&this.element.css("height",n.height),this.options.tileSelector=this.options.tileSelector||this._selectors.tileSelector,n.dataSource!==null?this.dataBind():(this._options.fromMarkup=!0,this._initFromMarkup()),this.options.disabled&&(this.options.disabled=!1,this._setOption("disabled",!0)),this._attachEvents()},_setOption:function(t,i){if(this.options[t]!==i){var u,o,s,f,e,h=this,r=this._options;this._super(t,i);switch(t){case"dataSource":this.dataBind();break;case"dataSourceUrl":this.dataBind();break;case"width":r.useMaximizedTileIndex||this.minimize(0),this.element.width(this.options.width),this.reflow(!0,0);break;case"height":r.useMaximizedTileIndex||this.minimize(0),this.element.height(this.options.height),this.reflow(!0,0);break;case"columnWidth":case"columnHeight":case"cols":case"rows":case"marginLeft":case"marginTop":case"rearrangeItems":r.useMaximizedTileIndex||this.minimize(0),e={},e[t]=i,r.$layoutManagerElement.igLayoutManager("option","gridLayout",e),r.gridLayout=this.layoutManager()._opt.gridLayout;break;case"items":if(i.length!==r.$tiles.length)throw new Error(this._getLocaleValue("setOptionItemsLengthError"));if(r.useMaximizedTileIndex?s=n.extend(!0,[],this._options.$layoutManagerElement.igLayoutManager("option","items"),i):this.minimize(0),r.$layoutManagerElement.igLayoutManager("option","items",i),r.gridLayout=this.layoutManager()._opt.gridLayout,r.useMaximizedTileIndex){for(f=this._options.$layoutManagerElement.igLayoutManager("option","items"),o=f.length,u=0;u<o;u++)n.extend(!0,f[u],s[u]);this.layoutManager()._glSortItemsByPositionOrder(),r.gridLayout.initialItems=n.extend(!0,[],this._options.$layoutManagerElement.igLayoutManager("option","items"))}this.reflow(!0,0);break;case"minimizedState":r.$tiles.not(r.$maximizedTile).each(function(){h._toMinimizedState(n(this))});break;case"maximizedState":r.$maximizedTile&&this._toMaximizedState(r.$maximizedTile);break;case"maximizedTileIndex":this._toMinimizedState(r.$maximizedTile),r.$maximizedTile=r.$tiles.filter("[data-index="+this.options.maximizedTileIndex+"]"),this._toMaximizedState(r.$maximizedTile);break;case"rightPanelCols":r.$maximizedTile&&!r.useMaximizedTileIndex&&(this._setRightPanelSize(),this._positionRightPanelTiles(r.$tiles.not(r.$maximizedTile),parseInt(r.$maximizedTile.attr("data-index"),10),!1,!1));break;case"rightPanelTilesWidth":r.$maximizedTile&&!r.useMaximizedTileIndex&&(this._setRightPanelSize(),this._positionRightPanelTiles(r.$tiles.not(r.$maximizedTile),parseInt(r.$maximizedTile.attr("data-index"),10),!1,!0));break;case"rightPanelTilesHeight":r.$maximizedTile&&!r.useMaximizedTileIndex&&(this._setRightPanelSize(),this._positionRightPanelTiles(r.$tiles.not(r.$maximizedTile),parseInt(r.$maximizedTile.attr("data-index"),10),!1,!0));break;case"showRightPanelScroll":r.useMaximizedTileIndex||(i?r.$rightPanel.removeClass(this.css.overflowHidden):r.$rightPanel.addClass(this.css.overflowHidden),r.$maximizedTile&&this._setRightPanelSize());break;case"splitterOptions":if(i.hasOwnProperty("collapsed")||i.hasOwnProperty("collapsible"))throw new Error(this._getLocaleValue("errorSettingOption"));i.enabled===!0?this.element.children(this._selectors.splitbarSelector).removeClass(this.css.visibilityHidden):i.enabled===!1&&this.element.children(this._selectors.splitbarSelector).addClass(this.css.visibilityHidden),i.events&&i.events.collapsed&&this.element.igSplitter({collapsed:i.events.collapsed}),i.events&&i.events.expanded&&this.element.igSplitter({expanded:i.events.expanded}),i=n.extend(!0,{},this.layoutManager().options.splitterOptions,i);break;case"animationDuration":this.layoutManager().options.gridLayout.animationDuration=i;break;case"disabled":this._toggleDisabled(i)}}},_initFromMarkup:function(){var n,t=this.element.children(),i=t.filter(this.options.tileSelector);i.length?(n=i,t.not(n).addClass(this.css.hidden)):n=this.element.children(),n.wrap("<div>"),this._initLayoutManager(n)},_renderData:function(n,t,i){var r=this._options;if(this._triggerDataBound(n,t,i._data),n)r.$layoutManagerElement&&(r.$layoutManagerElement.igLayoutManager("destroy"),r.useMaximizedTileIndex||this.element.igSplitter("destroy"),this._resetInternalOptions()),this.element.empty(),this._initLayoutManager(i._data);else throw new Error(this._getLocaleValue("renderDataError"));},_resetInternalOptions:function(){var n=this._options;n.gridLayout=null,n.$layoutManagerElement=null,n.$leftPanel=null,n.$rightPanel=null,n.$maximizedTile=null,n.$tiles=null,n.animating=!1},_initDataSource:function(){var t=this.options,i;!t.dataSource&&t.dataSourceUrl&&(t.dataSource=t.dataSourceUrl),t.dataSource instanceof n.ig.DataSource||(i={callback:this._renderData,callee:this,dataSource:t.dataSource,requestType:t.requestType,responseContentType:t.responseContentType,responseDataType:t.responseDataType,localSchemaTransform:!1},t.responseDataKey&&(i.responseDataKey=t.responseDataKey),t.dataSourceType&&(i.dataSourceType=t.dataSourceType),t.dataSource=new n.ig.DataSource(i))},_tileRendered:function(t,i){var u=this._options,f=i.item,e=u.useMaximizedTileIndex&&this.options.maximizedTileIndex===i.index,r;u.fromMarkup?(r=f.children(),u.useMaximizedTileIndex||r.prepend(this._renderMinimizeButton()),e?this.options.maximizedState&&r.children().not(this.options.maximizedState).addClass(this.css.hidden):this.options.minimizedState&&r.children().not(this.options.minimizedState).addClass(this.css.hidden)):(r=n("<div/>").appendTo(f),e?r.html(this._renderMaximizedState(i.index)):r.html(this._renderMinimizedState(i.index))),r.addClass(this.css.innerContainer),f.addClass(this.css.content).addClass(e?this.css.maximized:this.css.minimized),this._triggerTileRendered(t,i)},_initLayoutManager:function(t){var u=this,i=this.options,r=this._options,f=[],s,e,o;if(i.items&&n.extend(f,i.items),t.length>f.length)for(s=t.length-f.length,o=0;o<s;o++)f.push({});else f.splice(t.length);e=this._triggerRendering(t,f),e&&(typeof i.maximizedTileIndex=="number"&&t.length>=i.maximizedTileIndex?(r.useMaximizedTileIndex=!0,this.element.addClass(this.css.overflowHidden),r.$layoutManagerElement=this.element,this.element.igLayoutManager(n.extend(!0,{},{layoutMode:"grid",items:f,gridLayout:{columnWidth:i.columnWidth,columnHeight:i.columnHeight,cols:i.cols,rows:i.rows,marginLeft:i.marginLeft,marginTop:i.marginTop,rearrangeItems:i.rearrangeItems,animationDuration:i.animationDuration,overrideConfigOnSetOption:!1,useOffset:!1},itemRendered:function(n,t){e=u._triggerTileRendering(n,t),e&&u._tileRendered(n,t)},rendered:function(){r.gridLayout=u.layoutManager()._opt.gridLayout,u.element.removeClass(u.css.overflowHidden),r.$tiles=n(this).data("igLayoutManager")._opt.gridLayout.elements,u._triggerRendered()},internalResized:function(){u.options.items=u.layoutManager().options.items}})),r.$maximizedTile=r.$tiles.filter("[data-index="+i.maximizedTileIndex+"]")):(this._addPanels(),r.$leftPanel.addClass(this.css.overflowHidden),this._renderSplitter(),r.$layoutManagerElement=r.$leftPanel,r.$leftPanel.igLayoutManager(n.extend(!0,{},{layoutMode:"grid",items:f,gridLayout:{columnWidth:i.columnWidth,columnHeight:i.columnHeight,cols:i.cols,rows:i.rows,marginLeft:i.marginLeft,marginTop:i.marginTop,rearrangeItems:i.rearrangeItems,animationDuration:i.animationDuration,overrideConfigOnSetOption:!1,useOffset:!1},itemRendered:function(n,t){e=u._triggerTileRendering(n,t),e&&u._tileRendered(n,t)},rendered:function(){r.gridLayout=u.layoutManager()._opt.gridLayout,r.$leftPanel.removeClass(u.css.overflowHidden),r.$tiles=n(this).data("igLayoutManager")._opt.gridLayout.elements,u._triggerRendered()},internalResizing:function(){if(r.$maximizedTile)return!1},internalResized:function(n){u.options.items=u.layoutManager().options.items,r.$maximizedTile&&(r.animating=!1,n&&u._triggerTileMinimized(n,r.$maximizedTile),r.$maximizedTile=null)}}))),this.options.items=this.layoutManager().options.items)},_toMaximizedState:function(n){var t,i=n.children(this._selectors.innerContainerSelector);n.removeClass(this.css.minimized).addClass(this.css.maximized),this._options.fromMarkup?(t=i.children(),this.options.maximizedState?(t.not(this.options.maximizedState).addClass(this.css.hidden),t.filter(this.options.maximizedState+", "+this._selectors.minimizeBtnSelector).removeClass(this.css.hidden)):t.removeClass(this.css.hidden)):i.html((this._options.useMaximizedTileIndex?"":this._renderMinimizeButton())+this._renderMaximizedState(n.attr("data-index")))},_toMinimizedState:function(n){var r=n.children(this._selectors.innerContainerSelector),i,t;n.removeClass(this.css.maximized).addClass(this.css.minimized),this._options.fromMarkup?(t=r.children(),this.options.minimizedState?(i=t.filter(this.options.minimizedState),t.not(i).addClass(this.css.hidden),i.removeClass(this.css.hidden)):t.removeClass(this.css.hidden)):r.html(this._renderMinimizedState(n.attr("data-index")))},_renderMaximizedState:function(t){return this.options.maximizedState?n.ig.tmpl(this.options.maximizedState,this.options.dataSource.data()[t]):this._renderMinimizedState(t)},_renderMinimizedState:function(t){return this.options.minimizedState?n.ig.tmpl(this.options.minimizedState,this.options.dataSource.data()[t]):""},_renderMinimizeButton:function(){return'<span class="'+this.css.minimizeButton+'"><span class="'+this.css.minimizeIcon+'"><\/span><\/span>'},_addPanels:function(){var t=this._options,u=this.element.children(),i=n("<div/>").addClass(this.css.leftPanel),r=n("<div/>").addClass(this.css.rightPanel+" "+this.css.hidden);i.appendTo(this.element),r.appendTo(this.element),t.$leftPanel=i,t.$rightPanel=r,this.options.showRightPanelScroll||t.$rightPanel.addClass(this.css.overflowHidden),u.appendTo(t.$leftPanel)},_removePanels:function(){this.element.children(this._selectors.leftPanelSelector).children().appendTo(this.element),this.element.children(this._selectors.leftPanelSelector+", "+this._selectors.rightPanelSelector).remove(),this._options.$leftPanel=null,this._options.$rightPanel=null},_renderSplitter:function(){var i=this,r=this.options,t=this._options;this.element.igSplitter({panels:[{},{collapsible:r.splitterOptions.collapsible,collapsed:r.splitterOptions.collapsed}],resizeOtherSplitters:!1,layoutRefreshing:function(){return!1},resizeStarted:function(){t.rightPanelWidth=t.$rightPanel.width()},resizeEnded:function(){var f=t.gridLayout,r=t.$rightPanel.width(),e=i._getRightPanelTilesWidth(),c=i._getRightPanelTilesHeight(),o=t.$tiles.not(t.$maximizedTile),u,s,h;u=t.rightPanelWidth>r?Math.floor(r/(e+f.marginLeft)):Math.ceil(r/(e+f.marginLeft)),h=i.options.showRightPanelScroll&&Math.ceil(o.length/u)*(c+f.marginTop)>t.$rightPanel.height(),h&&(u=t.rightPanelWidth>r?Math.floor((r-n.ig.util.getScrollWidth())/(e+f.marginLeft)):Math.ceil((r-n.ig.util.getScrollWidth())/(e+f.marginLeft))),s=i.options.rightPanelCols,i.options.rightPanelCols=u,i._setRightPanelSize(),s!==i.options.rightPanelCols&&i._positionRightPanelTiles(o,parseInt(t.$maximizedTile.attr("data-index"),10),!1,!1),t.rightPanelWidth=r},collapsed:r.splitterOptions.events.collapsed,expanded:function(n,u){t.splitterFirstExpandEventFired||(t.splitterFirstExpandEventFired=!0,i._setRightPanelSize()),r.splitterOptions.events.expanded&&r.splitterOptions.events.expanded(n,u)}}),this._hideSplitterElements()},_attachEvents:function(){var t=this,i=this._options,e=this._selectors.minimizeBtnSelector,o=this._selectors.minimizedTileSelector,u=this.splitter(),r=i.elementHandlers,f;r.minimizedTileClick=function(r){var e=n(r.target),u=n(this);(t._stopEventPropagation(r),t.options.disabled)||e.is(t.options.preventMaximizingSelector)||i.animating||(i.animating=!0,u.removeClass(t.css.hoverClass),f=t._triggerTileMaximizing(r,u),i.$maximizedTile&&t._triggerTileMinimizing(r,i.$maximizedTile,u),f?t.maximize(u,t.options.animationDuration,r):i.animating=!1)},r.miminimizedTileMouseOver=function(r){(t._stopEventPropagation(r),t.options.disabled)||i.animating||u&&u._isDrag||n(this).addClass(t.css.hoverClass)},r.minimizedTileMouseOut=function(i){(t._stopEventPropagation(i),t.options.disabled)||n(this).removeClass(t.css.hoverClass)},r.minimizeBtnClick=function(n){(t._stopEventPropagation(n),t.options.disabled)||i.animating||(i.animating=!0,f=t._triggerTileMinimizing(n,i.$maximizedTile),f?t.minimize(null,n):i.animating=!1)},r.minimizeBtnMouseOver=function(r){(t._stopEventPropagation(r),t.options.disabled)||i.animating||u&&u._isDrag||n(this).children(t._selectors.minimizeIconSelector).addClass(t.css.hoverClass)},r.minimizeBtnMouseOut=function(i){(t._stopEventPropagation(i),t.options.disabled)||n(this).children(t._selectors.minimizeIconSelector).removeClass(t.css.hoverClass)};this.element.on("click",o,r.minimizedTileClick).on("mouseover",o,r.miminimizedTileMouseOver).on("mouseout",o,r.minimizedTileMouseOut).on("click",e,r.minimizeBtnClick).on("mouseover",e,r.minimizeBtnMouseOver).on("mouseout",e,r.minimizeBtnMouseOut);i.windowHandlers.resize=function(){i.$maximizedTile&&!i.useMaximizedTileIndex&&t._setRightPanelSize()};n(window).on("resize",i.windowHandlers.resize)},_stopEventPropagation:function(n){n.stopPropagation&&n.stopPropagation(),(n.cancelBubble!==null||n.cancelBubble!==undefined)&&(n.cancelBubble=!0)},_getRightPanelTilesWidth:function(){var t=this._options.gridLayout,i=parseInt(this.options.rightPanelTilesWidth,10);return i?i:n.isArray(t.columnWidth)?t.columnWidth[t.columnWidth.length-1]:t.columnWidth},_getRightPanelTilesHeight:function(){var t=this._options.gridLayout,i=parseInt(this.options.rightPanelTilesHeight,10);return i?i:n.isArray(t.columnHeight)?t.columnHeight[t.columnHeight.length-1]:t.columnHeight},_setRightPanelSize:function(){var o=this,t=this.options,r=this._options,i=r.gridLayout,s=this._getMinMaximizedTileWidth()+2*i.marginLeft,h=this._getRightPanelTilesWidth()+i.marginLeft,y=this._getRightPanelTilesHeight()+i.marginTop,p=r.$rightPanel.height(),u=this.element.children(this._selectors.splitbarSelector).outerWidth(!0),c=n.ig.util.getScrollWidth(),f,l,e,a,v=function(){return o.options.showRightPanelScroll&&Math.ceil((r.$tiles.length-1)/o.options.rightPanelCols)*y>p};t.rightPanelCols<1&&(t.rightPanelCols=1),f=Math.max(Math.floor((this.element.width()-s-u-(v()?c:0))/h),1),t.rightPanelCols>f&&(t.rightPanelCols=f),e=t.rightPanelCols*h+(v()?c:0),l=e+s+u,this.element.css("min-width",l),a=this.element.width()-e-2*i.marginLeft-u,this.element.igSplitter("setFirstPanelSize",a)},_getMinMaximizedTileWidth:function(){var t=this._options.gridLayout,r,i;if(n.isArray(t.columnWidth)){for(r=t.columnWidth[0],i=0;i<t.columnWidth.length;i++)r>t.columnWidth[i]&&(r=t.columnWidth[i]);return r}return t.columnWidth},_positionRightPanelTiles:function(t,i,r,u,f,e){var a=this.options,s=this._options,o=s.gridLayout,c=this._getRightPanelTilesWidth(),l=this._getRightPanelTilesHeight(),v=r?s.$rightPanel.igPosition().left-o.marginLeft:0,y=r?s.$rightPanel.scrollTop():0,h=a.rightPanelCols;f=typeof f=="number"?f:this.options.animationDuration,t.each(function(){var b=n(this),t=parseInt(b.attr("data-index"),10),a,p,w;t>i?(p=Math.floor((t-1)/h)*(l+o.marginTop)+o.marginTop,a=(t-1)%h*(c+o.marginLeft)+o.marginLeft/2):(p=Math.floor(t/h)*(l+o.marginTop)+o.marginTop,a=t%h*(c+o.marginLeft)+o.marginLeft/2),w={top:p-y,left:a+v},u&&(w.width=c,w.height=l),b.animate(w,f,function(){r&&b.css({left:a,top:p}).appendTo(s.$rightPanel),e&&e.apply(this)})})},_hideSplitterElements:function(){var n=this._options,t=this.element.children(this._selectors.splitbarSelector);n.$rightPanel.addClass(this.css.hidden).addClass(this.css.splitterNoScroll),t.addClass(this.css.hidden),n.$leftPanel.width("100%"),this.options.splitterOptions.enabled||t.addClass(this.css.visibilityHidden)},_showSplitterElements:function(){this._options.$rightPanel.removeClass(this.css.hidden),this.splitter()._panels[1].options.collapsed||this._options.$rightPanel.removeClass(this.css.splitterNoScroll),this.element.children(this._selectors.splitbarSelector).removeClass(this.css.hidden)},_toMaximizedView:function(n,t,i){var r=this._options,u=r.gridLayout.marginLeft;r.$tiles.css({left:"-="+u}),r.$leftPanel.css({marginLeft:u,marginRight:u}),this._setRightPanelSize(),this._showSplitterElements(),this._positionRightPanelTiles(r.$tiles.not(n),parseInt(n.attr("data-index"),10),!0,!0,t),this._maximizeTile(n,t,i)},_maximizedTileSwap:function(n,t,i){var e=this,r=this._options,o=r.gridLayout,s=r.$tiles.not(r.$maximizedTile),u=r.$maximizedTile,h=parseInt(u.attr("data-index"),10),f=parseInt(n.attr("data-index"),10),c=r.$rightPanel.igPosition().left-o.marginLeft;this._toMinimizedState(u),this._positionRightPanelTiles(u,f,!0,!0,t,function(){var n=h-1,t;n===f&&(n-=1),t=r.$tiles.filter("[data-index="+n+"]"),t.length>0?u.insertAfter(t):u.prependTo(r.$rightPanel),i&&e._triggerTileMinimized(i,u)}),this._positionRightPanelTiles(s.not(n),f,!1,!1,t),n.css({left:"+="+c,top:"-="+r.$rightPanel.scrollTop()}).appendTo(r.$leftPanel),this._maximizeTile(n,t,i)},_maximizeTile:function(n,t,i){var u=this,r=this._options,f=r.gridLayout.marginTop,e=n.children(this._selectors.innerContainerSelector);t=typeof t=="number"?t:this.options.animationDuration,this._toMaximizedState(n),e.addClass(this.css.overflowHidden),n.animate({width:"100%",height:this.element.height()-2*f,top:f,left:0},t,function(){r.$leftPanel.removeClass(u.css.overflowVisible),e.removeClass(u.css.overflowHidden),r.$maximizedTile=n,r.animating=!1,i&&u._triggerTileMaximized(i,n)})},_maximizeTileWithCustomIndex:function(n,t,i){var u,f,o=this,e=this._options,r=e.$maximizedTile,h={width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")},c={width:r.outerWidth(),height:r.outerHeight(),top:r.css("top"),left:r.css("left")},s=function(t){for(f=0;f<t.length;f++)u=t[f],u.item.is(r)?u.item=n:u.item.is(n)&&(u.item=r)};this._toMaximizedState(n),this._toMinimizedState(r),r.animate(h,t,function(){i&&o._triggerTileMinimized(i,r)}),n.animate(c,t,function(){s(o._options.$layoutManagerElement.igLayoutManager("option","items")),s(e.gridLayout.initialItems),e.$maximizedTile=n,e.animating=!1,i&&o._triggerTileMaximized(i,n)})},maximize:function(n,t,i){var r=this._options;(t=typeof t=="number"?t:this.options.animationDuration,n)&&(r.$maximizedTile&&r.$maximizedTile.attr("data-index")===n.attr("data-index")||(r.useMaximizedTileIndex?this._maximizeTileWithCustomIndex(n,t,i):(r.$leftPanel.addClass(this.css.overflowVisible).removeClass(this.css.overflowHidden),r.$maximizedTile?this._maximizedTileSwap(n,t,i):this._toMaximizedView(n,t,i))))},minimize:function(t,i){var r=this._options,u=r.$maximizedTile,f=r.gridLayout,o=r.$rightPanel.igPosition().left,e;u&&(this.element.css("min-width",0),e=parseInt(u.attr("data-index"),10),r.$leftPanel.width(r.$leftPanel.outerWidth(!0)).height(r.$leftPanel.outerHeight(!0)).css({margin:0}),this._toMinimizedState(u),u.css({width:u.outerWidth(),height:u.outerHeight(),top:f.marginTop,left:f.marginLeft}),r.$tiles.not(u).each(function(){var t=n(this);t.css({left:"+="+o,top:"-="+r.$rightPanel.scrollTop()}),parseInt(t.attr("data-index"),10)>e?t.appendTo(r.$leftPanel):t.insertBefore(u)}),this._hideSplitterElements(),this.reflow(!0,t,i))},maximizedTile:function(){return this._options.$maximizedTile||null},minimizedTiles:function(){var n=this._options.$tiles.not(this._options.$maximizedTile);return n.length>0?n:null},splitter:function(){return this._options.useMaximizedTileIndex?null:this.element.data("igSplitter")},layoutManager:function(){return this._options.$layoutManagerElement.data("igLayoutManager")},reflow:function(n,t,i){this.layoutManager().reflow(n,t,i)},widget:function(){return this.element},_triggerDataBinding:function(){var n={owner:this,dataSource:this.options.dataSource};return this._trigger(this.events.dataBinding,null,n)},_triggerDataBound:function(n,t,i){var r={owner:this,success:n,errorMessage:t,dataView:i};this._trigger(this.events.dataBound,null,r)},_triggerRendering:function(n,t){var i={owner:this,tiles:n,items:t};return this._trigger(this.events.rendering,null,i)},_triggerRendered:function(){this._trigger(this.events.rendered,null,{owner:this})},_triggerTileRendering:function(n,t){var i={owner:this,tile:t.item};return this._trigger(this.events.tileRendering,n,i)},_triggerTileRendered:function(n,t){var i={owner:this,tile:t.item};return this._trigger(this.events.tileRendered,n,i)},_triggerTileMaximizing:function(n,t){var i={owner:this,tile:t,minimizingTile:this._options.$maximizedTile||null};return this._trigger(this.events.tileMaximizing,n,i)},_triggerTileMaximized:function(n,t){var i={owner:this,tile:t};this._trigger(this.events.tileMaximized,n,i)},_triggerTileMinimizing:function(n,t,i){var r={owner:this,tile:t,maximizingTile:i||null};return this._trigger(this.events.tileMinimizing,n,r)},_triggerTileMinimized:function(n,t){var i={owner:this,tile:t};this._trigger(this.events.tileMinimized,n,i)},dataBind:function(){var n;this._initDataSource(),n=this._triggerDataBinding(),n&&this.options.dataSource.dataBind(this._renderData,this)},_destroyTiles:function(){var i=this,t=this._options;t.$layoutManagerElement.igLayoutManager("destroy"),t.useMaximizedTileIndex||this.element.igSplitter("destroy"),t.fromMarkup?t.useMaximizedTileIndex?t.$tiles.each(function(){var t=n(this);t.children().removeClass(i.css.innerContainer).appendTo(i.element).children("."+i.css.hidden).removeClass(i.css.hidden),t.remove()}):(this._removePanels(),this.element.children().children().unwrap()):this.element.empty()},_removeEventHandlers:function(){var u=this._options,t=u.elementHandlers,i=this._selectors.minimizeBtnSelector,r=this._selectors.minimizedTileSelector;this.element.off("click",r,t.minimizedTileClick).off("mouseover",r,t.miminimizedTileMouseOver).off("mouseout",r,t.minimizedTileMouseOut).off("click",i,t.minimizeBtnClick).off("mouseover",i,t.minimizeBtnMouseOver).off("mouseout",i,t.minimizeBtnMouseOut),n(window).off("resize",u.windowHandlers.resize)},_toggleDisabled:function(n){var t=this.splitter(),i=this._options.$layoutManagerElement.data().igLayoutManager;t&&(t.options.disabled=n),i&&(i.options.disabled=n)},destroy:function(){return this.element.removeClass(this.css.container),this._destroyTiles(),this._removeEventHandlers(),this._superApply(arguments),this}}),n.extend(n.ui.igTileManager,{version:"19.2.25"})}(n),function(n){n.widget("ui.igBrowseButton",n.ui.igButton,{_const:{filePickerWidth:"220px",filePickerHeight:"30px"},css:{filePickerClass:"ui-igbrowsebutton-filepicker"},options:{autoselect:!0,multipleFiles:!1,container:null},_id:function(n){return this.element[0].id+n},_create:function(){var t=this._id("_fp"),i=this;n.extend(n.ui.igBrowseButton.prototype.options,n.ui.igButton.prototype.options),n.extend(n.ui.igBrowseButton.prototype.css,n.ui.igButton.prototype.css),n.ui.igButton.prototype._create.apply(this),this._createFilePicker(t),this._attachBrowseButtonEvents(),this.options.disabled===!0?this._enableFilePicker(!0):this.element.bind({click:function(n){n.preventDefault()},drop:function(n){var t=n.originalEvent.dataTransfer.files;return(n.stopPropagation(),n.preventDefault(),t===null||t===undefined)?!1:i._trigger("fileselect",n,{files:t,multiple:!0})?!1:void 0}})},_createFilePicker:function(t){n("#"+t).remove();var r="",i=this.options.container;this.options.multipleFiles===!0&&(r=' multiple=""'),i||(i=n(document.body)),this.filePicker=n('<input type="file" id="'+t+'"'+r+"/>").appendTo(i),this.filePicker.css({position:"absolute",margin:"-5px 0 0 -175px",padding:"0",width:"1px",height:"1px",fontSize:"14px",opacity:"0",cursor:"pointer",display:"block",zIndex:"1000000",filter:"alpha(opacity=0)"}),this._setTitle(this.options.title)},_setTitle:function(t){var i=n("#"+this._id("_fp"));t===!1?i.removeAttr("title"):i.attr("title",t)},_attachBrowseButtonEvents:function(){var n=this;this.mouseMoveEvent={mousemove:function(t){n._mousemove(t)}},this._internalEvents={mouseover:function(t){n._mousemove(t),n._attachMouseMove(!0)}},n.element.bind(this._internalEvents),n._filePickerBindChange()},_filePickerBindChange:function(){var t=this,r,i=n("#"+this._id("_fp"));t.tempClicked=!1,t._filePickerEvents={change:function(n){var u=null,f=!1;r=t._fileFromPath(i.val()),i[0].files&&(u=i[0].files,f=!0),t._mousemove(n),!t._trigger("fileselect",n,{filePath:r,files:u,multiple:f})},click:function(n){if(!t._trigger("click",n))return!1}},i.bind(t._filePickerEvents)},attachFilePicker:function(t,i){var r=this,c,l,f,e,o,s=r.element,u=this.filePicker,a=s.igOffset(),v=parseInt(a.left,10),y=parseInt(a.top,10),h=u[0];c=parseInt(v+s[0].offsetWidth,10),l=parseInt(y+s[0].offsetHeight,10),t.pageX>=v&&t.pageX<=c&&t.pageY>=y&&t.pageY<=l&&(o=n.ig.util.getRelativeOffset(u),f=t.pageY,e=t.pageX,f-=o.top,e-=o.left,h.style.top=f+"px",h.style.left=e+"px",i===!0?u.css({width:"1px",height:"1px"}):(r.isVisibleFilePicker=!0,u.css({width:r._const.filePickerWidth,height:r._const.filePickerHeight})),h.style.display="block",r._onMouseOver(t))},getFilePicker:function(){var t=this._id("_fp"),i=n("#"+t);return i.attr("id","").css({display:"none"}),this._createFilePicker(t),this._filePickerBindChange(),i},_mousemove:function(t){var i=this,h,c,f,e,r=i.element,u=this.filePicker,o,l=n.ig.util.offset(r).left,a=n.ig.util.offset(r).top,s=u[0];h=parseInt(l+r[0].offsetWidth,10),c=parseInt(a+r[0].offsetHeight,10),t.pageX>=l&&t.pageX<=h&&t.pageY>=a&&t.pageY<=c?(o=n.ig.util.getRelativeOffset(u),f=t.pageY,e=t.pageX,f-=o.top,e-=o.left,s.style.top=f+"px",s.style.left=e+"px",i.isVisibleFilePicker||(u.css({width:i._const.filePickerWidth,height:i._const.filePickerHeight}),i.isVisibleFilePicker=!0),s.style.display="block",i._onMouseOver(t)):(i.isVisibleFilePicker&&(u.css({width:"1px",height:"1px"}),i.isVisibleFilePicker=!1),i._attachMouseMove(!1),i._onMouseOut(t))},_attachMouseMove:function(t){t?n(document).bind(this.mouseMoveEvent):n(document).unbind(this.mouseMoveEvent)},_setOption:function(t,i){n.ui.igButton.prototype._setOption.apply(this,arguments),n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":this._enableFilePicker(i),n.ui.igButton.prototype._setOption.apply(this,arguments);break;case"title":this._setTitle(i)}},_enableFilePicker:function(t){var i=n("#"+this._id("_fp"));t===!1?(this.isVisibleFilePicker=!1,this._attachMouseMove(!0),this.element.bind(this._internalEvents).mouseover()):(this._attachMouseMove(!1),i.css({width:"1px",height:"1px"}),this.element.unbind(this._internalEvents))},destroy:function(){this.element.unbind(this._internalEvents),this.element.unbind(this.mouseMoveEvent),this._superApply(arguments),n.ui.igButton.prototype.destroy.apply(this),n("#"+this._id("_fp")).remove()},_fileFromPath:function(n){return n.replace(/(\/|\\)$/,"")}}),n.extend(n.ui.igBrowseButton,{version:"19.2.25"}),n.widget("ui.igUpload",n.ui.igWidget,{_const:{fileNameLimit:100,AjaxQueueName:"uploadrequestsqueue",debug:!0,isProgressBarAnimationEnabled:!0,isProgressBarRange:!1,timeoutGetFileSize:1e3,status:{NotStarted:0,Started:1,Finished:2,NoSuchFile:3,Canceled:4},errorCode:{MimeTypeValidation:1,FileSizeExceeded:2},clientSideErrorCode:{maxAllowedUploadingFiles:1,extensionValidation:2,startUpload:3,ajaxErrorGetFileStatus:4,ajaxErrorCancelUpload:5,removeFileUpload:6,ajaxErrorRequestFileSize:7,checkCanUpload:8,maxFileSizeExcceeded:9,dropMultipleFilesWhenSingleMode:10},fileStatusNoError:-1,progressUpdateInterval:800,animateProgressBarInterval:10,showHideDetailsAnimationTimeout:500,doubleCheckRequestInterval:1e3,removeSingleUploadAnimationTimeout:300,maxUploadFilesDefault:-1},defaultFileExtensionIcons:[{ext:[],css:"ui-icon ui-icon-document ui-igupload-progressbar-icon ui-igupload-progressbar-icon-default",def:!0},{ext:["exe","app"],css:"ui-icon ui-icon-gear ui-igupload-progressbar-icon ui-igupload-progressbar-icon-exe",def:!1},{ext:["gif","jpg","jpeg","png","bmp","yuv","tif","thm","psd"],css:"ui-icon ui-icon-image ui-igupload-progressbar-icon ui-igupload-progressbar-icon-images",def:!1},{ext:["mp3","wav","mp4","aac","mid","wma","ra","iff","aif","m3u","mpa"],css:"ui-icon ui-icon-volume-on ui-icon ui-icon-image ui-igupload-progressbar-icon ui-igupload-progressbar-icon-music",def:!1},{ext:["doc","docx","xls","xlsx","txt","ppt","pptx","pdf"],css:"ui-icon ui-icon-document ui-igupload-progressbar-icon ui-igupload-progressbar-icon-docs",def:!1},{ext:["3gp","asf","asx","avi","flv","mov","mp4","mpg","rm","swf","vob","wmv"],css:"ui-icon ui-icon-video ui-igupload-progressbar-icon ui-igupload-progressbar-icon-video",def:!1}],css:{clearClass:"ui-helper-clearfix",hiddenClass:"ui-helper-hidden",baseClassIE6:"ui-ie6",baseClassIE7:"ui-ie7",baseClassMoz:"ui-moz",baseClassOpera:"ui-opera",baseClassWebkit:"ui-webkit",startupBrowseButtonClasses:"ui-igstartupbrowsebutton",baseClass:"ui-widget ui-widget ui-widget-content ui-corner-all ui-igupload",baseMainContainerClass:"ui-igupload-basemaincontainer",multipleDialogClasses:"ui-iguploadmultiple",singleDialogClass:"ui-iguploadsingle",browseButtonClass:"ui-igupload-browsebutton",containerClass:"ui-igupload-container ui-widget-content",uploadProgressClass:"ui-igupload-uploadprogress",fileInfoMainContainer:"ui-igupload-fimaincontainer",progressContainer:"ui-helper-clearfix",progressBarUploadClass:"ui-igupload-progressbar-upload ui-igupload-progressbar-upload-single ui-helper-clearfix",progressBarFileNameClass:"ui-igupload-progressbar-filename",progressBarFileSizeClass:"ui-igupload-progressbar-filesize",progressBarInnerHTMLContainerClass:"ui-igupload-progressbar-container ui-helper-clearfix",containerButtonCancelClass:"ui-container-button-cancel-class  ui-helper-clearfix",summaryProgressBarClass:"ui-igupload-summaryprogressbar",summaryProgressContainerClass:"ui-igupload-summaryprogresscontainer",summaryProgressbarLabelClass:"ui-igupload-summaryprogress-label",summaryInformationContainerClass:"ui-igupload-summaryinformation-container ui-helper-clearfix",summaryUploadedFilesLabelClass:"ui-igupload-summaryuploadedfiles-label",summaryShowHideDetailsButtonClass:"ui-igupload-showhidedetails-button",summaryButtonClass:"ui-igupload-summary-button",summaryProgressBarInnerProgress:"ui-igupload-summaryprogres_summpbar_progress",summaryProgressBarSecondaryLabel:"ui-igupload-summaryprogress-label ui-igupload-summaryprogress-secondary-label",containerFUS:"ui-widget-content ui-igupload-progress-container ui-corner-all ui-helper-clearfix"},options:{width:"",height:"",autostartupload:!1,labelUploadButton:undefined,labelAddButton:undefined,labelClearAllButton:undefined,labelSummaryTemplate:undefined,labelSummaryProgressBarTemplate:undefined,labelShowDetails:undefined,labelHideDetails:undefined,labelSummaryProgressButtonCancel:undefined,labelSummaryProgressButtonContinue:undefined,labelSummaryProgressButtonDone:undefined,labelProgressBarFileNameContinue:undefined,errorMessageMaxFileSizeExceeded:undefined,errorMessageGetFileStatus:undefined,errorMessageCancelUpload:undefined,errorMessageNoSuchFile:undefined,errorMessageOther:undefined,errorMessageValidatingFileExtension:undefined,errorMessageAJAXRequestFileSize:undefined,errorMessageTryToRemoveNonExistingFile:undefined,errorMessageTryToStartNonExistingFile:undefined,errorMessageMaxUploadedFiles:undefined,errorMessageMaxSimultaneousFiles:undefined,errorMessageDropMultipleFilesWhenSingleModel:undefined,locale:{labelUploadButton:undefined,labelAddButton:undefined,labelClearAllButton:undefined,labelSummaryTemplate:undefined,labelSummaryProgressBarTemplate:undefined,labelShowDetails:undefined,labelHideDetails:undefined,labelSummaryProgressButtonCancel:undefined,labelSummaryProgressButtonContinue:undefined,labelSummaryProgressButtonDone:undefined,labelProgressBarFileNameContinue:undefined,errorMessageFileSizeExceeded:undefined,errorMessageGetFileStatus:undefined,errorMessageCancelUpload:undefined,errorMessageNoSuchFile:undefined,errorMessageOther:undefined,errorMessageValidatingFileExtension:undefined,errorMessageAJAXRequestFileSize:undefined,errorMessageMaxUploadedFiles:undefined,errorMessageMaxSimultaneousFiles:undefined,errorMessageTryToRemoveNonExistingFile:undefined,errorMessageTryToStartNonExistingFile:undefined,errorMessageDropMultipleFilesWhenSingleModel:undefined,titleUploadFileButtonInit:undefined,titleAddFileButton:undefined,titleCancelUploadButton:undefined,titleSummaryProgressButtonContinue:undefined,titleClearUploaded:undefined,titleShowDetailsButton:undefined,titleHideDetailsButton:undefined,titleSummaryProgressButtonCancel:undefined,titleSummaryProgressButtonDone:undefined,titleSingleUploadButtonContinue:undefined,titleClearAllButton:undefined},uploadUrl:"ig_fua34sf345sdf13sdf3454erdsf2345asd3425df5235d54df345.aspx",progressUrl:"IGUploadStatusHandler.ashx",allowedExtensions:[],showFileExtensionIcon:!0,css:null,fileExtensionIcons:[{ext:[],css:"",def:!1}],mode:"single",multipleFiles:!1,maxUploadedFiles:-1,maxSimultaneousFilesUploads:1,fileSizeMetric:"auto",controlId:"",fileSizeDecimalDisplay:2,maxFileSize:null,useSingleRequest:!1},events:{fileSelecting:"fileSelecting",fileSelected:"fileSelected",fileUploading:"fileUploading",fileUploaded:"fileUploaded",fileUploadAborted:"fileUploadAborted",cancelAllClicked:"cancelAllClicked",onError:"onError",fileExtensionsValidating:"fileExtensionsValidating",onXHRLoad:"onXHRLoad",onFormDataSubmit:"onFormDataSubmit"},summaryButtonModes:{cancel:1,startupload:2,done:3},container:function(){return this._isDivElement?this.element:n("#"+this.element[0].id+"_wrprinit")},widget:function(){return this.element},_id:function(n,t){var i=this.element[0].id;return t!==undefined?i+"_"+t+"_"+n:i+n},_create:function(){var t={formNumber:0,iframe:{ids:[]},pendingQueueIDs:[],uploadingIDs:[],batch:[],lastId:-1,filesInfo:[],countUploadingFiles:0,countTotalFiles:0,fileSizeUploaded:0,fileSizeTotal:0};this.css=n.extend({},this.css,this.options.css),this.allCancelled=!1,this.fileInfoData=t,this._renderStartupBrowseButton(),this.container().bind("drop",n.proxy(this._dropFiles,this)).width(this.options.width).height(this.options.height),this._attachFakeIframe(),this._analyzeFileExtensionIcons(),n(document).bind("dragenter."+this.element[0].id,n.proxy(this._docEnter,this)),n(document).bind("dragover."+this.element[0].id,n.proxy(this._docOver,this)),n(document).bind("dragleave."+this.element[0].id,n.proxy(this._docLeave,this))},_dropFiles:function(t){var r=n("#"+this._id("_ibb")).is(":visible"),i={files:t.originalEvent.dataTransfer.files,multiple:!0};return t.preventDefault(),r?this._initBrowserFileSelect(t,i):this._onBrowseButtonFileSelected(t,!1,i),!1},_docEnter:function(n){return n.preventDefault(),!1},_docOver:function(n){return n.preventDefault(),!1},_docLeave:function(n){return n.preventDefault(),!1},_analyzeFileExtensionIcons:function(){var t,u,r=this.options.fileExtensionIcons,f,i=n.extend(!0,[],this.defaultFileExtensionIcons),o=i.length,e=[],s=!1;if(r===undefined||r===null){this.options.fileExtensionIcons=i;return}if(f=r.length,f===1&&r[0].css===""){this.options.fileExtensionIcons=i;return}for(u=0;u<f;u++){for(t=0;t<o;t++)i[t].ext=this._removeCommonElementsInArrays(i[t].ext,r[u].ext);r[u].def===!0&&(s=!0),e.push(r[u])}for(t=0;t<o;t++)(i[t].ext.length>0||s===!1&&i[t].def===!0)&&e.push(i[t]);this.options.fileExtensionIcons=e},_removeCommonElementsInArrays:function(t,i){return n.grep(t,function(t){return n.inArray(t,i)===-1})},_attachFakeIframe:function(){var t=this._id("_tempIframe");(n.ig.util.isIE7||n.ig.util.isIE8||n.ig.util.isIEQuircks)&&(n("#"+t).remove(),setTimeout(n('<iframe src="javascript:false;" id="'+t+'" style="display: none;"><\/iframe>').appendTo(n("#"+this._id("_fu"))),300))},_renderStartupBrowseButton:function(){var i=this,u,r,f=i.css,t=i.element,e=i.options,s=this._id("_ibb"),l=e.mode==="multiple"&&e.multipleFiles,h=this._id("_wrprinit"),o,c;if(this.element.is("div")){for(this._isDivElement=!0,this.originalElement=t,o=t,this._initialAttributes=[],u=this.element[0].attributes,r=0;r<u.length;r++)u[r].name!=="id"&&this._initialAttributes.push({name:u[r].name,value:u[r].value});this._initialHTML=this.element.html(),this.element.empty()}else this.originalElement=t,o='<div id="'+h+'" class="ig-upload-container"><\/div>',t.wrap(o),t.hide(),t=n("#"+h);s=this._id("_ibb"),n.ig.util.isIE7?t.addClass(f.baseClassIE7):n.ig.util.isOpera?t.addClass(f.baseClassOpera):n.ig.util.isOpera?t.addClass(f.baseClassMoz):n.ig.util.isOpera&&t.addClass(f.baseClassWebkit),c=n("<button><\/button>").appendTo(t).attr("id",s).addClass(f.startupBrowseButtonClasses),c.igBrowseButton({multipleFiles:l,labelText:this._getLocaleValue("labelUploadButton"),container:this.container(),title:this._getLocaleValue("titleUploadFileButtonInit"),fileselect:function(n,t){i._initBrowserFileSelect(n,t)},disabled:e.disabled,click:function(n){var t=!1;return i._trigger(i.events.fileSelecting,n,{owner:i})===!1&&(t=!0),!t}})},_initBrowserFileSelect:function(t,i){var u=1,r,f=this.options;if(i&&i.files&&i.files.length!==0){if(f.mode==="single"&&i.files.length>1){this._setError(this._getLocaleValue("errorMessageDropMultipleFilesWhenSingleModel"),null,this._const.clientSideErrorCode.dropMultipleFilesWhenSingleMode,"clientside");return}}else if(r=n("#"+this._id("_ibb_fp")),this._validateFileExtension(r[0].value,!0,null)===!1)return;this._checkMaxUploadingFilesCount(u,!0)===!0&&(n("#"+this._id("_ibb")).css({display:"none"}),this._HTMLUpload(),this._onBrowseButtonFileSelected(t,!0,i))},_HTMLUpload:function(){var h=this._id("_fu"),c=this._id("_bmncntr"),i=this.options,l=this.container(),r=this,u=r.css,e=this._id("_fc"),o=this._id("_bb"),s=this._id("_clrabtn"),a=this._id("_fi_main_cntnr"),f,t="";i.mode==="single"?(t+='<div  class="'+u.singleDialogClass+'" id="$baseMainContainerId">',t+='   <div id="$uploaderId$" class="$baseMainContainerClass">',t+='\t\t<div id="$fileContainerId$"><\/div>',t+='\t\t<button id="$browseButtonId$" class="$browseButtonClass$"><\/button>',t+="\t<\/div>",t+="<\/div>"):i.mode==="multiple"&&(t='<div class="'+u.multipleDialogClasses+'" id="$baseMainContainerId">',t+='   <div  id="$uploaderId$" class="$baseMainContainerClass">',t+='\t\t<div id="$uploaderFilesContainer" class="$fuMainContainerClass">',t+='\t\t\t<button id="$browseButtonId$" class="$browseButtonClass$"><\/button>',t+='\t\t\t<button id="$clearAllButtonId$"><\/button>',t+='\t\t\t<div id="$fileContainerId$"><\/div>',t+="\t\t<\/div>",t+="   <\/div>",t+="<\/div>"),t=t.replace("$uploaderId$",h).replace("$browseButtonId$",o).replace("$baseMainContainerId",c).replace("$browseButtonClass$",u.browseButtonClass).replace("$fileContainerId$",e).replace("$clearAllButtonId$",s).replace("$uploaderFilesContainer",a).replace("$fuMainContainerClass",u.fileInfoMainContainer).replace("$baseMainContainerClass",u.baseMainContainerClass),n(t).appendTo(l).css({width:i.width,height:i.height}).addClass(u.baseClass),f=n("#"+s),f.length>0&&f.igButton({title:this._getLocaleValue("titleClearAllButton"),labelText:this._getLocaleValue("labelClearAllButton"),disabled:!0,click:function(n){n.preventDefault(),r.clearAll()},css:{buttonClasses:"ui-igbutton ui-igupload-button-clear-all",buttonHoverClasses:"",buttonActiveClasses:"",buttonFocusClasses:"",buttonLabelClass:""}}),n("#"+o).igBrowseButton({multipleFiles:i.mode==="multiple"&&i.multipleFiles,labelText:this._getLocaleValue("labelAddButton"),container:this.container(),title:this._getLocaleValue("titleAddFileButton"),fileselect:function(n,t){r._onBrowseButtonFileSelected(n,!1,t)},click:function(n){var t=!1;return r._trigger(r.events.fileSelecting,n,{owner:r})===!1&&(t=!0),!t}}),n("#"+e).addClass(u.containerClass),i.mode==="multiple"&&r._spbRenderInit()},_disableBrowseButton:function(t){n("#"+this._id("_bb")).igBrowseButton("option","disabled",t),n("#"+this._id("_ibb")).igBrowseButton("option","disabled",t)},_checkMaxUploadingFilesCount:function(n,t){(n===null||n===undefined)&&(n=1);var i=this.options,r=!0,u=this.fileInfoData.countTotalFiles+n;return i.maxUploadedFiles!==this._const.maxUploadFilesDefault&&i.maxUploadedFiles!==null&&u>i.maxUploadedFiles&&(r=!1,t===!0&&this._setError(this._getLocaleValue("errorMessageMaxUploadedFiles"),null,this._const.clientSideErrorCode.maxAllowedUploadingFiles,"clientside")),r},_onBrowseButtonFileSelected:function(n,t,i){var r=this,f=this.fileInfoData,u=r.options,o,e=1;if(i&&i.files&&i.files.length>=1&&(e=i.files.length,u.mode==="single"&&e>1)){r._setError(this._getLocaleValue("errorMessageDropMultipleFilesWhenSingleModel"),null,r._const.clientSideErrorCode.dropMultipleFilesWhenSingleMode,"clientside");return}if(r._checkMaxUploadingFilesCount(e,!0)===!1){if(i.multiple===!0)return;r._disableBrowseButton(!0);return}u.maxUploadedFiles!==null&&u.maxUploadedFiles!==this._const.maxUploadFilesDefault&&u.maxUploadedFiles===f.countTotalFiles+e&&r._disableBrowseButton(!0),u.mode==="single"?f.iframe.ids.length===0&&(r._removeSingleUpload(f.lastId),o=f.files||i,r._attachIframe(n,t,o)===!0&&r._disableBrowseButton(!0)):u.mode==="multiple"&&r._attachIframe(n,t,i)===!1&&r._disableBrowseButton(!1)},clearAll:function(){var i=this.container(),n=i.data("finishedIDs"),t,r;if(n!==undefined){for(r=n.length,t=0;t<r;t++)this._removeSingleUpload(n[t]);n=[],i.data("finishedIDs",n),this._disableClearAllButton()}},_enableClearAllButton:function(){n("#"+this._id("_clrabtn")).igButton({disabled:!1})},_disableClearAllButton:function(){n("#"+this._id("_clrabtn")).igButton("option","disabled",!0)},_attachIframe:function(t,i,r){var e,u,f,o=n("#"+this._id("_bb"));return r&&r.files&&(u=r.files),f=i===!0?n("#"+this._id("_ibb")).igBrowseButton("getFilePicker"):o.igBrowseButton("getFilePicker"),f[0].files&&(u===null||u===undefined)&&(u=f[0].files),u&&u.length>=1?(e=this._uploadMultiple(u),f.remove()):e=this._createForm(f),e},_uploadMultiple:function(n){for(var f,s=n.length,i=this.fileInfoData,h=i.formNumber,e=this.options,o,r,u,t=0;t<s;t++)f=this._html5createForm(n[t],t,h);if(e.autostartupload&&e.useSingleRequest)if(o=this._html5upload(),o)i.batch=[],this._spbCheckModeButton();else for(r=i.batch,t=0;t<r.length;t++)u=r[t],this._removeIframe(u),this._removeFileUpload(u);return f},_html5upload:function(t){var r=new XMLHttpRequest,o=new FormData,e=this.options,i=this,b=e.controlId,k=r.upload,u,h,f,c,p,l,a,g;if(t!==undefined)u=this.fileInfoData.filesInfo[t],h=u.file,f=u.key,c=e.uploadUrl+"?key="+f+"&cid="+b+"&multiple=true",r.open("POST",c),r.withCredentials="true",i._trigger(i.events.onFormDataSubmit,null,{formData:o,fileId:t,fileInfo:u,xhr:r,owner:i}),o.append(this._id("_frm",t)+"_if",h),this.fileInfoData.filesInfo[t].xhr=r;else{for(p=this.fileInfoData.batch,l=0,u=[],h=[],f="",t=[],a=0;a<p.length;a++){var s=p[a],v=this.fileInfoData.filesInfo[s],y=v.file,d=v.key,w=0;y&&(w=y.size),n.type(w)==="number"&&(l+=w),o.append(this._id("_frm",s)+"_if",y),this.fileInfoData.filesInfo[s].xhr=r,u.push(v),h.push(y),f+=f===""?d:";"+d,t.push(s),g={formData:o,fileId:s,fileInfo:v,xhr:r,owner:i},i._trigger(i.events.onFormDataSubmit,null,g)}if(n.type(e.maxFileSize)==="number"&&n.type(l)==="number"&&e.maxFileSize>-1&&l>e.maxFileSize)return i._setError(t,this._getLocaleValue("errorMessageMaxFileSizeExceeded"),i._const.clientSideErrorCode.maxFileSizeExcceeded,"clientside"),!1;c=e.uploadUrl+"?key="+f+"&cid="+b+"&multiple=true",r.open("POST",c),r.withCredentials="true"}return k.addEventListener("progress",function(n){i._html5progress(n,t)},!1),k.addEventListener("error",function(){i._getFileStatus(t,!0)},!1),r.onload=function(n){var o,f,s,e;if(i._trigger(i.events.onXHRLoad,n,{fileId:t,xhr:r,fileInfo:u,owner:i}),r.status>=200&&r.status<=299)if(o=r.responseText,o){if(f=i._stringToXmlObject(o),f?(s=parseInt(f.find("error").text(),10),e=f.find("serverMessage").text()):(f=i._stringToJSONObject(o),f&&(s=parseInt(f.error,10),e=f.serverMessage)),u.serverMessage=e,!isNaN(s)){e?i._setFileStatus(t,!0,{error:s,serverMessage:e}):i._getFileStatus(t,!0);return}i._html5progress(n,t,!0)}else i._html5progress(n,t,!0);else i._getFileStatus(t,!0)},r.send(o),!0},_html5progress:function(n,t,i){if(typeof t=="number")this._html5progressSingle(n,t,i);else for(var r=0;r<t.length;r++)this._html5progressSingle(n,t[r],i)},_html5progressSingle:function(n,t,i){var f=this,u,r={};if(n.lengthComputable||i){if(u=this.getFileInfo(t),u&&u.innerStatus===f._const.status.Canceled)return;r.size=n.total||0,r.bytesUploaded=n.loaded>u.sizeBytes?u.sizeBytes:n.loaded||0,i?(r.total=r.bytesUploaded=u.sizeBytes,r.status=f._const.status.Finished):r.status=f._const.status.Started,f._setFileStatus(t,!0,r)}else f.cancelUpload(t)},addDataField:function(t,i){i&&n.type(i)==="object"&&this.addDataFields(t,[i])},addDataFields:function(t,i){if(t&&n.type(i)==="array"&&i.length){var u,e=i.length,r,f;if(f=t.length&&t.is("form"),f||t instanceof FormData)for(u=0;u<e;u++)(r=i[u],r.name&&n.type(r.value)==="string")&&(f?n("<input />").attr({type:"hidden",name:r.name,value:r.value}).appendTo(t):t.append(r.name,r.value))}},_html5createForm:function(n,t,i){var r=this,f=r.options,h=n.name,o=n.size,e=this.fileInfoData,u=e.formNumber++,c=r._randomString(30),s=r._const.status.Started;return r._validateFileExtension(n.name,!0,i)===!1?(f.mode==="multiple"&&r._spbRenderProgress(),f.maxUploadedFiles!==null&&f.maxUploadedFiles>=e.countTotalFiles+1&&r._disableBrowseButton(!1),!1):(isNaN(o)&&(o=0),e.filesInfo[u]={path:h,key:c,sizeBytes:o,uploadedBytes:0,status:r._const.status.NotStarted,checksNoSuchFile:0,innerStatus:r._const.status.NotStarted,multipleFiles:!0,file:n,formNumber:i},e.countTotalFiles++,r._spbRenderProgress(),r._HTMLSingleUpload(u),this._saveFileSize(o,u),f.autostartupload===!0&&f.useSingleRequest===!1?r._checkCanUpload()===!0?r.startUpload(u):(r._addPendingId(u),s=r._const.status.NotStarted):f.mode==="single"?r._showSingleUploadStartUpload(!0,u):(r._addIDBatch(u),s=r._const.status.NotStarted),e.iframe.ids[e.iframe.ids.fileId]={id:u,status:s},f.mode==="multiple"&&r._spbCheckModeButton(),r._trigger(r.events.fileSelected,null,{owner:r,fileId:u,filePath:r._getOnlyFileName(h)}),!0)},_createForm:function(t){var i=this,u=i.options,f=this.fileInfoData,r=f.formNumber++,o=this._id("_ifrm",r),s=this._id("_frm",r),h,e=i._randomString(30),c=i._const.status.Started,l=u.controlId,a=u.uploadUrl+"?key="+e+"&cid="+l;return i._validateFileExtension(t[0].value,!0,r)===!1?(t.remove(),u.mode==="multiple"&&i._spbRenderProgress(),u.maxUploadedFiles!==null&&u.maxUploadedFiles>=f.countTotalFiles+1&&i._disableBrowseButton(!1),!1):(f.filesInfo[r]={path:t.val(),key:e,sizeBytes:0,uploadedBytes:0,status:i._const.status.NotStarted,checksNoSuchFile:0,innerStatus:i._const.status.NotStarted},f.countTotalFiles++,i._spbRenderProgress(),n('<iframe src="javascript:false;" id="'+o+'" name="'+o+'"><\/iframe>').appendTo(n(document.body)).css({display:"none"}),h=n('<form method="post" enctype="multipart/form-data"><\/form>').attr("id",s).attr("target",o).attr("action",a).appendTo(n(document.body)),t.attr("name",s+"_if").attr("id",s+"_if").appendTo(h),i._trigger(i.events.onFormDataSubmit,null,{formData:h,fileId:r,fileInfo:f.filesInfo[r],owner:i}),i._HTMLSingleUpload(r),u.autostartupload===!0?i._checkCanUpload()===!0?i.startUpload(r):(i._addPendingId(r),c=i._const.status.NotStarted,i._getFileSize(r,e)):u.mode==="single"?(i._showSingleUploadStartUpload(!0,r),i._getFileSize(r,e)):(i._addIDBatch(r),c=i._const.status.NotStarted,i._getFileSize(r,e)),f.iframe.ids[f.iframe.ids.fileId]={id:r,status:c},u.mode==="multiple"&&i._spbCheckModeButton(),i._trigger(i.events.fileSelected,event,{owner:i,fileId:r,filePath:i._getOnlyFileName(t.val())}),!0)},_showSingleUploadStartUpload:function(){var t=this,i="_strtuplbtn",r=n("#"+this._id(i)),u=n("#"+this._id("_bb"));r.length===0&&(n('<button id="'+t._id(i)+'"><\/button>').appendTo(n("#"+t._id("_fu"))).igButton({labelText:this._getLocaleValue("labelSummaryProgressButtonContinue"),title:this._getLocaleValue("titleSingleUploadButtonContinue"),click:function(n){n.preventDefault(),t.startUpload(t.fileInfoData.formNumber-1,n),u.igBrowseButton("attachFilePicker",n,!0)}}),r=n("#"+this._id(i))),u.hide(),r.show()},_removeIframe:function(t){var i=this,r=this.fileInfoData,u=this._id("_ifrm",t),f=this._id("_frm",t),e=n("#"+i._id("_bb"));n("#"+u).remove(),n("#"+f).remove(),r.iframe.ids=i._removeElementArrayById(r.iframe.ids,t),i.options.mode==="single"&&(e.igBrowseButton("option","disabled",!1),r.lastId=t),this._attachFakeIframe()},_HTMLSingleUpload:function(t){var r=this,v=this.options,f=r.css,y=r._id("_fc"),s=r._id("_fus",t),h=r._id("_snglpbar",t),c=r._id("_icn",t),e=r._id("_cbtn",t),p=n("#"+y),u=this.fileInfoData.filesInfo[t].path,i,l=r._id("_pbrflnm",t),w=r._id("_pbrflsz",t),a,o,b=r._getFileExtensionIconPath(r._getFileExtension(u));i='<div id="'+s+'">',i+='\t<div class="'+f.containerFUS+'">',i+='\t\t<div class="'+f.containerButtonCancelClass+'">',i+='\t\t\t<button id="'+e+'"><\/button>',i+="\t\t<\/div>",i+='\t\t<div class="'+f.progressContainer+'">',i+='\t\t\t<div class="'+f.progressBarInnerHTMLContainerClass+'" ',i+='\t\t\ttitle="'+u+'">',i+='\t\t\t\t<span id="'+c+'" class="'+b+'"><\/span>',i+='\t\t\t\t<span class="'+f.progressBarFileNameClass+'" ',i+='\t\t\t\t\tid="'+l+'">',i+="\t\t\t\t<\/span>",i+='\t\t\t\t<span class="'+f.progressBarFileSizeClass+'" ',i+='\t\t\t\t\tid="'+w+'">',i+="\t\t\t\t<\/span>",i+="\t\t\t<\/div>",i+='\t\t\t<div id="'+h+'"',i+='\t\t\t\tclass="'+f.progressBarUploadClass+'">',i+="\t\t\t<\/div>",i+="\t\t<\/div>",i+="\t<\/div>",i+="<\/div>",n(i).appendTo(p),n("#"+s).addClass(f.uploadProgressClass+" "+f.clearClass),o=n("#"+h),n("#"+e).igButton({onlyIcons:!0,icons:{primary:"ui-icon-closethick"},title:this._getLocaleValue("titleCancelUploadButton"),click:function(i){i.preventDefault(),r.cancelUpload(t),n("#"+e).igButton("option",{disabled:!0,icons:{primary:"ui-icon-check",secondary:null}})},css:{buttonClasses:"ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-igbutton ui-igupload-cancel-button",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"}}),o.igProgressBar({animate:r._const.isProgressBarAnimationEnabled,animateTimeout:r._const.animateProgressBarInterval,range:r._const.isProgressBarRange,value:0,queue:!1}),v.showFileExtensionIcon||n("#"+c).css("display","none"),a=n("#"+l),u=r._getOnlyFileName(u),o.data("originalFileName",u),u.length>r._const.fileNameLimit&&(u=u.substr(0,r._const.fileNameLimit)),a.text(r._formatFilePath(u)),r._renderFileName(t,0,u)},_renderFileName:function(t,i,r){var f=this,u=r,s="",l,e=n("#"+f._id("_pbrflnm",t)),o=n("#"+f._id("_pbrflsz",t)),h=n("#"+f._id("_snglpbar",t)).width(),a=n("#"+f._id("_snglpbar",t)),v=o.width(),c;if(e.length!==0){if((u===undefined||u===null)&&(u=a.data("fileName")),h<=0)u=this._getLocaleValue("labelProgressBarFileNameContinue"),e.text(u);else{for(i!==0&&i!==undefined&&i!==null&&(l=o.text(),v=o.text(f._formatFileSize(i)+"/"+f._formatFileSize(i)).width(),o.text(l)),c=e.igPosition().left-this.container().igPosition().left;c+e.width()+v>=h&&s!==u;)s=u,u=u.substr(0,u.length/2),s===u&&u.length-1>1&&(u=u.substr(0,(u.length-1)/2)),e.text(u+this._getLocaleValue("labelProgressBarFileNameContinue"));c+e.width()+o.width()>=h&&(u=this._getLocaleValue("labelProgressBarFileNameContinue"))}a.data("fileName",u)}},_removeSingleUpload:function(t){var i=this,r=i._id("_fus",t),u=r+"_"+i._randomString(20);i.options.mode==="multiple"?(n("#"+r).attr("id",u),i._renderAnimatedRemovingUpload(u)):i.options.mode==="single"&&n("#"+r).hide().remove()},_renderAnimatedRemovingUpload:function(t){n("#"+t).slideUp(this._const.removeSingleUploadAnimationTimeout,function(){n(this).remove()})},startUpload:function(t){var i=this,u=this.options,h=i._id("_frm",t),c=this.fileInfoData,r=c.filesInfo[t],f,e,o=!1,s;if(arguments.length===0&&u.useSingleRequest){s=this._html5upload(),s&&(this.fileInfoData.batch=[]);return}if(t===null||r===null||r===undefined){i._setError(this._getLocaleValue("errorMessageTryToStartNonExistingFile").replace("{0}",t),t,i._const.clientSideErrorCode.startUpload,"clientside");return}if(f=r.file,f&&(e=f.size),n.type(u.maxFileSize)==="number"&&n.type(e)==="number"&&u.maxFileSize>-1&&e>u.maxFileSize)return i._removeUploadSetError(t,this._getLocaleValue("errorMessageMaxFileSizeExceeded"),i._const.clientSideErrorCode.maxFileSizeExcceeded,"clientside"),!1;r.status===i._const.status.NotStarted&&(o=r.multipleFiles,o!==!0?n("#"+h).submit():this._html5upload(t),i._addUploadingID(t),i._removeIDBatch(t),i._spbCheckModeButton(),r.status=i._const.status.Started,r.innerStatus=i._const.status.Started,i._spbRenderProgress(),u.mode==="single"&&(n("#"+i._id("_strtuplbtn")).hide(),n("#"+i._id("_bb")).igBrowseButton("option","disabled",!0).show()),o!==!0)&&setTimeout(function(){i._getFileStatus(t,!0)},i._const.progressUpdateInterval)},_setFileStatus:function(n,t,i){if(i){var u=this,w=u.options,v,s=!1,f="",h=0,e=0,r=this.getFileInfo(n),l=this.fileInfoData,y=u._getKey(n),p,o,a,c="";if(y===null||y===undefined||!r)return!1;if(p=r.path,h=parseInt(i.bytesUploaded,10),f=parseInt(i.status,10),r.file&&(i.size=r.file.size),e=parseInt(i.size,10),c=i.serverMessage,s=f===u._const.status.Finished,o=parseInt(i.error,10),a=!isNaN(o)&&o!==u._const.fileStatusNoError,c&&(r.serverMessage=c),r.innerStatus===u._const.status.Canceled&&a)return u._setError(this._getLocaleValue("errorMessageOther").replace("{0}",o),n,o,"serverside",c),!1;if(a===!0&&f!==u._const.status.NoSuchFile)return u._removeUploadSetError(n,this._getLocaleValue("errorMessageOther").replace("{0}",o),o,"serverside",c),!1;if(r!==null&&r.status!==u._const.status.Canceled&&(l.fileSizeUploaded-=r.uploadedBytes,r.sizeBytes===0||r.sizeBytes===null?(r.sizeBytes=e,l.fileSizeTotal+=e):r.sizeBytes!==e&&(e=r.sizeBytes),s&&l.countUploadingFiles++,h===0&&r.uploadedBytes>0&&(h=r.uploadedBytes),r.uploadedBytes=h,r.status=f,l.fileSizeUploaded+=r.uploadedBytes,u._spbRenderProgress(),v={fileId:n,filePath:u._getOnlyFileName(p),totalSize:e,uploadedBytes:h,fileStatus:f,fileInfo:r,owner:u},u._trigger(u.events.fileUploading,null,v)===!1&&u.cancelUpload(n)),s||f===u._const.status.Started){if(s&&(u._removeUploadingID(n),w.mode==="multiple"&&(u._spbCheckModeButton(),u._submitNextPendingId())),u._renderStatus(n,h,e,s,r),!s)return!0}else if(f===u._const.status.NoSuchFile){if(r!==null&&r!==undefined&&r.checksNoSuchFile===0)return r.checksNoSuchFile++,!0;u._removeUploadSetError(n,this._getLocaleValue("errorMessageNoSuchFile"),"nosuchfilekeyid","serverside",c)}return!1}},_getFileStatus:function(t,i){var r=this,f=r.options,u=r._getKey(t);u!==null&&u!==undefined&&(u=u.replace("-$#","").replace("#$-",""),n.ajaxQueue("uploadrequestsqueue",{url:r._formatURL(f.progressUrl,n.param({key:u,command:"status"})),dataType:"json",cache:!1,success:function(n){r._setFileStatus(t,i,n)===!0&&setTimeout(function(){r._getFileStatus(t,!1)},r._const.progressUpdateInterval)},error:function(){r._setError(r._getLocaleValue("errorMessageGetFileStatus"),t,r._const.clientSideErrorCode.ajaxErrorGetFileStatus,"clientside")}}))},_removeUploadSetError:function(t,i,r,u,f){var e=this,o=this.options;e._removeIframe(t),e._removeFileUpload(t),e._setError(i,t,r,u,f),o.mode==="multiple"?(e._spbCheckModeButton(),e._submitNextPendingId()):(n("#"+this._id("_strtuplbtn")).hide(),n("#"+this._id("_bb")).igBrowseButton("option","disabled",!1).show())},cancelUpload:function(t){var i=this,e,o=i.options,h=i._id("_snglpbar",t),s=n("#"+h),c=n("#"+i._id("_frm",t)+"_if"),l=c.val(),u=0,f=0,a=this._getKey(t),r=this.getFileInfo(t);u=s.data("totalSize"),f=s.data("bytesUploaded"),u===undefined&&(u=0),f===undefined&&(f=0),r!==null&&(r.status===i._const.status.Started?(r.innerStatus=i._const.status.Canceled,r.multipleFiles===!0?(r.xhr&&r.xhr.abort(),i._onCancelUpload(t)):n.ajaxQueue("uploadrequestsqueue",{url:i._formatURL(o.progressUrl,n.param({key:a,command:"cancel"})),dataType:"json",cache:!1,success:function(){i._onCancelUpload(t)},error:function(){i._setError(i._getLocaleValue("errorMessageCancelUpload"),t,i._const.clientSideErrorCode.ajaxErrorCancelUpload,"clientside"),i._removeFileUpload(t)}})):r.status===i._const.status.NotStarted&&(o.mode==="single"&&(n("#"+this._id("_strtuplbtn")).hide(),n("#"+this._id("_bb")).igBrowseButton("option","disabled","false").show()),e={fileId:t,filePath:i._getOnlyFileName(l),uploadedBytes:0,totalSize:u,status:i._const.status.NotStarted,owner:i},i._trigger(i.events.fileUploadAborted,null,e),i._removeFileUpload(t)))},_onCancelUpload:function(t){var f,i=this,e=i.options,u=null,o=0,s=0,r=null,h=this.getFileInfo(t),c=h.path;e.autostartupload===!1&&e.mode==="multiple"&&(u=n("#"+i._id("_spbtncncl")),r=u.data("ids"),r=i._removeElementFromArray(r,t),u.data("ids",r)),f={fileId:t,filePath:i._getOnlyFileName(c),uploadedBytes:s,totalSize:o,status:i._const.status.Canceled,owner:i},i._trigger(i.events.fileUploadAborted,null,f),i._removeFileUpload(t)},_removeFileUpload:function(t){var i=this,s=i.options,h=i._id("_cbtn",t),c=i._id("_snglpbar",t),o=n("#"+c),u=0,f=0,e=this.fileInfoData,r=this.getFileInfo(t);if(r===null){i._setError(this._getLocaleValue("errorMessageTryToRemoveNonExistingFile").replace("{0}",t),t,i._const.clientSideErrorCode.removeFileUpload,"clientside");return}u=o.data("totalSize"),f=o.data("bytesUploaded"),u===undefined&&(u=0),f===undefined&&(f=0),e.countTotalFiles--,r.status=i._const.status.Canceled,e.fileSizeUploaded-=r.uploadedBytes,e.fileSizeTotal-=r.sizeBytes,i._spbRenderProgress(),i._removeUploadingID(t),s.mode==="multiple"&&(i._removePendingId(t),i._removeIDBatch(t),this.allCancelled===!1&&i._submitNextPendingId(),i._spbCheckModeButton()),n("#"+h).remove(),i._removeIframe(t),i._removeSingleUpload(t),i._disableBrowseButton(!i._checkMaxUploadingFilesCount())},_getKey:function(n){var t=this.fileInfoData.filesInfo[n];return t!==null&&t!==undefined?t.key:null},_singleFileUploadFinished:function(t){var u=this.container(),r=this,i;n("#"+r._id("_cbtn",t)).igButton("option",{disabled:!0,icons:{primary:"ui-icon-check",secondary:null}}),r._removeIframe(t),r.options.mode==="multiple"&&(r._enableClearAllButton(),i=u.data("finishedIDs"),i===undefined&&(i=[]),i.push(t),u.data("finishedIDs",i))},_renderStatus:function(t,i,r,u,f){var e=this,h,c,a=n("#"+e._id("_pbrflsz",t)),v=e._id("_snglpbar",t),o=n("#"+v),s=0,l;if(u&&(i=r,e._singleFileUploadFinished(t)),r!==0&&isNaN(i)===!1&&isNaN(r)===!1?s=i/r*100:u&&(s=100),o.data("totalSize",r),o.data("bytesUploaded",i),l=o.data("isFileNameRendered"),c=o.data("originalFileName"),o.igProgressBar("option","value",s),a.text(e._formatFileSize(i)+"/"+e._formatFileSize(r)),l!==!0&&(o.data("isFileNameRendered",!0),e._renderFileName(t,r)),u&&(h={fileId:t,filePath:c,totalSize:i,fileInfo:f,owner:e},e._trigger(e.events.fileUploaded,null,h),e._checkMaxUploadingFilesCount()===!1)){e._disableBrowseButton(!0);return}},_formatURL:function(n,t){return n.indexOf("?")===-1&&(n+="?"),n+=t},_showHideIcons:function(t){var r=this.fileInfoData.filesInfo,i;for(i in r)r[i]!==undefined&&n("#"+this._id("_icn",i)).css(t)},_setWidthHeightAllUploads:function(t,i){var u=this.fileInfoData.filesInfo,f=i?"height":"width",r;for(r in u)u[r]!==undefined&&n("#"+this._id("_snglpbar",r)).igProgressBar("option",f,t)},changeLocale:function(){var t=n("#"+this._id("_ibb")),i=n("#upload_summplbl"),r=this;this._super(),i.length&&i.text(this._getLocaleValue("labelSummaryTemplate").replace("{0}",this.fileInfoData.countUploadingFiles).replace("{1}",this.fileInfoData.countTotalFiles)),t.length&&t.igBrowseButton("option",{labelText:this._getLocaleValue("labelUploadButton"),title:this._getLocaleValue("titleUploadFileButtonInit")}),t=n("#"+this._id("_bb")),t.length&&t.igBrowseButton("option",{labelText:this._getLocaleValue("labelAddButton"),title:this._getLocaleValue("titleAddFileButton")}),t=n("#"+this._id("_clrabtn")),t.length&&t.igButton("option",{title:this._getLocaleValue("titleClearAllButton"),labelText:this._getLocaleValue("labelClearAllButton")}),t=n("#"+this._id("_spbtncncl")),t.length&&t.igButton("option",{title:this._getLocaleValue("titleShowDetailsButton"),labelText:this._getLocaleValue("labelSummaryProgressButtonCancel")}),t=n("button[id$='cbtn']"),t.length&&t.each(function(){n(this).igButton("option",{title:r._getLocaleValue("labelSummaryProgressButtonCancel")})})},_setOption:function(t,i){var r=this.options.mode,u=this.options.autostartupload;this._superApply(arguments);switch(t){case"width":this.container().width(i),n("#"+this._id("_bmncntr")).width(i),this._reRenderFileSizeMetrics(),this._reRenderFileNames();break;case"height":this.container().height(i),n("#"+this._id("_bmncntr")).height(i);break;case"labelSummaryProgressButtonDone":this.spbButtonMode===this.summaryButtonModes.done&&n("#"+this._id("_spbtncncl")).igButton("option","labelText",i);break;case"showFileExtensionIcon":this._showHideIcons({display:i?"block":"none"});break;case"fileSizeMetric":this._reRenderFileSizeMetrics();break;case"fileSizeDecimalDisplay":this._reRenderFileSizeMetrics();break;case"maxUploadedFiles":this._disableBrowseButton(!this._checkMaxUploadingFilesCount());break;case"mode":r!==i&&(this._destroyMarkup(),this._create());break;case"disabled":this._disableBrowseButton(i);break;case"autostartupload":i===!0&&i!==u&&this._spbSubmitAllButton()}},_reRenderFileSizeMetrics:function(){for(var r=this.fileInfoData.filesInfo,s=r.length,e=0,i=this,u,f,o,t=0;t<s;t++)(f=n("#"+i._id("_pbrflsz",t)),f.length!==0)&&(u=r[t].sizeBytes,e=r[t].uploadedBytes,o=n("#"+i._id("_snglpbar",t)),f.text(i._formatFileSize(e)+"/"+i._formatFileSize(u)),o.data("isFileNameRendered",!0),i._renderFileName(t,u),n("#"+i._id("_summpbrlbl_1")).width(n("#"+this._id("_summpbar")).width()));this._spbRenderProgress()},_destroyMarkup:function(){var t,i,r=n("#"+this._id("_ibb")),u=n("#"+this._id("_bb")),f=n("#"+this._id("_bmncntr"));if(this._isDivElement||this.originalElement.show().unwrap(),r.igBrowseButton("destroy"),u.igBrowseButton("destroy"),r.remove(),f.remove(),this._isDivElement){for(this.element.empty(),i=this.element[0].attributes,t=0;t<i.length;t++)i[t].name!=="id"&&this.element.removeAttr(i[t].name);for(t=0;t<this._initialAttributes.length;t++)this._initialAttributes[t].name!=="id"&&this.element.attr(this._initialAttributes[t].name,this._initialAttributes[t].value);this.element.html(this._initialHTML)}else this.container().remove()},destroy:function(){this._destroyMarkup(),this._superApply(arguments)},_getFileSize:function(t,i){var r=this,s=this.options,e=this._id("_fszfrm",t),o=n("#"+r._id("_frm",t)+"_if"),u=this._id("_fszifrm",t),f,h=r._formatURL(s.uploadUrl,n.param({key:i,command:"fileSize"}));n('<iframe src="javascript:false;" id="'+u+'" name="'+u+'"><\/iframe>').appendTo(n(document.body)).css({display:"none"}),n('<form method="post" id="'+e+'" target="'+u+'" enctype="multipart/form-data"><\/form>').appendTo(n(document.body)).css({display:"none"}).attr("action",h),f=n("#"+e),o.appendTo(f),f.submit(),f.remove(),n("#"+u).ready(function(){setTimeout(function(){r._sendRequestFileSize(t,i)},r._const.timeoutGetFileSize)}),o.appendTo(n("#"+r._id("_frm",t)))},_removeGetFileSizeHTML:function(t){var i=n("#"+this._id("_fszifrm",t)),r=n("#"+this._id("_fszfrm",t));i.remove(),r.remove()},_sendRequestFileSize:function(t,i){var r=this,u=this.options,f=this.getFileInfo(t);f.sizeBytes===0&&n.ajaxQueue("uploadrequestsqueue",{url:r._formatURL(u.progressUrl,n.param({key:i,command:"fileSize"})),dataType:"json",cache:!1,success:function(n){var i=parseInt(n.fileSize,10);r._saveFileSize(i,t),r._removeGetFileSizeHTML(t)},error:function(){r._setError(r._getLocaleValue("errorMessageAJAXRequestFileSize"),t,r._const.clientSideErrorCode.ajaxErrorRequestFileSize,"clientside"),r._removeGetFileSizeHTML(t)}})},_saveFileSize:function(t,i){var r=this,f=r._id("_snglpbar",i),e=n("#"+f),o=this.fileInfoData,u=this.getFileInfo(i);isNaN(t)!==!0&&(e.data("totalSize",t),u!==null&&(u.sizeBytes=t,o.fileSizeTotal+=t,r._spbRenderProgress()),r._renderStatus(i,0,t,!1,u))},_onShowHideDetailsClick:function(){var i=this,t=n("#"+i._id("_fc")),r=t.css("margin-top"),u=t.css("margin-bottom");n.ig.util.isIE7||n.ig.util.isIEQuircks?(i._setShowHideDetailsButtonText(t.is(":hidden")),t.is(":hidden")?(t.show(),i._reRenderFileNames()):t.hide(),i._setShowHideDetailsButtonText(t.is(":hidden"))):(t.css({"margin-top":0,"margin-bottom":0}),t.slideToggle(i._const.showHideDetailsAnimationTimeout,function(){t.css({"margin-top":r,"margin-bottom":u}),i._setShowHideDetailsButtonText(t.is(":hidden")),t.is(":hidden")===!1&&i._reRenderFileNames()}))},_reRenderFileNames:function(){for(var r=this.fileInfoData.filesInfo,u=r.length,i,t=0;t<u;t++)i=n("#"+this._id("_snglpbar",t)).data("originalFileName"),n("#"+this._id("_pbrflnm",t)).text(i),this._renderFileName(t,0,i)},_setShowHideDetailsButtonText:function(t){var i=n("#"+this._id("_shdbtn"));t?(i.text(this._getLocaleValue("labelShowDetails")),i.attr({"data-localeid":"titleShowDetailsButton"})):(i.text(this._getLocaleValue("labelHideDetails")),i.attr({"data-localeid":"titleHideDetailsButton"}))},getFileInfoData:function(){return this.fileInfoData},cancelAll:function(){var t,f=this.fileInfoData,i=f.uploadingIDs,e=i.length,r=f.pendingQueueIDs,o=r.length,u=f.batch,s=u.length;for(this.allCancelled=!0,t=0;t<e;t++)i[t]!==undefined&&this.cancelUpload(i[t]);for(t=0;t<o;t++)r[t]!==undefined&&this.cancelUpload(r[t]);for(t=0;t<s;t++)u[t]!==undefined&&this.cancelUpload(u[t]);i=[],r=[],u=[],n("#"+this._id("_spbtncncl")).data("ids",[]),this.allCancelled=!1},_submitAllFormsUpload:function(){var i=this,n,t,r=this.fileInfoData.batch,f=r.length,e=[],u;if(this.options.useSingleRequest===!1){for(n=0;n<f;n++)t=r[n],i._checkCanUpload()?i.startUpload(t):(i._addPendingId(t),e.push(t));this.fileInfoData.batch=[]}else u=this._html5upload(),u===!0&&(this.fileInfoData.batch=[])},_spbRenderInit:function(){var r=this,v=this.options,i=r.css,y=this._id("_fu"),f=this._getLocaleValue("labelSummaryProgressButtonContinue"),e=this._id("_spbcntr"),o=this._id("_summpbrlbl"),s=this._id("_summpbar"),p=this._id("_summplbl"),h=this._id("_shdbtn"),c=this._id("_spbtncncl"),w=this._id("_spdtlbtn"),u,t="",l,b="progressData",a=this._getLocaleValue("titleSummaryProgressButtonContinue");t+='<div id="$summaryProgressContainerId$">',t+='\t<div  class="'+i.summaryInformationContainerClass+'">',t+='\t\t<span id="$summaryProgressLabelId$"  data-localeid="labelSummaryTemplate" ',t+='\t\t\tclass="'+i.summaryUploadedFilesLabelClass+'"><\/span>',t+='\t\t<a href="javascript:void(0);" id="$showHideDetailsId$" data-localeid="titleHideDetailsButton" ',t+='\t\t\tclass="'+i.summaryShowHideDetailsButtonClass+'">$labelShowHideDetails$<\/a>',t+="\t<\/div>",t+='\t<div class="'+i.clearClass+'">',t+='\t\t<button id="$summaryProgressButtonCancelId$"><\/button>',t+='\t\t<div id="$summaryProgressBarId$"><\/div>',t+="\t<\/div>",t+="<\/div>",t=t.replace("$summaryProgressContainerId$",e).replace("$summaryProgressLabelId$",p).replace("$summaryProgressDetailsButtonId$",w).replace("$summaryProgressBarId$",s).replace("$showHideDetailsId$",h).replace("$labelShowHideDetails$",this._getLocaleValue("labelHideDetails")).replace("$labelSummaryProgressButtonCancel$",this._getLocaleValue("labelSummaryProgressButtonCancel")).replace("$summaryProgressButtonCancelId$",c),n(t).appendTo(n("#"+y)),l={IDs:{},CurrentUploadedFiles:0,CurrentUploadedSize:0,TotalFileSize:0,TotalFiles:0,UploadingFiles:0},n("#"+e).data(b,l).addClass(i.summaryProgressContainerClass+" "+i.clearClass),u=n("#"+s),n('<span id="'+o+'"><\/span>').addClass(i.summaryProgressbarLabelClass).appendTo(u.igProgressBar({animate:r._const.isProgressBarAnimationEnabled,animateTimeout:r._const.animateProgressBarInterval,range:r._const.isProgressBarRange,value:0,queue:!1}).addClass(i.summaryProgressBarClass)),n('<div id="'+o+'_1"><\/div>').width(u.width()).addClass(i.summaryProgressBarSecondaryLabel).appendTo(n("#"+this._id("_summpbar_progress")).addClass(i.summaryProgressBarInnerProgress)),n("#"+h).bind({click:function(n){n.preventDefault(),r._onShowHideDetailsClick()}}),v.autostartupload&&(f=this._getLocaleValue("labelSummaryProgressButtonCancel"),a=this._getLocaleValue("titleSummaryProgressButtonCancel"),this.spbButtonMode=this.summaryButtonModes.cancel),n("#"+c).igButton({labelText:f,title:a,disabled:!1,click:function(n){n.preventDefault(),r._spbOnClickButton(n)}}).addClass(i.summaryButtonClass)},_spbRenderProgress:function(){var e=n("#"+this._id("_summpbar")),o=n("#"+this._id("_summplbl")),s=n("#"+this._id("_summpbrlbl")),h=n("#"+this._id("_summpbrlbl_1")),u="",r=0,t=this.fileInfoData,i=t.fileSizeTotal,f=t.fileSizeUploaded;i!==0&&isNaN(i)===!1?r=f/i*100:i===0&&(r=0),t.countUploadingFiles===t.countTotalFiles&&(r=t.countTotalFiles===0?0:100,t.fileSizeUploaded=i,f=i),e.igProgressBar("option","value",r),u=this._getLocaleValue("labelSummaryProgressBarTemplate").replace("{0}",this._formatFileSize(f)).replace("{1}",this._formatFileSize(i)).replace("{2}",r),o.html(this._getLocaleValue("labelSummaryTemplate").replace("{0}",t.countUploadingFiles).replace("{1}",t.countTotalFiles)),s.text(u),h.text(u)},_spbOnClickButton:function(n){var t=this.summaryButtonModes,i=this.spbButtonMode;n.preventDefault(),i===t.cancel?(this._trigger(this.events.cancelAllClicked,n,{owner:this}),this.cancelAll()):i===t.startupload&&this._spbSubmitAllButton()},_spbSubmitAllButton:function(){this._submitAllFormsUpload(),this._spbCheckModeButton()},_spbCheckModeButton:function(){var n=this.fileInfoData;this.options.autostartupload?n.pendingQueueIDs.length>0||n.uploadingIDs.length>0?this._spbSetCancelButton():this._spbSetButtonDone():n.pendingQueueIDs.length===0&&n.uploadingIDs.length===0?n.batch.length>0?this._spbSetContinueButton():this._spbSetButtonDone():this._spbSetCancelButton()},_spbSetButtonDone:function(){var t=n("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.done,t.igButton("option",{labelText:this._getLocaleValue("labelSummaryProgressButtonDone"),title:this._getLocaleValue("titleSummaryProgressButtonDone"),disabled:!0})},_spbSetContinueButton:function(){var t=n("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.startupload,t.igButton({title:this._getLocaleValue("titleSummaryProgressButtonContinue"),labelText:this._getLocaleValue("labelSummaryProgressButtonContinue"),disabled:!1})},_spbSetCancelButton:function(){var t=n("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.cancel,t.igButton("option",{labelText:this._getLocaleValue("labelSummaryProgressButtonCancel"),title:this._getLocaleValue("titleSummaryProgressButtonCancel"),disabled:!1})},getFileInfo:function(n){var t=this.fileInfoData.filesInfo[n];return t===undefined||t===null?null:t},_formatFilePath:function(n){var t=n.lastIndexOf("/");return n=n.replace(/(\/|\\)$/,""),t===-1&&(t=n.lastIndexOf("\\")),n.substring(t+1)},_checkCanUpload:function(){var n=this.options,r=this.fileInfoData,i=!0,t=n.maxSimultaneousFilesUploads;return n.mode==="multiple"&&t!==null&&r.uploadingIDs.length>=t&&n.useSingleRequest===!1&&(i=!1,t<=0&&this._setError(this._getLocaleValue("errorMessageMaxSimultaneousFiles"),null,this._const.clientSideErrorCode.checkCanUpload,"clientside")),i},_addPendingId:function(n){this.fileInfoData.pendingQueueIDs.push(n)},_removePendingId:function(n){var i=this.fileInfoData.pendingQueueIDs,t;return n!==undefined&&n!==null?(t=n,this.fileInfoData.pendingQueueIDs=this._removeElementFromArray(i,t)):(t=i.shift(),t===undefined&&(t=null)),t},_addUploadingID:function(n){this.fileInfoData.uploadingIDs.push(n)},_removeUploadingID:function(n){this.fileInfoData.uploadingIDs=this._removeElementFromArray(this.fileInfoData.uploadingIDs,n)},_addIDBatch:function(n){this.fileInfoData.batch.push(n)},_removeIDBatch:function(n){this.fileInfoData.batch=this._removeElementFromArray(this.fileInfoData.batch,n)},_submitNextPendingId:function(){var n=this,t;n._checkCanUpload()===!0&&(t=n._removePendingId(),t!==null&&n.startUpload(t))},_randomString:function(n){for(var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",u="",t,i=0;i<n;i++)t=Math.floor(Math.random()*r.length),u+=r.substring(t,t+1);return u},_cutFilePath:function(n,t){var i=n.length;if(i<=t)return n},_getOnlyFileName:function(n){var t="";return n===null||n===undefined?"":(n.indexOf("/")!==-1?t="/":n.indexOf("\\")!==-1&&(t="\\"),t!==""&&(n=n.substr(n.lastIndexOf(t)+1)),n)},_getFileExtension:function(n){return n.substring(n.lastIndexOf(".")+1)},_validateFileExtension:function(t,i,r){var u="",e=this.options.allowedExtensions,f,o;return e.length===0?!0:(u=t.substring(t.lastIndexOf(".")+1),o=this._trigger(this.events.fileExtensionsValidating,this,{fileName:t,fileExtension:u,owner:this}),u=u.toLowerCase(),f=n.inArray(u,e)>=0,(i!==!0||f!==!1)&&o||(f=!1,this._setError(this._getLocaleValue("errorMessageValidatingFileExtension"),r,this._const.clientSideErrorCode.extensionValidation,"clientside")),f)},_getFileExtensionIconPath:function(t){var r=this.options.fileExtensionIcons,i,u="",f=r.length;for(t=String(t).toLowerCase(),i=0;i<f;i++){if(r[i].ext!==undefined&&(r[i].ext===t||n.inArray(t,r[i].ext)!==-1)){u=r[i].css;break}u===""&&(r[i].def===!0||n.isArray(r[i].ext)&&r[i].ext.length===0)&&(u=r[i].css)}return u},_setError:function(n,t,i,r,u){var f,e=this._const.errorCode;if(u===undefined&&(u=""),r==="serverside")switch(i){case e.MimeTypeValidation:n=this._getLocaleValue("errorMessageValidatingFileExtension");break;case e.FileSizeExceeded:n=this._getLocaleValue("errorMessageMaxFileSizeExceeded")}this._spbCheckModeButton(),f={fileId:t,errorCode:i,errorMessage:n,errorType:r,serverMessage:u,owner:this},this._trigger(this.events.onError,null,f)},_formatFileSize:function(n){var i=this.options.fileSizeMetric,t=n;switch(i){case"bytes":t=n+"B";break;case"kbytes":t=this._convertToKBytes(n);break;case"mbytes":t=this._convertToMBytes(n);break;case"gbytes":t=this._convertToGBytes(n);break;case"auto":t=n<1024?n+"B":n<1048576?this._convertToKBytes(n):n<1073741824?this._convertToMBytes(n):this._convertToGBytes(n)}return t},_convertToKBytes:function(n){var t=n/1024;return t.toFixed(this.options.fileSizeDecimalDisplay)+"KB"},_convertToMBytes:function(n){var t=n/1048576;return t.toFixed(this.options.fileSizeDecimalDisplay)+"MB"},_convertToGBytes:function(n){var t=n/1073741824;return t.toFixed(this.options.fileSizeDecimalDisplay)+"GB"},_removeElementArrayById:function(t,i){return t===undefined||t===null?[]:n.grep(t,function(n){return n.id!==i})},_removeElementFromArray:function(t,i){return t===undefined||t===null?[]:n.grep(t,function(n){return n!==i})},_stringToJSONObject:function(n){var t={};try{t=JSON.parse(n)}catch(i){return!1}return t},_stringToXmlObject:function(t){var i;try{i=n(t)}catch(r){return!1}return i.length?i:!1}}),n.extend(n.ui.igUpload,{version:"19.2.25"})}(n),function(n){n.widget("ui.igValidator",n.ui.igWidget,{options:{onchange:!1,onblur:!0,onsubmit:!0,required:!1,number:!1,date:!1,email:!1,lengthRange:null,valueRange:null,creditCard:!1,pattern:null,executeAllRules:!1,messageTarget:null,errorMessage:null,successMessage:null,threshold:-1,equalTo:null,custom:null,fields:[{selector:null}],notificationOptions:null,requiredIndication:!1,optionalIndication:!1},css:{target:"ui-igvalidator-target",requiredIndication:"ui-igvalidator-required-indication",optionalIndication:"ui-igvalidator-optional-indication"},events:{validating:"validating",validated:"validated",success:"success",error:"error",errorShowing:"errorShowing",errorHiding:"errorHiding",errorShown:"errorShown",errorHidden:"errorHidden",successShowing:"successShowing",successHiding:"successHiding",successShown:"successShown",successHidden:"successHidden",formValidating:"formValidating",formValidated:"formValidated",formError:"formError",formSuccess:"formSuccess"},notifierDefaults:{state:"error"},rules:[],summaryResult:!1,_createWidget:function(){delete this.options.fields,n.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var r,i,t;if(this._formHandleCounter=0,this._fieldOptions=this.options.fields?n.extend([],this.options.fields):null,r=!1,this.options.fields)for(i=0;i<this.options.fields.length;i++)t=this.options.fields[i],this._initializeField(n(t.selector),t),(t.onsubmit!==undefined?t.onsubmit:this.options.onsubmit)&&(r=!0,this._formHandleCounter++);else this._initializeField(this.element,this.options);this._attachToForm(r||this.options.onsubmit),this._initializeRules()},_setOption:function(n,t){var i,r;switch(n){case"notificationOptions":this.options.notificationOptions=t,this._updateNotifiers();break;case"onchange":case"onblur":this.options.fields||this.options._control||(this.element.unbind(".validator"),this._attachFieldEvents(this.element));break;case"onsubmit":if(this.options.onsubmit===t)break;if(this.options.fields)for(i=0;i<this.options.fields.length;i++)this.options.fields[i].onsubmit===undefined&&(t?(this._formHandleCounter||this._attachToForm(!0),this._formHandleCounter++):--this._formHandleCounter||this._detachFromForm());break;case"messageTarget":r=this._fieldMessageVisible(this.options),this._clearMessageTarget(this.options),this._hideSuccess(this.options),this._hideError(this.options),this.options.messageTarget=t,this._evalMessageTarget(this.options),r&&(this.options.isValid?this._showSuccess(this.options,{message:this.options._currentMessages[0]}):this._showError(this.options,{messages:this.options._currentMessages}));break;case"errorMessage":case"successMessage":this._hideError(this.options),this._hideSuccess(this.options);break;case"requiredIndication":case"optionalIndication":if(this.options.fields)for(i=0;i<this.options.fields.length;i++)this._removeFieldIndications(this.options.fields[i]),this.options[n]=t,this._addFieldIndications(this.options.fields[i]);else this._removeFieldIndications(this.options),this.options[n]=t,this._addFieldIndications(this.options);break;case"fields":return}this._super(n,t)},_initializeRules:function(){this.rules=[],this.rules.push(new n.ig.igValidatorRequiredRule(this)),this.rules.push(new n.ig.igValidatorControlRule(this)),this.rules.push(new n.ig.igValidatorNumberRule(this)),this.rules.push(new n.ig.igValidatorDateRule(this)),this.rules.push(new n.ig.igValidatorLengthRule(this)),this.rules.push(new n.ig.igValidatorValueRule(this)),this.rules.push(new n.ig.igValidatorEqualToRule(this)),this.rules.push(new n.ig.igValidatorEmailRule(this)),this.rules.push(new n.ig.igValidatorCreditCardRule(this)),this.rules.push(new n.ig.igValidatorPatternRule(this)),this.rules.push(new n.ig.igValidatorCustomRule(this))},_initializeField:function(n,t){var i=n,r;if(!i.length){t._ignored=!0;return}if(t._control=this._getEditor(i),t._control)this._form=this._form||i.closest("form").get(0),t._control.widgetName==="igCombo"?t._type="selectrange":t._control.widgetName==="igRating"&&(t._type="select"),t._control._options?t._control._options.validator=this:t._control._validator=this;else{r=i[0].tagName;switch(r){case"INPUT":i[0].type==="checkbox"?(t._group=this._findGroupTargets(i),t._type=t._group.length>1?"checkboxrange":"checkbox",i=t._group):i[0].type==="radio"?(t._group=this._findGroupTargets(i),t._type="radio",i=t._group):t._type="input";break;case"TEXTAREA":t._type="textarea";break;case"SELECT":t._type=i[0].multiple?"selectrange":"select";break;case"FORM":this._form=this._form||i[0],t._ignored=!0;return;default:this._form=this._form||i.closest("form").get(0),t._ignored=!0;return}this._attachFieldEvents(i)}t._ignored=!1,i.addClass(this.css.target),i.data("igValidatorField",t),t.notifyTarget=this._targetFromOptions(t,!0),this._evalMessageTarget(t),this._ensureNotifier(t,!0),this._addFieldIndications(t)},_findGroupTargets:function(t){return t[0].name?n("[name="+t[0].name+"]",t[0].form||document):t},_attachFieldEvents:function(n){var t=this,i={"keyup.validator":function(i){(i.keyCode!==9&&i.keyCode<15||i.keyCode>20)&&t._validateInternal(n,i)},"change.validator":function(i){t._validateInternal(n,i)},"cut.validator":function(i){setTimeout(function(){t._validateInternal(n,i)},10)},"paste.validator":function(i){setTimeout(function(){t._validateInternal(n,i)},10)},"drop.validator":function(i){setTimeout(function(){t._validateInternal(n,i)},10)},"dragend.validator":function(i){setTimeout(function(){t._validateInternal(n,i)},10)},"blur.validator":function(i){t._validateInternal(n,i,!0)}};n.bind(i)},_ensureNotifier:function(t,i){if(i&&t.notifyTarget.data("igNotifier")&&t.notifyTarget.igNotifier("destroy").unbind(".validator"),!t.notifyTarget.data("igNotifier")){var r={owner:this,target:t.notifyTarget,fieldOptions:t===this.options?null:t};t.notifyTarget.igNotifier(n.extend({},this.notifierDefaults,this.options.notificationOptions,t.notificationOptions)).bind({"ignotifiershowing.validator":function(n,t){return r.owner._handleNotifierEvent(n,t,"Showing",r)},"ignotifiershown.validator":function(n,t){return r.owner._handleNotifierEvent(n,t,"Shown",r)},"ignotifierhiding.validator":function(n,t){return r.owner._handleNotifierEvent(n,t,"Hiding",r)},"ignotifierhidden.validator":function(n,t){return r.owner._handleNotifierEvent(n,t,"Hidden",r)}})}},_updateNotifiers:function(){if(this.options.fields)for(var n=0;n<this.options.fields.length;n++)this._ensureNotifier(this.options.fields[n],!0);else this._ensureNotifier(this.options,!0)},_clearMessageTarget:function(n){n._$messageTarget&&n._$messageTarget.removeClass("field-validation-valid field-validation-error").empty().css("display","")},_evalMessageTarget:function(t){if(t._$messageTarget=t.messageTarget,typeof t._$messageTarget=="string"){var i=n("[data-valmsg-for='"+t._$messageTarget+"']");t._$messageTarget=i.length?i:n(t._$messageTarget)}t._$messageTarget instanceof n&&(t._$messageTarget.length?t._$messageTarget.hide():t._$messageTarget=null)},_addFieldIndications:function(n){var t,i=n.notifyTarget;n._group&&n._group.length>1||n._control&&n._control.widgetName==="igRating"||(n._control!==null&&n._control.widgetName==="igCombo"&&(i=i.parent()),t=this._addGlobalSettings(n),t.required&&t.requiredIndication&&(n._$indicator=i.after("<span title='"+this._getLocalizedMessage("required")+"' class='"+this.css.requiredIndication+"'>*<\/span>").next()),!t.required&&t.optionalIndication&&(n._$indicator=i.after("<span class='"+this.css.optionalIndication+"'>"+this._getLocalizedMessage("optional","String")+"<\/span>").next()))},_removeFieldIndications:function(n){n._$indicator&&(n._$indicator.hide(),n._$indicator.remove(),delete n._$indicator)},_attachToForm:function(t){(this._form=this._form||this.element[0].form||this.element.closest("form").get(0),this._form&&t)&&(this._form._igValidators&&this._form._igValidators.length||(this._form._igValidators=[],n(this._form).bind("submit.validator",function(n){var t,r,i;for(this._igErrorShown=!1,t=!0,i=0;i<this._igValidators.length;i++)r=this._igValidators[i]._validateForm(n),t=t?r:t;t||(n.preventDefault(),n.stopPropagation()),delete this._igErrorShown})),this._form._igValidators.push(this))},_detachFromForm:function(){var t;this._form&&(t=n.inArray(this,this._form._igValidators))>-1&&(this._form._igValidators.splice(t,1),this._form._igValidators.length||n(this._form).unbind("submit.validator"))},_validate:function(n,t,i){var f,u,r=!0;if(this.options.fields)if(n!==undefined&&(u=this._fieldIndexOf(n))>-1)n=this.options.fields[u],r=n.isValid=this._validateField(n,t,i);else for(u=0;u<this.options.fields.length;u++)n=this.options.fields[u],f=n.isValid=this._validateField(n,t,i),r=r?f:r;else r=this._validateField(this.options,t,i),this.options.isValid=r;return r},_validateForm:function(t){var r=!0,i={owner:this,target:n(t.target)};return this._trigger(this.events.formValidating,t,i)&&(i.valid=r=this._validate(null,t,!0),this._trigger(this.events.formValidated,t,i),this._trigger(r?this.events.formSuccess:this.events.formError,t,i)),r},_errorOnSubmitAllowed:function(){return!n.ui.igValidator.defaults.showAllErrorsOnSubmit&&this._form&&this._form._igErrorShown!==undefined?!this._form._igErrorShown:!0},_addErrorOnSubmit:function(){!n.ui.igValidator.defaults.showAllErrorsOnSubmit&&this._form&&this._form._igErrorShown!==undefined&&(this._form._igErrorShown=!0)},_validateInternal:function(t,i,r,u){t=t||i&&(t=n(i.target).closest("."+this.css.target)).length||this.element;var f=t.data("igValidatorField");return f?f.isValid=this._validateField(f,i||{},!1,u,r):u!==undefined?this.options.isValid=this._validateField(this.options,i||{},!1,u,r):this._validate(null,i||{})},_validateField:function(n,t,i,r,u){var f,h,v,e,s,o,a,c,l;if(n._ignored||(f=this._addGlobalSettings(n),s=!0,r=r!==undefined?r:this._getTargetValue(f),h=r!==0?r&&r.toString():r.toString(),v=h&&r.length!==undefined,i&&!f.onsubmit)||!this._forceValidation&&!i&&(u&&!f.onblur||!u&&!f.onchange||f.hasOwnProperty("threshold")&&v&&r.length<=f.threshold)||(e={value:r,owner:this,fieldOptions:f===this.options?null:n},t&&!this._trigger(this.events.validating,t,e)))return!0;for(e.messages=n._currentMessages=[],e.rules=[],l=0;l<this.rules.length;l++){if(o=this.rules[l],!o.shouldRun(f,h)){if(o.name==="required"&&!h&&!f.executeAllRules)break;continue}if(a=o.isValid(f,r),s=s?a:s,!a&&(c=o.getRuleMessage(f)||this._getLocalizedMessage(o.getMessageType(f)),c=o.formatMessage(c),e.messages.push(c),e.rules.push(o.name),!f.executeAllRules))break}return s?(f.successMessage&&e.messages.push(f.successMessage),delete e.rules,this._success(f,e,t),!0):(e.rule=e.rules[0],this._showError(f,e,t),!1)},_success:function(n,t,i){t.valid=!0,t.message=t.messages[0]||null,i&&(this._trigger(this.events.validated,i,t),this._trigger(this.events.success,i,t)),this._showSuccess(n,t,i)},_showError:function(n,t,i){(t.valid=!1,t.message=t.messages.length&&n.executeAllRules?"<ul><li>"+t.messages.join("<\/li><li>")+"<\/li><\/ul>":t.messages[0]||null,i&&(this._trigger(this.events.validated,i,t),this._trigger(this.events.error,i,t)),!this._skipMessages&&this._errorOnSubmitAllowed())&&(this._hideSuccess(n,i),t={owner:this,message:t.message,target:n._$messageTarget?n._$messageTarget:n.notifyTarget,fieldOptions:t.fieldOptions},!i||this._trigger(this.events.errorShowing,i,t))&&(this._ensureNotifier(n),n._$messageTarget?(n._$messageTarget.removeClass("field-validation-valid").addClass("field-validation-error").html(t.message).show(),n.notifyTarget.data("igNotifier")._setOption("state","error"),n.notifyTarget.data("igNotifier")._setTargetState()):n.notifyTarget.igNotifier("notify","error",t.message),i&&this._trigger(this.events.errorShown,i,t),this._addErrorOnSubmit())},_hideError:function(n,t){var i=n._$messageTarget||n.notifyTarget.data("igNotifier"),r={owner:this,target:n._$messageTarget||n.notifyTarget,message:i._currentText||n._$messageTarget&&n._$messageTarget.text(),fieldOptions:n===this.options?null:n};if(this._hasVisibleError(n)){if(t&&!this._trigger(this.events.errorHiding,t,r))return;i.hide(),n.notifyTarget.data("igNotifier")._setTargetState(!0),t&&this._trigger(this.events.errorHidden,t,r)}},_showSuccess:function(n,t,i){if(!this._skipMessages&&(this._hideError(n,i),t.message)){if(t={owner:this,message:t.message,target:n._$messageTarget?n._$messageTarget:n.notifyTarget,fieldOptions:t.fieldOptions},i&&!this._trigger(this.events.successShowing,i,t))return;this._ensureNotifier(n),n._$messageTarget?(n._$messageTarget.removeClass("field-validation-error").addClass("field-validation-valid").html(t.message).show(),n.notifyTarget.data("igNotifier")._setOption("state","success"),n.notifyTarget.data("igNotifier")._setTargetState()):n.notifyTarget.igNotifier("notify","success",t.message),i&&this._trigger(this.events.successShown,i,t)}},_hideSuccess:function(n,t){var i=n._$messageTarget||n.notifyTarget.data("igNotifier"),r={owner:this,target:n._$messageTarget||n.notifyTarget,message:i._currentText||n._$messageTarget&&n._$messageTarget.text(),fieldOptions:n===this.options?null:n};if(this._hasVisibleSuccess(n)){if(t&&!this._trigger(this.events.successHiding,t,r))return;i.hide(),t&&this._trigger(this.events.successHidden,t,r)}},_handleNotifierEvent:function(n,t,i,r){var u=t.owner.options.state;return(r.message=t.owner._currentText,u==="error")?r.owner._trigger(this.events["error"+i],n,r):u==="success"?r.owner._trigger(this.events["success"+i],n,r):!0},_getTargetValue:function(n){if(n._control)return n._control.options.checked!==undefined?n._control.options.checked:(n._control.refreshValue&&n._control.options.allowCustomValue&&n._control.refreshValue(),n._control.value());var t=this._targetFromOptions(n);if(!t.length)return null;switch(n._type){case"textarea":return t.val().replace(/\r?\n/g,"\r\n");case"checkbox":return t[0].checked;case"radio":case"checkboxrange":return n._group.filter(":checked").map(function(){return this.value}).get();case"input":case"select":case"selectrange":return t.val()}return t.val&&t.val()},_getLocalizedMessage:function(t,i){t+=i||"Message";var r=this._getLocaleValue(t);return!r&&n.ig&&n.ig.Validator&&n.ig.Validator.locale&&(r=this._getLocaleValue(t)),r||""},_targetFromOptions:function(t,i){if(i&&t._control){if(t._control.editorContainer)return t._control.editorContainer();if(t._control.comboWrapper)return t._control.comboWrapper().children().first()}return t.selector?t.selector instanceof n?t.selector:n(t.selector):this.element},_getEditor:function(n){var t=n.data(),r=["Editor","Combo","Rating","DatePicker","TimePicker"],u=new RegExp("ig.*?("+r.join("|")+")"),i;for(i in t)if(t[i].widgetName&&u.test(t[i].widgetName))return t[i];return null},_cleanupField:function(n){var t=this._targetFromOptions(n||this.options);t.unbind(".validator"),n.notifyTarget&&n.notifyTarget.data("igNotifier")&&n.notifyTarget.igNotifier("destroy").unbind(".validator"),this._clearMessageTarget(n),t.data("igValidatorField")&&t.removeData("igValidatorField"),this._removeFieldIndications(n),n._control&&(n._control._options?n._control._options.validator=null:n._control._validator=null),t.removeClass(this.css.target)},_addGlobalSettings:function(t){var r,u,i;if(t===this.options)return t;for(r=["required","threshold","number","date","lengthRange","valueRange","email","creditCard","custom","onblur","onchange","onsubmit","successMessage","errorMessage","requiredIndication","optionalIndication","executeAllRules"],u=n.extend({},t),i=0;i<r.length;i++)t.hasOwnProperty(r[i])||this.options[r[i]]===null||(u[r[i]]=this.options[r[i]]);return u},_indexOfByProperty:function(n,t,i){for(var r=0;r<n.length;r++)if(n[r][t]&&n[r][t]===i)return r;return-1},_hasVisibleSuccess:function(n){return this._fieldMessageVisible(n)?n._$messageTarget&&n._$messageTarget.hasClass("field-validation-valid")?!0:n.notifyTarget.data("igNotifier").options.state==="success":!1},_hasVisibleError:function(n){return this._fieldMessageVisible(n)?n._$messageTarget&&n._$messageTarget.hasClass("field-validation-error")?!0:n.notifyTarget.data("igNotifier").options.state==="error":!1},_fieldMessageVisible:function(n){return n._$messageTarget?n._$messageTarget.is(":visible"):n.notifyTarget.data("igNotifier")?n.notifyTarget.data("igNotifier").isVisible():!1},_fieldIndexOf:function(t){var i=-1;return typeof t=="number"&&this.options.fields[t]?t:(typeof t=="string"&&(i=this._indexOfByProperty(this.options.fields,"selector",t)),typeof t=="object"&&(i=n.inArray(t,this.options.fields)),i>=this.options.fields.length)?-1:i},validate:function(n){var t;return this._forceValidation=!0,t=this._validate(n),this._forceValidation=!1,t},isValid:function(n){this._skipMessages=!0;var t=this.validate(n);return this._skipMessages=!1,t},hide:function(n){var t;if(this.options.fields){if(n!==undefined){(t=this._fieldIndexOf(n))>-1&&(this._hideError(this.options.fields[t]),this._hideSuccess(this.options.fields[t]));return}for(t=0;t<this.options.fields.length;t++)this.options.fields[t].isValid!==undefined&&(this._hideError(this.options.fields[t]),this._hideSuccess(this.options.fields[t]))}else this._hideError(this.options),this._hideSuccess(this.options)},getErrorMessages:function(n){var i=[],t;if(this.options.fields){if(n!==undefined)return(t=this._fieldIndexOf(n))>-1&&this.options.fields[t].isValid!==undefined&&!this.options.fields[t].isValid&&Array.prototype.push.apply(i,this.options.fields[t]._currentMessages),i;for(t=0;t<this.options.fields.length;t++)this.options.fields[t].isValid===undefined||this.options.fields[t].isValid||Array.prototype.push.apply(i,this.options.fields[t]._currentMessages)}else this.options.isValid===undefined||this.options.isValid||Array.prototype.push.apply(i,this.options._currentMessages);return i},isMessageDisplayed:function(n){var t=!1,i;if(this.options.fields){if(n!==undefined)return(i=this._fieldIndexOf(n))>-1&&(t=t?t:this._fieldMessageVisible(this.options.fields[i])),t;for(i=0;i<this.options.fields.length;i++)t=t?t:this._fieldMessageVisible(this.options.fields[i])}else t=this._fieldMessageVisible(this.options);return t},notifier:function(n){var t,i;return i=n!==undefined&&this.options.fields&&(t=this._fieldIndexOf(n))>-1?this.options.fields[t].notifyTarget&&this.options.fields[t].notifyTarget.data("igNotifier"):this.options.notifyTarget&&this.options.notifyTarget.data("igNotifier"),i||null},addField:function(t){if(this.options.fields){this.options.fields.push(t),this._initializeField(n(t.selector),t);var i=this._addGlobalSettings(t);i.onsubmit&&(this._formHandleCounter||this._attachToForm(!0),this._formHandleCounter++)}},removeField:function(n){var t,i,r;this.options.fields&&(t=this._fieldIndexOf(n),t>-1&&(i=this.options.fields.splice(t,1)[0],r=this._addGlobalSettings(i),this._cleanupField(i),r.onsubmit&&!--this._formHandleCounter&&this._detachFromForm()))},updateField:function(t,i){var r,u,f;if(this.options.fields&&(r=this._fieldIndexOf(t),r>-1)){if(!i){this._cleanupField(this.options.fields[r]),this._initializeField(n(this.options.fields[r].selector),this.options.fields[r]);return}i=n.extend({},this.options.fields[r],i),u=this._addGlobalSettings(this.options.fields[r]),f=this._addGlobalSettings(i),this._cleanupField(u),this._initializeField(n(i.selector),i),u.onsubmit&&!--this._formHandleCounter&&this._detachFromForm(),f.onsubmit&&(this._formHandleCounter||this._attachToForm(!0),this._formHandleCounter++),this.options.fields.splice(r,1,i)}},destroy:function(){if(this.options.fields)for(var n=0;n<this.options.fields.length;n++)this._cleanupField(this.options.fields[n]);else this._cleanupField(this.options);this._detachFromForm(),this._superApply(arguments)}}),n.extend(n.ui.igValidator,{version:"19.2.25"}),n.ui.igValidator.defaults={showAllErrorsOnSubmit:!0,decimalSeparator:".",thousandsSeparator:",",emailRegEx:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},n.ig.igValidatorBaseRule=n.ig.igValidatorBaseRule||Class.extend({name:"base",formatItems:[],getMessageType:function(){return this.name},getRuleMessage:function(n){return n[this.name].errorMessage?n[this.name].errorMessage:n.errorMessage?n.errorMessage:""},formatMessage:function(n){for(var t=0;t<this.formatItems.length;t++)n=n.replace("{"+t+"}",this.formatItems[t]);return n},shouldRun:function(n,t){return n[this.name]&&t},isValid:function(){return!0},init:function(n){this.validator=n}}),n.ig.igValidatorRequiredRule=n.ig.igValidatorRequiredRule||n.ig.igValidatorBaseRule.extend({name:"required",groupTypes:["checkboxrange","radio","select","selectrange"],groupMessageName:"select",getMessageType:function(t){return n.inArray(t._type,this.groupTypes)>-1?this.groupMessageName:this.name},shouldRun:function(n){return n[this.name]},isValid:function(n,t){var i=isNaN(parseFloat(t))?t:t.toString();return!i||t.length===0?!1:!0}}),n.ig.igValidatorControlRule=n.ig.igValidatorControlRule||n.ig.igValidatorBaseRule.extend({name:"control",getMessageType:function(){return"default"},getRuleMessage:function(n){return n.errorMessage||n._control._currentMessage||""},shouldRun:function(n,t){return n._control&&typeof n._control.isValid=="function"&&t},isValid:function(n){return n._control.isValid()}}),n.ig.igValidatorNumberRule=n.ig.igValidatorNumberRule||n.ig.igValidatorBaseRule.extend({name:"number",_isNumber:function(n,t){return typeof t=="number"?!0:typeof t=="string"?this._parseNumber(t,n)!==null:!1},_parseNumber:function(t,i){if(typeof t=="number")return t;var u=i.number&&i.number.decimalSeparator,f=i.number&&i.number.thousandsSeparator,e,r;return(u=u||n.ui.igValidator.defaults.decimalSeparator,f=f||n.ui.igValidator.defaults.thousandsSeparator,e=new RegExp("\\"+f,"g"),t=t.split(u),t[0]=t[0].replace(e,""),r=t.join("."),r.length&&!isNaN(r))?parseFloat(r):null},isValid:function(n,t){var i=""+t;return i?this._isNumber(n,t):!0}}),n.ig.igValidatorDateRule=n.ig.igValidatorDateRule||n.ig.igValidatorBaseRule.extend({name:"date",isValid:function(n,t){return t instanceof Date||!isNaN(new Date(t).getSeconds())}}),n.ig.igValidatorLengthRule=n.ig.igValidatorLengthRule||n.ig.igValidatorBaseRule.extend({name:"lengthRange",_lastMessageType:"rangeLength",getMessageType:function(){return this._lastMessageType},isValid:function(n,t){if(t&&t.length){var u,f,e=t.push?"Select":"Length",i=n.lengthRange.push?n.lengthRange[0]:n.lengthRange.min,r=n.lengthRange.push?n.lengthRange[1]:n.lengthRange.max;if(u=i&&t.length<i,f=r&&t.length>r,i&&r&&(u||f)?(this._lastMessageType="range"+e,this.formatItems=[i,r]):u?(this._lastMessageType="min"+e,this.formatItems=[i]):f&&(this._lastMessageType="max"+e,this.formatItems=[r]),u||f)return!1}return!0}}),n.ig.igValidatorValueRule=n.ig.igValidatorValueRule||n.ig.igValidatorNumberRule.extend({name:"valueRange",_lastMessageType:"rangeValue",getMessageType:function(){return this._lastMessageType},isValid:function(n,t){var u=!1,f=!1,i,r,e,o,s=this._isNumber(n,t),h=!isNaN(new Date(t).getSeconds());return!h&&!s?!0:(i=n.valueRange.push?n.valueRange[0]:n.valueRange.min,r=n.valueRange.push?n.valueRange[1]:n.valueRange.max,e=typeof i=="number"||i,o=typeof r=="number"||r,!e&&!o)?!0:(s&&!n.date?(t=this._parseNumber(t,n),e&&(u=t<i),o&&(f=t>r)):h&&!n.number&&(t=new Date(t),e&&(i=new Date(i),u=t<i,i=i.toLocaleString()),o&&(r=new Date(r),f=t>r,r=r.toLocaleString())),e&&o&&(u||f)?(this._lastMessageType="rangeValue",this.formatItems=[i,r]):u?(this._lastMessageType="minValue",this.formatItems=[i]):f&&(this._lastMessageType="maxValue",this.formatItems=[r]),!(u||f))}}),n.ig.igValidatorEqualToRule=n.ig.igValidatorEqualToRule||n.ig.igValidatorBaseRule.extend({name:"equalTo",isValid:function(t,i){var r=t.equalTo.selector||t.equalTo,u=this.validator._getTargetValue({_control:this.validator._getEditor(n(r)),selector:r});return n.ig.util.compare(i,u)?!1:!0}}),n.ig.igValidatorEmailRule=n.ig.igValidatorEmailRule||n.ig.igValidatorBaseRule.extend({name:"email",isValid:function(t,i){return n.ui.igValidator.defaults.emailRegEx.test(i)}}),n.ig.igValidatorPatternRule=n.ig.igValidatorPatternRule||n.ig.igValidatorBaseRule.extend({name:"pattern",isValid:function(n,t){var i=n.pattern.expresion||n.pattern.expression||n.pattern;return i=i.test?i:new RegExp(i.toString()),i.test(t)}}),n.ig.igValidatorCustomRule=n.ig.igValidatorCustomRule||n.ig.igValidatorBaseRule.extend({name:"custom",getMessageType:function(){return"default"},shouldRun:function(n){return n[this.name]},isValid:function(n,t){var r=n===this.validator.options?null:n,i=n.custom.method||n.custom;return(typeof i=="string"&&typeof window[i]=="function"&&(i=window[i]),typeof i=="function"&&!i.apply(this.validator,[t,r]))?!1:!0}}),n.ig.igValidatorCreditCardRule=n.ig.igValidatorCreditCardRule||n.ig.igValidatorBaseRule.extend({name:"creditCard",isValid:function(t,i){var r=i&&""+i,e=!1,o=0,u,f;if(r){for(r=r.replace(/-/g,""),r=r.replace(/ /g,""),r=r.reverse(),u=0;u<r.length;u++){if(!n.ig.String.prototype.isDigit(r[u]))return!1;for(f=+r[u]*(e?2:1),e=!e;f>0;)o+=f%10,f=Math.floor(f/10)}return o%10==0}return!0}})}(n),function(n){n.widget("ui.igHtmlEditor",n.ui.igWidget,{options:{showFormattingToolbar:!0,showTextToolbar:!0,showInsertObjectToolbar:!0,showCopyPasteToolbar:!0,width:725,height:350,toolbarSettings:[],customToolbars:[],inputName:"source",value:""},events:{rendered:"rendered",rendering:"rendering",actionExecuting:"actionExecuting",actionExecuted:"actionExecuted",toolbarCollapsing:"toolbarCollapsing",toolbarCollapsed:"toolbarCollapsed",toolbarExpanding:"toolbarExpanding",toolbarExpanded:"toolbarExpanded",cut:"cut",copy:"copy",paste:"paste",undo:"undo",redo:"redo",workspaceResized:"workspaceResized"},css:{htmlEditor:"ui-widget ui-widget-content ui-corner-all ui-ightmleditor ui-helper-clearfix",htmlEditorContent:"ui-ightmleditor-content",toolbarsContainer:"ui-igtoolbars-holder",pathFinder:"ui-igPathFinder",workspaceIframe:"ui-widget-content"},NODE:new n.ig.XmlNodeType,_toolbarsActiveState:{},_isDirty:!1,_initDefaultToolbars:function(){this.defaultToolbars=[{name:"textToolbar",displayName:this._getLocaleValue("textToolbar"),isExpanded:!0,language:this.options.language,allowCollapsing:!0,collapseButtonIcon:"ui-igbutton-collapse",expandButtonIcon:"ui-igbutton-expand",items:[{name:"Bold",type:"button",scope:null,localeProperties:{"data-localeid":"boldButtonTitle","data-localeattr":"title"},props:{allowToggling:{value:!0},isBold:{value:!1,action:"_isSelectedAction"},boldButtonTooltip:{value:this._getLocaleValue("boldButtonTitle"),action:"_tooltipAction"},boldButtonIcon:{value:"ui-igbutton-bold",action:"_buttonIconAction"}}},{name:"Italic",type:"button",language:this.options.language,localeProperties:{"data-localeid":"italicButtonTitle","data-localeattr":"title"},props:{isItalic:{value:!1,action:"_isSelectedAction"},italicButtonTooltip:{value:this._getLocaleValue("italicButtonTitle"),action:"_tooltipAction"},italicButtonIcon:{value:"ui-igbutton-italic",action:"_buttonIconAction"}}},{name:"Underline",type:"button",language:this.options.language,localeProperties:{"data-localeid":"underlineButtonTitle","data-localeattr":"title"},props:{isUnderline:{value:!1,action:"_isSelectedAction"},underlineButtonTooltip:{value:this._getLocaleValue("underlineButtonTitle"),action:"_tooltipAction"},underlineButtonIcon:{value:"ui-igbutton-underline",action:"_buttonIconAction"}}},{name:"Strikethrough",type:"button",language:this.options.language,localeProperties:{"data-localeid":"strikethroughButtonTitle","data-localeattr":"title"},props:{isStrikethrough:{value:!1,action:"_isSelectedAction"},strikethroughButtonTooltip:{value:this._getLocaleValue("strikethroughButtonTitle"),action:"_tooltipAction"},strikethroughButtonIcon:{value:"ui-igbutton-strikethrough",action:"_buttonIconAction"}}},{name:"fontFamily",type:"combo",language:this.options.language,scope:null,handler:"_fontNamePlg",props:{fontFamilyComboWidth:{value:180,action:"_comboWidthAction"},fontFamilyComboHeight:{value:"",action:"_comboHeightAction"},fontFamilies:{value:this._getFontFamilies(),action:"_comboDataSourceAction"},selectedFontFamily:{value:"Times New Roman",action:"_comboSelectedItem"}}},{type:"combo",name:"fontSize",language:this.options.language,scope:null,handler:"_fontSizePlg",props:{fontSizeComboWidth:{value:75,action:"_comboWidthAction"},fontSizeComboHeight:{value:"",action:"_comboHeightAction"},fontSizes:{value:this._getLocaleValue("fontSizes"),action:"_comboDataSourceAction"},selectedFontSize:{value:"3",action:"_comboSelectedItem"},fontSizeItemsListWidth:{value:100,action:"_comboDropDownListWidth"}}},{type:"combo",name:"formatsList",language:this.options.language,scope:null,handler:"_formatsListPlg",props:{formatsListComboWidth:{value:170,action:"_comboWidthAction"},formatsListComboHeight:{value:"",action:"_comboHeightAction"},formatsList:{value:this._getLocaleValue("formatsList"),action:"_comboDataSourceAction"},selectedFormat:{value:"p",action:"_comboSelectedItem"}}}]},{name:"formattingToolbar",displayName:this._getLocaleValue("formattingToolbar"),isExpanded:!0,language:this.options.language,allowCollapsing:!0,collapseButtonIcon:"ui-igbutton-collapse",expandButtonIcon:"ui-igbutton-expand",items:[{name:"justifyleft",type:"button",localeProperties:{"data-localeid":"alignTextLeftButtonTitle","data-localeattr":"title"},props:{isJustifyLeft:{value:!0,action:"_isSelectedAction"},justifyLeftButtonTooltip:{value:this._getLocaleValue("alignTextLeftButtonTitle"),action:"_tooltipAction"},justifyLeftButtonIcon:{value:"ui-igbutton-justifyleft",action:"_buttonIconAction"}}},{name:"justifycenter",type:"button",localeProperties:{"data-localeid":"alignTextCenterButtonTitle","data-localeattr":"title"},props:{isJustifyCenter:{value:!1,action:"_isSelectedAction"},justifyCenterButtonTooltip:{value:this._getLocaleValue("alignTextCenterButtonTitle"),action:"_tooltipAction"},justifyCenterButtonIcon:{value:"ui-igbutton-justifycenter",action:"_buttonIconAction"}}},{name:"justifyright",type:"button",localeProperties:{"data-localeid":"alignTextRightButtonTitle","data-localeattr":"title"},props:{isJustifyRight:{value:!1,action:"_isSelectedAction"},justifyRightButtonTooltip:{value:this._getLocaleValue("alignTextRightButtonTitle"),action:"_tooltipAction"},justifyRightButtonIcon:{value:"ui-igbutton-justifyright",action:"_buttonIconAction"}}},{name:"justifyfull",type:"button",localeProperties:{"data-localeid":"justifyButtonTitle","data-localeattr":"title"},props:{isJustifyFull:{value:!1,action:"_isSelectedAction"},justifyFullButtonTooltip:{value:this._getLocaleValue("justifyButtonTitle"),action:"_tooltipAction"},justifyFullButtonIcon:{value:"ui-igbutton-justifyfull",action:"_buttonIconAction"}}},{name:"InsertUnorderedList",type:"button",localeProperties:{"data-localeid":"bulletsButtonTitle","data-localeattr":"title"},props:{isUnorderedList:{value:!1,action:"_isSelectedAction"},insertUnorderedListTooltip:{value:this._getLocaleValue("bulletsButtonTitle"),action:"_tooltipAction"},insertUnorderedListButtonIcon:{value:"ui-igbutton-unorderedlist",action:"_buttonIconAction"}}},{name:"InsertOrderedList",type:"button",localeProperties:{"data-localeid":"numberingButtonTitle","data-localeattr":"title"},props:{isOrderedList:{value:!1,action:"_isSelectedAction"},insertOrderedListTooltip:{value:this._getLocaleValue("numberingButtonTitle"),action:"_tooltipAction"},insertOrderedListButtonIcon:{value:"ui-igbutton-orderedlist",action:"_buttonIconAction"}}},{name:"outdent",type:"button",localeProperties:{"data-localeid":"decreaseIndentButtonTitle","data-localeattr":"title"},props:{outdentButtonTooltip:{value:this._getLocaleValue("decreaseIndentButtonTitle"),action:"_tooltipAction"},outdentButtonIcon:{value:"ui-igbutton-removeindent",action:"_buttonIconAction"}}},{name:"indent",type:"button",localeProperties:{"data-localeid":"increaseIndentButtonTitle","data-localeattr":"title"},props:{indentTooltip:{value:this._getLocaleValue("increaseIndentButtonTitle"),action:"_tooltipAction"},indentButtonIcon:{value:"ui-igbutton-indent",action:"_buttonIconAction"}}},{name:"textColor",type:"splitButtonColor",handler:"_fontColorPlg",localeProperties:{"data-localeid":"fontColorButtonTitle","data-localeattr":"title",title:this._getLocaleValue("fontColorButtonTitle")},props:{items:{value:[{name:"textColor",iconClass:"ui-igbutton-forecolor"}]},defaultItemName:{value:"textColor"},selectedTextColor:{value:"red",action:"_spltButtonColorAction"}}},{name:"backgroundTextColor",type:"splitButtonColor",handler:"_fontBackgroundColorPlg",localeProperties:{"data-localeid":"textHighlightButtonTitle","data-localeattr":"title",title:this._getLocaleValue("textHighlightButtonTitle")},props:{items:{value:[{name:"backgroundTextColor",iconClass:"ui-igbutton-backcolor"}]},defaultItemName:{value:"backgroundTextColor"},selectedTextBackgroundColor:{value:"",action:"_spltButtonColorAction"}}}]},{name:"insertObjectToolbar",displayName:this._getLocaleValue("insertObjectToolbar"),isExpanded:!0,language:this.options.language,allowCollapsing:!0,collapseButtonIcon:"ui-igbutton-collapse",expandButtonIcon:"ui-igbutton-expand",items:[{name:"image",type:"button",localeProperties:{"data-localeid":"insertPictureButtonTitle","data-localeattr":"title"},handler:"_insertImageDialogPlg",props:{isImage:{value:!1,action:"_isSelectedAction"},imageButtonTooltip:{value:this._getLocaleValue("insertPictureButtonTitle"),action:"_tooltipAction"},imageButtonIcon:{value:"ui-igbutton-addimage",action:"_buttonIconAction"}}},{name:"link",type:"button",handler:"_insertLinkPlg",localeProperties:{"data-localeid":"insertLinkButtonTitle","data-localeattr":"title"},props:{isLink:{value:!1,action:"_isSelectedAction"},linkButtonTooltip:{value:this._getLocaleValue("insertLinkButtonTitle"),action:"_tooltipAction"},linkButtonIcon:{value:"ui-igbutton-addlink",action:"_buttonIconAction"}}},{name:"table",type:"button",handler:"_insertTablePlg",localeProperties:{"data-localeid":"insertTableButtonTitle","data-localeattr":"title"},props:{isTable:{value:!1,action:"_isSelectedAction"},tableButtonTooltip:{value:this._getLocaleValue("insertTableButtonTitle"),action:"_tooltipAction"},tableButtonIcon:{value:"ui-igbutton-table",action:"_buttonIconAction"}}},{name:"addRow",type:"button",handler:"_addTableRowPlg",localeProperties:{"data-localeid":"addRowButtonTitle","data-localeattr":"title"},props:{allowToggling:{value:!1},isAddRow:{value:!1,action:"_isSelectedAction"},addRowButtonTooltip:{value:this._getLocaleValue("addRowButtonTitle"),action:"_tooltipAction"},addRowButtonIcon:{value:"ui-igbutton-addrow",action:"_buttonIconAction"}}},{name:"addColumn",type:"button",handler:"_addTableColumnPlg",localeProperties:{"data-localeid":"addColumnButtonTitle","data-localeattr":"title"},props:{allowToggling:{value:!1},isAddColumn:{value:!1,action:"_isSelectedAction"},addColumnButtonTooltip:{value:this._getLocaleValue("addColumnButtonTitle"),action:"_tooltipAction"},addColumnButtonIcon:{value:"ui-igbutton-addcolumn",action:"_buttonIconAction"}}},{name:"removeRow",type:"button",handler:"_removeTableRowPlg",localeProperties:{"data-localeid":"removeRowButtonTitle","data-localeattr":"title"},props:{allowToggling:{value:!1},isRemoveRow:{value:!1,action:"_isSelectedAction"},removeRowButtonTooltip:{value:this._getLocaleValue("removeRowButtonTitle"),action:"_tooltipAction"},removeRowButtonIcon:{value:"ui-igbutton-removerow",action:"_buttonIconAction"}}},{name:"removeColumn",type:"button",handler:"_removeTableColumnPlg",localeProperties:{"data-localeid":"removeColumnButtonTitle","data-localeattr":"title"},props:{allowToggling:{value:!1},isRemoveColumn:{value:!1,action:"_isSelectedAction"},removeColumnButtonTooltip:{value:this._getLocaleValue("removeColumnButtonTitle"),action:"_tooltipAction"},removeColumnButtonIcon:{value:"ui-igbutton-removecolumn",action:"_buttonIconAction"}}}]},{name:"copyPasteToolbar",displayName:this._getLocaleValue("copyPasteToolbar"),isExpanded:!0,language:this.options.language,allowCollapsing:!0,collapseButtonIcon:"ui-igbutton-collapse",expandButtonIcon:"ui-igbutton-expand",items:[{name:"copy",type:"button",scope:null,localeProperties:{"data-localeid":"copyButtonTitle","data-localeattr":"title"},props:{isCopy:{value:!1,action:"_isSelectedAction"},copyButtonTooltip:{value:this._getLocaleValue("copyButtonTitle"),action:"_tooltipAction"},copyButtonIcon:{value:"ui-igbutton-copy",action:"_buttonIconAction"}}},{name:"cut",type:"button",scope:null,localeProperties:{"data-localeid":"cutButtonTitle","data-localeattr":"title"},props:{isCut:{value:!1,action:"_isSelectedAction"},cutButtonTooltip:{value:this._getLocaleValue("cutButtonTitle"),action:"_tooltipAction"},cutButtonIcon:{value:"ui-igbutton-cut",action:"_buttonIconAction"}}},{name:"paste",type:"button",scope:null,localeProperties:{"data-localeid":"pasteButtonTitle","data-localeattr":"title"},props:{isPaste:{value:!1,action:"_isSelectedAction"},pasteButtonTooltip:{value:this._getLocaleValue("pasteButtonTitle"),action:"_tooltipAction"},pasteButtonIcon:{value:"ui-igbutton-paste",action:"_buttonIconAction"}}},{name:"undo",type:"button",scope:null,localeProperties:{"data-localeid":"undoButtonTitle","data-localeattr":"title"},props:{allowToggling:{value:!1},isUndo:{value:!1,action:"_isSelectedAction"},undoButtonTooltip:{value:this._getLocaleValue("undoButtonTitle"),action:"_tooltipAction"},undoButtonIcon:{value:"ui-igbutton-undo",action:"_buttonIconAction"}}},{name:"redo",type:"button",scope:null,localeProperties:{"data-localeid":"redoButtonTitle","data-localeattr":"title"},props:{allowToggling:{value:!1},isRedo:{value:!1,action:"_isSelectedAction"},redoButtonTooltip:{value:this._getLocaleValue("redoButtonTitle"),action:"_tooltipAction"},redoButtonIcon:{value:"ui-igbutton-redo",action:"_buttonIconAction"}}}]}]},_createWidget:function(){this._superApply(arguments)},_id:function(n){return this.element[0].id+n},widget:function(){return this.element},_render:function(){var t="",i=this.options.inputName;this.element.addClass(this.css.htmlEditor),t+='<div id="'+this._id("_toolbars")+'" class="'+this.css.toolbarsContainer+'"><\/div>',t+='<div id="'+this._id("_content")+'" class="'+this.css.htmlEditorContent+'">',t+='<iframe class="'+this.css.workspaceIframe+'" id="'+this._id("_editor")+'"><\/iframe>',t+='<textarea name="'+i+'" id="'+this._id("_source")+'"><\/textarea>',t+="<\/div>",n(t).appendTo(this.element),n("#"+this._id("_source")).hide(),this.element.height(this.options.height),this.element.width(this.options.width)},_createWorkspace:function(t){var i='<!DOCTYPE html><html><head><title>igHtmlEditor<\/title><\/head><body contentEditable="true" spellcheck="false" style="-webkit-tap-highlight-color: rgba(255, 255, 255, 0);"><p>',r,u;document.all||(i+="<br />"),i+="<\/p><\/body><\/html>",this.workspace=this.element.find("#"+this._id("_editor"))[0],this.workspace.contentWindow.document.open("text/html","replace"),this.workspace.contentWindow.document.write(i),this.workspace.contentWindow.document.close(),t&&t.length>0&&n(this.workspace).contents().find("body").html(t),n.ig.util.isWebKit&&(this.workspace.contentWindow.document.body.contentEditable=!0),document.all||(r=!1,u=!0,this.workspace.contentWindow.document.execCommand("styleWithCSS",r,u))},_getToolbar:function(n){return isNaN(parseInt(n,10))?typeof n=="string"?this._toolbars.find("#"+this._id("_toolbars_"+n)):void 0:this._toolbars.eq(n)},_getToolbarSettings:function(n){for(var i,r,t=0;t<this._allToolbars.length&&!r;t++)i=this._allToolbars[t],i.name===n&&(r=i);return r},_getFirefoxVersion:function(){if(n.ig.util.isFF)return parseInt(window.navigator.userAgent.match(/\bFirefox\/[ 0-9\. ]+\b/)[0].split("/").reverse()[0],10)},_create:function(){this._allToolbars=[],this._initDefaultToolbars();var n=this._trigger(this.events.rendering,null,{owner:this}),t=this.options.value||this.element.html();this.element.empty(),n&&(this._render(),this._initToolbars(),this._createWorkspace(t),this._domPathToolbar(),this.resizeWorkspace(),this._trigger(this.events.rendered,null,{owner:this}))},_resizeWorkspaceHandler:function(){var n={owner:this};return this.resizeWorkspace(),this._trigger(this.events.workspaceResized,null,n)},_init:function(){this._comboHeight=24,this._bindToToolbarEvents(),this._bindWorkspaceEvents(),this.sourceWindow=this.element.find("#"+this._id("_source")),this._initFontsCombos(),this._initFormatsListCombo(),this._initFontSizeCombo(),this._analyser=new n.ig.ToolbarHelper(this.workspace.contentWindow,this._toolbars.children());var t=this;this._onSelectionChange(function(){t._initialWorkspaceFormatting()})},_initFontsCombos:function(){var n=this._getToolbar("textToolbar"),t=n.igToolbar("getItem","fontFamily").addClass("ui-combo-fontfamily");t.igCombo("option",{language:this.options.language,itemTemplate:'<span style="font-family: ${value}" unselectable="on">${text}<\/span>',height:this._comboHeight,dropDownOrientation:"bottom"})},_initFormatsListCombo:function(){var n=this._getToolbar("textToolbar").igToolbar("getItem","formatsList");n.igCombo("option",{language:this.options.language,itemTemplate:'<${text} unselectable="on">${value}<\/${text}>',height:this._comboHeight,dropDownOrientation:"bottom"})},_initFontSizeCombo:function(){var n=this._getToolbar("textToolbar").igToolbar("getItem","fontSize");n.igCombo("option",{language:this.options.language,itemTemplate:'<span unselectable="on">${value}<\/span>',height:this._comboHeight,dropDownOrientation:"bottom"})},_getFontFamilies:function(){return this._getLocaleValue("fontNames")[/^win/gi.test(navigator.platform)?"win":"mac"]},_setOption:function(t,i){var r=this;t!==undefined&&i!==undefined&&(t==="toolbarSettings"?n.each(i,function(t,i){n.each(i,function(n,i){n!=="name"&&r._getToolbar(r._allToolbars[t].name).igToolbar("option",n,i)})}):this._toolbarsActiveState[t]?this._showToolbar(this._toolbarsActiveState[t].name,i):t==="width"?this.element.width(i):t==="height"?(this.element.height(i),this.resizeWorkspace()):t==="value"&&this.setContent(i,"text"),this._super(t,i))},_changeLocaleForToolbars:function(){this._allToolbars.forEach(function(n){this._getToolbar(n.name).igToolbar("option",{displayName:this._getLocaleValue(n.name),language:this.options.language})},this)},changeLocale:function(){this._superApply(arguments),this._changeLocaleForToolbars(),this._insertLinkDialog&&(this._insertLinkDialog.remove(),this._insertLinkDialog=null),this._imageDialog&&(this._imageDialog.remove(),this._imageDialog=null),this._changeLocaleForFontFamilies(),this._changeLocaleForFontSizes(),this._changeLocaleForFormatsList()},_changeLocaleForFontFamilies:function(){var t,i=this._getToolbar("textToolbar").igToolbar("getItem","fontFamily"),n=i.data("igCombo");n&&(t=n.value(),n._setOption("dataSource",this._getFontFamilies()),n._setOption("language",this.options.language),n.value(t))},_changeLocaleForFontSizes:function(){var t,i=this._getToolbar("textToolbar").igToolbar("getItem","fontSize"),n=i.data("igCombo");n&&(t=n.value(),n._setOption("dataSource",this._getLocaleValue("fontSizes")),n._setOption("language",this.options.language),n.value(t))},_changeLocaleForFormatsList:function(){var t,i=this._getToolbar("textToolbar").igToolbar("getItem","formatsList"),n=i.data("igCombo");n&&(t=n.value(),n._setOption("dataSource",this._getLocaleValue("formatsList")),n._setOption("language",this.options.language),n.value(t))},_showToolbar:function(n,t){t?this._getToolbar(n).removeClass("hidden").show():this._getToolbar(n).addClass("hidden").hide()},_initToolbars:function(){this._allToolbars=n.extend(!0,[],this.defaultToolbars.concat(this.options.customToolbars)),this._toolbars=this.element.find("#"+this._id("_toolbars")),this._mergeToolbarSettings(),this._createToolbars()},_mergeToolbarSettings:function(){for(var h=this.options.toolbarSettings,t,i,f,e,c,o,s,n,r,u=0;u<h.length;u++)if(i=h[u],f=i.name,typeof f=="string"&&(t=this._getToolbarSettings(f),t))for(n in i)if(n!=="name")if(s=!1,t.hasOwnProperty(n))t[n]=i[n];else for(e=t.items,r=0;r<e.length&&!s;r++)c=e[r],o=c.props,o.hasOwnProperty(n)&&(o[n].value=i[n],s=!0)},_createToolbars:function(){var e=this.options,f,t,i,r,u;for(this._toolbars=this.element.find("#"+this._id("_toolbars")),u=0;u<this._allToolbars.length;u++)f=this._allToolbars[u],t=f.name,i=n.camelCase("show-"+t),r=!0,n("<span>").attr("id",this._id("_toolbars")+"_"+t).appendTo(this._toolbars).igToolbar(f),e[i]!==undefined&&(r=e[i]),this._toolbarsActiveState[i]={name:t,value:r},this._showToolbar(t,r);n.ig.util.isIE&&this._toolbars.find("*").attr("unselectable","on")},_initialWorkspaceFormatting:function(){for(var i,n,t,r,e=this.options.toolbarSettings,o={isBold:"bold",isItalic:"italic",isUnderline:"underline",isStrikethrough:"strikethrough",isJustifyLeft:"justifyleft",isJustifyRight:"justifyright",isJustifyCenter:"justifycenter",isJustifyFull:"justifyfull",isUnorderedList:"InsertUnorderedList",isOrderedList:"InsertOrderedList"},f={selectedFontFamily:"fontName",selectedFontSize:"fontSize",selectedFormat:"formatBlock",selectedTextColor:"forecolor",selectedTextBackgroundColor:"backcolor"},u=0;u<e.length;u++){i=e[u];for(n in i)i.hasOwnProperty(n)&&(o.hasOwnProperty(n)?t=o[n]:f.hasOwnProperty(n)?(t=f[n],r=i[n]):t=null,t&&(t===f.selectedFormat&&(r="<"+r+">"),this._initialSelectionSetup(),this._execCommand(t,r),this._emptyAndCollapseSelection()))}},_initialSelectionSetup:function(){var t=n(this.contentDocument()).find(":not(br)").last(),i=this._selectionWrapperSaved._getSelection(),r=this._selectionWrapperSaved._getRange();t.html("&nbsp;"),r.selectNode(t[0]),i.removeAllRanges(),i.addRange(r)},_emptyAndCollapseSelection:function(){var t=n(this.contentDocument()).find(":not(br)").last(),r=this._selectionWrapperSaved._getSelection(),i=this._selectionWrapperSaved._getRange();t.html("<br>"),t.length>0&&(i.setStart(t[0],0),i.setEnd(t[0],0),i.collapse(!0),r.removeAllRanges(),r.addRange(i))},_execCommand:function(t,i){this._selectionWrapperSaved.focus(),n.ig.util.isIE&&this._selectionWrapperSaved._updateSelection(this._selectionWrapperSaved._getRange()),this._selectionWrapperSaved.execCommand(t.toLowerCase(),i),this._onSelectionChange()},_hideDialogs:function(){this.element.find(":ui-igLinkPropertiesDialog").igLinkPropertiesDialog("hide"),this.element.find(":ui-igTablePropertiesDialog").igTablePropertiesDialog("hide"),this.element.find(":ui-igImagePropertiesDialog").igImagePropertiesDialog("hide")},_bindToToolbarEvents:function(){var t=this,r="igtoolbartoolbarbuttonclick igtoolbartoolbarcomboselected igtoolbartoolbarcustomitemclick igtoolbarcollapsing igtoolbarcollapsed igtoolbarexpanding igtoolbarexpanded",u=".ui-splitbutton-arrow",i={igtoolbarcollapsing:this.events.toolbarCollapsing,igtoolbarcollapsed:this.events.toolbarCollapsed,igtoolbarexpanding:this.events.toolbarExpanding,igtoolbarexpanded:this.events.toolbarExpanded};this._toolbars.delegate(":ui-igToolbar",r,function(r,f){var o=f.scope,e=f.handler,h=n(r.originalEvent.currentTarget),s;if(delete f.scope,delete f.handler,t._hideDialogs(),h.is(u)){r.stopImmediatePropagation();return}if(i.hasOwnProperty(r.type)){t.resizeWorkspace(),t._trigger(i[r.type],r,f);return}f.selectedItem=t._selectionWrapperSaved&&t._selectionWrapperSaved.getSelectedItem(),s=t._trigger(t.events.actionExecuting,r,{owner:t,toolbar:f.toolbarName,actionName:f.name}),s&&(e||o?e&&!o?t[e](t.workspace.contentWindow.document,f):e&&o&&e.call(f.scope,t.workspace.contentWindow.document,f):t._execCommand(f.name,f.value),t._trigger(t.events.actionExecuted,r,{owner:t,toolbar:f.toolbarName,actionName:f.name}),r.stopImmediatePropagation())})},_bindWorkspaceEvents:function(){var t=this,r=n(this.contentDocument()),u=n(this.contentEditable()),i={webKitIE:{CTRLZ:90,CTRLY:89},moz:{CTRLZ:90,CTRLY:89}};r.find("html").bind("click",function(i){var r=n(i.target);r.is("html")&&t.workspace.contentWindow.document.body.focus(),t._isDirty=!0,t._hideDialogs(),i.stopPropagation()}).bind("mouseup",function(){t._onSelectionChange()}),r.bind("keydown",function(n){var r,f;t._isDirty=!0,n.ctrlKey&&(n.which===i.webKitIE.CTRLZ||n.which===i.moz.CTRLZ)&&t._trigger(t.events.undo,n,{owner:t}),n.ctrlKey&&(n.which===i.webKitIE.CTRLY||n.which===i.moz.CTRLY)&&t._trigger(t.events.redo,n,{owner:t}),(n.keyCode===8||n.keyCode===46)&&(r=u.children(),f=r.first(),r.length===1&&f.html()==="<br>"&&n.preventDefault()),t._onSelectionChange()}),r.bind("cut copy paste",function(n){t._trigger(n.type,n,{owner:t})}),this.element.bind("ightmleditoractionexecuted",function(n,i){(i.actionName.toLowerCase()===t.events.undo||i.actionName.toLowerCase()===t.events.redo)&&(t._trigger(i.actionName.toLowerCase(),n,{owner:t}),n.stopImmediatePropagation())}),n(document).click(function(i){var r=n(i.target).parents();r.is(".ui-igpopover")||r.is(".ui-igcombo-list")||t._hideDialogs()});n(window).on("resize",n.proxy(this._resizeWorkspaceHandler,this))},_viewSource:function(){var t=n(this.workspace),i=t.contents().find("body");t.is(":visible")?(i.attr("contentEditable",!1),this.sourceWindow.val(n.trim(i.html())),t.hide(),this.sourceWindow.show()):(i.attr("contentEditable",!0),i.html(n.trim(this.sourceWindow.val())),t.show(),this.sourceWindow.hide(),this.sourceWindow.val(encodeURIComponent(this.sourceWindow.val())))},_viewSourcePlg:function(){this._viewSource()},_insertImageDialogPlg:function(t,i){var r=n("<img>",this.workspace.contentWindow.document),u=this;i.selectedItem.is("img")&&(r=i.selectedItem),this._imageDialog=n("#"+this._id("_imageDialog")),this._imageDialog.length?this._imageDialog.igImagePropertiesDialog("option","isHidden")?this._imageDialog.igImagePropertiesDialog("show",r):this._imageDialog.igImagePropertiesDialog("hide",r):this._imageDialog=n('<div id="'+this._id("_imageDialog")+'"><\/div>').appendTo(this.element).igImagePropertiesDialog({item:r,target:i.toolbarItem,language:this.options.language,locale:this.options.locale,applyform:function(n,t){u._selectionWrapperSaved.focus(),u._selectionWrapperSaved.replaceNode(t.image)}})},_insertLinkPlg:function(t,i){var f=this,u=this._selectionWrapperSaved.getSelectedItem(),e=u[0].nodeType,r=n("<a><\/a>",this.workspace.contentWindow.document);u.parent().is("a")?r=u.parent():(e===this.NODE._Text||e===this.NODE._Element)&&r.html(this._selectionWrapperSaved.getSelectionAsText()),this._insertLinkDialog?this._insertLinkDialog.igLinkPropertiesDialog("option","isHidden")?this._insertLinkDialog.igLinkPropertiesDialog("show",r):this._insertLinkDialog.igLinkPropertiesDialog("hide",r):this._insertLinkDialog=n('<div id="'+this._id("_linkDialog")+'"><\/div>').appendTo(this.element).igLinkPropertiesDialog({item:r,target:i.toolbarItem,language:this.options.language,locale:this.options.locale,applyform:function(n,t){f._selectionWrapperSaved.focus(),f._selectionWrapperSaved.replaceNode(t.anchor)}})},_fontNamePlg:function(n,t){this._execCommand("fontname",t.value)},_fontSizePlg:function(n,t){this._execCommand("fontsize",t.value)},_formatsListPlg:function(n,t){this._execCommand("formatBlock","<"+t.value+">")},_insertTablePlg:function(t,i){var r=n("<table><\/table>",this.workspace.contentWindow.document),u=this;if(i.selectedItem.is("table")&&(r=i.selectedItem),!this.insertTableDialog){this.insertTableDialog=n("<div id='"+this._id("_tableDialog")+"'<\/div>").appendTo(this.element).igTablePropertiesDialog({item:r,target:i.toolbarItem,applyform:function(n,t){u._selectionWrapperSaved.insertTable(t.table)}});return}if(this.insertTableDialog.igTablePropertiesDialog("option","isHidden")){this.insertTableDialog.igTablePropertiesDialog("show",r);return}this.insertTableDialog.igTablePropertiesDialog("option","isHidden")||this.insertTableDialog.igTablePropertiesDialog("hide")},_addTableRowPlg:function(){var n=this._selectionWrapperSaved.getSelectedItem();n.is("table")?n.tableManipulator("addRow"):n.is("td")&&n.parents("table").first().tableManipulator("addRow",n.parent().index())},_removeTableRowPlg:function(){var n=this._selectionWrapperSaved.getSelectedItem();n.is("table")?n.tableManipulator("removeRow"):n.is("td")&&n.parents("table").first().tableManipulator("removeRow",n.parent().index())},_addTableColumnPlg:function(){var n=this._selectionWrapperSaved.getSelectedItem();n.is("table")?n.tableManipulator("addColumn"):n.is("td")&&n.parents("table").first().tableManipulator("addColumn",n.index())},_removeTableColumnPlg:function(){var n=this._selectionWrapperSaved.getSelectedItem();n.is("table")?n.tableManipulator("removeColumn"):n.is("td")&&n.parents("table").first().tableManipulator("removeColumn",n.index())},_fontColorPlg:function(t,i){/^rgb/.test(i.value)&&(i.value=n.ig.util.rgbToHex(i.value)),this._execCommand("forecolor",i.value)},_fontBackgroundColorPlg:function(n,t){var i=this._getFirefoxVersion()?"hilitecolor":"backcolor";this._execCommand(i,t.value)},_domPathToolbar:function(){var t=this,i="#"+this._id("_toolbars_insertObjectToolbar_item_"),r=i+"addRow",u=i+"addColumn",f=i+"removeRow",e=i+"removeColumn",o=r+", "+u+", "+f+", "+e;this._viewSourceBtn=n('<div class="ui-igbutton-viewsource"><\/div>').appendTo(this.element).igButton({labelText:"&nbsp;",title:this._getLocaleValue("viewSourceButtonTitle"),icons:{primary:"ui-igbutton-viewsource-icon"},onlyIcons:!0,click:function(){t._viewSourcePlg(),t._domPathToolbar.igPathFinder("option","disabled")?(t._domPathToolbar.igPathFinder("option","disabled",!1),t._toolbars.find(":ui-igToolbarButton").not(o).igToolbarButton("option","disabled",!1).end().end().find(":ui-igCombo").igCombo("enable"),t._analyser._disableUnsupportedItems(),t._onSelectionChange()):(t._domPathToolbar.igPathFinder("option","disabled",!0),t._toolbars.find(":ui-igToolbarButton").igToolbarButton("option","disabled",!0).end().find(":ui-igCombo").igCombo("disable"))}}).attr({"data-localeid":"viewSourceButtonTitle","data-localeattr":"title"}),this._domPathToolbar=n('<div id="'+this._id("_domPathToolbar")+'"><\/div>').appendTo(this.element).igPathFinder({click:function(n,i){var r=t._selectionWrapperSaved;(t.workspace.contentWindow.document.body.focus(),t._domPathToolbar.igPathFinder("option","disabled"))||(n.preventDefault(),i.item.is("html")?r.select(i.item.children("body")):i.item.is("body")?r.select(i.item):r.select(i.item))}})},_onSelectionChange:function(t){var i=this,r,u=n(this.workspace).contents().find("body"),f=t||function(){var t=this.getSelectedItem();t&&(t.is("p")||t.is(":header"))&&t.children("span").length>0?t=t.children("span").first():t&&(t.is("p")||t.is(":header"))&&t.children("font").length>0&&(t=t.children("font").first()),t[0].nodeType===i.NODE._Text&&(t=t.parent()),i._analyser.analyse(t),t.length&&i._domPathToolbar.igPathFinder("option","items",n.merge(t,t.parents()))};r=new n.ig.SelectionWrapper(this.workspace.contentWindow,function(){i._selectionWrapperSaved=this,i.sourceWindow.val(encodeURIComponent(u.html())),f.call(this)})},_destroyPopovers:function(){var t=this.element[0];n(':data("igPopover")').each(function(){n.contains(t,this)&&n(this).igPopover("destroy")})},resizeWorkspace:function(){var i,t=this.element.height(),u=n("#"+this._id("_editor")),r=n("#"+this._id("_toolbars"));r.is(":visible")?t-=r.outerHeight(!0):(i=r.clone(),i.css({display:"initial",position:"absolute",top:"-10000px",width:this.element.width()}),n("body").append(i),t-=i.height()+r.outerHeight(!0),i.remove()),t-=n(".ui-igbutton-viewsource").outerHeight(!0),t-=u.outerHeight(!0)-u.height(),u.height(t),n("#"+this._id("_source")).height(t)},getContent:function(t){return t==="text"?n(this.workspace).contents().find("body").text():t==="html"?n(this.workspace).contents().find("body").html():void 0},setContent:function(t,i){i==="text"?n(this.workspace).contents().find("body").text(t):i==="html"&&n(this.workspace).contents().find("body").html(t),this.sourceWindow.val(encodeURIComponent(t))},destroy:function(){this._superApply(arguments),n(this.workspace.contentWindow).undelegate(),this._destroyPopovers(),this._viewSourceBtn.igButton("destroy"),this.element.removeClass(this.css.htmlEditor).find("#"+this._id("_content")).removeClass(this.css.htmlEditorContent).end().find("#"+this._id("_domPathToolbar")).removeClass(this.css.pathFinder).end().find("#"+this._id("_toolbars")).removeClass(this.css.toolbarsContainer).end().find(":ui-igToolbar").igToolbar("destroy").end().empty()},executeAction:function(n,t){this._selectionWrapperSaved.execCommand(n.toLowerCase(),t),this._onSelectionChange()},isDirty:function(){return this._isDirty},contentWindow:function(){return this.workspace.contentWindow},contentDocument:function(){return this.contentWindow().document},contentEditable:function(){return this.contentDocument().body},selection:function(){return this._selectionWrapperSaved._getSelection()},range:function(){return this._selectionWrapperSaved._getRange()},insertAtCaret:function(t){var i,r;if(n.ig.util.isDomElement(t)&&(t=n(t)),t instanceof n)t=n("<div />").append(t).html();else if(typeof t!="string")return;i=n(t,this._selectionWrapperSaved._document)[0],r=this.range(),r.insertNode(i)}}),n.widget("ui.igPathFinder",{options:{items:null},css:{button:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-igbutton ui-widget-content",buttonLabel:"ui-button-text",stateDefault:"ui-state-default",firstButton:"ui-first-button",overflowMarker:"ui-igpathfinder-overflowMarker"},_create:function(){var i=this,t=this.options;this._addStyles();this.element.attr("disabled",t.disabled).attr("aria-disabled",t.disabled).on("mouseover","div",function(){t.disabled||n(this).addClass("ui-state-hover")}).on("mouseleave","div",function(){t.disabled||n(this).removeClass("ui-state-hover")}).on("click","div",function(r){t.disabled||(n(this).siblings(".ui-state-active").removeClass("ui-state-active"),n(this).addClass("ui-state-active"),i._trigger("click",r,{item:i.options.__currentParents.eq(i.options.__currentButtonList.index(this))}))})},_addStyles:function(){this.element.addClass("ui-igPathFinder")},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"items":this._updateToolbar();break;case"disabled":this.element.toggleClass("ui-state-disabled",!!i).attr("aria-disabled",i)}},_addOverflowMarker:function(){var t=n("<div>...<\/div>").addClass(this.css.overflowMarker).addClass(this.css.stateDefault);t.prependTo(this.element)},_updateToolbar:function(){var t,u,f,i,e=this,r=this.options,o=[],s="",h=n(".ui-igbutton-viewsource"),c=20,l=h.parent().width()-h.outerWidth(!0)-c,a=!1;if(r.items.length){for(r.items.each(function(n,t){s='<div aria-disabled="false" style="z-index:'+n+'" class="'+e.css.button+'"><span class="'+e.css.buttonLabel+'">'+t.nodeName+"<\/span><\/div>",o.push(s)}),this.element.empty(),u=n(r.items.toArray().reverse()),i=n(o.reverse().join("")),t=i.length-1;t>=0&&!a;t--)i.removeClass(this.css.firstButton),f=i.eq(t).addClass(this.css.firstButton).prependTo(this.element),t===0&&(l+=c),this.element.outerWidth(!0)>l&&(f.remove(),i.eq(t+1).addClass(this.css.firstButton),this._addOverflowMarker(),a=!0);this.options.__currentButtonList=i,this.options.__currentParents=u}}}),n.widget("ui.igHtmlEditorPopover",n.ui.igWidget,{localeWidgetName:"HtmlEditor",options:{item:null,target:null,isHidden:!0},css:{igHtmlEditorPropertiesDialog:"ui-ightmleditor-dialog",igHtmlEditorPropertiesDialogContainer:"ui-ightmleditor-dialog-container"},events:{apply:"applyform",cancel:"cancelform",show:"show",hide:"hide"},_id:function(n){return this.element[0].id+n},_create:function(){this.element.igPopover({closeOnBlur:!1,position:"balanced",direction:"bottom",renderCloseButton:!1,showOn:null,maxWidth:"90%",width:"95%",maxHeight:"300px",minWidth:"160px"}),this.poContent=this.element.igPopover("container"),this._createForm()},_init:function(){this._item=this.options.item,this.poContent.addClass(this.css.igHtmlEditorPropertiesDialog),this.element.addClass(this.css.igHtmlEditorPropertiesDialogContainer),this._attachFormEvents(),this.show(this._item)},_createForm:function(){},_attachFormEvents:function(){},_dataBind:function(){},show:function(n){this._item=n,this._dataBind(n),this.options.isHidden=!1,this.element.igPopover("show",this.options.target),this._trigger(this.events.show)},hide:function(){this.options.isHidden=!0,this.options.target.igToolbarButton("option","isSelected")&&this.options.target.igToolbarButton("toggle"),this.element.igPopover("hide"),this._trigger(this.events.hide)}}),n.widget("ui.igLinkPropertiesDialog",n.ui.igHtmlEditorPopover,{_txtUrl:"",_cbTarget:"",_attachFormEvents:function(){var t=this;this.poContent.find("#"+this._id("_cmbOpenIn")).igCombo({initialSelectedItems:[{index:0}],enableClearButton:!1,width:"100%",mode:"dropdown"}),this.poContent.find("#"+this._id("_btnCancel")).igButton({click:function(){t.hide()}}),this.poContent.find("#"+this._id("_btnApply")).igButton({click:function(n){n.stopImmediatePropagation(),t._item.attr({href:t._txtUrl.val(),target:t._cbTarget.igCombo("value")}).html(t._displayText.val().length>0?t._displayText.val():t._txtUrl.val()),t._trigger(t.events.apply,n,{anchor:t._item}),t.hide()}}),this.poContent.bind("keypress",function(i){i.keyCode===n.ui.keyCode.ESCAPE&&t.hide()}),this.element.bind("igpopovershown",function(){t.poContent.find("#"+t._id("_linkHref")).focus()})},_createForm:function(){var t="";t+='<div><ol class="layoutList"><li><label for="'+this._id("_linkHref")+'" data-localeid="linkNavigateToUrlDialogText">'+this._getLocaleValue("linkNavigateToUrlDialogText")+'<\/label><input autocomplete="off" id="'+this._id("_linkHref")+'" name="href" type="text" value="" /><\/li><li><label for="'+this._id("_linkDisplayText")+'" data-localeid="linkDisplayTextDialogText">'+this._getLocaleValue("linkDisplayTextDialogText")+'<\/label><input autocomplete="off" id="'+this._id("_linkDisplayText")+'" name="href" type="text" value="" /><\/li><li><label for="'+this._id("_cmbOpenIn")+'" data-localeid="linkOpenInDialogText">'+this._getLocaleValue("linkOpenInDialogText")+'<\/label><select id="'+this._id("_cmbOpenIn")+'" name="target"><option value="_blank" data-localeid="linkTargetNewWindowDialogText">'+this._getLocaleValue("linkTargetNewWindowDialogText")+'<\/option><option value="_self" data-localeid="linkTargetSameWindowDialogText">'+this._getLocaleValue("linkTargetSameWindowDialogText")+'<\/option><option value="_parent" data-localeid="linkTargetParentWindowDialogText">'+this._getLocaleValue("linkTargetParentWindowDialogText")+'<\/option><option value="_top" data-localeid="linkTargetTopmostWindowDialogText">'+this._getLocaleValue("linkTargetTopmostWindowDialogText")+'<\/option><\/select><\/li><li style="text-align:right"><button aria-disabled="false" id="'+this._id("_btnApply")+'" name="insertLink" role="button" title="'+this._getLocaleValue("applyButtonTitle")+"\" type=\"button\" data-localeid='applyButtonTitle' data-localeattr='title'>"+this._getLocaleValue("applyButtonTitle")+'<\/button><button aria-disabled="false" id="'+this._id("_btnCancel")+'" role="button" title="'+this._getLocaleValue("cancelButtonTitle")+"\" type=\"button\" data-localeid='cancelButtonTitle' data-localeattr='title'>"+this._getLocaleValue("cancelButtonTitle")+"<\/button><\/li><\/ol><\/div>",n(t).appendTo(this.poContent)},_dataBind:function(n){this._txtUrl=this.poContent.find("#"+this._id("_linkHref")).val(n.attr("href")),this._cbTarget=this.poContent.find("#"+this._id("_cmbOpenIn")).val(n.attr("target")),this._displayText=this.poContent.find("#"+this._id("_linkDisplayText")).val(n.html())}}),n.widget("ui.igTablePropertiesDialog",n.ui.igHtmlEditorPopover,{_init:function(){this.rowsNumField=this.element.find("#"+this._id("_tableRows")),this.columnsNumField=this.element.find("#"+this._id("_tableColumns")),n.ui.igHtmlEditorPopover.prototype._init.apply(this,arguments)},_createForm:function(){var t='<div><ol class="layoutList"><li><\/li><li><div class="ui-igtablepropertiesdialog-cols-rows-num"><input type="hidden" id="'+this._id("_tableRows")+'" name="tableRows" readonly="readonly" value=""><input type="hidden" id="'+this._id("_tableColumns")+'" name="tableColumns" readonly="readonly" value=""><\/div><\/li><\/ol><\/div>';n(t).appendTo(this.poContent),this._sampleTable=n('<table "'+this._id("_tableModel")+'" class="ui-igtablepropertiesdialog-sample-table"><\/table>').tableManipulator({rows:8,columns:6}).appendTo(this.poContent.find(".layoutList li:first"))},_attachFormEvents:function(){var i=this.poContent.find("table"),r=i.find("td").addClass("ui-state-default"),u=i.find("tr"),t=this;i.delegate("td","mouseover",function(i){var s=n(i.target),e=s.parent().index()+1,o=n(this).index()+1,f;for(r.removeClass("ui-state-hover"),f=0;f<e;f++)n(u.get(f)).find("td:lt("+o+")").addClass("ui-state-hover");t.rowsNumField.val(e),t.columnsNumField.val(o)}),i.delegate("td","click",function(i){var r=n(i.target),u=r.parent().index()+1,f=n(this).index()+1;t._item.tableManipulator({rows:u,columns:f,addSpacingChar:!0}),t._trigger(t.events.apply,i,{table:t._item.attr("border",1)}),t.hide()}),i.bind("mouseout",function(){r.removeClass("ui-state-hover"),t.rowsNumField.val(null),t.columnsNumField.val(null)})},_dataBind:function(){this.rowsNumField.val(),this.columnsNumField.val()}}),n.widget("ui.igImagePropertiesDialog",n.ui.igHtmlEditorPopover,{_init:function(){this._imgSrcFld=this.poContent.find("#"+this._id("_imgSrc")),this._imgAltFld=this.poContent.find("#"+this._id("_imgAlt")),n.ui.igHtmlEditorPopover.prototype._init.apply(this,arguments)},_createForm:function(){var n="";n+='<div class="'+this.css.igImagePropertiesDialogContent+'">',n+="   <div>",n+='       <ol class="layoutList">',n+="           <li>",n+='               <label for="'+this._id("_imgSrc")+'" data-localeid="imageUrlDialogText">'+this._getLocaleValue("imageUrlDialogText")+"<\/label>",n+='               <input autocomplete="off" id="'+this._id("_imgSrc")+'" name="src" type="text" value="" />',n+="           <\/li>",n+="           <li>",n+='               <label for="'+this._id("_imgAlt")+'" data-localeid="imageAlternativeTextDialogText">'+this._getLocaleValue("imageAlternativeTextDialogText")+"<\/label>",n+='               <input autocomplete="off" id="'+this._id("_imgAlt")+'" name="altText" type="text" value="" />',n+="           <\/li>",n+='           <li style="text-align:right">',n+='               <button aria-disabled="false" id="'+this._id("_btnApply")+'" name="insertLink" role="button" title="'+this._getLocaleValue("applyButtonTitle")+"\" type=\"button\" data-localeid='applyButtonTitle' data-localeattr='title'>"+this._getLocaleValue("applyButtonTitle")+"<\/button>",n+='               <button aria-disabled="false" id="'+this._id("_btnCancel")+'" role="button" title="'+this._getLocaleValue("cancelButtonTitle")+"\" type=\"button\" data-localeid='cancelButtonTitle' data-localeattr='title'>"+this._getLocaleValue("cancelButtonTitle")+"<\/button>",n+="           <\/li>",n+="       <\/ol>",n+="   <\/div>",n+="<\/div>",this.poContent.append(n)},_attachFormEvents:function(){var n=this;this.poContent.find("#"+this._id("_btnApply")).igButton({click:function(t){n._item.attr({src:n._imgSrcFld.val(),alt:n._imgAltFld.val()}),n._trigger(n.events.apply,t,{image:n._item}),n.hide()}}).end().find("#"+this._id("_btnCancel")).igButton({click:function(t){n._trigger(n.events.cancel,t),n.hide()}})},_dataBind:function(n){this._imgSrcFld.val(n.attr("src")),this._imgAltFld.val(n.attr("alt"))}});var r,f=0,e=0,t={document:document,rows:0,columns:0,addSpacingChar:!1},u="",i={init:function(o){return this.each(function(){var s;(n.extend(t,o),this.nodeName.toLowerCase()==="table")&&(t.addSpacingChar&&(u="&nbsp;"),r=n(this),s=i.getTableRows(),f=t.rows&&t.rows>0?t.rows:s.length,t.columns&&t.columns>0?e=t.columns:s[0]&&(e=s[0].cells.length),r.children().length||i.create())})},create:function(){var s,i,o;for(r.empty(),i=0;i<f;i++)for(s=n("<tr><\/tr>",t.document).appendTo(r),o=0;o<e;o++)n("<td>"+u+"<\/td>",t.document).appendTo(s)},addRow:function(f){var e=n("<tr><\/tr>",t.document),o;for(f!==undefined?e.insertAfter(i.getTableRows().eq(f)):e.appendTo(r),o=0;o<i.getColumnsNum();o++)n("<td>"+u+"<\/td>",t.document).appendTo(e);return e},removeRow:function(n){var r=i.getTableRows(),t;return t=n!==undefined?r.eq(n).remove():r.last().remove()},addColumn:function(r){var f=[];return i.getTableRows().each(function(i,e){var o=n(e),s=o.children("td"),h=n("<td>"+u+"<\/td>",t.document);if(r!==undefined&&s.length)return f.push(h.insertAfter(s.eq(r))[0]),!0;f.push(h.appendTo(o)[0])}),n([]).pushStack(f)},removeColumn:function(t){var r=[];return i.getTableRows().each(function(i,u){var f=n(u);if(t!==undefined)return r.push(f.children("td").eq(t).remove()),!0;r.push(f.children("td:last").remove())}),n([]).pushStack(r)},getRowsNum:function(){return i.getTableRows().length},getColumnsNum:function(){return i.getTableCols().length},getTableRows:function(){return r.children("tbody").children("tr")},getTableCols:function(){return r.children("tbody").children("tr").first().children("td")}};n.fn.tableManipulator=function(t){if(i[t])return(r===undefined||this!==r[0])&&(r=n(this)),i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return i.init.apply(this,arguments);n.error("Method "+t+" does not exist on jQuery.tableManipulator")},n.ig.SelectionWrapper=n.ig.SelectionWrapper||Class.extend({_selection:null,_range:null,_window:null,_document:null,_commands:{insertunorderedlist:{name:"_insertList",browsers:null,args:["insertunorderedlist"]},insertorderedlist:{name:"_insertList",browsers:null,args:["insertorderedlist"]}},_css:{larger:"ui-ightmleditor-larger",smaller:"ui-ightmleditor-smaller"},NODE:new n.ig.XmlNodeType,init:function(t,i){var r=this;this._window=t,this._document=this._window.document,this._selection=this._window.getSelection(),this._window.setTimeout(function(){r._range=r._getSelection().rangeCount===0?r._document.createRange():r._selection.getRangeAt(0),r._selectClosestTextNode(),n.isFunction(i)&&i.call(r)},50)},_getSelection:function(){return this._selection},_getRange:function(){return this._range},_isCommandSupportedByBrowser:function(t){var r,i;if(t!==null&&this._commands.hasOwnProperty(t.toLowerCase())&&this._commands[t].browsers!==null)for(r=this._commands[t].browsers,i=0;i<r.length;i++)if(n.browser&&n.browser.hasOwnProperty(r[i])||!n.browser&&(n.ig.util.isIE||n.ig.util.isSafari||n.ig.util.isChrome))return!0},_findTextNodes:function(t,i){var u=this,r=n(t).contents();r.length>0&&r.each(function(){this.nodeType===3?i.push(this):u._findTextNodes(this,i)})},_findAllTextNodes:function(n){var t=[];return this._findTextNodes(n,t),t},_selectClosestTextNode:function(){var u,r,f,i,t=this._range;(n.ig.util.isIE||n.ig.util.isFF)&&t.collapsed&&t.startOffset>0&&t.startContainer.nodeType===this.NODE._Element&&(u=t.startContainer.childNodes,u.length>0&&(r=u[t.startOffset-1],r.nodeType===3?i=r:(f=this._findAllTextNodes(n(r)),i=f[f.length-1]),i&&!n(i).parent().is("a")&&(t.setStart(i,i.length),t.collapse(!0),this._updateSelection(t))))},getSelectedItem:function(){var t=this._getRange(),i=n(t.commonAncestorContainer);return t.collapsed&&t.endContainer.nodeType===this.NODE._Text?i.parent().is("img")||i.parent().is("td")?i.parent():n(t.startContainer):t.collapsed?n(t.commonAncestorContainer):t.collapsed&&t.endContainer.nodeType===this.NODE._Element?n(t.commonAncestorContainer.childNodes[t.endOffset-t.startOffset]):n(t.commonAncestorContainer)},getSelectionAsText:function(){return this._getRange().text!==undefined?this._getRange().text:this._getRange().toString()},select:function(n){var t=n||this.getSelectedItem();this._range.selectNodeContents(t[0]),this._selection.removeAllRanges(),this._selection.addRange(this._range)},insertElement:function(n){this._getRange().insertNode(n.get(0))},execCommand:function(t,i){var u,o,e,r=this._getRange(),f=this._commands[t]?this[this._commands[t].name]:null,s=this._commands[t]?this._commands[t].args:null,h=this._commands[t]?this._commands[t].browsers:null,c=this._isCommandSupportedByBrowser(t);if(this._selection.isCollapsed&&r.collapsed){if(n(r.startContainer).is("body"))u=n(r.startContainer).find(":first"),u.length||(u=n(r.startContainer)),r.selectNodeContents(u[0]);else if(r.startContainer.nodeType===this.NODE._Document)u=n(r.startContainer.body).find(":first"),u.length||(u=n(r.startContainer.body)),r.selectNodeContents(u[0]);else{if(r.startContainer.nodeType===this.NODE._Text){this._document.execCommand(t,!1,i);return}u=n(r.startContainer)}u&&u.is("br")&&o&&o.is("br")&&(e=n("<p><br /><\/p>",this._document),u.replaceWith(e),r.selectNodeContents(e[0]),this._updateSelection(r))}(n.ig.util.isIE&&n.ig.util.browserVersion>=9||n.ig.util.isOpera)&&this._selection.focusNode.nodeType!==3&&this._updateSelection(r),n.isFunction(f)&&h===null?f.call(this,t,i):n.isFunction(f)&&c?f.apply(this,s):this._document.execCommand(t,!1,i)},_insertList:function(t,i){var r=this,u;this._document.execCommand(t,!1,i),this._document.queryCommandState(t)||this._selection.anchorNode&&this._selection.anchorNode.nodeType===this.NODE._Text&&n(this._selection.focusNode).is("body")&&(u=n(this._selection.focusNode).contents().filter(function(){return n(this).is("br")?(n(this).remove(),!1):this.nodeType===r.NODE._Text}))},_getTextNodesOnlyCallback:function(){return this.nodeType===this.NODE._Text},_wrapPartialString:function(t,i,r,u){var f=[];return f.push(this._document.createTextNode(t.slice(0,i))),f.push(u.text(t.substring(i,r))[0]),f.push(this._document.createTextNode(t.slice(r))),n(f)},_updateSelection:function(n){this._selection.removeAllRanges(),this._selection.addRange(n)},replaceNode:function(n){var t=this._getRange(),i=this.getSelectedItem();i.is(n)||(t.startOffset!==t.endOffset&&t.deleteContents(),t.insertNode===undefined||i.parent().is("a")?t.pasteHTML!==undefined&&t.pasteHTML(n[0].outerHTML):t.insertNode(n[0]))},insertTable:function(t){var r,u,i=this.getSelectedItem(),f=n("<br>",this._document);i[0].nodeType===this.NODE._Document?(r=i.find("body"),u=r.children("p").first(),u.length>0?this._range.selectNodeContents(u[0]):this._range.selectNodeContents(r[0]),this._range.insertNode(t[0])):i.is("td")?t.appendTo(i):i.is("table")?i.replaceWith(t):i.is("br")?i.replaceWith(t):this._range.insertNode(t[0]),this._range.selectNodeContents!==undefined&&this._range.selectNodeContents(f.insertAfter(t)[0])},focus:function(){var t;(this._range.startContainer.nodeType===this.NODE._Document||n(this._range.startContainer).is("body"))&&this._range.collapsed?(t=n(this._document.body).find(":not(br):first"),t.length>0&&(this._range.setStart(t[0],0),this._range.setEnd(t[0],0),this._document.body.focus())):n.ig.util.isIE?this._selection&&this._selection.focusNode&&this._selection.focusNode.nodeType!==this.NODE._Text&&this._updateSelection(this._range):this._document.body.focus()}}),n.ig.ToolbarHelper=n.ig.ToolbarHelper||Class.extend({_toolbarsItemsLocation:{textToolbar:{name:"textToolbar",bold:{name:"bold"},italic:{name:"Italic"},underline:{name:"Underline"},strikethrough:{name:"Strikethrough"},fontFamily:{name:"fontFamily"},fontSize:{name:"fontSize"},formatsList:{name:"formatsList"}},formattingToolbar:{name:"formattingToolbar",justifyleft:{name:"justifyleft"},justifycenter:{name:"justifycenter"},justifyright:{name:"justifyright"},justifyfull:{name:"justifyfull"},bullets:{name:"bullets"},indent:{name:"indent"},outdent:{name:"outdent"},textColor:{name:"textColor"},backgroundTextColor:{name:"backgroundTextColor"}},insertObjectToolbar:{name:"insertObjectToolbar",image:{name:"image"},link:{name:"link"},table:{name:"table"},addRow:{name:"addRow"},addColumn:{name:"addColumn"},removeRow:{name:"removeRow"},removeColumn:{name:"removeColumn"}},copyPasteToolbar:{name:"copyPasteToolbar",copy:{name:"copy"},cut:{name:"cut"},paste:{name:"paste"},undo:{name:"undo"},redo:{name:"redo"}}},init:function(t,i){this._toolbars={},this._w=t,this._d=t.document;var r=this;i.each(function(t,i){var u=n(i).igToolbar("option","name");r._toolbars[u]=n(i)}),this._initAlignButtons(i),this._disableUnsupportedItems(),this._disableTableControls(!0)},_initAlignButtons:function(t){var i=this._toolbars.formattingToolbar,r={justifyleft:i.igToolbar("getItem","justifyleft").attr({"data-localeid":"alignTextLeftButtonTitle","data-localeattr":"title"}),justifycenter:i.igToolbar("getItem","justifycenter").attr({"data-localeid":"alignTextCenterButtonTitle","data-localeattr":"title"}),justifyright:i.igToolbar("getItem","justifyright").attr({"data-localeid":"alignTextRightButtonTitle","data-localeattr":"title"}),justifyfull:i.igToolbar("getItem","justifyfull").attr({"data-localeid":"justifyButtonTitle","data-localeattr":"title"})};t.bind("igtoolbartoolbarbuttonclick",function(t,i){r.hasOwnProperty(i.name)&&n.each(r,function(n,t){if(n!==i.name&&t.igToolbarButton("option","isSelected")){t.igToolbarButton("toggle");return}})})},_disableUnsupportedItems:function(){var t=this._toolbars.copyPasteToolbar;n.ig.util.isIE||(t.igToolbar("disableItem","cut",!0),t.igToolbar("disableItem","copy",!0),t.igToolbar("disableItem","paste",!0))},_disableTableControls:function(n){var t=this._toolbars.insertObjectToolbar;!n&&this._isTableControlsDisabled?(t.igToolbar("disableItem","addColumn",!1),t.igToolbar("disableItem","removeColumn",!1),t.igToolbar("disableItem","addRow",!1),t.igToolbar("disableItem","removeRow",!1),this._isTableControlsDisabled=!1):n&&!this._isTableControlsDisabled&&(t.igToolbar("disableItem","addColumn",!0),t.igToolbar("disableItem","removeColumn",!0),t.igToolbar("disableItem","addRow",!0),t.igToolbar("disableItem","removeRow",!0),this._isTableControlsDisabled=!0)},_callbackMap:{_isBold:"_onBold",_isItalic:"_onItalic",_isUnderlined:"_onUnderlined",_isLineThrough:"_onLineThrough",_isJustifyCenter:"_onAlign",_isJustifyFull:"_onAlign",_isJustifyLeft:"_onAlign",_isJustifyRight:"_onAlign",_isOrderedList:"_onList",_isUnorderedList:"_onList",_hasFontName:"_onFontName",_hasFontSize:"_onFontSize",_isTable:"_onTable"},analyse:function(t){var i=this,r;this._resetToolbars(),this._computedStyles=t[0].nodeType===9?this._w.getComputedStyle&&this._w.getComputedStyle(this._d.body)||this._d.body.currentStyle:this._w.getComputedStyle&&this._w.getComputedStyle(t[0])||t[0].currentStyle,t.is(":header")&&this._onHeader(t),n.each(this._callbackMap,function(u,f){var e=i[u](t);n.isFunction(i[u])&&e&&n.isFunction(i[f])&&(i[f](t,e),f==="_onAlign"&&(r=!0))}),r||this._onAlign(t,"justifyleft"),t.is("table")||t.is("td")||this._disableTableControls(!0)},_isBold:function(){return this._d.queryCommandState("bold")},_isItalic:function(){return this._d.queryCommandState("italic")},_isUnderlined:function(){return this._d.queryCommandState("underline")},_isLineThrough:function(){return this._d.queryCommandState("strikethrough")},_isJustifyCenter:function(){if(this._d.queryCommandState("justifycenter"))return"justifycenter"},_isJustifyFull:function(){if(this._d.queryCommandState("justifyfull"))return"justifyfull"},_isJustifyLeft:function(){if(this._d.queryCommandState("justifyleft"))return"justifyleft"},_isJustifyRight:function(){if(this._d.queryCommandState("justifyright"))return"justifyright"},_isOrderedList:function(){if(this._d.queryCommandState("insertorderedlist"))return"InsertOrderedList"},_isUnorderedList:function(){if(this._d.queryCommandState("insertunorderedlist"))return"InsertUnorderedList"},_isTable:function(n){if(n.is("table")||n.is("td"))return!0},_hasFontName:function(){var n=this._getFontFamily();return n==="serif"&&(n="Times New Roman"),n},_getFontFamily:function(){var n=this._d.queryCommandValue("FontName");return n===""&&(n=this._computedStyles.fontFamily),n},_hasFontSize:function(){return this._computedStyles.fontSize},_onBold:function(){this._toolbars.textToolbar.igToolbar("getItem","Bold").igToolbarButton("toggle")},_onItalic:function(){this._toolbars.textToolbar.igToolbar("getItem","Italic").igToolbarButton("toggle")},_onUnderlined:function(){this._toolbars.textToolbar.igToolbar("getItem","Underline").igToolbarButton("toggle")},_onLineThrough:function(){this._toolbars.textToolbar.igToolbar("getItem","Strikethrough").igToolbarButton("toggle")},_onAlign:function(n,t){this._toolbars.formattingToolbar.igToolbar("getItem",t).igToolbarButton("toggle")},_onList:function(n,t){this._toolbars.formattingToolbar.igToolbar("getItem",t).igToolbarButton("toggle")},_onFontName:function(t,i){var r=this._toolbars.textToolbar.igToolbar("getItem","fontFamily");i=i.replace(/'|"/g,""),this._setComboValue(r,n.ig.util.getLocaleValue("HtmlEditor","fontNames")[/^win/gi.test(navigator.platform)?"win":"mac"],i)},_onFontSize:function(){var i={11:1,13:2,16:3,19:4,24:5,32:6},t=this._d.queryCommandValue("fontsize")||i[Math.round(parseFloat(this._computedStyles.fontSize))],r=t?t.toString():"",u=this._toolbars.textToolbar.igToolbar("getItem","fontSize");this._setComboValue(u,n.ig.util.getLocaleValue("HtmlEditor","fontSizes"),r)},_onHeader:function(t){var i=this._toolbars.textToolbar.igToolbar("getItem","formatsList");this._setComboValue(i,n.ig.util.getLocaleValue("HtmlEditor","formatsList"),t[0].nodeName.toLowerCase())},_onTable:function(){this._disableTableControls(!1)},_setComboValue:function(n,t,i,r){var u,f=r||r===undefined?"text":r,o=t[n.igCombo("index")][f],e;if(i!==o)for(u=0;u<t.length;u++)if(e=t[u][f],i===e){n.igCombo("index",u);break}},_resetToolbars:function(){n.each(this._toolbars,function(t,i){n(i).igToolbar("deactivateAll")})}}),n.extend(n.ui.igHtmlEditor,{version:"19.2.25"})}(n),function(n){n.widget("ui.igVideoPlayer",n.ui.igWidget,{_const:{VOLUME_MAX:1,VOLUME_MIN:0,VIDEO_STATE_TIMEOUT:200,SCROLL_TIMEOUT:100,COMMERCIAL_SEEK_DELTA:2,SLIDE_SEEK_TIMEOUT:500,HREF:"#"},_id:function(n){return this.element[0].id+n},options:{sources:[],width:null,height:null,posterUrl:"",preload:!1,autoplay:!1,autohide:!0,volumeAutohideDelay:1e3,centerButtonHideDelay:1200,loop:!1,browserControls:!1,fullscreen:!1,volume:.5,muted:!1,title:"",showSeekTime:!0,progressLabelFormat:"${currentTime} / ${duration}",bookmarks:[{time:0,title:"",disabled:!1}],relatedVideos:[{imageUrl:"",title:"",width:null,height:null,link:"",sources:[],css:null}],banners:[{imageUrl:"",times:[],closeBanner:!0,animate:!0,visible:!0,duration:1e3,autohide:!1,hidedelay:1e4,link:null,width:null,height:null,css:null}],commercials:{linkedCommercials:[{sources:[],startTime:10,link:"",title:""}],embeddedCommercials:[{startTime:20,endTime:30,link:"",title:""}],alwaysPlayCommercials:!1,showBookmarks:!0,adMessage:{animate:!0,autoHide:!0,hideDelay:2e4,animationDuration:1e3}},locale:{liveStream:undefined,live:undefined,paused:undefined,playing:undefined,play:undefined,volume:undefined,progressLabelLongFormat:undefined,progressLabelShortFormat:undefined,enterFullscreen:undefined,exitFullscreen:undefined,skipTo:undefined,buffering:undefined,adMessage:undefined,adMessageLong:undefined,adMessageNoDuration:undefined,adNewWindowTip:undefined,relatedVideos:undefined,replayButton:undefined,replayTooltip:undefined}},events:{ended:"ended",playing:"playing",paused:"paused",buffering:"buffering",progress:"progress",waiting:"waiting",bookmarkHit:"bookmarkHit",bookmarkClick:"bookmarkClick",enterFullScreen:"enterFullScreen",exitFullScreen:"exitFullScreen",relatedVideoClick:"relatedVideoClick",bannerVisible:"bannerVisible",bannerHidden:"bannerHidden",bannerClick:"bannerClick",browserNotSupported:"browserNotSupported"},css:{baseClasses:"ui-widget ui-igplayer",controlsClass:"ui-widget-header ui-igplayer-controls ui-igplayer-grid ui-igplayer-autohide ui-corner-all",controlsHideClass:"ui-igplayer-controls-hide",videoClass:"ui-igplayer-video",unsupportedBrowserClass:"ui-html5-non-html5-supported-message ui-helper-clearfix",activeVideoClass:"ui-igplayer-active-video",playButtonClass:"ui-igplayer-playbutton",progressBarClass:"ui-igplayer-progressbar ui-corner-all",fullScreenClass:"ui-igplayer-fullscreen-button",fullScreenIconClass:"ui-icon ui-igbutton-icon ui-icon-arrow-4-diag",volumeControlClass:"ui-igplayer-volumecontrol",volumeSliderClass:"ui-igplayer-volumeslider",progressLabelClass:"ui-igplayer-progresslabel",bookmarkContainerClass:"ui-widget ui-igplayer-bookmark-container",bookmarkContainerHeaderClass:"ui-widget-header ui-igplayer-bookmark-header",bookmarkListClass:"ui-widget-content ui-igplayer-bookmark-list",bookmarkItemDisabledClass:"ui-igplayer-bookmark-item-disabled",bookmarkItemTimeClass:"ui-igplayer-bookmark-item-time",bookmarkItemTitleClass:"ui-igplayer-bookmark-item-title",bookmarkActiveItemClass:"ui-igplayer-bookmark-active-item",relatedVideosContainerClass:"ui-igplayer-related-video-container",relatedVideosOuterContainerClass:"ui-igplayer-related-video-outer-container",relatedVideoClass:"ui-igplayer-related-video",relatedVideoFirstClass:"ui-igplayer-related-video-first",relatedVideoLastClass:"ui-igplayer-related-video-last",relatedVideoHoverClass:"ui-igplayer-related-video-hover",relatedVideoScrollLeftClass:"ui-igplayer-related-scroller-left",relatedVideoScrollLeftIconClass:"ui-icon-triangle-1-w",relatedVideoScrollRightClass:"ui-igplayer-related-scroller-right",relatedVideoScrollRightIconClass:"ui-icon-triangle-1-e",relatedVideoScrollListClass:"ui-igplayer-related-list",relatedVideosHeaderClass:"ui-igplayer-related-video-header",relatedVideoBarClass:"ui-igplayer-related-video-bar",relatedVideoReplayClass:"ui-igplayer-related-video-replay",relatedVideoReplayIconClass:"ui-icon-arrowrefresh-1-s",bannerContainerClass:"ui-igplayer-banner-container",bannerClass:"ui-igplayer-banner ui-corner-all",bannerCloseClass:"ui-igplayer-banner-close",bannerCloseIconClass:"ui-icon-close",adMsgContainerClass:"ui-igplayer-ad-msg-container",adMsgClass:"ui-igplayer-ad-msg",adMsgCloseClass:"ui-igplayer-ad-msg-close",adMsgCloseIconClass:"ui-icon-close",linkedBookmarkClass:"ui-igplayer-linked-bookmark",adBookmarkClass:"ui-igplayer-ad-bookmark",unsupportedVideoSourceClass:"ui-igplayer-not-supported-video-source",unsupportedVideoSourceIconClass:"ui-igplayer-not-supported-video-source-icon",centerPlayButtonClass:"ui-igplayer-centerplaybutton-play",centerPauseButtonClass:"ui-igplayer-centerplaybutton-pause",centerPlayButtonIconClass:"ui-igplayer-centerplaybutton-icon",waitingIndicatorClass:"ui-igplayer-waiting",waitingIndicatorIconClass:"ui-igplayer-waiting-icon",seekTooltipClass:"ui-igplayer-seektooltip"},widget:function(){return this.element},_createWidget:function(){var n=this.options;n.bookmarks=[],n.relatedVideos=[],n.banners=[],n.commercials.linkedCommercials=[],n.commercials.embeddedCommercials=[],this._superApply(arguments)},_create:function(){if(n.ig.util.isTouchDevice()&&(this.options.browserControls=!0),this.element.is("div"))this.container=this.element;else if(this.element.is("video"))this.container=n("<div><\/div>").attr("id",this._id("_container")).insertBefore(this.element),this.element.appendTo(this.container);else throw new Error(this._getLocaleValue("nonDivException"));this._oldWidth=this.element.css("width"),this._oldHeight=this.element.css("height"),this._renderControl()},_renderControl:function(){var t=this.options,i,r=this.css;this._prevReadyState=0,this._bookmarksRendered=!1,this.supportsVideo()&&this._renderBanners(),this.currentVideo=i=this._createMainVideoElement().addClass(r.videoClass),t.disabled&&this.container.addClass("ui-state-disabled"),t.width&&(i.css("width",t.width),this.container.css("width",t.width)),t.height&&(i.css("height",t.height),this.container.css("height",t.height)),this.supportsVideo()?(this._baseZIndex=parseInt(this.container.css("z-index"),10)||0,this._attachEvents(i),this._renderSources(t.sources,i),this._analyzeSource(i),setTimeout(n.proxy(this._onVideoStateChange,this),this._const.VIDEO_STATE_TIMEOUT),this._createBigPlayButton(),this._createWaitingIndicator(),this._renderEmbeddedCommercials(),this._renderCommercials(),i[0].muted=t.muted,t.muted&&n.ig.util.isWebKit?i[0].volume=0:t.volume>=this._const.VOLUME_MIN&&t.volume<=this._const.VOLUME_MAX&&(i[0].volume=t.volume),t.browserControls||this._renderControls(),this._lastPausedState=i[0].paused,t.fullscreen&&this._setOption("fullscreen",!0,!0),this._renderRelatedVideos()):(this.currentVideo.hide(),n.ig.util._renderUnsupportedBrowser(this,this._getLocaleDictionary())),n("#"+this._id("_detectError")).appendTo(this.container).bind({click:function(n){n.preventDefault()}}),this.container.addClass(r.baseClasses)},_createVideoElement:function(t){return n("<video><\/video>").attr("id",t)},_saveExistingVideoProperties:function(n){this._oldAutoPlay=this._getVideoProperty(n,"autoplay"),this._oldPreload=this._getVideoProperty(n,"preload"),this._oldLoop=this._getVideoProperty(n,"loop"),this._oldPoster=this._getVideoProperty(n,"poster"),this._oldControls=this._getVideoProperty(n,"controls"),this._oldSrc=this._getVideoProperty(n,"src"),this._oldMuted=n[0].muted,this._oldVolume=n[0].volume,this._removeVideoProperty(n,"autoplay"),this._removeVideoProperty(n,"preload"),this._removeVideoProperty(n,"loop"),this._oldPoster!==""&&this._removeVideoProperty(n,"poster"),this._removeVideoProperty(n,"controls"),this._removeVideoProperty(n,"src")},_restoreExistingVideoProperties:function(n){this._setVideoProperty(n,"autoplay",this._oldAutoPlay),this._setVideoProperty(n,"preload",this._oldPreload),this._setVideoProperty(n,"loop",this._oldLoop),this._setVideoProperty(n,"poster",this._oldPoster),this._setVideoProperty(n,"controls",this._oldControls),this._setVideoProperty(n,"src",this._oldSrc),n[0].muted=this._oldMuted,n[0].volume=this._oldVolume},_createMainVideoElement:function(){var t=this.options,i=this.element.is("video"),n=i?this.element:this._createVideoElement(this._id("_video"));return i&&this._saveExistingVideoProperties(n),t.autoplay&&this._setVideoProperty(n,"autoplay",!0),this._setVideoProperty(n,"preload","metadata"),t.preload&&this._setVideoProperty(n,"preload","auto"),t.browserControls&&this._setVideoProperty(n,"controls",!0),t.loop&&this._setVideoProperty(n,"loop",!0),t.posterUrl.length>0&&this._setVideoProperty(n,"poster",t.posterUrl),n.appendTo(this.container)},_setVideoProperty:function(n,t,i){n.prop?n.prop(t,i):n.attr(t,i)},_getVideoProperty:function(n,t){return n.prop?n.prop(t):n.attr(t)},_removeVideoProperty:function(n,t){return n.prop?n.removeProp(t):n.removeAttr(t)},_renderUnsupportedBrowser:function(){if(this._trigger(this.events.browserNotSupported)){var r=n("<div data-test><\/div>").attr({"data-not-supported-browser":!0}).addClass(this.css.unsupportedBrowserClass).appendTo(this.container),t,i;i=n.ig.util.isIE?"Internet Explorer "+n.ig.util.browserVersion:n.ig.util.isOpera?"Opera "+n.ig.util.browserVersion:n.ig.util.isWebKit?"Webkit "+n.ig.util.browserVersion:n.ig.util.isFF?"Mozilla Firefox "+n.ig.util.browserVersion:n.ig.util.browserVersion,n("<div><\/div>").addClass("ui-igvideoplayer-current-browser-label").html(this._getLocaleValue("currentBrowser").replace("{0}",i)).appendTo(r),n("<div><\/div>").addClass("ui-igvideoplayer-non-html5-text").html(this._getLocaleValue("unsupportedBrowser")).appendTo(r),t=n("<ul><\/ul>").addClass("ui-igplayer-browsers-list").appendTo(r),n("<a><\/a>").attr({href:this._getLocaleValue("chromeDownload"),target:"_blank"}).addClass("ui-igplayer-chrome-icon").html(this._getLocaleValue("chrome8")).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(t)),n("<a><\/a>").attr("href",this._getLocaleValue("firefoxDownload")).attr("target","_blank").addClass("ui-igplayer-firefox-icon").html(this._getLocaleValue("firefox36")).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(t)),n("<a><\/a>").attr("href",this._getLocaleValue("operaDownload")).attr("target","_blank").addClass("ui-igplayer-Opera-icon").html(this._getLocaleValue("opera11")).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(t)),n("<a><\/a>").attr("href",this._getLocaleValue("safariDownload")).attr("target","_blank").addClass("ui-igplayer-safari-icon").html(this._getLocaleValue("safari5")).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(t)),n("<a><\/a>").attr("href",this._getLocaleValue("ieDownload")).attr("target","_blank").addClass("ui-igplayer-ie-icon").html(this._getLocaleValue("ie9")).appendTo(n("<li><\/li>").addClass("ui-corner-all").appendTo(t)),this.container.addClass("ui-igvideoplayer-non-html5")}},_renderRelatedVideoBar:function(t){var i=this.css,r=this,u=n("<div><\/div>").attr("id",this._id("_rv_bar")).addClass(i.relatedVideoBarClass).appendTo(t);n("<a><\/a>").attr("id",this._id("_rv_bar_fs")).appendTo(n("<div><\/div>").css({position:"absolute",top:0,left:0,"text-align":"right",width:"100%",height:"100%"}).appendTo(u)).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:i.fullScreenIconClass}}).attr({title:this._getLocaleValue("enterFullscreen"),"data-localeid":"enterFullscreen","data-localeattr":"title"}).addClass(i.fullScreenClass).bind({click:function(n){n.preventDefault(),r._setOption("fullscreen",!r.options.fullscreen)}}),n("<a><\/a>").attr("id",this._id("_rv_bar_replay")).appendTo(u).igButton({onlyIcons:!1,labelText:this._getLocaleValue("replayButton"),icons:{primary:i.relatedVideoReplayIconClass},link:{href:this._const.HREF}}).attr({title:this._getLocaleValue("replayTooltip"),"data-localeid":"replayButton","data-localeattr":"title"}).bind({click:function(t){t.preventDefault(),n(this).igButton("option","disabled")||r.togglePlay()}}).addClass(i.relatedVideoReplayClass)},_renderScrollButtons:function(t){var i=this.css,r;return n("<a><\/a>").attr("id",this._id("_rv_left")).appendTo(t).igButton({onlyIcons:!0,icons:{primary:i.relatedVideoScrollLeftIconClass},link:{href:this._const.HREF}}).addClass(i.relatedVideoScrollLeftClass).css("position","absolute").hide(),r=n("<ul><\/ul>").addClass(i.relatedVideoScrollListClass).appendTo(t),n("<a><\/a>").attr("id",this._id("_rv_right")).appendTo(t).igButton({onlyIcons:!0,icons:{primary:i.relatedVideoScrollRightIconClass},link:{href:this._const.HREF}}).addClass(i.relatedVideoScrollRightClass).css("position","absolute"),r},_renderRelatedVideos:function(){var l=this.options,f=l.relatedVideos||[],o=f.length,i=0,s=this.css,r,h,u,e=10,c,t=this;if(o>0){for(r=n("<div><\/div>").attr("id",this._id("_rvcc")).addClass(s.relatedVideosOuterContainerClass).appendTo(this.container).hide(),n("<div><div>").html(this._getLocaleValue("relatedVideos")).attr({"data-localeid":"relatedVideos"}).addClass(s.relatedVideosHeaderClass).appendTo(r),h=n("<div><\/div>").attr("id",this._id("_rvc")).appendTo(r).addClass(s.relatedVideosContainerClass),u=this._renderScrollButtons(h),this._renderRelatedVideoBar(r),this._rvUlWidth=0,this._rvImagesToLoad=0,this._rvImagesLoaded=0,i;i<o;i++)f[i].imageUrl&&f[i].imageUrl!==""&&(c=this._renderRelatedVideo(f[i],u,i===0,i===o-1),this._rvImagesToLoad++,e+=c.outerWidth(!0));e>r.width()&&e>u.width()&&u.width(e),this.relatedScrollers=n("a",h).bind({mouseover:function(){t._isScrolling||(t._isScrolling=!0,t._leftDirection=n(this).hasClass(t.css.relatedVideoScrollLeftClass),t._rvDoScroll())},mouseout:function(){t._rvStopScroll()}}),this.relatedVideoElements=n("."+this.css.relatedVideoClass.split(" ")[0],u).each(function(t){n(this).data("related-index",t)}).bind({mouseover:function(){n(this).addClass(t.css.relatedVideoHoverClass).children().filter("div").show()},mouseout:function(){n(this).removeClass(t.css.relatedVideoHoverClass).children().filter("div").hide()},click:function(i){var r=t.options.relatedVideos[n(this).data("related-index")];t._relatedVideoClick(r,n(this),i)&&(r.link&&r.link.length>0?window.open(r.link,"_blank"):r.sources&&(t._renderSources(r.sources,t.currentVideo),t._analyzeSource(t.currentVideo,!0),t.play()))}})}},_rvScrollOnce:function(){var s=n("#"+this._id("_rvc")),u=n("ul",s),f=u[0].style.left,t=parseInt(f===""||f==="auto"?"0px":f,10),h=10,i=this._leftDirection?t+h:t-h,e=n("#"+this._id("_rv_left")),r=n("#"+this._id("_rv_right")),c=u.width(),l=s.width(),o=!0;return u[0].style.left=i+"px",t===0&&i<0&&e.show(),i>=0&&t!==0&&e[0].style.display!=="none"&&(e.hide(),o=!1),l-i>=c&&r[0].style.display!=="none"?(o=!1,r.hide()):r[0].style.display==="none"&&r.show(),o},_rvDoScroll:function(){var t=this._isScrolling&&this._rvScrollOnce();t?this._scrollingTimoutId=setTimeout(n.proxy(this._rvDoScroll,this),this._const.SCROLL_TIMEOUT):this._rvStopScroll()},_rvStopScroll:function(){this._isScrolling&&(clearTimeout(this._scrollingTimoutId),this._isScrolling=!1)},_relatedVideoClick:function(n,t,i){var r={relatedVideo:n,relatedVideoElement:t};return this._trigger(this.events.relatedVideoClick,i,r)},_renderRelatedVideo:function(t,i,r,u){var o=n("<li><\/li>").appendTo(i).addClass(this.css.relatedVideoClass),f=n("<img/>").appendTo(o),e=this;return(r||u)&&o.addClass(r?this.css.relatedVideoFirstClass:this.css.relatedVideoLastClass),t.imageUrl&&t.imageUrl!==""&&f.attr("src",t.imageUrl),t.title&&t.title!==""&&f.attr("title",t.title),t.css&&t.css!==""&&f.addClass(t.css),t.width&&t.width!==""&&f.css("width",t.width),t.height&&t.height!==""&&f.css("height",t.height),n("<div><\/div>").appendTo(f.parent()).css("position","absolute").hide(),f.bind({load:function(){e._imageLoaded(this)},error:function(){e._rvImagesLoaded++,e._onImagesLoaded()},readystatechange:function(){e._imageLoaded(this)}}),o},_imageLoaded:function(t){var f=t.readyState,r=parseInt(t.style.width,10),u=parseInt(t.style.height,10),i;(!f||new RegExp("loaded|complete").test(f))&&(this._rvUlWidth+=r+parseInt(n(t).parent().css("marginRight"),10)+parseInt(n(t).parent().css("marginLeft"),10),this._rvImagesLoaded++,r>24&&u>24&&(i=r>50&&u>50?48:r>34&&u>34?32:24,n(t).parent().children().filter("div").addClass("ui-igplayer-related-video-hover-x"+i).css({width:i,height:i,top:u/2-i/2,left:r/2-i/2}))),this._onImagesLoaded()},_onImagesLoaded:function(){if(this._rvImagesLoaded===this._rvImagesToLoad){var t=n("#"+this._id("_rvc"));n("ul",t).css("width",this._rvUlWidth+4),t.parent().show(),this._rvUlWidth<t.width()?this.relatedScrollers.hide():n(this.relatedScrollers[1]).show(),t.parent().hide(),delete this._rvUlWidth,delete this._rvImagesLoaded,delete this._rvImagesToLoad}},_renderEmbeddedCommercials:function(){var i=this.options.commercials.embeddedCommercials||[],r=0,u=i.length,f=[],t;for(r;r<u;r++)t=i[r],t&&t.startTime&&t.endTime&&t.startTime<t.endTime&&f.push(t);i=f,u=i.length,i&&u>0&&(this._embeddedCommercialsShow=n.extend(!0,[],i),this._embeddedCommercialIndex=0,this._renderAdMessage())},_renderCommercials:function(){var r=this.options,u=r.commercials.linkedCommercials||[],t=this,i;u.length>0&&(i=this._createVideoElement(this._id("_com_video")).attr("preload","auto").appendTo(this.container).addClass(this.css.videoClass).bind({ended:function(){var i=n("#"+t._id("_ctrls_s")),r=i.data("igSlider").bookmarks;t._hideWaitingIndicator(),t._commercialIndex++,t._commercialsShow.shift(),t._commercialPlaying=!1,t.currentVideo=t._getMainVideo(),t.currentVideo.show(),n(this).hide(),i.igSlider("option","disabled",!1),r&&r.show(),t.currentVideo[0].muted=this.muted,t.currentVideo[0].play(),t.currentVideo.addClass(t.css.videoClass),t.controls[t._activeControlsIndex].css("z-index",""),n("#"+t._id("_seek_tooltip")).css("z-index",""),n("#"+t._id("_play")).css("z-index","")},waiting:function(n){t._onVideoWaiting(n),t._waiting(this.currentSrc,this.currentTime,this.duration,n)},timeupdate:function(n){t._changeCurrentTime(n)},playing:function(i){t._hideWaitingIndicator(),n("span",n("#"+t._id("_ctrls_play"))).addClass("ui-icon-pause").removeClass("ui-icon-play"),t._playing(this.currentSrc,this.duration,i)},pause:function(i){n("span",n("#"+t._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause"),t._paused(this.currentSrc,this.duration,i)},click:function(n){n.preventDefault();var i=t.options.commercials.linkedCommercials[t._commercialIndex].link;i&&i.length>0&&window.open(i,"_blank")}}).hide(),i.prop&&i.prop("preload")!=="auto"&&i.prop("preload","auto"),this._buildCommercialsShow(),this._renderAdMessage())},_renderAdClose:function(t){var i=this;n("<a><\/a>").attr("id",this._id("_ad_msg_close")).appendTo(t).igButton({onlyIcons:!0,icons:{primary:this.css.adMsgCloseIconClass},link:{href:this._const.HREF}}).addClass(this.css.adMsgCloseClass).bind("click",function(n){n.preventDefault(),n.stopPropagation(),i.hideAdMessage()})},_renderAdMessage:function(){if(n("#"+this._id("_ad_msg_c")).length===0){var i=this.css,t;t=n("<div><\/div>").attr("id",this._id("_ad_msg_c")).addClass(i.adMsgContainerClass).prependTo(this.container).bind({mouseover:function(){n(this).addClass("ui-state-hover")},mouseout:function(){n(this).removeClass("ui-state-hover")}}).hide(),n("<span><\/span>").attr({id:this._id("_ad_msg"),"data-localeid":"adMessage"}).appendTo(t).addClass(i.adMsgClass).html(this._getLocaleValue("adMessage")),this._renderAdClose(t)}},_showAdMessage:function(t){var r=n("#"+this._id("_ad_msg_c")),i=this.options.commercials.adMessage;this._updateAdMessage(t,!0),r.css("width",this.container.css("width")),i.animate?r.slideToggle(i.animationDuration):r.show(),i.autoHide&&(this._adHideTimeout=setTimeout(n.proxy(this.hideAdMessage,this),i.hideDelay))},_updateAdMessage:function(t,i){var r=n("#"+this._id("_ad_msg"));r.is(":visible")||i?(isNaN(t)?r.html(this._getLocaleValue("adMessageNoDuration")):(t=parseInt(t,10),t>60?r.html(this._getLocaleValue("adMessageLong").replace("$duration$",this._toTimeString(t))):r.html(this._getLocaleValue("adMessage").replace("$duration$",t))),this._isHiddenAdMessage=!1):this._isHiddenAdMessage||this._showAdMessage(t)},hideAdMessage:function(){clearTimeout(this._adHideTimeout);var t=n("#"+this._id("_ad_msg_c")),i=this.options.commercials.adMessage;t.is(":visible")&&(i.animate?t.slideToggle(i.animationDuration):t.hide(),this._isHiddenAdMessage=!0)},_buildCommercialsShow:function(){var i=this.options.commercials.linkedCommercials||[],r=i.length,t=0;for(this._commercialsShow=[],this._commercialIndex=0,t;t<r;t++)this._commercialsShow.push(i[t].startTime);this._commercialsShow=n.extend(!0,[],this._commercialsShow)},playCommercial:function(t){if(t&&t.sources){var i=n("#"+this._id("_com_video")),r=this.currentVideo.igOffset(),u=n("#"+this._id("_ctrls_s")),f=u.data("igSlider").bookmarks,e=n("#"+this._id("_ctrls_s_tooltip"));this._commercialPlaying=!0,n("source",i).remove(),this._renderSources(t.sources,i),this._analyzeSource(i),this.currentVideo[0].pause(),this.currentVideo.removeClass(this.css.videoClass),this.controls[this._activeControlsIndex].css("z-index",this._baseZIndex+5e3),n("#"+this._id("_seek_tooltip")).css("z-index",this._baseZIndex+5e3),n("#"+this._id("_play")).css("z-index",this._baseZIndex+5e3),u.igSlider("option","disabled",!0),f&&e&&(f.hide(),e.hide()),i[0].muted=this.currentVideo[0].muted,i[0].play(),t.link&&t.link.length>0?i.attr({title:this._getLocaleValue("adNewWindowTip"),"data-localeid":"adNewWindowTip","data-localeattr":"title"}):i.removeAttr("title"),i.css("top",r.top).css("left",r.left).css("width",this.currentVideo.css("width")).css("height",this.currentVideo.css("height")).show(),this.currentVideo.hide(),this.currentVideo=i}},_renderBanners:function(){var r=this.options.banners||[],u=r.length,t=0,f=n("<div><\/div>").appendTo(this.container).addClass(this.css.bannerContainerClass),i;for(this._bannerShow=[],t;t<u;t++)i=r[t],i.imageUrl&&i.imageUrl.length>0&&this._renderBannerContainer(i,this._id("_banner_grid"+t),f).data("banner-index",t),this._bannerShow.push(n.extend(!0,[],i.times))},_buildBannersShow:function(){var i=this.options.banners||[],r=i.length,t=0;for(r>0&&(this._bannerShow=[]),t;t<r;t++)this._bannerShow.push(n.extend(!0,[],i[t].times))},_renderBannerClose:function(t,i){var r=this.css,u=this;n("<a><\/a>").attr("id",i+"_banner_close").appendTo(n("<div><\/div>").css({position:"absolute",top:0,left:0,"text-align":"right",width:"100%",height:"100%"}).appendTo(t)).addClass(r.bannerCloseClass).igButton({onlyIcons:!0,icons:{primary:r.bannerCloseIconClass},link:{href:this._const.HREF}}).bind("click",function(t){t.preventDefault(),t.stopPropagation(),u.hideBanner(n(this).parent().parent().data("banner-index"))})},_renderBannerContainer:function(t,i,r){var o=this.css,f=this,u=n("<div><\/div>").attr("id",i).appendTo(r),e=n("<img><\/img>").attr("id",i+"_img").attr("src",t.imageUrl).appendTo(u);return this.banner=u.addClass(o.bannerClass),t.visible||u.hide(),t.closeBanner&&this._renderBannerClose(u,i),t.width&&(u.css("width",t.width),e.attr("width",parseInt(t.width,10))),t.height&&(u.css("height",t.height),e.attr("height",parseInt(t.height,10))),t.css&&u.addClass(t.css),u.bind("click",function(i){var r=!0,u={bannerElement:n(i.currentTarget)};r=f._trigger(f.events.bannerClick,i,u),t.link&&t.link.length>0&&r&&window.open(t.link,"_blank")}),u},showBanner:function(t){if(this.options.banners&&t>=0&&t<this.options.banners.length){var i=this.options.banners[t],u=this._id("_banner_grid"+t),r=n("#"+u);i.animate?r.fadeIn(i.duration):r.show(),this._bannerVisible(t,r),i.autohide&&(this._bannerHideTimeout=setTimeout(this._createDelegate(this,this.hideBanner,[t]),i.hidedelay))}},_createDelegate:function(n,t,i){return function(){return t.apply(n,i)}},hideBanner:function(t){if(this.options.banners&&t>=0&&t<this.options.banners.length){clearTimeout(this._bannerHideTimeout);var r=this.options.banners[t],i=n("#"+this._id("_banner_grid"+t));r.animate?i.fadeOut(r.duration):i.hide(),this._bannerHidden(t,i)}},_renderSources:function(t,i){var r=this;n(t).each(function(){r._renderSource(this,i)})},_renderSource:function(t,i){var r=t.indexOf("?"),u=t.lastIndexOf(".")+1,f=r>-1?r:t.length,e=t.substring(u,f);n("<source><\/source>").attr("src",t).attr("type",("video/"+t.substring(t.lastIndexOf(".")+1,t.length)).replace("/ogv","/ogg")).appendTo(i),i.data(e,t)},_getMainVideo:function(){return this.element.is("video")?this.element:n("#"+this._id("_video"))},_setOption:function(t,i,r){var f=this.currentVideo,h,e=f[0],o=this._getMainVideo(),l=f.igOffset(),u=this.options,s=!0,c=0;if(this.options[t]!==i||r){switch(t){case"disabled":i?this.container.addClass("ui-state-disabled"):this.container.removeClass("ui-state-disabled");break;case"sources":n("source",o).remove(),this._renderSources(i,o),this._analyzeSource(o);break;case"width":i!==u.width&&(f.css("width",i),this.container.css("width",i),u.browserControls||(n("#"+this._id("_ctrls")).parent().css("width",i),n("#"+this._id("_title_ctrls")).parent().css("width",i)),u.width=i);break;case"height":i!==u.height&&(f.css("height",i),this.container.css("height",i),u.height=i);break;case"posterUrl":i!==u.posterUrl&&(this._setVideoProperty(f,"poster",i),u.posterUrl=i);break;case"loop":i!==u.loop&&(e.loop=i,u.loop=i);break;case"browserControls":if(n.ig.util.isTouchDevice())return;i!==u.browserControls&&(i?(e.controls=!0,this._destroyControls()):(e.controls=!1,this._ensureVolume(),this._renderControls(),this._detectBuffered()),u.browserControls=i);break;case"autohide":u.browserControls||(i?this._onControlMouseOut():this._onControlMouseOver()),u.autohide=i;break;case"fullscreen":if(i!==u.fullscreen||r){if(i?(s=this._enterFullScreen(e.currentSrc),s&&(this.container.data("style.position",this.container.css("position")),this.container.data("document.scrollTop",n(document).scrollTop()),this.container.data("document.scrollLeft",n(document).scrollLeft()),this.container.data("style.left",this.container.css("left")),this.container.data("style.top",this.container.css("top")),this.container.css("z-index",this._baseZIndex+1e4),n(document).scrollTop(0),n(document).scrollLeft(0),this.container.css("position","fixed").css("height","100%").css("width","100%").css("left","0px").css("top","0px"),n("#"+this._id("_ctrls")).parent().css("width","100%"),this._commercialPlaying&&(f.css("top",0).css("left",0),o.css("height","100%").css("width","100%")),f.css("height","100%").css("width","100%"),u.browserControls||n("span",n("#"+this._id("_ctrls_fs_btn"))).removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-closethick"),n("#"+this._id("_rv_bar_fs")).is(":visible")&&n("span",n("#"+this._id("_rv_bar_fs"))).removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-closethick"),u.bookmarks&&u.bookmarks.length>0&&n("#"+this._id("_bookmarks")).hide())):(s=this._exitFullScreen(e.currentSrc),s&&(this.container.css("position",this.container.data("style.position")).css("left",this.container.data("style.left")).css("top",this.container.data("style.top")),this.container.css("z-index",this._baseZIndex),n(document).scrollTop(this.container.data("document.scrollTop")),n(document).scrollLeft(this.container.data("document.scrollLeft")),u.height?(u.bookmarks&&u.bookmarks.length>0?(c=parseInt(u.height,10)-parseInt(n("#"+this._id("_bookmarks")).css("height"),10),this._commercialPlaying&&o.css("height",c),f.css("height",c)):(this._commercialPlaying&&o.css("height",u.height),f.css("height",u.height)),this.container.css("height",u.height)):(this._commercialPlaying&&o.css("height",""),f.css("height",""),this.container.css("height","")),u.width?(this._commercialPlaying&&o.css("width",u.width),f.css("width",u.width),n("#"+this._id("_ctrls")).parent().css("width",u.width),this.container.css("width",u.width)):(this._commercialPlaying&&o.css("width",""),f.css("width",""),n("#"+this._id("_ctrls")).parent().css("width",""),this.container.css("width","")),this._commercialPlaying&&f.css("top",l.top).css("left",l.left),u.browserControls||n("span",n("#"+this._id("_ctrls_fs_btn"))).removeClass("ui-icon-closethick").addClass("ui-icon-arrow-4-diag"),n("#"+this._id("_rv_bar_fs")).is(":visible")&&n("span",n("#"+this._id("_rv_bar_fs"))).removeClass("ui-icon-closethick").addClass("ui-icon-arrow-4-diag"),u.bookmarks&&u.bookmarks.length>0&&n("#"+this._id("_bookmarks")).show())),!s)return;n("#"+this._id("_waiting")).is(":visible")&&this._showWaitingIndicator(),n("#"+this._id("_play")).is(":visible")&&this._showCenterPlayButton(),n("#"+this._id("_ad_msg_c")).is(":visible")&&n("#"+this._id("_ad_msg_c")).css("width",this.container.css("width")),n("#"+this._id("_ctrls_vs")).is(":visible")&&this._hideVolumeSlider(),n("#"+this._id("_detectError")).is(":visible")&&this._showUnsupportedVideoSourceMsg(),i?n("body").addClass("ui-igplayer-full-screen-mode"):n("body").removeClass("ui-igplayer-full-screen-mode"),u.browserControls||n("#"+this._id("_ctrls_fs_btn")).attr({title:i?this._getLocaleValue("exitFullscreen"):this._getLocaleValue("enterFullscreen"),"data-localeid":"exitFullscreen","data-localeattr":"title"}),n("#"+this._id("_rv_bar_fs")).is(":visible")&&(h=i?"exitFullscreen":"enterFullscreen",n("#"+this._id("_rv_bar_fs")).attr({title:this._getLocaleValue(h),"data-localeid":h,"data-localeattr":"title"})),u.fullscreen=i}break;case"volume":i!==u.volume&&i>=this._const.VOLUME_MIN&&i<=this._const.VOLUME_MAX&&(u.volume=e.volume=i,i>0&&e.muted?u.muted=e.muted=!1:i!==0||e.muted||(u.muted=e.muted=!0),u.browserControls||(this._adjustVolumeButton(i),n("#"+this._id("_ctrls_vs")).igSlider("option","value",i*100)));break;case"muted":i!==u.muted&&(u.muted=e.muted=i,n("#"+this._id("_ctrls_vs")).igSlider("option","value",i?0:(u.volume!==0?u.volume:.3)*100),u.volume===0&&(u.volume=.3),i||e.volume!==0||(e.volume=u.volume),u.browserControls||this._adjustVolumeButton(n("#"+this._id("_ctrls_vs")).igSlider("option","value")));break;case"title":n("#"+this._id("_title_ctrls_t")).html(i);break;case"progressLabelFormat":u.progressLabelFormat=i,this._updateProgressLabel();break;case"alwaysPlayCommercials":i!==u.commercials.alwaysPlayCommercials&&(u.commercials.alwaysPlayCommercials=i,i&&this.resetCommercialsShow());break;case"bookmarks":this._destroyBookmarks(),u.bookmarks=i,this._renderBookmarks();break;case"relatedVideos":this._destroyRelatedVideos(),u.relatedVideos=i,this._renderRelatedVideos()}this._superApply(arguments)}},_onVideoStateChange:function(){var u=this.currentVideo,t=u[0],f=this.options,r=this._prevReadyState,i=t.readyState;if(r>=t.HAVE_FUTURE_DATA&&i<=t.HAVE_CURRENT_DATA)t.ended||this._showWaitingIndicator();else if(r<=t.HAVE_CURRENT_DATA&&i===t.HAVE_FUTURE_DATA)this._hideWaitingIndicator();else if(i===t.HAVE_ENOUGH_DATA)if(r<=t.HAVE_CURRENT_DATA)this._hideWaitingIndicator();else return;this._prevReadyState=i,this._detectBuffered(),this._lastPausedState!==t.paused&&(this._lastPausedState?this._showCenterPlayButton().removeClass(this.css.centerPauseButtonClass).addClass(this.css.centerPlayButtonClass):this._showCenterPlayButton().removeClass(this.css.centerPlayButtonClass).addClass(this.css.centerPauseButtonClass),setTimeout(n.proxy(this._hideCenterPlayButton,this),f.centerButtonHideDelay),this._prepareForPlay(),this._lastPausedState=t.paused),this._setOption("muted",t.muted),this._refreshDuration(),this._onVideoStateChangeId=setTimeout(n.proxy(this._onVideoStateChange,this),this._const.VIDEO_STATE_TIMEOUT)},_updateTitleControlsTimeString:function(t,i){this._activeControlsIndex===1&&t&&(i||(i=t),n("span.ui-igplayer-playbutton-text",n("#"+this._id("_title_ctrls"))).attr("title",i).html(t))},_analyzeSource:function(t,i){var r=!1;this.supportsH264BaselineVideo()&&t.data("mp4")!==undefined?(t.attr("src",t.data("mp4")),r=!0):this.supportsWebmVideo()&&t.data("webm")!==undefined?(t.attr("src",t.data("webm")),r=!0):this.supportsOggTheoraVideo()&&(t.data("ogv")!==undefined?(t.attr("src",t.data("ogv")),r=!0):t.data("ogg")!==undefined&&(t.attr("src",t.data("ogg")),r=!0)),t.data("sourceDetected",r),r||i?(this._hideUnsupportedVideoSourceMsg(),this.options.browserControls||this._activeControlsIndex===0&&n("#"+this._id("_ctrls_play")).igButton("option","disabled",!1)):(this._showUnsupportedVideoSourceMsg(),this.options.browserControls||this._activeControlsIndex===0&&n("#"+this._id("_ctrls_play")).igButton("option","disabled",!0))},resetCommercialsShow:function(){this._buildCommercialsShow(),this._embeddedCommercialsShow=n.extend(!0,[],this.options.commercials.embeddedCommercials),this._embeddedCommercialIndex=0},_attachVideoEvents:function(t){var i=this;this._videoEvents={error:function(n){i._onVideoError(n)},progress:function(n){i._onVideoLoading(n)},waiting:function(n){i._onVideoWaiting(n),i._waiting(this.currentSrc,this.currentTime,this.duration,n)},seeking:function(){i._showWaitingIndicator()},seeked:function(){i._hideWaitingIndicator()},timeupdate:function(n){i._changeCurrentTime(n)},ended:function(t){i._showCenterPlayButton().removeClass("ui-igplayer-centerplaybutton-pause").addClass("ui-igplayer-centerplaybutton-play"),i._hideWaitingIndicator(),i.options.browserControls||n("span",n("#"+i._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause"),n("#"+i._id("_ctrls_pb")).igProgressBar("option","value",0),i.options.relatedVideos.length>0&&(i._onControlMouseOut(null),n("#"+i._id("_rvcc")).show()),i._buildBannersShow(),i.options.commercials.alwaysPlayCommercials&&i.resetCommercialsShow(),i._ended(this.currentSrc,this.duration,t)},playing:function(t){i._hideWaitingIndicator(),n("span",n("#"+i._id("_ctrls_play"))).addClass("ui-icon-pause").removeClass("ui-icon-play"),i._playing(this.currentSrc,this.duration,t)},pause:function(t){n("span",n("#"+i._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause"),i._paused(this.currentSrc,this.duration,t)},click:function(n){var t=i.options;t.browserControls||n.preventDefault(),n.button!==0||t.disabled||i._onVideoClick(!t.browserControls)},dblclick:function(n){n.preventDefault(),n.button!==0||i.options.disabled||i._onVideoDblClick()},selectstart:function(){return!1},loadedmetadata:function(){i._refreshDuration()}},t.bind(this._videoEvents)},_onVideoClick:function(n){if(this._embeddedCommercialPlaying){var t=this.options.commercials.embeddedCommercials[this._embeddedCommercialIndex].link;t&&t.length>0&&window.open(t,"_blank")}else n&&this.togglePlay()},_onVideoDblClick:function(){var n=this.options;this._setOption("fullscreen",!n.fullscreen),n.browserControls||this._toggleCenterPlayButton()},_attachEvents:function(t){var i=this;this._attachVideoEvents(t),this._generalEvts={keydown:function(t){t.keyCode===n.ui.keyCode.ESCAPE?i.options.fullscreen&&(i._setOption("fullscreen",!1),t.preventDefault(),t.stopPropagation()):t.keyCode===n.ui.keyCode.SPACE&&(t.preventDefault(),t.stopPropagation(),i.togglePlay())}},this._documentEvts={contextmenu:function(t){n(t.target).is("video")&&i.options.disabled&&(t.preventDefault(),t.stopPropagation())}},n(document).bind(this._documentEvts),this.options.browserControls||(this._controlsEvts={mouseenter:function(n){i._onControlMouseOver(n)},mouseleave:function(n){i._onControlMouseOut(n)}},this.container.bind(this._controlsEvts)),this.container.bind(this._generalEvts)},_handleKbNavigation:function(t){t.keyCode===n.ui.keyCode.HOME?(n(this.controlButtons[0]).focus(),t.stopPropagation(),t.preventDefault()):t.keyCode===n.ui.keyCode.END&&(n(this.controlButtons[this.controlButtons.length-1]).focus(),t.stopPropagation(),t.preventDefault())},_handleBlurKb:function(){this.currentVideo.removeClass(this.css.activeVideoClass)},_handleFocusKb:function(){this.currentVideo.addClass(this.css.activeVideoClass)},_onVideoLoading:function(n){this._detectBuffered(n)},_detectBuffered:function(t){var u=this.currentVideo[0],i=u.buffered,o=parseInt(u.duration,10),r=i?i.length:0,s=r>0?parseInt(i.start(r-1),10):0,f=r>0?parseInt(i.end(r-1),10):0,e=f/o*100;r>0&&this._previouslyBuffered!==e&&(this._previousBuffer&&f<parseInt(this._previousBuffer.end(0),10)&&n("#"+this._id("_ctrls_pb")).igProgressBar("option","value",s),n("#"+this._id("_ctrls_pb")).igProgressBar("option","endValue",f/o*100),this._buffering(u.currentSrc,e,t),this._previouslyBuffered=e,this._previousBuffer=i)},_getActiveControls:function(){var n=this._activeControlsIndex;return n!==undefined&&this.controls&&n>=0&&n<this.controls.length?this.controls[n].parent():null},_onControlMouseOver:function(){var t=this._getActiveControls(),i=this.options;t&&!i.browserControls&&i.autohide&&!n("#"+this._id("_rvcc")).is(":visible")&&t.show().removeClass(this.css.controlsHideClass)},_onControlMouseOut:function(){var n=this.options,t=this._getActiveControls();t&&!n.browserControls&&n.autohide&&t.addClass(this.css.controlsHideClass).hide()},_onVideoError:function(n){var t=n.target.error;switch(t.code){case t.MEDIA_ERR_NETWORK:this.play();break;case t.MEDIA_ERR_DECODE:case t.MEDIA_ERR_SRC_NOT_SUPPORTED:this._showUnsupportedVideoSourceMsg()}},_changeCurrentTime:function(t){var u=this.currentVideo[0],r=u.duration,i;r===Infinity?this._updateProgressLabel():isNaN(r)||(i=parseInt(u.currentTime,10),this._userSliding||n("#"+this._id("_ctrls_s")).igSlider("option","value",i/r*100),this._updateProgressLabel(),this._embeddedCommercialPlaying?(this._updateAdMessage(this.options.commercials.embeddedCommercials[this._embeddedCommercialIndex].endTime-i),this._checkEmbeddedCommercialShow(i)):this._commercialPlaying?this._updateAdMessage(r-i):(this._checkBannerShow(i),this._checkCommercialsShow(i),this._checkEmbeddedCommercialShow(i))),this._progress(u.currentSrc,i,r,t)},_checkBannerShow:function(n){var i=this._bannerShow||[],r=i.length,t=0;for(t;t<r;t++)i[t].length>0&&n>=i[t][0]&&(i[t].shift(),this.showBanner(t))},_checkCommercialsShow:function(n){this._commercialsShow&&this._commercialsShow.length>0&&n>=this._commercialsShow[0]&&!this._commercialPlaying&&(this._commercialPlaying=!0,n-this._commercialsShow[0]>this._const.COMMERCIAL_SEEK_DELTA&&this.currentTime(this._commercialsShow[0]),this.options.browserControls||this.playCommercial(this.options.commercials.linkedCommercials[this._commercialIndex]))},_checkEmbeddedCommercialShow:function(t){if(this._embeddedCommercialsShow&&this._embeddedCommercialsShow.length>0&&!this.currentVideo[0].seeking){var i=this._embeddedCommercialsShow[0];t>=i.startTime&&!this._embeddedCommercialPlaying?(this._embeddedCommercialPlaying=!0,t-i.startTime>this._const.COMMERCIAL_SEEK_DELTA&&this.currentTime(i.startTime),n("#"+this._id("_ctrls_s")).igSlider("option","disabled",!0),this._showAdMessage(i.endTime-i.startTime),i.link&&i.link.length>0&&this.currentVideo.attr({title:this._getLocaleValue("adNewWindowTip"),"data-localeid":"adNewWindowTip","data-localeattr":"title"})):t>=i.endTime&&this._embeddedCommercialPlaying&&(this._embeddedCommercialsShow.shift(),this._embeddedCommercialIndex++,this._embeddedCommercialPlaying=!1,this.hideAdMessage(),n("#"+this._id("_ctrls_s")).igSlider("option","disabled",!1),i.link&&i.link.length>0&&this.currentVideo.removeAttr("title"))}},_updateProgressLabel:function(){var i=this.currentVideo[0],u=n("#"+this._id("_ctrls_pl")),r=i.duration,f=parseInt(r,10),e=parseInt(i.currentTime,10),t=this.options.progressLabelFormat;t=t.replace("${currentTime}",this._toTimeString(e)).replace("${duration}",r===Infinity?this._getLocaleValue("liveStream "):this._toTimeString(f)),u.html(t)},_toTimeString:function(n){if(typeof n=="number"){var u=parseInt(n%60,10),r=parseInt(n/60,10),i=parseInt(r/60,10),f=parseInt(i/24,10),t="{0}d {1}:{2}:{3}";return r=parseInt(r%60,10),i=parseInt(i%60,10),t=t.replace("{3}",u<10?"0"+u:u).replace("{2}",r),i>0?(t=t.replace("{1}",i),t=f>0?t.replace("{0}",f):t.replace("{0}d ","")):t=t.replace("{0}d {1}:",""),t}return"NaN"},_onVideoWaiting:function(){this._showWaitingIndicator()},_createUnsupportedVideoSourceMsg:function(){var n=this.css;return this._createButton(this._id("_detectError"),n.unsupportedVideoSourceClass,n.unsupportedVideoSourceIconClass,this._getLocaleValue("missingVideoSource")).attr({title:this._getLocaleValue("unsupportedVideoSource"),"data-localeid":"unsupportedVideoSource","data-localeattr":"title"})},_showUnsupportedVideoSourceMsg:function(){var t=n("#"+this._id("_detectError"));return t.length===0&&(t=this._createUnsupportedVideoSourceMsg()),t.show()},_hideUnsupportedVideoSourceMsg:function(){n("#"+this._id("_detectError")).hide()},_createBigPlayButton:function(){var n=this,t=this.css;this._createButton(this._id("_play"),t.centerPlayButtonClass,t.centerPlayButtonIconClass,"").bind({click:function(t){t.preventDefault(),t.button===0&&n._onVideoClick(!0)},dblclick:function(t){t.preventDefault(),t.button===0&&n._onVideoDblClick()}})},_updateButtonLabel:function(t,i){var r=n("#"+t).find("[data-button-label]");r.length&&r.html(i)},_createButton:function(t,i,r,u){return n("<span data-button-label><\/span>").html(u).addClass(r).appendTo(n("<a><\/a>").attr("id",t).attr("href",this._const.HREF).attr("tabIndex",-1).addClass("ui-state-default").addClass(i).appendTo(this.container)),n("#"+t).bind({mouseover:function(){n(this).addClass("ui-state-hover")},mouseout:function(){n(this).removeClass("ui-state-hover")}}).hide()},_showCenterPlayButton:function(){var i=this.currentVideo,t=n("#"+this._id("_play")),r=Math.floor(i.height()/2),u=Math.floor(i.width()/2),f=r-Math.floor(t.innerHeight()/2),e=u-Math.floor(t.innerWidth()/2);return t.css("position","absolute").css("left",e).css("top",f),t.show()},_toggleCenterPlayButton:function(){var i=this.currentVideo[0],r=this.options,t=this.css;i.paused||i.ended?this._showCenterPlayButton().removeClass(t.centerPauseButtonClass).addClass(t.centerPlayButtonClass):this._showCenterPlayButton().removeClass(t.centerPlayButtonClass).addClass(t.centerPauseButtonClass),setTimeout(n.proxy(this._hideCenterPlayButton,this),r.centerButtonHideDelay)},_hideCenterPlayButton:function(){return n("#"+this._id("_play")).hide()},_createWaitingIndicator:function(){var n=this.css;this._createButton(this._id("_waiting"),n.waitingIndicatorClass,n.waitingIndicatorIconClass,this._getLocaleValue("buffering"))},_createSeekTimeToolTip:function(){n("<div><\/div>").attr("id",this._id("_seek_tooltip")).hide().igTooltip({text:"00:00",arrowLocation:"bottom"}).appendTo(this.container).addClass(this.css.seekTooltipClass)},_showSeekTimeToolTip:function(t,i,r){var u=n("#"+this._id("_seek_tooltip"));u.css("top",i-u.outerHeight()).css("left",t-u.width()/2).igTooltip("option","text",this._toTimeString(r)).show()},_showWaitingIndicator:function(){if(!n("#"+this._id("_detectError")).is(":visible")){var i=this.currentVideo,t=n("#"+this._id("_waiting")),r=Math.floor(i.height()/2),u=Math.floor(i.width()/2),f=r-Math.floor(t.innerHeight()/2),e=u-Math.floor(t.innerWidth()/2);t.css("position","absolute").css("left",e).css("top",f).show()}},_hideWaitingIndicator:function(){n("#"+this._id("_waiting")).hide()},_renderTitleControls:function(){var i=this.options.title,u=this,r,t='<div id="'+this._id("_title_ctrls")+'" class="ui-widget-header ui-igplayer-controls ui-igplayer-grid ui-igplayer-title-controls ui-corner-all">';return t+='<div class="ui-igplayer-row">',t+='<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-playback-alone">',t+='\t\t<a id="'+this._id("_title_ctrls_play")+'" class="ui-button ui-igplayer-playbutton ui-igplayer-playback-with-time ui-state-default ui-corner-all ui-priority-primary" href="'+this._const.HREF+'">',t+='\t\t\t<span title="'+this._getLocaleValue("play")+'" data-localeid="play" data-localeattr="title" class="ui-icon ui-icon-play ui-igplayer-playbutton-icon"><\/span>',t+='\t\t\t<span title="00:00" class="ui-button-text ui-igplayer-playbutton-text">00:00<\/span>',t+="\t\t<\/a>",t+="<\/div>",t+='<div id="'+this._id("_title_ctrls_t")+'" class="ui-igplayer-container ui-igplayer-cell ui-igplayer-video-title">',i&&i.length>0&&(t+=i),t+="<\/div><\/div><\/div>",r=n(t).appendTo(this.container).wrap('<div style="position:absolute; width: 100%;"><\/div>'),this.options.width&&r.parent().css("width",this.options.width),n("#"+this._id("_title_ctrls_play")).bind({click:function(n){n.preventDefault(),n.button!==0||u.options.disabled||u.togglePlay()}}),r},_hideTitleControls:function(){this._activeControlsIndex!==0&&(this._activeControlsIndex=0,n("#"+this._id("_title_ctrls")).addClass(this.css.controlsHideClass).parent().remove(),n("#"+this._id("_ctrls")).parent().show())},_convertBookmarks:function(n,t,i,r){var h=t.length,o=[],f=0,u,e,s;for(f;f<h;f++)u=t[f],u[n]>0&&u[n]<i&&(s=parseInt(u[n]/i*100,10),e={value:s,secondsValue:u[n],displayTime:this._toTimeString(u[n]),index:f,title:u.title,disabled:u.disabled},r&&r.length>0&&(e.css=r),o.push(e));return o},_renderBookmarks:function(){var e=this.options,o=e.bookmarks||[],i=e.commercials,s=i.linkedCommercials||[],h=i.embeddedCommercials||[],r=this.currentVideo[0].duration,t=[],u=[],f=[];i.showBookmarks&&(s.length>0&&(u=this._convertBookmarks("startTime",s,r,this.css.linkedBookmarkClass)),h.length>0&&(f=this._convertBookmarks("startTime",h,r,this.css.adBookmarkClass))),o.length>0&&(t=this._convertBookmarks("time",o,r),t.length>0&&this._renderBookmarkArea(t)),u.length>0&&n.merge(t,u),f.length>0&&n.merge(t,f),t.length>0&&n("#"+this._id("_ctrls_s")).igSlider("option","bookmarks",t),this._bookmarksRendered=!0},_renderBookmarkArea:function(t){if(t&&t.length>0){var i=this.css,h='<li class="ui-corner-all $class$"><span class="'+i.bookmarkItemTimeClass+'">$time$<\/span><span class="'+i.bookmarkItemTitleClass+'" title="$titleAttr$">$title$<\/span><\/li>',e='<div id="$id$" class="$bookmarkContainerClass$"><div class="$headerClass$" data-localeid="skipTo">$headerText$<\/div><ul class="$bookmarkListClass$">$list$<\/ul><\/div>',o="",s,u,f=0,c=t.length,r=this;for(f;f<c;f++)u=t[f],o+=h.replace("$time$",u.displayTime).replace("$titleAttr$",u.title).replace("$title$",u.title).replace("$class$",u.disabled?i.bookmarkItemDisabledClass:"");e=e.replace("$id$",this._id("_bookmarks")).replace("$bookmarkContainerClass$",i.bookmarkContainerClass).replace("$headerClass$",i.bookmarkContainerHeaderClass).replace("$bookmarkListClass$",i.bookmarkListClass).replace("$headerText$",this._getLocaleValue("skipTo")).replace("$list$",o),s=n(e).appendTo(this.container),this.bookmarkElements=n("li",n("#"+this._id("_bookmarks"))),this.bookmarkElements.each(function(i){n(this).data("bookmark-index",t[i].index),n(this).data("bookmark-sec-value",t[i].secondsValue)}),this.bookmarkElements.bind({click:function(i){var u=n(this).data("bookmark-index"),f=r.options.bookmarks[u];i.stopPropagation(),i.preventDefault(),f.disabled||(r.paused()&&r.togglePlay(),r.currentTime(n(this).data("bookmark-sec-value")),r._changeActiveBookmark(u),r._bookmarkClick(f,t[u],i))}}),this.options.height&&(this.currentVideo.css("height",this.container.height()-s.height()),this._resizeBookmarkAreaTimeoutId=setTimeout(n.proxy(this._onPlayerResize,this),500))}},_onPlayerResize:function(){var i=this.options,t=this.container.height(),r=this.container.width(),u=n("#"+this._id("_bookmarks"));(i.height||i.width)&&(this._oldContainerHeight!==t||this._oldContainerWidth!==r)&&(this.currentVideo.css("height",t-u.height()),this._oldContainerHeight=t,this._oldContainerWidth=r),this._resizeBookmarkAreaTimeoutId=setTimeout(n.proxy(this._onPlayerResize,this),250)},_ensureVolume:function(){this.options.volume=this.currentVideo[0].volume},_renderControls:function(){n("body").addClass("ui-igplayer-normal-screen-mode"),this.options.showSeekTime&&this._createSeekTimeToolTip();var h=this.currentVideo[0],f,t=this,r,e=[],o=this.options.autoplay,u=this._const.HREF,i='<div id="'+this._id("_ctrls")+'" class="$controlsClass$">',s;i+='\t\t\t<div class="ui-igplayer-row">',i+='\t\t\t\t<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-playback">',i+='\t\t\t\t\t<a id="$playButtonId$" class="$playButtonClass$" href="'+u+'"><\/a>',i+="\t\t\t\t<\/div>",i+='\t\t\t\t<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-progress-bar">',i+='\t\t\t\t\t<div id="$progressBarId$" class="$progressBarClass$"><\/div>',i+="\t\t\t\t<\/div>",i+='\t\t\t\t<div class="ui-igplayer-container ui-igplayer-extra">',i+='\t\t\t\t\t<div class="ui-igplayer-grid">',i+='\t\t\t\t\t\t<div class="ui-igplayer-row">',i+='\t\t\t\t\t\t\t<div class="ui-igplayer-cell">',i+='\t\t\t\t\t\t\t\t<a id="$progressLabelId$" class="$progressLabelClass$" href="'+u+'"><\/a>',i+="\t\t\t\t\t\t\t<\/div>",i+='\t\t\t\t\t\t\t<div class="ui-igplayer-cell">',i+="\t\t\t\t\t\t\t\t<div>",i+='\t\t\t\t\t\t\t\t\t<div id="$volumeSliderId$" class="$volumeSliderClass$"><\/div>',i+="\t\t\t\t\t\t\t\t\t<div>",i+='\t\t\t\t\t\t\t\t\t\t<a id="$volumeControlId$" class="$volumeControlClass$" href="'+u+'"><\/a>',i+="\t\t\t\t\t\t\t\t\t<\/div>",i+="\t\t\t\t\t\t\t\t<\/div>",i+="\t\t\t\t\t\t\t<\/div>",i+='\t\t\t\t\t\t\t<div class="ui-igplayer-cell">',i+='\t\t\t\t\t\t\t\t<a id="$fullScreenId$" class="$fullScreenClass$" href="'+u+'"><\/a>',i+="\t\t\t\t\t\t\t<\/div>",i+="\t\t\t\t\t\t<\/div>",i+="\t\t\t\t\t<\/div>",i+="\t\t\t\t<\/div>",i+="\t\t\t<\/div>",i+="\t\t<\/div>",i=i.replace("$playButtonClass$",this.css.playButtonClass).replace("$progressBarClass$",this.css.progressBarClass).replace("$fullScreenClass$",this.css.fullScreenClass).replace("$controlsClass$",this.css.controlsClass).replace("$volumeControlClass$",this.css.volumeControlClass).replace("$volumeSliderClass$",this.css.volumeSliderClass).replace("$progressLabelClass$",this.css.progressLabelClass),i=i.replace("$playButtonId$",this._id("_ctrls_play")).replace("$progressBarId$",this._id("_ctrls_s")).replace("$fullScreenId$",this._id("_ctrls_fs_btn")).replace("$volumeControlId$",this._id("_ctrls_vc_btn")).replace("$volumeSliderId$",this._id("_ctrls_vs")).replace("$progressLabelId$",this._id("_ctrls_pl")),r=n(i).appendTo(this.container).wrap('<div style="position:absolute; width: 100%;"><\/div>'),this.options.width&&r.parent().css("width",this.options.width),e.push(r),o||h.currentTime!==0?this._activeControlsIndex=0:(r.parent().hide(),this._activeControlsIndex=1,e.push(this._renderTitleControls())),this.controls=n(e),f=o?"playing":"paused",n("#"+this._id("_ctrls_play")).bind({click:function(i){i.preventDefault(),n(this).igButton("option","disabled")||t.togglePlay()}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:"ui-icon "+(o?"ui-icon-pause ":"ui-icon-play ")+"ui-igplayer-playbutton-icon "}}).addClass("ui-priority-primary").attr({title:this._getLocaleValue(f),"data-localeid":f,"data-localeattr":"title"}),n("#"+this._id("_ctrls_fs_btn")).bind({click:function(n){n.preventDefault(),t._setOption("fullscreen",!t.options.fullscreen)}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:this.css.fullScreenIconClass}}).attr({title:this._getLocaleValue("enterFullscreen"),"data-localeattr":"title","data-localeid":"enterFullscreen"}),n('<div id="'+this._id("_ctrls_pb")+'"><\/div>').appendTo(n("#"+this._id("_ctrls_s")).igSlider({slide:function(n,i){if(n.originalEvent===undefined)return!1;clearTimeout(t._slideTimeout),t._slideTimeout=setTimeout(t._createDelegate(t,t._slide,[i]),t._const.SLIDE_SEEK_TIMEOUT)},start:function(){t._userSliding=!0},stop:function(){t._userSliding=!1},bookmarkhit:function(n,i){var r=i.bookmark.index,u=t.bookmarkElements;u&&u.length>0&&(t._changeActiveBookmark(r),t._bookmarkHit(t.currentVideo[0].currentSrc,t.options.bookmarks[r],u[r],n))},bookmarkclick:function(i,r){var u;return n(r.bookmarkElement).hasClass("ui-igplayer-linked-bookmark")?u=t.options.commercials.linkedCommercials[r.bookmark.index]:n(r.bookmarkElement).hasClass("ui-igplayer-ad-bookmark")?u=t.options.commercials.embeddedCommercials[r.bookmark.index]:(u=t.options.bookmarks[r.bookmark.index],t._changeActiveBookmark(r.bookmark.index)),s=u.time?u.time:u.startTime,t.currentTime(s),t._bookmarkClick(u,r.bookmarkElement,i),!1},min:0,max:100,animate:!0}).css("display","block")).igProgressBar({range:!0,endValue:0}),n("#"+this._id("_ctrls_pb")).bind({mousemove:function(i){if(t.options.showSeekTime&&this.offsetWidth>0){var e=i.pageX-this.offsetLeft-n(this).igOffset().left,o=parseInt(e/this.offsetWidth*100,10),r=h.duration,u,f=t.container.igOffset();isNaN(r)||r===Infinity||t._commercialPlaying||(u=parseInt(o*r/100,10),t._showSeekTimeToolTip(i.pageX-f.left,i.pageY-f.top,u))}},mouseout:function(){n("#"+t._id("_seek_tooltip")).hide()}}),n("#"+this._id("_ctrls_pl")).bind({click:function(n){n.preventDefault()}}),n("#"+this._id("_ctrls_vc_btn")).bind({mouseover:function(){t._showVolumeSlider()},mouseout:function(i){n.contains(i.currentTarget,i.relatedTarget)||i.currentTarget===i.relatedTarget||(t._volumeSliderTimeoutId=setTimeout(n.proxy(t._hideVolumeSlider,t),t.options.volumeAutohideDelay))},click:function(n){n.preventDefault(),t._setOption("muted",!t.options.muted)}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:"ui-icon "+(this.options.muted?"ui-icon-volume-off":"ui-icon-volume-on")+" ui-igbutton-icon"}}).attr({title:this._getLocaleValue("volume"),"data-localeid":"volume","data-localeattr":"title"}),n("#"+this._id("_ctrls_vs")).hide().bind({mouseover:function(){t._volumeSliderMouseOut=!1,clearTimeout(t._volumeSliderTimeoutId)},mouseout:function(){t._userSlidingVolume||(t._volumeSliderTimeoutId=setTimeout(n.proxy(t._hideVolumeSlider,t),t.options.volumeAutohideDelay)),t._volumeSliderMouseOut=!0}}).igSlider({slide:function(n,i){n.originalEvent!==undefined&&t._setOption("volume",parseFloat(parseInt(i.value,10)/100))},start:function(){t._userSlidingVolume=!0},stop:function(){t._userSlidingVolume=!1},min:0,max:100,step:10,orientation:"vertical",value:this.options.muted?0:this.options.volume*100}),n("#"+this._id("_ctrls_vs")).data("igSlider").handle.attr("tabIndex",-1).bind({blur:function(){t._volumeSliderTimeoutId=setTimeout(n.proxy(t._hideVolumeSlider,t),t.options.volumeAutohideDelay)}}),this.controlButtons=n([document.getElementById(this._id("_ctrls_play")),n("a.ui-state-default",n("#"+this._id("_ctrls_s")))[0],document.getElementById(this._id("_ctrls_vc_btn")),document.getElementById(this._id("_ctrls_fs_btn"))]),this.controlButtons.each(function(t){n(this).data("index.control-button",t)}),this.controlButtons.bind({keydown:function(n){t._handleKbNavigation(n)},focus:function(n){t._handleFocusKb(n)},blur:function(n){t._handleBlurKb(n)}}),n("#"+this._id("_ctrls_vc_btn")).bind({focus:function(){t._showVolumeSlider()},blur:function(){t._transferFocusFromVolumeButtonToVolumeSlider||t._hideVolumeSlider(),t._transferFocusFromVolumeButtonToVolumeSlider=!1},keydown:function(i){i.keyCode===n.ui.keyCode.TAB&&(i.preventDefault(),i.stopPropagation(),t._transferFocusFromVolumeButtonToVolumeSlider=!0,n("#"+t._id("_ctrls_vs")).data("igSlider").handle.focus())}}),n("#"+t._id("_ctrls_vs")).data("igSlider").handle.bind({keydown:function(i){i.keyCode===n.ui.keyCode.TAB&&(i.preventDefault(),i.stopPropagation(),n("#"+t._id("_ctrls_fs_btn")).focus())}})},_updateNotSupportedBrowserContainer:function(){var t=this.container.find("[data-not-supported-browser]");t.length&&(t.remove(),n.ig.util._renderUnsupportedBrowser(this,this._getLocaleDictionary()))},changeLocale:function(){this._super();var t=n("#"+this._id("_rv_bar_replay")),i=n("#"+this._id("_ctrls_pl"));t.length&&t.igButton("option",{labelText:this._getLocaleValue("replayButton")}),i.length&&this._updateProgressLabel(),this._updateButtonLabel(this._id("_waiting"),this._getLocaleValue("buffering")),this._updateButtonLabel(this._id("_detectError"),this._getLocaleValue("missingVideoSource")),this._refreshDuration(!0),this._updateNotSupportedBrowserContainer()},_slide:function(n){var i=n.value,t=this.currentVideo[0].duration,r=t*(i/100);isNaN(t)||t===Infinity||this.currentTime(r),this._userSliding=!1},_changeActiveBookmark:function(t){var r=this._activeBookmarkIndex,i=this.bookmarkElements;i&&i.length>0&&t!==r&&(r>=0&&r<i.length&&n(i[r]).removeClass(this.css.bookmarkActiveItemClass),t>=0&&t<i.length&&(n(i[t]).addClass(this.css.bookmarkActiveItemClass),this._activeBookmarkIndex=t))},_adjustVolumeButton:function(t){var i=n("#"+this._id("_ctrls_vc_btn"));t===0?n("span",i).removeClass("ui-icon-volume-on").addClass("ui-icon-volume-off"):n("span",i).removeClass("ui-icon-volume-off").addClass("ui-icon-volume-on")},_hideVolumeSlider:function(){var t=n("#"+this._id("_ctrls_vs"));t.data("igSlider").handle.attr("tabIndex",-1),t.hide()},_showVolumeSlider:function(){clearTimeout(this._volumeSliderTimeoutId);var t=n("#"+this._id("_ctrls_vs"));t.data("igSlider").handle.removeAttr("tabIndex"),t.show()},_ended:function(n,t,i){var r={source:n,duration:t};return this._trigger(this.events.ended,i,r)},_playing:function(n,t,i){var r={source:n,duration:t,currentTime:this.currentVideo[0].currentTime};return this._trigger(this.events.playing,i,r)},_paused:function(n,t,i){var r={source:n,duration:t,currentTime:this.currentVideo[0].currentTime};return this._trigger(this.events.paused,i,r)},_buffering:function(n,t,i){var r={source:n,buffered:t};return this._trigger(this.events.buffering,i,r)},_progress:function(n,t,i,r){var u={source:n,currentTime:t,duration:i};return this._trigger(this.events.progress,r,u)},_waiting:function(n,t,i,r){var u={source:n,currentTime:t,duration:i};return this._trigger(this.events.waiting,r,u)},_bookmarkHit:function(n,t,i,r){var u={source:n,bookmark:t,bookmarkElement:i};return this._trigger(this.events.bookmarkHit,r,u)},_bookmarkClick:function(n,t,i){var r={bookmark:n,bookmarkElement:t};return this._trigger(this.events.bookmarkClick,i,r)},_enterFullScreen:function(n){var t={source:n};return this._trigger(this.events.enterFullScreen,null,t)},_exitFullScreen:function(n){var t={source:n};return this._trigger(this.events.exitFullScreen,null,t)},_bannerVisible:function(n,t){var i={index:n,banner:this.options.banners[n],bannerElement:t};return this._trigger(this.events.bannerVisible,null,i)},_bannerHidden:function(n,t){var i={index:n,banner:this.options.banners[n],bannerElement:t};return this._trigger(this.events.bannerHidden,null,i)},_prepareForPlay:function(){var i=this.options,t=this.currentVideo;n("source",t).length===0&&this._renderSources(i.sources,t),t.data("sourceDetected")||this._analyzeSource(t),this._hideTitleControls(),i.relatedVideos&&i.relatedVideos.length>0&&n("#"+this._id("_rvcc")).hide()},togglePlay:function(){var t=this.currentVideo[0];this._prepareForPlay(),this._toggleCenterPlayButton(),t.paused||t.ended?(this.options.browserControls||n("#"+this._id("_ctrls_play")).attr({title:this._getLocaleValue("playing"),"data-localeid":"playing","data-localeattr":"title"}),t.play()):(this.options.browserControls||n("#"+this._id("_ctrls_play")).attr({title:this._getLocaleValue("paused"),"data-localeid":"paused","data-localeattr":"title"}),t.pause())},play:function(){var t=this.currentVideo[0];(t.paused||t.ended)&&(this._prepareForPlay(),this._toggleCenterPlayButton(),this.options.browserControls||n("#"+this._id("_ctrls_play")).attr({title:this._getLocaleValue("playing"),"data-localeid":"playing","data-localeattr":"title"}),t.play())},pause:function(){var t=this.currentVideo[0];t.paused||(this._toggleCenterPlayButton(),this.options.browserControls||n("#"+this._id("_ctrls_play")).attr({title:this._getLocaleValue("paused"),"data-localeid":"paused","data-localeattr":"title"}),t.pause())},currentTime:function(t){var i=this.currentVideo[0],r=i.duration;if(t!==null&&t!==undefined){try{if(n.ig.util.isIE)n(i).on("loadedmetadata",function(){this.currentTime=t});i.currentTime=t,n("#"+this._id("_ctrls_pb")).igProgressBar("option","value",(t/r).toFixed(2)*100),this._checkCommercialsShow(t),this._checkEmbeddedCommercialShow(t)}catch(u){}i.paused&&!isNaN(r)&&n("#"+this._id("_ctrls_s")).igSlider("option","value",(t/r).toFixed(2)*100)}return parseInt(i.currentTime,10)},screenshot:function(t){t&&n.type(t)==="number"||(t=1);var r=this.currentVideo[0],u=r.videoWidth*t,f=r.videoHeight*t,i=document.createElement("canvas"),e;return i.getContext&&(i.width=u,i.height=f,e=i.getContext("2d"),e.drawImage(r,0,0,u,f)),i},supportsVideo:function(){return!!document.createElement("video").canPlayType},supportsH264BaselineVideo:function(){if(!this.supportsVideo())return!1;var n=document.createElement("video");return n.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')!==""},supportsOggTheoraVideo:function(){if(!this.supportsVideo())return!1;var n=document.createElement("video");return n.canPlayType('video/ogg; codecs="theora, vorbis"')!==""},supportsWebmVideo:function(){if(!this.supportsVideo())return!1;var n=document.createElement("video");return n.canPlayType('video/webm; codecs="vp8, vorbis"')!==""},paused:function(){return this.currentVideo[0].paused},ended:function(){return this._getMainVideo()[0].ended},duration:function(){return this._refreshDuration(),this._duration},_refreshDuration:function(t){var i=this.currentVideo[0].duration;(i!==this._duration||t)&&(this._duration=i,i===Infinity?(this._updateTitleControlsTimeString(this._getLocaleValue("live"),this._getLocaleValue("liveStream")),n("#"+this._id("_ctrls_s")).data("igSlider").handle.hide(),n("#"+this._id("_ctrls_s")).igSlider("option","disabled",!0)):isNaN(i)||(this._commercialPlaying?this._showAdMessage(parseInt(i,10)):(this._updateTitleControlsTimeString(this._toTimeString(i)),!this._bookmarksRendered&&i>0&&this._renderBookmarks())))},seeking:function(){return this.currentVideo[0].seeking},destroy:function(){var t=this.css,i=this.options.fullscreen;clearTimeout(this._scrollingTimoutId),clearTimeout(this._volumeSliderTimeoutId),clearTimeout(this._onVideoStateChangeId),clearTimeout(this._resizeBookmarkAreaTimeoutId),this._oldWidth&&this.element.css("width",this._oldWidth),this._oldHeight&&this.element.css("height",this._oldHeight),this.container.unbind(this._generalEvts),n(document).unbind(this._documentEvts),this._controlsEvts&&this.container.unbind(this._controlsEvts),this.container.removeClass(t.baseClasses),n("#"+this._id("_ctrls_s")).igSlider("destroy"),n("#"+this._id("_ctrls_pb")).igProgressBar("destroy"),n("#"+this._id("_ctrls_vs")).igSlider("destroy"),n("#"+this._id("_seek_tooltip")).igTooltip("destroy"),this._commercialsShow&&(delete this._commercialsShow,delete this._commercialIndex,delete this._commercialPlaying),this._embeddedCommercialsShow&&(delete this._embeddedCommercialPlaying,delete this._embeddedCommercialIndex,delete this._embeddedCommercialsShow),delete this.bookmarkElements,delete this.relatedVideoElements,delete this.controlButtons,delete this._bannerShow,delete this.banner,this.element.is("video")?(this.element.unbind(this._videoEvents),this.element.removeClass(t.videoClass),this._restoreExistingVideoProperties(this.element),n(":not(video)",this.container).remove(),this.element.unwrap()):this.container.children().remove(),i&&n(".ui-igplayer-full-screen-mode").removeClass("ui-igplayer-full-screen-mode"),this._superApply(arguments)},_destroyBookmarks:function(){this.bookmarkElements&&this.bookmarkElements.length>0&&(this.bookmarkElements.unbind(),this.bookmarkElements.removeData(),delete this.bookmarkElements,n("#"+this._id("_bookmarks")).remove(),n("#"+this._id("_ctrls_s")).igSlider("clearBookmarks"),this._bookmarksRendered=!1)},_destroyRelatedVideos:function(){var t=this.options.relatedVideos;t&&t.length>0&&(n("#"+this._id("_rvcc")).remove(),delete this.relatedVideoElements,t=[])},_destroyControls:function(){var t=this.options.browserControls;t||(n("#"+this._id("_ctrls_play")).igButton("destroy"),n("#"+this._id("_ctrls_vc_btn")).igButton("destroy"),n("#"+this._id("_ctrls_fs_btn")).igButton("destroy"),n("#"+this._id("_ctrls_pb")).igProgressBar("destroy"),n("#"+this._id("_ctrls_s")).igSlider("destroy"),n("#"+this._id("_ctrls_vs")).igSlider("destroy"),this.controls.each(function(){n(this).parent().remove()}),delete this.controls,delete this.controlButtons,delete this._activeControlsIndex)}}),n.extend(n.ui.igVideoPlayer,{version:"19.2.25"})}(n),function(n){var t=function(n){return n===null||n===undefined};n.widget("ui.igTreeGrid",n.ui.igGrid,{css:{containerClasses:"ui-igtreegrid",expandCellExpanded:"ui-icon ui-igtreegrid-expansion-indicator ui-icon-minus",expandCellCollapsed:"ui-icon ui-igtreegrid-expansion-indicator ui-icon-plus",dataSkipCell:"ui-igtreegrid-non-data-column",expandColumn:"ui-igtreegrid-expansion-indicator-cell",dataColumnExpandContainer:"ui-igtreegrid-expansion-indicator-container",expandColumnContainer:"ui-igtreegrid-expansion-column-container",expandContainer:"ui-igtreegrid-expandcell",expandHeaderCell:"ui-igtreegrid-expansion-indicator-header-cell ui-iggrid-header ui-widget-header",rowLevel:"ui-igtreegrid-rowlevel"},options:{indentation:30,initialIndentationLevel:-1,showExpansionIndicator:!0,expandTooltipText:null,collapseTooltipText:null,foreignKey:null,initialExpandDepth:-1,foreignKeyRootValue:-1,renderExpansionIndicatorColumn:!1,renderFirstDataCellFunction:null,childDataKey:"childData",renderExpansionCellFunction:null,enableRemoteLoadOnDemand:!1,dataSourceSettings:{propertyExpanded:null,propertyDataLevel:null,expandedKey:"__ig_options.expanded",dataLevelKey:"__ig_options.dataLevel",initialFlatDataView:!1},locale:{expandTooltipText:undefined,collapseTooltipText:undefined},virtualizationMode:"continuous",avgColumnWidth:null,avgRowHeight:25,columnVirtualization:null,restSettings:{}},events:{rowExpanding:"rowExpanding",rowExpanded:"rowExpanded",rowCollapsing:"rowCollapsing",rowCollapsed:"rowCollapsed"},_isHierarchicalDataSource:!0,_create:function(){this._checkForUnsoppertedScenarios();var t=this.options.renderFirstDataCellFunction;t&&n.type(t)!=="function"&&window[t]&&typeof window[t]=="function"&&(t=window[t]),this._renderFirstDataCellHandler=t&&n.type(t)==="function"?t:n.proxy(this._renderFirstDataCell,this),t=this.options.renderExpansionCellFunction,t&&n.type(t)!=="function"&&window[t]&&typeof window[t]=="function"&&(t=window[t]),this._renderExpandCellHandler=t&&n.type(t)==="function"?t:n.proxy(this._renderExpandCell,this),this._overrideFunctions(),this._attachEvents(),this.element.data(n.ui.igGrid.prototype.widgetName,this.element.data(n.ui.igTreeGrid.prototype.widgetName)),this.options.dataSourceSettings.expandedKey=this.options.dataSourceSettings.propertyExpanded||this.options.dataSourceSettings.expandedKey,this.options.dataSourceSettings.dataLevelKey=this.options.dataSourceSettings.propertyDataLevel||this.options.dataSourceSettings.dataLevelKey,n.ui.igGrid.prototype._create.apply(this,arguments),this.element.attr("role","treegrid")},_changeLanguage:function(t){var f=this,r,i,e=this.options.features,u;for(this.options.language=t,r=0;r<e.length;r++)i=this.options.features[r],i&&i.name&&(u=this.element.data("igTreeGrid"+i.name)||this.element.data("igGrid"+i.name),u&&u._setOptions({language:t}));this.container().find("[data-expand-button]").each(function(){f._changeLocaleForElement(n(this))})},_checkForUnsoppertedScenarios:function(){if(this._rowVirtualizationEnabled()&&this.options.virtualizationMode==="fixed")throw new Error(this._getLocaleValue("fixedVirtualizationNotSupported"));},_wrapElementDiv:function(){n.ui.igGrid.prototype._wrapElementDiv.apply(this,arguments),this.element.data(n.ui.igTreeGrid.prototype.widgetName,this),this._overrideFunctions()},_removeOverridenFunction:function(){if(this._functionsOverriden){var n,t=this._functionsOverriden;for(n in t)t.hasOwnProperty(n)&&(this.element[n]=t[n]);delete this._functionsOverriden}},_overrideFunctions:function(){this._overrideFunction("bind"),this._overrideFunction("unbind"),this._overrideFunction("on"),this._overrideFunction("off")},_overrideFunction:function(t){var i=this.element,r;n.type(i[t])==="function"&&(this._functionsOverriden||(this._functionsOverriden={}),r=i[t],this._functionsOverriden[t]||(this._functionsOverriden[t]=r),i[t]=function(t,u,f){var o="iggrid",s=arguments.length,e,h;if(n.type(t)==="string"&&t.indexOf(o)===0&&t.length>o.length&&(s===2||s===3))return(t="igtreegrid"+t.substr(o.length),s===2)?r.call(i,t,u):r.call(i,t,u,f);if(n.type(t)==="object")for(e in t)t.hasOwnProperty(e)&&n.type(e)==="string"&&e.indexOf(o)===0&&(h=e,e="igtreegrid"+e.substr(o.length),t[e]=t[h]);return r.apply(i,arguments)})},_updateParentRowAfterDelete:function(n,t){var u,o,i,f,s=this.dataSource,e,r,h=this.dataSource.getDataBoundDepth();if(!isNaN(t)&&!(t<=0)){while(n.length===1){if(u=parseInt(n.attr("aria-level"),10),isNaN(u))break;if(u<t){o=!0;break}n=n.prev("tr")}o&&(i=n.attr("data-id"),e=this.columnByKey(this.options.primaryKey),r=e.dataType==="number"||e.dataType==="numeric"?s.findRecordByKey(parseInt(i,10)):s.findRecordByKey(i),r&&(f=r[this.options.childDataKey],f&&f.length!==0||(this.hasFixedColumns()&&(n=this.container().find('tr[data-id="'+i+'"]')),n.find("span[data-expandcell-indicator]").empty(),n.find("td[data-expand-cell]").removeAttr("data-expand-cell")))),this._rerenderDataSkipColumn(h)}},rollback:function(t,i){var r=n.ui.igGrid.prototype.rollback.apply(this,arguments),f,e,o,u,s,h;if(i===!0)if(t!==null&&t!==undefined){if(r===null||r===undefined||r.length===0)return;for(e=r.length;e-->0;)f=r[e],u=this.element.find("tr[data-id='"+f.rowId+"']"),f.type==="insertnode"&&(o=this.element.children("tbody").children("tr:not([data-container],[data-grouprow])").index(u),s=u.prev("tr"),h=parseInt(u.attr("aria-level"),10),u.remove(),this._reapplyZebraStyle(o),this._updateParentRowAfterDelete(s,h))}else this.dataBind();return r},dataBind:function(){this._initialized?this._inferOpType()==="remote"&&this.dataSource&&this.dataSource.schema()&&(this.dataSource._data=[]):(this._renderExtraHeaderCellHandler=n.proxy(this._renderExtraHeaderCells,this),this._renderExtraFooterCellHandler=n.proxy(this._renderExtraFooterCells,this),this._headerInitCallbacks.push({type:"TreeGrid",func:this._renderExtraHeaderCellHandler}),this._footerInitCallbacks.push({type:"TreeGrid",func:this._renderExtraFooterCellHandler})),n.ui.igGrid.prototype.dataBind.apply(this,arguments)},_generateDataSourceOptions:function(){var r=this.options,t=r.dataSource,f,u,i=n.ui.igGrid.prototype._generateDataSourceOptions.apply(this,arguments);return i.treeDS={childDataKey:r.childDataKey,initialExpandDepth:r.initialExpandDepth,foreignKey:r.foreignKey,foreignKeyRootValue:r.foreignKeyRootValue},i.treeDS=n.extend(i.treeDS,r.dataSourceSettings),i.treeDS.enableRemoteLoadOnDemand=r.enableRemoteLoadOnDemand,i.treeDS.dataSourceUrl=r.dataSourceUrl,r.dataSourceUrl===null&&typeof t=="string"&&(i.treeDS.dataSourceUrl=t),f=t&&typeof t._xmlToArray=="function"&&typeof t._encodePkParams=="function",f?t._isHierarchicalDataSource!==undefined?(t.settings.treeDS=t.settings.treeDS||{},t.settings.treeDS=n.extend(t.settings.treeDS,i.treeDS)):(u=n.type(t.settings.dataSource)==="array"||n.type(t.settings.dataSource)==="object"?t.settings.dataSource:n.type(t.settings.dataSource)!=="string"?t.data():[],t.settings.dataSource=null,t.settings.data=null,i&&i.dataSource&&(i.dataSource=null),i=n.extend(!0,{},t.settings,i),i.dataSource=u,u=null,r.dataSource=new n.ig.TreeHierarchicalDataSource(i)):i.dataSource=t,r.dataSourceType!==null&&(i.type=r.dataSourceType),i},_getDataColumns:function(n){for(var i,r=[],f=n.length,u,t=0;t<f;t++)if(n[t].group!==undefined&&n[t].group!==null)for(u=this._getDataColumns(this._getDataColumns(n[t].group)),i=0;i<u.length;i++)r.push(u[i]);else r.push(n[t]);return r},_generateDataSourceSchema:function(){var i,u,e,h,o,r=this._getDataColumns(this.options.columns),s,c,f=this.options.dataSource;if(r.length>0)for(i={},i.fields=[],e=0,u=0;u<r.length;u++)r[u].unbound!==!0&&(i.fields[e]={},i.fields[e].name=r[u].key,i.fields[e].type=r[u].dataType,i.fields[e].mapper=r[u].mapper,e++);else if(this.options.autoGenerateColumns&&(i={},i.fields=[],n.type(f)==="string"&&this.dataSource&&(f=this.dataSource.data()),f&&f.length&&n.type(f)==="array")){h=f[0];for(o in h)if(h.hasOwnProperty(o)){for(s=0;s<r;s++)if(r[s].key===o){c=r[s];break}if(t(c))i.fields.push({name:o,type:n.ig.getColType(h[o])});else{if(c.unbound===!0)continue;i.fields.push({name:o,type:c.dataType})}}}return i&&(i.searchField=this.options.responseDataKey),this._trigger(this.events.schemaGenerated,null,{owner:this,schema:i,dataSource:f}),i},_createDataSource:function(t){var i=this.options.dataSource,r;return r=i&&typeof i._xmlToArray=="function"&&typeof i._encodePkParams=="function"?n.ui.igGrid.prototype._createDataSource.apply(this,arguments):new n.ig.TreeHierarchicalDataSource(t)},_containersRendered:function(){this.options.renderExpansionIndicatorColumn&&this._addDataSkipColumn()},_renderData:function(){var t=this._initialized;n.ui.igGrid.prototype._renderData.apply(this,arguments),t||this._bindEvtsToExpIndicators()},_bindEvtsToExpIndicators:function(){var i=this.container(),t;t=this.options.renderExpansionIndicatorColumn?"td[data-expand-cell=1]":"tbody>tr>td>span[data-expandcell-indicator]",i.off(".toggleTreegrid");i.on({"mouseup.toggleTreegrid":n.proxy(this._onMouseUpExpander,this),"keydown.toggleTreegrid":n.proxy(this._onKeyDownExpander,this),"click.toggleTreegrid":function(n){n.stopPropagation()}},t)},_getTotalRowCount:function(){return this._getDataView().length},_getDataView:function(){return this.dataSource.flatDataView()},_renderVirtualRecordsContinuous:function(i){var f,s,h=!1,r,c,l,e,o,u;if(t(i))n.ui.igGrid.prototype._renderVirtualRecordsContinuous.apply(this,arguments);else{if(this._totalRowCount=this._getTotalRowCount(),i>this._totalRowCount)return n.ui.igGrid.prototype._renderVirtualRecordsContinuous.apply(this,arguments);this._virtualRowCount=this._determineVirtualRowCount(),this._virtualRowCount>this._totalRowCount&&(this._virtualRowCount=this._totalRowCount),f=i+parseInt(this._virtualRowCount,0),f>this._totalRowCount&&(f=this._totalRowCount-1,i=f-this._virtualRowCount,h=!0,i<0&&(i=0)),r=n(document.activeElement),c=r.closest("td"),l=r.closest("tr"),o=c.index(),e=l.attr("id"),this._renderRecords(i,f),this._avgRowHeight=this._calculateAvgRowHeight(),this._setScrollContainerHeight(this._totalRowCount*this._avgRowHeight),h&&(s=this._scrollContainer(),s[0].scrollTop=this._totalRowCount*this._avgRowHeight+1),e&&(u=n("#"+e.replace(/(:|\.|\[|\]|,|\/)/g,"\\$1")),u.length&&(r.is("tr")?(r=u,u.focus()):r.is("td")?(r=u.children("td:nth-child("+(o+1)+")"),r.focus()):r.attr("data-expand-button")!==undefined&&(r=u.find("[data-expand-button]"),r.focus()),this._fireInternalEvent("_virtualRecordsRendered",{row:u,activeElement:r,cellInd:o})))}},_rerenderDataSkipColumn:function(){var n=this.container();n.find("thead").find("th").find("[data-treegrid-th]").remove(),this._rerenderColgroups(),this.options.width===null?this._updateContainersWidthOnGridWidthNull():this._adjustLastColumnWidth(!0)},_addDataSkipColumn:function(i){if(this.options.renderExpansionIndicatorColumn){var f=this.options.indentation,u,e,h,r,o,s;t(i)&&(i=this.options.initialIndentationLevel>0?this.options.initialIndentationLevel:this.dataSource.getDataBoundDepth()),i=i||1,i>=0&&(u=parseInt(f,10)*i,f&&f.indexOf&&f.indexOf("%")>=0&&(u=u+"%"),s=this.hasFixedColumns()&&this.fixingDirection()==="left",h=s?this.fixedBodyContainer().find("colgroup:first"):this.element.find("colgroup:first"),this._addColHelper(h,u),r=s?this.fixedHeadersTable():this.headersTable(),r.attr("id")!==this.element.attr("id")&&this._addColHelper(r.find("colgroup:first"),u),o=s?this.fixedFootersTable():this.footersTable(),o.attr("id")!==this.element.attr("id")&&this._addColHelper(o.find("colgroup"),u),r.find("> thead th[data-treegrid-th]").length||(e=r.find("> thead tr:nth-child(1) th.ui-iggrid-rowselector-header").length?n("<th><\/th>").insertAfter(r.find("> thead tr:nth-child(1) th.ui-iggrid-rowselector-header")):n("<th><\/th>").prependTo(r.find("> thead tr:nth-child(1)")),e.addClass(this.css.expandHeaderCell).attr("data-skip",!0).attr("data-treegrid-th",!0),this._isMultiColumnGrid&&e.attr("rowspan",this._maxLevel+1)))}},_addColHelper:function(t,i){var r=t.find("col[data-treegrid-col]");r.length===0&&(r=n("<col />").prependTo(t).attr("data-skip","true").attr("data-treegrid-col","true")),i&&r.width(i)},_renderHeader:function(){n.ui.igGrid.prototype._renderHeader.apply(this,arguments),this.container().addClass(this.css.containerClasses)},_getHtmlForDataView:function(n,t,i,r){var u,f,e="";for(n=n||this._getDataView(),f=n.length,i===undefined&&(i=0,r=f-1),i!==undefined&&r===undefined&&(r=i,i=0),i=i<0?0:i,r=r>f-1?f-1:r,u=i;u<=r;u++)e+=this._renderRecord(n[u],u,t);return e},_renderRecord:function(n,t,i,r){return this._renderRecordInternal(n,t,i,r)},_renderRecordInternal:function(i,r,u,f){var e="",l,p,w,o,b,a=this.options,s=this.options.primaryKey,v,h,y=this.id(),c="";return f||(o=i[a.childDataKey],b=o&&(o===!0||n.type(o)==="array"&&(a.enableRemoteLoadOnDemand||o.length>0)),f={dataBoundDepth:i[a.dataSourceSettings.dataLevelKey],parentCollapsed:!1,hasExpandCell:b,children:o,expand:i[a.dataSourceSettings.expandedKey]}),v=f.dataBoundDepth,h=this.css.rowLevel+v,e+="<tr",r%2!=0&&this.options.alternateRowStyles&&(h+=" "+this.css.recordAltClass),this._transformCssCallback&&(h=this._transformCssCallback(h,i)),e+=' class="'+h+'" data-row-idx="'+r+'" aria-level="'+v+'"',t(s)?t(i.ig_pk)||(e+=' data-id="'+i.ig_pk+'" id="'+y+"_"+i.ig_pk+'"'):e+=' data-id="'+this._kval_from_key(s,i)+'" id="'+y+"_"+this._kval_from_key(s,i)+'"',f.parentCollapsed&&v>0&&(e+=' style="display: none;"'),f.hasExpandCell&&(n(f.children).each(function(){c+=y+"_"+this[s]+" "}),c=c.trimEnd(),c!==""&&(e+=' aria-owns="'+c),e+='" aria-expanded="'+f.expand+'"'),e+=' role="row" tabIndex="'+this.options.tabIndex+'">',p=this._isDataContainerOnTheLeft(u),this._shouldRenderDataSkipColumn(u)&&(e+=this._selection&&this._selection instanceof n.ig.SelectedRowsCollection?this._editCellStyle(this._renderExpandCellHandler(f),i,s):this._renderExpandCellHandler(f)),l=n.ui.igGrid.prototype._renderRecord.call(this,i,r,u),p?e+=this._renderFirstDataCellHandler(l,f):(w=l.indexOf("<td"),e+=l.substring(w)),e},_shouldRenderDataSkipColumn:function(n){var t;return this.options.renderExpansionIndicatorColumn?this.hasFixedColumns()?(t=this.fixingDirection()==="left",!n&&t&&this._isFixedNonDataColumnsOnly())?!1:this._isDataContainerOnTheLeft(n):!0:!1},_renderFirstDataCell:function(n,t){var i="",f,r,e,o,u;return(f=n.indexOf("<td"),f===-1)?"":(r=n.substring(f),e=r.indexOf(">",2),o=r.substring(e+1),i=r.substring(0,e),this.options.renderExpansionIndicatorColumn?i+=' data-cell-shift-container="1">':(u=i.indexOf('class="'),u>-1?i=i.substring(0,u+7)+this.css.expandColumn+" "+i.substr(u+7):i+=' class="'+this.css.expandColumn+'"',i+=' data-expand-cell="1">'),i+=this._renderExpandCellContainer(t),i+=o)},_renderExpandCellContainer:function(n){var t="",i,r=n.dataBoundDepth;return i=r>0?parseInt(this.options.indentation,10)*r:0,t=this.options.renderExpansionIndicatorColumn?'<span class="'+this.css.dataColumnExpandContainer+'" data-shift-container="1" style="display: inline-block; margin-left:'+i+'px;"><\/span>':this._renderExpandCellContainerHelper(n)},_renderExpandCellContainerHelper:function(t){var i="",u,f,r,e=t.dataBoundDepth,o=this.css.expandContainer,s=t.hasExpandCell;return this.options.renderExpansionIndicatorColumn&&(o=this.css.expandColumnContainer),r=e>0?parseInt(this.options.indentation,10)*e:0,r+=n.type(this.options.indentation)==="string"&&this.options.indentation.indexOf("%")>0?"%":"px",i='<span data-expandcell-indicator="1" class="'+o+'" style="padding-left:'+r+';">',s&&this.options.showExpansionIndicator&&(t.expand?(u=this.css.expandCellExpanded,f=this._getLocaleValue("collapseTooltip")):(u=this.css.expandCellCollapsed,f=this._getLocaleValue("expandTooltip")),i+='<span data-expand-button class="'+u+'" title="'+f+'" tabIndex="'+this.options.tabIndex+"\" data-localeid='"+(t.expand?"collapseTooltip":"expandTooltip")+"' data-localeattr='title'><\/span>"),i+="<\/span>"},_renderExpandCell:function(n){if(!n.hasExpandCell)return this._renderDataSkipCell();var t,i;return i=(this.css.expandColumn+" "+this.css.dataSkipCell).trim(),t='<td class="'+i+'" data-expand-cell="1" data-skip="true" tabIndex="'+this.options.tabIndex+'">',this.options.showExpansionIndicator&&(t+=this._renderExpandCellContainerHelper(n)),t+"<\/td>"},_renderDataSkipCell:function(){return'<td class="'+this.css.dataSkipCell+'" data-skip="true" tabIndex="'+this.options.tabIndex+'"><\/td>'},_rerenderColgroups:function(){n.ui.igGrid.prototype._rerenderColgroups.apply(this,arguments),this._addDataSkipColumn()},_columnsGenerated:function(){for(var i=this.options.columns,r,u=this.options.dataSourceSettings,f=[this.options.childDataKey,u.expandedKey,u.dataLevelKey],t=0;t<i.length;t++)r=i[t].key,n.inArray(r,f)!==-1&&(n.ig.removeFromArray(i,t),t--)},_rowVirtualizationEnabled:function(){return this.options.rowVirtualization||this.options.virtualization},_rerenderGridRowsOnToggle:function(){var t=this._rowVirtualizationEnabled(),n=this.dataSource.settings;return n.paging.enabled&&n.treeDS.paging.mode!=="rootLevelOnly"||t},_onDataRecordToggled:function(t,i,r,u){if(r&&u){var s,c,l,g,a,v,f,y=!1,p,w,e,o,nt,tt,b,it=this,rt,ut,k,d,ft=this,et=n(this.element).attr("id"),h="";if(f=u.row,v=u.triggerEvents,b=u.customCallback,w=this._getRows(f),e=w.fixedRow,o=w.unfixedRow,l=parseInt(f.attr("aria-level"),10),k={owner:this,row:o,fixedRow:e,dataLevel:l,dataRecord:t},this._loadingIndicator.hide(),this._rerenderGridRowsOnToggle()){if(this._rowVirtualizationEnabled()&&this.options.virtualizationMode==="continuous")if(d=this._scrollContainer(),f.length){if(p=f.closest("tbody").children("tr[data-row-idx]:first"),!p.length)return;g=p.attr("data-row-idx"),tt=f.igOffset().top,this._renderVirtualRecordsContinuous(parseInt(g,10)),this._updateVirtualScrollContainer(),this._trigger("virtualrecordsrender",null,{owner:this,dom:this._virtualDom}),i||(nt=n("#"+this.id()+" > tbody > tr[data-row-idx="+f.attr("data-row-idx")+"]"),a=nt.igOffset().top-tt,Math.abs(a)>1&&(y=!0,setTimeout(function(){d[0].scrollTop=d.scrollTop()+a},50)))}else y=!0,this._updateVirtualScrollContainer()}else i&&!f.attr("data-populated")?t&&(this._toggleRowSuccessors(o),o.add(e).attr("data-populated","1"),s=this.dataSource.getFlatDataForRecord(t,l+1),n(t[this.options.childDataKey]).each(function(){h+=et+"_"+this[ft.options.primaryKey]+" "}),h=h.trimEnd(),s&&s.flatVisibleData&&(c=this._getHtmlForDataView(s.flatVisibleData,!1),ut=n(c).insertAfter(o),o.attr("aria-owns",h),e&&(c=this._getHtmlForDataView(s.flatVisibleData,!0),rt=n(c).insertAfter(e),e.attr("aria-owns",h)),this._trigger("_buildDOMOnToggle",this,{fRows:rt,ufRows:ut}))):this._toggleRowSuccessors(f);y?setTimeout(function(){it._callDataToggledEventsAndCallbacks(b,i,k,v),it._refreshIgScrollBars()},55):(this._callDataToggledEventsAndCallbacks(b,i,k,v),this._refreshIgScrollBars())}},_avgRowHeightChanged:function(){var n=this._getScrollContainerScrollTop(),t=this._getScrollContainerHeight();this._updateVirtualScrollContainer(),this._correctVirtVertScrollTop(n,t)},_callDataToggledEventsAndCallbacks:function(t,i,r,u){var f=this.options.height&&parseInt(this.options.height,10)>0,e=this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0;t&&n.ig.util.invokeCallback(t,[this,{unfixedRow:r.row,fixedRow:r.fixedRow},r.dataRecord,i]),f&&!e&&this._hasVerticalScrollbar!==this.hasVerticalScrollbar()&&this._adjustLastColumnWidth(),i?this._fireInternalEvent("_rowExpanded",r):this._fireInternalEvent("_rowCollapsed",r),u&&(i?this._trigger(this.events.rowExpanded,null,r):this._trigger(this.events.rowCollapsed,null,r))},toggleRow:function(t,i){var r,f,u,e=this.dataSource;r=t instanceof n?t:this.element.find("tr[data-id="+t+"]"),f=r.attr("aria-expanded"),u=r.length?f==="false":!e.getExpandStateById(t),this._expandCollapseRow(t,u,!1,i)},expandRow:function(n,t){this._expandCollapseRow(n,!0,!1,t)},collapseRow:function(n,t){this._expandCollapseRow(n,!1,!1,t)},_onMouseUpExpander:function(t){var i=n(t.target);i.attr("data-expandcell-indicator")!==undefined&&i.find("[data-expand-button]").focus(),this._toggleRow(i.closest("tr"))},_onKeyDownExpander:function(t){(t.keyCode===n.ui.keyCode.ENTER||t.keyCode===n.ui.keyCode.SPACE)&&(this._toggleRow(n(t.target).closest("tr")),t.preventDefault(),t.stopPropagation())},_toggleRow:function(n){if(n.length){var t=n.attr("aria-expanded"),i;t!==undefined&&(i=t==="false"||t==="0",this._expandCollapseRow(n,i,!0))}},_expandCollapseRow:function(i,r,u,f){var c,l=!0,w,a,v,s,o,y=this,p,b,k,nt=r,h,e,d,g;(i instanceof n?(o=i,t(this.options.primaryKey)?s=o.index():(c=this.columnByKey(this.options.primaryKey),s=o.attr("data-id"),c&&(c.dataType==="number"||c.dataType==="numeric")&&(s=parseInt(s,10)))):(s=i,o=this.element.find("tr[data-id="+i+"]")),o.length!==1||o.attr("aria-expanded")!==nt.toString())&&(w=n.proxy(this._onDataRecordToggled,this),v={callback:w,args:{row:o,triggerEvents:u}},f&&(v.args.customCallback=f),p=this._getRows(o),b=p.fixedRow,k=p.unfixedRow,a={owner:this,row:k,fixedRow:b,dataLevel:parseInt(o.attr("aria-level"),10)},u&&(l=r?this._trigger(this.events.rowExpanding,null,a):this._trigger(this.events.rowCollapsing,null,a)),l&&(this._loadingIndicator.show(),e=n(document.activeElement),d=e.closest("td"),g=d.index(),y.dataSource.setExpandedStateByPrimaryKey(s,r,v),y._rerenderGridRowsOnToggle()&&(h=y.element.find('[data-id="'+s+'"]'),h.length&&(e.is("tr")&&(e=h,h.focus()),e.is("td")?(e=h.children("td:nth-child("+(g+1)+")"),e.focus()):e.attr("data-expand-button")!==undefined&&(e=h.find("[data-expand-button]"),e.focus())))))},_toggleRowSuccessors:function(n){var t=n,s=!1,i,r,f=n,u=null,e,c=parseInt(n.attr("aria-level"),10),l=n.attr("aria-expanded"),h="",o=l==="true";for(o&&(h="none"),this.hasFixedColumns()&&(this._isFixedElement(n)?(r=n,e=this._rowVirtualizationEnabled()?this._vdisplaycontainer():this.scrollContainer(),f=e.find("tbody > tr").eq(n.index())):r=this.fixedBodyContainer().find("tbody > tr").eq(n.index()));t.length===1&&!s;){if(t=t.next("tr[aria-level]"),i=parseInt(t.attr("aria-level"),10),isNaN(i)||i<=c){s=!0;break}if(!o){if(u!==null)if(i<=u)u=null;else continue;t.attr("aria-expanded")==="false"&&(u=i)}this._showHideRow(t,h)}o?f.add(r).attr({"data-populated":"1","aria-expanded":!1}).find("[data-expand-button]").attr({title:this._getLocaleValue("expandTooltip"),"data-localeid":"expandTooltip","data-localeattr":"title"}).removeClass(this.css.expandCellExpanded).addClass(this.css.expandCellCollapsed):f.add(r).attr("aria-expanded",!0).find("[data-expand-button]").attr({title:this._getLocaleValue("collapseTooltip"),"data-localeid":"collapseTooltip","data-localeattr":"title"}).removeClass(this.css.expandCellCollapsed).addClass(this.css.expandCellExpanded)},_showHideRow:function(n,t){var u,r=n,i,f=this.hasFixedColumns();f&&(u=this._getRows(n),i=u.fixedRow,r=u.unfixedRow),r.css("display",t),i&&i.css("display",t),t===""?this._trigger("_rowShown",this,{fRow:i,ufRow:r}):this._trigger("_rowHidden",this,{fRow:i,ufRow:r})},_renderExtraHeaderCells:function(t,i,r){this.options.renderExpansionIndicatorColumn&&(r===!0?(n("<td><\/td>").prependTo(t).css("border-width",0).attr("data-skip",!0),i&&n("<col />").prependTo(i).attr("data-skip",!0).css("width",this.options.indentation)):(n("<td><\/td>").appendTo(t).css("border-width",0).attr("data-skip",!0),i&&n("<col />").appendTo(i).attr("data-skip",!0).css("width",this.options.indentation)))},_isFixedNonDataColumnsOnly:function(){return this.hasFixedColumns()&&(!this._fixedColumns||!this._fixedColumns.length)?!0:!1},_isDataContainerOnTheLeft:function(t){var i=this.fixingDirection()==="left";return this.hasFixedColumns()?n.type(this._fixedColumns)==="array"&&!this._fixedColumns.length?!0:t?i:!i:!0},_getRows:function(t){var i,r,u=t;return this.hasFixedColumns()&&(i=t.index(),this._isFixedElement(t)?(r=t,u=n(this.rowAt(i))):r=n(this.fixedRowAt(i))),{fixedRow:r,unfixedRow:u}},_renderRow:function(t,i){var r;return r=function(t,i){return n.ui.igGrid.prototype._renderRow.call(this,t,i)},this._persistExpansionIndicator(t,i,r,this)},renderNewChild:function(t,i){var a=this.element.children("tbody"),c=this.fixedBodyContainer().find("tbody"),v=this.options.virtualization===!0||this.options.rowVirtualization===!0,r,y=this.options.dataSourceSettings.dataLevelKey,f,u,e,o=this.hasFixedColumns(),s,h,l,p=this._recordIndexInFlatView(t[this.options.primaryKey]);if(i===undefined||i===null)this.renderNewRow(t);else if(v)this._renderVirtualRecordsContinuous(),this._startRowIndex=0,this.virtualScrollTo(p);else{if(u=this.dataSource.findRecordByKey(i),u===null)throw new Error(this._getLocaleValue("recordNotFound").replace("{id}",i));for(u[this.options.dataSourceSettings.expandedKey]=!0,this.dataSource.generateFlatDataView(),f=u[y]+1,r=this.rowById(i);r.nextAll(":not(.ui-iggrid-addrow)").first().length>0;)if(parseInt(r.nextAll(":not(.ui-iggrid-addrow)").first().attr("aria-level"),10)>=f)r=r.nextAll(":not(.ui-iggrid-addrow)").first();else break;r=r?r:this.rowById(i),e={dataBoundDepth:f},l=r.attr("data-id"),this._fireInternalEvent("_childRowRendering",{id:t[this.options.primaryKey],parentId:i}),s=this._renderRecord(t,r.index()+1,!1,e),o&&(h=this._renderRecord(t,r.index()+1,!0,e)),r.length>0?(n(r).after(s),o&&c.find("tr[data-id="+l+"]").after(h)):(a.append(s),o&&c.append(h))}},_recordIndexInFlatView:function(n){for(var i=this.dataSource.flatDataView(),u=this.options.primaryKey,r=-1,t=0;t<i.length;t++)if(i[t][u]===n){r=t;break}return r},_persistExpansionIndicator:function(t,i,r,u){var e,o=i,s=n(i),f,h=this.options.renderExpansionIndicatorColumn;return h?(f=s.find("span[data-shift-container]"),e=f.closest("td")):(f=s.find("[data-expandcell-indicator]"),e=f.closest("td"),f.detach()),r&&u&&(o=r.call(u,t,i),s=n(o)),f.length>0&&f.prependTo(e),o},_detachEvents:function(){this._columnsGeneratedHandler&&this.element.unbind("igtreegrid_columnsgenerated",this._columnsGeneratedHandler),this._containersRenderedHandler&&this.element.unbind("iggrid_gridcontainersrendered",this._containersRenderedHandler),this._avgRowHeightChangedHandler&&this.element.unbind("iggridavgrowheightchanged",this._avgRowHeightChangedHandler),n.ui.igGrid.prototype._detachEvents.apply(this,arguments)},_attachEvents:function(){this._columnsGeneratedHandler=n.proxy(this._columnsGenerated,this),this.element.bind("igtreegrid_columnsgenerated",this._columnsGeneratedHandler),this._containersRenderedHandler=n.proxy(this._containersRendered,this),this.element.bind("iggrid_gridcontainersrendered",this._containersRenderedHandler),(this.options.virtualization||this.options.rowVirtualization)&&(this._avgRowHeightChangedHandler=n.proxy(this._avgRowHeightChanged,this),this.element.bind("iggridavgrowheightchanged",this._avgRowHeightChangedHandler))},_initFeature:function(t){if(t&&t.name!==undefined){var i="igTreeGrid"+t.name;if(n.type(this.element[i])==="function")this.element.data(i)&&this.element[i]("destroy"),t.language=this.options.language,this.element[i](t),this.element.data(i)._injectGrid(this);else return n.ui.igGrid.prototype._initFeature.apply(this,arguments)}},_destroyFeatures:function(){for(var t=this.options.features,i=this.element,n=0;n<t.length;n++)i.data("igTreeGrid"+t[n].name)?i["igTreeGrid"+t[n].name]("destroy"):i.data("igGrid"+t[n].name)&&i["igGrid"+t[n].name]("destroy")},destroy:function(){return this._detachEvents(),this._superApply(arguments),this.element.removeData(n.ui.igGrid.prototype.widgetName),this._removeOverridenFunction(),this}}),n.extend(n.ui.igTreeGrid,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridColumnFixing",n.ui.igGridColumnFixing,{_create:function(){this.element.data(n.ui.igGridColumnFixing.prototype.widgetName,this.element.data(n.ui.igTreeGridColumnFixing.prototype.widgetName)),n.ui.igGridColumnFixing.prototype._create.apply(this,arguments)},_syncHeigthsOnToggle:function(){this.grid.hasFixedColumns()&&(this._checkAndRenderHScrlbarCntnr(),this._syncContainersHeights(),n.ig.util.isIE&&n.ig.util.browserVersion>=9&&this._syncTableHeights())},_rowExpanded:function(){this._syncHeigthsOnToggle()},_rowCollapsed:function(){this._syncHeigthsOnToggle()},_renderFixedRecord:function(t,i,r){return r?n.ui.igGridColumnFixing.prototype._renderFixedRecord.apply(this,arguments):this.grid._renderRecord(t,i,!0)},_rowShown:function(n,t){this.options.syncRowHeights&&this.grid.hasFixedColumns()&&this.syncRowsHeights(t.fRow,t.ufRow)},_syncContainersHeights:function(){if(this.grid.hasFixedColumns()){var t=this.grid,r=t.id(),i;n("#"+r+"_fixedBodyContainer").find("table")[0].style.height="",i=t._rowVirtualizationEnabled()?t._vdisplaycontainer():t.scrollContainer(),i.length===0&&(i=t.element),i.find("table")[0].style.height=""}},_renderRow:function(t,i){if(!this.grid.hasFixedColumns())return n.ui.igGridColumnFixing.prototype._renderRow.apply(this,arguments);var u,e,o,s=n(i),h,f;u=this.grid._getRows(s),e=u.fixedRow,o=u.unfixedRow,f=function(n,t){return this._updateRowContent(n,t)},this.grid._persistExpansionIndicator(t,e[0],f,this),this.grid._persistExpansionIndicator(t,o[0],f,this)},_buildDOMOnToggle:function(t,i){if(this.grid.hasFixedColumns()&&this.options.syncRowHeights){var r=i.fRows,f=this,u=i.ufRows;r&&u&&r.length===u.length&&(r.each(function(t){var i=n(r[t]),e=n(u[t]);f.syncRowsHeights(i,e)}),this._syncHeigthsOnToggle())}},_updateRowContent:function(t,i){var e=this,r=this.grid,u=n(i),f=u.children(":visible:not([data-skip])");return f.each(function(){var f=n(this),e,u=r.getColumnByTD(f);if(!u)return!0;u=u.column,u.template&&u.template.length?(e=r._renderTemplatedCell(t,u),e.indexOf("<td")===0?f.html(n(e).html()):f.html(e)):f.html(String(r._renderCell(t[u.key],u,t)))}),i},_fixedColumnsChanged:function(n){var i,r,u=!1,t;this.grid._initialized&&!n.nonData&&(this.options.fixingDirection==="left"?(t=this.grid.fixedBodyContainer(),t.length&&this.grid._fixedColumns&&this.grid._fixedColumns.length||(t=this.grid.element)):t=this.grid.element,i=t.find("tbody>tr:first>td:not([data-skip])").eq(0),r=i.find("[data-shift-container],[data-expand-cell]"),r.length!==1)&&(this._isContinuousVirtualization()?this.grid._renderVirtualRecords():(this.grid._renderRecords(),this.grid._fireInternalEvent("_dataRendered")))},_detachEvents:function(){n.ui.igGridColumnFixing.prototype._detachEvents.apply(this,arguments),this._rowShownHandler&&this.grid.element.unbind("igtreegrid_rowshown",this._rowShownHandler),this._onColumnFixedHandler&&this.grid.element.unbind("igtreegridcolumnfixing_columnfixed",this._onColumnFixedHandler),this._onColumnUnfixedHandler&&this.grid.element.unbind("igtreegridcolumnfixing_columnunfixed",this._onColumnUnfixedHandler),this._buildDOMOnToggleHandler&&this.grid.element.unbind("igtreegrid_builddomontoggle",this._buildDOMOnToggleHandler)},_attachEvents:function(){this._rowShownHandler=n.proxy(this._rowShown,this),this.grid.element.bind("igtreegrid_rowshown",this._rowShownHandler),this._onColumnFixedHandler=n.proxy(this._onColumnFixed,this),this._onColumnUnfixedHandler=n.proxy(this._onColumnUnfixed,this),this.grid.element.bind("igtreegridcolumnfixing_columnfixed",this._onColumnFixedHandler),this.grid.element.bind("igtreegridcolumnfixing_columnunfixed",this._onColumnUnfixedHandler),this._buildDOMOnToggleHandler=n.proxy(this._buildDOMOnToggle,this),this.grid.element.bind("igtreegrid_builddomontoggle",this._buildDOMOnToggleHandler)},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridColumnFixing.prototype.widgetName)},_injectGrid:function(){n.ui.igGridColumnFixing.prototype._injectGrid.apply(this,arguments),this._attachEvents()}}),n.extend(n.ui.igTreeGridColumnFixing,{version:"19.2.25"})}(n),function(n){var t=function(n){return n===null||n===undefined};n.widget("ui.igTreeGridFiltering",n.ui.igGridFiltering,{css:{recordMatchFiltering:"ig-igtreegrid-filter-matching-row",cellMatchFiltering:"ig-igtreegrid-filter-matching-cell",recordNotMatchFiltering:"ui-igtreegrid-record-not-matchfiltering"},options:{recordCountKey:null,fromLevel:0,toLevel:-1,displayMode:"showWithAncestors",matchFiltering:"__matchFiltering",filterSummaryInPagerTemplate:null,locale:{filterSummaryInPagerTemplate:undefined},inherit:!1},_create:function(){this.element.data(n.ui.igGridFiltering.prototype.widgetName,this.element.data(n.ui.igTreeGridFiltering.prototype.widgetName)),n.ui.igGridFiltering.prototype._create.apply(this,arguments)},_getFilterSummaryPagerTemplate:function(){var n=this._getLocaleValue("filterSummaryInPagerTemplate"),t,i=0;return n?(n.indexOf("${currentPageMatches}")>-1&&(i=this.grid.dataSource.getFilteredRecordsCountFromDataView(),n=n.replace("${currentPageMatches}",i)),n.indexOf("${totalMatches}")>-1&&(t=this.getFilteringMatchesCount(),n=n.replace("${totalMatches}",t)),n):null},_transformCss:function(n,i){var r,u=this.grid,f=u.dataSource;return this._gridTransformCssCallback&&(n=this._gridTransformCssCallback.apply(u,arguments)),this._filteringApplied()&&(r=f.settings.treeDS.filtering.matchFiltering,n!==""&&(n+=" "),t(r)||(n+=i[r]?this.css.recordMatchFiltering:this.css.recordNotMatchFiltering)),n},_filteringApplied:function(){var n=this.grid.dataSource,t=n.settings.filtering.expressions;return this.options&&this.options.type==="local"?n._filter:t&&t.length},getFilteringMatchesCount:function(){var i=this.options,n=this.grid.dataSource,t;return t=i.type==="local"||i.type==="remote"&&n.hasTotalRecordsCount()===!1?n._filter?n.getFilteredRecordsCount():n.flatDataView().length:n.getFilteringMatchRecordsCount()},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridFiltering.prototype.widgetName)},_injectGrid:function(t,i){var r,u=this.options;n.ui.igGridFiltering.prototype._injectGrid.apply(this,arguments),i||(this.grid._transformCssCallback&&(this._gridTransformCssCallback=this.grid._transformCssCallback),this.grid._transformCssCallback=n.proxy(this._transformCss,this)),r=this.grid.dataSource,r&&r.settings&&r.settings.treeDS&&(r.settings.filtering.enabled=!0,r.settings.treeDS.filtering.fromLevel=u.fromLevel,r.settings.treeDS.filtering.toLevel=u.toLevel,r.settings.treeDS.filtering.displayMode=u.displayMode,r.settings.treeDS.filtering.matchFiltering=u.matchFiltering),u.recordCountKey!==null&&(r.settings.responseTotalRecCountKey=u.recordCountKey)}}),n.extend(n.ui.igTreeGridFiltering,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridHiding",n.ui.igGridHiding,{css:{},options:{inherit:!1},_create:function(){this.element.data(n.ui.igGridHiding.prototype.widgetName,this.element.data(n.ui.igTreeGridHiding.prototype.widgetName)),n.ui.igGridHiding.prototype._create.apply(this,arguments)},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridHiding.prototype.widgetName)},_injectGrid:function(){n.ui.igGridHiding.prototype._injectGrid.apply(this,arguments)}}),n.extend(n.ui.igTreeGridHiding,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridMultiColumnHeaders",n.ui.igGridMultiColumnHeaders,{css:{},options:{inherit:!1},_create:function(){this.element.data(n.ui.igGridMultiColumnHeaders.prototype.widgetName,this.element.data(n.ui.igTreeGridMultiColumnHeaders.prototype.widgetName)),n.ui.igGridMultiColumnHeaders.prototype._create.apply(this,arguments)},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridMultiColumnHeaders.prototype.widgetName)},_injectGrid:function(){n.ui.igGridMultiColumnHeaders.prototype._injectGrid.apply(this,arguments)}}),n.extend(n.ui.igTreeGridMultiColumnHeaders,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridPaging",n.ui.igGridPaging,{css:{contextRow:"ui-igtreegrid-contextrow",contextRowIcon:"ui-igtreegrid-contextrow-icon ui-icon ui-icon-bookmark",contextRowContent:"ui-igtreegrid-contextrow-content",contextRowTextContainer:"ui-igtreegrid-contextrow-container"},rowsToShowLoadingMessage:3e5,events:{contextRowRendering:"contextRowRendering",contextRowRendered:"contextRowRendered"},options:{mode:"rootLevelOnly",contextRowMode:"none",contextRowLoadingText:null,contextRowRootText:null,breadcrumbKey:null,breadcrumbDelimiter:" &gt; ",renderContextRowFunc:null,locale:{contextRowLoadingText:undefined,contextRowRootText:undefined},inherit:!1},_create:function(){this.element.data(n.ui.igGridPaging.prototype.widgetName,this.element.data(n.ui.igTreeGridPaging.prototype.widgetName)),n.ui.igGridPaging.prototype._create.apply(this,arguments)},changeLocale:function(){this._super(this.grid.container().find("[data-treegrid-contextrow-content]")),this._renderContextRow(this.options.contextRowMode)},_getDSLocalRecordsCount:function(){return this.grid.dataSource._filter&&this.options.mode==="allLevels"?this.grid.dataSource.totalLocalRecordsCount():n.ui.igGridPaging.prototype._getDSLocalRecordsCount.apply(this,arguments)},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridPaging.prototype.widgetName)},_dataRendered:function(){var t;n.ui.igGridPaging.prototype._dataRendered.apply(this,arguments);switch(this.options.contextRowMode){case"breadcrumb":case"parent":this._renderContextRow(this.options.contextRowMode);break;default:t=this.getContextRow(),t.length&&(t.remove(),this.grid._initializeHeights())}},_renderContextRow:function(n){var e=this.grid,i=e.dataSource.flatDataView(),t,r,u,f=this;i&&i[0]&&(t=i[0]),u={owner:this,dataRow:t,currentPageIndex:this.options.currentPageIndex,contextRowMode:n},r=this._trigger(this.events.contextRowRendering,null,u),r&&(this._renderLoading(t),setTimeout(function(){n==="breadcrumb"?f._renderBreadcrumb(t):n==="parent"&&f._renderParentRow(t)},10))},getContextRow:function(){var i=this.grid.headersTable().children("thead"),t=this.grid.headersTable().find(">thead>tr[data-treegrid-contextrow]");return t.length?t:(t=n('<tr data-treegrid-contextrow="true" data-skip="true"><\/tr>').appendTo(i),t.addClass(this.css.contextRow),t)},getContextRowTextArea:function(){var r=this.grid.headersTable().children("thead"),i,u,t,f,e=0;return(t=r.find("[data-treegrid-contextrow-content]"),t.length)?t:(i=this.getContextRow(),i.empty(),f=r.closest("table").children("colgroup"),f.find("col").each(function(){var i=n(this),t;t=parseInt(i.attr("colspan"),10),isNaN(t)&&(t=1),e+=t}),u=n("<td><\/td>").attr("colspan",e).appendTo(i),t=n('<div class="'+this.css.contextRowTextContainer+'" data-treegrid-contextrow-container="1"><span class="'+this.css.contextRowIcon+'"><\/span><span class="'+this.css.contextRowContent+"\" data-treegrid-contextrow-content title='"+this._getLocaleValue("contextRowRootText")+"' data-localeid=contextRowRootText data-localeattr='title'><\/span><\/div>").appendTo(u),this.getContextRowTextArea())},_callRenderContextRowFunc:function(t,i,r,u){var f=this.options.renderContextRowFunc,e;return n.type(f)==="function"?e=f:window[f]&&typeof window[f]=="function"&&(e=window[f]),e?e(t,i,r,u):void 0},_renderLoading:function(n){var i=this,t,f=this.options,u=this.grid,r;(!f.renderContextRowFunc||(t=i.getContextRowTextArea(),r=i._callRenderContextRowFunc(n,t,null,"loading"),r))&&u.dataSource._flatVisibleData&&u.dataSource._flatVisibleData.length>=this.rowsToShowLoadingMessage&&(r||(t||(t=i.getContextRowTextArea()),t.html(this._getLocaleValue("contextRowLoadingText"))),i.grid._initializeHeights())},_renderRootRecord:function(){this.getContextRowTextArea().html(this._getLocaleValue("contextRowRootText"))},_renderBreadcrumb:function(t){var u,e,l=this.grid.dataSource,r,o,s,h=this.options,c,f=h.breadcrumbKey,i="";if(r=l.getParentRowsForRow(t),e=this.getContextRowTextArea(),!h.renderContextRowFunc||(i=this._callRenderContextRowFunc(t,e,r,"breadcrumb"),i)){if(i)e.html(i);else if(n.type(r)==="array")if(o=r.length,(f===null||f===undefined)&&(f=this.grid.options.primaryKey),o<=1)this._renderRootRecord();else{for(u=0;u<o;u++)(s=r[u].row,s[f]!==undefined)&&(u&&(i+=h.breadcrumbDelimiter),i+=s[f]);e.html(i)}else this._renderRootRecord();c={owner:this,dataRow:t,currentPageIndex:this.options.currentPageIndex,parentRows:r,contextRowMode:"breadcrumb"},this.grid._initializeHeights(),this._trigger(this.events.contextRowRendered,null,c)}},_renderParentRow:function(t){var e,o,s,i,r,u,f=this.getContextRow(),h=this.grid.dataSource,c=this.options;(r=h.getParentRowsForRow(t),!c.renderContextRowFunc||(i=this._callRenderContextRowFunc(t,f,r,"parent"),i))&&(i?f.html(i):n.type(r)!=="array"&&r.length?this._renderRootRecord():(e=r.length,e===1?this._renderRootRecord():(u=r[e-2],u=n.extend(!0,{},r[e-2]),u&&u.row&&(u.row.childData=null,u.row[this.grid.options.dataSourceSettings.propertyDataLevel]=0,i=this.grid._renderRecord(u.row),i=i.substr(i.indexOf(">")+1),i=i.substr(0,i.lastIndexOf("<\/tr")),f.html(i),f.find("td:not([aria-describedby]),th:not([aria-describedby])").empty(),o=f.find("[data-expandcell-indicator],[data-shift-container]"),o.length&&o.attr("class",this.css.contextRowIcon)))),s={owner:this,dataRow:t,currentPageIndex:this.options.currentPageIndex,parentRows:r,contextRowMode:"parent"},this.grid._initializeHeights(),this._trigger(this.events.contextRowRendered,null,s))},_rowAdded:function(t){if(t&&n.type(t)!=="string"){var r=parseInt(t.attr("aria-level"))>0,u,i,f,e;if(this.options.type!=="remote"&&(this.options.mode==="allLevels"||!r)&&this.grid.options.autoCommit){if(this.options.mode!=="allLevels"&&!r){this._super(t);return}(u=this.grid._normalizedKey(t.attr("data-id")),i=this.grid._recordIndexInFlatView(u),f=this.options.pageSize,i===undefined||i<0)||(e=Math.floor(i/f),this.pageIndex(e))}}},_injectGrid:function(){var t,i;if(n.ui.igGridPaging.prototype._injectGrid.apply(this,arguments),t=this.grid.dataSource,t&&t.settings&&t.settings.treeDS&&(t.settings.treeDS.paging.mode=this.options.mode,t.settings.treeDS.paging.contextRowMode=this.options.contextRowMode,this.options.type==="remote"&&this.options.mode==="allLevels"&&(t.settings.treeDS.persistExpansionStates=!0)),this.options.contextRowMode!=="none")for(i=0;i<this.grid.options.features.length;i++)if(this.grid.options.features[i].name==="ColumnFixing")throw new Error(this._getLocaleValue("columnFixingWithContextRowNotSupported"));}}),n.extend(n.ui.igTreeGridPaging,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridSelection",n.ui.igGridSelection,{css:{},options:{},_create:function(){this.element.data(n.ui.igGridSelection.prototype.widgetName,this.element.data(n.ui.igTreeGridSelection.prototype.widgetName)),n.ui.igGridSelection.prototype._create.apply(this,arguments)},_getDataView:function(){return this.grid.dataSource.flatDataView()},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridSelection.prototype.widgetName)},_keyDown:function(t){var i;if(this.options.mode==="row"){if(this._keyDownRowMode(t))return}else if(this.options.mode==="cell"&&this._keyDownCellMode(t))return;i=t&&t.target?n(t.target):null,i.is("[data-expand-button]")||n.ui.igGridSelection.prototype._keyDown.apply(this,arguments)},_keyDownRowMode:function(t){var r=n(t.target),i=t.keyCode,u;if(i===n.ui.keyCode.LEFT||i===n.ui.keyCode.RIGHT)return r.is("tr")?(u=r.attr("aria-expanded"),u==="undefined"||u===undefined)?void 0:(this.grid._expandCollapseRow(r,i===n.ui.keyCode.RIGHT,!0),!0):void 0;if(i===n.ui.keyCode.HOME){if(this._navigateRow(t,"top"))return t.preventDefault(),!0}else if(i===n.ui.keyCode.END&&this._navigateRow(t,"bottom"))return t.preventDefault(),!0;if(r.is("td.ui-igtreegrid-non-data-column")&&(i===n.ui.keyCode.SPACE||i===n.ui.keyCode.ENTER))return!0},_keyDownCellMode:function(t){var i=t.keyCode,r;if(i===n.ui.keyCode.ENTER){if(r=this.grid.element.data("igGridUpdating"),!r&&this._expandCollapseRowByCell())return t.preventDefault(),t.stopPropagation(),!0}else if(t.altKey&&(i===n.ui.keyCode.UP||i===n.ui.keyCode.DOWN)){if(this._expandCollapseRowByCell(null,i===n.ui.keyCode.DOWN))return t.preventDefault(),!0}else if(i===n.ui.keyCode.HOME){if(t.ctrlKey&&this._navigateCell(t,"topLeft")||this._navigateCell(t,"left"))return t.preventDefault(),!0}else if(i===n.ui.keyCode.END){if(t.ctrlKey&&this._navigateCell(t,"bottomRight")||this._navigateCell(t,"right"))return t.preventDefault(),!0}else if(i===n.ui.keyCode.SPACE&&this.grid.options.renderExpansionIndicatorColumn&&this._expandCollapseRowByCell())return t.preventDefault(),t.stopPropagation(),!0},_navigateCell:function(n,t){var r=this._getActiveCell(),f,i,e=this,u;if(r&&r.length)return(u=r.closest("tr"),t==="left"?i=u.children("td:not([data-skip]):visible").first():t==="right"&&(i=u.children("td:not([data-skip]):visible").last()),i)?(this._storedActiveIndex=null,this._navigateOwn(i,this._selection.activeElement,n.keyCode,!1,n.shiftKey),!0):(f=function(n,i){var r,u,f=this._selection.activeElement||this._storedActiveElement;i.ctrlKey&&this.clearSelection(),t==="topLeft"?(r=n.children("tr:visible:not([data-skip])").first(),u=r.children("td:visible:not([data-skip])").first()):(r=n.children("tr:visible:not([data-skip])").last(),u=r.children("td:visible:not([data-skip])").last()),e._storedActiveIndex=null,e._navigateOwn(u,f,i.keyCode,!1,i.shiftKey)},this._navigateTo(n,t,f))},_navigateRow:function(n,t){var i=function(n,t,i){var r,u=this._selection.activeElement;r=i==="top"?n.children("tr:visible:not([data-skip])").first():n.children("tr:visible:not([data-skip])").last(),t.shiftKey&&this.options.multipleSelection?this._shiftSelectChange(r):this._navigateOwn(r,u,t.keyCode,!1,t.shiftKey)};return this._navigateTo(n,t,i)},_navigateTo:function(n,t,i){var u,e=this.grid.options,r=this,f;return e.virtualization===!0&&e.virtualizationMode==="continuous"?(u=this.grid._scrollContainer(),f=t==="topLeft"||t==="top"?0:u.children(":first-child").height(),u.scrollTop(f),r._loadingIndicator===undefined&&r._initLoadingIndicator(),r._loadingIndicator.show(),r.grid.element.bind("iggridvirtualrecordsrender.navigate",function(){r._loadingIndicator&&r._loadingIndicator.hide(),i.call(r,r.grid.element.children("tbody"),n,t),r.grid.element.unbind("iggridvirtualrecordsrender.navigate")})):i.call(r,this.grid.element.children("tbody"),n,t),!0},_getActiveCell:function(){var n=this._selection.activeElement;if(n)return this._getCellByIdentifier(n)},_expandCollapseRowByCell:function(n,t){var i;if(n||(n=this._getActiveCell(),n))return n.length&&n.attr("data-expand-cell")&&n.find("[data-expand-button]").length?(i=n.closest("tr"),t===undefined?this.grid._toggleRow(i):this.grid._expandCollapseRow(i,t,!0),!0):void 0},_initLoadingIndicator:function(){this._loadingIndicator=this.grid.container().length>0?this.grid.container().igLoading().data("igLoading"):this.grid.element.igLoading().data("igLoading").indicator()},_mouseUp:function(t){var i=t&&t.target?n(t.target):null;i.is("[data-expand-button]")||i.is("td[data-expand-cell]")&&this.grid.options.renderExpansionIndicatorColumn||n.ui.igGridSelection.prototype._mouseUp.apply(this,arguments)},_virtualRecordsRendered:function(n){var t=n.activeElement;(t.is("tr")||t.is("td"))&&this._selection.activate(this._identifierForTarget(t),t,!0)},selectRowById:function(n){this.options.mode!=="cell"&&(this._selection.isSelected(n,this.grid)||(this._selection.settings.owner!==this.grid&&this._selection.changeOwner(this.grid),this._selection.select(n,!0,{element:this._getRowsByIdentifier(n),id:n},!0)))},_select:function(t){var i=t.element||this._selection.elementFromIdentifier(t.id);i.is("tr")&&this.grid.options.renderExpansionIndicatorColumn&&i.children("td.ui-igtreegrid-non-data-column").addClass(this.css.selectedCell),n.ui.igGridSelection.prototype._select.apply(this,arguments)},_preventDefault:function(t){var i=n(t.target);!i.is("td")||i.is("td[data-expand-cell]")&&this.grid.options.renderExpansionIndicatorColumn?i.attr("data-expandcell-indicator")&&(t.preventDefault(),t.stopPropagation()):t.preventDefault()}}),n.extend(n.ui.igTreeGridSelection,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridSorting",n.ui.igGridSorting,{css:{},options:{fromLevel:0,toLevel:-1,inherit:!1},_create:function(){this.element.data(n.ui.igGridSorting.prototype.widgetName,this.element.data(n.ui.igTreeGridSorting.prototype.widgetName)),n.ui.igGridSorting.prototype._create.apply(this,arguments)},changeLocale:function(){this._superApply(arguments)},isColumnSorted:function(n){var t,i=this.grid.dataSource.settings.sorting.expressions;if(!i||!n||!i.length)return!1;for(t=0;t<i.length;t++)if(i[t].fieldName===n)return i[t].isSorting;return!1},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridSorting.prototype.widgetName)},_injectGrid:function(t,i){var r;n.ui.igGridSorting.prototype._injectGrid.apply(this,arguments),r=this.grid.dataSource,r&&r.settings&&r.settings.treeDS&&(r.settings.treeDS.sorting.fromLevel=this.options.fromLevel,r.settings.treeDS.sorting.toLevel=this.options.toLevel),i||this._cellStyleSubscriberAdded||(this._cellStyleSubscriberAdded=!0,this.grid._cellStyleSubscribers.push(n.proxy(this._applyActiveSortCellStyle,this)))}}),n.extend(n.ui.igTreeGridSorting,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridTooltips",n.ui.igGridTooltips,{options:{inherit:!1},_create:function(){this.element.data(n.ui.igGridTooltips.prototype.widgetName,this.element.data(n.ui.igTreeGridTooltips.prototype.widgetName)),n.ui.igGridTooltips.prototype._create.apply(this,arguments)},_getDataView:function(){return this.grid.dataSource.flatDataView()},_getRowIndex:function(n,t){return n.closest("tbody").children("tr:visible:not([data-container='true'],[data-grouprow='true'],[data-new-row='true'])").index(t)},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridTooltips.prototype.widgetName)}}),n.extend(n.ui.igTreeGridTooltips,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridUpdating",n.ui.igGridUpdating,{options:{enableAddChild:!0,addChildTooltip:null,addChildButtonLabel:null,locale:{addChildTooltip:undefined,addChildButtonLabel:undefined},inherit:!1},css:{addChildIcon:"ui-iggrid-addrowicon ui-icon ui-icon-circle-plus"},changeLocale:function(){this._superApply(arguments);var t=this.grid.id();this._renderTouchUI&&this.options.enableAddChild&&this._super(n("#"+t+"_updating_add_child_touch")),this._changeLocaleForElement(n("#"+t+"_updating_add_child_hover"))},_startAddChildFor:function(n,t){var r=this,i=this.grid.rowById(n);return i.attr("aria-expanded")==="false"?(this.grid.expandRow(i,function(){i=r.grid.rowById(n),r._addEditableChildRow(i,t)}),!0):this._addEditableChildRow(i,t)},_addEditableChildRow:function(t,i){var r,u,h,l,e,o,a=this.grid.hasFixedColumns(),s={},c,f=this.grid._normalizedKey(t.attr("data-id"));return h={"data-new-row":!0,"data-child-row":!0},s[this.grid.options.dataSourceSettings.dataLevelKey]=parseInt(t.attr("aria-level"),10)+1,s[this.grid.options.dataSourceSettings.expandedKey]=!1,s.__fr=f,r=n(this.grid._renderRecord(s,f)),r.removeAttr("data-id"),r=r.attr(h).addClass(this.css.addRow).data("parent-id",f),a&&(u=n(this.grid._renderRecord({},null,!0)).removeAttr("data-id"),u.attr(h).addClass(this.css.addRow).data("parent-id",f),l=this.grid.fixingDirection()),c=parseInt(t.attr("aria-level"),10),t.next("[aria-level='"+(c+1)+"']").length?r.insertAfter(t.nextUntil("[aria-level='"+c+"']").last()):r.insertAfter(t),a&&(this.grid.rowById(f,!0).after(u),l==="left"&&u.find("td").not('[data-skip="true"]').length>0&&(e=u.find("td").not('[data-skip="true"]').eq(0)),o=this.grid.element.data("igTreeGridColumnFixing"),o&&o.options.syncRowHeights&&o.syncRowsHeights(u,r)),e=e||r.find("td").not('[data-skip="true"]').eq(0),this._startEditForRow(null,!i,null,null,e),!0},_renderAddChildButton:function(){var t,i="#"+this.grid.id()+"_updating_add_child_hover",r,u="#"+this.grid.id()+">tbody",f="#"+this.grid.id()+"_fixed>tbody",e=window.navigator.msPointerEnabled||window.navigator.pointerEnabled,o=this._getLocaleValue("addChildTooltip");if(!n(i).length){t=n("<span><\/span>").css("position","absolute").addClass(this.css.deleteButton),t.attr({id:i.substring(1),unselectable:"on",title:o,"data-localeid":"addChildTooltip","data-localeattr":"title"}),t.hide(),n("<span><\/span>").addClass(this.css.addChildIcon).attr("unselectable","on").appendTo(t),r=this._addElementToScrollContainer(t);this.grid.container().on({"mouseenter.addchildbutton":this._buttonHandlers.mouseEnter,"mouseleave.addchildbutton":this._buttonHandlers.mouseLeave,"click.addchildbutton":this._buttonHandlers.addChildClick,"keyup.addchildbutton":this._buttonHandlers.addChildClick},i);if(e)this.grid.container().on({"pointerenter.deletebutton":this._handlers.pointerEnter,"mspointerenter.deletebutton":this._handlers.pointerEnter},u+">tr,"+f+">tr");else this.grid.container().on({"mouseenter.addchildbutton":this._handlers.mouseEnter},u+">tr,"+f+">tr");if(this._renderTouchUI)this.grid.container().on({"touchstart.addchildbutton":this._handlers.touchStart,"touchend.addchildbutton":this._handlers.touchEnd},u+">tr,"+f+">tr");if(r[0]===this.grid.container()[0])this.grid.container().bind("mouseleave.addchildbutton",this._handlers.mouseLeave);else this.grid.container().on({"mouseleave.addchildbutton":this._handlers.mouseLeave},"#"+r.attr("id"))}},_removeAddChildButton:function(){var t=n("#"+this.grid.id()+"_updating_add_child_hover");t.length===1&&(t.remove(),this.grid.container().off(".addchildbutton"),this.grid.container().unbind(".addchildbutton"))},_toggleAddRow:function(){var t=this._isAddChild(),n;t?(n=this.grid.element.find("tr[data-child-row]"),this.grid.hasFixedColumns()&&(n=n.add(this.grid.fixedBodyContainer().find("tr[data-child-row]"))),n.length!==0&&n.remove()):this._super()},_addChildButtonClick:function(t){var i=n(t.target).closest(".ui-iggrid-deletebutton").data("button-for");this.options.editMode==="dialog"?this._startEditDialog(t,!1,null,!0,null,null,i):this._startAddChildFor(i,!0)&&this.hideAddChildButton()},_touchAddChildClick:function(t){var r=this._editingForRowId,i=n(t.target).closest(".ui-iggrid-button");i.length&&!i.hasClass(this.css.buttonDisabled)&&this.isEditing()&&(this._endEdit(t,!1,!1),this._startAddChildFor(r))},_touchAddChildKeyUp:function(t){var r=this._editingForRowId,i=n(t.target).closest(".ui-iggrid-button");i.length&&!i.hasClass(this.css.buttonDisabled)&&t.keyCode===n.ui.keyCode.ENTER&&this.isEditing()&&(this._endEdit(t,!1,!1),this._startAddChildFor(r))},_touchStart:function(n){this._super(n),this.hideAddChildButton()},_touchEnd:function(n){var t=n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]?n.originalEvent.changedTouches[0].pageX:n.originalEvent.clientX;this._storedScrollLeft-=this.grid.scrollContainer().scrollLeft()||0,this._storedScrollWidth-=this.grid.scrollContainer().width()||0,this.options.enableAddChild&&Math.abs(t-this._firstTouchX)>parseInt(this.options.swipeDistance,10)&&this._firstTouchRow&&this._storedScrollLeft===0&&this._storedScrollWidth===0&&(this.showAddChildButtonFor(this._firstTouchRow),this.options.enableDeleteRow&&this.showDeleteButtonFor(this._firstTouchRow)),delete this._firstTouchX,delete this._firstTouchRow,delete this._storedScrollLeft,delete this._storedScrollWidth,delete this._firstTouchRow},_pointerUp:function(n){var t=n.originalEvent,i;t.pointerType==="touch"&&(i=t.pageX,this._storedScrollLeft-=this.grid.scrollContainer().scrollLeft()||0,this._storedScrollWidth-=this.grid.scrollContainer().width()||0,this.options.enableDeleteRow&&Math.abs(i-this._firstTouchX)>parseInt(this.options.swipeDistance,10)&&this._firstTouchRow&&this._storedScrollLeft===0&&this._storedScrollWidth===0&&(this.showAddChildButtonFor(this._firstTouchRow),this.options.enableDeleteRow&&this.showDeleteButtonFor(this._firstTouchRow)),delete this._firstTouchX,delete this._firstTouchRow,delete this._storedScrollLeft,delete this._storedScrollWidth,delete this._firstTouchRow)},_rowMouseEnter:function(t){this._super(t);var i=n(t.target).closest("tr");!this.isEditing()&&this._isEditableRow(i)?!i.hasClass("ui-iggrid-modifiedrecord")&&this.grid.dataSource.findRecordByKey(this.grid._normalizedKey(i.attr("data-id")))?this.showAddChildButtonFor(i):this.hideAddChildButton():this.hideAddChildButton()},_containerMouseLeave:function(){this._super(),this.hideAddChildButton()},_renderDoneCancelButtons:function(){var i=this._super(),t,r="#"+this.grid.id()+"_updating_add_child_touch";if(this._renderTouchUI&&this.options.enableAddChild){t=n("<span />").attr("id",this.grid.id()+"_updating_add_child_touch").addClass(this.css.button).addClass(this.css.doneButton).attr({unselectable:"on",tabIndex:this._getNextTabIndex()+1,title:this._getLocaleValue("addChildTooltip"),"data-localeid":"addChildTooltip","data-localeattr":"title"}),t.prependTo(i),t.css({float:"left",position:"relative"}),n("<span />").css({display:"inline-block",left:0}).addClass(this.css.addRowIcon).attr("unselectable","on").appendTo(t),n("<span />").css("display","inline-block").attr({unselectable:"on","data-localeid":"addChildButtonLabel"}).html(this._getLocaleValue("addChildButtonLabel")).appendTo(t);this.grid.container().on({"mouseenter.donecancel":this._buttonHandlers.mouseEnter,"mouseleave.donecancel":this._buttonHandlers.mouseLeave,"focus.donecancel":this._buttonHandlers.focus,"blur.donecancel":this._buttonHandlers.blur},r);this.grid.container().on({"click.donecancel":this._buttonHandlers._touchAddChildClick,"keyup.donecancel":this._buttonHandlers._touchAddChildKeyUp},r)}return i},_updateTouchButtons:function(t){var i,r;this._super(t),this.options.enableAddChild&&(r=this.grid.findRecordByKey(this._editingForRowId)!==null,i=n("#"+this.grid.id()+"_updating_add_child_touch"),t||this._isAddChild()||!r?(i.addClass(this.css.buttonDisabled),i.hasClass("ui-iggrid-buttonhover")&&i.removeClass(this.css.buttonHover)):i.removeClass(this.css.buttonDisabled))},_isAddChild:function(){return this.grid.element.find("tr[data-child-row]").length!==0},_removeChildrenFromUI:function(n,t){if(n&&n.length){var i,r,u,f,e,o=this.grid.hasFixedColumns();if(!isNaN(t))for(e=this.grid.container();n.length===1;){if(i=parseInt(n.attr("aria-level"),10),isNaN(i))break;if(i<=t)break;r=n,u=n.attr("data-id"),n=n.next("tr"),o&&(f=e.find('tr[data-id="'+u+'"]'),f.remove()),r.remove()}}},_updateParentRowAfterAddChild:function(t){var r,u,i,f=this.grid.options.renderExpansionIndicatorColumn,e=this.grid.hasFixedColumns()&&this.grid.fixingDirection()==="left";(i=this.grid.rowById(t,e),i.find("span.ui-igtreegrid-expansion-indicator").length>0)||(u={dataBoundDepth:parseInt(i.attr("aria-level"),10),hasExpandCell:!0,expand:!0},r=this.grid._renderExpandCellContainerHelper(u),f?i.find("td.ui-igtreegrid-non-data-column").attr("data-expand-cell",1).append(r):i.find("span[data-expandcell-indicator]").append(n(r).find("span.ui-igtreegrid-expansion-indicator")),i.attr("aria-expanded",!0))},_generatePrimaryKeyValue:function(n,t){var i,r=this.grid.dataSource;t&&(i=Math.max(this._recCount||1,r._totalRecordsCount||1,r._data.length),this._getPKType()==="string"&&(i=String(i)),(this.element.find("tr[data-id="+i+"]").length||this.grid.findRecordByKey(i))&&(i=parseInt(i)+1),this._recCount=i,t.value=i)},_scroll:function(){this.isEditing()&&this._isAddChild()?this._positionDoneCancelButtons(this.grid.element.find("tr[data-new-row][data-child-row]")):this._super()},_attachEvents:function(){this._generatePrimaryKeyValueHandler=n.proxy(this._generatePrimaryKeyValue,this),this.element.bind("igtreegridupdatinggenerateprimarykeyvalue",this._generatePrimaryKeyValueHandler)},_detachEvents:function(){this._generatePrimaryKeyValueHandler&&(this.element.unbind("igtreegridupdatinggenerateprimarykeyvalue",this._generatePrimaryKeyValueHandler),delete this._generatePrimaryKeyValueHandler)},addChild:function(t,i){var r=this.options.columnSettings,f=r?r.length:0,e={},u,o,s=this.grid.findRecordByKey(i);if(s===null)throw new Error(this._getLocaleValue("recordNotFound").replace("{id}",i));while(f-->0)u=r[f].columnKey,o=r[f].defaultValue,o!==undefined&&u!==undefined&&u!==null&&(e[u]=o);this._addRow(null,n.extend(e,t),e,!0,i)},startAddChildFor:function(n,t){var i=this.grid.findRecordByKey(n);if(i===null)throw new Error(this._getLocaleValue("recordNotFound").replace("{id}",n));this._startAddChildFor(n,t)},showAddChildButtonFor:function(t){var i=n("#"+this.grid.id()+"_updating_add_child_hover"),r=this.grid.options,e,l=r.height!==null&&r.height!==undefined,a=this.grid.hasVerticalScrollbar()===!0?this.grid._scrollbarWidth():0,o,s,u,h=0,f,c=0,v=this._getRowId(t);i.length&&(this.options.enableDeleteRow&&(c+=n("#"+this.grid.id()+"_updating_deletehover").outerWidth()+5),i.show(),u=i.parent(),l||(e=r.virtualization||r.rowVirtualization||r.columnVirtualization,f=e?this.grid._vdisplaycontainer():this.grid.scrollContainer(),f.length&&(h=f.igPosition().top)),o=u.outerWidth()-i.outerWidth()-a-c+u.scrollLeft()-5,s=t.igPosition().top+t.outerHeight()/2-i.outerHeight()/2+u.scrollTop()+h,i.css({top:s,left:o}),i.data("button-for",v))},hideAddChildButton:function(){var t=n("#"+this.grid.id()+"_updating_add_child_hover");t.length&&t.hide()},_create:function(){this.element.data(n.ui.igGridUpdating.prototype.widgetName,this.element.data(n.ui.igTreeGridUpdating.prototype.widgetName)),n.ui.igGridUpdating.prototype._create.apply(this,arguments)},_addRow:function(t,i,r,u,f){var h,l,a,v,c,e=this.grid.options.dataSourceSettings.dataLevelKey,o=this.grid.options.dataSourceSettings.expandedKey,s;if(i=n.extend({},r,i),e&&!i.hasOwnProperty(e)&&(i[e]=0),o&&!i.hasOwnProperty(o)&&(i[o]=!0),f!==undefined&&f!==null){if(s=this.grid.dataSource.findRecordByKey(f),s===null)throw new Error(n.ig.Grid.locale.recordNotFound.replace("{id}",f));if(s[o]=!0,i[e]=s[e]+1,h={owner:this,values:i,oldValues:r,addChild:!0,parentID:f},!u&&!this._trigger(this.events.rowAdding,t,h))return!1;l=i[this.grid.options.primaryKey],c=this.grid.dataSource.getChildrenByKey(f)?this.grid.dataSource.getChildrenByKey(f).length:0,c+=this._pendingChildrenCount(f),a=this.grid.dataSource.insertRow(l,i,c,this.grid.options.autoCommit,f),v=this._updateUIForTransaction(a),this._notifyRowAdded(v),n.type(this._pkVal)==="number"&&this._pkVal++,u||this._trigger(this.events.rowAdded,t,h)}else this._super(t,i,r,u,f)},_pendingChildrenCount:function(n){for(var t=this.grid.pendingTransactions(),u=0,r,i=0;i<t.length;i++)if(t[i].type==="insertnode"&&t[i].parentRowId===n)for(u++,r=0;r<t.length;r++)t[r].rowId===t[i].rowId&&t[r].type==="deleterow"&&u--;return u},_startEditForCell:function(n,t,i,r,u,f,e,o){return this.hideAddChildButton(),this._super(n,t,i,r,u,f,e,o)},_rebindEditTriggers:function(){this._super(),this.options.enableAddChild&&this._renderAddChildButton()},_getLatestValues:function(n,t){var i=this._super(n,t);return i&&i[this.grid.dataSource.settings.treeDS.childDataKey]&&delete i[this.grid.dataSource.settings.treeDS.childDataKey],i},_createHandlers:function(){this._super(),this._buttonHandlers.addChildClick=n.proxy(this._addChildButtonClick,this),this._buttonHandlers._touchAddChildClick=n.proxy(this._touchAddChildClick,this),this._buttonHandlers._touchAddChildKeyUp=n.proxy(this._touchAddChildKeyUp,this)},_deleteRow:function(n,t,i){var f,e,o,r=this.grid.rowById(t),u;return r&&r.length&&(o=r.next("tr"),e=r.prev("tr"),u=parseInt(r.attr("aria-level"),10)),f=this._super(n,t,i),f&&!isNaN(u)&&(this._removeChildrenFromUI(o,u),this.grid._updateParentRowAfterDelete(e,u)),f},_updateUIForTransaction:function(n,t){var r=this.grid.options,u=r.autoCommit,e=r.virtualization||r.rowVirtualization||r.columnVirtualization,i,f;if(n.type==="insertnode"){if(this.grid.rowById(n.rowId).length)return;if(this._updateUnboundValuesForRow(n.row),e&&!u)return;this.grid.renderNewChild(n.row,n.parentRowId),this._updateParentRowAfterAddChild(n.parentRowId),this.grid._rerenderDataSkipColumn(this.grid.dataSource.getDataBoundDepth()),i=this.grid.rowById(n.rowId),!u&&i.length&&this._combineRowElements(i).addClass(this.grid.css.modifiedRecord),f=i?i.index()-1:0,this.grid._reapplyZebraStyle(f)}else n.type==="deleterow"&&this.grid._rerenderColgroups(),i=this._super(n,t),this.grid.options.width===null&&n.type==="deleterow"&&this.grid._updateContainersWidthOnGridWidthNull();return i},_setOption:function(t,i){var r;this._super(t,i);switch(t){case"enableAddChild":i===!0?this._renderAddChildButton():this._removeAddChildButton();break;case"addChildTooltip":r=n("#"+this.grid.id()+"_updating_add_child_hover"),r.length===1&&r.attr("title",i);break;default:this._super(t,i)}},destroy:function(){this._detachEvents(),this._removeAddChildButton(),this._superApply(arguments),this.element.removeData(n.ui.igGridUpdating.prototype.widgetName)},_injectGrid:function(t,i){n.ui.igGridUpdating.prototype._injectGrid.apply(this,arguments),i||(this._detachEvents(),this._attachEvents())}}),n.extend(n.ui.igTreeGridUpdating,{version:"19.2.25"})}(n),function(n){"use strict";n.widget("ui.igTreeGridRowSelectors",n.ui.igGridRowSelectors,{options:{rowSelectorNumberingMode:"sequential",checkBoxMode:"biState",inherit:!1},css:{rowSelectorChecked:"ui-state-checked",checkBoxP:"ui-icon ui-icon-check-p ui-igcheckbox-normal-on",checkBoxF:"ui-icon ui-icon-check-f ui-igcheckbox-normal-on"},_create:function(){this.element.data(n.ui.igGridRowSelectors.prototype.widgetName,this.element.data(n.ui.igTreeGridRowSelectors.prototype.widgetName)),n.ui.igGridRowSelectors.prototype._create.apply(this,arguments),this._cIndexes={},this._indexCache={},this._path="",this._pathBuild=!1,this._nCache={},this._recordNumbers={},this._checkboxStates={}},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridRowSelectors.prototype.widgetName)},changeLocale:function(){this._superApply(arguments)},_recordsRendering:function(){if(n.ui.igGridRowSelectors.prototype._recordsRendering.apply(this,arguments),this.options.rowSelectorNumberingMode==="sequential"){this._cIdx===this.options.rowNumberingSeed&&this._numberRecords(this.grid.dataSource.data());return}this._cIndexes={},this._pathBuild=!1,this._nCache={},this._numberRecordsWithParents(this.grid.dataSource.data(),"")},_rsExpandCollapseRow:function(t,i){i&&(this._cIndexes={},this._path=(t instanceof n?t.find("span.ui-iggrid-rowselector-row-number").html():this.element.find("[data-id='"+t+"']").find("span.ui-iggrid-rowselector-row-number").html())+".",this._pathBuild=!0),n.ui.igTreeGrid.prototype._expandCollapseRow.apply(this.grid,arguments)},_applyNumberToNewChild:function(t,i){var u,f,r;u=t[this.grid.options.primaryKey],f=t[this.grid.options.childDataKey]?t[this.grid.options.childDataKey].length:1,n.isEmptyObject(this._nCache)?this.element.find("[data-id='"+u+"']").length!==0&&(r=this.element.find("[data-id='"+u+"']").find("span.ui-iggrid-rowselector-row-number").html(),r+="."+f):(r=this._nCache[u]+"."+f,this._nCache[i.data("id")]=r),i.find("span.ui-iggrid-rowselector-row-number").html(r)},_childRowRendering:function(n){this.options.rowSelectorNumberingMode!=="sequential"&&(this._getCurrentNumberForNewChild(n.parentId,n.id),this._nCache[n.parentId].children++)},_redirectFunctions:function(){this._functionsRedirected===!1&&(this._expandCollapseRowHandler=n.proxy(this._rsExpandCollapseRow,this),this.options.rowSelectorNumberingMode!=="sequential"&&(this.grid._expandCollapseRow=this._expandCollapseRowHandler),this.options.checkBoxMode!=="biState"&&(this._select=n.proxy(this._selectHandler,this),this._deselect=n.proxy(this._deselectHandler,this),this._handleCheck=n.proxy(this._handleTriStateCheck,this),this._handleHeaderCheck=n.proxy(this._handleTriStateHeaderCheck,this))),n.ui.igGridRowSelectors.prototype._redirectFunctions.apply(this,arguments)},_injectGrid:function(){var t;for(n.ui.igGridRowSelectors.prototype._injectGrid.apply(this,arguments),t=0;t<this.grid.options.features.length;t++)if(this.grid.options.features[t].name==="Selection"){if(this.grid.options.features[t].multipleSelection&&this.options.enableCheckBoxes&&this.options.checkBoxMode==="triState")throw new Error(this._getLocaleValue("multipleSelectionWithTriStateCheckboxesNotSupported"));break}},_shouldRenderHeaderCheckBoxes:function(){var n=this.options;return n.enableCheckBoxes===!0&&n.checkBoxMode==="triState"||n.enableCheckBoxes===!0&&n.checkBoxMode==="biState"&&this._ms},_updateHeader:function(){var r,t=!0,n,u=this.grid.dataSource.flatDataView(),i=u.length,f=this._getSelectionInstance(),e,o=f._pkProp;if(this.grid.element.data("igGridPaging")){for(n=0;n<i;n++)if(e=this.options.checkBoxMode==="triState"?this._checkboxStates[u[n][f._pkProp]]:this.grid._selection.isSelected(o!==null?u[n][o]:n,this.grid),!e){t=!1;break}}else i=this.grid.dataSource.getFlatData().length,r=this.grid._selection?this.grid._selection.selectionLength():0,t=this.options.checkBoxMode==="triState"?this._areAllRecordsChecked(r,i):r===i&&this._isFirstRowSelected();this._alterCheckbox(this._headerCheckbox(),t)},_rowExpanded:function(n){this.options.rowSelectorNumberingMode==="sequential"&&this._reapplyNumbering(n),this.options.enableCheckBoxes===!0&&this._ms&&this._updateHeader()},_rowCollapsed:function(n){this.options.rowSelectorNumberingMode==="sequential"&&this._reapplyNumbering(n)},_getCurrentNumber:function(t){var i=this.grid.options.primaryKey,r;return this.options.rowSelectorNumberingMode==="sequential"&&!n.isEmptyObject(this._recordNumbers)?"<span class='ui-iggrid-rowselector-row-number'>"+(this._recordNumbers[t[i]]||"")+"<\/span>":n.isEmptyObject(this._nCache)?this._super(t):(t.hasOwnProperty("__fr")?r=this._getCurrentNumberForNewChild(t.__fr):this._nCache[t[i]]?r=this._nCache[t[i]].path||"":(this._nCache[t[i]]={children:0,path:String(this._getNextNumberForParent())},r=this._nCache[t[i]].path),"<span class='ui-iggrid-rowselector-row-number'>"+r+"<\/span>")},_getCurrentNumberForNewChild:function(n,t){var i=this._nCache[n].path+"."+(this._nCache[n].children+1);return t!==undefined&&(this._nCache[t]={path:i,children:0}),i},_getNextNumberForParent:function(){for(var t=this.grid.dataSource.pendingTransactions(),i=0,n=0;n<t.length;n++)t[n].type==="newrow"&&i++;return this.grid.dataSource.data().length+i},_getRowSelectorCellMarkup:function(n,t){if(!t)return"";var i="",r=this.options,u=this.grid.options,o=u.primaryKey,f=t[o],e=this._checkboxStates[f]!==undefined&&this._checkboxStates[f]!==null;return i+="<th role='rowheader' tabindex='"+u.tabIndex+"' class='"+this.css.rowSelector,n&&(i+=" "+this.css.rowSelectorSelected),e&&(i+=" "+this.css.rowSelectorChecked),i+="'><span class='ui-icon ui-icon-triangle-1-e' style='margin-left: -5px'><\/span>",r.enableRowNumbering&&(i+=this._getCurrentNumber(t)),r.enableCheckBoxes&&(i+=this._getTriStateCheckBox(t,n&&r.checkBoxMode!=="triState"||e)),i+="<\/th>"},_getTriStateCheckBox:function(n,t){var i="",r="off",u=this.css.checkBoxOff,f=this.grid.options.primaryKey;return t&&(r="on",u=this._checkboxStates[n[f]]===0?this.css.checkBoxP:this.css.checkBoxF),i+="<span name='chk' ",i+="data-chk='"+r+"' ",i+="data-role='checkbox' class='"+this.css.checkBox+" '",i+="tabindex='"+this.grid.options.tabIndex+" '",this.options.showCheckBoxesOnFocus===!0&&this._checkBoxesShown===!1&&(i+=" style='visibility: hidden;'"),i+="><span class='"+u+"'>",i+="<\/span><\/span>"},_numberRecordsWithParents:function(t,i){var h=this.grid.options.primaryKey,u=this.grid.options.childDataKey,o=1,e,s,f,r;if(n.type(t)==="array")for(s=t.length,f=0;f<s;f++,o++)r=t[f],e=(i===""?"":i+".")+o.toString(),this._nCache[r[h]]={path:e,children:r[u]?r[u].length||0:0},r[u]!==undefined&&r[u]!==null&&this._numberRecordsWithParents(r[u],e)},_numberRecords:function(t){var e=this.grid.options.primaryKey,u=this.grid.options.childDataKey,o=this.grid.options.dataSourceSettings.expandedKey,f,r,i;if(n.type(t)==="array")for(f=t.length,r=0;r<f;r++)i=t[r],(this._recordNumbers===undefined||this._recordNumbers===0)&&(this._cIdx=this.options.rowNumberingSeed,this._recordNumbers={}),this._recordNumbers[i[e]]=++this._cIdx,i[o]&&i[u]!==undefined&&i[u]!==null&&this._numberRecords(i[u])},_reapplyNumbering:function(n){var i,t=n.fixedRow||n.row,r="span.ui-iggrid-rowselector-row-number";for(this._cIdx=this.options.rowNumberingSeed,this._numberRecords(this.grid.dataSource.data());t.length===1;)i=t.attr("data-id"),t.find(r).text(this._recordNumbers[i]),t=t.next("tr[aria-level]")},_selectHandler:function(n){var t;(n.element=n.element||this._getRowById(n.id),t=this._rowSelectorFromSelection(n),t)&&t.rowSelector.addClass(this.css.rowSelectorSelected)},_deselectHandler:function(t){var i,r;(t.element=t.element||this._getRowById(t.id),i=this._rowSelectorFromSelection(t),i)&&(r=this.grid._selection instanceof n.ig.SelectedRowsCollection||!this.grid._selection.atLeastOneSelected(this.grid._fixPKValue(t.element.parent().attr("data-id"))),r&&i.rowSelector.removeClass(this.css.rowSelectorSelected))},_changeParentsCheckState:function(t,i){for(var e=this.grid,h=e.options.primaryKey,c=n.proxy(i?this._checkParent:this._uncheckParent,this),o,s,u,f=e.dataSource.getParentRowsForRow(t),r=f.length-1;r>=0;r--)u=f[r].row,s=this._getRowById(u[h]),o=this._rowSelectorFromSelection({element:s}),c(u,o)},_checkParent:function(n,t){var r=this.grid.options.primaryKey,u=this.grid.options.childDataKey,i=n[r];this._areAllChildrenChecked(n[u])?(this._checkboxStates[i]=1,t.checkbox.parent().addClass(this.css.rowSelectorChecked)):(this._checkboxStates[i]=0,t.checkbox.parent().addClass(this.css.rowSelectorChecked)),this._alterTriStateCheckbox(t.checkbox,this._checkboxStates[i])},_uncheckParent:function(n,t){var r=this.grid.options.primaryKey,u=this.grid.options.childDataKey,i=n[r];this._hasCheckedChildren(n[u])?(this._checkboxStates[i]=0,this._alterTriStateCheckbox(t.checkbox,0)):(delete this._checkboxStates[i],t.checkbox.parent().removeClass(this.css.rowSelectorChecked),this._alterTriStateCheckbox(t.checkbox))},_changeChildrenCheckState:function(t,i){for(var f=this.grid,s=f.dataSource.getChildrenByKey(t,f.dataSource._data)||[],c=f.options.primaryKey,l=f.options.childDataKey,r,o,h,u,e=0;e<s.length;e++)o=s[e],r=o[c],h=this._getRowById(r),u=this._rowSelectorFromSelection({element:h}),i?(this._checkboxStates[r]=1,u.checkbox.parent().addClass(this.css.rowSelectorChecked),this._alterTriStateCheckbox(u.checkbox,1)):(delete this._checkboxStates[r],u.checkbox.parent().removeClass(this.css.rowSelectorChecked),this._alterTriStateCheckbox(u.checkbox)),n.type(o[l])==="array"&&this._changeChildrenCheckState(r,i)},_areAllChildrenChecked:function(n){for(var u=n?n.length:0,f=this.grid.options.primaryKey,r,t,i=0;i<u;i++)if(r=n[i][f],t=this._checkboxStates[r],t===null||t===undefined||t===0)return!1;return!0},_hasCheckedChildren:function(n){for(var u=n?n.length:0,f=this.grid.options.primaryKey,r,i,t=0;t<u;t++)if(r=n[t][f],i=this._checkboxStates[r],i!==undefined&&i!==null)return!0;return!1},_rrn:function(){var u=this._allRowSelectorCells(),e=this._allCheckboxes(),f,t=0,s=this,h=this.grid._startRowIndex||0,o,i,r;if(!this._skipRefresh)for(u.removeClass(this.css.rowSelectorSelected),e.map(function(){s._alterCheckbox(n(this),!1)}),t=0;t<u.length;t++)o=u.eq(t).closest("tr"),i=this.grid._fixPKValue(o.attr("data-id")),r=this._checkboxStates[i],(i===null||i===undefined)&&(i=t+h),(this.grid._selection.selection[i]!==undefined||r!==undefined&&r!==null)&&(this.grid._selection.selection[i]&&u.eq(t).addClass(this.css.rowSelectorSelected),f=e.eq(t),f.length===1&&(this.options.checkBoxMode!=="triState"&&(r===undefined||r===null)?this._alterCheckbox(f,!0):this._alterTriStateCheckbox(f,r)))},_alterTriStateCheckbox:function(n,t){var i=n.children().first();n.length>0&&i.length>0&&(t===0?(n.attr("data-chk","mixed"),i.removeClass(this.css.checkBoxOff).removeClass(this.css.checkBoxF).addClass(this.css.checkBoxP)):t===1?(n.attr("data-chk","on"),i.removeClass(this.css.checkBoxOff).removeClass(this.css.checkBoxP).addClass(this.css.checkBoxF)):(n.attr("data-chk","off"),i.removeClass(this.css.checkBoxP).removeClass(this.css.checkBoxF).addClass(this.css.checkBoxOff)))},_clearSelection:function(){var t,i=this;t=this.grid.hasFixedColumns()&&this.grid.fixingDirection()==="left"?this.grid.fixedBodyContainer().find("tbody").find("th.ui-iggrid-selectedcell").removeClass(this.css.rowSelectorSelected):this.grid.element.children("tbody").find("th.ui-iggrid-selectedcell").removeClass(this.css.rowSelectorSelected),this.options.enableCheckBoxes&&this.options.checkBoxMode!=="triState"&&(n.each(t,function(){i._alterCheckbox(n(this).children("span:last"),!1)}),this._alterCheckbox(this._headerCheckbox(),!1))},_areAllRecordsChecked:function(n,t){var r=0,i;for(i in this._checkboxStates)if(this._checkboxStates.hasOwnProperty(i)){if(this._checkboxStates[i]===0)return!1;this._checkboxStates[i]===1&&r++}return r===t},_getDataView:function(){return this.grid.dataSource.flatDataView()},_getAllData:function(){return this._flatData?this._flatData:this._flatData=this.grid.dataSource.generateFlatData().flatData},_handleTriStateCheck:function(n){var t,i,r,u,f;if(n){if(r=this.grid.element.data("igGridUpdating"),u=this._getSelectionInstance(),u&&u._suspend)if(r){if(r.findInvalid())return;r._endEdit(null,!0)}else return;f=this._v?this.grid._startRowIndex:0,t=n.parent().parent(),this.grid.hasFixedColumns()&&(t=this.grid.fixedBodyContainer().attr("data-fixing-direction")==="left"?t.add(this.grid.element.find("tbody > tr").eq(t.index())):t.add(this.grid.fixedBodyContainer().find("tbody > tr").eq(t.index()))),i=this.grid._fixPKValue(t.attr("data-id")),(i===null||i===undefined)&&(i=t.closest("tbody").children("tr:not([data-container])").index(t)+f),this.changeCheckStateById(i,n.attr("data-chk")==="off"),this._suspendHeader||this._updateHeader()}},_handleTriStateHeaderCheck:function(n){var f=this._getDataView(),e=this.grid.element,i=n.attr("data-chk")==="off",u,t,r;this._changeCheckStateForRows(f,i),this._alterCheckbox(n,i),this.options.enableSelectAllForPaging&&e.data("igGridPaging")&&(t=this.checkedRows().length,r=this._getAllData().length,u=[{checked:t,unchecked:r-t,allCheckedRecords:t,totalRecordsCount:r}],this._renderOverlay(u,i))},_selectAllFromOverlay:function(){this.options.checkBoxMode==="biState"?this._changeCheckStateForAllRecords(this._getSelectionInstance(),!0):this._changeCheckStateForRows(this._getAllData(),!0)},_deselectAllFromOverlay:function(){this.options.checkBoxMode==="biState"?this._changeCheckStateForAllRecords(this._getSelectionInstance(),!1):this._changeCheckStateForRows(this._getAllData(),!1)},_getRowById:function(t){var i,r=n();return this.grid.hasFixedColumns()&&(r=this.grid.rowById(t,!0)),i=this.grid.rowById(t,!1),i instanceof n?i.add(r):n()},_changeCheckStateForRows:function(n,t){for(var u,f,i,e=this.grid.options.primaryKey,r=0;r<n.length;r++)i=n[r][e],f=this._getRowById(i),u=this._rowSelectorFromSelection({element:f}),this._alterCheckbox(u.checkbox,t),this._changeChildrenCheckState(i,t),this._changeParentsCheckState(i,t)},_changeTriStateById:function(n,t){var r=this._getRowById(n),u=this._rowSelectorFromSelection({element:r}),i=u.checkbox;t?i.parent().addClass("ui-state-checked"):i.parent().removeClass("ui-state-checked"),this._alterCheckbox(i,t),this._changeChildrenCheckState(n,t),this._changeParentsCheckState(n,t)},changeCheckStateById:function(n,t){if(this.options.checkBoxMode==="biState"){if(t){this._selection.selectRowById(n);return}this._selection.deselectRowById(n);return}this._changeTriStateById(n,t)},changeCheckState:function(n,t){var i=this.grid.options.primaryKey,r=this._getDataView()[n][i];this.changeCheckStateById(r,t)},toggleCheckStateById:function(n){var t=this._getRowById(n),i=this._rowSelectorFromSelection({element:t}),r=i.checkbox;r.attr("data-chk")==="off"?this.changeCheckStateById(n,!0):this.changeCheckStateById(n,!1)},toggleCheckState:function(n){var t=this.grid.options.primaryKey,i=this._getDataView()[n][t];this.toggleCheckStateById(i)},_getIndexForRow:function(n){return n.closest("tbody").children("tr:not([data-container])").index(n)+(this.grid._startRowIndex||0)},_rowObject:function(t){var i={};return i.element=this._getRowById(t),i.index=this._getIndexForRow(i.element),n.extend(!0,{},i,{id:t})},_checkForRequireSelectionWithCheckboxes:function(){return this.options.requireSelection===!1&&this.options.enableCheckBoxes===!0&&this.options.checkBoxMode==="biState"},checkedRows:function(){var n,t=[];if(this.options.checkBoxMode==="biState")return this._ms?this._selection.selectedRows():this._selection.selectedRow()?[this._selection.selectedRow()]:[];for(n in this._checkboxStates)this._checkboxStates.hasOwnProperty(n)&&this._checkboxStates[n]===1&&t.push(this._rowObject(this.grid._fixPKValue(n)));return t},partiallyCheckedRows:function(){var n,t=[];for(n in this._checkboxStates)this._checkboxStates.hasOwnProperty(n)&&this._checkboxStates[n]===0&&t.push(this._rowObject(this.grid._fixPKValue(n)));return t},uncheckedRows:function(){for(var i=this._getAllData(),r=[],n,f=this.grid.options.primaryKey,u=this.options.checkBoxMode==="biState"?this.grid._selection.selection:this._checkboxStates,t=0;t<i.length;t++)n=i[t][f],(u[n]===undefined||u[n]===null)&&r.push(this._rowObject(this.grid._fixPKValue(n)));return r},checkStateById:function(n){return this.options.checkBoxMode==="biState"?this.grid._selection.selection[n]?"on":"off":this._checkboxStates[n]===undefined||this._checkboxStates[n]===null?"off":this._checkboxStates[n]===1?"on":this._checkboxStates[n]===0?"partial":void 0}}),n.extend(n.ui.igTreeGridRowSelectors,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridColumnMoving",n.ui.igGridColumnMoving,{options:{inherit:!1},_create:function(){this.element.data(n.ui.igGridColumnMoving.prototype.widgetName,this.element.data(n.ui.igTreeGridColumnMoving.prototype.widgetName)),n.ui.igGridColumnMoving.prototype._create.apply(this,arguments)},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridColumnMoving.prototype.widgetName)},_injectGrid:function(){n.ui.igGridColumnMoving.prototype._injectGrid.apply(this,arguments),this._fVisibleColumnKey=this.grid._visibleColumns()[0].key,this._unregisterEvents(),this._registerEvents()},_updateLayout:function(){var t,r=this,i=!1,u=this.grid.options.virtualization===!0||this.grid.options.columnVirtualization===!0||this.grid.options.rowVirtualization===!0;if(this._colsSave&&(i=this._fVisibleColumnKey!==this.grid._visibleColumns()[0].key,this._fVisibleColumnKey=this.grid._visibleColumns()[0].key),i&&!this.grid.options.renderExpansionIndicatorColumn&&(this.grid.element.data("igTreeGridUpdating")&&this.grid.element.data("igTreeGridUpdating").endEdit(),u?this.grid._renderVirtualRecords():this.grid._renderRecords(),this.grid.element.data("igTreeGridSorting")&&this.grid.element.data("igTreeGridSorting")._initDefaultSettings()),!this._gridReady()){setTimeout(function(){r._updateLayout()},50);return}t=this.grid._oldCols?n.grep(this.grid._oldCols,this.grid._columnVisible):this.grid._visibleColumns(),this._hscroller=this.grid._hscrollbarcontent(),this._hscroller=this._hscroller.length>0?this._hscroller:this.grid.scrollContainer(),this._cache.columns={},this._cache.siblings={},this._cache.fixedSiblings={},this._updateLayoutPerLevel(t,!0),this._createMovingOptions(),delete this._movingDirty},_registerEvents:function(){this.grid.element.bind("igtreegridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.bind("igtreegridheaderrendering",this._headerRenderingHandler),this.grid.element.bind("igtreegridheaderrendered",this._headerRenderedHandler),this.grid.element.bind("igtreegridrendered",this._gridFullyRenderedHandler),this.grid.element.bind("igtreegridresizingcolumnresized",this._columnStateChanged),this.grid.element.bind("igtreegridcolumnscollectionmodified",this._columnStateChanged),this.grid.element.bind("igtreegridpagingpagingdropdownrendered",this._columnStateChanged),this.grid.element.bind("igtreegrid_columnsmoved",this._columnStateChanged)},_unregisterEvents:function(){this.grid.element.unbind("igtreegridheadercellrendered",this._headerCellRenderedHandler),this.grid.element.unbind("igtreegridheaderrendering",this._headerRenderingHandler),this.grid.element.unbind("igtreegridheaderrendered",this._headerRenderedHandler),this.grid.element.unbind("igtreegridrendered",this._gridFullyRenderedHandler),this.grid.element.unbind("igtreegridresizingcolumnresized",this._columnStateChanged),this.grid.element.unbind("igtreegridcolumnscollectionmodified",this._columnStateChanged),this.grid.element.unbind("igtreegridpagingpagingdropdownrendered",this._columnStateChanged),this.grid.element.unbind("igtreegrid_columnsmoved",this._columnStateChanged),this.grid.headersTable().find("th").unbind("moving")}}),n.extend(n.ui.igTreeGridColumnMoving,{version:"19.2.25"})}(n),function(n){n.widget("ui.igTreeGridResizing",n.ui.igGridResizing,{options:{inherit:!1},css:{},_create:function(){this.element.data(n.ui.igGridResizing.prototype.widgetName,this.element.data(n.ui.igTreeGridResizing.prototype.widgetName)),n.ui.igGridResizing.prototype._create.apply(this,arguments)},destroy:function(){this._superApply(arguments),this.element.removeData(n.ui.igGridResizing.prototype.widgetName)}}),n.extend(n.ui.igTreeGridResizing,{version:"19.2.25"})}(n)}),function(n){typeof define=="function"&&define.amd?define(["../modules/infragistics.datasource","knockout"],n):n(jQuery,ko)}(function(n,t){return n.ig.KnockoutDataSource=n.ig.KnockoutDataSource||n.ig.DataSource.extend({init:function(n){return n.observableDataSource===null||n.observableDataSource===undefined?(this.kods=n.dataSource,n.dataSource=t.toJS(n.dataSource)):(this.kods=n.observableDataSource,n.dataSource=t.toJS(n.observableDataSource)),this._super(n),this},setCellValue:function(n,t,i,r){return this._super(n,t,i,r)},_setCellValue:function(n,i,r){var o,e=this.settings.primaryKey,u=this.kods,f;if(u=t.isObservable(u)?u():u,this.settings.responseDataKey&&(t.isObservable(u[this.settings.responseDataKey])?u=u[this.settings.responseDataKey]():u[this.settings.responseDataKey]&&(u=u[this.settings.responseDataKey])),e){for(f=0;f<u.length;f++)if(o=t.isObservable(u[f][e])?u[f][e]():u[f][e],String(o)===String(n)){t.isWriteableObservable(u[f][i])?u[f][i](r):u[f][i]=r;break}}else t.isWriteableObservable(u[n][i])?u[n][i](r):u[n][i]=r},deleteRow:function(n,t){return t&&(this._ownUpdate=!this._ownUpdate),this._super(n,t)},_deleteRow:function(n){var r=this.settings.primaryKey,i=this.kods;this.settings.responseDataKey&&i[this.settings.responseDataKey]&&(i=i[this.settings.responseDataKey]),t.isObservable(i)?this._koUpdate?this._koUpdate=!1:i.remove(function(i){return String(t.isObservable(i[r])?i[r]():i[r])===String(n)}):this._super(n)},addRow:function(n,t,i){return i&&(this._ownUpdate=!this._ownUpdate),this._super(n,t,i)},_addRow:function(n,i,r){var u=this.kods,f,e=jQuery.extend({},n);if(this.settings.responseDataKey&&u[this.settings.responseDataKey]&&(u=u[this.settings.responseDataKey]),t.isObservable(u))if(this._koUpdate)this._koUpdate=!1,this._super(n,i,r);else{for(f in e)e.hasOwnProperty(f)&&!t.isObservable(f)&&(e[f]=t.observable(e[f]));this._super(n,i,r),u.push(e)}else u.push(n),this._super(n,i,r)},updateRow:function(n,t,i){return i&&(this._ownUpdate=!this._ownUpdate),this._super(n,t,i)},_updateRow:function(n,i){var o,e=this.settings.primaryKey,r=this.kods,u,f;if(this.settings.responseDataKey&&r[this.settings.responseDataKey]&&(r=r[this.settings.responseDataKey]),r=t.isObservable(r)?r():r,e){for(f=0;f<r.length;f++)if(o=t.isObservable(r[f][e])?r[f][e]():r[f][e],String(o)===String(n)){for(u in i)i.hasOwnProperty(u)&&(t.isWriteableObservable(r[f][u])?r[f][u](i[u]):r[f][u]=i[u]);break}}else for(u in i)i.hasOwnProperty(u)&&(t.isWriteableObservable(r[n][u])?r[n][u](i[u]):r[n][u]=i[u])},_commitTransaction:function(t){var u,f,e,r,i=this.settings.localSchemaTransform?this._origDs:null;if(i===this._data&&(i=null),this._ownUpdate=!0,this.settings.primaryKey===null?(e=this._data[parseInt(t.rowId,10)],i&&(r=i[parseInt(t.rowId,10)])):(e=this.findRecordByKey(t.rowId),i&&(r=this.findRecordByKey(t.rowId,i))),t.type==="cell")e[t.col]=t.value,r&&(r[t.col]=t.value),this._setCellValue(t.rowId,t.col,t.value);else if(t.type==="row"){if(n.type(t.row)==="array")for(u=0;u<t.row.length;u++)e[u]=t.row[u],r&&(r[u]=t.row[u]);else if(e){for(f in t.row)t.row.hasOwnProperty(f)&&(e[f]=t.row[f],r&&(r[f]=t.row[f]));this._updateRow(t.rowId,t.row)}}else t.type==="deleterow"?(this.settings.primaryKey===null?this.removeRecordByIndex(parseInt(t.rowId,10),i):this.removeRecordByKey(t.rowId,i),this._deleteRow(t.rowId)):t.type==="newrow"?this._addRow(t.row,t.rowId,i):t.type==="insertrow"&&this._addRow(t.row,t.rowIndex,i);this._removeTransactionByTransactionId(t.tid)},dataAt:function(i,r){for(var e=this.kods,h=i.split("/"),w=r.split("/"),o,u,c,f=null,a=this.settings.primaryKey,l="",p=[],v=[],y=!1,e=t.isObservable(e)?e():e,s=0;s<h.length;s++)if(a=h[s].split(":")[0],l=h[s].split(":")[1],h[s]!==""){for(c=0;e&&c<e.length;c++){if(a&&a.indexOf(",")!==-1){for(p=a.split(","),v=l.split(","),o=0;o<p.length;o++)if(u=e[c][p[o]],u=t.isObservable(u)?u():u,!u.charAt&&v[o].charAt&&(v[o]=parseInt(v[o],10)),y=u===v[o],!y)break}else u=e[c][a],u=t.isObservable(u)?u():u,u!==undefined&&!u.charAt&&l.charAt&&(l=parseInt(l,10)),y=u===l;if(y){f=e[c][w[s]],h.length>1&&s<h.length-1&&this.settings.responseDataKey&&n.type(f)!=="array"&&f[this.settings.responseDataKey]&&(f=t.isObservable(f[this.settings.responseDataKey])?f[this.settings.responseDataKey]():f[this.settings.responseDataKey]);break}}e=t.isObservable(f)?f():f}return f}})}),function(n){typeof define=="function"&&define.amd?define(["../modules/infragistics.ui.combo","knockout"],n):n(jQuery,ko)}(function(n,t){function i(n,i){var o=n.igCombo("option","valueKey"),s=n.igCombo("option","allowCustomValue"),e=[],u,r,f;if(i=t.utils.unwrapObservable(i),i){if(s&&!i.length)return;for(u=0;u<i.length;u++)r=i[u],typeof r=="function"&&(r=r()),f=typeof r=="object"?r[o]:r,e.push(f);n.igCombo("value",e)}}function r(n){var u=n().combo,f=u.igCombo("listItems"),e=n().options,r=t.utils.unwrapObservable(n().dataSource),i;if(r)for(i=0;i<r.length;i++)t.isObservable(r[i])&&t.applyBindingsToNode(f[i],{igComboItem:{combo:u,value:r[i],index:i,options:e}},r[i])}t.bindingHandlers.igCombo={init:function(i,r){var u=n(i),f=r(),e=f.dataSource,o=f.selectedItems,s;u.igCombo(f),t.applyBindingsToNode(i,{igComboSelection:{selectedItems:o}},o),t.isObservable(e)&&(s=e.subscribe(function(){u.data("dataSourceUpdating",!0)}),t.utils.domNodeDisposal.addDisposeCallback(i,function(){s.dispose()})),t.applyBindingsToNode(u.data("igCombo")._options.$dropDownCont[0],{igComboList:{combo:u,options:f,dataSource:e,selectedItems:o}},e),t.utils.registerEventHandler(i,"igcomboselectionchanged",function(n,i){var v=i.owner.options.valueKey,u=i.items,f=r().selectedItems,e=r().selectedItemType,l=[],a,o,h,s,c;if(u&&f&&t.isObservable(f))for(f=t.utils.unwrapObservable(f),e||(f.length>0?(h=f[0],typeof h=="function"&&(h=h()),e=typeof h=="object"?"object":"primitive"):e="primitive"),u=typeof u=="function"?u():u,c=0;c<u.length;c++)a=u[c],o=a.data,typeof o=="function"&&(o=o()),e==="object"?s=o:e==="primitive"&&(s=o[v]),typeof s=="function"&&(s=s()),l.push(s);t.isObservable(r().selectedItems)&&r().selectedItems(l)})}},t.bindingHandlers.igComboSelection={update:function(t,r){i(n(t),r().selectedItems)}},t.bindingHandlers.igComboList={init:function(n,t){r(t)},update:function(u,f){var e=n(f().combo),s=f().options,h=t.utils.unwrapObservable(f().dataSource),o=e.data("igCombo")._options.$dropDownScrollCont,c=o?o.scrollTop():0;if(!!e.data("dataSourceUpdating")){e.removeData("dataSourceUpdating");e.one("igcomboitemsrendered",function(){r(f),i(e,f().selectedItems)});e.igCombo("option","dataSource",h),s.virtualization&&o.scrollTop(c-1)}}},t.bindingHandlers.igComboItem={update:function(t,i){var r=i().combo,o=i().options.textKey,s=i().options.valueKey,u,f,e;(s!==undefined||o!==undefined)&&(f=i().index,e=i().value,u=n(r.igCombo("dropDown").find("li").eq(f)),r.data("igCombo")._updateItem(u,e),r.data("igCombo")._updateInputValues())}},t.bindingHandlers.igComboVisible={update:function(i,r){var u=r(),f=n(i);t.isObservable(u)&&f.igCombo("comboWrapper").css("display",u()?"inline-block":"none")}},t.bindingHandlers.igComboDisable={update:function(i,r){var u=r(),f=n(i);t.isObservable(u)&&f.igCombo("option","disabled",u())}}}),function(n){typeof define=="function"&&define.amd?define(["jquery","knockout","../modules/infragistics.ui.chart"],n):n(jQuery,ko)}(function(n,t){t.bindingHandlers.igDataChart={init:function(i,r){var u=n.extend(!0,{},t.utils.unwrapObservable(r())),f,e,h,c,o,s;for(h=function(r,f){var s=u.dataSource,h,o;h=n(i).find("#rootElem"),o=n("<li><ul><\/ul><\/li>"),f===0?h.prepend(o):f===s.length-1?h.append(o):n(n(h).children()[f]).before(o),n(i).igDataChart("notifyInsertItem",u.dataSource,f,r),t.applyBindingsToNode(o[0],{igDataChartRecord:{value:s[f],chartInstance:n(i),dataSourceInstance:s}},s[e])},c=function(t,r){var e=u.dataSource,f;f=n(i).find("#rootElem"),r===0?n(f).children().first().remove():r===e.length?n(f).children().last().remove():n(n(f).children()[r]).remove(),n(i).igDataChart("notifyRemoveItem",u.dataSource,r,t)},t.isObservable(u.dataSource)?(f=u.dataSource(),u.dataSource.subscribeArrayChanged(h,c),u.dataSource=t.utils.unwrapObservable(u.dataSource)):f=u.dataSource,u.expectFunctions!==!0&&(u.expectFunctions=!0),n(i).igDataChart(u),o=n("<ul id='rootElem'><\/ul>"),n("<div style='display: none !important'><\/div>").appendTo(i).append(o),e=0;e<f.length;e++)s=n("<li><ul><\/ul><\/li>"),o.append(s),t.applyBindingsToNode(s[0],{igDataChartRecord:{value:f[e],chartInstance:n(i),dataSourceInstance:f}},f[e]);t.utils.domNodeDisposal.addDisposeCallback(i,function(){n(i).igDataChart("destroy")})}},t.bindingHandlers.igDataChartRecord={init:function(i,r){var o=r(),u,e,f=o.value;for(u in f)f.hasOwnProperty(u)&&t.isObservable(f[u])&&(e=n("<li class='property'><\/li>"),n(i).find("ul").append(e),t.applyBindingsToNode(e[0],{igDataChartItem:{value:f[u],chartInstance:r().chartInstance,dataSourceInstance:r().dataSourceInstance}},f[u]))}},t.bindingHandlers.igDataChartItem={update:function(t,i){var e,r,u,f;f=n(t).parent().parent().index(),r=i().dataSourceInstance,e=i().chartInstance,u=r[f],n(e).igDataChart("notifySetItem",r,f,u,u)}},t.observableArray.fn.subscribeArrayChanged=function(n,i){var r=null;this.subscribe(function(n){r===null&&(r=n.slice(0))},undefined,"beforeChange"),this.subscribe(function(u){for(var e=t.utils.compareArrays(r,u,!0),f=0;f<e.length;f++)switch(e[f].status){case"deleted":i&&(i(e[f].value,e[f].index),r.splice(e[f].index,1));break;case"added":n&&(n(u[f],e[f].index),r.splice(e[f].index,0,u[f]))}})}}),function(n){typeof define=="function"&&define.amd?define(["../modules/infragistics.ui.editors","knockout"],n):n(jQuery,ko)}(function(n,t){function i(t,i,r,u,f){f===undefined&&(f="value");var s=new RegExp(i+"\\s*:\\s*(?:{.*,?\\s*"+f+"\\s*:\\s*)?([^{},\\s]+)"),e,o=n(t).attr("data-bind").match(s);o&&(e=o[1],r.hasOwnProperty(e)&&(r[e]=u))}t.bindingHandlers.igTextEditor={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.value=t.utils.unwrapObservable(o.value),s.igTextEditor(o),o.updateMode===undefined)o.updateMode="onChange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);o.updateMode.toLowerCase()==="onchange"?s.bind("igtexteditorvaluechanged",function(n,f){t.isObservable(u().value)?u().value(f.newValue):i(r,"igTextEditor",e,f.newValue)}):(s.bind("igtexteditortextchanged",function(n,f){s.data("igTextEditor")._doNotUpdate=!0,t.isObservable(u().value)?u().value(f.text):i(r,"igTextEditor",e,f.text)}),o.listItems!==undefined&&s.bind("igtexteditordropdownitemselecting",function(n,f){t.isObservable(u().value)&&f.item!==undefined?u().value(f.item.innerText):f.item!==undefined&&i(r,"igTextEditor",e,f.item.innerText)})),t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igTextEditor("destroy")})},update:function(i,r){var f,e,u=n(i);f=t.utils.unwrapObservable(r().value),e=u.igTextEditor("value"),e===f||u.data("igTextEditor")._doNotUpdate||u.igTextEditor("value",f),delete u.data("igTextEditor")._doNotUpdate}},t.bindingHandlers.igDatePicker={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.value=t.utils.unwrapObservable(o.value),s.igDatePicker(o),o.updateMode===undefined)o.updateMode="onchange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);if(o.updateMode.toLowerCase()==="onchange")s.bind("igdatepickervaluechanged",function(n,f){t.isObservable(u().value)?u().value(f.owner.value()):i(r,"igDatePicker",e,f.owner.value())});else throw new Error(n.ig.Editor.locale.updateModeNotSupported);t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igDatePicker("destroy")})},update:function(i,r){var u,e,o=n(i),s,f;u=t.utils.unwrapObservable(r().value),u===null||u===undefined||u===""?o.igDatePicker("value",u):(u=u.toString().replace(/_(\d)/g,"$1"),s=Date.parse(u),u.toString().indexOf("/Date(")===0?(u=new Date(parseInt(u.replace(/\/Date\((.*?)\)\//gi,"$1"),10)),u.toString()==="Invalid Date"&&(u=undefined)):isNaN(s)&&(f=new Date(u),f&&isNaN(f)&&f.toString()!=="Invalid Date"&&(f=n.ig.util.dateFromISO(u)),u=f,u.toString()==="Invalid Date"&&(u=undefined)),e=o.igDatePicker("value"),e=Date.parse(e),e!==s&&(u!==undefined&&u!==o.igDatePicker("displayValue")&&(u=new Date(u)),o.igDatePicker("value",u)))}},t.bindingHandlers.igDateEditor={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.value=t.utils.unwrapObservable(o.value),s.igDateEditor(o),o.updateMode===undefined)o.updateMode="onchange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);if(o.updateMode.toLowerCase()==="onchange")s.bind("igdateeditorvaluechanged",function(n,f){t.isObservable(u().value)?u().value(f.owner.value()):i(r,"igDateEditor",e,f.owner.value())});else throw new Error(n.ig.Editor.locale.updateModeNotSupported);t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igDateEditor("destroy")})},update:function(i,r){var u,e,o=n(i),s,f;u=t.utils.unwrapObservable(r().value),u===null||u===undefined||u===""?o.igDateEditor("value",u):(u=String(u).replace(/_(\d)/g,"$1"),s=Date.parse(u),u.toString().indexOf("/Date(")===0?(u=new Date(parseInt(u.replace(/\/Date\((.*?)\)\//gi,"$1"),10)),u.toString()==="Invalid Date"&&(u=undefined)):isNaN(s)&&(f=new Date(u),f&&isNaN(f)&&f.toString()!=="Invalid Date"&&(f=n.ig.util.dateFromISO(u)),u=f,u.toString()==="Invalid Date"&&(u=undefined)),e=o.igDateEditor("value"),e=Date.parse(e),e!==s&&(u!==undefined&&u!==o.igDateEditor("displayValue")&&(u=new Date(u)),o.igDateEditor("value",u)))}},t.bindingHandlers.igNumericEditor={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.value=t.utils.unwrapObservable(o.value),s.igNumericEditor(o),o.updateMode===undefined)o.updateMode="onchange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);o.updateMode.toLowerCase()==="onchange"?s.bind("ignumericeditorvaluechanged",function(n,f){t.isObservable(u().value)?u().value(f.newValue):i(r,"igNumericEditor",e,f.newValue)}):s.bind("ignumericeditortextchanged",function(n,f){f.owner._processValueChanging(f.text),s.data("igNumericEditor")._doNotUpdate=!0,t.isObservable(u().value)?u().value(f.owner.value()):i(r,"igNumericEditor",e,f.owner.value())}),t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igNumericEditor("destroy")})},update:function(i,r){var u,e,f=n(i);u=t.utils.unwrapObservable(r().value),u!==""&&u!==null&&(u=isNaN(u)?undefined:parseFloat(u)),e=f.igNumericEditor("value"),e===u||f.data("igNumericEditor")._doNotUpdate||f.igNumericEditor("value",u),delete f.data("igNumericEditor")._doNotUpdate}},t.bindingHandlers.igCurrencyEditor={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.value=t.utils.unwrapObservable(o.value),s.igCurrencyEditor(o),o.updateMode===undefined)o.updateMode="onchange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);o.updateMode.toLowerCase()==="onchange"?s.bind("igcurrencyeditorvaluechanged",function(n,f){t.isObservable(u().value)?u().value(f.newValue):i(r,"igCurrencyEditor",e,f.newValue)}):s.bind("igcurrencyeditortextchanged",function(n,f){f.owner._processValueChanging(f.text),s.data("igCurrencyEditor")._doNotUpdate=!0,t.isObservable(u().value)?u().value(f.owner.value()):i(r,"igCurrencyEditor",e,f.owner.value())}),t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igCurrencyEditor("destroy")})},update:function(i,r){var u,e,f=n(i);u=t.utils.unwrapObservable(r().value),u!==""&&u!==null&&(u=isNaN(u)?undefined:parseFloat(u)),e=f.igCurrencyEditor("value"),e===u||f.data("igCurrencyEditor")._doNotUpdate||f.igCurrencyEditor("value",u),delete f.data("igCurrencyEditor")._doNotUpdate}},t.bindingHandlers.igPercentEditor={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.value=t.utils.unwrapObservable(o.value),s.igPercentEditor(o),o.updateMode===undefined)o.updateMode="onChange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);o.updateMode.toLowerCase()==="onchange"?s.bind("igpercenteditorvaluechanged",function(n,f){t.isObservable(u().value)?u().value(f.newValue):i(r,"igPercentEditor",e,f.newValue)}):s.bind("igpercenteditortextchanged",function(n,f){f.owner._processValueChanging(f.text),s.data("igPercentEditor")._doNotUpdate=!0,t.isObservable(u().value)?u().value(f.owner.value()):i(r,"igPercentEditor",e,f.owner.value())}),t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igPercentEditor("destroy")})},update:function(i,r){var u,e,f=n(i);u=t.utils.unwrapObservable(r().value),u!==""&&u!==null&&(u=isNaN(u)?undefined:parseFloat(u)),e=f.igPercentEditor("value"),e===u||f.data("igPercentEditor")._doNotUpdate||f.igPercentEditor("value",u),delete f.data("igPercentEditor")._doNotUpdate}},t.bindingHandlers.igMaskEditor={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.value=t.utils.unwrapObservable(o.value),s.igMaskEditor(o),o.updateMode===undefined)o.updateMode="onChange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);if(o.updateMode.toLowerCase()==="onchange")s.bind("igmaskeditorvaluechanged",function(n,f){t.isObservable(u().value)?u().value(f.newValue):i(r,"igMaskEditor",e,f.newValue)});else throw new Error(n.ig.Editor.locale.updateModeNotSupported);t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igMaskEditor("destroy")})},update:function(i,r){var u,f,e=n(i);u=t.utils.unwrapObservable(r().value),f=e.igMaskEditor("value"),f!==u&&e.igMaskEditor("value",u)}},t.bindingHandlers.igCheckboxEditor={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.checked=t.utils.unwrapObservable(o.checked),s.igCheckboxEditor(o),o.updateMode===undefined)o.updateMode="onchange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);s.bind("igcheckboxeditorvaluechanged",function(n,f){t.isObservable(u().checked)?u().checked(f.newState):i(r,"igCheckboxEditor",e,f.newState,"checked")}),t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igCheckboxEditor("destroy")})},update:function(i,r){var u,f,e=n(i);if(t.isObservable(r().checked))u=t.utils.unwrapObservable(r().checked());else return;f=e.igCheckboxEditor("option","checked"),f!==u&&e.igCheckboxEditor("option","checked",u)}},t.bindingHandlers.igTimePicker={init:function(r,u,f,e){var s=n(r),o;if(o=n.extend({},u()),o.value=t.utils.unwrapObservable(o.value),s.igTimePicker(o),o.updateMode===undefined)o.updateMode="onchange";else if(o.updateMode.toLowerCase()!=="onchange"&&o.updateMode.toLowerCase()!=="immediate")throw new Error(n.ig.Editor.locale.updateModeUnsupportedValue);if(o.updateMode.toLowerCase()==="onchange")s.bind("igtimepickervaluechanged",function(n,f){t.isObservable(u().value)?u().value(f.owner.value()):i(r,"igTimePicker",e,f.owner.value())});else throw new Error(n.ig.Editor.locale.updateModeNotSupported);t.utils.domNodeDisposal.addDisposeCallback(r,function(){n(r).igTimePicker("destroy")})},update:function(i,r){var u,o,f=n(i),e;u=t.utils.unwrapObservable(r().value),u===null||u===undefined||u===""?f.igTimePicker("value",u):(o=f.igTimePicker("value"),e=new Date(u),o!==e&&f.igTimePicker("value",e))}},t.bindingHandlers.igEditorDisable={update:function(i,r){var u=r(),e=n(i),o=["igTextEditor","igNumericEditor","igPercentEditor","igCurrencyEditor","igMaskEditor","igDateEditor","igDatePicker","igCheckboxEditor","igTimePicker"],f;u=t.utils.unwrapObservable(u);for(f in e.data())if(n.inArray(f,o)!==-1){e[f]("option","disabled",u);break}}}}),function(n){typeof define=="function"&&define.amd?define(["../modules/infragistics.ui.grid.framework","knockout"],n):n(jQuery,ko)}(function(n,t){t.bindingHandlers.igGrid={init:function(i,r){var u=n(i),s=u.data("igGrid"),f,e,o;if(u.attr("data-create")!=="false"){f=t.utils.unwrapObservable(r()),e={},e.dataSource=new n.ig.KnockoutDataSource({dataSource:f.dataSource});for(o in f)f.hasOwnProperty(o)&&o!=="dataSource"&&(e[o]=f[o])}else f=e=s.options;return u.igGridKnockoutBridge(),u.attr("data-create")!=="false"?u.igGrid(e):u.igGridKnockoutBridge("rebindCells"),{controlsDescendantBindings:!0}},update:function(t,i){n(t).igGridKnockoutBridge("recordsUpdated",i)}},t.visitPropertiesOrArrayEntries=function(n,t){var i,r;if(n instanceof Array)for(i=0;i<n.length;i++)t(i);else for(r in n)n.hasOwnProperty(r)&&t(r)},t.bindingHandlers.igHierarchicalGrid={init:function(i,r){var o=n(i),u,f,s,h,e;u=t.utils.unwrapObservable(r()),f={},s=t.isObservable(u.dataSource)?u.dataSource():u.dataSource,s instanceof n.ig.DataSource&&(s=s.data()),f.dataSource=new n.ig.KnockoutDataSource({dataSource:u.dataSource});for(e in u)u.hasOwnProperty(e)&&e!=="dataSource"&&(f[e]=u[e]);o.igGridKnockoutBridge(),o.igHierarchicalGrid(f),o.data("observableDataSource",f.dataSource),h=function(i,r){var e,u=r.options,f;r.element.data("igGrid")||(e=r.owner.element.data("observableDataSource"),f=e.dataAt(r.id,r.path),u.dataSource=new n.ig.KnockoutDataSource({primaryKey:u.primaryKey,dataSource:u.dataSource,observableDataSource:f,responseDataKey:u.responseDataKey}),r.element.igGridKnockoutBridge(),r.element.igGrid(u),r.element.attr("data-path",r.path),r.element.attr("data-ids",r.id),u=r.element.data("igGrid").options,r.element.attr("data-create",!1),t.applyBindingsToNode(r.element[0],{igGrid:{}},f))};o.on("igchildgridcreating","table",h);return{controlsDescendantBindings:!0}},update:t.bindingHandlers.igGrid.update},t.bindingHandlers.igCell={update:function(i,r,u,f){var o=n(i),e=o.closest(".ui-iggrid-table");e.attr("id").endsWith("_fixed")&&(e=e.closest(".ui-iggrid").find("[data-bind]:first")),e.igGridKnockoutBridge("cellUpdated",o,typeof r=="function"?r():r,f!==null&&t.isObservable(f.$data)?f.$data():f)}},n.widget("ui.igGridKnockoutBridge",{options:{parent:null},_create:function(){this.options.parent||(this.options.parent=this.element.data("igGrid")),this._createHandlers(),this._bridgeGrid(this.element)},destroy:function(){var t=this._rebindCellsHandler;return this.options.parent.renderNewRow=this._renderNewRowDefault,this._grb&&(this._grb._renderNewRow=this._renderNewRowGroupBy),this.element.unbind({iggridrendering:this._gridRenderingHandler,iggridrendered:this._gridRenderedHandler,iggriddatarendered:t,iggridvirtualrecordsrender:t,iggridcolumnscollectionmodified:t}),n.Widget.prototype.destroy.apply(this,arguments),this},renderNewRow:function(n,t){this._renderNewRowDefault.apply(this.options.parent,[n,t]),this._rebindCells(t)},_renderNewRowGroupByKo:function(n,t){this._renderNewRowGroupBy.apply(this._grb,[n,t]),this._rebindCells(t)},rebindCells:function(n){this._rebindCells(n)},_gridRendering:function(t,i){this.options.parent&&this.options.parent.id()!==i.owner.id()||(this.options.parent=i.owner,this.renderNewRow!==i.owner.renderNewRow&&(this._renderNewRowDefault=i.owner.renderNewRow,i.owner.renderNewRow=n.proxy(this.renderNewRow,this)))},_gridRendered:function(t,i){var r=n(i.owner.element).data("igGridGroupBy")||n("#"+i.owner.id()).data("igGridGroupBy");r&&this._renderNewRowGroupByKo!==r._renderNewRow&&(this._renderNewRowGroupBy=r._renderNewRow,r._renderNewRow=n.proxy(this._renderNewRowGroupByKo,this),this._grb=r)},_rebindCells:function(i){var u,r=this.options.parent,f=this.options.parent.element,s=f.data("igGridPaging")?f.data("igGridPaging").pageIndex():0,h=f.data("igGridPaging")?f.data("igGridPaging").pageSize():0,c=s*h,e=r.options,l=n.type(i)==="number"||n.type(i)==="string"?"[data-id='"+i+"']":"",o;u=t.isObservable(r.dataSource.kods)?r.dataSource.kods():t.isObservable(r.dataSource.kods[r.options.responseDataKey])?r.dataSource.kods[r.options.responseDataKey]():r.dataSource.dataSource(),e.rowVirtualization||e.virtualization||(r._startRowIndex=c),o=f.hasClass("ui-iggrid-responsive-vertical")?this._bindingFunctionResponsiveVerticalColumns(u,r,e):this._bindingFunctionDefault(u,r,e),r.element.children("tbody").children("tr[data-grouprow!=true][data-container!=true]"+l).filter(function(){return this.style.visibility!=="hidden"}).map(o)},_bindingFunctionDefault:function(i,r,u){return function(f){var a=n(this).attr("data-id"),o,e,c,v,y,p,s,l,h;for(f=0;f<i.length;f++)if(o=i[f][r.options.primaryKey],t.isObservable(o)&&(o=o()),String(o)===String(a)){l=i[f];break}if(l){for(y=n(this).children("td[data-parent!=true][data-parent!=false][data-skip!=true]"),p=n(this).closest(".ui-iggrid").find(".ui-iggrid-fixedcontainer tbody>tr[data-id='"+a+"']").children("td[data-parent!=true][data-parent!=false][data-skip!=true]"),c=0,v=0,e=0;e<u.columns.length;e++)if(!u.columns[e].hidden){if(u.columns[e].unbound){c++;continue}s=l[u.columns[e].key],h=u.columns[e].fixed?p[v++]:y[c++],t.isObservable(s)&&(t.hasOwnProperty("applyBindingAccessorsToNode")?t.applyBindingAccessorsToNode(h,{igCell:{value:u.columns[e]}},{$data:s}):t.applyBindingsToNode(h,{igCell:{value:u.columns[e]}},s))}}else n(this).remove()}},_bindingFunctionResponsiveVerticalColumns:function(i,r,u){return function(f){var v=n(this).attr("data-id"),o,e,a,s,h,c,l;for(f=0;f<i.length;f++)if(o=i[f][r.options.primaryKey],t.isObservable(o)&&(o=o()),String(o)===String(v)){h=i[f];break}if(h){for(a=n(this).children("td[data-parent!=true][data-parent!=false][data-skip!=true]"),e=0;e<u.columns.length;e++)if((l=n(this).data("col-key"),u.columns[e].key===l)&&(s=h[l],t.isObservable(s))){c=a[1],t.hasOwnProperty("applyBindingAccessorsToNode")?t.applyBindingAccessorsToNode(c,{igCell:{value:u.columns[e]}},{$data:s}):t.applyBindingsToNode(c,{igCell:{value:u.columns[e]}},s);break}}else n(this).remove()}},recordsUpdated:function(i){var r=this.options.parent,f,c,h=n(this.options.parent.element).data("igGridUpdating")||n("#"+r.id()).data("igGridUpdating"),e,u,s,o,l=r.options.autoCommit;if(f=i().dataSource,f?r.dataSource.kods=f:f=r.options.responseDataKey?r.dataSource.kods[r.options.responseDataKey]:r.dataSource.kods,c=r.dataSource._knockoutState,r.dataSource._knockoutState=n.extend([],f()),c){if(h===null||h===undefined)throw new Error("two-way adding and deleting of rows with KnockoutJS requires the Updating feature to be defined");if(typeof f=="function"&&!r.dataSource._ownUpdate){for(s=t.utils.compareArrays(c,f()),e=0;e<s.length;e++)o=s[e],o.status==="deleted"&&(r.dataSource._koUpdate=!0,u=o.value[r.options.primaryKey],u=t.isObservable(u)?u():u,r.options.autoCommit=!0,h.deleteRow(u),r.options.autoCommit=l);for(e=0;e<s.length;e++)o=s[e],o.status==="added"&&(u=o.value[r.options.primaryKey],u=t.isObservable(u)?u():u,r.dataSource._koUpdate=!0,r.options.autoCommit=!0,h.addRow(t.toJS(o.value)),r.options.autoCommit=l)}r.dataSource._ownUpdate=!1}},cellUpdated:function(t,i,r){var u=this.options.parent,f,a,e,o,h,c,y,p,v,s,l;if(f=i.value.key,o=t.closest("tr"),y=u.columnByKey(u.options.primaryKey),o.attr("data-id")!==null&&o.attr("data-id")!==undefined)y.dataType==="number"||y.dataType===undefined?(c=parseInt(o.attr("data-id"),10),f===u.options.primaryKey&&(r=parseInt(r,10))):c=o.attr("data-id"),s=u.dataSource.settings.localSchemaTransform?u.dataSource._origDs:null,h=u.dataSource.findRecordByKey(c),s&&s!==u.dataSource._data&&(l=u.dataSource.findRecordByKey(c,s)),h===null&&(h=u.dataSource.findRecordByKey(r),s&&s!==u.dataSource._data&&(l=u.dataSource.findRecordByKey(c,s))),f===u.options.primaryKey&&(o.attr("data-id",r),o.data().id=r),h[f]=r,l&&(l[f]=r);else throw new Error("Updating the data source requires a primary key to be defined");v=u.columnByKey(f),v&&v.template&&v.template.length>0?(a=l||{},a.hasOwnProperty(f)||(a[f]=r),e=u._renderTemplatedCell(a,i.value),e&&e.startsWith("<td")&&(e=n(e).html())):e=u._renderCell(r,i.value,h),p=t.children(".ui-iggrid-editor").detach(),t.html(e),p.length>0&&t.prepend(p),u.dataSource._ownUpdate=!1},_bridgeGrid:function(n){var t=this._rebindCellsHandler;n.bind({iggridrendering:this._gridRenderingHandler,iggridrendered:this._gridRenderedHandler,iggriddatarendered:t,iggridvirtualrecordsrender:t,iggridcolumnscollectionmodified:t,iggridcolumnfixingcolumnfixed:t})},_createHandlers:function(){this._rebindCellsHandler=n.proxy(this._rebindCells,this),this._gridRenderingHandler=n.proxy(this._gridRendering,this),this._gridRenderedHandler=n.proxy(this._gridRendered,this)}})}),function(n){typeof define=="function"&&define.amd?define(["../modules/infragistics.ui.tree","knockout"],n):n(jQuery,ko)}(function(n,t){t.bindingHandlers.igTree={init:function(i,r){var u=n.extend(!0,{},t.utils.unwrapObservable(r())),f=u.dataSource,e,o;return e=function(r,e){e.element.attr("data-path").split(e.owner.options.pathSeparator).length<=1&&(f.valueHasMutated(),n(i).find(".ui-igtree-noderoot").each(function(n,i){t.applyBindingsToNode(i,{igTreeNode:{value:f()[n],bindings:u.bindings}},f()[n])}))},o=function(){f.valueHasMutated()},u.dataSource=t.utils.unwrapObservable(u.dataSource),u.nodeAdded=e,u.nodeDeleted=o,n(i).igTree(u),n(i).find(".ui-igtree-noderoot").each(function(n,i){t.applyBindingsToNode(i,{igTreeNode:{value:f()[n],bindings:u.bindings}},f()[n])}),t.utils.domNodeDisposal.addDisposeCallback(i,function(){n(i).igTree("destroy")}),{controlsDescendantBindings:!0}},update:function(i,r){var u=t.utils.unwrapObservable(r()),f=u.dataSource,e=n(i);u.dataSource=t.utils.unwrapObservable(u.dataSource),e.find(".ui-igtree-noderoot").length!==f().length&&(e.igTree("option","dataSource",u.dataSource),e.find(".ui-igtree-noderoot").each(function(n,i){t.applyBindingsToNode(i,{igTreeNode:{value:f()[n],bindings:u.bindings}},f()[n])}))}},t.bindingHandlers.igTreeNodeCollection={init:function(i,r){var e=r(),f=e.bindings,u=e.value,h=n(i).children("li"),o,s;o=function(r,e){e.element.attr("data-path").split(e.owner.options.pathSeparator).length>1&&n(i).children("li").each(function(n,i){t.applyBindingsToNode(i,{igTreeNode:{value:u()[n],bindings:f.bindings||f}},u()[n])})},s=function(){n(i).children("li").length!==u().length&&u.valueHasMutated()};n(i).closest(".ui-igtree").on("igtreenodeadded",o);n(i).closest(".ui-igtree").on("igtreenodedeleted",s);h.each(function(n,i){t.applyBindingsToNode(i,{igTreeNode:{value:u()[n],bindings:f.bindings||f}},u()[n])})},update:function(t,i){var u=i(),f=n(t).children("li"),r=u.value;f.length!==r().length&&(n(t).empty(),n(t).closest(".ui-igtree").igTree("addNode",r(),n(t).parent("li")))}},t.bindingHandlers.igTreeNode={init:function(i,r){var f=r(),u=f.bindings,e=f.value,o=n(i).children("ul");o.length>0&&t.applyBindingsToNode(o[0],{igTreeNodeCollection:{value:e[u.childDataProperty],bindings:u}},e[u.childDataProperty])},update:function(t,i){n(t).closest(".ui-igtree").igTree("applyChangesToNode",n(t),i().value)}}})